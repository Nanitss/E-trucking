/*! For license information please see main.b39dd136.js.LICENSE.txt */
(()=>{var e={219(e,t,r){"use strict";var n=r(3763),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return n.isMemo(e)?i:o[e.$$typeof]||a}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=i;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(m){var a=p(r);a&&a!==m&&e(t,a,n)}var i=d(r);u&&(i=i.concat(u(r)));for(var o=l(t),f=l(r),g=0;g<i.length;++g){var x=i[g];if(!s[x]&&(!n||!n[x])&&(!f||!f[x])&&(!o||!o[x])){var b=h(r,x);try{c(t,x,b)}catch(v){}}}}return t}},4983(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,o=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,x=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,y=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case s:case o:case i:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case f:case l:return e;default:return t}}case a:return t}}}function j(e){return w(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=f,t.Portal=a,t.Profiler=o,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return j(e)||w(e)===d},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===s},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===f},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===o},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===u||e===o||e===i||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===v||e.$$typeof===y||e.$$typeof===x)},t.typeOf=w},3763(e,t,r){"use strict";e.exports=r(4983)},1141(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},8123(e,t,r){var n=r(1141);e.exports=f,e.exports.parse=s,e.exports.compile=function(e,t){return c(s(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=m;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var r,n=[],s=0,o=0,l="",c=t&&t.delimiter||"/";null!=(r=a.exec(e));){var d=r[0],h=r[1],p=r.index;if(l+=e.slice(o,p),o=p+d.length,h)l+=h[1];else{var m=e[o],f=r[2],g=r[3],x=r[4],b=r[5],v=r[6],y=r[7];l&&(n.push(l),l="");var w=null!=f&&null!=m&&m!==f,j="+"===v||"*"===v,N="?"===v||"*"===v,k=f||c,S=x||b,C=f||("string"===typeof n[n.length-1]?n[n.length-1]:"");n.push({name:g||s++,prefix:f||"",delimiter:k,optional:N,repeat:j,partial:w,asterisk:!!y,pattern:S?u(S):y?".*":i(k,C)})}}return o<e.length&&(l+=e.substr(o)),l&&n.push(l),n}function i(e,t){return!t||t.indexOf(e)>-1?"[^"+d(e)+"]+?":d(t)+"|(?:(?!"+d(t)+")[^"+d(e)+"])+?"}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e,t){for(var r=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(r[a]=new RegExp("^(?:"+e[a].pattern+")$",p(t)));return function(t,a){for(var s="",i=t||{},c=(a||{}).pretty?o:encodeURIComponent,d=0;d<e.length;d++){var u=e[d];if("string"!==typeof u){var h,p=i[u.name];if(null==p){if(u.optional){u.partial&&(s+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(n(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var m=0;m<p.length;m++){if(h=c(p[m]),!r[d].test(h))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(h)+"`");s+=(0===m?u.prefix:u.delimiter)+h}}else{if(h=u.asterisk?l(p):c(p),!r[d].test(h))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+h+'"');s+=u.prefix+h}}else s+=u}return s}}function d(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function h(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function m(e,t,r){n(t)||(r=t||r,t=[]);for(var a=(r=r||{}).strict,s=!1!==r.end,i="",o=0;o<e.length;o++){var l=e[o];if("string"===typeof l)i+=d(l);else{var c=d(l.prefix),u="(?:"+l.pattern+")";t.push(l),l.repeat&&(u+="(?:"+c+u+")*"),i+=u=l.optional?l.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")"}}var m=d(r.delimiter||"/"),f=i.slice(-m.length)===m;return a||(i=(f?i.slice(0,-m.length):i)+"(?:"+m+"(?=$))?"),i+=s?"$":a&&f?"":"(?="+m+"|$)",h(new RegExp("^"+i,p(r)),t)}function f(e,t,r){return n(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(e,t)}(e,t):n(e)?function(e,t,r){for(var n=[],a=0;a<e.length;a++)n.push(f(e[a],t,r).source);return h(new RegExp("(?:"+n.join("|")+")",p(r)),t)}(e,t,r):function(e,t,r){return m(s(e,r),t,r)}(e,t,r)}},1497(e,t,r){"use strict";var n=r(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,s,i){if(i!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return r.PropTypes=r,r}},5173(e,t,r){e.exports=r(1497)()},3218(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730(e,t,r){"use strict";var n=r(5043),a=r(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,r,n,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!u.call(m,e)||!u.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,b);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var E=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var R,F=Object.assign;function z(e){if(void 0===R)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var O=!1;function B(e,t){if(!e||O)return"";O=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{O=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=V(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var r=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function J(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Q(e,t){X(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function se(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=fe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var xe=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Se(e){if(e=va(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Ce(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Pe(e,t){return e(t)}function Ae(){}var De=!1;function Te(e,t,r){if(De)return e(t,r);De=!0;try{return Pe(e,t,r)}finally{De=!1,(null!==Ne||null!==ke)&&(Ae(),_e())}}function Le(e,t){var r=e.stateNode;if(null===r)return null;var n=wa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Ee=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Ee=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Ee=!1}function Me(e,t,r,n,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Re=!1,Fe=null,ze=!1,Oe=null,Be={onError:function(e){Re=!0,Fe=e}};function Ue(e,t,r,n,a,s,i,o,l){Re=!1,Fe=null,Me.apply(Be,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return He(a),e;if(i===n)return He(a),t;i=i.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Je=a.unstable_requestPaint,Xe=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&r;if(0!==i){var o=i&~a;0!==o?n=ut(o):0!==(s&=i)&&(n=ut(s))}else 0!==(i=r&~a)?n=ut(i):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-it(t)),n|=e[r],t&=~a;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function bt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-it(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,St,Ct=!1,_t=[],Pt=null,At=null,Dt=null,Tt=new Map,Lt=new Map,Et=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Rt(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=ba(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=We(r)))return e.blockedOn=t,void St(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=va(r))&&jt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ye=n,r.target.dispatchEvent(n),ye=null,t.shift()}return!0}function Ot(e,t,r){zt(e)&&r.delete(t)}function Bt(){Ct=!1,null!==Pt&&zt(Pt)&&(Pt=null),null!==At&&zt(At)&&(At=null),null!==Dt&&zt(Dt)&&(Dt=null),Tt.forEach(Ot),Lt.forEach(Ot)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var r=1;r<_t.length;r++){var n=_t[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Pt&&Ut(Pt,e),null!==At&&Ut(At,e),null!==Dt&&Ut(Dt,e),Tt.forEach(t),Lt.forEach(t),r=0;r<Et.length;r++)(n=Et[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Et.length&&null===(r=Et[0]).blockedOn;)Ft(r),null===r.blockedOn&&Et.shift()}var Wt=y.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,r,n){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=1,Gt(e,t,r,n)}finally{vt=a,Wt.transition=s}}function Kt(e,t,r,n){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=4,Gt(e,t,r,n)}finally{vt=a,Wt.transition=s}}function Gt(e,t,r,n){if(Ht){var a=$t(e,t,r,n);if(null===a)Hn(e,t,n,Yt,r),Mt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Pt=Rt(Pt,e,t,r,n,a),!0;case"dragenter":return At=Rt(At,e,t,r,n,a),!0;case"mouseover":return Dt=Rt(Dt,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Tt.set(s,Rt(Tt.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Lt.set(s,Rt(Lt.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Mt(e,n),4&t&&-1<It.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&wt(s),null===(s=$t(e,t,r,n))&&Hn(e,t,n,Yt,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Yt=null;function $t(e,t,r,n){if(Yt=null,null!==(e=ba(e=we(n))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Qt,n=r.length,a="value"in Xt?Xt.value:Xt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,s){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,ir,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),dr=F({},lr,{view:0,detail:0}),ur=ar(dr),hr=F({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(sr=e.screenX-or.screenX,ir=e.screenY-or.screenY):ir=sr=0,or=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),pr=ar(hr),mr=ar(F({},hr,{dataTransfer:0})),fr=ar(F({},dr,{relatedTarget:0})),gr=ar(F({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),xr=F({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=ar(xr),vr=ar(F({},lr,{data:0})),yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function kr(){return Nr}var Sr=F({},dr,{key:function(e){if(e.key){var t=yr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=ar(Sr),_r=ar(F({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pr=ar(F({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Ar=ar(F({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dr=F({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tr=ar(Dr),Lr=[9,13,27,32],Er=d&&"CompositionEvent"in window,Ir=null;d&&"documentMode"in document&&(Ir=document.documentMode);var Mr=d&&"TextEvent"in window&&!Ir,Rr=d&&(!Er||Ir&&8<Ir&&11>=Ir),Fr=String.fromCharCode(32),zr=!1;function Or(e,t){switch(e){case"keyup":return-1!==Lr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Hr(e,t,r,n){Ce(n),0<(t=Kn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vr=null,Kr=null;function Gr(e){zn(e,0)}function Yr(e){if(G(ya(e)))return e}function $r(e,t){if("change"===e)return t}var Jr=!1;if(d){var Xr;if(d){var Qr="oninput"in document;if(!Qr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Qr="function"===typeof Zr.oninput}Xr=Qr}else Xr=!1;Jr=Xr&&(!document.documentMode||9<document.documentMode)}function en(){Vr&&(Vr.detachEvent("onpropertychange",tn),Kr=Vr=null)}function tn(e){if("value"===e.propertyName&&Yr(Kr)){var t=[];Hr(t,Kr,e,we(e)),Te(Gr,t)}}function rn(e,t,r){"focusin"===e?(en(),Kr=r,(Vr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(Kr)}function an(e,t){if("click"===e)return Yr(t)}function sn(e,t){if("input"===e||"change"===e)return Yr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!u.call(t,a)||!on(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&pn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=dn(r,s);var i=dn(r,n);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,xn=null,bn=null,vn=!1;function yn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;vn||null==gn||gn!==Y(n)||("selectionStart"in(n=gn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&ln(bn,n)||(bn=n,0<(n=Kn(xn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Nn={},kn={};function Sn(e){if(Nn[e])return Nn[e];if(!jn[e])return e;var t,r=jn[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return Nn[e]=r[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var Cn=Sn("animationend"),_n=Sn("animationiteration"),Pn=Sn("animationstart"),An=Sn("transitionend"),Dn=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){Dn.set(e,t),l(t,[e])}for(var En=0;En<Tn.length;En++){var In=Tn[En];Ln(In.toLowerCase(),"on"+(In[0].toUpperCase()+In.slice(1)))}Ln(Cn,"onAnimationEnd"),Ln(_n,"onAnimationIteration"),Ln(Pn,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(An,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function Fn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,i,o,l,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(s(198));var d=Fe;Re=!1,Fe=null,ze||(ze=!0,Oe=d)}}(n,t,void 0,e),e.currentTarget=null}function zn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Fn(a,o,c),s=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Fn(a,o,c),s=l}}}if(ze)throw e=Oe,ze=!1,Oe=null,e}function On(e,t){var r=t[fa];void 0===r&&(r=t[fa]=new Set);var n=e+"__bubble";r.has(n)||(Wn(t,e,2,!1),r.add(n))}function Bn(e,t,r){var n=0;t&&(n|=4),Wn(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Un]){e[Un]=!0,i.forEach(function(t){"selectionchange"!==t&&(Rn.has(t)||Bn(t,!1,e),Bn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Un]||(t[Un]=!0,Bn("selectionchange",!1,t))}}function Wn(e,t,r,n){switch(Jt(t)){case 1:var a=Vt;break;case 4:a=Kt;break;default:a=Gt}r=a.bind(null,t,r,e),a=void 0,!Ee||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=ba(o)))return;if(5===(l=i.tag)||6===l){n=s=i;continue e}o=o.parentNode}}n=n.return}Te(function(){var n=s,a=we(r),i=[];e:{var o=Dn.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Cr;break;case"focusin":c="focus",l=fr;break;case"focusout":c="blur",l=fr;break;case"beforeblur":case"afterblur":l=fr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pr;break;case Cn:case _n:case Pn:l=gr;break;case An:l=Ar;break;case"scroll":l=ur;break;case"wheel":l=Tr;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_r}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=n;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Le(m,h))&&d.push(Vn(m,f,p)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,r,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===ye||!(c=r.relatedTarget||r.fromElement)||!ba(c)&&!c[ma])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?ba(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=pr,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=_r,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:ya(l),p=null==c?o:ya(c),(o=new d(f,m+"leave",l,r,a)).target=u,o.relatedTarget=p,f=null,ba(a)===n&&((d=new d(h,m+"enter",c,r,a)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Gn(p))m++;for(p=0,f=h;f;f=Gn(f))p++;for(;0<m-p;)d=Gn(d),m--;for(;0<p-m;)h=Gn(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Gn(d),h=Gn(h)}d=null}else d=null;null!==l&&Yn(i,o,l,d,!1),null!==c&&null!==u&&Yn(i,u,c,d,!0)}if("select"===(l=(o=n?ya(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=$r;else if(Wr(o))if(Jr)g=sn;else{g=nn;var x=rn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=an);switch(g&&(g=g(e,n))?Hr(i,g,r,a):(x&&x(e,o,n),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=n?ya(n):window,e){case"focusin":(Wr(x)||"true"===x.contentEditable)&&(gn=x,xn=n,bn=null);break;case"focusout":bn=xn=gn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,yn(i,r,a);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":yn(i,r,a)}var b;if(Er)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ur?Or(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Rr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ur&&(b=er()):(Qt="value"in(Xt=a)?Xt.value:Xt.textContent,Ur=!0)),0<(x=Kn(n,v)).length&&(v=new vr(v,e,null,r,a),i.push({event:v,listeners:x}),b?v.data=b:null!==(b=Br(r))&&(v.data=b))),(b=Mr?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(zr=!0,Fr);case"textInput":return(e=t.data)===Fr&&zr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Er&&Or(e,t)?(e=er(),Zt=Qt=Xt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Kn(n,"onBeforeInput")).length&&(a=new vr("onBeforeInput","beforeinput",null,r,a),i.push({event:a,listeners:n}),a.data=b))}zn(i,t)})}function Vn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Le(e,r))&&n.unshift(Vn(e,s,a)),null!=(s=Le(e,t))&&n.push(Vn(e,s,a))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,r,n,a){for(var s=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Le(r,s))&&i.unshift(Vn(r,l,o)):a||null!=(l=Le(r,s))&&i.push(Vn(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var $n=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace($n,"\n").replace(Jn,"")}function Qn(e,t,r){if(t=Xn(t),Xn(e)!==t&&r)throw Error(s(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:na;function oa(e){setTimeout(function(){throw e})}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void qt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);qt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ha="__reactFiber$"+ua,pa="__reactProps$"+ua,ma="__reactContainer$"+ua,fa="__reactEvents$"+ua,ga="__reactListeners$"+ua,xa="__reactHandles$"+ua;function ba(e){var t=e[ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ma]||r[ha]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=da(e);null!==e;){if(r=e[ha])return r;e=da(e)}return t}r=(e=r).parentNode}return null}function va(e){return!(e=e[ha]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[pa]||null}var ja=[],Na=-1;function ka(e){return{current:e}}function Sa(e){0>Na||(e.current=ja[Na],ja[Na]=null,Na--)}function Ca(e,t){Na++,ja[Na]=e.current,e.current=t}var _a={},Pa=ka(_a),Aa=ka(!1),Da=_a;function Ta(e,t){var r=e.type.contextTypes;if(!r)return _a;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function La(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ea(){Sa(Aa),Sa(Pa)}function Ia(e,t,r){if(Pa.current!==_a)throw Error(s(168));Ca(Pa,t),Ca(Aa,r)}function Ma(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,W(e)||"Unknown",a));return F({},r,n)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Da=Pa.current,Ca(Pa,e),Ca(Aa,Aa.current),!0}function Fa(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Ma(e,t,Da),n.__reactInternalMemoizedMergedChildContext=e,Sa(Aa),Sa(Pa),Ca(Pa,e)):Sa(Aa),Ca(Aa,r)}var za=null,Oa=!1,Ba=!1;function Ua(e){null===za?za=[e]:za.push(e)}function qa(){if(!Ba&&null!==za){Ba=!0;var e=0,t=vt;try{var r=za;for(vt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}za=null,Oa=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Ge(Ze,qa),a}finally{vt=t,Ba=!1}}return null}var Wa=[],Ha=0,Va=null,Ka=0,Ga=[],Ya=0,$a=null,Ja=1,Xa="";function Qa(e,t){Wa[Ha++]=Ka,Wa[Ha++]=Va,Va=e,Ka=t}function Za(e,t,r){Ga[Ya++]=Ja,Ga[Ya++]=Xa,Ga[Ya++]=$a,$a=e;var n=Ja;e=Xa;var a=32-it(n)-1;n&=~(1<<a),r+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ja=1<<32-it(t)+a|r<<a|n,Xa=s+e}else Ja=1<<s|r<<a|n,Xa=e}function es(e){null!==e.return&&(Qa(e,1),Za(e,1,0))}function ts(e){for(;e===Va;)Va=Wa[--Ha],Wa[Ha]=null,Ka=Wa[--Ha],Wa[Ha]=null;for(;e===$a;)$a=Ga[--Ya],Ga[Ya]=null,Xa=Ga[--Ya],Ga[Ya]=null,Ja=Ga[--Ya],Ga[Ya]=null}var rs=null,ns=null,as=!1,ss=null;function is(e,t){var r=Dc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function os(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,ns=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==$a?{id:Ja,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Dc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,ns=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=ns;if(t){var r=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(r.nextSibling);var n=rs;t&&os(e,t)?is(n,r):(e.flags=-4097&e.flags|2,as=!1,rs=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ns)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ns=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ns=null}}else ns=rs?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=ns;e;)e=ca(e.nextSibling)}function ps(){ns=rs=null,as=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var fs=y.ReactCurrentBatchConfig;function gs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Rc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===N?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&bs(s)===t.type)?((n=a(t,r.props)).ref=gs(e,t,r),n.return=e,n):((n=Ec(r.type,r.key,r.props,null,e.mode,n)).ref=gs(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Ic(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Ec(t.type,t.key,t.props,null,e.mode,r)).ref=gs(e,null,t),r.return=e,r;case j:return(t=Fc(t,e.mode,r)).return=e,t;case L:return h(e,(0,t._init)(t._payload),r)}if(te(t)||M(t))return(t=Ic(t,e.mode,r,null)).return=e,t;xs(e,t)}return null}function p(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?c(e,t,r,n):null;case j:return r.key===a?d(e,t,r,n):null;case L:return p(e,t,(a=r._init)(r._payload),n)}if(te(r)||M(r))return null!==a?null:u(e,t,r,n,null);xs(e,r)}return null}function m(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case j:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case L:return m(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||M(n))return u(t,e=e.get(r)||null,n,a,null);xs(t,n)}return null}function f(a,s,o,l){for(var c=null,d=null,u=s,f=s=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var x=p(a,u,o[f],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(a,u),s=i(x,s,f),null===d?c=x:d.sibling=x,d=x,u=g}if(f===o.length)return r(a,u),as&&Qa(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(a,o[f],l))&&(s=i(u,s,f),null===d?c=u:d.sibling=u,d=u);return as&&Qa(a,f),c}for(u=n(a,u);f<o.length;f++)null!==(g=m(u,a,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),s=i(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(a,e)}),as&&Qa(a,f),c}function g(a,o,l,c){var d=M(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=o,g=o=0,x=null,b=l.next();null!==f&&!b.done;g++,b=l.next()){f.index>g?(x=f,f=null):x=f.sibling;var v=p(a,f,b.value,c);if(null===v){null===f&&(f=x);break}e&&f&&null===v.alternate&&t(a,f),o=i(v,o,g),null===u?d=v:u.sibling=v,u=v,f=x}if(b.done)return r(a,f),as&&Qa(a,g),d;if(null===f){for(;!b.done;g++,b=l.next())null!==(b=h(a,b.value,c))&&(o=i(b,o,g),null===u?d=b:u.sibling=b,u=b);return as&&Qa(a,g),d}for(f=n(a,f);!b.done;g++,b=l.next())null!==(b=m(f,a,g,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),o=i(b,o,g),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(a,e)}),as&&Qa(a,g),d}return function e(n,s,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){r(n,d.sibling),(s=a(d,i.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&bs(c)===d.type){r(n,d.sibling),(s=a(d,i.props)).ref=gs(n,d,i),s.return=n,n=s;break e}r(n,d);break}t(n,d),d=d.sibling}i.type===N?((s=Ic(i.props.children,n.mode,l,i.key)).return=n,n=s):((l=Ec(i.type,i.key,i.props,null,n.mode,l)).ref=gs(n,s,i),l.return=n,n=l)}return o(n);case j:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){r(n,s.sibling),(s=a(s,i.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Fc(i,n.mode,l)).return=n,n=s}return o(n);case L:return e(n,s,(d=i._init)(i._payload),l)}if(te(i))return f(n,s,i,l);if(M(i))return g(n,s,i,l);xs(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,i)).return=n,n=s):(r(n,s),(s=Rc(i,n.mode,l)).return=n,n=s),o(n)):r(n,s)}}var ys=vs(!0),ws=vs(!1),js=ka(null),Ns=null,ks=null,Ss=null;function Cs(){Ss=ks=Ns=null}function _s(e){var t=js.current;Sa(js),e._currentValue=t}function Ps(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function As(e,t){Ns=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Ds(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ts=null;function Ls(e){null===Ts?Ts=[e]:Ts.push(e)}function Es(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ls(t)):(r.next=a.next,a.next=r),t.interleaved=r,Is(e,n)}function Is(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ms=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&_l)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Is(e,r)}return null===(a=n.interleaved)?(t.next=t,Ls(n)):(t.next=a.next,a.next=t),n.interleaved=t,Is(e,r)}function Bs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}function Us(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qs(e,t,r,n){var a=e.updateQueue;Ms=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(i=0,d=c=l=null,o=s;;){var h=o.lane,p=o.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=r,f.tag){case 1:if("function"===typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(p,u,h):m)||void 0===h)break e;u=F({},u,h);break e;case 2:Ms=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ml|=i,e.lanes=i,e.memoizedState=u}}function Ws(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Hs={},Vs=ka(Hs),Ks=ka(Hs),Gs=ka(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function $s(e,t){switch(Ca(Gs,t),Ca(Ks,e),Ca(Vs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Vs),Ca(Vs,t)}function Js(){Sa(Vs),Sa(Ks),Sa(Gs)}function Xs(e){Ys(Gs.current);var t=Ys(Vs.current),r=le(t,e.type);t!==r&&(Ca(Ks,e),Ca(Vs,r))}function Qs(e){Ks.current===e&&(Sa(Vs),Sa(Ks))}var Zs=ka(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ni=y.ReactCurrentDispatcher,ai=y.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,hi=0;function pi(){throw Error(s(321))}function mi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function fi(e,t,r,n,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=null===e||null===e.memoizedState?Qi:Zi,e=r(n,a),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ni.current=eo,e=r(n,a)}while(di)}if(ni.current=Xi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function gi(){var e=0!==ui;return ui=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function bi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function vi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=bi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=oi,a=n.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(null!==a){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=n):c=c.next=h,ii.lanes|=u,Ml|=u}d=d.next}while(null!==d&&d!==i);null===c?o=n:c.next=l,on(n,t.memoizedState)||(vo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Ml|=i,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wi(e){var t=bi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);on(i,t.memoizedState)||(vo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ji(){}function Ni(e,t){var r=ii,n=bi(),a=t(),i=!on(n.memoizedState,a);if(i&&(n.memoizedState=a,vo=!0),n=n.queue,Mi(Ci.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(r.flags|=2048,Di(9,Si.bind(null,r,n,a,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&si)||ki(r,t,a)}return a}function ki(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Si(e,t,r,n){t.value=r,t.getSnapshot=n,_i(t)&&Pi(e)}function Ci(e,t,r){return r(function(){_i(t)&&Pi(e)})}function _i(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Pi(e){var t=Is(e,1);null!==t&&tc(t,e,1,-1)}function Ai(e){var t=xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[t.memoizedState,e]}function Di(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ti(){return bi().memoizedState}function Li(e,t,r,n){var a=xi();ii.flags|=e,a.memoizedState=Di(1|t,r,void 0,void 0===n?null:n)}function Ei(e,t,r,n){var a=bi();n=void 0===n?null:n;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==n&&mi(n,i.deps))return void(a.memoizedState=Di(t,r,s,n))}ii.flags|=e,a.memoizedState=Di(1|t,r,s,n)}function Ii(e,t){return Li(8390656,8,e,t)}function Mi(e,t){return Ei(2048,8,e,t)}function Ri(e,t){return Ei(4,2,e,t)}function Fi(e,t){return Ei(4,4,e,t)}function zi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ei(4,4,zi.bind(null,t,e),r)}function Bi(){}function Ui(e,t){var r=bi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qi(e,t){var r=bi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wi(e,t,r){return 0===(21&si)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=r):(on(r,t)||(r=ft(),ii.lanes|=r,Ml|=r,e.baseState=!0),t)}function Hi(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var n=ai.transition;ai.transition={};try{e(!1),t()}finally{vt=r,ai.transition=n}}function Vi(){return bi().memoizedState}function Ki(e,t,r){var n=ec(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yi(e))$i(t,r);else if(null!==(r=Es(e,t,r,n))){tc(r,e,n,Zl()),Ji(r,t,n)}}function Gi(e,t,r){var n=ec(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))$i(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,on(o,i)){var l=t.interleaved;return null===l?(a.next=a,Ls(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Es(e,t,a,n))&&(tc(r,e,n,a=Zl()),Ji(r,t,n))}}function Yi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function $i(e,t){di=ci=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ji(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}var Xi={readContext:Ds,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Qi={readContext:Ds,useCallback:function(e,t){return xi().memoizedState=[e,void 0===t?null:t],e},useContext:Ds,useEffect:Ii,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Li(4194308,4,zi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var r=xi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xi().memoizedState=e},useState:Ai,useDebugValue:Bi,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Ai(!1),t=e[0];return e=Hi.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ii,a=xi();if(as){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Pl)throw Error(s(349));0!==(30&si)||ki(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Ii(Ci.bind(null,n,i,e),[e]),n.flags|=2048,Di(9,Si.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xi(),t=Pl.identifierPrefix;if(as){var r=Xa;t=":"+t+"R"+(r=(Ja&~(1<<32-it(Ja)-1)).toString(32)+r),0<(r=ui++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ds,useCallback:Ui,useContext:Ds,useEffect:Mi,useImperativeHandle:Oi,useInsertionEffect:Ri,useLayoutEffect:Fi,useMemo:qi,useReducer:yi,useRef:Ti,useState:function(){return yi(vi)},useDebugValue:Bi,useDeferredValue:function(e){return Wi(bi(),oi.memoizedState,e)},useTransition:function(){return[yi(vi)[0],bi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:Vi,unstable_isNewReconciler:!1},eo={readContext:Ds,useCallback:Ui,useContext:Ds,useEffect:Mi,useImperativeHandle:Oi,useInsertionEffect:Ri,useLayoutEffect:Fi,useMemo:qi,useReducer:wi,useRef:Ti,useState:function(){return wi(vi)},useDebugValue:Bi,useDeferredValue:function(e){var t=bi();return null===oi?t.memoizedState=e:Wi(t,oi.memoizedState,e)},useTransition:function(){return[wi(vi)[0],bi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:Vi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=F({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:F({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zl(),a=ec(e),s=zs(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Os(e,s,a))&&(tc(t,e,a,n),Bs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zl(),a=ec(e),s=zs(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Os(e,s,a))&&(tc(t,e,a,n),Bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zl(),n=ec(e),a=zs(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Os(e,a,n))&&(tc(t,e,n,r),Bs(t,e,n))}};function ao(e,t,r,n,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,s))}function so(e,t,r){var n=!1,a=_a,s=t.contextType;return"object"===typeof s&&null!==s?s=Ds(s):(a=La(t)?Da:Pa.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ta(e,a):_a),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ds(s):(s=La(t)?Da:Pa.current,a.context=Ta(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ro(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&no.enqueueReplaceState(a,a.state,null),qs(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,r){(r=zs(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wl||(Wl=!0,Hl=n),uo(0,t)},r}function mo(e,t,r){(r=zs(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof n&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fo(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ho;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=kc.bind(null,e,t,r),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=zs(-1,1)).tag=2,Os(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=y.ReactCurrentOwner,vo=!1;function yo(e,t,r,n){t.child=null===e?ws(t,null,r,n):ys(t,e.child,r,n)}function wo(e,t,r,n,a){r=r.render;var s=t.ref;return As(t,a),n=fi(e,t,r,n,s,a),r=gi(),null===e||vo?(as&&r&&es(t),t.flags|=1,yo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function jo(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ec(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,No(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(i,n)&&e.ref===t.ref)return Wo(e,t,a)}return t.flags|=1,(e=Lc(s,n)).ref=t.ref,e.return=t,t.child=e}function No(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(vo=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Wo(e,t,a);0!==(131072&e.flags)&&(vo=!0)}}return Co(e,t,r,n,a)}function ko(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Ll,Tl),Tl|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Ll,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Ca(Ll,Tl),Tl|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ca(Ll,Tl),Tl|=n;return yo(e,t,a,r),t.child}function So(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,r,n,a){var s=La(r)?Da:Pa.current;return s=Ta(t,s),As(t,a),r=fi(e,t,r,n,s,a),n=gi(),null===e||vo?(as&&n&&es(t),t.flags|=1,yo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function _o(e,t,r,n,a){if(La(r)){var s=!0;Ra(t)}else s=!1;if(As(t,a),null===t.stateNode)qo(e,t),so(t,r,n),oo(t,r,n,a),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ds(c):c=Ta(t,c=La(r)?Da:Pa.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==n||l!==c)&&io(t,i,n,c),Ms=!1;var h=t.memoizedState;i.state=h,qs(t,n,i,a),l=t.memoizedState,o!==n||h!==l||Aa.current||Ms?("function"===typeof d&&(ro(t,r,d,n),l=t.memoizedState),(o=Ms||ao(t,r,o,n,h,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Fs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ds(l):l=Ta(t,l=La(r)?Da:Pa.current);var p=r.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||h!==l)&&io(t,i,n,l),Ms=!1,h=t.memoizedState,i.state=h,qs(t,n,i,a);var m=t.memoizedState;o!==u||h!==m||Aa.current||Ms?("function"===typeof p&&(ro(t,r,p,n),m=t.memoizedState),(c=Ms||ao(t,r,c,n,h,m,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Po(e,t,r,n,s,a)}function Po(e,t,r,n,a,s){So(e,t);var i=0!==(128&t.flags);if(!n&&!i)return a&&Fa(t,r,!1),Wo(e,t,s);n=t.stateNode,bo.current=t;var o=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,o,s)):yo(e,t,o,s),t.memoizedState=n.state,a&&Fa(t,r,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),$s(e,t.containerInfo)}function Do(e,t,r,n,a){return ps(),ms(a),t.flags|=256,yo(e,t,r,n),t.child}var To,Lo,Eo,Io={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ro(e,t,r){var n,a=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ca(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,a,0,null),e=Ic(e,a,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(r),t.memoizedState=Io,e):Fo(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,a,i,o){if(r)return 256&t.flags?(t.flags&=-257,zo(e,t,o,n=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Mc({mode:"visible",children:n.children},a,0,null),(i=Ic(i,a,o,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&ys(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Io,i);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,zo(e,t,o,n=co(i=Error(s(419)),n,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(n=Pl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Is(e,a),tc(n,e,a,-1))}return mc(),zo(e,t,o,n=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ns=ca(a.nextSibling),rs=t,as=!0,ss=null,null!==e&&(Ga[Ya++]=Ja,Ga[Ya++]=Xa,Ga[Ya++]=$a,Ja=e.id,Xa=e.overflow,$a=t),t=Fo(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,i,r);if(o){o=a.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Lc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?o=Lc(n,o):(o=Ic(o,l,r,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Io,a}return e=(o=e.child).sibling,a=Lc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Fo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,r,n){return null!==n&&ms(n),ys(t,e.child,null,r),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Oo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ps(e.return,t,r)}function Bo(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Uo(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(yo(e,t,n.children,r),0!==(2&(n=Zs.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Oo(e,r,t);else if(19===e.tag)Oo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ca(Zs,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===ei(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Bo(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Bo(t,!0,r,null,s);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Lc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Lc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ho(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ko(e,t,r){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return La(t.type)&&Ea(),Vo(t),null;case 3:return n=t.stateNode,Js(),Sa(Aa),Sa(Pa),ri(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(sc(ss),ss=null))),Vo(t),null;case 5:Qs(t);var a=Ys(Gs.current);if(r=t.type,null!==e&&null!=t.stateNode)Lo(e,t,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Vo(t),null}if(e=Ys(Vs.current),us(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ha]=t,n[pa]=i,e=0!==(1&t.mode),r){case"dialog":On("cancel",n),On("close",n);break;case"iframe":case"object":case"embed":On("load",n);break;case"video":case"audio":for(a=0;a<Mn.length;a++)On(Mn[a],n);break;case"source":On("error",n);break;case"img":case"image":case"link":On("error",n),On("load",n);break;case"details":On("toggle",n);break;case"input":J(n,i),On("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},On("invalid",n);break;case"textarea":ae(n,i),On("invalid",n)}for(var l in be(r,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Qn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Qn(n.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&On("scroll",n)}switch(r){case"input":K(n),Z(n,i,!0);break;case"textarea":K(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ha]=t,e[pa]=n,To(e,t),t.stateNode=e;e:{switch(l=ve(r,n),r){case"dialog":On("cancel",e),On("close",e),a=n;break;case"iframe":case"object":case"embed":On("load",e),a=n;break;case"video":case"audio":for(a=0;a<Mn.length;a++)On(Mn[a],e);a=n;break;case"source":On("error",e),a=n;break;case"img":case"image":case"link":On("error",e),On("load",e),a=n;break;case"details":On("toggle",e),a=n;break;case"input":J(e,n),a=$(e,n),On("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=F({},n,{value:void 0}),On("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),On("invalid",e)}for(i in be(r,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&On("scroll",e):null!=d&&v(e,i,d,l))}switch(r){case"input":K(e),Z(e,n,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?re(e,!!n.multiple,i,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Eo(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=Ys(Gs.current),Ys(Vs.current),us(t)){if(n=t.stateNode,r=t.memoizedProps,n[ha]=t,(i=n.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Qn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qn(n.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return Vo(t),null;case 13:if(Sa(Zs),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ps(),t.flags|=98560,i=!1;else if(i=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),i=!1}else null!==ss&&(sc(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===El&&(El=3):mc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Js(),null===e&&qn(t.stateNode.containerInfo),Vo(t),null;case 10:return _s(t.type._context),Vo(t),null;case 19:if(Sa(Zs),null===(i=t.memoizedState))return Vo(t),null;if(n=0!==(128&t.flags),null===(l=i.rendering))if(n)Ho(i,!1);else{if(0!==El||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ca(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Ul&&(t.flags|=128,n=!0,Ho(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ei(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Vo(t),null}else 2*Xe()-i.renderingStartTime>Ul&&1073741824!==r&&(t.flags|=128,n=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,r=Zs.current,Ca(Zs,n?1&r|2:1&r),t):(Vo(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Go(e,t){switch(ts(t),t.tag){case 1:return La(t.type)&&Ea(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Sa(Aa),Sa(Pa),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qs(t),null;case 13:if(Sa(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zs),null;case 4:return Js(),null;case 10:return _s(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}To=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Lo=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ys(Vs.current);var s,i=null;switch(r){case"input":a=$(e,a),n=$(e,n),i=[];break;case"select":a=F({},a,{value:void 0}),n=F({},n,{value:void 0}),i=[];break;case"textarea":a=ne(e,a),n=ne(e,n),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in be(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&On("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Eo=function(e,t,r,n){r!==n&&(t.flags|=4)};var Yo=!1,$o=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Qo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Nc(e,t,n)}else r.current=null}function Zo(e,t,r){try{r()}catch(n){Nc(e,t,n)}}var el=!1;function tl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&Zo(t,r,s)}a=a.next}while(a!==n)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[pa],delete t[fa],delete t[ga],delete t[xa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ol(e,t,r),e=e.sibling;null!==e;)ol(e,t,r),e=e.sibling}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}var cl=null,dl=!1;function ul(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,r)}catch(o){}switch(r.tag){case 5:$o||Qo(r,t);case 6:var n=cl,a=dl;cl=null,ul(e,t,r),dl=a,null!==(cl=n)&&(dl?(e=cl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):cl.removeChild(r.stateNode));break;case 18:null!==cl&&(dl?(e=cl,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),qt(e)):la(cl,r.stateNode));break;case 4:n=cl,a=dl,cl=r.stateNode.containerInfo,dl=!0,ul(e,t,r),cl=n,dl=a;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&Zo(r,t,i),a=a.next}while(a!==n)}ul(e,t,r);break;case 1:if(!$o&&(Qo(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Nc(r,t,o)}ul(e,t,r);break;case 21:ul(e,t,r);break;case 22:1&r.mode?($o=(n=$o)||null!==r.memoizedState,ul(e,t,r),$o=n):ul(e,t,r);break;default:ul(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Jo),t.forEach(function(t){var n=_c.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));hl(i,o,a),cl=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){Nc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&n){try{tl(3,e,e.return),rl(3,e)}catch(g){Nc(e,e.return,g)}try{tl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:ml(t,e),gl(e),512&n&&null!==r&&Qo(r,r.return);break;case 5:if(ml(t,e),gl(e),512&n&&null!==r&&Qo(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Nc(e,e.return,g)}}if(4&n&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(a,i),ve(l,o);var d=ve(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(a,h):"dangerouslySetInnerHTML"===u?ue(a,h):"children"===u?he(a,h):v(a,u,h,d)}switch(l){case"input":Q(a,i);break;case"textarea":se(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?re(a,!!i.multiple,m,!1):p!==!!i.multiple&&(null!=i.defaultValue?re(a,!!i.multiple,i.defaultValue,!0):re(a,!!i.multiple,i.multiple?[]:"",!1))}a[pa]=i}catch(g){Nc(e,e.return,g)}}break;case 6:if(ml(t,e),gl(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Nc(e,e.return,g)}}break;case 3:if(ml(t,e),gl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Xe())),4&n&&pl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?($o=(d=$o)||u,ml(t,e),$o=d):ml(t,e),gl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(h=Xo=u;null!==Xo;){switch(m=(p=Xo).child,p.tag){case 0:case 11:case 14:case 15:tl(4,p,p.return);break;case 1:Qo(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){n=p,r=p.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Nc(n,r,g)}}break;case 5:Qo(p,p.return);break;case 22:if(null!==p.memoizedState){yl(h);continue}}null!==m?(m.return=p,Xo=m):yl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{a=h.stateNode,d?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&n&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),ll(e,il(e),a);break;case 3:case 4:var i=n.stateNode.containerInfo;ol(e,il(e),i);break;default:throw Error(s(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,r){Xo=e,bl(e,t,r)}function bl(e,t,r){for(var n=0!==(1&e.mode);null!==Xo;){var a=Xo,s=a.child;if(22===a.tag&&n){var i=null!==a.memoizedState||Yo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Yo;var c=$o;if(Yo=i,($o=l)&&!c)for(Xo=a;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?wl(a):null!==l?(l.return=i,Xo=l):wl(a);for(;null!==s;)Xo=s,bl(s,t,r),s=s.sibling;Xo=a,Yo=o,$o=c}vl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xo=s):vl(e)}}function vl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||rl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!$o)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ws(t,i,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ws(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(s(163))}$o||512&t.flags&&nl(t)}catch(p){Nc(t,t.return,p)}}if(t===e){Xo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xo=r;break}Xo=t.return}}function yl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xo=r;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rl(4,t)}catch(l){Nc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){Nc(t,a,l)}}var s=t.return;try{nl(t)}catch(l){Nc(t,s,l)}break;case 5:var i=t.return;try{nl(t)}catch(l){Nc(t,i,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var jl,Nl=Math.ceil,kl=y.ReactCurrentDispatcher,Sl=y.ReactCurrentOwner,Cl=y.ReactCurrentBatchConfig,_l=0,Pl=null,Al=null,Dl=0,Tl=0,Ll=ka(0),El=0,Il=null,Ml=0,Rl=0,Fl=0,zl=null,Ol=null,Bl=0,Ul=1/0,ql=null,Wl=!1,Hl=null,Vl=null,Kl=!1,Gl=null,Yl=0,$l=0,Jl=null,Xl=-1,Ql=0;function Zl(){return 0!==(6&_l)?Xe():-1!==Xl?Xl:Xl=Xe()}function ec(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Dl?Dl&-Dl:null!==fs.transition?(0===Ql&&(Ql=ft()),Ql):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function tc(e,t,r,n){if(50<$l)throw $l=0,Jl=null,Error(s(185));xt(e,r,n),0!==(2&_l)&&e===Pl||(e===Pl&&(0===(2&_l)&&(Rl|=r),4===El&&ic(e,Dl)),rc(e,n),1===r&&0===_l&&0===(1&t.mode)&&(Ul=Xe()+500,Oa&&qa()))}function rc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&r)&&0===(o&n)||(a[i]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var n=ht(e,e===Pl?Dl:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){Oa=!0,Ua(e)}(oc.bind(null,e)):Ua(oc.bind(null,e)),ia(function(){0===(6&_l)&&qa()}),r=null;else{switch(yt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Pc(r,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nc(e,t){if(Xl=-1,Ql=0,0!==(6&_l))throw Error(s(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=ht(e,e===Pl?Dl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=fc(e,n);else{t=n;var a=_l;_l|=2;var i=pc();for(Pl===e&&Dl===t||(ql=null,Ul=Xe()+500,uc(e,t));;)try{xc();break}catch(l){hc(e,l)}Cs(),kl.current=i,_l=a,null!==Al?t=0:(Pl=null,Dl=0,t=El)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(n=a,t=ac(e,a))),1===t)throw r=Il,uc(e,0),ic(e,n),rc(e,Xe()),r;if(6===t)ic(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!on(s(),a))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=fc(e,n))&&(0!==(i=mt(e))&&(n=i,t=ac(e,i))),1===t))throw r=Il,uc(e,0),ic(e,n),rc(e,Xe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:yc(e,Ol,ql);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){Zl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(yc.bind(null,e,Ol,ql),t);break}yc(e,Ol,ql);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-it(n);i=1<<o,(o=t[o])>a&&(a=o),n&=~i}if(n=a,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nl(n/1960))-n)){e.timeoutHandle=na(yc.bind(null,e,Ol,ql),n);break}yc(e,Ol,ql);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===r?nc.bind(null,e):null}function ac(e,t){var r=zl;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Ol,Ol=r,null!==t&&sc(t)),e}function sc(e){null===Ol?Ol=e:Ol.push.apply(Ol,e)}function ic(e,t){for(t&=~Fl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),n=1<<r;e[r]=-1,t&=~n}}function oc(e){if(0!==(6&_l))throw Error(s(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var r=fc(e,t);if(0!==e.tag&&2===r){var n=mt(e);0!==n&&(t=n,r=ac(e,n))}if(1===r)throw r=Il,uc(e,0),ic(e,t),rc(e,Xe()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,Ol,ql),rc(e,Xe()),null}function lc(e,t){var r=_l;_l|=1;try{return e(t)}finally{0===(_l=r)&&(Ul=Xe()+500,Oa&&qa())}}function cc(e){null!==Gl&&0===Gl.tag&&0===(6&_l)&&wc();var t=_l;_l|=1;var r=Cl.transition,n=vt;try{if(Cl.transition=null,vt=1,e)return e()}finally{vt=n,Cl.transition=r,0===(6&(_l=t))&&qa()}}function dc(){Tl=Ll.current,Sa(Ll)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Al)for(r=Al.return;null!==r;){var n=r;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ea();break;case 3:Js(),Sa(Aa),Sa(Pa),ri();break;case 5:Qs(n);break;case 4:Js();break;case 13:case 19:Sa(Zs);break;case 10:_s(n.type._context);break;case 22:case 23:dc()}r=r.return}if(Pl=e,Al=e=Lc(e.current,null),Dl=Tl=t,El=0,Il=null,Fl=Rl=Ml=0,Ol=zl=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(n=(r=Ts[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var i=s.next;s.next=a,n.next=i}r.pending=n}Ts=null}return e}function hc(e,t){for(;;){var r=Al;try{if(Cs(),ni.current=Xi,ci){for(var n=ii.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}ci=!1}if(si=0,li=oi=ii=null,di=!1,ui=0,Sl.current=null,null===r||null===r.return){El=1,Il=t,Al=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,xo(m,o,l,0,t),1&m.mode&&fo(i,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(i,d,t),mc();break e}c=Error(s(426))}else if(as&&1&l.mode){var x=go(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,t),ms(lo(c,l));break e}}i=c=lo(c,l),4!==El&&(El=2),null===zl?zl=[i]:zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Us(i,po(0,c,t));break e;case 1:l=c;var b=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Vl||!Vl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Us(i,mo(i,l,t));break e}}i=i.return}while(null!==i)}vc(r)}catch(y){t=y,Al===r&&null!==r&&(Al=r=r.return);continue}break}}function pc(){var e=kl.current;return kl.current=Xi,null===e?Xi:e}function mc(){0!==El&&3!==El&&2!==El||(El=4),null===Pl||0===(268435455&Ml)&&0===(268435455&Rl)||ic(Pl,Dl)}function fc(e,t){var r=_l;_l|=2;var n=pc();for(Pl===e&&Dl===t||(ql=null,uc(e,t));;)try{gc();break}catch(a){hc(e,a)}if(Cs(),_l=r,kl.current=n,null!==Al)throw Error(s(261));return Pl=null,Dl=0,El}function gc(){for(;null!==Al;)bc(Al)}function xc(){for(;null!==Al&&!$e();)bc(Al)}function bc(e){var t=jl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?vc(e):Al=t,Sl.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ko(r,t,Tl)))return void(Al=r)}else{if(null!==(r=Go(r,t)))return r.flags&=32767,void(Al=r);if(null===e)return El=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===El&&(El=5)}function yc(e,t,r){var n=vt,a=Cl.transition;try{Cl.transition=null,vt=1,function(e,t,r,n){do{wc()}while(null!==Gl);if(0!==(6&_l))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-it(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,i),e===Pl&&(Al=Pl=null,Dl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kl||(Kl=!0,Pc(tt,function(){return wc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=vt;vt=1;var l=_l;_l|=4,Sl.current=null,function(e,t){if(ea=Ht,pn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(w){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==r||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===r&&++d===a&&(l=o),p===i&&++u===n&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Ht=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,x=f.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}f=el,el=!1}(e,r),fl(r,e),mn(ta),Ht=!!ea,ta=ea=null,e.current=r,xl(r,e,a),Je(),_l=l,vt=o,Cl.transition=i}else e.current=r;if(Kl&&(Kl=!1,Gl=e,Yl=a),i=e.pendingLanes,0===i&&(Vl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),rc(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Jl?$l++:($l=0,Jl=e):$l=0,qa()}(e,t,r,n)}finally{Cl.transition=a,vt=n}return null}function wc(){if(null!==Gl){var e=yt(Yl),t=Cl.transition,r=vt;try{if(Cl.transition=null,vt=16>e?16:e,null===Gl)var n=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&_l))throw Error(s(331));var a=_l;for(_l|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:tl(8,u,i)}var h=u.child;if(null!==h)h.return=u,Xo=h;else for(;null!==Xo;){var p=(u=Xo).sibling,m=u.return;if(al(u),u===d){Xo=null;break}if(null!==p){p.return=m,Xo=p;break}Xo=m}}}var f=i.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Xo=b;break e}Xo=i.return}}var v=e.current;for(Xo=v;null!==Xo;){var y=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Xo=y;else e:for(o=v;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){Nc(l,l.return,j)}if(l===o){Xo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xo=w;break e}Xo=l.return}}if(_l=a,qa(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(j){}n=!0}return n}finally{vt=r,Cl.transition=t}}return!1}function jc(e,t,r){e=Os(e,t=po(0,t=lo(r,t),1),1),t=Zl(),null!==e&&(xt(e,1,t),rc(e,t))}function Nc(e,t,r){if(3===e.tag)jc(e,e,r);else for(;null!==t;){if(3===t.tag){jc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Vl||!Vl.has(n))){t=Os(t,e=mo(t,e=lo(r,e),1),1),e=Zl(),null!==t&&(xt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&r,Pl===e&&(Dl&r)===r&&(4===El||3===El&&(130023424&Dl)===Dl&&500>Xe()-Bl?uc(e,0):Fl|=r),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=Zl();null!==(e=Is(e,t))&&(xt(e,t,r),rc(e,r))}function Cc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function _c(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Sc(e,r)}function Pc(e,t){return Ge(e,t)}function Ac(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,r,n){return new Ac(e,t,r,n)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var r=e.alternate;return null===r?((r=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ec(e,t,r,n,a,i){var o=2;if(n=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Ic(r.children,a,i,t);case k:o=8,a|=8;break;case S:return(e=Dc(12,r,t,2|a)).elementType=S,e.lanes=i,e;case A:return(e=Dc(13,r,t,a)).elementType=A,e.lanes=i,e;case D:return(e=Dc(19,r,t,a)).elementType=D,e.lanes=i,e;case E:return Mc(r,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case _:o=9;break e;case P:o=11;break e;case T:o=14;break e;case L:o=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(o,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function Ic(e,t,r,n){return(e=Dc(7,e,n,t)).lanes=r,e}function Mc(e,t,r,n){return(e=Dc(22,e,n,t)).elementType=E,e.lanes=r,e.stateNode={isHidden:!1},e}function Rc(e,t,r){return(e=Dc(6,e,null,t)).lanes=r,e}function Fc(e,t,r){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Oc(e,t,r,n,a,s,i,o,l){return e=new zc(e,t,r,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Bc(e){if(!e)return _a;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(La(r))return Ma(e,r,t)}return t}function Uc(e,t,r,n,a,s,i,o,l){return(e=Oc(r,n,!0,e,0,s,0,o,l)).context=Bc(null),r=e.current,(s=zs(n=Zl(),a=ec(r))).callback=void 0!==t&&null!==t?t:null,Os(r,s,a),e.current.lanes=a,xt(e,a,n),rc(e,n),e}function qc(e,t,r,n){var a=t.current,s=Zl(),i=ec(a);return r=Bc(r),null===t.context?t.context=r:t.pendingContext=r,(t=zs(s,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Os(a,t,i))&&(tc(e,a,i,s),Bs(e,a,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Vc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}jl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)vo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return vo=!1,function(e,t,r){switch(t.tag){case 3:Ao(t),ps();break;case 5:Xs(t);break;case 1:La(t.type)&&Ra(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ca(js,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ca(Zs,1&Zs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Ro(e,t,r):(Ca(Zs,1&Zs.current),null!==(e=Wo(e,t,r))?e.sibling:null);Ca(Zs,1&Zs.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Uo(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(Zs,Zs.current),n)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,r)}return Wo(e,t,r)}(e,t,r);vo=0!==(131072&e.flags)}else vo=!1,as&&0!==(1048576&t.flags)&&Za(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qo(e,t),e=t.pendingProps;var a=Ta(t,Pa.current);As(t,r),a=fi(null,t,n,e,a,r);var i=gi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(n)?(i=!0,Ra(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Rs(t),a.updater=no,t.stateNode=a,a._reactInternals=t,oo(t,n,e,r),t=Po(null,t,n,!0,i,r)):(t.tag=0,as&&i&&es(t),yo(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===T)return 14}return 2}(n),e=to(n,e),a){case 0:t=Co(null,t,n,e,r);break e;case 1:t=_o(null,t,n,e,r);break e;case 11:t=wo(null,t,n,e,r);break e;case 14:t=jo(null,t,n,to(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Co(e,t,n,a=t.elementType===n?a:to(n,a),r);case 1:return n=t.type,a=t.pendingProps,_o(e,t,n,a=t.elementType===n?a:to(n,a),r);case 3:e:{if(Ao(t),null===e)throw Error(s(387));n=t.pendingProps,a=(i=t.memoizedState).element,Fs(e,t),qs(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Do(e,t,n,r,a=lo(Error(s(423)),t));break e}if(n!==a){t=Do(e,t,n,r,a=lo(Error(s(424)),t));break e}for(ns=ca(t.stateNode.containerInfo.firstChild),rs=t,as=!0,ss=null,r=ws(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ps(),n===a){t=Wo(e,t,r);break e}yo(e,t,n,r)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),n=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,ra(n,a)?o=null:null!==i&&ra(n,i)&&(t.flags|=32),So(e,t),yo(e,t,o,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Ro(e,t,r);case 4:return $s(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ys(t,null,n,r):yo(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,wo(e,t,n,a=t.elementType===n?a:to(n,a),r);case 7:return yo(e,t,t.pendingProps,r),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ca(js,n._currentValue),n._currentValue=o,null!==i)if(on(i.value,o)){if(i.children===a.children&&!Aa.current){t=Wo(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=zs(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Ps(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ps(o,r,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}yo(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,As(t,r),n=n(a=Ds(a)),t.flags|=1,yo(e,t,n,r),t.child;case 14:return a=to(n=t.type,t.pendingProps),jo(e,t,n,a=to(n.type,a),r);case 15:return No(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:to(n,a),qo(e,t),t.tag=1,La(n)?(e=!0,Ra(t)):e=!1,As(t,r),so(t,n,a),oo(t,n,a,r),Po(null,t,n,!0,e,r);case 19:return Uo(e,t,r);case 22:return ko(e,t,r)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Qc(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Wc(i);o.call(e)}}qc(t,i,e,a)}else i=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Wc(i);s.call(e)}}var i=Uc(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[ma]=i.current,qn(8===e.nodeType?e.parentNode:e),cc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var o=n;n=function(){var e=Wc(l);o.call(e)}}var l=Oc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[ma]=l.current,qn(8===e.nodeType?e.parentNode:e),cc(function(){qc(t,l,r,n)}),l}(r,t,e,a,n);return Wc(i)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){qc(null,e,null,null)}),t[ma]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Et.length&&0!==t&&t<Et[r].priority;r++);Et.splice(r,0,e),0===r&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(bt(t,1|r),rc(t,Xe()),0===(6&_l)&&(Ul=Xe()+500,qa()))}break;case 13:cc(function(){var t=Is(e,1);if(null!==t){var r=Zl();tc(t,e,1,r)}}),Vc(e,1)}},jt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Vc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=ec(e),r=Is(e,t);if(null!==r)tc(r,e,t,Zl());Vc(e,t)}},kt=function(){return vt},St=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},je=function(e,t,r){switch(t){case"input":if(Q(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wa(n);if(!a)throw Error(s(90));G(n),Q(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Pe=lc,Ae=cc;var Zc={usingClientEntryPoint:!1,Events:[va,ya,wa,Ce,_e,lc]},ed={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:ed.bundleType,version:ed.version,rendererPackageName:ed.rendererPackageName,rendererConfig:ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:ed.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{at=rd.inject(td),st=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var r=!1,n="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Oc(e,1,!1,null,0,r,0,n,a),e[ma]=t.current,qn(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,r){if(!Jc(t))throw Error(s(200));return Qc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!$c(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,i="",o=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=Uc(t,null,e,1,null!=r?r:null,a,0,i,o),e[ma]=t.current,qn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Yc(t)},t.render=function(e,t,r){if(!Jc(t))throw Error(s(200));return Qc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(cc(function(){Qc(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Jc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Qc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},7950(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},528(e,t){"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case i:case s:case d:case u:case m:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case o:return e;default:return t}}case n:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===i||e===s||e===d||e===u||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===o||e.$$typeof===c||e.$$typeof===f||void 0!==e.getModuleId)}},9005(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,o=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,x=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,y=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case s:case o:case i:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case f:case l:return e;default:return t}}case a:return t}}}function j(e){return w(e)===u}},7681(e,t,r){"use strict";r(9005)},1153(e,t,r){"use strict";var n=r(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},4202(e,t){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}function b(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var y=v.prototype=new b;y.constructor=v,f(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:r,type:e,key:i,ref:o,props:s,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var _=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return i=i(l=e),e=""===s?"."+P(l,0):s,w(i)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),A(i,t,a,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+P(o=e[c],c);l+=A(o,t,a,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=A(o=o.value,t,a,d=s+P(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function D(e,t,r){if(null==e)return e;var n=[],a=0;return A(e,n,"","",function(e){return t.call(r,e,a++)}),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},E={transition:null},I={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:E,ReactCurrentOwner:N};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,r){D(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=i,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:r,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.transition;E.transition={};try{e()}finally{E.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,r){return L.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,r){return L.current.useReducer(e,t,r)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return L.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},5043(e,t,r){"use strict";e.exports=r(4202)},579(e,t,r){"use strict";e.exports=r(1153)},7234(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,r))c<a&&0>s(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function w(e){if(g=!1,y(e),!f)if(null!==n(c))f=!0,E(j);else{var t=n(d);null!==t&&I(w,t.startTime-e)}}function j(e,r){f=!1,g&&(g=!1,b(C),C=-1),m=!0;var s=p;try{for(y(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!A());){var i=h.callback;if("function"===typeof i){h.callback=null,p=h.priorityLevel;var o=i(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?h.callback=o:h===n(c)&&a(c),y(r)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&I(w,u.startTime-r),l=!1}return l}finally{h=null,p=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,_=5,P=-1;function A(){return!(t.unstable_now()-P<_)}function D(){if(null!==S){var e=t.unstable_now();P=e;var r=!0;try{r=S(!0,e)}finally{r?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(D)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,L=T.port2;T.port1.onmessage=D,N=function(){L.postMessage(null)}}else N=function(){x(D,0)};function E(e){S=e,k||(k=!0,N())}function I(e,r){C=x(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,E(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,r(d,e),null===n(c)&&e===n(d)&&(g?(b(C),C=-1):g=!0,I(w,s-i))):(e.sortIndex=o,r(c,e),f||m||(f=!0,E(j))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},8853(e,t,r){"use strict";e.exports=r(7234)},4467(e,t,r){"use strict";r.d(t,{A:()=>a});var n=r(816);function a(e,t,r){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},816(e,t,r){"use strict";r.d(t,{A:()=>a});var n=r(2284);function a(e){var t=function(e,t){if("object"!=(0,n.A)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=(0,n.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.A)(t)?t:t+""}},2284(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:()=>n})}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,r.d(s,i),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+"."+{239:"8c242f8f",455:"5effdb1a",488:"3bc38ef8",977:"cd7e494f"}[e]+".chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="trucking-web-client:";r.l=(n,a,s,i)=>{if(e[n])e[n].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+s),o.src=n),e[n]=[a];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(p);var a=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(r)),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var s=new Promise((r,n)=>a=e[t]=[r,n]);n.push(a[2]=s);var i=r.p+r.u(t),o=new Error;r.l(i,n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var a,s,[i,o,l]=n,c=0;if(i.some(t=>0!==e[t])){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(l)l(r)}for(t&&t(n);c<i.length;c++)s=i[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunktrucking_web_client=self.webpackChunktrucking_web_client||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>At,hasStandardBrowserEnv:()=>Tt,hasStandardBrowserWebWorkerEnv:()=>Lt,navigator:()=>Dt,origin:()=>Et});var t=r(5043),n=r.t(t,2),a=r(7950);function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}var o=r(5173),l=r.n(o);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(null,arguments)}function d(e){return"/"===e.charAt(0)}function u(e,t){for(var r=t,n=r+1,a=e.length;n<a;r+=1,n+=1)e[r]=e[n];e.pop()}const h=function(e,t){void 0===t&&(t="");var r,n=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&d(e),i=t&&d(t),o=s||i;if(e&&d(e)?a=n:n.length&&(a.pop(),a=a.concat(n)),!a.length)return"/";if(a.length){var l=a[a.length-1];r="."===l||".."===l||""===l}else r=!1;for(var c=0,h=a.length;h>=0;h--){var p=a[h];"."===p?u(a,h):".."===p?(u(a,h),c++):c&&(u(a,h),c--)}if(!o)for(;c--;c)a.unshift("..");!o||""===a[0]||a[0]&&d(a[0])||a.unshift("");var m=a.join("/");return r&&"/"!==m.substr(-1)&&(m+="/"),m};function p(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const m=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every(function(t,n){return e(t,r[n])});if("object"===typeof t||"object"===typeof r){var n=p(t),a=p(r);return n!==t||a!==r?e(n,a):Object.keys(Object.assign({},t,r)).every(function(n){return e(t[n],r[n])})}return!1};var f="Invariant failed";function g(e,t){if(!e)throw new Error(f)}function x(e){return"/"===e.charAt(0)?e:"/"+e}function b(e){return"/"===e.charAt(0)?e.substr(1):e}function v(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function w(e){var t=e.pathname,r=e.search,n=e.hash,a=t||"/";return r&&"?"!==r&&(a+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(a+="#"===n.charAt(0)?n:"#"+n),a}function j(e,t,r,n){var a;"string"===typeof e?(a=function(e){var t=e||"/",r="",n="",a=t.indexOf("#");-1!==a&&(n=t.substr(a),t=t.substr(0,a));var s=t.indexOf("?");return-1!==s&&(r=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}(e),a.state=t):(void 0===(a=c({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return r&&(a.key=r),n?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=h(a.pathname,n.pathname)):a.pathname=n.pathname:a.pathname||(a.pathname="/"),a}function N(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,r,n,a){if(null!=e){var s="function"===typeof e?e(t,r):e;"string"===typeof s?"function"===typeof n?n(s,a):a(!0):a(!1!==s)}else a(!0)},appendListener:function(e){var r=!0;function n(){r&&e.apply(void 0,arguments)}return t.push(n),function(){r=!1,t=t.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.forEach(function(e){return e.apply(void 0,r)})}}}var k=!("undefined"===typeof window||!window.document||!window.document.createElement);function S(e,t){t(window.confirm(e))}var C="popstate",_="hashchange";function P(){try{return window.history.state||{}}catch(e){return{}}}function A(e){void 0===e&&(e={}),k||g(!1);var t=window.history,r=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),n=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,s=a.forceRefresh,i=void 0!==s&&s,o=a.getUserConfirmation,l=void 0===o?S:o,d=a.keyLength,u=void 0===d?6:d,h=e.basename?y(x(e.basename)):"";function p(e){var t=e||{},r=t.key,n=t.state,a=window.location,s=a.pathname+a.search+a.hash;return h&&(s=v(s,h)),j(s,n,r)}function m(){return Math.random().toString(36).substr(2,u)}var f=N();function b(e){c(B,e),B.length=t.length,f.notifyListeners(B.location,B.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||L(p(e.state))}function D(){L(p(P()))}var T=!1;function L(e){if(T)T=!1,b();else{f.confirmTransitionTo(e,"POP",l,function(t){t?b({action:"POP",location:e}):function(e){var t=B.location,r=I.indexOf(t.key);-1===r&&(r=0);var n=I.indexOf(e.key);-1===n&&(n=0);var a=r-n;a&&(T=!0,R(a))}(e)})}}var E=p(P()),I=[E.key];function M(e){return h+w(e)}function R(e){t.go(e)}var F=0;function z(e){1===(F+=e)&&1===e?(window.addEventListener(C,A),n&&window.addEventListener(_,D)):0===F&&(window.removeEventListener(C,A),n&&window.removeEventListener(_,D))}var O=!1;var B={length:t.length,action:"POP",location:E,createHref:M,push:function(e,n){var a="PUSH",s=j(e,n,m(),B.location);f.confirmTransitionTo(s,a,l,function(e){if(e){var n=M(s),o=s.key,l=s.state;if(r)if(t.pushState({key:o,state:l},null,n),i)window.location.href=n;else{var c=I.indexOf(B.location.key),d=I.slice(0,c+1);d.push(s.key),I=d,b({action:a,location:s})}else window.location.href=n}})},replace:function(e,n){var a="REPLACE",s=j(e,n,m(),B.location);f.confirmTransitionTo(s,a,l,function(e){if(e){var n=M(s),o=s.key,l=s.state;if(r)if(t.replaceState({key:o,state:l},null,n),i)window.location.replace(n);else{var c=I.indexOf(B.location.key);-1!==c&&(I[c]=s.key),b({action:a,location:s})}else window.location.replace(n)}})},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return O||(z(1),O=!0),function(){return O&&(O=!1,z(-1)),t()}},listen:function(e){var t=f.appendListener(e);return z(1),function(){z(-1),t()}}};return B}var D="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+b(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:b,decodePath:x},slash:{encodePath:x,decodePath:x}};function L(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function I(e){window.location.replace(L(window.location.href)+"#"+e)}function M(e){void 0===e&&{},k||g(!1);var t=window.history,r=(window.navigator.userAgent.indexOf("Firefox"),e),n=r.getUserConfirmation,a=void 0===n?S:n,s=r.hashType,i=void 0===s?"slash":s,o=e.basename?y(x(e.basename)):"",l=T[i],d=l.encodePath,u=l.decodePath;function h(){var e=u(E());return o&&v(e,o),j(e)}var p=N();function m(e){c(B,e),B.length=t.length,p.notifyListeners(B.location,B.action)}var f=!1,b=null;function C(){var e=E(),t=d(e);if(e!==t)I(t);else{var r=h(),n=B.location;if(!f&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(n,r))return;if(b===w(r))return;(function(e){if(f)m();else{var t="POP";p.confirmTransitionTo(e,t,a,function(r){r?m({action:t,location:e}):function(e){var t=B.location,r=M.lastIndexOf(w(t));-1===r&&0;var n=M.lastIndexOf(w(e));-1===n&&0;var a=r-n;a&&R(a)}(e)})}})(r)}}var _=E(),P=d(_);_!==P&&I(P);var A=h(),M=[w(A)];function R(e){t.go(e)}var F=0;function z(e){1===(F+=e)&&1===e?window.addEventListener(D,C):0===F&&window.removeEventListener(D,C)}var O=!1;var B={length:t.length,action:"POP",location:A,createHref:function(e){var t=document.querySelector("base"),r="";return t&&t.getAttribute("href")&&L(window.location.href),r+"#"+d(o+w(e))},push:function(e,t){var r="PUSH",n=j(e,void 0,void 0,B.location);p.confirmTransitionTo(n,r,a,function(e){if(e){var t=w(n),a=d(o+t);if(E()!==a){(function(e){window.location.hash=e})(a);var s=M.lastIndexOf(w(B.location)),i=M.slice(0,s+1);i.push(t),m({action:r,location:n})}else m()}})},replace:function(e,t){var r="REPLACE",n=j(e,void 0,void 0,B.location);p.confirmTransitionTo(n,r,a,function(e){if(e){var t=w(n),a=d(o+t);E()!==a&&I(a);var s=M.indexOf(w(B.location));-1!==s&&(M[s]=t),m({action:r,location:n})}})},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&!1;var t=p.setPrompt(e);return O||(z(1),!0),function(){return O&&z(-1),t()}},listen:function(e){var t=p.appendListener(e);return z(1),function(){z(-1),t()}}};return B}function R(e,t,r){return Math.min(Math.max(e,t),r)}var F=r(8123),z=r.n(F);r(7681);function O(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}r(219);var B=1073741823,U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:{};var q=t.createContext||function(e,r){var n,a,s="__create-react-context-"+function(){var e="__global_unique_id__";return U[e]=(U[e]||0)+1}()+"__",o=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(r,n){e=r,t.forEach(function(t){return t(e,n)})}}}(t.props.value),t}i(t,e);var n=t.prototype;return n.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},n.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,n=this.props.value,a=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,a)?(t="function"===typeof r?r(n,a):B,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},n.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((n={})[s]=l().object.isRequired,n);var c=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,r){0!==((0|e.observedBits)&r)&&e.setState({value:e.getValue()})},e}i(r,t);var n=r.prototype;return n.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?B:t},n.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?B:e},n.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},n.getValue=function(){return this.context[s]?this.context[s].get():e},n.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},r}(t.Component);return c.contextTypes=((a={})[s]=l().object,a),{Provider:o,Consumer:c}},W=function(e){var t=q();return t.displayName=e,t},H=W("Router-History"),V=W("Router"),K=function(e){function r(t){var r;return(r=e.call(this,t)||this).state={location:t.history.location},r._isMounted=!1,r._pendingLocation=null,t.staticContext||(r.unlisten=t.history.listen(function(e){r._pendingLocation=e})),r}i(r,e),r.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=r.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(t){e._isMounted&&e.setState({location:t})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return t.createElement(V.Provider,{value:{history:this.props.history,location:this.state.location,match:r.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(H.Provider,{children:this.props.children||null,value:this.props.history}))},r}(t.Component);t.Component;var G=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(t.Component);var Y={},$=0;function J(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(Y[e])return Y[e];var t=z().compile(e);return $<1e4&&(Y[e]=t,$++),t}(e)(t,{pretty:!0})}function X(e){var r=e.computedMatch,n=e.to,a=e.push,s=void 0!==a&&a;return t.createElement(V.Consumer,null,function(e){e||g(!1);var a=e.history,i=e.staticContext,o=s?a.push:a.replace,l=j(r?"string"===typeof n?J(n,r.params):c({},n,{pathname:J(n.pathname,r.params)}):n);return i?(o(l),null):t.createElement(G,{onMount:function(){o(l)},onUpdate:function(e,t){var r=j(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&m(e.state,t.state)})(r,c({},l,{key:r.key}))||o(l)},to:n})})}var Q={},Z=0;function ee(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,a=r.exact,s=void 0!==a&&a,i=r.strict,o=void 0!==i&&i,l=r.sensitive,c=void 0!==l&&l;return[].concat(n).reduce(function(t,r){if(!r&&""!==r)return null;if(t)return t;var n=function(e,t){var r=""+t.end+t.strict+t.sensitive,n=Q[r]||(Q[r]={});if(n[e])return n[e];var a=[],s={regexp:z()(e,a,t),keys:a};return Z<1e4&&(n[e]=s,Z++),s}(r,{end:s,strict:o,sensitive:c}),a=n.regexp,i=n.keys,l=a.exec(e);if(!l)return null;var d=l[0],u=l.slice(1),h=e===d;return s&&!h?null:{path:r,url:"/"===r&&""===d?"/":d,isExact:h,params:i.reduce(function(e,t,r){return e[t.name]=u[r],e},{})}},null)}var te=function(e){function r(){return e.apply(this,arguments)||this}return i(r,e),r.prototype.render=function(){var e=this;return t.createElement(V.Consumer,null,function(r){r||g(!1);var n=e.props.location||r.location,a=c({},r,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ee(n.pathname,e.props):r.match}),s=e.props,i=s.children,o=s.component,l=s.render;return Array.isArray(i)&&function(e){return 0===t.Children.count(e)}(i)&&(i=null),t.createElement(V.Provider,{value:a},a.match?i?"function"===typeof i?i(a):i:o?t.createElement(o,a):l?l(a):null:"function"===typeof i?i(a):null)})},r}(t.Component);function re(e){return"/"===e.charAt(0)?e:"/"+e}function ne(e,t){if(!e)return t;var r=re(e);return 0!==t.pathname.indexOf(r)?t:c({},t,{pathname:t.pathname.substr(r.length)})}function ae(e){return"string"===typeof e?e:w(e)}function se(e){return function(){g(!1)}}function ie(){}t.Component;var oe=function(e){function r(){return e.apply(this,arguments)||this}return i(r,e),r.prototype.render=function(){var e=this;return t.createElement(V.Consumer,null,function(r){r||g(!1);var n,a,s=e.props.location||r.location;return t.Children.forEach(e.props.children,function(e){if(null==a&&t.isValidElement(e)){n=e;var i=e.props.path||e.props.from;a=i?ee(s.pathname,c({},e.props,{path:i})):r.match}}),a?t.cloneElement(n,{location:s,computedMatch:a}):null})},r}(t.Component);var le=t.useContext;function ce(){return le(H)}function de(){return le(V).location}function ue(){var e=le(V).match;return e?e.params:{}}var he=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=A(t.props),t}return i(r,e),r.prototype.render=function(){return t.createElement(K,{history:this.history,children:this.props.children})},r}(t.Component);t.Component;var pe=function(e,t){return"function"===typeof e?e(t):e},me=function(e,t){return"string"===typeof e?j(e,null,null,t):e},fe=function(e){return e},ge=t.forwardRef;"undefined"===typeof ge&&(ge=fe);var xe=ge(function(e,r){var n=e.innerRef,a=e.navigate,s=e.onClick,i=O(e,["innerRef","navigate","onClick"]),o=i.target,l=c({},i,{onClick:function(e){try{s&&s(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),a())}});return l.ref=fe!==ge&&r||n,t.createElement("a",l)});var be=ge(function(e,r){var n=e.component,a=void 0===n?xe:n,s=e.replace,i=e.to,o=e.innerRef,l=O(e,["component","replace","to","innerRef"]);return t.createElement(V.Consumer,null,function(e){e||g(!1);var n=e.history,d=me(pe(i,e.location),e.location),u=d?n.createHref(d):"",h=c({},l,{href:u,navigate:function(){var t=pe(i,e.location),r=w(e.location)===w(me(t));(s||r?n.replace:n.push)(t)}});return fe!==ge?h.ref=r||o:h.innerRef=o,t.createElement(a,h)})}),ve=function(e){return e},ye=t.forwardRef;"undefined"===typeof ye&&(ye=ve);ye(function(e,r){var n=e["aria-current"],a=void 0===n?"page":n,s=e.activeClassName,i=void 0===s?"active":s,o=e.activeStyle,l=e.className,d=e.exact,u=e.isActive,h=e.location,p=e.sensitive,m=e.strict,f=e.style,x=e.to,b=e.innerRef,v=O(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(V.Consumer,null,function(e){e||g(!1);var n=h||e.location,s=me(pe(x,n),n),y=s.pathname,w=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),j=w?ee(n.pathname,{path:w,exact:d,sensitive:p,strict:m}):null,N=!!(u?u(j,n):j),k="function"===typeof l?l(N):l,S="function"===typeof f?f(N):f;N&&(k=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(e){return e}).join(" ")}(k,i),S=c({},S,o));var C=c({"aria-current":N&&a||null,className:k,style:S,to:s},v);return ve!==ye?C.ref=r||b:C.innerRef=b,t.createElement(be,C)})});var we=r(4467);function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach(function(t){(0,we.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ke(e,t){if(null==e)return{};var r,n,a=O(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Se(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ce}=Object.prototype,{getPrototypeOf:_e}=Object,{iterator:Pe,toStringTag:Ae}=Symbol,De=(e=>t=>{const r=Ce.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Te=e=>(e=e.toLowerCase(),t=>De(t)===e),Le=e=>t=>typeof t===e,{isArray:Ee}=Array,Ie=Le("undefined");function Me(e){return null!==e&&!Ie(e)&&null!==e.constructor&&!Ie(e.constructor)&&ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Re=Te("ArrayBuffer");const Fe=Le("string"),ze=Le("function"),Oe=Le("number"),Be=e=>null!==e&&"object"===typeof e,Ue=e=>{if("object"!==De(e))return!1;const t=_e(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ae in e)&&!(Pe in e)},qe=Te("Date"),We=Te("File"),He=Te("Blob"),Ve=Te("FileList"),Ke=Te("URLSearchParams"),[Ge,Ye,$e,Je]=["ReadableStream","Request","Response","Headers"].map(Te);function Xe(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ee(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Me(e))return;const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let i;for(r=0;r<s;r++)i=n[r],t.call(null,e[i],i,e)}}function Qe(e,t){if(Me(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const Ze="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:r.g,et=e=>!Ie(e)&&e!==Ze;const tt=(rt="undefined"!==typeof Uint8Array&&_e(Uint8Array),e=>rt&&e instanceof rt);var rt;const nt=Te("HTMLFormElement"),at=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),st=Te("RegExp"),it=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Xe(r,(r,a)=>{let s;!1!==(s=t(r,a,e))&&(n[a]=s||r)}),Object.defineProperties(e,n)};const ot=Te("AsyncFunction"),lt=(ct="function"===typeof setImmediate,dt=ze(Ze.postMessage),ct?setImmediate:dt?((e,t)=>(Ze.addEventListener("message",r=>{let{source:n,data:a}=r;n===Ze&&a===e&&t.length&&t.shift()()},!1),r=>{t.push(r),Ze.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e));var ct,dt;const ut="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ze):"undefined"!==typeof process&&process.nextTick||lt,ht={isArray:Ee,isArrayBuffer:Re,isBuffer:Me,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ze(e.append)&&("formdata"===(t=De(e))||"object"===t&&ze(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Re(e.buffer),t},isString:Fe,isNumber:Oe,isBoolean:e=>!0===e||!1===e,isObject:Be,isPlainObject:Ue,isEmptyObject:e=>{if(!Be(e)||Me(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:Ge,isRequest:Ye,isResponse:$e,isHeaders:Je,isUndefined:Ie,isDate:qe,isFile:We,isBlob:He,isRegExp:st,isFunction:ze,isStream:e=>Be(e)&&ze(e.pipe),isURLSearchParams:Ke,isTypedArray:tt,isFileList:Ve,forEach:Xe,merge:function e(){const{caseless:t,skipUndefined:r}=et(this)&&this||{},n={},a=(a,s)=>{const i=t&&Qe(n,s)||s;Ue(n[i])&&Ue(a)?n[i]=e(n[i],a):Ue(a)?n[i]=e({},a):Ee(a)?n[i]=a.slice():r&&Ie(a)||(n[i]=a)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Xe(arguments[s],a);return n},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Xe(t,(t,n)=>{r&&ze(t)?Object.defineProperty(e,n,{value:Se(t,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,s,i;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],n&&!n(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==r&&_e(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:De,kindOfTest:Te,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Ee(e))return e;let t=e.length;if(!Oe(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Pe]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:nt,hasOwnProperty:at,hasOwnProp:at,reduceDescriptors:it,freezeMethods:e=>{it(e,(t,r)=>{if(ze(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];ze(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return Ee(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Qe,global:Ze,isContextDefined:et,isSpecCompliantForm:function(e){return!!(e&&ze(e.append)&&"FormData"===e[Ae]&&e[Pe])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(Be(e)){if(t.indexOf(e)>=0)return;if(Me(e))return e;if(!("toJSON"in e)){t[n]=e;const a=Ee(e)?[]:{};return Xe(e,(e,t)=>{const s=r(e,n+1);!Ie(s)&&(a[t]=s)}),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:ot,isThenable:e=>e&&(Be(e)||ze(e))&&ze(e.then)&&ze(e.catch),setImmediate:lt,asap:ut,isIterable:e=>null!=e&&ze(e[Pe])};class pt extends Error{static from(e,t,r,n,a,s){const i=new pt(e.message,t||e.code,r,n,a);return i.cause=e,i.name=e.name,s&&Object.assign(i,s),i}constructor(e,t,r,n,a){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ht.toJSONObject(this.config),code:this.code,status:this.status}}}pt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",pt.ERR_BAD_OPTION="ERR_BAD_OPTION",pt.ECONNABORTED="ECONNABORTED",pt.ETIMEDOUT="ETIMEDOUT",pt.ERR_NETWORK="ERR_NETWORK",pt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",pt.ERR_DEPRECATED="ERR_DEPRECATED",pt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",pt.ERR_BAD_REQUEST="ERR_BAD_REQUEST",pt.ERR_CANCELED="ERR_CANCELED",pt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",pt.ERR_INVALID_URL="ERR_INVALID_URL";const mt=pt;function ft(e){return ht.isPlainObject(e)||ht.isArray(e)}function gt(e){return ht.endsWith(e,"[]")?e.slice(0,-2):e}function xt(e,t,r){return e?e.concat(t).map(function(e,t){return e=gt(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const bt=ht.toFlatObject(ht,{},null,function(e){return/^is[A-Z]/.test(e)});const vt=function(e,t,r){if(!ht.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=ht.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ht.isUndefined(t[e])})).metaTokens,a=r.visitor||c,s=r.dots,i=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&ht.isSpecCompliantForm(t);if(!ht.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ht.isDate(e))return e.toISOString();if(ht.isBoolean(e))return e.toString();if(!o&&ht.isBlob(e))throw new mt("Blob is not supported. Use a Buffer instead.");return ht.isArrayBuffer(e)||ht.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let o=e;if(e&&!a&&"object"===typeof e)if(ht.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(ht.isArray(e)&&function(e){return ht.isArray(e)&&!e.some(ft)}(e)||(ht.isFileList(e)||ht.endsWith(r,"[]"))&&(o=ht.toArray(e)))return r=gt(r),o.forEach(function(e,n){!ht.isUndefined(e)&&null!==e&&t.append(!0===i?xt([r],n,s):null===i?r:r+"[]",l(e))}),!1;return!!ft(e)||(t.append(xt(a,r,s),l(e)),!1)}const d=[],u=Object.assign(bt,{defaultVisitor:c,convertValue:l,isVisitable:ft});if(!ht.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!ht.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),ht.forEach(r,function(r,s){!0===(!(ht.isUndefined(r)||null===r)&&a.call(t,r,ht.isString(s)?s.trim():s,n,u))&&e(r,n?n.concat(s):[s])}),d.pop()}}(e),t};function yt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function wt(e,t){this._pairs=[],e&&vt(e,this,t)}const jt=wt.prototype;jt.append=function(e,t){this._pairs.push([e,t])},jt.toString=function(e){const t=e?function(t){return e.call(this,t,yt)}:yt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Nt=wt;function kt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function St(e,t,r){if(!t)return e;const n=r&&r.encode||kt,a=ht.isFunction(r)?{serialize:r}:r,s=a&&a.serialize;let i;if(i=s?s(t,a):ht.isURLSearchParams(t)?t.toString():new Nt(t,a).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Ct=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ht.forEach(this.handlers,function(t){null!==t&&e(t)})}},_t={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Nt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},At="undefined"!==typeof window&&"undefined"!==typeof document,Dt="object"===typeof navigator&&navigator||void 0,Tt=At&&(!Dt||["ReactNative","NativeScript","NS"].indexOf(Dt.product)<0),Lt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Et=At&&window.location.href||"http://localhost",It=Ne(Ne({},e),Pt);const Mt=function(e){function t(e,r,n,a){let s=e[a++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=a>=e.length;if(s=!s&&ht.isArray(n)?n.length:s,o)return ht.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!i;n[s]&&ht.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],a)&&ht.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}(n[s])),!i}if(ht.isFormData(e)&&ht.isFunction(e.entries)){const r={};return ht.forEachEntry(e,(e,n)=>{t(function(e){return ht.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null};const Rt={transitional:_t,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=ht.isObject(e);a&&ht.isHTMLForm(e)&&(e=new FormData(e));if(ht.isFormData(e))return n?JSON.stringify(Mt(e)):e;if(ht.isArrayBuffer(e)||ht.isBuffer(e)||ht.isStream(e)||ht.isFile(e)||ht.isBlob(e)||ht.isReadableStream(e))return e;if(ht.isArrayBufferView(e))return e.buffer;if(ht.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return vt(e,new It.classes.URLSearchParams,Ne({visitor:function(e,t,r,n){return It.isNode&&ht.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=ht.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return vt(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(ht.isString(e))try{return(t||JSON.parse)(e),ht.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Rt.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(ht.isResponse(e)||ht.isReadableStream(e))return e;if(e&&ht.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(a){if(r){if("SyntaxError"===a.name)throw mt.from(a,mt.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:It.classes.FormData,Blob:It.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ht.forEach(["delete","get","head","post","put","patch"],e=>{Rt.headers[e]={}});const Ft=Rt,zt=ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ot=Symbol("internals");function Bt(e){return e&&String(e).trim().toLowerCase()}function Ut(e){return!1===e||null==e?e:ht.isArray(e)?e.map(Ut):String(e)}function qt(e,t,r,n,a){return ht.isFunction(n)?n.call(this,t,r):(a&&(t=r),ht.isString(t)?ht.isString(n)?-1!==t.indexOf(n):ht.isRegExp(n)?n.test(t):void 0:void 0)}class Wt{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=Bt(t);if(!a)throw new Error("header name must be a non-empty string");const s=ht.findKey(n,a);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=Ut(e))}const s=(e,t)=>ht.forEach(e,(e,r)=>a(e,r,t));if(ht.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ht.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&zt[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(ht.isObject(e)&&ht.isIterable(e)){let r,n,a={};for(const t of e){if(!ht.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(r=a[n])?ht.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=Bt(e)){const r=ht.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(ht.isFunction(t))return t.call(this,e,r);if(ht.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Bt(e)){const r=ht.findKey(this,e);return!(!r||void 0===this[r]||t&&!qt(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=Bt(e)){const a=ht.findKey(r,e);!a||t&&!qt(0,r[a],a,t)||(delete r[a],n=!0)}}return ht.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!qt(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return ht.forEach(this,(n,a)=>{const s=ht.findKey(r,a);if(s)return t[s]=Ut(n),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(a):String(a).trim();i!==a&&delete t[a],t[i]=Ut(n),r[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ht.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&ht.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Ot]=this[Ot]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=Bt(e);t[n]||(!function(e,t){const r=ht.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})})}(r,e),t[n]=!0)}return ht.isArray(e)?e.forEach(n):n(e),this}}Wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ht.reduceDescriptors(Wt.prototype,(e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}}),ht.freezeMethods(Wt);const Ht=Wt;function Vt(e,t){const r=this||Ft,n=t||r,a=Ht.from(n.headers);let s=n.data;return ht.forEach(e,function(e){s=e.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Kt(e){return!(!e||!e.__CANCEL__)}const Gt=class extends mt{constructor(e,t,r){super(null==e?"canceled":e,mt.ERR_CANCELED,t,r),this.name="CanceledError",this.__CANCEL__=!0}};function Yt(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new mt("Request failed with status code "+r.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const $t=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[i];a||(a=l),r[s]=o,n[s]=l;let d=i,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Jt=function(e,t){let r,n,a=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(r=l,n||(n=setTimeout(()=>{n=null,i(r)},s-t)))},()=>r&&i(r)]},Xt=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=$t(50,250);return Jt(r=>{const s=r.loaded,i=r.lengthComputable?r.total:void 0,o=s-n,l=a(o);n=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})},r)},Qt=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Zt=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ht.asap(()=>e(...r))},er=It.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,It.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(It.origin),It.navigator&&/(msie|trident)/i.test(It.navigator.userAgent)):()=>!0,tr=It.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];ht.isNumber(r)&&o.push("expires=".concat(new Date(r).toUTCString())),ht.isString(n)&&o.push("path=".concat(n)),ht.isString(a)&&o.push("domain=".concat(a)),!0===s&&o.push("secure"),ht.isString(i)&&o.push("SameSite=".concat(i)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function rr(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const nr=e=>e instanceof Ht?Ne({},e):e;function ar(e,t){t=t||{};const r={};function n(e,t,r,n){return ht.isPlainObject(e)&&ht.isPlainObject(t)?ht.merge.call({caseless:n},e,t):ht.isPlainObject(t)?ht.merge({},t):ht.isArray(t)?t.slice():t}function a(e,t,r,a){return ht.isUndefined(t)?ht.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function s(e,t){if(!ht.isUndefined(t))return n(void 0,t)}function i(e,t){return ht.isUndefined(t)?ht.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(r,a,s){return s in t?n(r,a):s in e?n(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,r)=>a(nr(e),nr(t),0,!0)};return ht.forEach(Object.keys(Ne(Ne({},e),t)),function(n){const s=l[n]||a,i=s(e[n],t[n],n);ht.isUndefined(i)&&s!==o||(r[n]=i)}),r}const sr=e=>{const t=ar({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=Ht.from(i),t.url=St(rr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),ht.isFormData(r))if(It.hasStandardBrowserEnv||It.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(ht.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[r,n]=e;t.includes(r.toLowerCase())&&i.set(r,n)})}if(It.hasStandardBrowserEnv&&(n&&ht.isFunction(n)&&(n=n(t)),n||!1!==n&&er(t.url))){const e=a&&s&&tr.read(s);e&&i.set(a,e)}return t},ir="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=sr(e);let a=n.data;const s=Ht.from(n.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=n;function m(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function g(){if(!f)return;const n=Ht.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Yt(function(e){t(e),m()},function(e){r(e),m()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(r(new mt("Request aborted",mt.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const n=t&&t.message?t.message:"Network Error",a=new mt(n,mt.ERR_NETWORK,e,f);a.event=t||null,r(a),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||_t;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new mt(t,a.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,e,f)),f=null},void 0===a&&s.setContentType(null),"setRequestHeader"in f&&ht.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),ht.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),p&&([l,d]=Xt(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=Xt(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{f&&(r(!t||t.type?new Gt(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);x&&-1===It.protocols.indexOf(x)?r(new mt("Unsupported protocol "+x+":",mt.ERR_BAD_REQUEST,e)):f.send(a||null)})},or=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof mt?t:new Gt(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new mt("timeout of ".concat(t,"ms exceeded"),mt.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=n;return o.unsubscribe=()=>ht.asap(i),o}};function lr(e,t){this.v=e,this.k=t}function cr(e){return function(){return new dr(e.apply(this,arguments))}}function dr(e){var t,r;function n(t,r){try{var s=e[t](r),i=s.value,o=i instanceof lr;Promise.resolve(o?i.v:i).then(function(r){if(o){var l="return"===t?"return":"next";if(!i.k||r.done)return n(l,r);r=e[l](r).value}a(s.done?"return":"normal",r)},function(e){n("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,a){return new Promise(function(s,i){var o={key:e,arg:a,resolve:s,reject:i,next:null};r?r=r.next=o:(t=r=o,n(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function ur(e){return new lr(e,0)}function hr(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:new lr(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function pr(e){var t,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new mr(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function mr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return mr=function(e){this.s=e,this.n=e.next},mr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new mr(e)}dr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},dr.prototype.next=function(e){return this._invoke("next",e)},dr.prototype.throw=function(e){return this._invoke("throw",e)},dr.prototype.return=function(e){return this._invoke("return",e)};const fr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},gr=function(){var e=cr(function*(e,t){var r,n=!1,a=!1;try{for(var s,i=pr(xr(e));n=!(s=yield ur(i.next())).done;n=!1){const e=s.value;yield*hr(pr(fr(e,t)))}}catch(o){a=!0,r=o}finally{try{n&&null!=i.return&&(yield ur(i.return()))}finally{if(a)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),xr=function(){var e=cr(function*(e){if(e[Symbol.asyncIterator])return void(yield*hr(pr(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield ur(t.read());if(e)break;yield r}}finally{yield ur(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),br=(e,t,r,n)=>{const a=gr(e,t);let s,i=0,o=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return o(),void e.close();let s=n.byteLength;if(r){let e=i+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},{isFunction:vr}=ht,yr=(e=>{let{Request:t,Response:r}=e;return{Request:t,Response:r}})(ht.global),{ReadableStream:wr,TextEncoder:jr}=ht.global,Nr=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(a){return!1}},kr=e=>{e=ht.merge.call({skipUndefined:!0},yr,e);const{fetch:t,Request:r,Response:n}=e,a=t?vr(t):"function"===typeof fetch,s=vr(r),i=vr(n);if(!a)return!1;const o=a&&vr(wr),l=a&&("function"===typeof jr?(e=>t=>e.encode(t))(new jr):async e=>new Uint8Array(await new r(e).arrayBuffer())),c=s&&o&&Nr(()=>{let e=!1;const t=new r(It.origin,{body:new wr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=i&&o&&Nr(()=>ht.isReadableStream(new n("").body)),u={stream:d&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!u[e]&&(u[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new mt("Response type '".concat(e,"' is not supported"),mt.ERR_NOT_SUPPORT,r)})});const h=async(e,t)=>{const n=ht.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(ht.isBlob(e))return e.size;if(ht.isSpecCompliantForm(e)){const t=new r(It.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ht.isArrayBufferView(e)||ht.isArrayBuffer(e)?e.byteLength:(ht.isURLSearchParams(e)&&(e+=""),ht.isString(e)?(await l(e)).byteLength:void 0)})(t):n};return async e=>{let{url:a,method:i,data:o,signal:l,cancelToken:p,timeout:m,onDownloadProgress:f,onUploadProgress:g,responseType:x,headers:b,withCredentials:v="same-origin",fetchOptions:y}=sr(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let j=or([l,p&&p.toAbortSignal()],m),N=null;const k=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let S;try{if(g&&c&&"get"!==i&&"head"!==i&&0!==(S=await h(b,o))){let e,t=new r(a,{method:"POST",body:o,duplex:"half"});if(ht.isFormData(o)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,r]=Qt(S,Xt(Zt(g)));o=br(t.body,65536,e,r)}}ht.isString(v)||(v=v?"include":"omit");const t=s&&"credentials"in r.prototype,l=Ne(Ne({},y),{},{signal:j,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:t?v:void 0});N=s&&new r(a,l);let p=await(s?w(N,y):w(a,l));const m=d&&("stream"===x||"response"===x);if(d&&(f||m&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=p[t]});const t=ht.toFiniteNumber(p.headers.get("content-length")),[r,a]=f&&Qt(t,Xt(Zt(f),!0))||[];p=new n(br(p.body,65536,r,()=>{a&&a(),k&&k()}),e)}x=x||"text";let C=await u[ht.findKey(u,x)||"text"](p,e);return!m&&k&&k(),await new Promise((t,r)=>{Yt(t,r,{data:C,headers:Ht.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:N})})}catch(C){if(k&&k(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new mt("Network Error",mt.ERR_NETWORK,e,N),{cause:C.cause||C});throw mt.from(C,C&&C.code,e,N)}}},Sr=new Map,Cr=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i,o,l=s.length,c=Sr;for(;l--;)i=s[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:kr(t)),c=o;return o},_r=(Cr(),{http:null,xhr:ir,fetch:{get:Cr}});ht.forEach(_r,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});const Pr=e=>"- ".concat(e),Ar=e=>ht.isFunction(e)||null===e||!1===e;const Dr={getAdapter:function(e,t){e=ht.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){let r;if(n=e[i],a=n,!Ar(n)&&(a=_r[(r=String(n)).toLowerCase()],void 0===a))throw new mt("Unknown adapter '".concat(r,"'"));if(a&&(ht.isFunction(a)||(a=a.get(t))))break;s[r||"#"+i]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let t=r?e.length>1?"since :\n"+e.map(Pr).join("\n"):" "+Pr(e[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a},adapters:_r};function Tr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gt(null,e)}function Lr(e){Tr(e),e.headers=Ht.from(e.headers),e.data=Vt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Dr.getAdapter(e.adapter||Ft.adapter,e)(e).then(function(t){return Tr(e),t.data=Vt.call(e,e.transformResponse,t),t.headers=Ht.from(t.headers),t},function(t){return Kt(t)||(Tr(e),t&&t.response&&(t.response.data=Vt.call(e,e.transformResponse,t.response),t.response.headers=Ht.from(t.response.headers))),Promise.reject(t)})}const Er="1.13.4",Ir={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ir[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Mr={};Ir.transitional=function(e,t,r){function n(e,t){return"[Axios v"+Er+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,s)=>{if(!1===e)throw new mt(n(a," has been removed"+(t?" in "+t:"")),mt.ERR_DEPRECATED);return t&&!Mr[a]&&(Mr[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}},Ir.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const Rr={assertOptions:function(e,t,r){if("object"!==typeof e)throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const t=e[s],r=void 0===t||i(t,s,e);if(!0!==r)throw new mt("option "+s+" must be "+r,mt.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new mt("Unknown option "+s,mt.ERR_BAD_OPTION)}},validators:Ir},Fr=Rr.validators;class zr{constructor(e){this.defaults=e||{},this.interceptors={request:new Ct,response:new Ct}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(n){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ar(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&Rr.assertOptions(r,{silentJSONParsing:Fr.transitional(Fr.boolean),forcedJSONParsing:Fr.transitional(Fr.boolean),clarifyTimeoutError:Fr.transitional(Fr.boolean)},!1),null!=n&&(ht.isFunction(n)?t.paramsSerializer={serialize:n}:Rr.assertOptions(n,{encode:Fr.function,serialize:Fr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Rr.assertOptions(t,{baseUrl:Fr.spelling("baseURL"),withXsrfToken:Fr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ht.merge(a.common,a[t.method]);a&&ht.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Ht.concat(s,a);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Lr.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(lb){t.call(this,lb);break}}try{c=Lr.call(this,h)}catch(lb){return Promise.reject(lb)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return St(rr((e=ar(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}ht.forEach(["delete","get","head","options"],function(e){zr.prototype[e]=function(t,r){return this.request(ar(r||{},{method:e,url:t,data:(r||{}).data}))}}),ht.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,a){return this.request(ar(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}zr.prototype[e]=t(),zr.prototype[e+"Form"]=t(!0)});const Or=zr;class Br{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,a){r.reason||(r.reason=new Gt(e,n,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Br(function(t){e=t});return{token:t,cancel:e}}}const Ur=Br;const qr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(qr).forEach(e=>{let[t,r]=e;qr[r]=t});const Wr=qr;const Hr=function e(t){const r=new Or(t),n=Se(Or.prototype.request,r);return ht.extend(n,Or.prototype,r,{allOwnKeys:!0}),ht.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(ar(t,r))},n}(Ft);Hr.Axios=Or,Hr.CanceledError=Gt,Hr.CancelToken=Ur,Hr.isCancel=Kt,Hr.VERSION=Er,Hr.toFormData=vt,Hr.AxiosError=mt,Hr.Cancel=Hr.CanceledError,Hr.all=function(e){return Promise.all(e)},Hr.spread=function(e){return function(t){return e.apply(null,t)}},Hr.isAxiosError=function(e){return ht.isObject(e)&&!0===e.isAxiosError},Hr.mergeConfig=ar,Hr.AxiosHeaders=Ht,Hr.formToJSON=e=>Mt(ht.isHTMLForm(e)?new FormData(e):e),Hr.getAdapter=Dr.getAdapter,Hr.HttpStatusCode=Wr,Hr.default=Hr;const Vr=Hr,Kr="undefined"!==typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),Gr=Kr?"http://localhost:5007":"",Yr=e=>{const t=e.startsWith("/api")?e:"/api".concat(e);return"".concat(Gr).concat(t)};var $r=r(579);const Jr=(0,t.createContext)(),Xr=e=>{let{children:r}=e;const[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(0),[o,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{c();const e=setInterval(c,6e4);return()=>clearInterval(e)},[]);const c=async()=>{try{let t=null;try{"undefined"!==typeof Storage&&"undefined"!==typeof localStorage&&(t=localStorage.getItem("token"))}catch(e){return console.warn("Cannot access localStorage for token:",e),void l(!1)}if(!t)return void l(!1);const r=await Vr.get("".concat(Gr,"/api/notifications"),{headers:{Authorization:"Bearer ".concat(t)}});a(r.data.notifications||[]),i(r.data.unreadCount||0),l(!1)}catch(lb){console.warn("Error fetching notifications:",lb),l(!1)}};return(0,$r.jsx)(Jr.Provider,{value:{notifications:n,unreadCount:s,loading:o,fetchNotifications:c,markAsRead:async e=>{try{let r=null;try{r=localStorage.getItem("token")}catch(t){}if(!r)return;await Vr.put("".concat(Gr,"/api/notifications/").concat(e,"/read"),null,{headers:{Authorization:"Bearer ".concat(r)}}),a(t=>t.map(t=>t.id===e?Ne(Ne({},t),{},{read:!0}):t)),i(e=>Math.max(0,e-1))}catch(lb){console.error("Error marking notification as read:",lb)}},markAllAsRead:async()=>{try{let t=null;try{t=localStorage.getItem("token")}catch(e){}if(!t)return;await Vr.put("".concat(Gr,"/api/notifications/read-all"),null,{headers:{Authorization:"Bearer ".concat(t)}}),a(e=>e.map(e=>Ne(Ne({},e),{},{read:!0}))),i(0)}catch(lb){console.error("Error marking all notifications as read:",lb)}},addLocalNotification:e=>{const t=Ne(Ne({id:"local-".concat(Date.now())},e),{},{read:!1,local:!0,time:"Just now"});a(e=>[t,...e]),i(e=>e+1)}},children:r})},Qr=()=>(0,t.useContext)(Jr);var Zr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},en=t.createContext&&t.createContext(Zr),tn=function(){return tn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},tn.apply(this,arguments)},rn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};function nn(e){return e&&e.map(function(e,r){return t.createElement(e.tag,tn({key:r},e.attr),nn(e.child))})}function an(e){return function(r){return t.createElement(sn,tn({attr:tn({},e.attr)},r),nn(e.child))}}function sn(e){var r=function(r){var n,a=e.attr,s=e.size,i=e.title,o=rn(e,["attr","size","title"]),l=s||r.size||"1em";return r.className&&(n=r.className),e.className&&(n=(n?n+" ":"")+e.className),t.createElement("svg",tn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,o,{className:n,style:tn(tn({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&t.createElement("title",null,i),e.children)};return void 0!==en?t.createElement(en.Consumer,null,function(e){return r(e)}):r(Zr)}function on(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 12h4l3 8l4 -16l3 8h4"}}]})(e)}function ln(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}},{tag:"path",attr:{d:"M12 8v4"}},{tag:"path",attr:{d:"M12 16h.01"}}]})(e)}function cn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 9v4"}},{tag:"path",attr:{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z"}},{tag:"path",attr:{d:"M12 16h.01"}}]})(e)}function dn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 5l0 14"}},{tag:"path",attr:{d:"M18 13l-6 6"}},{tag:"path",attr:{d:"M6 13l6 6"}}]})(e)}function un(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M5 12l14 0"}},{tag:"path",attr:{d:"M5 12l6 6"}},{tag:"path",attr:{d:"M5 12l6 -6"}}]})(e)}function hn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 5l0 14"}},{tag:"path",attr:{d:"M18 11l-6 -6"}},{tag:"path",attr:{d:"M6 11l6 -6"}}]})(e)}function pn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}},{tag:"path",attr:{d:"M5.7 5.7l12.6 12.6"}}]})(e)}function mn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"}},{tag:"path",attr:{d:"M9 17v1a3 3 0 0 0 6 0v-1"}}]})(e)}function fn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}},{tag:"path",attr:{d:"M8 7v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2"}},{tag:"path",attr:{d:"M12 12l0 .01"}},{tag:"path",attr:{d:"M3 13a20 20 0 0 0 18 0"}}]})(e)}function gn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 21l18 0"}},{tag:"path",attr:{d:"M5 21v-14l8 -4v18"}},{tag:"path",attr:{d:"M19 21v-10l-6 -4"}},{tag:"path",attr:{d:"M9 9l0 .01"}},{tag:"path",attr:{d:"M9 12l0 .01"}},{tag:"path",attr:{d:"M9 15l0 .01"}},{tag:"path",attr:{d:"M9 18l0 .01"}}]})(e)}function xn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 21l18 0"}},{tag:"path",attr:{d:"M9 8l1 0"}},{tag:"path",attr:{d:"M9 12l1 0"}},{tag:"path",attr:{d:"M9 16l1 0"}},{tag:"path",attr:{d:"M14 8l1 0"}},{tag:"path",attr:{d:"M14 12l1 0"}},{tag:"path",attr:{d:"M14 16l1 0"}},{tag:"path",attr:{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16"}}]})(e)}function bn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M13 21h-7a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6"}},{tag:"path",attr:{d:"M16 3v4"}},{tag:"path",attr:{d:"M8 3v4"}},{tag:"path",attr:{d:"M4 11h16"}},{tag:"path",attr:{d:"M17 17v5"}},{tag:"path",attr:{d:"M21 17v5"}}]})(e)}function vn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z"}},{tag:"path",attr:{d:"M16 3v4"}},{tag:"path",attr:{d:"M8 3v4"}},{tag:"path",attr:{d:"M4 11h16"}},{tag:"path",attr:{d:"M11 15h1"}},{tag:"path",attr:{d:"M12 15v3"}}]})(e)}function yn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2"}},{tag:"path",attr:{d:"M9 13a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}}]})(e)}function wn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 12m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M9 8m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M15 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M4 20l14 0"}}]})(e)}function jn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M5 12l5 5l10 -10"}}]})(e)}function Nn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M6 9l6 6l6 -6"}}]})(e)}function kn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M15 6l-6 6l6 6"}}]})(e)}function Sn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 6l6 6l-6 6"}}]})(e)}function Cn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}},{tag:"path",attr:{d:"M9 12l2 2l4 -4"}}]})(e)}function _n(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}},{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}}]})(e)}function Pn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"}},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}}]})(e)}function An(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}},{tag:"path",attr:{d:"M12 7v5l3 3"}}]})(e)}function Dn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2"}},{tag:"path",attr:{d:"M12 3v3m0 12v3"}}]})(e)}function Tn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 13m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M13.45 11.55l2.05 -2.05"}},{tag:"path",attr:{d:"M6.4 20a9 9 0 1 1 11.2 0z"}}]})(e)}function Ln(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}},{tag:"path",attr:{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M14 4l0 4l-6 0l0 -4"}}]})(e)}function En(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}},{tag:"path",attr:{d:"M7 11l5 5l5 -5"}},{tag:"path",attr:{d:"M12 4l0 12"}}]})(e)}function In(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}},{tag:"path",attr:{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}},{tag:"path",attr:{d:"M16 5l3 3"}}]})(e)}function Mn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}},{tag:"path",attr:{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"}}]})(e)}function Rn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"}},{tag:"path",attr:{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}},{tag:"path",attr:{d:"M9 17h6"}},{tag:"path",attr:{d:"M9 13h6"}}]})(e)}function Fn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"}},{tag:"path",attr:{d:"M11.5 21h-4.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v5m-5 6h7m-3 -3l3 3l-3 3"}}]})(e)}function zn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"}},{tag:"path",attr:{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}},{tag:"path",attr:{d:"M9 7l1 0"}},{tag:"path",attr:{d:"M9 13l6 0"}},{tag:"path",attr:{d:"M13 17l2 0"}}]})(e)}function On(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"}},{tag:"path",attr:{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}},{tag:"path",attr:{d:"M9 9l1 0"}},{tag:"path",attr:{d:"M9 13l6 0"}},{tag:"path",attr:{d:"M9 17l6 0"}}]})(e)}function Bn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M8 4h12v2.172a2 2 0 0 1 -.586 1.414l-3.914 3.914m-.5 3.5v4l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227"}},{tag:"path",attr:{d:"M3 3l18 18"}}]})(e)}function Un(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"}}]})(e)}function qn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M8 11v-3.5a1.5 1.5 0 0 1 3 0v2.5"}},{tag:"path",attr:{d:"M11 9.5v-3a1.5 1.5 0 0 1 3 0v3.5"}},{tag:"path",attr:{d:"M14 7.5a1.5 1.5 0 0 1 3 0v2.5"}},{tag:"path",attr:{d:"M17 9.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"}}]})(e)}function Wn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 4m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M7 20h10"}},{tag:"path",attr:{d:"M9 16v4"}},{tag:"path",attr:{d:"M15 16v4"}},{tag:"path",attr:{d:"M7 10h2l2 3l2 -6l1 3h3"}}]})(e)}function Hn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M6.5 7h11"}},{tag:"path",attr:{d:"M6.5 17h11"}},{tag:"path",attr:{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z"}}]})(e)}function Vn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 4m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v10a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z"}},{tag:"path",attr:{d:"M9 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M15 8l2 0"}},{tag:"path",attr:{d:"M15 12l2 0"}},{tag:"path",attr:{d:"M7 16l10 0"}}]})(e)}function Kn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M16.555 3.843l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.643 2.643a2.877 2.877 0 0 1 -4.069 0l-.301 -.301l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.877 2.877 0 0 1 0 -4.069l2.643 -2.643a2.877 2.877 0 0 1 4.069 0z"}},{tag:"path",attr:{d:"M15 9h.01"}}]})(e)}function Gn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}}]})(e)}function Yn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 6l11 0"}},{tag:"path",attr:{d:"M9 12l11 0"}},{tag:"path",attr:{d:"M9 18l11 0"}},{tag:"path",attr:{d:"M5 6l0 .01"}},{tag:"path",attr:{d:"M5 12l0 .01"}},{tag:"path",attr:{d:"M5 18l0 .01"}}]})(e)}function $n(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9"}}]})(e)}function Jn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z"}},{tag:"path",attr:{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0"}},{tag:"path",attr:{d:"M8 11v-4a4 4 0 1 1 8 0v4"}}]})(e)}function Xn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}},{tag:"path",attr:{d:"M9 12h12l-3 -3"}},{tag:"path",attr:{d:"M18 15l3 -3"}}]})(e)}function Qn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z"}},{tag:"path",attr:{d:"M3 7l9 6l9 -6"}}]})(e)}function Zn(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}},{tag:"path",attr:{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z"}}]})(e)}function ea(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M8 9h8"}},{tag:"path",attr:{d:"M8 13h6"}},{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"}}]})(e)}function ta(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5"}},{tag:"path",attr:{d:"M12 12l8 -4.5"}},{tag:"path",attr:{d:"M12 12l0 9"}},{tag:"path",attr:{d:"M12 12l-8 -4.5"}},{tag:"path",attr:{d:"M16 5.25l-8 4.5"}}]})(e)}function ra(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"}}]})(e)}function na(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 5l0 14"}},{tag:"path",attr:{d:"M5 12l14 0"}}]})(e)}function aa(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16l-3 -2l-2 2l-2 -2l-2 2l-2 -2l-3 2m4 -14h6m-6 4h6m-2 4h2"}}]})(e)}function sa(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"}},{tag:"path",attr:{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"}}]})(e)}function ia(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}},{tag:"path",attr:{d:"M21 21l-6 -6"}}]})(e)}function oa(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}}]})(e)}function la(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M11.46 20.846a12 12 0 0 1 -7.96 -14.846a12 12 0 0 0 8.5 -3a12 12 0 0 0 8.5 3a12 12 0 0 1 -.09 7.06"}},{tag:"path",attr:{d:"M15 19l2 2l4 -4"}}]})(e)}function ca(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}},{tag:"path",attr:{d:"M12 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M12 14l0 7"}},{tag:"path",attr:{d:"M10 12l-6.75 -2"}},{tag:"path",attr:{d:"M14 12l6.75 -2"}}]})(e)}function da(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 7l16 0"}},{tag:"path",attr:{d:"M10 11l0 6"}},{tag:"path",attr:{d:"M14 11l0 6"}},{tag:"path",attr:{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}},{tag:"path",attr:{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}}]})(e)}function ua(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M5 17h-2v-4m-1 -8h11v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"}},{tag:"path",attr:{d:"M3 9l4 0"}}]})(e)}function ha(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"}}]})(e)}function pa(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}},{tag:"path",attr:{d:"M7 9l5 -5l5 5"}},{tag:"path",attr:{d:"M12 4l0 12"}}]})(e)}function ma(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"}},{tag:"path",attr:{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}}]})(e)}function fa(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}},{tag:"path",attr:{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}},{tag:"path",attr:{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"}}]})(e)}function ga(e){return an({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M18 6l-12 12"}},{tag:"path",attr:{d:"M6 6l12 12"}}]})(e)}const xa=()=>{const e=de(),r=JSON.parse(localStorage.getItem("currentUser")||"{}"),[n,a]=(0,t.useState)({trucks:0,drivers:0,helpers:0,staff:0,clients:0,deliveries:0,pendingDeliveries:0,unreadNotifications:0,newAuditEntries:0,settingsUpdates:0}),s=(0,t.useCallback)(async()=>{try{const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{},r=Vr.create({headers:t}),n=[r.get("/api/trucks").catch(e=>({data:[]})),r.get("/api/drivers").catch(e=>({data:[]})),r.get("/api/helpers").catch(e=>({data:[]})),r.get("/api/staffs").catch(e=>({data:[]})),r.get("/api/clients").catch(e=>({data:[]})),r.get("/api/deliveries").catch(e=>({data:[]})),r.get("/api/deliveries/status/pending").catch(e=>({data:[]}))],[s,i,o,l,c,d,u]=await Promise.all(n);a({trucks:s.data.length||0,drivers:i.data.filter(e=>"active"===e.DriverStatus||"active"===e.driverStatus).length||0,helpers:o.data.filter(e=>"active"===e.HelperStatus||"active"===e.helperStatus).length||0,staff:l.data.filter(e=>"active"===e.StaffStatus||"active"===e.staffStatus).length||0,clients:c.data.filter(e=>"active"===e.ClientStatus||"active"===e.clientStatus).length||0,deliveries:d.data.length||0,pendingDeliveries:u.data.length||0,unreadNotifications:3})}catch(lb){console.log("\u26a0\ufe0f Using cached counts due to fetch error")}},[]);(0,t.useEffect)(()=>{s();const e=setInterval(()=>{s()},3e4);return window.addEventListener("refreshSidebar",s),()=>{clearInterval(e),window.removeEventListener("refreshSidebar",s)}},[s]),(0,t.useEffect)(()=>{s()},[e.pathname,s]);const i=t=>{let{to:r,icon:n,label:a,count:s,countColor:i="bg-primary-500",hot:o=!1,activeText:l=""}=t;return(0,$r.jsxs)(be,{to:r,className:"group flex items-center justify-between px-6 py-3.5 text-sm font-medium transition-all duration-200 ".concat((c=r,e.pathname.startsWith(c)?"bg-sidebar-active text-sidebar-text-active border-r-4 border-primary-500":"text-sidebar-text hover:bg-sidebar-hover hover:text-white")),children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)(n,{size:20,className:e.pathname.startsWith(r)?"text-primary-400":"text-gray-400 group-hover:text-white"}),(0,$r.jsx)("span",{children:a})]}),void 0!==s&&!l&&(0,$r.jsxs)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full ".concat(o?"bg-danger-500 text-white animate-pulse":"bg-sidebar-border text-gray-300"),children:[o&&"Hot ",s]}),l&&(0,$r.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-success-500/20 text-success-400 border border-success-500/30",children:l})]});var c},o=e=>{let{label:t,count:r}=e;return(0,$r.jsxs)("div",{className:"px-6 mt-8 mb-2 flex items-center justify-between text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[t,void 0!==r&&(0,$r.jsx)("span",{className:"text-gray-600",children:r})]})};return(0,$r.jsxs)("div",{className:"flex flex-col h-screen w-72 bg-sidebar-bg border-r border-sidebar-border shadow-sidebar fixed left-0 top-0 z-50 transition-all duration-300",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3 px-6 h-20 border-b border-sidebar-border bg-sidebar-bg/50 backdrop-blur-sm",children:[(0,$r.jsx)("img",{src:"/images/logo.webp",alt:"Trucking Logo",className:"w-10 h-10 object-contain"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h1",{className:"text-lg font-bold text-white tracking-tight",children:"Trucking MS"}),(0,$r.jsx)("p",{className:"text-xs text-sidebar-text",children:"Fleet Manager"})]})]}),(0,$r.jsx)("div",{className:"px-6 py-4 border-b border-sidebar-border bg-sidebar-hover/30",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-sidebar-active flex items-center justify-center text-primary-400 font-bold border border-sidebar-border",children:r.username?r.username.charAt(0).toUpperCase():"A"}),(0,$r.jsxs)("div",{className:"overflow-hidden",children:[(0,$r.jsx)("h4",{className:"text-sm font-semibold text-white truncate",children:r.username||"Admin User"}),(0,$r.jsxs)("div",{className:"flex items-center gap-1.5 mt-0.5",children:[(0,$r.jsx)("span",{className:"w-2 h-2 rounded-full bg-success-500"}),(0,$r.jsx)("p",{className:"text-xs text-sidebar-text capitalize",children:r.role||"Administrator"})]})]})]})}),(0,$r.jsxs)("div",{className:"flex-1 overflow-y-auto py-4 hide-scrollbar",children:[(0,$r.jsx)(i,{to:"/admin/dashboard",icon:Tn,label:"Dashboard"}),(0,$r.jsx)(o,{label:"Fleet Management",count:n.trucks}),(0,$r.jsx)(i,{to:"/admin/trucks/trucklist",icon:ha,label:"Trucks",count:n.trucks}),(0,$r.jsx)(i,{to:"/admin/deliveries/deliverylist",icon:ta,label:"Deliveries",count:n.pendingDeliveries,hot:n.pendingDeliveries>0}),(0,$r.jsx)(o,{label:"People",count:n.drivers+n.helpers+n.staff+n.clients}),(0,$r.jsx)(i,{to:"/admin/drivers/driverslist",icon:ca,label:"Drivers",activeText:"".concat(n.drivers," Active")}),(0,$r.jsx)(i,{to:"/admin/helpers/helperslist",icon:fa,label:"Helpers",count:n.helpers}),(0,$r.jsx)(i,{to:"/admin/staffs/stafflist",icon:ma,label:"Staff",count:n.staff}),(0,$r.jsx)(i,{to:"/admin/clients/clientlist",icon:gn,label:"Clients",count:n.clients}),(0,$r.jsx)(o,{label:"Finance"}),(0,$r.jsx)(i,{to:"/admin/payments",icon:zn,label:"Payment Records"})]}),(0,$r.jsx)("div",{className:"p-4 border-t border-sidebar-border bg-sidebar-bg",children:(0,$r.jsxs)(be,{to:"/logout",className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-sidebar-hover text-sidebar-text hover:bg-danger-500/10 hover:text-danger-500 hover:border-danger-500/20 border border-transparent transition-all duration-200 group",children:[(0,$r.jsx)(Xn,{size:20,className:"group-hover:text-danger-500 transition-colors"}),(0,$r.jsx)("span",{className:"font-medium text-sm",children:"Sign Out"})]})})]})},ba=e=>{try{const r=localStorage.getItem(e);if(!r)return null;if("token"===e)return r;try{return JSON.parse(r)}catch(t){return console.error("Error parsing item ".concat(e," from localStorage:"),t),localStorage.removeItem(e),null}}catch(lb){return console.error("Error getting item ".concat(e," from localStorage:"),lb),null}},va=(e,t)=>{try{return"token"===e?(localStorage.setItem(e,t),!0):(localStorage.setItem(e,JSON.stringify(t)),!0)}catch(lb){return console.error("Error setting item ".concat(e," in localStorage:"),lb),!1}},ya=e=>{try{return localStorage.removeItem(e),!0}catch(lb){return console.error("Error removing item ".concat(e," from localStorage:"),lb),!1}},wa=(0,t.createContext)(),ja=e=>{let{children:r}=e;const[n,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=(()=>{try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})();h(e),e||console.warn("localStorage is not available. Login state will not persist.")},[]),(0,t.useEffect)(()=>{(async()=>{if(!u)return console.warn("Storage not available, cannot load user data"),void i(!1);try{const t=ba("token");if(t){console.log("Found token in storage, setting in axios headers"),Vr.defaults.headers.common.Authorization="Bearer ".concat(t);const r=ba("currentUser");if(r&&r.id)console.log("Loaded user data from localStorage"),a(r),d(!0);else{console.log("Token found but no valid user data, fetching user data...");try{const e=await Vr.get(Yr("/auth/current-user"));console.log("User data retrieved:",e.data),a(e.data),d(!0),u&&va("currentUser",e.data)}catch(e){console.error("Failed to retrieve user data with token:",e.message),p()}}}else console.log("No token found in storage")}catch(t){console.error("Error loading user data:",t),u&&(ya("token"),ya("currentUser"))}finally{i(!1)}})()},[u]);const p=()=>{if(console.log("AuthContext: Logging out user"),delete Vr.defaults.headers.common.Authorization,u)try{ya("token"),ya("currentUser");try{localStorage.removeItem("token"),localStorage.removeItem("currentUser"),localStorage.removeItem("userData")}catch(e){console.error("Direct localStorage removal failed:",e)}}catch(t){console.error("Error clearing localStorage during logout:",t)}a(null),d(!1),l(null),console.log("AuthContext: Logout complete, redirecting to login..."),window.location.href="/login"};(0,t.useEffect)(()=>{if(!c||!n)return;const e=setInterval(async()=>{try{const e=ba("token");if(!e)return;const t=await Vr.get(Yr("/auth/validate-session"),{headers:{Authorization:"Bearer ".concat(e)}});t.data.valid||(console.log("Session invalidated - logging out"),alert(t.data.message||"Your session has been ended because you logged in from another device."),p())}catch(n){var e,t,r;401===(null===(e=n.response)||void 0===e?void 0:e.status)&&"SESSION_REPLACED"===(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.reason)&&(console.log("Session replaced by another login - forcing logout"),alert(n.response.data.message||"Your account has been logged in from another device. You have been logged out."),p())}},3e4);return()=>clearInterval(e)},[c,n]);return(0,$r.jsx)(wa.Provider,{value:{currentUser:n,authUser:n,loading:s,error:o,isAuthenticated:c,login:async e=>{let{username:t,password:r}=e;i(!0),l(null);try{console.log("AuthContext: Attempting login with username:",t);const e=Yr("/auth/login");console.log("AuthContext: Login URL:",e);const{data:i}=await Vr.post(e,{username:t.trim(),password:r});console.log("AuthContext: Login response received:",i);const{token:c,user:h}=i;if(!c)throw new Error("No token received from server");if(u)try{va("token",c),console.log("Token stored in localStorage"),h&&(va("currentUser",h),console.log("User data stored in localStorage"))}catch(b){console.error("Failed to store auth data:",b)}if(Vr.defaults.headers.common.Authorization="Bearer ".concat(c),console.log("AuthContext: Set Authorization header with token"),h)return console.log("Using user data from login response"),a(h),d(!0),{success:!0,role:h.role};try{console.log("AuthContext: Getting user data with token");const{data:e}=await Vr.get(Yr("/auth/current-user"));if(console.log("AuthContext: User data received:",e),u)try{va("currentUser",e)}catch(b){console.error("Failed to store user data:",b)}return a(e),d(!0),{success:!0,role:e.role}}catch(v){var n,s,o;return console.error("AuthContext: Error fetching user after login:",v),console.error("Details:",{message:v.message,status:null===(n=v.response)||void 0===n?void 0:n.status,statusText:null===(s=v.response)||void 0===s?void 0:s.statusText,data:null===(o=v.response)||void 0===o?void 0:o.data}),l("Authentication successful but failed to load user data."),{success:!1,message:"Authentication successful but failed to load user data."}}}catch(y){var c,h,p,m,f,g,x;console.error("AuthContext: Login error:",y),console.error("Details:",{message:y.message,status:null===(c=y.response)||void 0===c?void 0:c.status,statusText:null===(h=y.response)||void 0===h?void 0:h.statusText,data:null===(p=y.response)||void 0===p?void 0:p.data});let e="Login failed. Please check your credentials.";return null!==(m=y.response)&&void 0!==m&&null!==(f=m.data)&&void 0!==f&&f.message?e=y.response.data.message:400===(null===(g=y.response)||void 0===g?void 0:g.status)?e="Invalid username or password.":403===(null===(x=y.response)||void 0===x?void 0:x.status)?e="Account is inactive. Please contact administrator.":y.response||(e="Network error. Please check your connection."),l(e),{success:!1,message:e}}finally{i(!1)}},logout:p,hasRole:e=>{var t;return console.log("AuthContext: Checking role:",e,"Current user role:",null===n||void 0===n?void 0:n.role),(null===n||void 0===n||null===(t=n.role)||void 0===t?void 0:t.toLowerCase())===e.toLowerCase()}},children:r})},Na=["component","showSidebar","requiredRole"],ka=e=>{let{component:r,showSidebar:n=!1,requiredRole:a=null}=e,s=ke(e,Na);const[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(!0),{isAuthenticated:m,currentUser:f}=(0,t.useContext)(wa);ce();if((0,t.useEffect)(()=>{if(m&&f)return console.log("ProtectedRoute: Using auth from context:",f),u(f),c(!0),a&&f.role!==a&&(console.log("ProtectedRoute: User role ".concat(f.role," doesn't match required role ").concat(a)),p(!1)),void o(!1);console.log("ProtectedRoute: Checking localStorage for auth");const e=localStorage.getItem("token"),t=localStorage.getItem("currentUser");if(e&&t)try{const e=JSON.parse(t);console.log("ProtectedRoute: User found in localStorage:",e),u(e),c(!0),a&&e.role!==a&&(console.log("ProtectedRoute: User role ".concat(e.role," doesn't match required role ").concat(a)),p(!1))}catch(r){console.error("ProtectedRoute: Error parsing user from localStorage:",r)}else console.log("ProtectedRoute: No valid auth found in localStorage");o(!1)},[m,f,a]),i)return console.log("ProtectedRoute: Still loading..."),(0,$r.jsx)("div",{className:"loader-container",children:(0,$r.jsx)("div",{className:"loader"})});if(console.log("ProtectedRoute: Rendering route with auth status:",l),!l)return console.log("ProtectedRoute: Not authenticated, redirecting to login"),(0,$r.jsx)(X,{to:"/login"});if(!h&&a){console.log("ProtectedRoute: Role requirement not met");const e=null===d||void 0===d?void 0:d.role;let t="/login";return"admin"===e?t="/admin/dashboard":"client"===e?t="/client/landing":"driver"===e?t="/driver/dashboard":"helper"===e?t="/helper/dashboard":"operator"===e?t="/operator/delivery-assignment":"staff"===e&&(t="/staff/dashboard"),console.log("ProtectedRoute: Redirecting to ".concat(t," based on role ").concat(e)),(0,$r.jsx)(X,{to:t})}return(0,$r.jsx)(te,Ne(Ne({},s),{},{render:e=>(0,$r.jsxs)("div",{className:"app-container",children:[n&&(0,$r.jsx)(xa,{userRole:null===d||void 0===d?void 0:d.role}),(0,$r.jsx)("div",{className:"content-container ".concat(n?"with-sidebar":"full-width"),children:n?(0,$r.jsx)("div",{className:"content-body",children:(0,$r.jsx)(r,Ne(Ne({},e),{},{currentUser:d}))}):(0,$r.jsx)(r,Ne(Ne({},e),{},{currentUser:d}))})]})}))},Sa=(0,t.createContext)(),Ca=e=>{let{children:r}=e;const[n,a]=(0,t.useState)([]);return(0,$r.jsx)(Sa.Provider,{value:{alerts:n,showAlert:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const n=Date.now();a(r=>[...r,{id:n,message:e,type:t}]),setTimeout(()=>a(e=>e.filter(e=>e.id!==n)),r)},removeAlert:e=>a(t=>t.filter(t=>t.id!==e))},children:r})},_a=()=>{const{alerts:e,removeAlert:r}=(0,t.useContext)(Sa);return e&&0!==e.length?(0,$r.jsx)("div",{className:"alerts-container",children:e.map(e=>(0,$r.jsxs)("div",{className:"alert alert-".concat(e.type),children:[e.message,(0,$r.jsx)("button",{className:"btn-close",onClick:()=>r(e.id),"aria-label":"Close",children:"\xd7"})]},e.id))}):null},Pa=(0,t.createContext)(),Aa=e=>{let{children:r}=e;const[n,a]=(0,t.useState)([]),s=(0,t.useCallback)(e=>{const t=Date.now()+Math.random(),r=Ne({id:t,isVisible:!0,duration:5e3},e);return a(e=>[...e,r]),r.duration>0&&setTimeout(()=>{i(t)},r.duration+500),t},[]),i=(0,t.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),o=(0,t.useCallback)((e,t)=>{a(r=>r.map(r=>r.id===e?Ne(Ne({},r),t):r))},[]),l=(0,t.useCallback)(function(e,t){return s(Ne({type:"success",title:e,message:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[s]),c=(0,t.useCallback)(function(e,t){return s(Ne({type:"error",title:e,message:t,duration:7e3},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[s]),d=(0,t.useCallback)(function(e,t){return s(Ne({type:"warning",title:e,message:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[s]),u=(0,t.useCallback)(function(e,t){return s(Ne({type:"info",title:e,message:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[s]),h=(0,t.useCallback)(function(e,t){return s(Ne({type:"delivery",title:e,message:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[s]),p=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={accepted:{title:"\u2705 Delivery Accepted",message:"Your delivery has been accepted by ".concat(t.driverName||"a driver"," and will begin soon."),type:"delivery"},started:{title:"\ud83d\ude9b Delivery Started",message:"Your delivery is now in progress. ".concat(t.driverName||"The driver"," is on the way to pick up your cargo."),type:"delivery"},"picked-up":{title:"\ud83d\udce6 Cargo Picked Up",message:"Your cargo has been picked up by ".concat(t.driverName||"the driver"," and is now in transit."),type:"delivery"},delivered:{title:"\ud83c\udfaf Delivery Completed",message:"Your delivery has been completed! Please confirm receipt when convenient.",type:"delivery",duration:0,actionButton:(0,$r.jsx)("button",{className:"btn btn-primary",onClick:()=>{t.onConfirmReceipt&&t.onConfirmReceipt()},children:"Confirm Receipt"})}}[e];if(r)return s(Ne(Ne({},r),{},{data:Ne({deliveryId:t.deliveryId,truckPlate:t.truckPlate,driverName:t.driverName},t)}))},[s]),m={toasts:n,addToast:s,removeToast:i,updateToast:o,showSuccess:l,showError:c,showWarning:d,showInfo:u,showDelivery:h,showDeliveryUpdate:p};return(0,$r.jsx)(Pa.Provider,{value:m,children:r})},Da=()=>{const e=(0,t.useContext)(Pa);if(!e)throw new Error("useModernToast must be used within a ModernToastProvider");return e},Ta=(0,t.createContext)(),La=()=>{const e=(0,t.useContext)(Ta);if(!e)throw new Error("useTimeframe must be used within a TimeframeProvider");return e},Ea=e=>{let{children:r}=e;const[n,a]=(0,t.useState)("All Time"),[s,i]=(0,t.useState)({start:null,end:null}),o=(()=>{const e=[],t=(new Date).getFullYear();for(let r=12;r>=1;r--){const n=new Date(t,r-1,1).toLocaleDateString("en-US",{month:"short"}),a=new Date(t,r,0).getDate();e.push({value:"".concat(n," ").concat(t),label:"".concat(n," ").concat(t),start:"".concat(t,"-").concat(r.toString().padStart(2,"0"),"-01"),end:"".concat(t,"-").concat(r.toString().padStart(2,"0"),"-").concat(a)})}for(let r=t-1;r>=t-5;r--)for(let t=12;t>=1;t--){const n=new Date(r,t-1,1).toLocaleDateString("en-US",{month:"short"}),a=new Date(r,t,0).getDate();e.push({value:"".concat(n," ").concat(r),label:"".concat(n," ").concat(r),start:"".concat(r,"-").concat(t.toString().padStart(2,"0"),"-01"),end:"".concat(r,"-").concat(t.toString().padStart(2,"0"),"-").concat(a)})}return e.push({value:"All Time",label:"All Time",start:null,end:null}),e})(),l=(0,t.useCallback)(e=>{if(!s.start||!s.end)return!0;if(!e)return!1;const t=new Date(e),r=new Date(s.start),n=new Date(s.end);return r.setHours(0,0,0,0),n.setHours(23,59,59,999),t>=r&&t<=n},[s]),c=(0,t.useCallback)(()=>s.start&&s.end?"".concat(s.start.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(s.end.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})):"All Time",[s]),d={timeframe:n,dateRange:s,timeframeOptions:o,updateTimeframe:e=>{a(e);const t=o.find(t=>t.value===e);t&&(t.start&&t.end?i({start:new Date(t.start),end:new Date(t.end)}):i({start:null,end:null}))},getDateRange:()=>s,isWithinTimeframe:l,getFormattedDateRange:c};return(0,$r.jsx)(Ta.Provider,{value:d,children:r})},Ia=e=>{let{message:r,type:n="success",duration:a=3e3,onClose:s}=e;const[i,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=setTimeout(()=>{o(!1),setTimeout(()=>{s&&s()},300)},a);return()=>clearTimeout(e)},[a,s]);return i?(0,$r.jsx)("div",{className:"notification-popup ".concat((()=>{switch(n){case"success":default:return"notification-success";case"error":return"notification-error";case"download":return"notification-download";case"warning":return"notification-warning"}})()," ").concat(i?"show":"hide"),children:(0,$r.jsxs)("div",{className:"notification-content",children:[(0,$r.jsx)("div",{className:"notification-icon",children:(()=>{switch(n){case"success":default:return(0,$r.jsx)(jn,{size:20});case"error":return(0,$r.jsx)(ga,{size:20});case"download":return(0,$r.jsx)(En,{size:20});case"warning":return(0,$r.jsx)(ln,{size:20})}})()}),(0,$r.jsx)("div",{className:"notification-message",children:r}),(0,$r.jsx)("button",{className:"notification-close",onClick:()=>{o(!1),setTimeout(()=>{s&&s()},300)},children:(0,$r.jsx)(ga,{size:16})})]})}):null};const Ma=(0,t.createContext)(),Ra=e=>{let{children:r}=e;const[n,a]=(0,t.useState)([]),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;const n=Date.now()+Math.random(),s={id:n,message:e,type:t,duration:r};return a(e=>[...e,s]),n},i=e=>{a(t=>t.filter(t=>t.id!==e))},o={showNotification:s,showSuccess:function(e){return s(e,"success",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},showError:function(e){return s(e,"error",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},showDownload:function(e){return s(e,"download",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},showWarning:function(e){return s(e,"warning",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},removeNotification:i};return(0,$r.jsxs)(Ma.Provider,{value:o,children:[r,n.map(e=>(0,$r.jsx)(Ia,{message:e.message,type:e.type,duration:e.duration,onClose:()=>i(e.id)},e.id))]})},Fa=(0,t.createContext)(),za=e=>{let{children:r}=e;const[n,a]=(0,t.useState)({data:[],columns:[],summary:{},entityType:"",title:""}),s={exportData:n,updateExportData:(0,t.useCallback)(e=>{a(e)},[]),clearExportData:(0,t.useCallback)(()=>{a({data:[],columns:[],summary:{},entityType:"",title:""})},[])};return(0,$r.jsx)(Fa.Provider,{value:s,children:r})};function Oa(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function Ba(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function Ua(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function qa(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function Wa(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function Ha(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function Va(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function Ka(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function Ga(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"}}]})(e)}function Ya(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"}}]})(e)}function $a(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function Ja(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm316 140c0-6.6-5.4-12-12-12h-60v-60c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v60h-60c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h60v60c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-60h60c6.6 0 12-5.4 12-12v-40z"}}]})(e)}function Xa(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"}}]})(e)}function Qa(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(e)}function Za(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(e)}function es(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function ts(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function rs(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function ns(e){return an({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(e)}function as(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function ss(e){return an({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"}}]})(e)}function is(e){return an({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"}}]})(e)}function os(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function ls(e){return an({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function cs(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function ds(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function us(e){return an({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function hs(e){return an({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function ps(e){return an({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function ms(e){return an({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function fs(e){return an({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"}}]})(e)}function gs(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function xs(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"}}]})(e)}function bs(e){return an({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function vs(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"}}]})(e)}function ys(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function ws(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function js(e){return an({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"}}]})(e)}function Ns(e){return an({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function ks(e){return an({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M112 316.94v156.69l22.02 33.02c4.75 7.12 15.22 7.12 19.97 0L176 473.63V316.94c-10.39 1.92-21.06 3.06-32 3.06s-21.61-1.14-32-3.06zM144 0C64.47 0 0 64.47 0 144s64.47 144 144 144 144-64.47 144-144S223.53 0 144 0zm0 76c-37.5 0-68 30.5-68 68 0 6.62-5.38 12-12 12s-12-5.38-12-12c0-50.73 41.28-92 92-92 6.62 0 12 5.38 12 12s-5.38 12-12 12z"}}]})(e)}function Ss(e){return an({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"}}]})(e)}function Cs(e){return an({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(e)}function _s(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function Ps(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function As(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"}}]})(e)}function Ds(e){return an({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M573.19 402.67l-139.79-320C428.43 71.29 417.6 64 405.68 64h-97.59l2.45 23.16c.5 4.72-3.21 8.84-7.96 8.84h-29.16c-4.75 0-8.46-4.12-7.96-8.84L267.91 64h-97.59c-11.93 0-22.76 7.29-27.73 18.67L2.8 402.67C-6.45 423.86 8.31 448 30.54 448h196.84l10.31-97.68c.86-8.14 7.72-14.32 15.91-14.32h68.8c8.19 0 15.05 6.18 15.91 14.32L348.62 448h196.84c22.23 0 36.99-24.14 27.73-45.33zM260.4 135.16a8 8 0 0 1 7.96-7.16h39.29c4.09 0 7.53 3.09 7.96 7.16l4.6 43.58c.75 7.09-4.81 13.26-11.93 13.26h-40.54c-7.13 0-12.68-6.17-11.93-13.26l4.59-43.58zM315.64 304h-55.29c-9.5 0-16.91-8.23-15.91-17.68l5.07-48c.86-8.14 7.72-14.32 15.91-14.32h45.15c8.19 0 15.05 6.18 15.91 14.32l5.07 48c1 9.45-6.41 17.68-15.91 17.68z"}}]})(e)}function Ts(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function Ls(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function Es(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function Is(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"}}]})(e)}function Ms(e){return an({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H112C85.5 0 64 21.5 64 48v48H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h272c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H40c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H64v128c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}}]})(e)}function Rs(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function Fs(e){return an({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function zs(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"}}]})(e)}function Os(e){return an({tag:"svg",attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"}}]})(e)}function Bs(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(e)}function Us(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(e)}function qs(e){return an({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Ws(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function Hs(e){return an({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}}]})(e)}function Vs(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Ks(e){return an({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Gs(e){return an({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function Ys(e){return an({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"}}]})(e)}const $s=e=>{if(!e)return"Just now";let t;if(t=e instanceof Date?e:null!==e&&void 0!==e&&e.toDate?e.toDate():null!==e&&void 0!==e&&e._seconds?new Date(1e3*e._seconds):null!==e&&void 0!==e&&e.seconds?new Date(1e3*e.seconds):new Date(e),isNaN(t.getTime()))return"Recently";const r=new Date-t,n=Math.floor(r/1e3),a=Math.floor(n/60),s=Math.floor(a/60),i=Math.floor(s/24);return n<60?"Just now":a<60?"".concat(a,"m ago"):s<24?"".concat(s,"h ago"):i<7?"".concat(i,"d ago"):t.toLocaleDateString()},Js=()=>{const e=de(),{authUser:r,logout:n}=(0,t.useContext)(wa)||{authUser:null,logout:()=>{}},[a,s]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),{notifications:l=[],unreadCount:c=0,loading:d,markAsRead:u,markAllAsRead:h,fetchNotifications:p}=Qr()||{},m=t=>e.pathname.startsWith(t);(0,t.useEffect)(()=>{const e=e=>{e.target.closest(".profile-dropdown-container")||s(!1),e.target.closest(".notifications-container")||o(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const f="flex items-center gap-2 px-4 py-2 text-gray-300 text-sm font-medium rounded-lg transition-all duration-200 hover:bg-white/10 hover:text-white",g="bg-white/20 text-white shadow-sm";return(0,$r.jsx)("header",{className:"fixed top-0 left-0 right-0 h-[70px] bg-gradient-to-r from-primary-900 via-primary-800 to-secondary-700 shadow-lg z-50",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between h-full px-6 max-w-[1920px] mx-auto",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("img",{src:"/images/logo.webp",alt:"Logo",className:"h-14 w-auto object-contain"}),(0,$r.jsx)("span",{className:"text-white text-lg font-bold",children:"Trucking MS"}),(0,$r.jsx)("span",{className:"bg-secondary-500 text-white text-xs font-bold px-2 py-1 rounded-full ml-1",children:"Client"})]}),(0,$r.jsxs)("nav",{className:"flex items-center gap-1",children:[(0,$r.jsxs)(be,{to:"/client/profile",className:"".concat(f," ").concat(m("/client/profile")&&!e.search?g:""),children:[(0,$r.jsx)(Za,{}),(0,$r.jsx)("span",{children:"Overview"})]}),(0,$r.jsxs)(be,{to:"/client/profile?tab=transactions",className:"".concat(f," ").concat(e.search.includes("tab=transactions")?g:""),children:[(0,$r.jsx)(xs,{}),(0,$r.jsx)("span",{children:"Bookings"})]}),(0,$r.jsxs)(be,{to:"/client/profile?tab=trucks",className:"".concat(f," ").concat(e.search.includes("tab=trucks")?g:""),children:[(0,$r.jsx)(Hs,{}),(0,$r.jsx)("span",{children:"My Trucks"})]}),(0,$r.jsxs)(be,{to:"/client/profile?tab=billing",className:"".concat(f," ").concat(e.search.includes("tab=billing")?g:""),children:[(0,$r.jsx)(fs,{}),(0,$r.jsx)("span",{children:"Billing"})]}),(0,$r.jsxs)(be,{to:"/client/locations",className:"".concat(f," ").concat(m("/client/locations")?g:""),children:[(0,$r.jsx)(ks,{}),(0,$r.jsx)("span",{children:"Locations"})]}),(0,$r.jsxs)(be,{to:"/client/delivery-tracker",className:"".concat(f," ").concat(m("/client/delivery-tracker")?g:""),children:[(0,$r.jsx)(ps,{}),(0,$r.jsx)("span",{children:"Track Orders"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsxs)("div",{className:"notifications-container relative",children:[(0,$r.jsxs)("button",{className:"flex items-center justify-center w-10 h-10 text-gray-300 rounded-lg transition-all duration-200 hover:bg-white/10 hover:text-white relative",onClick:()=>{o(!i),!i&&p&&p()},children:[(0,$r.jsx)(Ka,{className:"text-lg"}),c>0&&(0,$r.jsx)("span",{className:"absolute -top-1 -right-1 bg-danger-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full animate-pulse",children:c>9?"9+":c})]}),i&&(0,$r.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-xl shadow-modal border border-gray-200 overflow-hidden z-50",children:[(0,$r.jsxs)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:[(0,$r.jsx)("h4",{className:"text-gray-800 font-semibold m-0",children:"Notifications"}),c>0&&h&&(0,$r.jsx)("button",{onClick:e=>{e.stopPropagation(),h()},className:"text-xs text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Mark all as read"})]}),(0,$r.jsx)("div",{className:"max-h-96 overflow-y-auto",children:d?(0,$r.jsxs)("div",{className:"p-6 text-center",children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),(0,$r.jsx)("p",{className:"text-gray-500 text-sm",children:"Loading..."})]}):l&&l.length>0?l.slice(0,20).map(e=>{var t,r,n,a,s,i;const o="payment"===e.type&&((null===(t=e.title)||void 0===t?void 0:t.includes("Approved"))||(null===(r=e.title)||void 0===r?void 0:r.includes("approved"))),l="payment"===e.type&&((null===(n=e.title)||void 0===n?void 0:n.includes("Rejected"))||(null===(a=e.title)||void 0===a?void 0:a.includes("rejected")));return(0,$r.jsx)("div",{className:"px-4 py-3 border-b border-gray-50 cursor-pointer transition-colors ".concat(e.read?"bg-white hover:bg-gray-50":"bg-blue-50/50 hover:bg-blue-50"),onClick:()=>{!e.read&&u&&u(e.id)},children:(0,$r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,$r.jsx)("div",{className:"mt-0.5 flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat(o?"bg-green-100 text-green-600":l?"bg-red-100 text-red-600":"payment"===e.type?"bg-blue-100 text-blue-600":"delivery"===e.type?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-600"),children:o?(0,$r.jsx)(es,{size:14}):l?(0,$r.jsx)(Us,{size:14}):"payment"===e.type?(0,$r.jsx)(Cs,{size:14}):"delivery"===e.type&&"rebook"===(null===(s=e.metadata)||void 0===s?void 0:s.action)?(0,$r.jsx)($a,{size:14}):"delivery"===e.type&&"reroute"===(null===(i=e.metadata)||void 0===i?void 0:i.action)?(0,$r.jsx)(Ts,{size:14}):"delivery"===e.type?(0,$r.jsx)(Ms,{size:14}):(0,$r.jsx)(ys,{size:14})}),(0,$r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,$r.jsx)("p",{className:"text-sm truncate ".concat(e.read?"text-gray-700 font-medium":"text-gray-900 font-semibold"),children:e.title}),!e.read&&(0,$r.jsx)("span",{className:"flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full"})]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-2",children:e.message}),(0,$r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:$s(e.created_at||e.time)})]})]})},e.id)}):(0,$r.jsxs)("div",{className:"p-6 text-center",children:[(0,$r.jsx)(Ka,{className:"text-gray-300 text-2xl mx-auto mb-2"}),(0,$r.jsx)("p",{className:"text-gray-500 text-sm",children:"No notifications yet"})]})})]})]}),(0,$r.jsxs)("div",{className:"profile-dropdown-container relative",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-white/10",onClick:()=>s(!a),children:[(0,$r.jsx)("div",{className:"w-9 h-9 bg-gradient-to-br from-secondary-400 to-secondary-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:null!==r&&void 0!==r&&r.username?r.username.charAt(0).toUpperCase():"C"}),(0,$r.jsx)("span",{className:"text-white font-medium text-sm hidden md:block",children:(null===r||void 0===r?void 0:r.username)||"Client"}),(0,$r.jsx)(rs,{className:"text-gray-300 text-xs transition-transform duration-200 ".concat(a?"rotate-180":"")})]}),a&&(0,$r.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-modal border border-gray-200 overflow-hidden z-50",children:[(0,$r.jsxs)(be,{to:"/client/profile?tab=profile",className:"flex items-center gap-3 px-4 py-3 text-gray-700 text-sm font-medium hover:bg-gray-50 transition-colors",children:[(0,$r.jsx)(Ks,{className:"text-gray-400"}),(0,$r.jsx)("span",{children:"My Profile"})]}),(0,$r.jsx)("div",{className:"h-px bg-gray-200 mx-3"}),(0,$r.jsxs)("button",{className:"flex items-center gap-3 w-full px-4 py-3 text-danger-600 text-sm font-medium hover:bg-danger-50 transition-colors",onClick:n,children:[(0,$r.jsx)(Rs,{}),(0,$r.jsx)("span",{children:"Logout"})]})]})]})]})]})})},Xs=e=>{let{children:t}=e;return(0,$r.jsxs)("div",{className:"h-screen bg-gray-50 overflow-hidden",children:[(0,$r.jsx)(Js,{}),(0,$r.jsx)("div",{className:"mt-[70px] h-[calc(100vh-70px)] overflow-hidden bg-gray-50 flex flex-col items-center p-0",children:(0,$r.jsx)("div",{className:"w-full max-w-[1400px] mx-auto p-8 box-border h-full overflow-hidden",children:t})})]})},Qs=()=>{const[e,r]=(0,t.useState)({username:"",password:""}),[n,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),c=ce(),{login:d}=(0,t.useContext)(wa),u=e=>{const{name:t,value:n}=e.target;r(e=>Ne(Ne({},e),{},{[t]:n}))};return(0,$r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 font-sans",children:(0,$r.jsxs)("div",{className:"flex w-full min-h-screen bg-white shadow-2xl overflow-hidden",children:[(0,$r.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 relative bg-blue-900 items-center justify-center overflow-hidden",children:[(0,$r.jsxs)("div",{className:"absolute inset-0",children:[(0,$r.jsx)("img",{src:"".concat("","/images/truck-background.jpg"),alt:"Logistics Background",className:"w-full h-full object-cover opacity-30",onError:e=>{e.target.style.display="none",e.target.parentNode.style.backgroundColor="#1e3a8a"}}),(0,$r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/90 to-black/60"})]}),(0,$r.jsxs)("div",{className:"relative z-10 p-12 text-white max-w-lg",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3 mb-8 animate-fade-in-up",children:[(0,$r.jsx)("img",{src:"".concat("","/images/logo.webp"),alt:"E-TRUCKING Logo",className:"h-20 w-auto object-contain"}),(0,$r.jsx)("h2",{className:"text-3xl font-extrabold tracking-tight",children:"E-TRUCKING"})]}),(0,$r.jsxs)("h1",{className:"text-5xl font-bold leading-tight mb-6 animate-fade-in-up animation-delay-150",children:["Manage Your ",(0,$r.jsx)("span",{className:"text-blue-400",children:"Fleet"})," With Confidence"]}),(0,$r.jsx)("p",{className:"text-lg text-blue-100 mb-8 leading-relaxed animate-fade-in-up animation-delay-300",children:"Access real-time tracking, automated dispatching, and comprehensive analytics all in one secure platform."}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 animate-fade-in-up animation-delay-450",children:[(0,$r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-xl border border-white/10",children:[(0,$r.jsx)("div",{className:"text-2xl font-bold text-blue-300 mb-1",children:"500+"}),(0,$r.jsx)("div",{className:"text-sm text-gray-300",children:"Trucks Managed"})]}),(0,$r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-xl border border-white/10",children:[(0,$r.jsx)("div",{className:"text-2xl font-bold text-blue-300 mb-1",children:"10k+"}),(0,$r.jsx)("div",{className:"text-sm text-gray-300",children:"Deliveries Completed"})]})]})]}),(0,$r.jsx)("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),(0,$r.jsx)("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"})]}),(0,$r.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white relative",children:(0,$r.jsxs)("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[(0,$r.jsxs)("div",{className:"lg:hidden flex items-center justify-center gap-2 mb-8",children:[(0,$r.jsx)("img",{src:"".concat("","/images/logo.webp"),alt:"E-TRUCKING Logo",className:"h-10 w-auto object-contain"}),(0,$r.jsx)("span",{className:"text-2xl font-extrabold text-gray-900",children:"E-TRUCKING"})]}),(0,$r.jsxs)("div",{className:"text-center lg:text-left",children:[(0,$r.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"Welcome Back"}),(0,$r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Please sign in to access your dashboard"})]}),s&&(0,$r.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md animate-pulse",children:(0,$r.jsxs)("div",{className:"flex",children:[(0,$r.jsx)("div",{className:"flex-shrink-0",children:(0,$r.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,$r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,$r.jsx)("div",{className:"ml-3",children:(0,$r.jsx)("p",{className:"text-sm text-red-700",children:s})})]})}),(0,$r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),a(!0),i(null);try{var r;if(console.log("Attempting to log in with:",{username:e.username,passwordLength:(null===(r=e.password)||void 0===r?void 0:r.length)||0}),d){console.log("Using AuthContext login function");const t=await d({username:e.username,password:e.password});if(console.log("AuthContext login result:",t),t.success){const e=t.role;console.log("Login successful, role:",e),"admin"===e?c.push("/admin/dashboard"):"staff"===e?c.push("/staff/vehicle-rates"):"client"===e?c.push("/client/landing"):"driver"===e?c.push("/driver/dashboard"):"helper"===e?c.push("/helper/dashboard"):"operator"===e?c.push("/operator/delivery-assignment"):(i("Unknown role. Please contact support."),c.push("/login"))}else console.log("Login failed:",t.message),i(t.message||"Login failed. Please try again.")}else{console.log("AuthContext login function not available, using direct axios call");const t=await Vr({method:"POST",url:Yr("/auth/login"),data:{username:e.username.trim(),password:e.password},headers:{"Content-Type":"application/json"},withCredentials:!1,cache:"no-cache"});console.log("Login response:",t.data);const{token:r}=t.data;if(!r)throw new Error("Invalid response from server");localStorage.setItem("token",r),Vr.defaults.headers.common.Authorization="Bearer ".concat(r),console.log("Getting user data with token");const n=await Vr.get(Yr("/auth/current-user"),{headers:{Authorization:"Bearer ".concat(r)}});console.log("User data response:",n.data);const a=n.data;localStorage.setItem("currentUser",JSON.stringify(a)),console.log("Redirecting based on role:",a.role),"admin"===a.role?c.push("/admin/dashboard"):"staff"===a.role?c.push("/staff/vehicle-rates"):"client"===a.role?c.push("/client/landing"):"driver"===a.role?c.push("/driver/dashboard"):"helper"===a.role?c.push("/helper/dashboard"):"operator"===a.role?c.push("/operator/delivery-assignment"):(i("Unknown role. Please contact support."),c.push("/login"))}}catch(p){var n,s,o,l,u,h;console.error("Login error:",p);let e="Login failed. Please try again.";null!==(n=p.response)&&void 0!==n&&null!==(s=n.data)&&void 0!==s&&s.message?e=p.response.data.message:403===(null===(o=p.response)||void 0===o?void 0:o.status)?e="Account is inactive. Please contact administrator.":p.response||(e="Network error. Please check your connection."),console.error("Login error details:",{message:p.message,status:null===(l=p.response)||void 0===l?void 0:l.status,statusText:null===(u=p.response)||void 0===u?void 0:u.statusText,data:null===(h=p.response)||void 0===h?void 0:h.data}),i(e)}finally{a(!1)}},children:[(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,$r.jsx)(Ks,{className:"h-5 w-5 text-gray-400"})}),(0,$r.jsx)("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all sm:text-sm bg-gray-50 focus:bg-white",placeholder:"Enter your username",value:e.username,onChange:u,disabled:n})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,$r.jsx)(ws,{className:"h-5 w-5 text-gray-400"})}),(0,$r.jsx)("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all sm:text-sm bg-gray-50 focus:bg-white",placeholder:"Enter your password",value:e.password,onChange:u,disabled:n}),(0,$r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",onClick:()=>l(!o),children:o?(0,$r.jsx)(hs,{className:"h-5 w-5"}):(0,$r.jsx)(ps,{className:"h-5 w-5"})})]})]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"}),(0,$r.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900 cursor-pointer",children:"Remember me"})]}),(0,$r.jsx)("div",{className:"text-sm",children:(0,$r.jsx)("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Forgot password?"})})]}),(0,$r.jsx)("div",{children:(0,$r.jsx)("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-lg text-white transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-md hover:shadow-lg transform active:scale-[0.98] ".concat(n?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:-translate-y-0.5"),children:n?(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,$r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})})]}),(0,$r.jsxs)("div",{className:"mt-6 text-center",children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"\xa9 2025 E-Trucking Management System. All rights reserved."}),(0,$r.jsx)(be,{to:"/",className:"inline-block mt-4 text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:"\u2190 Back to Home"})]})]})})]})})},Zs=()=>{const{logout:e}=(0,t.useContext)(wa),r=ce();return(0,t.useEffect)(()=>{e(),r.push("/login")},[e,r]),null},ei=()=>{const[e,r]=(0,t.useState)(!1),[n,a]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{const e=()=>{r(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,$r.jsxs)("div",{className:"font-sans text-gray-800 antialiased overflow-x-hidden",children:[(0,$r.jsxs)("header",{className:"fixed w-full z-50 transition-all duration-300 ".concat(e?"bg-white/90 backdrop-blur-md shadow-md py-4":"bg-transparent py-6"),children:[(0,$r.jsxs)("div",{className:"container mx-auto px-6 flex justify-between items-center",children:[(0,$r.jsxs)(be,{to:"/",className:"text-2xl font-extrabold tracking-tight flex items-center gap-2 ".concat(e?"text-blue-900":"text-white"),children:[(0,$r.jsx)("img",{src:"/images/logo.webp",alt:"E-TRUCKING",className:"h-20 w-auto object-contain"}),(0,$r.jsx)("span",{className:e?"text-blue-900":"text-white",children:"E-TRUCKING"})]}),(0,$r.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[["Home","About","Features","Why Us","Stats","Contact"].map(t=>(0,$r.jsx)("a",{href:"#".concat(t.toLowerCase().replace(" ","")),className:"text-sm font-medium transition-colors hover:text-blue-500 ".concat(e?"text-gray-700":"text-white/90 hover:text-white"),children:t},t)),(0,$r.jsx)(be,{to:"/login",className:"px-5 py-2.5 rounded-full font-semibold transition-all shadow-lg transform hover:-translate-y-0.5 ".concat(e?"bg-blue-600 text-white hover:bg-blue-700":"bg-white text-blue-900 hover:bg-gray-100"),children:"Login"})]}),(0,$r.jsx)("button",{className:"md:hidden focus:outline-none ".concat(e?"text-gray-800":"text-white"),onClick:()=>a(!n),children:n?(0,$r.jsx)(qs,{size:24}):(0,$r.jsx)(Va,{size:24})})]}),(0,$r.jsxs)("div",{className:"fixed inset-0 z-40 bg-blue-900/95 backdrop-blur-xl transition-transform duration-300 ease-in-out flex flex-col items-center justify-center space-y-8 ".concat(n?"translate-x-0":"translate-x-full"),style:{top:"0",left:"0",height:"100vh",width:"100vw"},children:[(0,$r.jsx)("button",{className:"absolute top-6 right-6 text-white/80 hover:text-white focus:outline-none",onClick:()=>a(!1),children:(0,$r.jsx)(qs,{size:32})}),["Home","About","Features","Why Us","Stats","Contact"].map(e=>(0,$r.jsx)("a",{href:"#".concat(e.toLowerCase().replace(" ","")),className:"text-2xl font-bold text-white hover:text-blue-300 transition-colors",onClick:()=>a(!1),children:e},e)),(0,$r.jsx)(be,{to:"/login",className:"px-8 py-3 bg-white text-blue-900 rounded-full font-bold text-lg shadow-xl hover:bg-gray-100 transition-all",onClick:()=>a(!1),children:"Login to Portal"})]})]}),(0,$r.jsxs)("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[(0,$r.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,$r.jsx)("img",{src:"".concat("","/images/truck-hero.jpg"),alt:"Background",className:"w-full h-full object-cover"}),(0,$r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/90 to-black/60"})]}),(0,$r.jsxs)("div",{className:"container relative z-10 px-6 text-center text-white max-w-4xl mx-auto mt-16",children:[(0,$r.jsx)("span",{className:"inline-block py-1 px-3 rounded-full bg-blue-500/30 border border-blue-400/30 text-blue-200 text-sm font-semibold mb-6 backdrop-blur-sm animate-fade-in-up",children:"REVOLUTIONIZING LOGISTICS"}),(0,$r.jsxs)("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight leading-tight mb-6 animate-fade-in-up animation-delay-150",children:["The Future of ",(0,$r.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300",children:"Logistics"})," Is Here"]}),(0,$r.jsx)("p",{className:"text-lg md:text-xl text-gray-200 mb-10 leading-relaxed max-w-2xl mx-auto animate-fade-in-up animation-delay-300",children:"Streamline your trucking operations with our intelligent management system. Real-time tracking, automated dispatch, and comprehensive analytics all in one platform."}),(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-fade-in-up animation-delay-450",children:[(0,$r.jsx)(be,{to:"/login",className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold text-lg shadow-lg hover:shadow-blue-500/30 transition-all transform hover:-translate-y-1",children:"Get Started"}),(0,$r.jsx)("a",{href:"#features",className:"px-8 py-4 bg-white/10 hover:bg-white/20 text-white border border-white/20 rounded-lg font-bold text-lg backdrop-blur-sm transition-all transform hover:-translate-y-1",children:"Learn More"})]})]}),(0,$r.jsx)("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce",children:(0,$r.jsx)(Ha,{className:"text-white/50 rotate-90 text-2xl"})})]}),(0,$r.jsx)("section",{id:"features",className:"py-24 bg-gray-50",children:(0,$r.jsxs)("div",{className:"container mx-auto px-6",children:[(0,$r.jsxs)("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[(0,$r.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Powerful Features for Modern Fleets"}),(0,$r.jsx)("p",{className:"text-gray-600 text-lg",children:"Everything you need to manage your logistics operation efficiently and effectively."})]}),(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[{icon:(0,$r.jsx)(js,{}),title:"Real-Time Tracking",desc:"Monitor your entire fleet in real-time with our advanced GPS integration. Know exactly where your cargo is every second.",color:"bg-blue-100 text-blue-600"},{icon:(0,$r.jsx)(Za,{}),title:"Smart Analytics",desc:"Data-driven insights to optimize routes, reduce fuel consumption, and improve overall operational efficiency.",color:"bg-purple-100 text-purple-600"},{icon:(0,$r.jsx)(Is,{}),title:"Secure & Reliable",desc:"Enterprise-grade security for your data, ensuring your business operations run smoothly and securely 24/7.",color:"bg-green-100 text-green-600"}].map((e,t)=>(0,$r.jsxs)("div",{className:"group bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-blue-100 hover:-translate-y-1",children:[(0,$r.jsx)("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center text-2xl mb-6 ".concat(e.color," group-hover:scale-110 transition-transform duration-300"),children:e.icon}),(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors",children:e.title}),(0,$r.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e.desc})]},t))})]})}),(0,$r.jsxs)("section",{id:"stats",className:"py-20 bg-blue-900 text-white relative overflow-hidden",children:[(0,$r.jsx)("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),(0,$r.jsx)("div",{className:"container mx-auto px-6 relative z-10",children:(0,$r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8 text-center divide-x-0 md:divide-x divide-white/10",children:[{num:"400+",label:"Trucks Managed"},{num:"10k+",label:"Deliveries Completed"},{num:"98%",label:"On-Time Rate"}].map((e,t)=>(0,$r.jsxs)("div",{className:"p-4",children:[(0,$r.jsx)("div",{className:"text-4xl md:text-5xl font-extrabold text-blue-300 mb-2",children:e.num}),(0,$r.jsx)("div",{className:"text-blue-100 font-medium",children:e.label})]},t))})})]}),(0,$r.jsx)("section",{id:"showcase",className:"py-24 bg-white overflow-hidden",children:(0,$r.jsx)("div",{className:"container mx-auto px-6",children:(0,$r.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-16",children:[(0,$r.jsxs)("div",{className:"lg:w-1/2",children:[(0,$r.jsx)("span",{className:"text-blue-600 font-bold uppercase tracking-wider text-sm mb-2 block",children:"Why Choose Us"}),(0,$r.jsx)("h2",{className:"text-3xl md:text-5xl font-extrabold text-gray-900 mb-6 leading-tight",children:"Complete Control Over Your Logistics"}),(0,$r.jsx)("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed",children:"Our platform brings all your logistical needs into one intuitive dashboard. Say goodbye to spreadsheets and manual tracking, and hello to automated efficiency."}),(0,$r.jsx)("div",{className:"space-y-4",children:["Automated Driver Assignment","Digital Document Management","Client Portal Access","Maintenance Scheduling"].map((e,t)=>(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-green-100 text-green-500 flex items-center justify-center",children:(0,$r.jsx)(ts,{size:12})}),(0,$r.jsx)("span",{className:"text-gray-700 font-medium",children:e})]},t))})]}),(0,$r.jsxs)("div",{className:"lg:w-1/2 relative",children:[(0,$r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-600 to-purple-600 rounded-2xl transform rotate-3 scale-105 opacity-20 blur-lg"}),(0,$r.jsx)("img",{src:"".concat("","/images/truck-hero.jpg"),alt:"Dashboard Preview",className:"relative rounded-2xl shadow-2xl border-4 border-white transform transition-transform hover:scale-[1.01]",onError:e=>{e.target.onerror=null,e.target.src="https://images.unsplash.com/photo-1586864387967-d02ef85d93e8?q=80&w=2070&auto=format&fit=crop"}})]})]})})}),(0,$r.jsxs)("section",{id:"contact",className:"py-24 bg-gradient-to-br from-blue-700 to-blue-900 text-white text-center relative overflow-hidden",children:[(0,$r.jsx)("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-80 h-80 bg-white/5 rounded-full blur-3xl"}),(0,$r.jsx)("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 bg-white/5 rounded-full blur-3xl"}),(0,$r.jsxs)("div",{className:"container mx-auto px-6 relative z-10",children:[(0,$r.jsx)("h2",{className:"text-3xl md:text-5xl font-bold mb-6",children:"Ready to Optimize Your Fleet?"}),(0,$r.jsx)("p",{className:"text-xl text-blue-100 mb-10 max-w-2xl mx-auto",children:"Join hundreds of logistics companies transforming their operations with E-Trucking."}),(0,$r.jsx)(be,{to:"/login",className:"inline-block px-10 py-5 bg-white text-blue-700 rounded-full font-bold text-lg shadow-xl hover:bg-blue-50 hover:scale-105 transition-all",children:"Start Your Free Trial"})]})]}),(0,$r.jsx)("footer",{className:"bg-gray-900 text-gray-300 py-16 border-t border-gray-800",children:(0,$r.jsxs)("div",{className:"container mx-auto px-6",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[(0,$r.jsxs)("div",{className:"col-span-1 md:col-span-1",children:[(0,$r.jsxs)(be,{to:"/",className:"text-2xl font-bold text-white flex items-center gap-2 mb-6",children:[(0,$r.jsx)("img",{src:"/images/logo.webp",alt:"E-TRUCKING",className:"h-10 w-auto object-contain"}),(0,$r.jsx)("span",{className:"text-white",children:"E-TRUCKING"})]}),(0,$r.jsx)("p",{className:"text-gray-400 leading-relaxed mb-6",children:"Empowering logistics companies with cutting-edge technology for better fleet management."}),(0,$r.jsx)("div",{className:"flex gap-4",children:[Oa,qa,Ua,Ba].map((e,t)=>(0,$r.jsx)("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:(0,$r.jsx)(e,{})},t))})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"text-lg font-semibold text-white mb-6",children:"Product"}),(0,$r.jsx)("ul",{className:"space-y-3",children:["Features","Pricing","Case Studies","API"].map(e=>(0,$r.jsx)("li",{children:(0,$r.jsx)("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:e})},e))})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"text-lg font-semibold text-white mb-6",children:"Company"}),(0,$r.jsx)("ul",{className:"space-y-3",children:["About Us","Careers","Blog","Contact"].map(e=>(0,$r.jsx)("li",{children:(0,$r.jsx)("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:e})},e))})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"text-lg font-semibold text-white mb-6",children:"Contact"}),(0,$r.jsxs)("ul",{className:"space-y-3",children:[(0,$r.jsxs)("li",{className:"flex items-start gap-3",children:[(0,$r.jsx)("span",{className:"text-blue-500 mt-1",children:"\ud83d\udccd"}),(0,$r.jsx)("span",{children:"123 Logistics Way, Suite 100, Transport City, TC 90210"})]}),(0,$r.jsxs)("li",{className:"flex items-center gap-3",children:[(0,$r.jsx)("span",{className:"text-blue-500",children:"\ud83d\udce7"}),(0,$r.jsx)("a",{href:"mailto:info@etrucking.com",className:"hover:text-blue-400",children:"info@etrucking.com"})]}),(0,$r.jsxs)("li",{className:"flex items-center gap-3",children:[(0,$r.jsx)("span",{className:"text-blue-500",children:"\ud83d\udcde"}),(0,$r.jsx)("span",{children:"(555) 123-4567"})]})]})]})]}),(0,$r.jsxs)("div",{className:"pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-500",children:[(0,$r.jsx)("p",{children:"\xa9 2025 E-Trucking Management System. All rights reserved."}),(0,$r.jsxs)("div",{className:"flex gap-6",children:[(0,$r.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),(0,$r.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})]})]})]})})]})},ti=()=>(0,$r.jsx)("div",{className:"not-found",children:(0,$r.jsxs)("div",{className:"not-found-content",children:[(0,$r.jsx)("div",{className:"not-found-icon",children:(0,$r.jsx)(us,{})}),(0,$r.jsx)("h1",{children:"404"}),(0,$r.jsx)("h2",{children:"Page Not Found"}),(0,$r.jsx)("p",{children:"The page you are looking for does not exist or has been moved."}),(0,$r.jsxs)(be,{to:"/",className:"btn btn-primary",children:[(0,$r.jsx)(bs,{})," Go to Home"]})]})});function ri(e){let{size:t="medium",message:r="Loading..."}=e;const n={small:"w-6 h-6 border-2",medium:"w-10 h-10 border-[3px]",large:"w-[60px] h-[60px] border-4"};return(0,$r.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-[calc(100vh-70px)] w-full p-8 box-border",children:[(0,$r.jsx)("div",{className:"".concat(n[t]||n.medium," border-gray-200 border-t-primary-500 rounded-full animate-spin")}),r&&(0,$r.jsx)("p",{className:"mt-4 text-gray-600 text-sm font-medium",children:r})]})}const ni=()=>{var e;const{authUser:r}=(0,t.useContext)(wa),{showAlert:n}=(0,t.useContext)(Sa),a=ce(),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[p,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{f()},[]);const f=async()=>{try{let e;switch(r.role){case"admin":e="/api/users/admin";break;case"staff":e="/api/staffs/profile";break;case"client":e="/api/clients/profile";break;case"driver":e="/api/drivers/profile";break;case"helper":e="/api/helpers/profile";break;case"operator":e="/api/operators/profile";break;default:e="/api/auth/me"}console.log("Fetching profile for role: ".concat(r.role," from ").concat(e));const t=await Vr.get(e);i(t.data)}catch(lb){console.error("Error fetching user details:",lb)}finally{l(!1)}},g=e=>{h(Ne(Ne({},u),{},{[e.target.name]:e.target.value}))};return o?(0,$r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,$r.jsx)(ri,{})}):(0,$r.jsx)("div",{className:"min-h-screen bg-gray-50/50 py-8 px-4 sm:px-6 lg:px-8",children:(0,$r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,$r.jsx)("button",{onClick:()=>a.goBack(),className:"p-2 hover:bg-white hover:shadow-sm rounded-lg transition-all text-gray-500 hover:text-gray-900",children:(0,$r.jsx)(un,{size:24})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:"Manage your account settings and preferences"})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,$r.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,$r.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 h-32 relative",children:(0,$r.jsx)("div",{className:"absolute -bottom-10 left-8",children:(0,$r.jsx)("div",{className:"w-24 h-24 rounded-full bg-white p-1 shadow-lg",children:(0,$r.jsx)("div",{className:"w-full h-full rounded-full bg-gray-100 flex items-center justify-center text-primary-600 text-3xl font-bold",children:null===(e=r.username)||void 0===e?void 0:e.charAt(0).toUpperCase()})})})}),(0,$r.jsxs)("div",{className:"pt-12 pb-8 px-8",children:[(0,$r.jsx)("div",{className:"flex justify-between items-start mb-6",children:(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:r.username}),(0,$r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-50 text-primary-700 mt-1 capitalize border border-primary-100",children:r.role})]})}),(0,$r.jsxs)("div",{className:"grid gap-6",children:[(null===s||void 0===s?void 0:s.name)&&(0,$r.jsxs)("div",{className:"flex items-center gap-3 text-gray-600 p-3 hover:bg-gray-50 rounded-lg transition-colors border border-transparent hover:border-gray-100",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:(0,$r.jsx)(ma,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Full Name"}),(0,$r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:s.name})]})]}),(null===s||void 0===s?void 0:s.email)&&(0,$r.jsxs)("div",{className:"flex items-center gap-3 text-gray-600 p-3 hover:bg-gray-50 rounded-lg transition-colors border border-transparent hover:border-gray-100",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-50 flex items-center justify-center text-purple-600",children:(0,$r.jsx)(Qn,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Email Address"}),(0,$r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:s.email})]})]}),(null===s||void 0===s?void 0:s.phone)&&(0,$r.jsxs)("div",{className:"flex items-center gap-3 text-gray-600 p-3 hover:bg-gray-50 rounded-lg transition-colors border border-transparent hover:border-gray-100",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-50 flex items-center justify-center text-green-600",children:(0,$r.jsx)(ra,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Phone Number"}),(0,$r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:s.phone})]})]}),(null===s||void 0===s?void 0:s.address)&&(0,$r.jsxs)("div",{className:"flex items-center gap-3 text-gray-600 p-3 hover:bg-gray-50 rounded-lg transition-colors border border-transparent hover:border-gray-100",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center text-orange-600",children:(0,$r.jsx)(Zn,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Address"}),(0,$r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:s.address})]})]}),(null===s||void 0===s?void 0:s.joinDate)&&(0,$r.jsxs)("div",{className:"flex items-center gap-3 text-gray-600 p-3 hover:bg-gray-50 rounded-lg transition-colors border border-transparent hover:border-gray-100",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-teal-50 flex items-center justify-center text-teal-600",children:(0,$r.jsx)(vn,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Member Since"}),(0,$r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:new Date(s.joinDate).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})})]})]}),!(null!==s&&void 0!==s&&s.email)&&!(null!==s&&void 0!==s&&s.name)&&(0,$r.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100 text-center text-gray-500 text-sm",children:"No additional profile information available."})]})]})]})}),(0,$r.jsx)("div",{className:"lg:col-span-1",children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 sticky top-8",children:[(0,$r.jsx)("div",{className:"flex items-center justify-between gap-3 mb-6",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-red-50 text-red-600 rounded-lg",children:(0,$r.jsx)(Jn,{size:20})}),(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Security"})]})}),c?(0,$r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{currentPassword:t,newPassword:r,confirmPassword:a}=u;if(r===a){m(!0);try{await Vr.put("/api/users/password",{currentPassword:t,newPassword:r}),n("Password updated successfully","success"),h({currentPassword:"",newPassword:"",confirmPassword:""}),d(!1)}catch(lb){var s,i;console.error("Error updating password:",lb),n((null===(s=lb.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Error updating password","danger")}finally{m(!1)}}else n("New passwords do not match","danger")},className:"space-y-4 animate-in fade-in slide-in-from-top-4 duration-300",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),(0,$r.jsx)("input",{type:"password",name:"currentPassword",value:u.currentPassword,onChange:g,required:!0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none transition-all text-sm",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),(0,$r.jsx)("input",{type:"password",name:"newPassword",value:u.newPassword,onChange:g,minLength:"6",required:!0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none transition-all text-sm",placeholder:"Min. 6 characters"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,$r.jsx)("input",{type:"password",name:"confirmPassword",value:u.confirmPassword,onChange:g,minLength:"6",required:!0,className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none transition-all text-sm",placeholder:"Min. 6 characters"})]}),(0,$r.jsxs)("div",{className:"pt-2 flex flex-col gap-2",children:[(0,$r.jsx)("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-xl shadow-sm text-sm font-bold text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:p?"Updating...":"Update Password"}),(0,$r.jsx)("button",{type:"button",onClick:()=>d(!1),className:"w-full py-2.5 px-4 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors",children:"Cancel"})]})]}):(0,$r.jsxs)("div",{className:"text-center py-6",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-3 text-gray-400",children:(0,$r.jsx)(Kn,{size:24})}),(0,$r.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Update your password securely"}),(0,$r.jsx)("button",{onClick:()=>d(!0),className:"w-full py-2.5 px-4 border border-gray-200 rounded-xl shadow-sm text-sm font-bold text-gray-700 bg-white hover:bg-gray-50 hover:text-gray-900 focus:outline-none transition-all",children:"Change Password"})]})]})})]})]})})},ai=e=>{let{documentType:r="general",subFolder:n="",identifier:a="",onUploadSuccess:s=()=>{},onUploadError:i=()=>{},showFileList:o=!0,allowMultiple:l=!0,acceptedTypes:c="*",maxFileSize:d=26214400}=e;const[u,h]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)(""),[v,y]=(0,t.useState)([]),w=Gr;(0,t.useEffect)(()=>{o&&j()},[r,n]);const j=async()=>{try{const e=await Vr.get("".concat(w,"/api/upload/files/").concat(r,"/").concat(n));e.data.success&&y(e.data.files)}catch(lb){console.error("Error fetching existing files:",lb)}},N=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return(0,$r.jsxs)("div",{className:"enhanced-file-upload",children:[(0,$r.jsxs)("div",{className:"upload-section",children:[(0,$r.jsx)("h3",{children:"File Upload"}),(0,$r.jsx)("div",{className:"file-input-container",children:(0,$r.jsx)("input",{id:"fileInput",type:"file",multiple:l,onChange:e=>{const t=Array.from(e.target.files);if(t.filter(e=>e.size>d).length>0)b("Some files are too large. Maximum size: ".concat(Math.round(d/1024/1024),"MB"));else{if("*"!==c){const e=c.split(",").map(e=>e.trim());if(t.filter(t=>{const r=t.type,n="."+t.name.split(".").pop().toLowerCase();return!e.some(e=>e.startsWith(".")?e===n:r.includes(e))}).length>0)return void b("Some files have invalid types. Allowed: ".concat(c))}h(t),b("")}},accept:"*"===c?void 0:c,style:{marginBottom:"10px"}})}),u.length>0&&(0,$r.jsxs)("div",{className:"selected-files",children:[(0,$r.jsx)("h4",{children:"Selected Files:"}),(0,$r.jsx)("ul",{children:u.map((e,t)=>(0,$r.jsxs)("li",{children:[e.name," (",N(e.size),")"]},t))})]}),(0,$r.jsx)("div",{className:"upload-controls",children:(0,$r.jsx)("button",{onClick:async()=>{if(0!==u.length){g(!0),b("");try{const e=new FormData;u.forEach(t=>{e.append("files",t)}),e.append("documentType",r),e.append("subFolder",n),a&&e.append("identifier",a),console.log("\ud83d\udce4 Uploading files:",u.map(e=>e.name)),console.log("\ud83d\udce4 Document Type:",r),console.log("\ud83d\udce4 Sub Folder:",n),console.log("\ud83d\udce4 Identifier:",a);const t=await Vr.post("".concat(w,"/api/upload/upload"),e,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("\u2705 Upload response:",t.data),t.data.success){b("Files uploaded successfully!"),m(t.data.files),h([]);const e=document.getElementById("fileInput");e&&(e.value=""),o&&j(),s(t.data.files)}else b("Upload failed: ".concat(t.data.message)),i(t.data)}catch(lb){var e,t;console.error("\u274c Upload error:",lb);const n=(null===(e=lb.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||lb.message;b("Upload failed: ".concat(n)),i(lb)}finally{g(!1)}}else b("Please select files to upload")},disabled:f||0===u.length,className:"upload-btn",children:f?"Uploading...":"Upload Files"})}),x&&(0,$r.jsx)("div",{className:"message ".concat(x.includes("successfully")?"success":"error"),children:x})]}),o&&(0,$r.jsxs)("div",{className:"file-list-section",children:[(0,$r.jsx)("h3",{children:"Existing Files"}),0===v.length?(0,$r.jsx)("p",{children:"No files found"}):(0,$r.jsx)("div",{className:"file-list",children:v.map((e,t)=>{return(0,$r.jsxs)("div",{className:"file-item",children:[(0,$r.jsxs)("div",{className:"file-info",children:[(0,$r.jsx)("span",{className:"file-name",children:e.filename}),(0,$r.jsx)("span",{className:"file-size",children:N(e.size)}),(0,$r.jsx)("span",{className:"file-date",children:(r=e.modified,new Date(r).toLocaleDateString()+" "+new Date(r).toLocaleTimeString())})]}),(0,$r.jsxs)("div",{className:"file-actions",children:[(0,$r.jsx)("button",{onClick:()=>(e=>{const t="".concat(w,"/api/upload/serve/").concat(encodeURIComponent(e));window.open(t,"_blank")})(e.relativePath),className:"view-btn",children:"View"}),(0,$r.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this file?"))try{const t=await Vr.delete("".concat(w,"/api/upload/delete/").concat(encodeURIComponent(e)));t.data.success?(b("File deleted successfully"),j()):b("Delete failed: ".concat(t.data.message))}catch(lb){var t,r;console.error("\u274c Delete error:",lb),b("Delete failed: ".concat((null===(t=lb.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||lb.message))}})(e.relativePath),className:"delete-btn",children:"Delete"})]})]},t);var r})})]}),(0,$r.jsx)("style",{jsx:!0,children:"\n        .enhanced-file-upload {\n          max-width: 800px;\n          margin: 20px auto;\n          padding: 20px;\n          border: 1px solid #ddd;\n          border-radius: 8px;\n          background: #f9f9f9;\n        }\n\n        .upload-section, .file-list-section {\n          margin-bottom: 30px;\n        }\n\n        .file-input-container {\n          margin-bottom: 15px;\n        }\n\n        .selected-files {\n          background: #e8f4fd;\n          padding: 10px;\n          border-radius: 4px;\n          margin-bottom: 15px;\n        }\n\n        .selected-files ul {\n          margin: 5px 0;\n          padding-left: 20px;\n        }\n\n        .upload-controls {\n          margin-bottom: 15px;\n        }\n\n        .upload-btn {\n          background: #007bff;\n          color: white;\n          border: none;\n          padding: 10px 20px;\n          border-radius: 4px;\n          cursor: pointer;\n        }\n\n        .upload-btn:disabled {\n          background: #ccc;\n          cursor: not-allowed;\n        }\n\n        .message {\n          padding: 10px;\n          border-radius: 4px;\n          margin-top: 10px;\n        }\n\n        .message.success {\n          background: #d4edda;\n          color: #155724;\n          border: 1px solid #c3e6cb;\n        }\n\n        .message.error {\n          background: #f8d7da;\n          color: #721c24;\n          border: 1px solid #f5c6cb;\n        }\n\n        .file-list {\n          max-height: 400px;\n          overflow-y: auto;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n        }\n\n        .file-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 10px;\n          border-bottom: 1px solid #eee;\n        }\n\n        .file-item:last-child {\n          border-bottom: none;\n        }\n\n        .file-info {\n          flex: 1;\n        }\n\n        .file-name {\n          font-weight: bold;\n          display: block;\n          margin-bottom: 2px;\n        }\n\n        .file-size, .file-date {\n          font-size: 0.9em;\n          color: #666;\n          margin-right: 10px;\n        }\n\n        .file-actions {\n          display: flex;\n          gap: 5px;\n        }\n\n        .view-btn, .delete-btn {\n          padding: 5px 10px;\n          border: none;\n          border-radius: 3px;\n          cursor: pointer;\n          font-size: 0.9em;\n        }\n\n        .view-btn {\n          background: #28a745;\n          color: white;\n        }\n\n        .delete-btn {\n          background: #dc3545;\n          color: white;\n        }\n\n        .view-btn:hover, .delete-btn:hover {\n          opacity: 0.8;\n        }\n      "})]})},si=()=>(0,$r.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,$r.jsx)("h1",{children:"Enhanced File Upload Test"}),(0,$r.jsx)("p",{children:"This is now using the enhanced file upload system with better organization and file replacement."}),(0,$r.jsx)(ai,{documentType:"general",subFolder:"test-files",onUploadSuccess:e=>{console.log("Upload successful:",e),alert("Successfully uploaded ".concat(e.length," file(s)!"))},onUploadError:e=>{console.error("Upload error:",e),alert("Upload failed. Please check the console for details.")},showFileList:!0,allowMultiple:!0,acceptedTypes:"*",maxFileSize:26214400})]}),ii=()=>{var e;const[r,n]=(0,t.useState)("general"),[a,s]=(0,t.useState)(""),[i,o]=(0,t.useState)("");return(0,$r.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,$r.jsx)("h1",{children:"Enhanced File Upload Test"}),(0,$r.jsxs)("div",{style:{background:"#f8f9fa",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #dee2e6"},children:[(0,$r.jsx)("h3",{children:"Upload Configuration"}),(0,$r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,$r.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Document Type:"}),(0,$r.jsx)("select",{value:r,onChange:e=>{n(e.target.value),s("")},style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",width:"200px"},children:[{value:"general",label:"General Files"},{value:"Truck-Documents",label:"Truck Documents"},{value:"Driver-Documents",label:"Driver Documents"},{value:"Client-Documents",label:"Client Documents"},{value:"Helper-Documents",label:"Helper Documents"}].map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,$r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,$r.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Sub Folder:"}),(0,$r.jsxs)("select",{value:a,onChange:e=>s(e.target.value),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",width:"200px"},children:[(0,$r.jsx)("option",{value:"",children:"Select subfolder..."}),null===(e={"Truck-Documents":["OR-CR-Files","Insurance-Papers","License-Documents"],"Driver-Documents":["ID-Photos","Licenses","Medical-Certificates","NBI-Clearances"],"Client-Documents":["Business-Permits","Contracts","Valid-IDs","Tax-Certificates"],"Helper-Documents":["ID-Photos","Licenses","Medical-Certificates","NBI-Clearances"],general:["documents","images","files"]}[r])||void 0===e?void 0:e.map(e=>(0,$r.jsx)("option",{value:e,children:e},e))]})]}),(0,$r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,$r.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Identifier (for file replacement):"}),(0,$r.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"e.g., truck123, driver456",style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",width:"200px"}}),(0,$r.jsx)("small",{style:{display:"block",marginTop:"5px",color:"#666"},children:"Files with the same identifier will replace existing files"})]})]}),(0,$r.jsx)(ai,{documentType:r,subFolder:a,identifier:i,onUploadSuccess:e=>{console.log("Upload successful:",e),alert("Successfully uploaded ".concat(e.length," file(s)!"))},onUploadError:e=>{console.error("Upload error:",e),alert("Upload failed. Please check the console for details.")},showFileList:!0,allowMultiple:!0,acceptedTypes:"*",maxFileSize:26214400}),(0,$r.jsxs)("div",{style:{background:"#e9ecef",padding:"15px",borderRadius:"8px",marginTop:"20px",fontSize:"14px"},children:[(0,$r.jsx)("h4",{children:"How to use:"}),(0,$r.jsxs)("ul",{children:[(0,$r.jsxs)("li",{children:[(0,$r.jsx)("strong",{children:"Document Type:"})," Select the main category for your files"]}),(0,$r.jsxs)("li",{children:[(0,$r.jsx)("strong",{children:"Sub Folder:"})," Choose a specific subfolder within the document type"]}),(0,$r.jsxs)("li",{children:[(0,$r.jsx)("strong",{children:"Identifier:"})," Optional. If provided, new files will replace existing files with the same identifier"]}),(0,$r.jsxs)("li",{children:[(0,$r.jsx)("strong",{children:"File Upload:"})," Select files and click upload"]}),(0,$r.jsxs)("li",{children:[(0,$r.jsx)("strong",{children:"File Management:"})," View existing files, download them, or delete them"]})]}),(0,$r.jsx)("h4",{children:"Features:"}),(0,$r.jsxs)("ul",{children:[(0,$r.jsx)("li",{children:"\u2705 Files are saved to the correct uploads folder structure"}),(0,$r.jsx)("li",{children:"\u2705 File replacement when using identifiers"}),(0,$r.jsx)("li",{children:"\u2705 File viewing and downloading"}),(0,$r.jsx)("li",{children:"\u2705 File deletion"}),(0,$r.jsx)("li",{children:"\u2705 File size and type validation"}),(0,$r.jsx)("li",{children:"\u2705 Organized folder structure"})]})]})]})},oi=()=>{const{showAlert:e}=(0,t.useContext)(Sa),[r,n]=(0,t.useState)("client"),[a,s]=(0,t.useState)({startDate:"",endDate:""}),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)({totalDeliveries:0,totalDistance:0,totalRevenue:0,activeClients:0});(0,t.useEffect)(()=>{const e=new Date,t=new Date;t.setDate(e.getDate()-30),s({startDate:t.toISOString().split("T")[0],endDate:e.toISOString().split("T")[0]})},[]);const h=e=>{n(e),o(null)},p=e=>{const{name:t,value:r}=e.target;s(e=>Ne(Ne({},e),{},{[t]:r}))};return(0,$r.jsx)("div",{className:"reports-page",children:(0,$r.jsxs)("div",{className:"card",children:[(0,$r.jsxs)("div",{className:"card-header",children:[(0,$r.jsx)("h2",{className:"card-title",children:"Reports"}),(0,$r.jsxs)(be,{to:"/logout",className:"btn btn-secondary",children:[(0,$r.jsx)(Wa,{})," Logout"]})]}),(0,$r.jsxs)("div",{className:"card-body",children:[(0,$r.jsxs)("div",{className:"report-controls",children:[(0,$r.jsxs)("div",{className:"report-type-selection",children:[(0,$r.jsx)("h3",{children:"Report Type"}),(0,$r.jsxs)("div",{className:"report-types",children:[(0,$r.jsx)("button",{className:"btn ".concat("client"===r?"btn-primary":"btn-outline-primary"),onClick:()=>h("client"),children:"Client Report"}),(0,$r.jsx)("button",{className:"btn ".concat("delivery"===r?"btn-primary":"btn-outline-primary"),onClick:()=>h("delivery"),children:"Delivery Report"}),(0,$r.jsx)("button",{className:"btn ".concat("truck"===r?"btn-primary":"btn-outline-primary"),onClick:()=>h("truck"),children:"Truck Utilization"})]})]}),(0,$r.jsxs)("div",{className:"date-range-selection",children:[(0,$r.jsx)("h3",{children:"Date Range"}),(0,$r.jsxs)("div",{className:"date-inputs",children:[(0,$r.jsxs)("div",{className:"form-group",children:[(0,$r.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),(0,$r.jsx)("input",{type:"date",id:"startDate",name:"startDate",className:"form-control",value:a.startDate,onChange:p})]}),(0,$r.jsxs)("div",{className:"form-group",children:[(0,$r.jsx)("label",{htmlFor:"endDate",children:"End Date"}),(0,$r.jsx)("input",{type:"date",id:"endDate",name:"endDate",className:"form-control",value:a.endDate,onChange:p})]})]}),(0,$r.jsxs)("div",{className:"report-actions",children:[(0,$r.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(a.startDate&&a.endDate){c(!0);try{const e=await Vr.get("/api/staffs/reports/".concat(r),{params:a});o(e.data.data),u(e.data.summary)}catch(lb){console.error("Error generating report:",lb),e("Error generating report","danger")}finally{c(!1)}}else e("Please select both start and end dates","warning")},disabled:l,children:l?"Generating...":"Generate Report"}),i&&(0,$r.jsxs)("button",{className:"btn btn-success",onClick:()=>{if(!i)return void e("No report data to download","warning");let t="";"client"===r?(t="Client ID,Client Name,Deliveries,Total Distance,Total Revenue\n",i.forEach(e=>{t+="".concat(e.ClientID,",").concat(e.ClientName,",").concat(e.DeliveryCount,",").concat(e.TotalDistance.toFixed(2),",").concat(e.TotalRevenue.toFixed(2),"\n")})):"delivery"===r?(t="Delivery ID,Client,Driver,Date,Status,Distance,Rate\n",i.forEach(e=>{const r=new Date(e.DeliveryDate).toLocaleDateString();t+="".concat(e.DeliveryID,",").concat(e.ClientName,",").concat(e.DriverName,",").concat(r,",").concat(e.DeliveryStatus,",").concat(e.DeliveryDistance,",").concat(e.DeliveryRate,"\n")})):"truck"===r&&(t="Truck ID,Plate,Type,Deliveries,Total Distance,Utilization (%)\n",i.forEach(e=>{t+="".concat(e.TruckID,",").concat(e.TruckPlate,",").concat(e.TruckType,",").concat(e.DeliveryCount,",").concat(e.TotalDistance.toFixed(2),",").concat(e.Utilization,"\n")}));const n=new Blob([t],{type:"text/csv"}),s=window.URL.createObjectURL(n),o=document.createElement("a");o.href=s,o.download="".concat(r,"_report_").concat(a.startDate,"_to_").concat(a.endDate,".csv"),document.body.appendChild(o),o.click(),document.body.removeChild(o),e("Report downloaded successfully","success")},children:[(0,$r.jsx)(os,{})," Download Report"]})]})]})]}),(0,$r.jsx)("div",{className:"report-content",children:l?(0,$r.jsx)(ri,{}):i?"client"===r?(0,$r.jsxs)("div",{className:"report-container",children:[(0,$r.jsxs)("div",{className:"report-summary",children:[(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"summary-icon",children:(0,$r.jsx)(Qa,{})}),(0,$r.jsxs)("div",{className:"summary-data",children:[(0,$r.jsx)("h3",{children:d.activeClients}),(0,$r.jsx)("p",{children:"Active Clients"})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"summary-icon",children:(0,$r.jsx)(Qa,{})}),(0,$r.jsxs)("div",{className:"summary-data",children:[(0,$r.jsx)("h3",{children:d.totalDeliveries}),(0,$r.jsx)("p",{children:"Total Deliveries"})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"summary-icon",children:(0,$r.jsx)(as,{})}),(0,$r.jsxs)("div",{className:"summary-data",children:[(0,$r.jsxs)("h3",{children:["$",d.totalRevenue.toFixed(2)]}),(0,$r.jsx)("p",{children:"Total Revenue"})]})]})]}),(0,$r.jsx)("div",{className:"table-container",children:(0,$r.jsxs)("table",{className:"data-table",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{children:"Client ID"}),(0,$r.jsx)("th",{children:"Client Name"}),(0,$r.jsx)("th",{children:"Deliveries"}),(0,$r.jsx)("th",{children:"Total Distance"}),(0,$r.jsx)("th",{children:"Total Revenue"})]})}),(0,$r.jsx)("tbody",{children:i.map(e=>(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("td",{children:e.ClientID}),(0,$r.jsx)("td",{children:e.ClientName}),(0,$r.jsx)("td",{children:e.DeliveryCount}),(0,$r.jsxs)("td",{children:[e.TotalDistance.toFixed(2)," km"]}),(0,$r.jsxs)("td",{children:["$",e.TotalRevenue.toFixed(2)]})]},e.ClientID))})]})})]}):"delivery"===r?(0,$r.jsxs)("div",{className:"report-container",children:[(0,$r.jsxs)("div",{className:"report-summary",children:[(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"summary-icon",children:(0,$r.jsx)(Qa,{})}),(0,$r.jsxs)("div",{className:"summary-data",children:[(0,$r.jsx)("h3",{children:i.length}),(0,$r.jsx)("p",{children:"Total Deliveries"})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"summary-icon",children:(0,$r.jsx)(Qa,{})}),(0,$r.jsxs)("div",{className:"summary-data",children:[(0,$r.jsxs)("h3",{children:[d.totalDistance.toFixed(2)," km"]}),(0,$r.jsx)("p",{children:"Total Distance"})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"summary-icon",children:(0,$r.jsx)(as,{})}),(0,$r.jsxs)("div",{className:"summary-data",children:[(0,$r.jsxs)("h3",{children:["$",d.totalRevenue.toFixed(2)]}),(0,$r.jsx)("p",{children:"Total Revenue"})]})]})]}),(0,$r.jsx)("div",{className:"table-container",children:(0,$r.jsxs)("table",{className:"data-table",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{children:"Delivery ID"}),(0,$r.jsx)("th",{children:"Client"}),(0,$r.jsx)("th",{children:"Driver"}),(0,$r.jsx)("th",{children:"Date"}),(0,$r.jsx)("th",{children:"Status"}),(0,$r.jsx)("th",{children:"Distance"}),(0,$r.jsx)("th",{children:"Rate"})]})}),(0,$r.jsx)("tbody",{children:i.map(e=>(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("td",{children:e.DeliveryID}),(0,$r.jsx)("td",{children:e.ClientName}),(0,$r.jsx)("td",{children:e.DriverName}),(0,$r.jsx)("td",{children:new Date(e.DeliveryDate).toLocaleDateString()}),(0,$r.jsx)("td",{children:e.DeliveryStatus}),(0,$r.jsxs)("td",{children:[e.DeliveryDistance," km"]}),(0,$r.jsxs)("td",{children:["$",e.DeliveryRate]})]},e.DeliveryID))})]})})]}):"truck"===r?(0,$r.jsxs)("div",{className:"report-container",children:[(0,$r.jsxs)("div",{className:"report-summary",children:[(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"summary-icon",children:(0,$r.jsx)(Qa,{})}),(0,$r.jsxs)("div",{className:"summary-data",children:[(0,$r.jsx)("h3",{children:i.length}),(0,$r.jsx)("p",{children:"Active Trucks"})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"summary-icon",children:(0,$r.jsx)(Qa,{})}),(0,$r.jsxs)("div",{className:"summary-data",children:[(0,$r.jsx)("h3",{children:d.totalDeliveries}),(0,$r.jsx)("p",{children:"Total Deliveries"})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"summary-icon",children:(0,$r.jsx)(as,{})}),(0,$r.jsxs)("div",{className:"summary-data",children:[(0,$r.jsxs)("h3",{children:[d.totalDistance.toFixed(2)," km"]}),(0,$r.jsx)("p",{children:"Total Distance"})]})]})]}),(0,$r.jsx)("div",{className:"table-container",children:(0,$r.jsxs)("table",{className:"data-table",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{children:"Truck ID"}),(0,$r.jsx)("th",{children:"Plate"}),(0,$r.jsx)("th",{children:"Type"}),(0,$r.jsx)("th",{children:"Deliveries"}),(0,$r.jsx)("th",{children:"Total Distance"}),(0,$r.jsx)("th",{children:"Utilization"})]})}),(0,$r.jsx)("tbody",{children:i.map(e=>(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("td",{children:e.TruckID}),(0,$r.jsx)("td",{children:e.TruckPlate}),(0,$r.jsx)("td",{children:e.TruckType}),(0,$r.jsx)("td",{children:e.DeliveryCount}),(0,$r.jsxs)("td",{children:[e.TotalDistance.toFixed(2)," km"]}),(0,$r.jsxs)("td",{children:[e.Utilization,"%"]})]},e.TruckID))})]})})]}):null:(0,$r.jsxs)("div",{className:"report-placeholder",children:[(0,$r.jsx)(Qa,{size:50}),(0,$r.jsx)("p",{children:"Generate a report to view data"})]})})]})]})})};function li(){const{currentUser:e}=(0,t.useContext)(wa),{showSuccess:r,showError:n}=Da(),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)({vehicleType:"",ratePerKm:"",baseRate:"",description:""}),m=["mini truck","4 wheeler","6 wheeler","8 wheeler","10 wheeler"],f={"mini truck":"\ud83d\udefb","4 wheeler":"\ud83d\ude90","6 wheeler":"\ud83d\ude9b","8 wheeler":"\ud83d\ude9a","10 wheeler":"\ud83d\ude9c"};(0,t.useEffect)(()=>{g()},[]);const g=async()=>{try{o(!0);const e=await Vr.get("/api/staffs/vehicle-rates",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.data.success)throw new Error(e.data.message||"Failed to fetch vehicle rates");s(e.data.data||[])}catch(lb){console.error("Error fetching vehicle rates:",lb),n("Error","Failed to load vehicle rates");const t=m.map((e,t)=>({id:"default-".concat(t),vehicleType:e,ratePerKm:x(e),baseRate:b(e),description:"Default rate for ".concat(e),isDefault:!0}));s(t)}finally{o(!1)}},x=e=>({"mini truck":15,"4 wheeler":20,"6 wheeler":25,"8 wheeler":30,"10 wheeler":35}[e]||20),b=e=>({"mini truck":100,"4 wheeler":150,"6 wheeler":200,"8 wheeler":250,"10 wheeler":300}[e]||150),v=async e=>{try{const t={vehicleType:e.vehicleType,ratePerKm:parseFloat(e.ratePerKm),baseRate:parseFloat(e.baseRate),description:e.description||"Rate for ".concat(e.vehicleType)};let n;if(n=e.id&&!e.isDefault?await Vr.put("/api/staffs/vehicle-rates/".concat(e.id),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}):await Vr.post("/api/staffs/vehicle-rates",t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),!n.data.success)throw new Error(n.data.message||"Failed to save rate");r("Success","Vehicle rate saved successfully"),g(),c(null),u(!1),p({vehicleType:"",ratePerKm:"",baseRate:"",description:""})}catch(lb){var t,a;console.error("Error saving vehicle rate:",lb),n("Error",(null===(t=lb.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to save vehicle rate")}};return i?(0,$r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,$r.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading vehicle rates..."})]})}):(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,$r.jsx)("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,$r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-white shadow-md",children:(0,$r.jsx)(Hs,{size:18})}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h1",{className:"text-lg font-bold text-gray-900",children:["Welcome, ",(null===e||void 0===e?void 0:e.username)||"Staff Member"]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Vehicle Rate Management"})]})]}),(0,$r.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("currentUser"),window.location.href="/login"},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[(0,$r.jsx)(Rs,{size:14})," Logout"]})]})})}),(0,$r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Vehicle Rates"}),(0,$r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Manage pricing for different truck types. Changes apply to all new bookings."})]}),(0,$r.jsxs)("button",{onClick:()=>u(!0),disabled:d,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white text-sm font-semibold rounded-xl shadow-md hover:shadow-lg hover:from-blue-700 hover:to-blue-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,$r.jsx)(Ps,{size:12})," Add New Rate"]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[(0,$r.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center",children:(0,$r.jsx)(Hs,{className:"text-blue-600",size:16})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.length}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Vehicle Types"})]})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-green-50 flex items-center justify-center",children:(0,$r.jsx)(is,{className:"text-green-600",size:16})}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20b1",Math.min(...a.map(e=>e.baseRate||0))]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Lowest Base"})]})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-purple-50 flex items-center justify-center",children:(0,$r.jsx)(is,{className:"text-purple-600",size:16})}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20b1",Math.max(...a.map(e=>e.baseRate||0))]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Highest Base"})]})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-orange-50 flex items-center justify-center",children:(0,$r.jsx)(Ds,{className:"text-orange-600",size:16})}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20b1",a.length>0?Math.round(a.reduce((e,t)=>e+(t.ratePerKm||0),0)/a.length):0]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Avg Rate/KM"})]})]})})]}),d&&(0,$r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-md mb-8 overflow-hidden",children:[(0,$r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:(0,$r.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,$r.jsx)(Ps,{size:14})," Add New Vehicle Rate"]})}),(0,$r.jsxs)("div",{className:"p-6",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:["Vehicle Type ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{value:h.vehicleType,onChange:e=>p(Ne(Ne({},h),{},{vehicleType:e.target.value})),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",children:[(0,$r.jsx)("option",{value:"",children:"Select Type"}),m.filter(e=>!a.some(t=>t.vehicleType===e&&!t.isDefault)).map(e=>(0,$r.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:["Rate per KM (\u20b1) ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"number",step:"0.01",value:h.ratePerKm,onChange:e=>p(Ne(Ne({},h),{},{ratePerKm:e.target.value})),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",placeholder:"e.g. 25"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:["Base Rate (\u20b1) ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"number",step:"0.01",value:h.baseRate,onChange:e=>p(Ne(Ne({},h),{},{baseRate:e.target.value})),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",placeholder:"e.g. 1000"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Description"}),(0,$r.jsx)("input",{type:"text",value:h.description,onChange:e=>p(Ne(Ne({},h),{},{description:e.target.value})),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",placeholder:"Optional description"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3 mt-6 pt-5 border-t border-gray-100",children:[(0,$r.jsxs)("button",{onClick:()=>v(h),disabled:!h.vehicleType||!h.ratePerKm||!h.baseRate,className:"flex items-center gap-2 px-5 py-2.5 bg-green-600 text-white text-sm font-semibold rounded-xl hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:[(0,$r.jsx)(Ls,{size:12})," Save Rate"]}),(0,$r.jsxs)("button",{onClick:()=>{u(!1),p({vehicleType:"",ratePerKm:"",baseRate:"",description:""})},className:"flex items-center gap-2 px-5 py-2.5 text-gray-600 bg-gray-100 text-sm font-medium rounded-xl hover:bg-gray-200 transition-colors",children:[(0,$r.jsx)(qs,{size:12})," Cancel"]})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,$r.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,$r.jsxs)("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:[(0,$r.jsx)(Hs,{className:"text-blue-600",size:16})," Current Vehicle Rates"]})}),(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50/80 border-b border-gray-100",children:[(0,$r.jsx)("th",{className:"px-6 py-3.5 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Vehicle Type"}),(0,$r.jsx)("th",{className:"px-6 py-3.5 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Rate per KM"}),(0,$r.jsx)("th",{className:"px-6 py-3.5 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Base Rate"}),(0,$r.jsx)("th",{className:"px-6 py-3.5 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Description"}),(0,$r.jsx)("th",{className:"px-6 py-3.5 text-right text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:a.map(e=>(0,$r.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("span",{className:"text-2xl",children:f[e.vehicleType]||"\ud83d\ude9b"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"font-semibold text-gray-900 capitalize",children:e.vehicleType}),e.isDefault&&(0,$r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold bg-amber-100 text-amber-700 uppercase tracking-wider",children:"Default"})]})]})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(null===l||void 0===l?void 0:l.id)===e.id?(0,$r.jsx)("input",{type:"number",step:"0.01",value:l.ratePerKm,onChange:e=>c(Ne(Ne({},l),{},{ratePerKm:e.target.value})),className:"w-28 px-3 py-1.5 bg-blue-50 border border-blue-200 rounded-lg text-sm font-medium text-blue-800 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"}):(0,$r.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-700 rounded-lg text-sm font-bold",children:[(0,$r.jsx)(Ds,{size:10})," \u20b1",Number(e.ratePerKm).toLocaleString()]})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(null===l||void 0===l?void 0:l.id)===e.id?(0,$r.jsx)("input",{type:"number",step:"0.01",value:l.baseRate,onChange:e=>c(Ne(Ne({},l),{},{baseRate:e.target.value})),className:"w-28 px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm font-medium text-green-800 focus:ring-2 focus:ring-green-500/20 focus:border-green-500 outline-none"}):(0,$r.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-50 text-green-700 rounded-lg text-sm font-bold",children:[(0,$r.jsx)(is,{size:10})," \u20b1",Number(e.baseRate).toLocaleString()]})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(null===l||void 0===l?void 0:l.id)===e.id?(0,$r.jsx)("input",{type:"text",value:l.description,onChange:e=>c(Ne(Ne({},l),{},{description:e.target.value})),className:"w-full px-3 py-1.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"}):(0,$r.jsx)("span",{className:"text-sm text-gray-500",children:e.description})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,$r.jsx)("div",{className:"flex items-center justify-end gap-2",children:(null===l||void 0===l?void 0:l.id)===e.id?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)("button",{onClick:()=>v(l),className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white text-xs font-semibold rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[(0,$r.jsx)(Ls,{size:10})," Save"]}),(0,$r.jsxs)("button",{onClick:()=>c(null),className:"flex items-center gap-1.5 px-3 py-1.5 text-gray-600 bg-gray-100 text-xs font-medium rounded-lg hover:bg-gray-200 transition-colors",children:[(0,$r.jsx)(qs,{size:10})," Cancel"]})]}):(0,$r.jsxs)("button",{onClick:()=>c(Ne({},e)),className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 text-blue-700 text-xs font-semibold rounded-lg hover:bg-blue-100 transition-colors border border-blue-200",children:[(0,$r.jsx)(ls,{size:10})," Edit"]})})})]},e.id))})]})}),0===a.length&&(0,$r.jsxs)("div",{className:"text-center py-16 px-8",children:[(0,$r.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gray-100 flex items-center justify-center mx-auto mb-4",children:(0,$r.jsx)(Hs,{className:"text-gray-400",size:28})}),(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-600 mb-2",children:"No Vehicle Rates"}),(0,$r.jsx)("p",{className:"text-sm text-gray-500 max-w-md mx-auto mb-6",children:"Add vehicle rates to start managing pricing for different truck types."}),(0,$r.jsxs)("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white text-sm font-semibold rounded-xl hover:bg-blue-700 transition-colors shadow-md",children:[(0,$r.jsx)(Ps,{size:12})," Add First Rate"]})]})]}),(0,$r.jsxs)("div",{className:"mt-6 flex items-start gap-3 p-4 bg-blue-50 border border-blue-100 rounded-xl",children:[(0,$r.jsx)(ys,{className:"text-blue-500 mt-0.5 flex-shrink-0",size:16}),(0,$r.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,$r.jsx)("p",{className:"font-semibold mb-1",children:"How pricing works"}),(0,$r.jsxs)("p",{className:"text-blue-600",children:["Total delivery cost = ",(0,$r.jsx)("strong",{children:"Base Rate"})," + (",(0,$r.jsx)("strong",{children:"Rate per KM"})," x Distance). The base rate is the minimum charge regardless of distance."]})]})]})]})]})}const ci=e=>{let{filters:t,onChange:r}=e;const n=(e,n)=>{r(Ne(Ne({},t),{},{[e]:n}))};return(0,$r.jsxs)("div",{className:"filter-form-grid",children:[(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Brand/Manufacturer"}),(0,$r.jsx)("input",{type:"text",placeholder:"e.g., Isuzu, Hino, Fuso",value:t.brand||"",onChange:e=>n("brand",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Truck Type"}),(0,$r.jsxs)("select",{value:t.truckType||"",onChange:e=>n("truckType",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Types"}),(0,$r.jsx)("option",{value:"Dump Truck",children:"Dump Truck"}),(0,$r.jsx)("option",{value:"Flatbed",children:"Flatbed"}),(0,$r.jsx)("option",{value:"Cargo Truck",children:"Cargo Truck"}),(0,$r.jsx)("option",{value:"Refrigerated",children:"Refrigerated"}),(0,$r.jsx)("option",{value:"Tanker",children:"Tanker"}),(0,$r.jsx)("option",{value:"Box Truck",children:"Box Truck"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Status"}),(0,$r.jsxs)("select",{value:t.status||"",onChange:e=>n("status",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Status"}),(0,$r.jsx)("option",{value:"available",children:"Available"}),(0,$r.jsx)("option",{value:"in-use",children:"In Use"}),(0,$r.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,$r.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Plate Number"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by plate number",value:t.plateNumber||"",onChange:e=>n("plateNumber",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Manufacture Date From"}),(0,$r.jsx)("input",{type:"date",value:t.manufactureDateFrom||"",onChange:e=>n("manufactureDateFrom",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Manufacture Date To"}),(0,$r.jsx)("input",{type:"date",value:t.manufactureDateTo||"",onChange:e=>n("manufactureDateTo",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Min Capacity (tons)"}),(0,$r.jsx)("input",{type:"number",placeholder:"0",value:t.minCapacity||"",onChange:e=>n("minCapacity",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Max Capacity (tons)"}),(0,$r.jsx)("input",{type:"number",placeholder:"100",value:t.maxCapacity||"",onChange:e=>n("maxCapacity",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Min Kilometers"}),(0,$r.jsx)("input",{type:"number",placeholder:"0",value:t.minKilometers||"",onChange:e=>n("minKilometers",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Max Kilometers"}),(0,$r.jsx)("input",{type:"number",placeholder:"1000000",value:t.maxKilometers||"",onChange:e=>n("maxKilometers",e.target.value)})]})]})},di=e=>{let{filters:t,onChange:r}=e;const n=(e,n)=>{r(Ne(Ne({},t),{},{[e]:n}))};return(0,$r.jsxs)("div",{className:"filter-form-grid",children:[(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Driver Name"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by name",value:t.name||"",onChange:e=>n("name",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Status"}),(0,$r.jsxs)("select",{value:t.status||"",onChange:e=>n("status",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Status"}),(0,$r.jsx)("option",{value:"active",children:"Active"}),(0,$r.jsx)("option",{value:"inactive",children:"Inactive"}),(0,$r.jsx)("option",{value:"on-leave",children:"On Leave"}),(0,$r.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Assignment Status"}),(0,$r.jsxs)("select",{value:t.assignmentStatus||"",onChange:e=>n("assignmentStatus",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All"}),(0,$r.jsx)("option",{value:"assigned",children:"Assigned"}),(0,$r.jsx)("option",{value:"unassigned",children:"Unassigned"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"License Type"}),(0,$r.jsxs)("select",{value:t.licenseType||"",onChange:e=>n("licenseType",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Types"}),(0,$r.jsx)("option",{value:"Professional",children:"Professional"}),(0,$r.jsx)("option",{value:"Non-Professional",children:"Non-Professional"}),(0,$r.jsx)("option",{value:"Restriction Code 1",children:"Restriction Code 1"}),(0,$r.jsx)("option",{value:"Restriction Code 2",children:"Restriction Code 2"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"License Expiry From"}),(0,$r.jsx)("input",{type:"date",value:t.licenseExpiryFrom||"",onChange:e=>n("licenseExpiryFrom",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"License Expiry To"}),(0,$r.jsx)("input",{type:"date",value:t.licenseExpiryTo||"",onChange:e=>n("licenseExpiryTo",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Medical Certificate Status"}),(0,$r.jsxs)("select",{value:t.medicalStatus||"",onChange:e=>n("medicalStatus",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All"}),(0,$r.jsx)("option",{value:"valid",children:"Valid"}),(0,$r.jsx)("option",{value:"expiring-soon",children:"Expiring Soon (30 days)"}),(0,$r.jsx)("option",{value:"expired",children:"Expired"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Employment Date From"}),(0,$r.jsx)("input",{type:"date",value:t.employmentDateFrom||"",onChange:e=>n("employmentDateFrom",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Employment Date To"}),(0,$r.jsx)("input",{type:"date",value:t.employmentDateTo||"",onChange:e=>n("employmentDateTo",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Contact Number"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by contact",value:t.contact||"",onChange:e=>n("contact",e.target.value)})]})]})},ui=e=>{let{filters:t,onChange:r}=e;const n=(e,n)=>{r(Ne(Ne({},t),{},{[e]:n}))};return(0,$r.jsxs)("div",{className:"filter-form-grid",children:[(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Helper Name"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by name",value:t.name||"",onChange:e=>n("name",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Status"}),(0,$r.jsxs)("select",{value:t.status||"",onChange:e=>n("status",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Status"}),(0,$r.jsx)("option",{value:"active",children:"Active"}),(0,$r.jsx)("option",{value:"inactive",children:"Inactive"}),(0,$r.jsx)("option",{value:"on-leave",children:"On Leave"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Assignment Status"}),(0,$r.jsxs)("select",{value:t.assignmentStatus||"",onChange:e=>n("assignmentStatus",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All"}),(0,$r.jsx)("option",{value:"assigned",children:"Assigned"}),(0,$r.jsx)("option",{value:"unassigned",children:"Unassigned"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"ID Type"}),(0,$r.jsxs)("select",{value:t.idType||"",onChange:e=>n("idType",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Types"}),(0,$r.jsx)("option",{value:"National ID",children:"National ID"}),(0,$r.jsx)("option",{value:"Voter's ID",children:"Voter's ID"}),(0,$r.jsx)("option",{value:"Passport",children:"Passport"}),(0,$r.jsx)("option",{value:"Driver's License",children:"Driver's License"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"ID Expiry From"}),(0,$r.jsx)("input",{type:"date",value:t.idExpiryFrom||"",onChange:e=>n("idExpiryFrom",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"ID Expiry To"}),(0,$r.jsx)("input",{type:"date",value:t.idExpiryTo||"",onChange:e=>n("idExpiryTo",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Join Date From"}),(0,$r.jsx)("input",{type:"date",value:t.joinDateFrom||"",onChange:e=>n("joinDateFrom",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Join Date To"}),(0,$r.jsx)("input",{type:"date",value:t.joinDateTo||"",onChange:e=>n("joinDateTo",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Contact Number"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by contact",value:t.contact||"",onChange:e=>n("contact",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Age Range"}),(0,$r.jsxs)("div",{className:"age-range",children:[(0,$r.jsx)("input",{type:"number",placeholder:"Min",value:t.minAge||"",onChange:e=>n("minAge",e.target.value),style:{width:"48%"}}),(0,$r.jsx)("input",{type:"number",placeholder:"Max",value:t.maxAge||"",onChange:e=>n("maxAge",e.target.value),style:{width:"48%"}})]})]})]})},hi=e=>{let{filters:t,onChange:r}=e;const n=(e,n)=>{r(Ne(Ne({},t),{},{[e]:n}))};return(0,$r.jsxs)("div",{className:"filter-form-grid",children:[(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Delivery Status"}),(0,$r.jsxs)("select",{value:t.status||"",onChange:e=>n("status",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Status"}),(0,$r.jsx)("option",{value:"pending",children:"Pending"}),(0,$r.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,$r.jsx)("option",{value:"completed",children:"Completed"}),(0,$r.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Client Name"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by client",value:t.clientName||"",onChange:e=>n("clientName",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Truck Plate Number"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by truck",value:t.truckPlate||"",onChange:e=>n("truckPlate",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Driver Name"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by driver",value:t.driverName||"",onChange:e=>n("driverName",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Delivery Date From"}),(0,$r.jsx)("input",{type:"date",value:t.deliveryDateFrom||"",onChange:e=>n("deliveryDateFrom",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Delivery Date To"}),(0,$r.jsx)("input",{type:"date",value:t.deliveryDateTo||"",onChange:e=>n("deliveryDateTo",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Min Amount (\u20b1)"}),(0,$r.jsx)("input",{type:"number",placeholder:"0",value:t.minAmount||"",onChange:e=>n("minAmount",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Max Amount (\u20b1)"}),(0,$r.jsx)("input",{type:"number",placeholder:"100000",value:t.maxAmount||"",onChange:e=>n("maxAmount",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Min Distance (km)"}),(0,$r.jsx)("input",{type:"number",placeholder:"0",value:t.minDistance||"",onChange:e=>n("minDistance",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Max Distance (km)"}),(0,$r.jsx)("input",{type:"number",placeholder:"1000",value:t.maxDistance||"",onChange:e=>n("maxDistance",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Pickup Location"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by pickup location",value:t.pickupLocation||"",onChange:e=>n("pickupLocation",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Delivery Address"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by delivery address",value:t.deliveryAddress||"",onChange:e=>n("deliveryAddress",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Payment Status"}),(0,$r.jsxs)("select",{value:t.paymentStatus||"",onChange:e=>n("paymentStatus",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All"}),(0,$r.jsx)("option",{value:"paid",children:"Paid"}),(0,$r.jsx)("option",{value:"pending",children:"Pending"}),(0,$r.jsx)("option",{value:"partial",children:"Partial"}),(0,$r.jsx)("option",{value:"overdue",children:"Overdue"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Cargo Weight (tons)"}),(0,$r.jsxs)("div",{className:"range-inputs",children:[(0,$r.jsx)("input",{type:"number",placeholder:"Min",value:t.minWeight||"",onChange:e=>n("minWeight",e.target.value),style:{width:"48%"}}),(0,$r.jsx)("input",{type:"number",placeholder:"Max",value:t.maxWeight||"",onChange:e=>n("maxWeight",e.target.value),style:{width:"48%"}})]})]})]})},pi=e=>{let{filters:t,onChange:r}=e;const n=(e,n)=>{r(Ne(Ne({},t),{},{[e]:n}))};return(0,$r.jsxs)("div",{className:"filter-form-grid",children:[(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Client Name"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by name",value:t.name||"",onChange:e=>n("name",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Status"}),(0,$r.jsxs)("select",{value:t.status||"",onChange:e=>n("status",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Status"}),(0,$r.jsx)("option",{value:"active",children:"Active"}),(0,$r.jsx)("option",{value:"inactive",children:"Inactive"}),(0,$r.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Business Type"}),(0,$r.jsxs)("select",{value:t.businessType||"",onChange:e=>n("businessType",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Types"}),(0,$r.jsx)("option",{value:"Construction",children:"Construction"}),(0,$r.jsx)("option",{value:"Manufacturing",children:"Manufacturing"}),(0,$r.jsx)("option",{value:"Agriculture",children:"Agriculture"}),(0,$r.jsx)("option",{value:"Retail",children:"Retail"}),(0,$r.jsx)("option",{value:"Wholesale",children:"Wholesale"}),(0,$r.jsx)("option",{value:"Logistics",children:"Logistics"}),(0,$r.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Company Name"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by company",value:t.companyName||"",onChange:e=>n("companyName",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Registration Date From"}),(0,$r.jsx)("input",{type:"date",value:t.registrationDateFrom||"",onChange:e=>n("registrationDateFrom",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Registration Date To"}),(0,$r.jsx)("input",{type:"date",value:t.registrationDateTo||"",onChange:e=>n("registrationDateTo",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Min Total Deliveries"}),(0,$r.jsx)("input",{type:"number",placeholder:"0",value:t.minDeliveries||"",onChange:e=>n("minDeliveries",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Max Total Deliveries"}),(0,$r.jsx)("input",{type:"number",placeholder:"1000",value:t.maxDeliveries||"",onChange:e=>n("maxDeliveries",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Email"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by email",value:t.email||"",onChange:e=>n("email",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Contact Number"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by contact",value:t.contact||"",onChange:e=>n("contact",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"City/Municipality"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by location",value:t.city||"",onChange:e=>n("city",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Credit Status"}),(0,$r.jsxs)("select",{value:t.creditStatus||"",onChange:e=>n("creditStatus",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All"}),(0,$r.jsx)("option",{value:"good",children:"Good Standing"}),(0,$r.jsx)("option",{value:"warning",children:"Warning"}),(0,$r.jsx)("option",{value:"blocked",children:"Blocked"})]})]})]})},mi=e=>{let{filters:t,onChange:r}=e;const n=(e,n)=>{r(Ne(Ne({},t),{},{[e]:n}))};return(0,$r.jsxs)("div",{className:"filter-form-grid",children:[(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Staff Name"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by name",value:t.name||"",onChange:e=>n("name",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Status"}),(0,$r.jsxs)("select",{value:t.status||"",onChange:e=>n("status",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Status"}),(0,$r.jsx)("option",{value:"active",children:"Active"}),(0,$r.jsx)("option",{value:"inactive",children:"Inactive"}),(0,$r.jsx)("option",{value:"on-leave",children:"On Leave"}),(0,$r.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Role/Position"}),(0,$r.jsxs)("select",{value:t.role||"",onChange:e=>n("role",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Roles"}),(0,$r.jsx)("option",{value:"Admin",children:"Admin"}),(0,$r.jsx)("option",{value:"Operator",children:"Operator"}),(0,$r.jsx)("option",{value:"Dispatcher",children:"Dispatcher"}),(0,$r.jsx)("option",{value:"Accountant",children:"Accountant"}),(0,$r.jsx)("option",{value:"HR",children:"HR"}),(0,$r.jsx)("option",{value:"Maintenance",children:"Maintenance"}),(0,$r.jsx)("option",{value:"Manager",children:"Manager"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Department"}),(0,$r.jsxs)("select",{value:t.department||"",onChange:e=>n("department",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Departments"}),(0,$r.jsx)("option",{value:"Operations",children:"Operations"}),(0,$r.jsx)("option",{value:"Finance",children:"Finance"}),(0,$r.jsx)("option",{value:"HR",children:"Human Resources"}),(0,$r.jsx)("option",{value:"Logistics",children:"Logistics"}),(0,$r.jsx)("option",{value:"Maintenance",children:"Maintenance"}),(0,$r.jsx)("option",{value:"IT",children:"IT"}),(0,$r.jsx)("option",{value:"Administration",children:"Administration"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Join Date From"}),(0,$r.jsx)("input",{type:"date",value:t.joinDateFrom||"",onChange:e=>n("joinDateFrom",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Join Date To"}),(0,$r.jsx)("input",{type:"date",value:t.joinDateTo||"",onChange:e=>n("joinDateTo",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Employment Type"}),(0,$r.jsxs)("select",{value:t.employmentType||"",onChange:e=>n("employmentType",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Types"}),(0,$r.jsx)("option",{value:"Full-time",children:"Full-time"}),(0,$r.jsx)("option",{value:"Part-time",children:"Part-time"}),(0,$r.jsx)("option",{value:"Contract",children:"Contract"}),(0,$r.jsx)("option",{value:"Probationary",children:"Probationary"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Email"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by email",value:t.email||"",onChange:e=>n("email",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Contact Number"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by contact",value:t.contact||"",onChange:e=>n("contact",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Salary Range (\u20b1)"}),(0,$r.jsxs)("div",{className:"range-inputs",children:[(0,$r.jsx)("input",{type:"number",placeholder:"Min",value:t.minSalary||"",onChange:e=>n("minSalary",e.target.value),style:{width:"48%"}}),(0,$r.jsx)("input",{type:"number",placeholder:"Max",value:t.maxSalary||"",onChange:e=>n("maxSalary",e.target.value),style:{width:"48%"}})]})]})]})},fi=e=>{let{filters:t,onChange:r}=e;const n=(e,n)=>{r(Ne(Ne({},t),{},{[e]:n}))};return(0,$r.jsxs)("div",{className:"filter-form-grid",children:[(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Payment Status"}),(0,$r.jsxs)("select",{value:t.status||"",onChange:e=>n("status",e.target.value),children:[(0,$r.jsx)("option",{value:"",children:"All Status"}),(0,$r.jsx)("option",{value:"paid",children:"Paid"}),(0,$r.jsx)("option",{value:"pending",children:"Pending"}),(0,$r.jsx)("option",{value:"overdue",children:"Overdue"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Client Name"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by client name",value:t.name||"",onChange:e=>n("name",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Delivery Date From"}),(0,$r.jsx)("input",{type:"date",value:t.dateFrom||"",onChange:e=>n("dateFrom",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Delivery Date To"}),(0,$r.jsx)("input",{type:"date",value:t.dateTo||"",onChange:e=>n("dateTo",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Min Amount (\u20b1)"}),(0,$r.jsx)("input",{type:"number",placeholder:"0",value:t.minAmount||"",onChange:e=>n("minAmount",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Max Amount (\u20b1)"}),(0,$r.jsx)("input",{type:"number",placeholder:"100000",value:t.maxAmount||"",onChange:e=>n("maxAmount",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Due Date From"}),(0,$r.jsx)("input",{type:"date",value:t.dueDateFrom||"",onChange:e=>n("dueDateFrom",e.target.value)})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{children:"Due Date To"}),(0,$r.jsx)("input",{type:"date",value:t.dueDateTo||"",onChange:e=>n("dueDateTo",e.target.value)})]})]})};var gi=r(2284),xi=Uint8Array,bi=Uint16Array,vi=Int32Array,yi=new xi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wi=new xi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ji=new xi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ni=function(e,t){for(var r=new bi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var a=new vi(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},ki=Ni(yi,2),Si=ki.b,Ci=ki.r;Si[28]=258,Ci[258]=28;for(var _i=Ni(wi,0),Pi=(_i.b,_i.r),Ai=new bi(32768),Di=0;Di<32768;++Di){var Ti=(43690&Di)>>1|(21845&Di)<<1;Ti=(61680&(Ti=(52428&Ti)>>2|(13107&Ti)<<2))>>4|(3855&Ti)<<4,Ai[Di]=((65280&Ti)>>8|(255&Ti)<<8)>>1}var Li=function(e,t,r){for(var n=e.length,a=0,s=new bi(t);a<n;++a)e[a]&&++s[e[a]-1];var i,o=new bi(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;if(r){i=new bi(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],u=o[e[a]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)i[Ai[u]>>l]=c}else for(i=new bi(n),a=0;a<n;++a)e[a]&&(i[a]=Ai[o[e[a]-1]++]>>15-e[a]);return i},Ei=new xi(288);for(Di=0;Di<144;++Di)Ei[Di]=8;for(Di=144;Di<256;++Di)Ei[Di]=9;for(Di=256;Di<280;++Di)Ei[Di]=7;for(Di=280;Di<288;++Di)Ei[Di]=8;var Ii=new xi(32);for(Di=0;Di<32;++Di)Ii[Di]=5;var Mi=Li(Ei,9,0),Ri=Li(Ii,5,0),Fi=function(e){return(e+7)/8|0},zi=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new xi(e.subarray(t,r))},Oi=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Bi=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Ui=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:Yi,l:0};if(1==a){var i=new xi(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,d=1,u=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=r[r[c].f<r[u].f?c++:u++],l=r[c!=d&&r[c].f<r[u].f?c++:u++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};var h=s[0].s;for(n=1;n<a;++n)s[n].s>h&&(h=s[n].s);var p=new bi(h+1),m=qi(r[d-1],p,0);if(m>t){n=0;var f=0,g=m-t,x=1<<g;for(s.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});n<a;++n){var b=s[n].s;if(!(p[b]>t))break;f+=x-(1<<m-p[b]),p[b]=t}for(f>>=g;f>0;){var v=s[n].s;p[v]<t?f-=1<<t-p[v]++-1:++n}for(;n>=0&&f;--n){var y=s[n].s;p[y]==t&&(--p[y],++f)}m=t}return{t:new xi(p),l:m}},qi=function(e,t,r){return-1==e.s?Math.max(qi(e.l,t,r+1),qi(e.r,t,r+1)):t[e.s]=r},Wi=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new bi(++t),n=0,a=e[0],s=1,i=function(e){r[n++]=e},o=1;o<=t;++o)if(e[o]==a&&o!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Hi=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Vi=function(e,t,r){var n=r.length,a=Fi(t+2);e[a]=255&n,e[a+1]=n>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var s=0;s<n;++s)e[a+s+4]=r[s];return 8*(a+4+n)},Ki=function(e,t,r,n,a,s,i,o,l,c,d){Oi(t,d++,r),++a[256];for(var u=Ui(a,15),h=u.t,p=u.l,m=Ui(s,15),f=m.t,g=m.l,x=Wi(h),b=x.c,v=x.n,y=Wi(f),w=y.c,j=y.n,N=new bi(19),k=0;k<b.length;++k)++N[31&b[k]];for(k=0;k<w.length;++k)++N[31&w[k]];for(var S=Ui(N,7),C=S.t,_=S.l,P=19;P>4&&!C[ji[P-1]];--P);var A,D,T,L,E=c+5<<3,I=Hi(a,Ei)+Hi(s,Ii)+i,M=Hi(a,h)+Hi(s,f)+i+14+3*P+Hi(N,C)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&E<=I&&E<=M)return Vi(t,d,e.subarray(l,l+c));if(Oi(t,d,1+(M<I)),d+=2,M<I){A=Li(h,p,0),D=h,T=Li(f,g,0),L=f;var R=Li(C,_,0);Oi(t,d,v-257),Oi(t,d+5,j-1),Oi(t,d+10,P-4),d+=14;for(k=0;k<P;++k)Oi(t,d+3*k,C[ji[k]]);d+=3*P;for(var F=[b,w],z=0;z<2;++z){var O=F[z];for(k=0;k<O.length;++k){var B=31&O[k];Oi(t,d,R[B]),d+=C[B],B>15&&(Oi(t,d,O[k]>>5&127),d+=O[k]>>12)}}}else A=Mi,D=Ei,T=Ri,L=Ii;for(k=0;k<o;++k){var U=n[k];if(U>255){Bi(t,d,A[(B=U>>18&31)+257]),d+=D[B+257],B>7&&(Oi(t,d,U>>23&31),d+=yi[B]);var q=31&U;Bi(t,d,T[q]),d+=L[q],q>3&&(Bi(t,d,U>>5&8191),d+=wi[q])}else Bi(t,d,A[U]),d+=D[U]}return Bi(t,d,A[256]),d+D[256]},Gi=new vi([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Yi=new xi(0),$i=function(e,t,r,n,a,s){var i=s.z||e.length,o=new xi(n+i+5*(1+Math.ceil(i/7e3))+a),l=o.subarray(n,o.length-a),c=s.l,d=7&(s.r||0);if(t){d&&(l[0]=s.r>>3);for(var u=Gi[t-1],h=u>>13,p=8191&u,m=(1<<r)-1,f=s.p||new bi(32768),g=s.h||new bi(m+1),x=Math.ceil(r/3),b=2*x,v=function(t){return(e[t]^e[t+1]<<x^e[t+2]<<b)&m},y=new vi(25e3),w=new bi(288),j=new bi(32),N=0,k=0,S=s.i||0,C=0,_=s.w||0,P=0;S+2<i;++S){var A=v(S),D=32767&S,T=g[A];if(f[D]=T,g[A]=D,_<=S){var L=i-S;if((N>7e3||C>24576)&&(L>423||!c)){d=Ki(e,l,0,y,w,j,k,C,P,S-P,d),C=N=k=0,P=S;for(var E=0;E<286;++E)w[E]=0;for(E=0;E<30;++E)j[E]=0}var I=2,M=0,R=p,F=D-T&32767;if(L>2&&A==v(S-F))for(var z=Math.min(h,L)-1,O=Math.min(32767,S),B=Math.min(258,L);F<=O&&--R&&D!=T;){if(e[S+I]==e[S+I-F]){for(var U=0;U<B&&e[S+U]==e[S+U-F];++U);if(U>I){if(I=U,M=F,U>z)break;var q=Math.min(F,U-2),W=0;for(E=0;E<q;++E){var H=S-F+E&32767,V=H-f[H]&32767;V>W&&(W=V,T=H)}}}F+=(D=T)-(T=f[D])&32767}if(M){y[C++]=268435456|Ci[I]<<18|Pi[M];var K=31&Ci[I],G=31&Pi[M];k+=yi[K]+wi[G],++w[257+K],++j[G],_=S+I,++N}else y[C++]=e[S],++w[e[S]]}}for(S=Math.max(S,_);S<i;++S)y[C++]=e[S],++w[e[S]];d=Ki(e,l,c,y,w,j,k,C,P,S-P,d),c||(s.r=7&d|l[d/8|0]<<3,d-=7,s.h=g,s.p=f,s.i=S,s.w=_)}else{for(S=s.w||0;S<i+c;S+=65535){var Y=S+65535;Y>=i&&(l[d/8|0]=c,Y=i),d=Vi(l,d+1,e.subarray(S,Y))}s.i=i}return zi(o,0,n+Fi(d)+a)},Ji=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=0|r.length,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=n+=r[i];n=(65535&n)+15*(n>>16),a=(65535&a)+15*(a>>16)}e=n,t=a},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Xi=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),i=new xi(s.length+e.length);i.set(s),i.set(e,s.length),e=i,a.w=s.length}return $i(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,n,a)},Qi=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Zi=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Ji();a.p(t.dictionary),Qi(e,2,a.d())}};function eo(e,t){t||(t={});var r=Ji();r.p(e);var n=Xi(e,t,t.dictionary?6:2,4);return Zi(n,t),Qi(n,n.length-4,r.d()),n}var to="undefined"!=typeof TextDecoder&&new TextDecoder;try{to.decode(Yi,{stream:!0})}catch(_q){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function no(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ro(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ro(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const so=new TextEncoder;const io=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),oo={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class lo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,we.A)(this,"buffer",void 0),(0,we.A)(this,"byteLength",void 0),(0,we.A)(this,"byteOffset",void 0),(0,we.A)(this,"length",void 0),(0,we.A)(this,"offset",void 0),(0,we.A)(this,"lastWrittenByte",void 0),(0,we.A)(this,"littleEndian",void 0),(0,we.A)(this,"_data",void 0),(0,we.A)(this,"_mark",void 0),(0,we.A)(this,"_marks",void 0);let r=!1;"number"===typeof e?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const n=t.offset?t.offset>>>0:0,a=e.byteLength-n;let s=n;(ArrayBuffer.isView(e)||e instanceof lo)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+n),e=e.buffer),this.lastWrittenByte=r?a:0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),r=new Uint8Array(t);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const r=oo[t].BYTES_PER_ELEMENT*e,n=this.byteOffset+this.offset,a=this.buffer.slice(n,n+r);if(this.littleEndian===io&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(n,n+r));e.reverse();const a=new oo[t](e.buffer);return this.offset+=r,a.reverse(),a}const s=new oo[t](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return ao(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return ao(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return so.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function co(e){let t=e.length;for(;--t>=0;)e[t]=0}const uo=256,ho=286,po=30,mo=15,fo=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),go=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),xo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bo=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vo=new Array(576);co(vo);const yo=new Array(60);co(yo);const wo=new Array(512);co(wo);const jo=new Array(256);co(jo);const No=new Array(29);co(No);const ko=new Array(po);function So(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}let Co,_o,Po;function Ao(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}co(ko);const Do=e=>e<256?wo[e]:wo[256+(e>>>7)],To=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Lo=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,To(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Eo=(e,t,r)=>{Lo(e,r[2*t],r[2*t+1])},Io=(e,t)=>{let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},Mo=(e,t,r)=>{const n=new Array(16);let a,s,i=0;for(a=1;a<=mo;a++)i=i+r[a-1]<<1,n[a]=i;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=Io(n[t]++,t))}},Ro=e=>{let t;for(t=0;t<ho;t++)e.dyn_ltree[2*t]=0;for(t=0;t<po;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Fo=e=>{e.bi_valid>8?To(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},zo=(e,t,r,n)=>{const a=2*t,s=2*r;return e[a]<e[s]||e[a]===e[s]&&n[t]<=n[r]},Oo=(e,t,r)=>{const n=e.heap[r];let a=r<<1;for(;a<=e.heap_len&&(a<e.heap_len&&zo(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!zo(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n},Bo=(e,t,r)=>{let n,a,s,i,o=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+o++],n+=(255&e.pending_buf[e.sym_buf+o++])<<8,a=e.pending_buf[e.sym_buf+o++],0===n?Eo(e,a,t):(s=jo[a],Eo(e,s+uo+1,t),i=fo[s],0!==i&&(a-=No[s],Lo(e,a,i)),n--,s=Do(n),Eo(e,s,r),i=go[s],0!==i&&(n-=ko[s],Lo(e,n,i)))}while(o<e.sym_next);Eo(e,256,t)},Uo=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.elems;let i,o,l,c=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<s;i++)0!==r[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,r[2*l]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=n[2*l+1]);for(t.max_code=c,i=e.heap_len>>1;i>=1;i--)Oo(e,r,i);l=s;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Oo(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=o,r[2*l]=r[2*i]+r[2*o],e.depth[l]=(e.depth[i]>=e.depth[o]?e.depth[i]:e.depth[o])+1,r[2*i+1]=r[2*o+1]=l,e.heap[1]=l++,Oo(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const r=t.dyn_tree,n=t.max_code,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,u,h,p,m,f=0;for(h=0;h<=mo;h++)e.bl_count[h]=0;for(r[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)d=e.heap[c],h=r[2*r[2*d+1]+1]+1,h>l&&(h=l,f++),r[2*d+1]=h,d>n||(e.bl_count[h]++,p=0,d>=o&&(p=i[d-o]),m=r[2*d],e.opt_len+=m*(h+p),s&&(e.static_len+=m*(a[2*d+1]+p)));if(0!==f){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,f-=2}while(f>0);for(h=l;0!==h;h--)for(d=e.bl_count[h];0!==d;)u=e.heap[--c],u>n||(r[2*u+1]!==h&&(e.opt_len+=(h-r[2*u+1])*r[2*u],r[2*u+1]=h),d--)}})(e,t),Mo(r,c,e.bl_count)},qo=(e,t,r)=>{let n,a,s=-1,i=t[1],o=0,l=7,c=4;for(0===i&&(l=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)a=i,i=t[2*(n+1)+1],++o<l&&a===i||(o<c?e.bl_tree[2*a]+=o:0!==a?(a!==s&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=a,0===i?(l=138,c=3):a===i?(l=6,c=3):(l=7,c=4))},Wo=(e,t,r)=>{let n,a,s=-1,i=t[1],o=0,l=7,c=4;for(0===i&&(l=138,c=3),n=0;n<=r;n++)if(a=i,i=t[2*(n+1)+1],!(++o<l&&a===i)){if(o<c)do{Eo(e,a,e.bl_tree)}while(0!==--o);else 0!==a?(a!==s&&(Eo(e,a,e.bl_tree),o--),Eo(e,16,e.bl_tree),Lo(e,o-3,2)):o<=10?(Eo(e,17,e.bl_tree),Lo(e,o-3,3)):(Eo(e,18,e.bl_tree),Lo(e,o-11,7));o=0,s=a,0===i?(l=138,c=3):a===i?(l=6,c=3):(l=7,c=4)}};let Ho=!1;const Vo=(e,t,r,n)=>{Lo(e,0+(n?1:0),3),Fo(e),To(e,r),To(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r};var Ko=e=>{Ho||((()=>{let e,t,r,n,a;const s=new Array(16);for(r=0,n=0;n<28;n++)for(No[n]=r,e=0;e<1<<fo[n];e++)jo[r++]=n;for(jo[r-1]=n,a=0,n=0;n<16;n++)for(ko[n]=a,e=0;e<1<<go[n];e++)wo[a++]=n;for(a>>=7;n<po;n++)for(ko[n]=a<<7,e=0;e<1<<go[n]-7;e++)wo[256+a++]=n;for(t=0;t<=mo;t++)s[t]=0;for(e=0;e<=143;)vo[2*e+1]=8,e++,s[8]++;for(;e<=255;)vo[2*e+1]=9,e++,s[9]++;for(;e<=279;)vo[2*e+1]=7,e++,s[7]++;for(;e<=287;)vo[2*e+1]=8,e++,s[8]++;for(Mo(vo,287,s),e=0;e<po;e++)yo[2*e+1]=5,yo[2*e]=Io(e,5);Co=new So(vo,fo,257,ho,mo),_o=new So(yo,go,0,po,mo),Po=new So(new Array(0),xo,0,19,7)})(),Ho=!0),e.l_desc=new Ao(e.dyn_ltree,Co),e.d_desc=new Ao(e.dyn_dtree,_o),e.bl_desc=new Ao(e.bl_tree,Po),e.bi_buf=0,e.bi_valid=0,Ro(e)},Go=(e,t,r,n)=>{let a,s,i=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<uo;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Uo(e,e.l_desc),Uo(e,e.d_desc),i=(e=>{let t;for(qo(e,e.dyn_ltree,e.l_desc.max_code),qo(e,e.dyn_dtree,e.d_desc.max_code),Uo(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*bo[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=a&&(a=s)):a=s=r+5,r+4<=a&&-1!==t?Vo(e,t,r,n):4===e.strategy||s===a?(Lo(e,2+(n?1:0),3),Bo(e,vo,yo)):(Lo(e,4+(n?1:0),3),((e,t,r,n)=>{let a;for(Lo(e,t-257,5),Lo(e,r-1,5),Lo(e,n-4,4),a=0;a<n;a++)Lo(e,e.bl_tree[2*bo[a]+1],3);Wo(e,e.dyn_ltree,t-1),Wo(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,i+1),Bo(e,e.dyn_ltree,e.dyn_dtree)),Ro(e),n&&Fo(e)},Yo=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(jo[r]+uo+1)]++,e.dyn_dtree[2*Do(t)]++),e.sym_next===e.sym_end),$o=e=>{Lo(e,2,3),Eo(e,256,vo),(e=>{16===e.bi_valid?(To(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},Jo={_tr_init:Ko,_tr_stored_block:Vo,_tr_flush_block:Go,_tr_tally:Yo,_tr_align:$o};var Xo=(e,t,r,n)=>{let a=65535&e,s=e>>>16&65535,i=0;for(;0!==r;){i=r>2e3?2e3:r,r-=i;do{a=a+t[n++]|0,s=s+a|0}while(--i);a%=65521,s%=65521}return a|s<<16};const Qo=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());var Zo=(e,t,r,n)=>{const a=Qo,s=n+r;e^=-1;for(let i=n;i<s;i++)e=e>>>8^a[255&(e^t[i])];return-1^e},el={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tl={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:rl,_tr_stored_block:nl,_tr_flush_block:al,_tr_tally:sl,_tr_align:il}=Jo,{Z_NO_FLUSH:ol,Z_PARTIAL_FLUSH:ll,Z_FULL_FLUSH:cl,Z_FINISH:dl,Z_BLOCK:ul,Z_OK:hl,Z_STREAM_END:pl,Z_STREAM_ERROR:ml,Z_DATA_ERROR:fl,Z_BUF_ERROR:gl,Z_DEFAULT_COMPRESSION:xl,Z_FILTERED:bl,Z_HUFFMAN_ONLY:vl,Z_RLE:yl,Z_FIXED:wl,Z_DEFAULT_STRATEGY:jl,Z_UNKNOWN:Nl,Z_DEFLATED:kl}=tl,Sl=258,Cl=262,_l=42,Pl=113,Al=666,Dl=(e,t)=>(e.msg=el[t],t),Tl=e=>2*e-(e>4?9:0),Ll=e=>{let t=e.length;for(;--t>=0;)e[t]=0},El=e=>{let t,r,n,a=e.w_size;t=e.hash_size,n=t;do{r=e.head[--n],e.head[n]=r>=a?r-a:0}while(--t);t=a,n=t;do{r=e.prev[--n],e.prev[n]=r>=a?r-a:0}while(--t)};let Il=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask;const Ml=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},Rl=(e,t)=>{al(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ml(e.strm)},Fl=(e,t)=>{e.pending_buf[e.pending++]=t},zl=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ol=(e,t,r,n)=>{let a=e.avail_in;return a>n&&(a=n),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),1===e.state.wrap?e.adler=Xo(e.adler,t,a,r):2===e.state.wrap&&(e.adler=Zo(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},Bl=(e,t)=>{let r,n,a=e.max_chain_length,s=e.strstart,i=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-Cl?e.strstart-(e.w_size-Cl):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+Sl;let p=c[s+i-1],m=c[s+i];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(r=t,c[r+i]===m&&c[r+i-1]===p&&c[r]===c[s]&&c[++r]===c[s+1]){s+=2,r++;do{}while(c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&s<h);if(n=Sl-(h-s),s=h-Sl,n>i){if(e.match_start=t,i=n,n>=o)break;p=c[s+i-1],m=c[s+i]}}}while((t=u[t&d])>l&&0!==--a);return i<=e.lookahead?i:e.lookahead},Ul=e=>{const t=e.w_size;let r,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Cl)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),El(e),n+=t),0===e.strm.avail_in)break;if(r=Ol(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Il(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Il(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Cl&&0!==e.strm.avail_in)},ql=(e,t)=>{let r,n,a,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i=0,o=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,n=e.strstart-e.block_start,r>n+e.strm.avail_in&&(r=n+e.strm.avail_in),r>a&&(r=a),r<s&&(0===r&&t!==dl||t===ol||r!==n+e.strm.avail_in))break;i=t===dl&&r===n+e.strm.avail_in?1:0,nl(e,0,0,i),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Ml(e.strm),n&&(n>r&&(n=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,r-=n),r&&(Ol(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(0===i);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),i?4:t!==ol&&t!==dl&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Ol(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,s=a>e.w_size?e.w_size:a,n=e.strstart-e.block_start,(n>=s||(n||t===dl)&&t!==ol&&0===e.strm.avail_in&&n<=a)&&(r=n>a?a:n,i=t===dl&&0===e.strm.avail_in&&r===n?1:0,nl(e,e.block_start,r,i),e.block_start+=r,Ml(e.strm)),i?3:1)},Wl=(e,t)=>{let r,n;for(;;){if(e.lookahead<Cl){if(Ul(e),e.lookahead<Cl&&t===ol)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Il(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-Cl&&(e.match_length=Bl(e,r)),e.match_length>=3)if(n=sl(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Il(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Il(e,e.ins_h,e.window[e.strstart+1]);else n=sl(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Rl(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===dl?(Rl(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Rl(e,!1),0===e.strm.avail_out)?1:2},Hl=(e,t)=>{let r,n,a;for(;;){if(e.lookahead<Cl){if(Ul(e),e.lookahead<Cl&&t===ol)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Il(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Cl&&(e.match_length=Bl(e,r),e.match_length<=5&&(e.strategy===bl||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,n=sl(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Il(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Rl(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=sl(e,0,e.window[e.strstart-1]),n&&Rl(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=sl(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===dl?(Rl(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Rl(e,!1),0===e.strm.avail_out)?1:2};function Vl(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}const Kl=[new Vl(0,0,0,0,ql),new Vl(4,4,8,4,Wl),new Vl(4,5,16,8,Wl),new Vl(4,6,32,32,Wl),new Vl(4,4,16,16,Hl),new Vl(8,16,32,32,Hl),new Vl(8,16,128,128,Hl),new Vl(8,32,128,256,Hl),new Vl(32,128,258,1024,Hl),new Vl(32,258,258,4096,Hl)];function Gl(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=kl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ll(this.dyn_ltree),Ll(this.dyn_dtree),Ll(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ll(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ll(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Yl=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==_l&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Pl&&t.status!==Al?1:0},$l=e=>{if(Yl(e))return Dl(e,ml);e.total_in=e.total_out=0,e.data_type=Nl;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?_l:Pl,e.adler=2===t.wrap?0:1,t.last_flush=-2,rl(t),hl},Jl=e=>{const t=$l(e);return t===hl&&(e=>{e.window_size=2*e.w_size,Ll(e.head),e.max_lazy_match=Kl[e.level].max_lazy,e.good_match=Kl[e.level].good_length,e.nice_match=Kl[e.level].nice_length,e.max_chain_length=Kl[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},Xl=(e,t,r,n,a,s)=>{if(!e)return ml;let i=1;if(t===xl&&(t=6),n<0?(i=0,n=-n):n>15&&(i=2,n-=16),a<1||a>9||r!==kl||n<8||n>15||t<0||t>9||s<0||s>wl||8===n&&1!==i)return Dl(e,ml);8===n&&(n=9);const o=new Gl;return e.state=o,o.strm=e,o.status=_l,o.wrap=i,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=s,o.method=r,Jl(e)};var Ql=(e,t)=>{if(Yl(e)||t>ul||t<0)return e?Dl(e,ml):ml;const r=e.state;if(!e.output||0!==e.avail_in&&!e.input||r.status===Al&&t!==dl)return Dl(e,0===e.avail_out?gl:ml);const n=r.last_flush;if(r.last_flush=t,0!==r.pending){if(Ml(e),0===e.avail_out)return r.last_flush=-1,hl}else if(0===e.avail_in&&Tl(t)<=Tl(n)&&t!==dl)return Dl(e,gl);if(r.status===Al&&0!==e.avail_in)return Dl(e,gl);if(r.status===_l&&0===r.wrap&&(r.status=Pl),r.status===_l){let t=kl+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=vl||r.level<2?0:r.level<6?1:6===r.level?2:3,t|=n<<6,0!==r.strstart&&(t|=32),t+=31-t%31,zl(r,t),0!==r.strstart&&(zl(r,e.adler>>>16),zl(r,65535&e.adler)),e.adler=1,r.status=Pl,Ml(e),0!==r.pending)return r.last_flush=-1,hl}if(57===r.status)if(e.adler=0,Fl(r,31),Fl(r,139),Fl(r,8),r.gzhead)Fl(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Fl(r,255&r.gzhead.time),Fl(r,r.gzhead.time>>8&255),Fl(r,r.gzhead.time>>16&255),Fl(r,r.gzhead.time>>24&255),Fl(r,9===r.level?2:r.strategy>=vl||r.level<2?4:0),Fl(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Fl(r,255&r.gzhead.extra.length),Fl(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Zo(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(Fl(r,0),Fl(r,0),Fl(r,0),Fl(r,0),Fl(r,0),Fl(r,9===r.level?2:r.strategy>=vl||r.level<2?4:0),Fl(r,3),r.status=Pl,Ml(e),0!==r.pending)return r.last_flush=-1,hl;if(69===r.status){if(r.gzhead.extra){let t=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let a=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>t&&(e.adler=Zo(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex+=a,Ml(e),0!==r.pending)return r.last_flush=-1,hl;t=0,n-=a}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>t&&(e.adler=Zo(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=Zo(e.adler,r.pending_buf,r.pending-n,n)),Ml(e),0!==r.pending)return r.last_flush=-1,hl;n=0}t=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Fl(r,t)}while(0!==t);r.gzhead.hcrc&&r.pending>n&&(e.adler=Zo(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=Zo(e.adler,r.pending_buf,r.pending-n,n)),Ml(e),0!==r.pending)return r.last_flush=-1,hl;n=0}t=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Fl(r,t)}while(0!==t);r.gzhead.hcrc&&r.pending>n&&(e.adler=Zo(e.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Ml(e),0!==r.pending))return r.last_flush=-1,hl;Fl(r,255&e.adler),Fl(r,e.adler>>8&255),e.adler=0}if(r.status=Pl,Ml(e),0!==r.pending)return r.last_flush=-1,hl}if(0!==e.avail_in||0!==r.lookahead||t!==ol&&r.status!==Al){let n=0===r.level?ql(r,t):r.strategy===vl?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(Ul(e),0===e.lookahead)){if(t===ol)return 1;break}if(e.match_length=0,r=sl(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Rl(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===dl?(Rl(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Rl(e,!1),0===e.strm.avail_out)?1:2})(r,t):r.strategy===yl?((e,t)=>{let r,n,a,s;const i=e.window;for(;;){if(e.lookahead<=Sl){if(Ul(e),e.lookahead<=Sl&&t===ol)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,n=i[a],n===i[++a]&&n===i[++a]&&n===i[++a])){s=e.strstart+Sl;do{}while(n===i[++a]&&n===i[++a]&&n===i[++a]&&n===i[++a]&&n===i[++a]&&n===i[++a]&&n===i[++a]&&n===i[++a]&&a<s);e.match_length=Sl-(s-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=sl(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=sl(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Rl(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===dl?(Rl(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Rl(e,!1),0===e.strm.avail_out)?1:2})(r,t):Kl[r.level].func(r,t);if(3!==n&&4!==n||(r.status=Al),1===n||3===n)return 0===e.avail_out&&(r.last_flush=-1),hl;if(2===n&&(t===ll?il(r):t!==ul&&(nl(r,0,0,!1),t===cl&&(Ll(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Ml(e),0===e.avail_out))return r.last_flush=-1,hl}return t!==dl?hl:r.wrap<=0?pl:(2===r.wrap?(Fl(r,255&e.adler),Fl(r,e.adler>>8&255),Fl(r,e.adler>>16&255),Fl(r,e.adler>>24&255),Fl(r,255&e.total_in),Fl(r,e.total_in>>8&255),Fl(r,e.total_in>>16&255),Fl(r,e.total_in>>24&255)):(zl(r,e.adler>>>16),zl(r,65535&e.adler)),Ml(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?hl:pl)},Zl=(e,t)=>{let r=t.length;if(Yl(e))return ml;const n=e.state,a=n.wrap;if(2===a||1===a&&n.status!==_l||n.lookahead)return ml;if(1===a&&(e.adler=Xo(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===a&&(Ll(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}const s=e.avail_in,i=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Ul(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=Il(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,Ul(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=i,e.input=o,e.avail_in=s,n.wrap=a,hl},ec={deflateInit:(e,t)=>Xl(e,t,kl,15,8,jl),deflateInit2:Xl,deflateReset:Jl,deflateResetKeep:$l,deflateSetHeader:(e,t)=>Yl(e)||2!==e.state.wrap?ml:(e.state.gzhead=t,hl),deflate:Ql,deflateEnd:e=>{if(Yl(e))return ml;const t=e.state.status;return e.state=null,t===Pl?Dl(e,fl):hl},deflateSetDictionary:Zl,deflateInfo:"pako deflate (from Nodeca project)"};const tc=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var rc=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(const t in r)tc(r,t)&&(e[t]=r[t])}}return e},nc=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,s=e.length;n<s;n++){let t=e[n];r.set(t,a),a+=t.length}return r};let ac=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Pq){ac=!1}const sc=new Uint8Array(256);for(let r=0;r<256;r++)sc[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;sc[254]=sc[254]=1;var ic=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,n,a,s,i=e.length,o=0;for(a=0;a<i;a++)r=e.charCodeAt(a),55296===(64512&r)&&a+1<i&&(n=e.charCodeAt(a+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),s=0,a=0;s<o;a++)r=e.charCodeAt(a),55296===(64512&r)&&a+1<i&&(n=e.charCodeAt(a+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t},oc=(e,t)=>{const r=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,a;const s=new Array(2*r);for(a=0,n=0;n<r;){let t=e[n++];if(t<128){s[a++]=t;continue}let i=sc[t];if(i>4)s[a++]=65533,n+=i-1;else{for(t&=2===i?31:3===i?15:7;i>1&&n<r;)t=t<<6|63&e[n++],i--;i>1?s[a++]=65533:t<65536?s[a++]=t:(t-=65536,s[a++]=55296|t>>10&1023,s[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&ac)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r})(s,a)},lc=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&128===(192&e[r]);)r--;return r<0||0===r?t:r+sc[e[r]]>t?r:t};var cc=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const dc=Object.prototype.toString,{Z_NO_FLUSH:uc,Z_SYNC_FLUSH:hc,Z_FULL_FLUSH:pc,Z_FINISH:mc,Z_OK:fc,Z_STREAM_END:gc,Z_DEFAULT_COMPRESSION:xc,Z_DEFAULT_STRATEGY:bc,Z_DEFLATED:vc}=tl;function yc(e){this.options=rc({level:xc,method:vc,chunkSize:16384,windowBits:15,memLevel:8,strategy:bc},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cc,this.strm.avail_out=0;let r=ec.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==fc)throw new Error(el[r]);if(t.header&&ec.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?ic(t.dictionary):"[object ArrayBuffer]"===dc.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,r=ec.deflateSetDictionary(this.strm,e),r!==fc)throw new Error(el[r]);this._dict_set=!0}}function wc(e,t){const r=new yc(t);if(r.push(e,!0),r.err)throw r.msg||el[r.err];return r.result}yc.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let a,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?mc:uc,"string"===typeof e?r.input=ic(e):"[object ArrayBuffer]"===dc.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===hc||s===pc)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(a=ec.deflate(r,s),a===gc)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=ec.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===fc;if(0!==r.avail_out){if(s>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},yc.prototype.onData=function(e){this.chunks.push(e)},yc.prototype.onEnd=function(e){e===fc&&(this.result=nc(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var jc={Deflate:yc,deflate:wc,deflateRaw:function(e,t){return(t=t||{}).raw=!0,wc(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,wc(e,t)},constants:tl};const Nc=16209;var kc=function(e,t){let r,n,a,s,i,o,l,c,d,u,h,p,m,f,g,x,b,v,y,w,j,N,k,S;const C=e.state;r=e.next_in,k=e.input,n=r+(e.avail_in-5),a=e.next_out,S=e.output,s=a-(t-e.avail_out),i=a+(e.avail_out-257),o=C.dmax,l=C.wsize,c=C.whave,d=C.wnext,u=C.window,h=C.hold,p=C.bits,m=C.lencode,f=C.distcode,g=(1<<C.lenbits)-1,x=(1<<C.distbits)-1;e:do{p<15&&(h+=k[r++]<<p,p+=8,h+=k[r++]<<p,p+=8),b=m[h&g];t:for(;;){if(v=b>>>24,h>>>=v,p-=v,v=b>>>16&255,0===v)S[a++]=65535&b;else{if(!(16&v)){if(0===(64&v)){b=m[(65535&b)+(h&(1<<v)-1)];continue t}if(32&v){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=Nc;break e}y=65535&b,v&=15,v&&(p<v&&(h+=k[r++]<<p,p+=8),y+=h&(1<<v)-1,h>>>=v,p-=v),p<15&&(h+=k[r++]<<p,p+=8,h+=k[r++]<<p,p+=8),b=f[h&x];r:for(;;){if(v=b>>>24,h>>>=v,p-=v,v=b>>>16&255,!(16&v)){if(0===(64&v)){b=f[(65535&b)+(h&(1<<v)-1)];continue r}e.msg="invalid distance code",C.mode=Nc;break e}if(w=65535&b,v&=15,p<v&&(h+=k[r++]<<p,p+=8,p<v&&(h+=k[r++]<<p,p+=8)),w+=h&(1<<v)-1,w>o){e.msg="invalid distance too far back",C.mode=Nc;break e}if(h>>>=v,p-=v,v=a-s,w>v){if(v=w-v,v>c&&C.sane){e.msg="invalid distance too far back",C.mode=Nc;break e}if(j=0,N=u,0===d){if(j+=l-v,v<y){y-=v;do{S[a++]=u[j++]}while(--v);j=a-w,N=S}}else if(d<v){if(j+=l+d-v,v-=d,v<y){y-=v;do{S[a++]=u[j++]}while(--v);if(j=0,d<y){v=d,y-=v;do{S[a++]=u[j++]}while(--v);j=a-w,N=S}}}else if(j+=d-v,v<y){y-=v;do{S[a++]=u[j++]}while(--v);j=a-w,N=S}for(;y>2;)S[a++]=N[j++],S[a++]=N[j++],S[a++]=N[j++],y-=3;y&&(S[a++]=N[j++],y>1&&(S[a++]=N[j++]))}else{j=a-w;do{S[a++]=S[j++],S[a++]=S[j++],S[a++]=S[j++],y-=3}while(y>2);y&&(S[a++]=S[j++],y>1&&(S[a++]=S[j++]))}break}}break}}while(r<n&&a<i);y=p>>3,r-=y,p-=y<<3,h&=(1<<p)-1,e.next_in=r,e.next_out=a,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=a<i?i-a+257:257-(a-i),C.hold=h,C.bits=p};const Sc=15,Cc=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_c=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Pc=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ac=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Dc=(e,t,r,n,a,s,i,o)=>{const l=o.bits;let c,d,u,h,p,m,f=0,g=0,x=0,b=0,v=0,y=0,w=0,j=0,N=0,k=0,S=null;const C=new Uint16Array(16),_=new Uint16Array(16);let P,A,D,T=null;for(f=0;f<=Sc;f++)C[f]=0;for(g=0;g<n;g++)C[t[r+g]]++;for(v=l,b=Sc;b>=1&&0===C[b];b--);if(v>b&&(v=b),0===b)return a[s++]=20971520,a[s++]=20971520,o.bits=1,0;for(x=1;x<b&&0===C[x];x++);for(v<x&&(v=x),j=1,f=1;f<=Sc;f++)if(j<<=1,j-=C[f],j<0)return-1;if(j>0&&(0===e||1!==b))return-1;for(_[1]=0,f=1;f<Sc;f++)_[f+1]=_[f]+C[f];for(g=0;g<n;g++)0!==t[r+g]&&(i[_[t[r+g]]++]=g);if(0===e?(S=T=i,m=20):1===e?(S=Cc,T=_c,m=257):(S=Pc,T=Ac,m=0),k=0,g=0,f=x,p=s,y=v,w=0,u=-1,N=1<<v,h=N-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){P=f-w,i[g]+1<m?(A=0,D=i[g]):i[g]>=m?(A=T[i[g]-m],D=S[i[g]-m]):(A=96,D=0),c=1<<f-w,d=1<<y,x=d;do{d-=c,a[p+(k>>w)+d]=P<<24|A<<16|D}while(0!==d);for(c=1<<f-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,g++,0===--C[f]){if(f===b)break;f=t[r+i[g]]}if(f>v&&(k&h)!==u){for(0===w&&(w=v),p+=x,y=f-w,j=1<<y;y+w<b&&(j-=C[y+w],!(j<=0));)y++,j<<=1;if(N+=1<<y,1===e&&N>852||2===e&&N>592)return 1;u=k&h,a[u]=v<<24|y<<16|p-s}}return 0!==k&&(a[p+k]=f-w<<24|64<<16),o.bits=v,0};const{Z_FINISH:Tc,Z_BLOCK:Lc,Z_TREES:Ec,Z_OK:Ic,Z_STREAM_END:Mc,Z_NEED_DICT:Rc,Z_STREAM_ERROR:Fc,Z_DATA_ERROR:zc,Z_MEM_ERROR:Oc,Z_BUF_ERROR:Bc,Z_DEFLATED:Uc}=tl,qc=16180,Wc=16190,Hc=16191,Vc=16192,Kc=16194,Gc=16199,Yc=16200,$c=16206,Jc=16209,Xc=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Qc(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<qc||t.mode>16211?1:0},ed=e=>{if(Zc(e))return Fc;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=qc,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Ic},td=e=>{if(Zc(e))return Fc;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ed(e)},rd=(e,t)=>{let r;if(Zc(e))return Fc;const n=e.state;return t<0?(r=0,t=-t):(r=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Fc:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,td(e))},nd=(e,t)=>{if(!e)return Fc;const r=new Qc;e.state=r,r.strm=e,r.window=null,r.mode=qc;const n=rd(e,t);return n!==Ic&&(e.state=null),n};let ad,sd,id=!0;const od=e=>{if(id){ad=new Int32Array(512),sd=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Dc(1,e.lens,0,288,ad,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Dc(2,e.lens,0,32,sd,0,e.work,{bits:5}),id=!1}e.lencode=ad,e.lenbits=9,e.distcode=sd,e.distbits=5},ld=(e,t,r,n)=>{let a;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(t.subarray(r-n,r-n+a),s.wnext),(n-=a)?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0};var cd=(e,t)=>{let r,n,a,s,i,o,l,c,d,u,h,p,m,f,g,x,b,v,y,w,j,N,k=0;const S=new Uint8Array(4);let C,_;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zc(e)||!e.output||!e.input&&0!==e.avail_in)return Fc;r=e.state,r.mode===Hc&&(r.mode=Vc),i=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,u=o,h=l,N=Ic;e:for(;;)switch(r.mode){case qc:if(0===r.wrap){r.mode=Vc;break}for(;d<16;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}if(2&r.wrap&&35615===c){0===r.wbits&&(r.wbits=15),r.check=0,S[0]=255&c,S[1]=c>>>8&255,r.check=Zo(r.check,S,2,0),c=0,d=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Jc;break}if((15&c)!==Uc){e.msg="unknown compression method",r.mode=Jc;break}if(c>>>=4,d-=4,j=8+(15&c),0===r.wbits&&(r.wbits=j),j>15||j>r.wbits){e.msg="invalid window size",r.mode=Jc;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&c?16189:Hc,c=0,d=0;break;case 16181:for(;d<16;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}if(r.flags=c,(255&r.flags)!==Uc){e.msg="unknown compression method",r.mode=Jc;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Jc;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&4&r.wrap&&(S[0]=255&c,S[1]=c>>>8&255,r.check=Zo(r.check,S,2,0)),c=0,d=0,r.mode=16182;case 16182:for(;d<32;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}r.head&&(r.head.time=c),512&r.flags&&4&r.wrap&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,r.check=Zo(r.check,S,4,0)),c=0,d=0,r.mode=16183;case 16183:for(;d<16;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&4&r.wrap&&(S[0]=255&c,S[1]=c>>>8&255,r.check=Zo(r.check,S,2,0)),c=0,d=0,r.mode=16184;case 16184:if(1024&r.flags){for(;d<16;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&4&r.wrap&&(S[0]=255&c,S[1]=c>>>8&255,r.check=Zo(r.check,S,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(p=r.length,p>o&&(p=o),p&&(r.head&&(j=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+p),j)),512&r.flags&&4&r.wrap&&(r.check=Zo(r.check,n,p,s)),o-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===o)break e;p=0;do{j=n[s+p++],r.head&&j&&r.length<65536&&(r.head.name+=String.fromCharCode(j))}while(j&&p<o);if(512&r.flags&&4&r.wrap&&(r.check=Zo(r.check,n,p,s)),o-=p,s+=p,j)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===o)break e;p=0;do{j=n[s+p++],r.head&&j&&r.length<65536&&(r.head.comment+=String.fromCharCode(j))}while(j&&p<o);if(512&r.flags&&4&r.wrap&&(r.check=Zo(r.check,n,p,s)),o-=p,s+=p,j)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;d<16;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}if(4&r.wrap&&c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Jc;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Hc;break;case 16189:for(;d<32;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}e.adler=r.check=Xc(c),c=0,d=0,r.mode=Wc;case Wc:if(0===r.havedict)return e.next_out=i,e.avail_out=l,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=d,Rc;e.adler=r.check=1,r.mode=Hc;case Hc:if(t===Lc||t===Ec)break e;case Vc:if(r.last){c>>>=7&d,d-=7&d,r.mode=$c;break}for(;d<3;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}switch(r.last=1&c,c>>>=1,d-=1,3&c){case 0:r.mode=16193;break;case 1:if(od(r),r.mode=Gc,t===Ec){c>>>=2,d-=2;break e}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=Jc}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Jc;break}if(r.length=65535&c,c=0,d=0,r.mode=Kc,t===Ec)break e;case Kc:r.mode=16195;case 16195:if(p=r.length,p){if(p>o&&(p=o),p>l&&(p=l),0===p)break e;a.set(n.subarray(s,s+p),i),o-=p,s+=p,l-=p,i+=p,r.length-=p;break}r.mode=Hc;break;case 16196:for(;d<14;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}if(r.nlen=257+(31&c),c>>>=5,d-=5,r.ndist=1+(31&c),c>>>=5,d-=5,r.ncode=4+(15&c),c>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Jc;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;d<3;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}r.lens[P[r.have++]]=7&c,c>>>=3,d-=3}for(;r.have<19;)r.lens[P[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},N=Dc(0,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,N){e.msg="invalid code lengths set",r.mode=Jc;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[c&(1<<r.lenbits)-1],g=k>>>24,x=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}if(b<16)c>>>=g,d-=g,r.lens[r.have++]=b;else{if(16===b){for(_=g+2;d<_;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}if(c>>>=g,d-=g,0===r.have){e.msg="invalid bit length repeat",r.mode=Jc;break}j=r.lens[r.have-1],p=3+(3&c),c>>>=2,d-=2}else if(17===b){for(_=g+3;d<_;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}c>>>=g,d-=g,j=0,p=3+(7&c),c>>>=3,d-=3}else{for(_=g+7;d<_;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}c>>>=g,d-=g,j=0,p=11+(127&c),c>>>=7,d-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Jc;break}for(;p--;)r.lens[r.have++]=j}}if(r.mode===Jc)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Jc;break}if(r.lenbits=9,C={bits:r.lenbits},N=Dc(1,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,N){e.msg="invalid literal/lengths set",r.mode=Jc;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},N=Dc(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,N){e.msg="invalid distances set",r.mode=Jc;break}if(r.mode=Gc,t===Ec)break e;case Gc:r.mode=Yc;case Yc:if(o>=6&&l>=258){e.next_out=i,e.avail_out=l,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=d,kc(e,h),i=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,r.mode===Hc&&(r.back=-1);break}for(r.back=0;k=r.lencode[c&(1<<r.lenbits)-1],g=k>>>24,x=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}if(x&&0===(240&x)){for(v=g,y=x,w=b;k=r.lencode[w+((c&(1<<v+y)-1)>>v)],g=k>>>24,x=k>>>16&255,b=65535&k,!(v+g<=d);){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}c>>>=v,d-=v,r.back+=v}if(c>>>=g,d-=g,r.back+=g,r.length=b,0===x){r.mode=16205;break}if(32&x){r.back=-1,r.mode=Hc;break}if(64&x){e.msg="invalid literal/length code",r.mode=Jc;break}r.extra=15&x,r.mode=16201;case 16201:if(r.extra){for(_=r.extra;d<_;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;k=r.distcode[c&(1<<r.distbits)-1],g=k>>>24,x=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}if(0===(240&x)){for(v=g,y=x,w=b;k=r.distcode[w+((c&(1<<v+y)-1)>>v)],g=k>>>24,x=k>>>16&255,b=65535&k,!(v+g<=d);){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}c>>>=v,d-=v,r.back+=v}if(c>>>=g,d-=g,r.back+=g,64&x){e.msg="invalid distance code",r.mode=Jc;break}r.offset=b,r.extra=15&x,r.mode=16203;case 16203:if(r.extra){for(_=r.extra;d<_;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Jc;break}r.mode=16204;case 16204:if(0===l)break e;if(p=h-l,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Jc;break}p>r.wnext?(p-=r.wnext,m=r.wsize-p):m=r.wnext-p,p>r.length&&(p=r.length),f=r.window}else f=a,m=i-r.offset,p=r.length;p>l&&(p=l),l-=p,r.length-=p;do{a[i++]=f[m++]}while(--p);0===r.length&&(r.mode=Yc);break;case 16205:if(0===l)break e;a[i++]=r.length,l--,r.mode=Yc;break;case $c:if(r.wrap){for(;d<32;){if(0===o)break e;o--,c|=n[s++]<<d,d+=8}if(h-=l,e.total_out+=h,r.total+=h,4&r.wrap&&h&&(e.adler=r.check=r.flags?Zo(r.check,a,h,i-h):Xo(r.check,a,h,i-h)),h=l,4&r.wrap&&(r.flags?c:Xc(c))!==r.check){e.msg="incorrect data check",r.mode=Jc;break}c=0,d=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;d<32;){if(0===o)break e;o--,c+=n[s++]<<d,d+=8}if(4&r.wrap&&c!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=Jc;break}c=0,d=0}r.mode=16208;case 16208:N=Mc;break e;case Jc:N=zc;break e;case 16210:return Oc;default:return Fc}return e.next_out=i,e.avail_out=l,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=d,(r.wsize||h!==e.avail_out&&r.mode<Jc&&(r.mode<$c||t!==Tc))&&ld(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,r.total+=h,4&r.wrap&&h&&(e.adler=r.check=r.flags?Zo(r.check,a,h,e.next_out-h):Xo(r.check,a,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Hc?128:0)+(r.mode===Gc||r.mode===Kc?256:0),(0===u&&0===h||t===Tc)&&N===Ic&&(N=Bc),N},dd={inflateReset:td,inflateReset2:rd,inflateResetKeep:ed,inflateInit:e=>nd(e,15),inflateInit2:nd,inflate:cd,inflateEnd:e=>{if(Zc(e))return Fc;let t=e.state;return t.window&&(t.window=null),e.state=null,Ic},inflateGetHeader:(e,t)=>{if(Zc(e))return Fc;const r=e.state;return 0===(2&r.wrap)?Fc:(r.head=t,t.done=!1,Ic)},inflateSetDictionary:(e,t)=>{const r=t.length;let n,a,s;return Zc(e)?Fc:(n=e.state,0!==n.wrap&&n.mode!==Wc?Fc:n.mode===Wc&&(a=1,a=Xo(a,t,r,0),a!==n.check)?zc:(s=ld(e,t,r,r),s?(n.mode=16210,Oc):(n.havedict=1,Ic)))},inflateInfo:"pako inflate (from Nodeca project)"};var ud=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const hd=Object.prototype.toString,{Z_NO_FLUSH:pd,Z_FINISH:md,Z_OK:fd,Z_STREAM_END:gd,Z_NEED_DICT:xd,Z_STREAM_ERROR:bd,Z_DATA_ERROR:vd,Z_MEM_ERROR:yd}=tl;function wd(e){this.options=rc({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cc,this.strm.avail_out=0;let r=dd.inflateInit2(this.strm,t.windowBits);if(r!==fd)throw new Error(el[r]);if(this.header=new ud,dd.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=ic(t.dictionary):"[object ArrayBuffer]"===hd.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=dd.inflateSetDictionary(this.strm,t.dictionary),r!==fd)))throw new Error(el[r])}function jd(e,t){const r=new wd(t);if(r.push(e),r.err)throw r.msg||el[r.err];return r.result}wd.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,i,o;if(this.ended)return!1;for(i=t===~~t?t:!0===t?md:pd,"[object ArrayBuffer]"===hd.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=dd.inflate(r,i),s===xd&&a&&(s=dd.inflateSetDictionary(r,a),s===fd?s=dd.inflate(r,i):s===vd&&(s=xd));r.avail_in>0&&s===gd&&r.state.wrap>0&&0!==e[r.next_in];)dd.inflateReset(r),s=dd.inflate(r,i);switch(s){case bd:case vd:case xd:case yd:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(0===r.avail_out||s===gd))if("string"===this.options.to){let e=lc(r.output,r.next_out),t=r.next_out-e,a=oc(r.output,e);r.next_out=t,r.avail_out=n-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(a)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(s!==fd||0!==o){if(s===gd)return s=dd.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},wd.prototype.onData=function(e){this.chunks.push(e)},wd.prototype.onEnd=function(e){e===fd&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=nc(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Nd={Inflate:wd,inflate:jd,inflateRaw:function(e,t){return(t=t||{}).raw=!0,jd(e,t)},ungzip:jd,constants:tl};const{Deflate:kd,deflate:Sd,deflateRaw:Cd,gzip:_d}=jc,{Inflate:Pd,inflate:Ad,inflateRaw:Dd,ungzip:Td}=Nd;var Ld=Pd,Ed=Ad;const Id=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;Id[r]=e}const Md=4294967295;function Rd(e,t){return(function(e,t,r){let n=e;for(let a=0;a<r;a++)n=Id[255&(n^t[a])]^n>>>8;return n}(Md,e,t)^Md)>>>0}function Fd(e,t,r){const n=e.readUint32(),a=Rd(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error("CRC mismatch for chunk ".concat(r,". Expected ").concat(n,", found ").concat(a))}function zd(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function Od(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function Bd(e,t,r,n){let a=0;if(0===r.length)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function Ud(e,t,r,n,a){let s=0;if(0===r.length){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-a]+r[s]>>1)&255}}function qd(e,t,r,n,a){let s=0;if(0===r.length){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+Wd(t[s-a],r[s],r[s-a])&255}}function Wd(e,t,r){const n=e+t-r,a=Math.abs(n-e),s=Math.abs(n-t),i=Math.abs(n-r);return a<=s&&a<=i?e:s<=i?t:r}function Hd(e,t,r,n,a,s){switch(e){case 0:zd(t,r,a);break;case 1:Od(t,r,a,s);break;case 2:Bd(t,r,n,a);break;case 3:Ud(t,r,n,a,s);break;case 4:qd(t,r,n,a,s);break;default:throw new Error("Unsupported filter: ".concat(e))}}const Vd=new Uint16Array([255]),Kd=255===new Uint8Array(Vd.buffer)[0];function Gd(e){return(255&e)<<8|e>>8&255}const Yd=new Uint16Array([255]),$d=255===new Uint8Array(Yd.buffer)[0],Jd=new Uint8Array(0);function Xd(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,i=Math.ceil(s/8)*a,o=Math.ceil(s/8*a*r),l=new Uint8Array(n*o);let c,d,u=Jd,h=0;for(let p=0;p<n;p++){switch(c=t.subarray(h+1,h+1+o),d=l.subarray(p*o,(p+1)*o),t[h]){case 0:zd(c,d,o);break;case 1:Od(c,d,o,i);break;case 2:Bd(c,d,u,o);break;case 3:Ud(c,d,u,o,i);break;case 4:qd(c,d,u,o,i);break;default:throw new Error("Unsupported filter: ".concat(t[h]))}u=d,h+=o+1}if(16===s){const e=new Uint16Array(l.buffer);if($d)for(let t=0;t<e.length;t++)e[t]=Qd(e[t]);return e}return l}function Qd(e){return(255&e)<<8|e>>8&255}const Zd=Uint8Array.of(137,80,78,71,13,10,26,10);function eu(e){if(!function(e){if(e.length<Zd.length)return!1;for(let t=0;t<Zd.length;t++)if(e[t]!==Zd[t])return!1;return!0}(e.readBytes(Zd.length)))throw new Error("wrong PNG signature")}const tu="tEXt",ru=new TextDecoder("latin1");function nu(e){if(su(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const au=/^[\u0000-\u00FF]*$/;function su(e){if(!au.test(e))throw new Error("invalid latin1 text")}function iu(e,t,r){const n=ou(t);e[n]=function(e,t){return ru.decode(e.readBytes(t))}(t,r-n.length-1)}function ou(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const r=ru.decode(e.readBytes(t-e.offset-1));return e.skip(1),nu(r),r}const lu=-1,cu=0,du=2,uu=3,hu=4,pu=6,mu=-1,fu=0,gu=-1,xu=0,bu=-1,vu=0,yu=1,wu=0,ju=1,Nu=2,ku=0,Su=1;class Cu extends lo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),(0,we.A)(this,"_checkCrc",void 0),(0,we.A)(this,"_inflator",void 0),(0,we.A)(this,"_png",void 0),(0,we.A)(this,"_apng",void 0),(0,we.A)(this,"_end",void 0),(0,we.A)(this,"_hasPalette",void 0),(0,we.A)(this,"_palette",void 0),(0,we.A)(this,"_hasTransparency",void 0),(0,we.A)(this,"_transparency",void 0),(0,we.A)(this,"_compressionMethod",void 0),(0,we.A)(this,"_filterMethod",void 0),(0,we.A)(this,"_interlaceMethod",void 0),(0,we.A)(this,"_colorType",void 0),(0,we.A)(this,"_isAnimated",void 0),(0,we.A)(this,"_numberOfFrames",void 0),(0,we.A)(this,"_numberOfPlays",void 0),(0,we.A)(this,"_frames",void 0),(0,we.A)(this,"_writingDataChunks",void 0);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new Ld,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=mu,this._filterMethod=gu,this._interlaceMethod=bu,this._colorType=lu,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(eu(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(eu(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case tu:iu(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-r!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?Fd(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e}if(this.offset-r!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?Fd(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());const t=this.readUint8();let r;switch(this._colorType=t,t){case cu:r=1;break;case du:r=3;break;case uu:r=1;break;case hu:r=2;break;case pu:r=4;break;default:throw new Error("Unknown color type: ".concat(t))}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==fu)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<t;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodetRNS(e){switch(this._colorType){case cu:case du:if(e%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(e));if(e/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(e/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case uu:{if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(e){const t=ou(this),r=this.readUint8();if(r!==fu)throw new Error("Unsupported iCCP compression method: ".concat(r));const n=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Ed(n)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Xd({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===r.xOffset&&0===r.yOffset&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const n=this._apng.frames.at(e-1);this.disposeFrame(r,n,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case wu:break;case ju:for(let t=0;t<this._png.height;t++)for(let n=0;n<this._png.width;n++){const a=(t*e.width+n)*this._png.channels;for(let e=0;e<this._png.channels;e++)r.data[a+e]=0}break;case Nu:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,n=(e,r)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+r)*this._png.channels,frameIndex:(e*t.width+r)*this._png.channels});switch(t.blendOp){case ku:for(let r=0;r<t.height;r++)for(let a=0;a<t.width;a++){const{index:s,frameIndex:i}=n(r,a);for(let r=0;r<this._png.channels;r++)e.data[s+r]=t.data[i+r]}break;case Su:for(let a=0;a<t.height;a++)for(let s=0;s<t.width;s++){const{index:i,frameIndex:o}=n(a,s);for(let n=0;n<this._png.channels;n++){const a=t.data[o+this._png.channels-1]/r,s=n%(this._png.channels-1)===0?1:t.data[o+n],l=Math.floor(a*s+(1-a)*e.data[i+n]);e.data[i+n]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?(null===(e=this._frames)||void 0===e?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==xu)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===vu)this._png.data=Xd({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==yu)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*a,l=new Uint8Array(n*r*o);let c=0;for(let d=0;d<7;d++){const e=i[d],a=Math.ceil((r-e.x)/e.xStep),s=Math.ceil((n-e.y)/e.yStep);if(a<=0||s<=0)continue;const u=a*o,h=new Uint8Array(u);for(let i=0;i<s;i++){const s=t[c++],d=t.subarray(c,c+u);c+=u;const p=new Uint8Array(u);Hd(s,d,p,h,u,o),h.set(p);for(let t=0;t<a;t++){const a=e.x+t*e.xStep,s=e.y+i*e.yStep;if(!(a>=r||s>=n))for(let e=0;e<o;e++)l[(s*r+a)*o+e]=p[t*o+e]}}}if(16===s){const e=new Uint16Array(l.buffer);if(Kd)for(let t=0;t<e.length;t++)e[t]=Gd(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:wu,blendOp:ku,data:e}),this._inflator=new Ld,this._writingDataChunks=!1}}var _u;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(_u||(_u={}));var Pu=function(){return"undefined"!=typeof window?window:"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:this}();function Au(){Pu.console&&"function"==typeof Pu.console.log&&Pu.console.log.apply(Pu.console,arguments)}var Du={log:Au,warn:function(e){Pu.console&&("function"==typeof Pu.console.warn?Pu.console.warn.apply(Pu.console,arguments):Au.call(null,arguments))},error:function(e){Pu.console&&("function"==typeof Pu.console.error?Pu.console.error.apply(Pu.console,arguments):Au(e))}};function Tu(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Iu(n.response,t,r)},n.onerror=function(){Du.error("could not download file")},n.send()}function Lu(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(r){}return t.status>=200&&t.status<=299}function Eu(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Iu=Pu.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,gi.A)(window))||window!==Pu?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Pu.URL||Pu.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?Lu(a.href)?Tu(e,t,r):Eu(a,a.target="_blank"):Eu(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Eu(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download","string"==typeof e)if(Lu(e))Tu(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Eu(n)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,gi.A)(t)&&(Du.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return Tu(e,t,r);var a="application/octet-stream"===e.type,s=/constructor/i.test(Pu.HTMLElement)||Pu.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&"object"===("undefined"==typeof FileReader?"undefined":(0,gi.A)(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},o.readAsDataURL(e)}else{var l=Pu.URL||Pu.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function Mu(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,i=a.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}}var Ru=Pu.atob.bind(Pu),Fu=Pu.btoa.bind(Pu);function zu(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=Bu(r,n,a,s,t[0],7,-680876936),s=Bu(s,r,n,a,t[1],12,-389564586),a=Bu(a,s,r,n,t[2],17,606105819),n=Bu(n,a,s,r,t[3],22,-1044525330),r=Bu(r,n,a,s,t[4],7,-176418897),s=Bu(s,r,n,a,t[5],12,1200080426),a=Bu(a,s,r,n,t[6],17,-1473231341),n=Bu(n,a,s,r,t[7],22,-45705983),r=Bu(r,n,a,s,t[8],7,1770035416),s=Bu(s,r,n,a,t[9],12,-1958414417),a=Bu(a,s,r,n,t[10],17,-42063),n=Bu(n,a,s,r,t[11],22,-1990404162),r=Bu(r,n,a,s,t[12],7,1804603682),s=Bu(s,r,n,a,t[13],12,-40341101),a=Bu(a,s,r,n,t[14],17,-1502002290),r=Uu(r,n=Bu(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Uu(s,r,n,a,t[6],9,-1069501632),a=Uu(a,s,r,n,t[11],14,643717713),n=Uu(n,a,s,r,t[0],20,-373897302),r=Uu(r,n,a,s,t[5],5,-701558691),s=Uu(s,r,n,a,t[10],9,38016083),a=Uu(a,s,r,n,t[15],14,-660478335),n=Uu(n,a,s,r,t[4],20,-405537848),r=Uu(r,n,a,s,t[9],5,568446438),s=Uu(s,r,n,a,t[14],9,-1019803690),a=Uu(a,s,r,n,t[3],14,-187363961),n=Uu(n,a,s,r,t[8],20,1163531501),r=Uu(r,n,a,s,t[13],5,-1444681467),s=Uu(s,r,n,a,t[2],9,-51403784),a=Uu(a,s,r,n,t[7],14,1735328473),r=qu(r,n=Uu(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=qu(s,r,n,a,t[8],11,-2022574463),a=qu(a,s,r,n,t[11],16,1839030562),n=qu(n,a,s,r,t[14],23,-35309556),r=qu(r,n,a,s,t[1],4,-1530992060),s=qu(s,r,n,a,t[4],11,1272893353),a=qu(a,s,r,n,t[7],16,-155497632),n=qu(n,a,s,r,t[10],23,-1094730640),r=qu(r,n,a,s,t[13],4,681279174),s=qu(s,r,n,a,t[0],11,-358537222),a=qu(a,s,r,n,t[3],16,-722521979),n=qu(n,a,s,r,t[6],23,76029189),r=qu(r,n,a,s,t[9],4,-640364487),s=qu(s,r,n,a,t[12],11,-421815835),a=qu(a,s,r,n,t[15],16,530742520),r=Wu(r,n=qu(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Wu(s,r,n,a,t[7],10,1126891415),a=Wu(a,s,r,n,t[14],15,-1416354905),n=Wu(n,a,s,r,t[5],21,-57434055),r=Wu(r,n,a,s,t[12],6,1700485571),s=Wu(s,r,n,a,t[3],10,-1894986606),a=Wu(a,s,r,n,t[10],15,-1051523),n=Wu(n,a,s,r,t[1],21,-2054922799),r=Wu(r,n,a,s,t[8],6,1873313359),s=Wu(s,r,n,a,t[15],10,-30611744),a=Wu(a,s,r,n,t[6],15,-1560198380),n=Wu(n,a,s,r,t[13],21,1309151649),r=Wu(r,n,a,s,t[4],6,-145523070),s=Wu(s,r,n,a,t[11],10,-1120210379),a=Wu(a,s,r,n,t[2],15,718787259),n=Wu(n,a,s,r,t[9],21,-343485551),e[0]=Xu(r,e[0]),e[1]=Xu(n,e[1]),e[2]=Xu(a,e[2]),e[3]=Xu(s,e[3])}function Ou(e,t,r,n,a,s){return t=Xu(Xu(t,e),Xu(n,s)),Xu(t<<a|t>>>32-a,r)}function Bu(e,t,r,n,a,s,i){return Ou(t&r|~t&n,e,t,a,s,i)}function Uu(e,t,r,n,a,s,i){return Ou(t&n|r&~n,e,t,a,s,i)}function qu(e,t,r,n,a,s,i){return Ou(t^r^n,e,t,a,s,i)}function Wu(e,t,r,n,a,s,i){return Ou(r^(t|~n),e,t,a,s,i)}function Hu(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)zu(n,Vu(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(zu(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,zu(n,a),n}function Vu(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var Ku="0123456789abcdef".split("");function Gu(e){for(var t="",r=0;r<4;r++)t+=Ku[e>>8*r+4&15]+Ku[e>>8*r&15];return t}function Yu(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function $u(e){return Hu(e).map(Yu).join("")}var Ju="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Gu(e[t]);return e.join("")}(Hu("hello"));function Xu(e,t){if(Ju){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function Qu(e,t){var r,n,a,s;if(e!==r){for(var i=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+i.charCodeAt(l))%256,o[l]=o[c],o[c]=d}r=e,n=o}else o=n;var u=t.length,h=0,p=0,m="";for(l=0;l<u;l++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,i=o[(o[h]+o[p])%256],m+=String.fromCharCode(t.charCodeAt(l)^i);return m}var Zu={print:4,modify:8,copy:16,"annot-forms":32};function eh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(e){if(void 0!==Zu.perm)throw new Error("Invalid permission: "+e);a+=Zu[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=$u(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Qu(this.encryptionKey,this.padding)}function th(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||35===a||37===a||40===a||41===a||47===a||60===a||62===a||91===a||93===a||123===a||125===a||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function rh(e){if("object"!==(0,gi.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,n){if(n=n||!1,"string"!=typeof e||"function"!=typeof r||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[r,!!n],a},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],0===Object.keys(t[r]).length&&delete t[r],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var i=t[r][s];try{i[0].apply(e,n)}catch(Eu){Pu.console&&Du.error("jsPDF PubSub Error",Eu.message,Eu)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function nh(e){if(!(this instanceof nh))return new nh(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function ah(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function sh(e,t,r,n,a){if(!(this instanceof sh))return new sh(e,t,r,n,a);this.type="axial"===e?2:3,this.coords=t,this.colors=r,ah.call(this,n,a)}function ih(e,t,r,n,a){if(!(this instanceof ih))return new ih(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,ah.call(this,n,a)}function oh(e){var t,r="string"==typeof arguments[0]?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],o=1,l=16,c="S",d=null;"object"===(0,gi.A)(e=e||{})&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),i=e.filters||(!0===s?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=rh;var m="1.3",f=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(e){m=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var x=p.__private__.getPageFormat=function(e){return g[e]};a=a||"a4";var b="compat",v="advanced",y=b;function w(){this.saveGraphicsState(),X(new Te(he,0,0,-he,0,hr()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",y=v}function j(){this.restoreGraphicsState(),c="S",y=b}var N=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=y===b;return t&&w.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},p.compatAPI=function(e){var t=y===v;return t&&j.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},p.isAdvancedAPI=function(){return y===v};var k,S=function(e){if(y!==v)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=p.roundToPrecision=p.__private__.roundToPrecision=function(e,r){var n=t||r;if(isNaN(e)||isNaN(n))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(n).replace(/0+$/,"")};k=p.hpf=p.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,16)};var _=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return C(e,2)},P=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return C(e,3)},A=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return y===b?e*he:y===v?e:void 0},D=function(e){return A(function(e){return y===b?hr()-e:y===v?e:void 0}(e))};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var T,L="00000000000000000000000000000000",E=p.__private__.getFileId=function(){return L},I=p.__private__.setFileId=function(e){return L=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():L.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(bt=new eh(d.userPermissions,d.userPassword,d.ownerPassword,L)),L};p.setFileId=function(e){return I(e),this},p.getFileId=function(){return E()};var M=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),r=t<0?"+":"-",n=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),s=[r,B(n),"'",B(a),"'"].join("");return["D:",e.getFullYear(),B(e.getMonth()+1),B(e.getDate()),B(e.getHours()),B(e.getMinutes()),B(e.getSeconds()),s].join("")},R=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),r=parseInt(e.substr(6,2),10)-1,n=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),i=parseInt(e.substr(14,2),10);return new Date(t,r,n,a,s,i,0)},F=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=M(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return T=t},z=p.__private__.getCreationDate=function(e){var t=T;return"jsDate"===e&&(t=R(T)),t};p.setCreationDate=function(e){return F(e),this},p.getCreationDate=function(e){return z(e)};var O,B=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},q=0,W=[],H=[],V=0,K=[],G=[],Y=!1,$=H;p.__private__.setCustomOutputDestination=function(e){Y=!0,$=e};var J=function(e){Y||($=e)};p.__private__.resetCustomOutputDestination=function(){Y=!1,$=H};var X=p.__private__.out=function(e){return e=e.toString(),V+=e.length+1,$.push(e),$},Q=p.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=p.__private__.getArrayBuffer=function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r);t--;)n[t]=e.charCodeAt(t);return r},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return te=y===v?e/he:e,this};var re,ne=p.__private__.getFontSize=p.getFontSize=function(){return y===b?te:te*he},ae=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return ae=e,this},p.__private__.getR2L=p.getR2L=function(){return ae};var se,ie=p.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))re=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');re=e}else re=parseInt(e,10)};p.__private__.getZoomMode=function(){return re};var oe,le=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');se=e};p.__private__.getPageMode=function(){return se};var ce=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};p.__private__.getLayoutMode=function(){return oe},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,r){return ie(e),ce(t),le(r),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},p.__private__.getDocumentProperties=function(){return de},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var ue,he,pe,me,fe,ge={},xe={},be=[],ve={},ye={},we={},je={},Ne=null,ke=0,Se=[],Ce=new rh(p),_e=e.hotfixes||[],Pe={},Ae={},De=[],Te=function e(t,r,n,a,s,i){if(!(this instanceof e))return new e(t,r,n,a,s,i);isNaN(t)&&(t=1),isNaN(r)&&(r=0),isNaN(n)&&(n=0),isNaN(a)&&(a=1),isNaN(s)&&(s=0),isNaN(i)&&(i=0),this._matrix=[t,r,n,a,s,i]};Object.defineProperty(Te.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Te.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Te.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Te.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Te.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Te.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Te.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Te.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Te.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Te.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Te.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Te.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Te.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Te.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Te.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Te.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Te.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Te.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,r=e.sx*this.shy+e.shy*this.sy,n=e.shx*this.sx+e.sy*this.shx,a=e.shx*this.shy+e.sy*this.sy,s=e.tx*this.sx+e.ty*this.shx+this.tx,i=e.tx*this.shy+e.ty*this.sy+this.ty;return new Te(t,r,n,a,s,i)},Te.prototype.decompose=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,a=this.tx,s=this.ty,i=Math.sqrt(e*e+t*t),o=(e/=i)*r+(t/=i)*n;r-=e*o,n-=t*o;var l=Math.sqrt(r*r+n*n);return o/=l,e*(n/=l)<t*(r/=l)&&(e=-e,t=-t,o=-o,i=-i),{scale:new Te(i,0,0,l,0,0),translate:new Te(1,0,0,1,a,s),rotate:new Te(e,t,-t,e,0,0),skew:new Te(1,0,o,1,0,0)}},Te.prototype.toString=function(e){return this.join(" ")},Te.prototype.inversed=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,a=this.tx,s=this.ty,i=1/(e*n-t*r),o=n*i,l=-t*i,c=-r*i,d=e*i;return new Te(o,l,c,d,-o*a-c*s,-l*a-d*s)},Te.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,r=e.x*this.shy+e.y*this.sy+this.ty;return new tr(t,r)},Te.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),r=this.applyToPoint(new tr(e.x+e.w,e.y+e.h));return new rr(t.x,t.y,r.x-t.x,r.y-t.y)},Te.prototype.clone=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,a=this.tx,s=this.ty;return new Te(e,t,r,n,a,s)},p.Matrix=Te;var Le=p.matrixMult=function(e,t){return t.multiply(e)},Ee=new Te(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ee;var Ie=function(e,t){if(!ye[e]){var r=(t instanceof sh?"Sh":"P")+(Object.keys(ve).length+1).toString(10);t.id=r,ye[e]=r,ve[r]=t,Ce.publish("addPattern",t)}};p.ShadingPattern=sh,p.TilingPattern=ih,p.addShadingPattern=function(e,t){return S("addShadingPattern()"),Ie(e,t),this},p.beginTilingPattern=function(e){S("beginTilingPattern()"),ar(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){S("endTilingPattern()"),t.stream=G[O].join("\n"),Ie(e,t),Ce.publish("endTilingPattern",t),De.pop().restore()};var Me,Re=p.__private__.newObject=function(){var e=Fe();return ze(e,!0),e},Fe=p.__private__.newObjectDeferred=function(){return q++,W[q]=function(){return V},q},ze=function(e,t){return t="boolean"==typeof t&&t,W[e]=V,t&&X(e+" 0 obj"),e},Oe=p.__private__.newAdditionalObject=function(){var e={objId:Fe(),content:""};return K.push(e),e},Be=Fe(),Ue=Fe(),qe=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var r=parseFloat(t[0]);t=[r,r,r,"r"]}for(var n="#",a=0;a<3;a++)n+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return n},We=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var r=e.ch1,n=e.ch2,a=e.ch3,s=e.ch4,i="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof r&&"#"!==r.charAt(0)){var o=new Mu(r);if(o.ok)r=o.toHex();else if(!/^\d*\.?\d*$/.test(r))throw new Error('Invalid color "'+r+'" passed to jsPDF.encodeColorString.')}if("string"==typeof r&&/^#[0-9A-Fa-f]{3}$/.test(r)&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),"string"==typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r)){var l=parseInt(r.substr(1),16);r=l>>16&255,n=l>>8&255,a=255&l}if(void 0===n||void 0===s&&r===n&&n===a)t="string"==typeof r?r+" "+i[0]:2===e.precision?_(r/255)+" "+i[0]:P(r/255)+" "+i[0];else if(void 0===s||"object"===(0,gi.A)(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",i[1]].join(" ");t="string"==typeof r?[r,n,a,i[1]].join(" "):2===e.precision?[_(r/255),_(n/255),_(a/255),i[1]].join(" "):[P(r/255),P(n/255),P(a/255),i[1]].join(" ")}else t="string"==typeof r?[r,n,a,s,i[2]].join(" "):2===e.precision?[_(r),_(n),_(a),_(s),i[2]].join(" "):[P(r),P(n),P(a),P(s),i[2]].join(" ");return t},He=p.__private__.getFilters=function(){return i},Ve=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",r=e.filters||He(),n=e.alreadyAppliedFilters||[],a=e.addLength1||!1,s=t.length,i=e.objectId,o=function(e){return e};if(null!==d&&void 0===i)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(o=bt.encryptor(i,0));var l={};!0===r&&(r=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==oh.API.processDataByFilters?oh.API.processDataByFilters(t,r):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(n)?n.join(" "):n.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===a&&c.push({key:"Length1",value:s})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var p=[],m=0;m<l.reverseChain.split("/").length-1;m+=1)p.push("null");p.push(c[h].value),c[h].value="["+p.join(" ")+"]"}}X("<<");for(var f=0;f<c.length;f++)X("/"+c[f].key+" "+c[f].value);X(">>"),0!==l.data.length&&(X("stream"),X(o(l.data)),X("endstream"))},Ke=p.__private__.putPage=function(e){var t=e.number,r=e.data,n=e.objId,a=e.contentsObjId;ze(n,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),Ce.publish("putPage",{objId:n,pageContext:Se[t],pageNumber:t,page:r}),X("/Contents "+a+" 0 R"),X(">>"),X("endobj");var s=r.join("\n");return y===v&&(s+="\nQ"),ze(a,!0),Ve({data:s,filters:He(),objectId:a}),X("endobj"),n},Ge=p.__private__.putPages=function(){var e,t,r=[];for(e=1;e<=ke;e++)Se[e].objId=Fe(),Se[e].contentsObjId=Fe();for(e=1;e<=ke;e++)r.push(Ke({number:e,data:G[e],objId:Se[e].objId,contentsObjId:Se[e].contentsObjId,mediaBox:Se[e].mediaBox,cropBox:Se[e].cropBox,bleedBox:Se[e].bleedBox,trimBox:Se[e].trimBox,artBox:Se[e].artBox,userUnit:Se[e].userUnit,rootDictionaryObjId:Be,resourceDictionaryObjId:Ue}));ze(Be,!0),X("<</Type /Pages");var n="/Kids [";for(t=0;t<ke;t++)n+=r[t]+" 0 R ";X(n+"]"),X("/Count "+ke),X(">>"),X("endobj"),Ce.publish("postPutPages")},Ye=function(e){Ce.publish("putFont",{font:e,out:X,newObject:Re,putStream:Ve}),!0!==e.isAlreadyPutted&&(e.objectNumber=Re(),X("<<"),X("/Type /Font"),X("/BaseFont /"+th(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},$e=function(e){e.objectNumber=Re();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var r=e.pages[1].join("\n");Ve({data:r,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},Je=function(e,t){t||(t=21);var r=Re(),n=function(e,t){var r,n=[],a=1/(t-1);for(r=0;r<1;r+=a)n.push(r);if(n.push(1),0!=e[0].offset){var s={offset:0,color:e[0].color};e.unshift(s)}if(1!=e[e.length-1].offset){var i={offset:1,color:e[e.length-1].color};e.push(i)}for(var o="",l=0,c=0;c<n.length;c++){for(r=n[c];r>e[l+1].offset;)l++;var d=e[l].offset,u=(r-d)/(e[l+1].offset-d),h=e[l].color,p=e[l+1].color;o+=U(Math.round((1-u)*h[0]+u*p[0]).toString(16))+U(Math.round((1-u)*h[1]+u*p[1]).toString(16))+U(Math.round((1-u)*h[2]+u*p[2]).toString(16))}return o.trim()}(e.colors,t),a=[];a.push({key:"FunctionType",value:"0"}),a.push({key:"Domain",value:"[0.0 1.0]"}),a.push({key:"Size",value:"["+t+"]"}),a.push({key:"BitsPerSample",value:"8"}),a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:n,additionalKeyValues:a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:r}),X("endobj"),e.objectNumber=Re(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var s="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?s+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):s+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),X(s+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+r+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var r=Fe(),n=Re();t.push({resourcesOid:r,objectOid:n}),e.objectNumber=n;var a=[];a.push({key:"Type",value:"/Pattern"}),a.push({key:"PatternType",value:"1"}),a.push({key:"PaintType",value:"1"}),a.push({key:"TilingType",value:"1"}),a.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),a.push({key:"XStep",value:k(e.xStep)}),a.push({key:"YStep",value:k(e.yStep)}),a.push({key:"Resources",value:r+" 0 R"}),e.matrix&&a.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ve({data:e.stream,additionalKeyValues:a,objectId:e.objectNumber}),X("endobj")},Qe=function(e){for(var t in e.objectNumber=Re(),X("<<"),e)switch(t){case"opacity":X("/ca "+_(e[t]));break;case"stroke-opacity":X("/CA "+_(e[t]))}X(">>"),X("endobj")},Ze=function(e){ze(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&X("/"+e+" "+ge[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(ve).length>0){for(var e in X("/Shading <<"),ve)ve.hasOwnProperty(e)&&ve[e]instanceof sh&&ve[e].objectNumber>=0&&X("/"+e+" "+ve[e].objectNumber+" 0 R");Ce.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(ve).length>0){for(var t in X("/Pattern <<"),ve)ve.hasOwnProperty(t)&&ve[t]instanceof p.TilingPattern&&ve[t].objectNumber>=0&&ve[t].objectNumber<e&&X("/"+t+" "+ve[t].objectNumber+" 0 R");Ce.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in X("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&X("/"+e+" "+we[e].objectNumber+" 0 R");Ce.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Pe)Pe.hasOwnProperty(e)&&Pe[e].objectNumber>=0&&X("/"+e+" "+Pe[e].objectNumber+" 0 R");Ce.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(e){xe[e.fontName]=xe[e.fontName]||{},xe[e.fontName][e.fontStyle]=e.id},tt=function(e,t,r,n,a){var s={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:r,encoding:n,isStandardFont:a||!1,metadata:{}};return Ce.publish("addFont",{font:s,instance:this}),ge[s.id]=s,et(s),s.id},rt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var r,n,a,s,i,o,l,c,d;if(a=(t=t||{}).sourceEncoding||"Unicode",i=t.outputEncoding,(t.autoencode||i)&&ge[ue].metadata&&ge[ue].metadata[a]&&ge[ue].metadata[a].encoding&&(s=ge[ue].metadata[a].encoding,!i&&ge[ue].encoding&&(i=ge[ue].encoding),!i&&s.codePages&&(i=s.codePages[0]),"string"==typeof i&&(i=s[i]),i)){for(l=!1,o=[],r=0,n=e.length;r<n;r++)(c=i[e.charCodeAt(r)])?o.push(String.fromCharCode(c)):o.push(e[r]),o[r].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(r=e.length;void 0===l&&0!==r;)e.charCodeAt(r-1)>>8&&(l=!0),r--;if(!l)return e;for(o=t.noBOM?[]:[254,255],r=0,n=e.length;r<n;r++){if((d=(c=e.charCodeAt(r))>>8)>>8)throw new Error("Character at position "+r+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nt=p.__private__.beginPage=function(e){G[++ke]=[],Se[ke]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},it(ke),J(G[O])},at=function(e,t){var n,s,i;switch(r=t||r,"string"==typeof e&&(n=x(e.toLowerCase()),Array.isArray(n)&&(s=n[0],i=n[1])),Array.isArray(e)&&(s=e[0]*he,i=e[1]*he),isNaN(s)&&(s=a[0],i=a[1]),(s>14400||i>14400)&&(Du.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),i=Math.min(14400,i)),a=[s,i],r.substr(0,1)){case"l":i>s&&(a=[i,s]);break;case"p":s>i&&(a=[i,s])}nt(a),zt(Rt),X(Kt),0!==Qt&&X(Qt+" J"),0!==Zt&&X(Zt+" j"),Ce.publish("addPage",{pageNumber:ke})},st=function(e){e>0&&e<=ke&&(G.splice(e,1),Se.splice(e,1),ke--,O>ke&&(O=ke),this.setPage(O))},it=function(e){e>0&&e<=ke&&(O=e)},ot=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return G.length-1},lt=function(e,t,r){var n,a=void 0;return r=r||{},e=void 0!==e?e:ge[ue].fontName,t=void 0!==t?t:ge[ue].fontStyle,n=e.toLowerCase(),void 0!==xe[n]&&void 0!==xe[n][t]?a=xe[n][t]:void 0!==xe[e]&&void 0!==xe[e][t]?a=xe[e][t]:!1===r.disableWarning&&Du.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||r.noFallback||null==(a=xe.times[t])&&(a=xe.times.normal),a},ct=p.__private__.putInfo=function(){var e=Re(),t=function(e){return e};for(var r in null!==d&&(t=bt.encryptor(e,0)),X("<<"),X("/Producer ("+rt(t("jsPDF "+oh.version))+")"),de)de.hasOwnProperty(r)&&de[r]&&X("/"+r.substr(0,1).toUpperCase()+r.substr(1)+" ("+rt(t(de[r]))+")");X("/CreationDate ("+rt(t(T))+")"),X(">>"),X("endobj")},dt=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Be;switch(Re(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var r=""+re;"%"===r.substr(r.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&X("/OpenAction [3 0 R /XYZ null null "+_(re)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}se&&X("/PageMode /"+se),Ce.publish("putCatalog"),X(">>"),X("endobj")},ut=p.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(q+1)),X("/Root "+q+" 0 R"),X("/Info "+(q-1)+" 0 R"),null!==d&&X("/Encrypt "+bt.oid+" 0 R"),X("/ID [ <"+L+"> <"+L+"> ]"),X(">>")},ht=p.__private__.putHeader=function(){X("%PDF-"+m),X("%\xba\xdf\xac\xe0")},pt=p.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(q+1)),X("0000000000 65535 f ");for(var t=1;t<=q;t++)"function"==typeof W[t]?X((e+W[t]()).slice(-10)+" 00000 n "):void 0!==W[t]?X((e+W[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},mt=p.__private__.buildDocument=function(){var e;q=0,V=0,H=[],W=[],K=[],Be=Fe(),Ue=Fe(),J(H),Ce.publish("buildDocument"),ht(),Ge(),function(){Ce.publish("putAdditionalObjects");for(var e=0;e<K.length;e++){var t=K[e];ze(t.objId,!0),X(t.content),X("endobj")}Ce.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&Ye(ge[e])}(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Qe(we[e])}(),function(){for(var e in Pe)Pe.hasOwnProperty(e)&&$e(Pe[e])}(),function(e){var t;for(t in ve)ve.hasOwnProperty(t)&&(ve[t]instanceof sh?Je(ve[t]):ve[t]instanceof ih&&Xe(ve[t],e))}(e),Ce.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:Ue,objectOid:Number.MAX_SAFE_INTEGER}),Ce.publish("postPutResources"),null!==d&&(bt.oid=Re(),X("<<"),X("/Filter /Standard"),X("/V "+bt.v),X("/R "+bt.r),X("/U <"+bt.toHexString(bt.U)+">"),X("/O <"+bt.toHexString(bt.O)+">"),X("/P "+bt.P),X(">>"),X("endobj")),ct(),dt();var t=V;return pt(),ut(),X("startxref"),X(""+t),X("%%EOF"),J(G[O]),H.join("\n")},ft=p.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},gt=p.output=p.__private__.output=(Me=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return mt();case"save":p.save(t.filename);break;case"arraybuffer":return Z(mt());case"blob":return ft(mt());case"bloburi":case"bloburl":if(void 0!==Pu.URL&&"function"==typeof Pu.URL.createObjectURL)return Pu.URL&&Pu.URL.createObjectURL(ft(mt()))||void 0;Du.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var r="",n=mt();try{r=Fu(n)}catch(d){r=Fu(unescape(encodeURIComponent(n)))}return"data:application/pdf;filename="+t.filename+";base64,"+r;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Pu)){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(a=t.pdfObjectUrl,s="");var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=Pu.open();return null!==o&&o.document.write(i),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Pu)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=Pu.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Pu))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',m=Pu.open();if(null!==m&&(m.document.write(h),m.document.title=t.filename),m||"undefined"==typeof safari)return m;break;case"datauri":case"dataurl":return Pu.document.location.href=this.output("datauristring",t);default:return null}},Me.foo=function(){try{return Me.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var r="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!Pu.console)throw new Error(r);Pu.console.error(r,t),Pu.alert&&alert(r)}},Me.foo.bar=Me,Me.foo),xt=function(e){return!0===Array.isArray(_e)&&_e.indexOf(e)>-1};switch(n){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==xt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof n)throw new Error("Invalid unit: "+n);he=n}var bt=null;F(),I();var vt=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Se[e].objId,pageNumber:e,pageContext:Se[e]}},yt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Se)if(Se[t].objId===e)break;return vt(t)},wt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Se[O].objId,pageNumber:O,pageContext:Se[O]}};p.addPage=function(){return at.apply(this,arguments),this},p.setPage=function(){return it.apply(this,arguments),J.call(this,G[O]),this},p.insertPage=function(e){return this.addPage(),this.movePage(O,e),this},p.movePage=function(e,t){var r,n;if(e>t){r=G[e],n=Se[e];for(var a=e;a>t;a--)G[a]=G[a-1],Se[a]=Se[a-1];G[t]=r,Se[t]=n,this.setPage(t)}else if(e<t){r=G[e],n=Se[e];for(var s=e;s<t;s++)G[s]=G[s+1],Se[s]=Se[s+1];G[t]=r,Se[t]=n,this.setPage(t)}return this},p.deletePage=function(){return st.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,r,n,a){var s,i,o,l,c,d,u,p,m,f=(n=n||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof r||Array.isArray(r))){var g=r;r=t,t=e,e=g}if(arguments[3]instanceof Te==0?(o=arguments[4],l=arguments[5],"object"===(0,gi.A)(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),n={flags:u,angle:o,align:l})):(S("The transform parameter of text() with a Matrix value"),m=a),isNaN(t)||isNaN(r)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var x,b="",w="number"==typeof n.lineHeightFactor?n.lineHeightFactor:Mt,j=f.internal.scaleFactor;function N(e){return e=e.split("\t").join(Array(n.TabLen||9).join(" ")),rt(e,u)}function C(e){for(var t,r=e.concat(),n=[],a=r.length;a--;)"string"==typeof(t=r.shift())?n.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?n.push(t[0]):n.push([t[0],t[1],t[2]]);return n}function _(e,t){var r;if("string"==typeof e)r=t(e)[0];else if(Array.isArray(e)){for(var n,a,s=e.concat(),i=[],o=s.length;o--;)"string"==typeof(n=s.shift())?i.push(t(n)[0]):Array.isArray(n)&&"string"==typeof n[0]&&(a=t(n[0],n[1],n[2]),i.push([a[0],a[1],a[2]]));r=i}return r}var P=!1,D=!0;if("string"==typeof e)P=!0;else if(Array.isArray(e)){var T=e.concat();i=[];for(var L,E=T.length;E--;)("string"!=typeof(L=T.shift())||Array.isArray(L)&&"string"!=typeof L[0])&&(D=!1);P=D}if(!1===P)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var I=te/f.internal.scaleFactor,M=I*(w-1);switch(n.baseline){case"bottom":r-=M;break;case"top":r+=I-M;break;case"hanging":r+=I-2*M;break;case"middle":r+=I/2-M}if((d=n.maxWidth||0)>0&&("string"==typeof e?e=f.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(f.splitTextToSize(t,d))},[]))),s={text:e,x:t,y:r,options:n,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ce.publish("preProcessText",s),e=s.text,o=(n=s.options).angle,m instanceof Te==0&&o&&"number"==typeof o){o*=Math.PI/180,0===n.rotationDirection&&(o=-o),y===v&&(o=-o);var R=Math.cos(o),F=Math.sin(o);m=new Te(R,F,-F,R,0,0)}else o&&o instanceof Te&&(m=o);y!==v||m||(m=Ee),void 0!==(c=n.charSpace||Jt)&&(b+=k(A(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=n.horizontalScale)&&(b+=k(100*p)+" Tz\n"),n.lang;var z=-1,O=void 0!==n.renderingMode?n.renderingMode:n.stroke,B=f.internal.getCurrentPageInfo().pageContext;switch(O){case 0:case!1:case"fill":z=0;break;case 1:case!0:case"stroke":z=1;break;case 2:case"fillThenStroke":z=2;break;case 3:case"invisible":z=3;break;case 4:case"fillAndAddForClipping":z=4;break;case 5:case"strokeAndAddPathForClipping":z=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":z=6;break;case 7:case"addToPathForClipping":z=7}var U=void 0!==B.usedRenderingMode?B.usedRenderingMode:-1;-1!==z?b+=z+" Tr\n":-1!==U&&(b+="0 Tr\n"),-1!==z&&(B.usedRenderingMode=z),l=n.align||"left";var q,W=te*w,H=f.internal.pageSize.getWidth(),V=ge[ue];c=n.charSpace||Jt,d=n.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},n.flags);var K=[],G=function(e){return f.getStringUnitWidth(e,{font:V,charSpace:c,fontSize:te,doKerning:!1})*te/j};if("[object Array]"===Object.prototype.toString.call(e)){var Y;i=C(e),"left"!==l&&(q=i.map(G));var $,J=0;if("right"===l){t-=q[0],e=[],E=i.length;for(var Q=0;Q<E;Q++)0===Q?($=qt(t),Y=Wt(r)):($=A(J-q[Q]),Y=-W),e.push([i[Q],$,Y]),J=q[Q]}else if("center"===l){t-=q[0]/2,e=[],E=i.length;for(var Z=0;Z<E;Z++)0===Z?($=qt(t),Y=Wt(r)):($=A((J-q[Z])/2),Y=-W),e.push([i[Z],$,Y]),J=q[Z]}else if("left"===l){e=[],E=i.length;for(var ee=0;ee<E;ee++)e.push(i[ee])}else if("justify"===l&&"Identity-H"===V.encoding){e=[],E=i.length,d=0!==d?d:H;for(var re=0,ne=0;ne<E;ne++)if(Y=0===ne?Wt(r):-W,$=0===ne?qt(t):re,ne<E-1){var se=A((d-q[ne])/(i[ne].split(" ").length-1)),ie=i[ne].split(" ");e.push([ie[0]+" ",$,Y]),re=0;for(var oe=1;oe<ie.length;oe++){var le=(G(ie[oe-1]+" "+ie[oe])-G(ie[oe]))*j+se;oe==ie.length-1?e.push([ie[oe],le,0]):e.push([ie[oe]+" ",le,0]),re-=le}}else e.push([i[ne],$,Y]);e.push(["",re,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],E=i.length,d=0!==d?d:H,ne=0;ne<E;ne++){Y=0===ne?Wt(r):-W,$=0===ne?qt(t):0;var ce=i[ne].split(" ").length-1,de=ce>0?(d-q[ne])/ce:0;ne<E-1?K.push(k(A(de))):K.push(0),e.push([i[ne],$,Y])}}}!0===("boolean"==typeof n.R2L?n.R2L:ae)&&(e=_(e,function(e,t,r){return[e.split("").reverse().join(""),t,r]})),s={text:e,x:t,y:r,options:n,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ce.publish("postProcessText",s),e=s.text,x=s.mutex.isHex||!1;var he=ge[ue].encoding;"WinAnsiEncoding"!==he&&"StandardEncoding"!==he||(e=_(e,function(e,t,r){return[N(e),t,r]})),i=C(e),e=[];for(var pe,me,fe,xe=Array.isArray(i[0])?1:0,be="",ve=function(e,t,r){var a="";return r instanceof Te?(r="number"==typeof n.angle?Le(r,new Te(1,0,0,1,e,t)):Le(new Te(1,0,0,1,e,t),r),y===v&&(r=Le(new Te(1,0,0,-1,0,0),r)),a=r.join(" ")+" Tm\n"):a=k(e)+" "+k(t)+" Td\n",a},ye=0;ye<i.length;ye++){switch(be="",xe){case 1:fe=(x?"<":"(")+i[ye][0]+(x?">":")"),pe=parseFloat(i[ye][1]),me=parseFloat(i[ye][2]);break;case 0:fe=(x?"<":"(")+i[ye]+(x?">":")"),pe=qt(t),me=Wt(r)}void 0!==K&&void 0!==K[ye]&&(be=K[ye]+" Tw\n"),0===ye?e.push(be+ve(pe,me,m)+fe):0===xe?e.push(be+fe):1===xe&&e.push(be+ve(pe,me,m)+fe)}e=0===xe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var we="BT\n/";return we+=ue+" "+te+" Tf\n",we+=k(te*w)+" TL\n",we+=Yt+"\n",we+=b,we+=e,X(we+="ET"),h[ue]=!0,f};var jt=p.__private__.clip=p.clip=function(e){return X("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return jt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return X("n"),this};var Nt=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return Nt(e)&&(c=e),this};var kt=p.__private__.getStyle=p.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},St=p.close=function(){return X("h"),this};p.stroke=function(){return X("S"),this},p.fill=function(e){return Ct("f",e),this},p.fillEvenOdd=function(e){return Ct("f*",e),this},p.fillStroke=function(e){return Ct("B",e),this},p.fillStrokeEvenOdd=function(e){return Ct("B*",e),this};var Ct=function(e,t){"object"===(0,gi.A)(t)?At(t,e):X(e)},_t=function(e){null===e||y===v&&void 0===e||(e=kt(e),X(e))};function Pt(e,t,r,n,a){var s=new ih(t||this.boundingBox,r||this.xStep,n||this.yStep,this.gState,a||this.matrix);s.stream=this.stream;var i=e+"$$"+this.cloneIndex+++"$$";return Ie(i,s),s}var At=function(e,t){var r=ye[e.key],n=ve[r];if(n instanceof sh)X("q"),X(Dt(t)),n.gState&&p.setGState(n.gState),X(e.matrix.toString()+" cm"),X("/"+r+" sh"),X("Q");else if(n instanceof ih){var a=new Te(1,0,0,-1,0,hr());e.matrix&&(a=a.multiply(e.matrix||Ee),r=Pt.call(n,e.key,e.boundingBox,e.xStep,e.yStep,a).id),X("q"),X("/Pattern cs"),X("/"+r+" scn"),n.gState&&p.setGState(n.gState),X(t),X("Q")}},Dt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tt=p.moveTo=function(e,t){return X(k(A(e))+" "+k(D(t))+" m"),this},Lt=p.lineTo=function(e,t){return X(k(A(e))+" "+k(D(t))+" l"),this},Et=p.curveTo=function(e,t,r,n,a,s){return X([k(A(e)),k(D(t)),k(A(r)),k(D(n)),k(A(a)),k(D(s)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,r,n,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.line");return y===b?this.lines([[r-e,n-t]],e,t,[1,1],a||"S"):this.lines([[r-e,n-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,r,n,a,s){var i,o,l,c,d,u,h,p,m,f,g,x;if("number"==typeof e&&(x=r,r=t,t=e,e=x),n=n||[1,1],s=s||!1,isNaN(t)||isNaN(r)||!Array.isArray(e)||!Array.isArray(n)||!Nt(a)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(Tt(t,r),i=n[0],o=n[1],c=e.length,f=t,g=r,l=0;l<c;l++)2===(d=e[l]).length?(f=d[0]*i+f,g=d[1]*o+g,Lt(f,g)):(u=d[0]*i+f,h=d[1]*o+g,p=d[2]*i+f,m=d[3]*o+g,f=d[4]*i+f,g=d[5]*o+g,Et(u,h,p,m,f,g));return s&&St(),_t(a),this},p.path=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r.c;switch(r.op){case"m":Tt(n[0],n[1]);break;case"l":Lt(n[0],n[1]);break;case"c":Et.apply(this,n);break;case"h":St()}}return this},p.__private__.rect=p.rect=function(e,t,r,n,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.rect");return y===b&&(n=-n),X([k(A(e)),k(D(t)),k(A(r)),k(A(n)),"re"].join(" ")),_t(a),this},p.__private__.triangle=p.triangle=function(e,t,r,n,a,s,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(a)||isNaN(s)||!Nt(i))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[r-e,n-t],[a-r,s-n],[e-a,t-s]],e,t,[1,1],i,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,r,n,a,s,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(a)||isNaN(s)||!Nt(i))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return a=Math.min(a,.5*r),s=Math.min(s,.5*n),this.lines([[r-2*a,0],[a*o,0,a,s-s*o,a,s],[0,n-2*s],[0,s*o,-a*o,s,-a,s],[2*a-r,0],[-a*o,0,-a,-s*o,-a,-s],[0,2*s-n],[0,-s*o,a*o,-s,a,-s]],e+a,t,[1,1],i,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,r,n,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*r,i=4/3*(Math.SQRT2-1)*n;return Tt(e+r,t),Et(e+r,t-i,e+s,t-n,e,t-n),Et(e-s,t-n,e-r,t-i,e-r,t),Et(e-r,t+i,e-s,t+n,e,t+n),Et(e+s,t+n,e+r,t+i,e+r,t),_t(a),this},p.__private__.circle=p.circle=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||!Nt(n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,r,r,n)},p.setFont=function(e,t,r){return r&&(t=N(t,r)),ue=lt(e,t,{disableWarning:!1}),this};var It=p.__private__.getFont=p.getFont=function(){return ge[lt.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,r={};for(e in xe)if(xe.hasOwnProperty(e))for(t in r[e]=[],xe[e])xe[e].hasOwnProperty(t)&&r[e].push(t);return r},p.addFont=function(e,t,r,n,a){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?a=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(r=N(r,n)),tt.call(this,e,t,r,a=a||"Identity-H")};var Mt,Rt=e.lineWidth||.200025,Ft=p.__private__.getLineWidth=p.getLineWidth=function(){return Rt},zt=p.__private__.setLineWidth=p.setLineWidth=function(e){return Rt=e,X(k(A(e))+" w"),this};p.__private__.setLineDash=oh.API.setLineDash=oh.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(A(e))}).join(" "),t=k(A(t)),X("["+e+"] "+t+" d"),this};var Ot=p.__private__.getLineHeight=p.getLineHeight=function(){return te*Mt};p.__private__.getLineHeight=p.getLineHeight=function(){return te*Mt};var Bt=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Mt=e),this},Ut=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Mt};Bt(e.lineHeight);var qt=p.__private__.getHorizontalCoordinate=function(e){return A(e)},Wt=p.__private__.getVerticalCoordinate=function(e){return y===v?e:Se[O].mediaBox.topRightY-Se[O].mediaBox.bottomLeftY-A(e)},Ht=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return k(qt(e))},Vt=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return k(Wt(e))},Kt=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return qe(Kt)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,r,n){return Kt=We({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"draw",precision:2}),X(Kt),this};var Gt=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return qe(Gt)},p.__private__.setFillColor=p.setFillColor=function(e,t,r,n){return Gt=We({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"fill",precision:2}),X(Gt),this};var Yt=e.textColor||"0 g",$t=p.__private__.getTextColor=p.getTextColor=function(){return qe(Yt)};p.__private__.setTextColor=p.setTextColor=function(e,t,r,n){return Yt=We({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"text",precision:3}),this};var Jt=e.charSpace,Xt=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Jt||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jt=e,this};var Qt=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qt=t,X(t+" J"),this};var Zt=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,X(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(k(A(e))+" M"),this},p.GState=nh,p.setGState=function(e){(e="string"==typeof e?we[je[e]]:er(null,e)).equals(Ne)||(X("/"+e.id+" gs"),Ne=e)};var er=function(e,t){if(!e||!je[e]){var r=!1;for(var n in we)if(we.hasOwnProperty(n)&&we[n].equals(t)){r=!0;break}if(r)t=we[n];else{var a="GS"+(Object.keys(we).length+1).toString(10);we[a]=t,t.id=a}return e&&(je[e]=t.id),Ce.publish("addGState",t),t}};p.addGState=function(e,t){return er(e,t),this},p.saveGraphicsState=function(){return X("q"),be.push({key:ue,size:te,color:Yt}),this},p.restoreGraphicsState=function(){X("Q");var e=be.pop();return ue=e.key,te=e.size,Yt=e.color,Ne=null,this},p.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},p.comment=function(e){return X("#"+e),this};var tr=function(e,t){var r=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var n=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},rr=function(e,t,r,n){tr.call(this,e,t),this.type="rect";var a=r||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var s=n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}}),this},nr=function(){this.page=ke,this.currentPage=O,this.pages=G.slice(0),this.pagesContext=Se.slice(0),this.x=pe,this.y=me,this.matrix=fe,this.width=ir(O),this.height=lr(O),this.outputDestination=$,this.id="",this.objectNumber=-1};nr.prototype.restore=function(){ke=this.page,O=this.currentPage,Se=this.pagesContext,G=this.pages,pe=this.x,me=this.y,fe=this.matrix,or(O,this.width),cr(O,this.height),$=this.outputDestination};var ar=function(e,t,r,n,a){De.push(new nr),ke=O=0,G=[],pe=e,me=t,fe=a,nt([r,n])};for(var sr in p.beginFormObject=function(e,t,r,n,a){return ar(e,t,r,n,a),this},p.endFormObject=function(e){return function(e){if(Ae[e])De.pop().restore();else{var t=new nr,r="Xo"+(Object.keys(Pe).length+1).toString(10);t.id=r,Ae[e]=r,Pe[r]=t,Ce.publish("addFormObject",t),De.pop().restore()}}(e),this},p.doFormObject=function(e,t){var r=Pe[Ae[e]];return X("q"),X(t.toString()+" cm"),X("/"+r.id+" Do"),X("Q"),this},p.getFormObject=function(e){var t=Pe[Ae[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Iu(ft(mt()),e),"function"==typeof Iu.unload&&Pu.setTimeout&&setTimeout(Iu.unload,911),this):new Promise(function(t,r){try{var a=Iu(ft(mt()),e);"function"==typeof Iu.unload&&Pu.setTimeout&&setTimeout(Iu.unload,911),t(a)}catch(n){r(n.message)}})},oh.API)oh.API.hasOwnProperty(sr)&&("events"===sr&&oh.API.events.length?function(e,t){var r,n,a;for(a=t.length-1;-1!==a;a--)r=t[a][0],n=t[a][1],e.subscribe.apply(e,[r].concat("function"==typeof n?[n]:n))}(Ce,oh.API.events):p[sr]=oh.API[sr]);function ir(e){return Se[e].mediaBox.topRightX-Se[e].mediaBox.bottomLeftX}function or(e,t){Se[e].mediaBox.topRightX=t+Se[e].mediaBox.bottomLeftX}function lr(e){return Se[e].mediaBox.topRightY-Se[e].mediaBox.bottomLeftY}function cr(e,t){Se[e].mediaBox.topRightY=t+Se[e].mediaBox.bottomLeftY}var dr=p.getPageWidth=function(e){return ir(e=e||O)/he},ur=p.setPageWidth=function(e,t){or(e,t*he)},hr=p.getPageHeight=function(e){return lr(e=e||O)/he},pr=p.setPageHeight=function(e,t){cr(e,t*he)};return p.internal={pdfEscape:rt,getStyle:kt,getFont:It,getFontSize:ne,getCharSpace:Xt,getTextColor:$t,getLineHeight:Ot,getLineHeightFactor:Ut,getLineWidth:Ft,write:Q,getHorizontalCoordinate:qt,getVerticalCoordinate:Wt,getCoordinateString:Ht,getVerticalCoordinateString:Vt,collections:{},newObject:Re,newAdditionalObject:Oe,newObjectDeferred:Fe,newObjectDeferredBegin:ze,getFilters:He,putStream:Ve,events:Ce,scaleFactor:he,pageSize:{getWidth:function(){return dr(O)},setWidth:function(e){ur(O,e)},getHeight:function(){return hr(O)},setHeight:function(e){pr(O,e)}},encryptionOptions:d,encryption:bt,getEncryptor:function(e){return null!==d?bt.encryptor(e,0):function(e){return e}},output:gt,getNumberOfPages:ot,get pages(){return G},out:X,f2:_,f3:P,getPageInfo:vt,getPageInfoByObjId:yt,getCurrentPageInfo:wt,getPDFVersion:f,Point:tr,Rectangle:rr,Matrix:Te,hasHotfix:xt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return dr(O)},set:function(e){ur(O,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return hr(O)},set:function(e){pr(O,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,r=ee.length;t<r;t++){var n=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(h[n]=!0);var a=e[t][0].split("-");et({id:n,fontName:a[0],fontStyle:a[1]||""})}Ce.publish("addFonts",{fonts:ge,dictionary:xe})}.call(p,ee),ue="F1",at(a,r),Ce.publish("initialized"),p}eh.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},eh.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},eh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},eh.prototype.processOwnerPassword=function(e,t){return Qu($u(t).substr(0,5),e)},eh.prototype.encryptor=function(e,t){var r=$u(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Qu(r,e)}},nh.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||(0,gi.A)(e)!==(0,gi.A)(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return 0===n},oh.API={events:[]},oh.version="3.0.4";var lh=oh.API,ch=1,dh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},hh=function(e){return e.toFixed(2)},ph=function(e){return e.toFixed(5)};lh.__acroform__={};var mh=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},fh=function(e){return e*ch},gh=function(e){var t=new Lh,r=Kh.internal.getHeight(e)||0,n=Kh.internal.getWidth(e)||0;return t.BBox=[0,0,Number(hh(n)),Number(hh(r))],t},xh=lh.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},bh=lh.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},vh=lh.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},yh=lh.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return vh(e,t-1)},wh=lh.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xh(e,t-1)},jh=lh.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bh(e,t-1)},Nh=lh.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(a+i)||0,l.upperRight_Y=n(s)||0,[Number(hh(l.lowerLeft_X)),Number(hh(l.lowerLeft_Y)),Number(hh(l.upperRight_X)),Number(hh(l.upperRight_Y))]},kh=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Sh(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+hh(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=gh(e);return s.scope=e.scope,s.stream=t.join("\n"),s}},Sh=function(e,t){var r=0===e.fontSize?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(e){return e.split("\n")}):a.map(function(e){return[e]});var s=r,i=Kh.internal.getHeight(e)||0;i=i<0?-i:i;var o=Kh.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,r,n){if(t+1<a.length){var s=r+" "+a[t+1][0];return Ch(s,e,n).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,d,u=Ch("3",e,s).height,h=e.multiline?i-s:(i-u)/2,p=h+=2,m=0,f=0,g=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+Ch(t,e,s=12).width+", FieldWidth:"+o+"\n";break}for(var x="",b=0,v=0;v<a.length;v++)if(a.hasOwnProperty(v)){var y=!1;if(1!==a[v].length&&g!==a[v].length-1){if((u+2)*(b+2)+2>i)continue e;x+=a[v][g],y=!0,f=v,v--}else{x=" "==(x+=a[v][g]+" ").substr(x.length-1)?x.substr(0,x.length-1):x;var w=parseInt(v),j=l(w,x,s),N=v>=a.length-1;if(j&&!N){x+=" ",g=0;continue}if(j||N){if(N)f=w;else if(e.multiline&&(u+2)*(b+2)+2>i)continue e}else{if(!e.multiline)continue e;if((u+2)*(b+2)+2>i)continue e;f=w}}for(var k="",S=m;S<=f;S++){var C=a[S];if(e.multiline){if(S===f){k+=C[g]+" ",g=(g+1)%C.length;continue}if(S===m){k+=C[C.length-1]+" ";continue}}k+=C[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,d=Ch(k,e,s).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=hh(c)+" "+hh(p)+" Td\n",t+="("+dh(k)+") Tj\n",t+=-hh(c)+" 0 Td\n",p=-(s+2),d=0,m=y?f:f+1,b++,x=""}break}return n.text=t,n.fontSize=s,n},Ch=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},_h={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ph=function(e,t){var r={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===r.type&&e.object===r.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Ah=lh.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(e){return e};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(0!==s&&(a+=" "),(0,gi.A)(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":"/"!==e[s].substr(0,1)?(void 0!==t&&r&&(n=r.internal.getEncryptor(t)),a+="("+dh(n(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Dh=function(e,t,r){var n=function(e){return e};return void 0!==t&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+dh(n(e))+")"},Th=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Th.prototype.toString=function(){return this.objId+" 0 R"},Th.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Th.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var r in t)if(!1===Object.getOwnPropertyDescriptor(this,t[r]).configurable){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Ah(a,this.objId,this.scope)}):a instanceof Th?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):"function"!=typeof a&&e.push({key:n,value:a}))}return e};var Lh=function(){Th.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};mh(Lh,Th);var Eh=function(){Th.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+dh(t(e))+")"}},set:function(t){e=t}})};mh(Eh,Th);var Ih=function e(){Th.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(t,3))},set:function(e){!0===Boolean(e)?this.F=wh(t,3):this.F=jh(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');r=e}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n.length)return n},set:function(e){n=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(e){n[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(e){n[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(e){n[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(e){n[3]=e}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof qh)return;s="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+dh(t(s))+")"},set:function(e){s=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(e){s=e}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/ch:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof qh||this instanceof Hh))return Dh(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Oh==0?Dh(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Oh==0?"("===e.substr(0,1)?uh(e.substr(1,e.length-2)):uh(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oh==1?uh(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Oh==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Oh==0?Dh(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof Oh==0?"("===e.substr(0,1)?uh(e.substr(1,e.length-2)):uh(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oh==1?uh(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof Oh==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){e=Boolean(e),f=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(e){m=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,1):this.Ff=jh(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,2):this.Ff=jh(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,3):this.Ff=jh(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};mh(Ih,Th);var Mh=function(){Ih.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ah(t,this.objId,this.scope)},set:function(e){var r,n;n=[],"string"==typeof(r=e)&&(n=function(e,t,r){r||(r=1);for(var n,a=[];n=t.exec(e);)a.push(n[r]);return a}(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,18):this.Ff=jh(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=wh(this.Ff,19):this.Ff=jh(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=wh(this.Ff,20),t.sort()):this.Ff=jh(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,22):this.Ff=jh(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,23):this.Ff=jh(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,27):this.Ff=jh(this.Ff,27)}}),this.hasAppearanceStream=!1};mh(Mh,Ih);var Rh=function(){Mh.call(this),this.fontName="helvetica",this.combo=!1};mh(Rh,Mh);var Fh=function(){Rh.call(this),this.combo=!0};mh(Fh,Rh);var zh=function(){Fh.call(this),this.edit=!0};mh(zh,Fh);var Oh=function(){Ih.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,15):this.Ff=jh(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,16):this.Ff=jh(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,17):this.Ff=jh(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,26):this.Ff=jh(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+dh(e(t[r]))+")");return n.push(">>"),n.join("\n")}},set:function(e){"object"===(0,gi.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};mh(Oh,Ih);var Bh=function(){Oh.call(this),this.pushButton=!0};mh(Bh,Oh);var Uh=function(){Oh.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};mh(Uh,Oh);var qh=function(){var e,t;Ih.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,r=[];for(t in r.push("<<"),n)r.push("/"+t+" ("+dh(e(n[t]))+")");return r.push(">>"),r.join("\n")},set:function(e){"object"===(0,gi.A)(e)&&(n=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){"string"==typeof e&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Kh.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};mh(qh,Ih),Uh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Uh.prototype.createOption=function(e){var t=new qh;return t.Parent=this,t.optionName=e,this.Kids.push(t),Gh.call(this.scope,t),t};var Wh=function(){Oh.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Kh.CheckBox.createAppearanceStream()};mh(Wh,Oh);var Hh=function(){Ih.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,13):this.Ff=jh(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,21):this.Ff=jh(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,23):this.Ff=jh(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,24):this.Ff=jh(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,25):this.Ff=jh(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,26):this.Ff=jh(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};mh(Hh,Ih);var Vh=function(){Hh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(yh(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=wh(this.Ff,14):this.Ff=jh(this.Ff,14)}}),this.password=!0};mh(Vh,Hh);var Kh={CheckBox:{createAppearanceStream:function(){return{N:{On:Kh.CheckBox.YesNormal},D:{On:Kh.CheckBox.YesPushDown,Off:Kh.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=Sh(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+hh(Kh.internal.getWidth(e))+" "+hh(Kh.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+hh(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join("\n"),t},YesNormal:function(e){var t=gh(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=Kh.internal.getHeight(e),i=Kh.internal.getWidth(e),o=Sh(e,e.caption);return a.push("1 g"),a.push("0 0 "+hh(i)+" "+hh(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+hh(i-1)+" "+hh(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+hh(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hh(Kh.internal.getWidth(e))+" "+hh(Kh.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Kh.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Kh.RadioButton.Circle.YesNormal,t.D[e]=Kh.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=gh(e);t.scope=e.scope;var r=[],n=Kh.internal.getWidth(e)<=Kh.internal.getHeight(e)?Kh.internal.getWidth(e)/4:Kh.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Kh.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ph(Kh.internal.getWidth(e)/2)+" "+ph(Kh.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=[],n=Kh.internal.getWidth(e)<=Kh.internal.getHeight(e)?Kh.internal.getWidth(e)/4:Kh.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Kh.internal.Bezier_C).toFixed(5)),i=Number((n*Kh.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ph(Kh.internal.getWidth(e)/2)+" "+ph(Kh.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ph(Kh.internal.getWidth(e)/2)+" "+ph(Kh.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=[],n=Kh.internal.getWidth(e)<=Kh.internal.getHeight(e)?Kh.internal.getWidth(e)/4:Kh.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Kh.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ph(Kh.internal.getWidth(e)/2)+" "+ph(Kh.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Kh.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Kh.RadioButton.Cross.YesNormal,t.D[e]=Kh.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=gh(e);t.scope=e.scope;var r=[],n=Kh.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+hh(Kh.internal.getWidth(e)-2)+" "+hh(Kh.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(hh(n.x1.x)+" "+hh(n.x1.y)+" m"),r.push(hh(n.x2.x)+" "+hh(n.x2.y)+" l"),r.push(hh(n.x4.x)+" "+hh(n.x4.y)+" m"),r.push(hh(n.x3.x)+" "+hh(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=Kh.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+hh(Kh.internal.getWidth(e))+" "+hh(Kh.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+hh(Kh.internal.getWidth(e)-2)+" "+hh(Kh.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(hh(r.x1.x)+" "+hh(r.x1.y)+" m"),n.push(hh(r.x2.x)+" "+hh(r.x2.y)+" l"),n.push(hh(r.x4.x)+" "+hh(r.x4.y)+" m"),n.push(hh(r.x3.x)+" "+hh(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hh(Kh.internal.getWidth(e))+" "+hh(Kh.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Kh.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Kh.internal.getWidth(e),r=Kh.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Kh.internal.getWidth=function(e){var t=0;return"object"===(0,gi.A)(e)&&(t=fh(e.Rect[2])),t},Kh.internal.getHeight=function(e){var t=0;return"object"===(0,gi.A)(e)&&(t=fh(e.Rect[3])),t};var Gh=lh.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Ih.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(_h)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ch=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Eh,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];n.objId=void 0,n.hasAnnotation&&Ph(n,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var r=!e;for(var n in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(n)){var a=e[n],s=[],i=a.Rect;if(a.Rect&&(a.Rect=Nh(a.Rect,t)),t.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Kh.createDefaultAppearanceStream(a),"object"===(0,gi.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(s=a.getKeyValueListForStream()),a.Rect=i,a.hasAppearanceStream&&!a.appearanceStreamContent){var o=kh(a);s.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(a.appearanceStreamContent){var l="";for(var c in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(c)){var d=a.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var n in d)if(d.hasOwnProperty(n)){var u=d[n];"function"==typeof u&&(u=u.call(t,a)),l+="/"+n+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,a)),l+="/"+n+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:s,objectId:a.objId}),t.internal.out("endobj")}r&&function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),"object"===(0,gi.A)(a)&&"function"==typeof a.putStream&&a.putStream(),delete e[n]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof Ih))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};lh.AcroFormChoiceField=Mh,lh.AcroFormListBox=Rh,lh.AcroFormComboBox=Fh,lh.AcroFormEditBox=zh,lh.AcroFormButton=Oh,lh.AcroFormPushButton=Bh,lh.AcroFormRadioButton=Uh,lh.AcroFormCheckBox=Wh,lh.AcroFormTextField=Hh,lh.AcroFormPasswordField=Vh,lh.AcroFormAppearance=Kh,lh.AcroForm={ChoiceField:Mh,ListBox:Rh,ComboBox:Fh,EditBox:zh,Button:Oh,PushButton:Bh,RadioButton:Uh,CheckBox:Wh,TextField:Hh,PasswordField:Vh,Appearance:Kh},oh.AcroForm={ChoiceField:Mh,ListBox:Rh,ComboBox:Fh,EditBox:zh,Button:Oh,PushButton:Bh,RadioButton:Uh,CheckBox:Wh,TextField:Hh,PasswordField:Vh,Appearance:Kh};oh.AcroForm;function Yh(e){return e.reduce(function(e,t,r){return e[t]=r,e},{})}!function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(e,t){var a,s,i,o,l,c=r;if("RGBA"===(t=t||r)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(j(e))for(l in n)for(i=n[l],a=0;a<i.length;a+=1){for(o=!0,s=0;s<i[a].length;s+=1)if(void 0!==i[a][s]&&i[a][s]!==e[s]){o=!1;break}if(!0===o){c=l;break}}else for(l in n)for(i=n[l],a=0;a<i.length;a+=1){for(o=!0,s=0;s<i[a].length;s+=1)if(void 0!==i[a][s]&&i[a][s]!==e.charCodeAt(s)){o=!1;break}if(!0===o){c=l;break}}return c===r&&t!==r&&(c=t),c},s=function e(t){for(var r=this.internal.write,n=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.width}),s.push({key:"Height",value:t.height}),t.colorSpace===x.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===x.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var i="",o=0,l=t.transparency.length;o<l;o++)i+=t.transparency[o]+" "+t.transparency[o]+" ";s.push({key:"Mask",value:"["+i+"]"})}void 0!==t.sMask&&s.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(n({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:t.objectId}),r("endobj"),"sMask"in t&&void 0!==t.sMask){var d,u=null!==(d=t.sMaskBitsPerComponent)&&void 0!==d?d:t.bitsPerComponent,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:u,data:t.sMask};"filter"in t&&(h.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(u," /Columns ").concat(t.width),h.filter=t.filter),e.call(this,h)}if(t.colorSpace===x.INDEXED){var p=this.internal.newObject();n({data:k(new Uint8Array(t.palette)),objectId:p}),r("endobj")}},i=function(){var e=this.internal.collections[t+"images"];for(var r in e)s.call(this,e[r])},o=function(){var e,r=this.internal.collections[t+"images"],n=this.internal.write;for(var a in r)n("/I"+(e=r[a]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,gi.A)(e)&&1===e.nodeType},p=function(t,r){if("IMG"===t.nodeName&&t.hasAttribute("src")){var n=""+t.getAttribute("src");if(0===n.indexOf("data:image/"))return Ru(unescape(n).split("base64,").pop());var a=e.loadFile(n,!0);if(void 0!==a)return a}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var s;switch(r){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return Ru(t.toDataURL(s,1).split("base64,").pop())}},m=function(e){var r=this.internal.collections[t+"images"];if(r)for(var n in r)if(e===r[n].alias)return r[n]},f=function(e,t,r){return e||t||(e=-96,t=-96),e<0&&(e=-1*r.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*r.height*72/t/this.internal.scaleFactor),0===e&&(e=t*r.width/r.height),0===t&&(t=e*r.height/r.width),[e,t]},g=function(e,t,r,n,a,s){var i=f.call(this,r,n,a),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(r=i[0],n=i[1],d[a.index]=a,s){s*=Math.PI/180;var u=Math.cos(s),h=Math.sin(s),p=function(e){return e.toFixed(4)},m=[p(u),p(h),p(-1*h),p(u),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,o(e),l(t+n),"cm"].join(" ")),this.internal.write(m.join(" ")),this.internal.write([o(r),"0","0",o(n),"0","0","cm"].join(" "))):this.internal.write([o(r),"0","0",o(n),o(e),l(t+n),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(e){var t,r,n=0;if("string"==typeof e)for(r=e.length,t=0;t<r;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;else if(j(e))for(r=e.byteLength/2,t=0;t<r;t++)n=(n<<5)-n+e[t],n|=0;return n},y=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},N=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",r=j(e)?e:new Uint8Array(e),n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,r.subarray(n,n+8192));return t};e.addImage=function(){var e,t,n,a,s,i,o,c,d;if("number"==typeof arguments[1]?(t=r,n=arguments[1],a=arguments[2],s=arguments[3],i=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7]):(t=arguments[1],n=arguments[2],a=arguments[3],s=arguments[4],i=arguments[5],o=arguments[6],c=arguments[7],d=arguments[8]),"object"===(0,gi.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||r,n=u.x||n||0,a=u.y||a||0,s=u.w||u.width||s,i=u.h||u.height||i,o=u.alias||o,c=u.compression||c,d=u.rotation||u.angle||d}var p=this.internal.getFilters();if(void 0===c&&-1!==p.indexOf("FlateEncode")&&(c="SLOW"),isNaN(n)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var m=S.call(this,e,t,o,c);return g.call(this,n,a,s,i,m,d),this};var S=function(t,n,s,i){var o,l,c;if("string"==typeof t&&a(t)===r){t=unescape(t);var f=C(t,!1);(""!==f||void 0!==(f=e.loadFile(t,!0)))&&(t=f)}if(h(t)&&(t=p(t,n)),n=a(t,n),!u(n))throw new Error("addImage does not support files of type '"+n+"', please ensure that a plugin for '"+n+"' support is added.");if((null==(c=s)||0===c.length)&&(s=function(e){return"string"==typeof e||j(e)?v(e):j(e.data)?v(e.data):null}(t)),(o=m.call(this,s))||(t instanceof Uint8Array||"RGBA"===n||(l=t,t=N(t)),o=this["process"+n.toUpperCase()](t,d.call(this),s,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:b.NONE}(i),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},C=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var r,n="";if("string"==typeof e){var s;r=null!==(s=w(e))&&void 0!==s?s:e;try{n=Ru(r)}catch(a){if(t)throw y(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+a.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return n};e.getImageProperties=function(t){var n,s,i="";if(h(t)&&(t=p(t)),"string"==typeof t&&a(t)===r&&(""===(i=C(t,!1))&&(i=e.loadFile(t)||""),t=i),s=a(t),!u(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(t instanceof Uint8Array||(t=N(t)),!(n=this["process"+s.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return n.fileType=s,n}}(oh.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};oh.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var r,n,a,s=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((r=l[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){r=l[u];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),x=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(n="/Rect ["+s(r.bounds.x)+" "+i(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+i(r.bounds.y)+"] ")+"/Contents ("+h(g(r.contents))+")",a+=" /Popup "+f.objId+" 0 R",a+=" /P "+o.objId+" 0 R",a+=" /T ("+h(g(x))+") >>",m.content=a;var b=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+s(r.bounds.x+30)+" "+i(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+i(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(a+=" /Open true"),a+=" >>",f.content=a,this.internal.write(m.objId,"0 R",f.objId,"0 R");break;case"freetext":n="/Rect ["+s(r.bounds.x)+" "+i(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+i(r.bounds.y+r.bounds.h)+"] ";var v=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(p(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var y=this.annotations._nameMap[r.options.name];r.options.pageNumber=y.page,r.options.top=y.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var w=i(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+w+" "+r.options.zoom+"]"}""!=a&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,r,n,a){var s=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:i(e),y:o(t),w:i(e+r),h:o(t+n)},options:a,type:"link"})},e.textWithLink=function(e,t,r,n){var a,s,i=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==n.maxWidth){s=n.maxWidth;var l=this.splitTextToSize(e,s).length;a=Math.ceil(o*l)}else s=i,a=o;return this.text(e,t,r,n),r+=.2*o,"center"===n.align&&(t-=i/2),"right"===n.align&&(t-=i),this.link(t,r-o,s,a,n),i},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(oh.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},i=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return i(e)&&a.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return i(e)&&s(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,n=r,a="",s=0;for(t=0;t<e.length;t+=1)void 0!==n[e.charCodeAt(t)]?(s++,"number"==typeof(n=n[e.charCodeAt(t)])&&(a+=String.fromCharCode(n),n=r,s=0),t===e.length-1&&(n=r,a+=e.charAt(t-(s-1)),t-=s-1,s=0)):(n=r,a+=e.charAt(t-s),t-=s,s=0);return a};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==n[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,r){return i(e)?!1===s(e)?-1:!c(e)||!i(t)&&!i(r)||!i(r)&&o(t)||o(e)&&!i(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&i(t)&&!o(t)&&i(r)&&c(r)?3:o(e)||!i(r)?1:2:-1},p=function(e){var r=0,n=0,a=0,s="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(r=0;r<c.length;r+=1){for(d.push(""),n=0;n<c[r].length;n+=1)s=c[r][n],o=c[r][n-1],l=c[r][n+1],i(s)?(a=h(s,o,l),d[r]+=-1!==a?String.fromCharCode(t[s.charCodeAt(0)][a]):s):d[r]+=s;d[r]=u(d[r])}return d.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,r=[];if(Array.isArray(t)){var n=0;for(r=[],n=0;n<t.length;n+=1)Array.isArray(t[n])?r.push([p(t[n][0]),t[n][1],t[n][2]]):r.push([p(t[n])]);e=r}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",m])}(oh.API),oh.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(e){r=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var n=[];Object.defineProperty(this,"childNodes",{get:function(){return n},set:function(e){n=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var r;if("2d"!==(e=e||"2d"))return null;for(r in t)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=t[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(oh.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var r=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var n=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var i=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return i},set:function(e){i=e}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return n.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){n.call(this);var r=(t=t||{}).fontSize||this.getFontSize(),a=t.font||this.getFont(),s=t.scaleFactor||this.internal.scaleFactor,i=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)i<(l=this.getStringUnitWidth(e[u],{font:a})*r)&&(i=l);return 0!==i&&(o=e.length),{w:i/=s,h:Math.max((o*r*this.getLineHeightFactor()-r*(this.getLineHeightFactor()-1))/s,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var e;e=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var a=this.internal.__cell__.lastCell,i=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==a.lineNumber&&(a.lineNumber===e.lineNumber?(e.x=(a.x||0)+(a.width||0),e.y=a.y||0):a.y+a.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=a.y+a.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===r?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-i,e.y+i,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+i,{align:"center",baseline:"top",maxWidth:e.width-i-i}):this.text(e.text,e.x+i,e.y+i,{align:"left",baseline:"top",maxWidth:e.width-i-i})),this.internal.__cell__.lastCell=e,this};e.table=function(e,r,l,c,d){if(n.call(this),!l)throw new Error("No data for PDF table.");var u,h,p,m,f=[],g=[],x=[],b={},v={},y=[],w=[],j=(d=d||{}).autoSize||!1,N=!1!==d.printHeaders,k=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,S=d.margins||Object.assign({width:this.getPageWidth()},t),C="number"==typeof d.padding?d.padding:3,_=d.headerBackgroundColor||"#c8c8c8",P=d.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=_,this.internal.__cell__.headerTextColor=P,this.setFontSize(k),null==c)g=f=Object.keys(l[0]),x=f.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,gi.A)(c[0]))for(f=c.map(function(e){return e.name}),g=c.map(function(e){return e.prompt||e.name||""}),x=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)v[c[u].name]=.7499990551181103*c[u].width;else Array.isArray(c)&&"string"==typeof c[0]&&(g=f=c,x=f.map(function(){return"left"}));if(j||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<f.length;u+=1){for(b[m=f[u]]=l.map(function(e){return e[m]}),this.setFont(void 0,"bold"),y.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=b[m],this.setFont(void 0,"normal"),p=0;p<h.length;p+=1)y.push(this.getTextDimensions(h[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[m]=Math.max.apply(null,y)+C+C,y=[]}if(N){var A={};for(u=0;u<f.length;u+=1)A[f[u]]={},A[f[u]].text=g[u],A[f[u]].align=x[u];var D=o.call(this,A,v);w=f.map(function(t){return new s(e,r,v[t],D,A[t].text,void 0,A[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var T=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var L=o.call(this,l[u],v);for(p=0;p<f.length;p+=1){var E=l[u][f[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:p,data:E},this),i.call(this,new s(e,r,v[f[p]],L,E,u+2,T[f[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=r,this};var o=function(e,t){var r=this.internal.__cell__.padding,n=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(e).map(function(n){var a=e[n];return this.splitTextToSize(a.hasOwnProperty("text")?a.text:a,t[n]-r-r)},this).map(function(e){return this.getLineHeightFactor()*e.length*n/a+r+r},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){n.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var a;if(r=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){a=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(a.y=this.internal.__cell__.margins.top||0,l.push(a)),a.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,a),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),r=!1}}(oh.API);var $h={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Jh=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xh=Yh(Jh),Qh=[100,200,300,400,500,600,700,800,900],Zh=Yh(Qh);function ep(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(e){return $h[e=e||"normal"]?e:"normal"}(e.style),n=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof Xh[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function tp(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var rp={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},np={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ap(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function sp(e){return e.trimLeft()}function ip(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function op(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var lp,cp,dp,up,hp,pp,mp,fp,gp,xp=["times"];function bp(e,t,r,n,a){var s=4,i=wp;switch(a){case oh.API.image_compression.FAST:s=1,i=yp;break;case oh.API.image_compression.MEDIUM:s=6,i=jp;break;case oh.API.image_compression.SLOW:s=9,i=Np}e=function(e,t,r,n){for(var a,s=e.length/t,i=new Uint8Array(e.length+s),o=[vp,yp,wp,jp,Np],l=0;l<s;l+=1){var c=l*t,d=e.subarray(c,c+t);if(n)i.set(n(d,r,a),c+l);else{for(var u=o.length,h=[],p=0;p<u;p+=1)h[p]=o[p](d,r,a);var m=Sp(h.concat());i.set(h[m],c+l)}a=d}return i}(e,t,Math.ceil(r*n/8),i);var o=eo(e,{level:s});return oh.API.__addimage__.arrayBufferToBinaryString(o)}function vp(e){var t=Array.apply([],e);return t.unshift(0),t}function yp(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=e[a-t]||0;n[a+1]=e[a]-s+256&255}return n}function wp(e,t,r){var n=e.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var i=r&&r[s]||0;a[s+1]=e[s]-i+256&255}return a}function jp(e,t,r){var n=e.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var i=e[s-t]||0,o=r&&r[s]||0;a[s+1]=e[s]+256-(i+o>>>1)&255}return a}function Np(e,t,r){var n=e.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var i=kp(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);a[s+1]=e[s]-i+256&255}return a}function kp(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=a&&n<=s?e:a<=s?t:r}function Sp(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function Cp(e,t,r){var n=t*r,a=Math.floor(n/8),s=16-(n-8*a+r),i=(1<<r)-1;return Pp(e,a)>>s&i}function _p(e,t,r,n){var a=r*n,s=Math.floor(a/8),i=16-(a-8*s+n),o=(1<<n)-1,l=(t&o)<<i;!function(e,t,r){if(t+1<e.byteLength)e.setUint16(t,r,!1);else{var n=r>>8&255;e.setUint8(t,n)}}(e,s,Pp(e,s)&~(o<<i)&65535|l)}function Pp(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Ap(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,i=1<<1+(7&a);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=i,t+=3*i);var c=!0,d=[],u=0,h=null,p=0,m=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var f=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],1&f||(h=null),p=f>>2&7,t++;break;case 254:for(;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++],w=y>>6&1,j=1<<1+(7&y),N=o,k=l,S=!1;y>>7&&(S=!0,N=t,k=j,t+=3*j);var C=t;for(t++;;){var _;if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}d.push({x:g,y:x,width:b,height:v,has_local_palette:S,palette_offset:N,palette_size:k,data_offset:C,data_length:t-C,transparent_index:h,interlaced:!!w,delay:u,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,n){var a=this.frameInfo(t),s=a.width*a.height,i=new Uint8Array(s);Dp(e,a.data_offset,i,s);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=r-c,u=c,h=4*(a.y*r+a.x),p=4*((a.y+a.height)*r+a.x),m=h,f=4*d;!0===a.interlaced&&(f+=4*r*7);for(var g=8,x=0,b=i.length;x<b;++x){var v=i[x];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*r*(g-1),m=h+(c+d)*(g<<1),g>>=1)),v===l)m+=4;else{var y=e[o+3*v],w=e[o+3*v+1],j=e[o+3*v+2];n[m++]=j,n[m++]=w,n[m++]=y,n[m++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,n){var a=this.frameInfo(t),s=a.width*a.height,i=new Uint8Array(s);Dp(e,a.data_offset,i,s);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=r-c,u=c,h=4*(a.y*r+a.x),p=4*((a.y+a.height)*r+a.x),m=h,f=4*d;!0===a.interlaced&&(f+=4*r*7);for(var g=8,x=0,b=i.length;x<b;++x){var v=i[x];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*r*(g-1),m=h+(c+d)*(g<<1),g>>=1)),v===l)m+=4;else{var y=e[o+3*v],w=e[o+3*v+1],j=e[o+3*v+2];n[m++]=y,n[m++]=w,n[m++]=j,n[m++]=255}--u}}}function Dp(e,t,r,n){for(var a=e[t++],s=1<<a,i=s+1,o=i+1,l=a+1,c=(1<<l)-1,d=0,u=0,h=0,p=e[t++],m=new Int32Array(4096),f=null;;){for(;d<16&&0!==p;)u|=e[t++]<<d,d+=8,1===p?p=e[t++]:--p;if(d<l)break;var g=u&c;if(u>>=l,d-=l,g!==s){if(g===i)break;for(var x=g<o?g:f,b=0,v=x;v>s;)v=m[v]>>8,++b;var y=v;if(h+b+(x!==g?1:0)>n)return void Du.log("Warning, gif stream longer than expected.");r[h++]=y;var w=h+=b;for(x!==g&&(r[h++]=y),v=x;b--;)v=m[v],r[--w]=255&v,v>>=8;null!==f&&o<4096&&(m[o++]=f<<8|y,o>=c+1&&l<12&&(++l,c=c<<1|1)),f=g}else o=i+1,c=(1<<(l=a+1))-1,f=null}return h!==n&&Du.log("Warning, gif stream shorter than expected."),r}function Tp(e){var t,r,n,a,s,i=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),f=[],g=0,x=7,b=new Array(64),v=new Array(64),y=new Array(64),w=new Array(256),j=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(e,t){for(var r=0,n=0,a=new Array,s=1;s<=16;s++){for(var i=1;i<=e[s];i++)a[t[n]]=[],a[t[n]][0]=r,a[t[n]][1]=s,n++,r++;r*=2}return a}function E(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(g|=1<<x),r--,--x<0&&(255==g?(I(255),I(0)):I(g),x=7,g=0)}function I(e){f.push(e)}function M(e){I(e>>8&255),I(255&e)}function R(e,t,r,n,a){for(var s,i=a[0],o=a[240],l=function(e,t){var r,n,a,s,i,o,l,c,d,u,h=0;for(d=0;d<8;++d){r=e[h],n=e[h+1],a=e[h+2],s=e[h+3],i=e[h+4],o=e[h+5],l=e[h+6];var m=r+(c=e[h+7]),f=r-c,g=n+l,x=n-l,b=a+o,v=a-o,y=s+i,w=s-i,j=m+y,N=m-y,k=g+b,S=g-b;e[h]=j+k,e[h+4]=j-k;var C=.707106781*(S+N);e[h+2]=N+C,e[h+6]=N-C;var _=.382683433*((j=w+v)-(S=x+f)),P=.5411961*j+_,A=1.306562965*S+_,D=.707106781*(k=v+x),T=f+D,L=f-D;e[h+5]=L+P,e[h+3]=L-P,e[h+1]=T+A,e[h+7]=T-A,h+=8}for(h=0,d=0;d<8;++d){r=e[h],n=e[h+8],a=e[h+16],s=e[h+24],i=e[h+32],o=e[h+40],l=e[h+48];var E=r+(c=e[h+56]),I=r-c,M=n+l,R=n-l,F=a+o,z=a-o,O=s+i,B=s-i,U=E+O,q=E-O,W=M+F,H=M-F;e[h]=U+W,e[h+32]=U-W;var V=.707106781*(H+q);e[h+16]=q+V,e[h+48]=q-V;var K=.382683433*((U=B+z)-(H=R+I)),G=.5411961*U+K,Y=1.306562965*H+K,$=.707106781*(W=z+R),J=I+$,X=I-$;e[h+40]=X+G,e[h+24]=X-G,e[h+8]=J+Y,e[h+56]=J-Y,h++}for(d=0;d<64;++d)u=e[d]*t[d],p[d]=u>0?u+.5|0:u-.5|0;return p}(e,t),c=0;c<64;++c)m[N[c]]=l[c];var d=m[0]-r;r=m[0],0==d?E(n[0]):(E(n[h[s=32767+d]]),E(u[s]));for(var f=63;f>0&&0==m[f];)f--;if(0==f)return E(i),r;for(var g,x=1;x<=f;){for(var b=x;0==m[x]&&x<=f;)++x;var v=x-b;if(v>=16){g=v>>4;for(var y=1;y<=g;++y)E(o);v&=15}s=32767+m[x],E(a[(v<<4)+h[s]]),E(u[s]),x++}return 63!=f&&E(i),r}function F(e){e=Math.min(Math.max(e,1),100),s!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=i((t[r]*e+50)/100);n=Math.min(Math.max(n,1),255),o[N[r]]=n}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var u=i((a[s]*e+50)/100);u=Math.min(Math.max(u,1),255),l[N[s]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,m=0;m<8;m++)for(var f=0;f<8;f++)c[p]=1/(o[N[p]]*h[m]*h[f]*8),d[p]=1/(l[N[p]]*h[m]*h[f]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){s&&F(s),f=new Array,g=0,x=7,M(65496),M(65504),M(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),M(1),M(1),I(0),I(0),function(){M(65499),M(132),I(0);for(var e=0;e<64;e++)I(o[e]);I(1);for(var t=0;t<64;t++)I(l[t])}(),function(e,t){M(65472),M(17),I(8),M(t),M(e),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(e.width,e.height),function(){M(65476),M(418),I(0);for(var e=0;e<16;e++)I(k[e+1]);for(var t=0;t<=11;t++)I(S[t]);I(16);for(var r=0;r<16;r++)I(C[r+1]);for(var n=0;n<=161;n++)I(_[n]);I(1);for(var a=0;a<16;a++)I(P[a+1]);for(var s=0;s<=11;s++)I(A[s]);I(17);for(var i=0;i<16;i++)I(D[i+1]);for(var o=0;o<=161;o++)I(T[o])}(),M(65498),M(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var i=0,u=0,h=0;g=0,x=7,this.encode.displayName="_encode_";for(var p,m,w,N,L,z,O,B,U,q=e.data,W=e.width,H=e.height,V=4*W,K=0;K<H;){for(p=0;p<V;){for(L=V*K+p,O=-1,B=0,U=0;U<64;U++)z=L+(B=U>>3)*V+(O=4*(7&U)),K+B>=H&&(z-=V*(K+1+B-H)),p+O>=V&&(z-=p+O-V+4),m=q[z++],w=q[z++],N=q[z++],b[U]=(j[m]+j[w+256|0]+j[N+512|0]>>16)-128,v[U]=(j[m+768|0]+j[w+1024|0]+j[N+1280|0]>>16)-128,y[U]=(j[m+1280|0]+j[w+1536|0]+j[N+1792|0]>>16)-128;i=R(b,c,i,t,n),u=R(v,d,u,r,a),h=R(y,d,h,r,a),p+=32}K+=8}if(x>=0){var G=[];G[1]=x+1,G[0]=(1<<x+1)-1,E(G)}return M(65497),new Uint8Array(f)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=L(k,S),r=L(P,A),n=L(C,_),a=L(D,T),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var n=e;n<t;n++)h[32767+n]=r,u[32767+n]=[],u[32767+n][1]=r,u[32767+n][0]=n;for(var a=-(t-1);a<=-e;a++)h[32767+a]=r,u[32767+a]=[],u[32767+a][1]=r,u[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)j[e]=19595*e,j[e+256|0]=38470*e,j[e+512|0]=7471*e+32768,j[e+768|0]=-11059*e,j[e+1024|0]=-21709*e,j[e+1280|0]=32768*e+8421375,j[e+1536|0]=-27439*e,j[e+1792|0]=-5329*e}(),F(e)}function Lp(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ep(e){function t(e){if(!e)throw Error("assert :P")}function r(e,t,r){for(var n=0;4>n;n++)if(e[t+n]!=r.charCodeAt(n))return!0;return!1}function n(e,t,r,n,a){for(var s=0;s<a;s++)e[t+s]=r[n+s]}function a(e,t,r,n){for(var a=0;a<n;a++)e[t+a]=r}function s(e){return new Int32Array(e)}function i(e,t){for(var r=[],n=0;n<e;n++)r.push(new t);return r}function o(e,t){var r=[];return function e(r,n,a){for(var s=a[n],i=0;i<s&&(r.push(a.length>n+1?[]:new t),!(a.length<n+1));i++)e(r[i],n+1,a)}(r,0,e),r}var l=function(){var e=this;function l(e,t){for(var r=1<<t-1>>>0;e&r;)r>>>=1;return r?(e&r-1)+r:e}function c(e,r,n,a,s){t(!(a%n));do{e[r+(a-=n)]=s}while(0<a)}function d(e,r,n,a,i){if(t(2328>=i),512>=i)var o=s(512);else if(null==(o=s(i)))return 0;return function(e,r,n,a,i,o){var d,h,p=r,m=1<<n,f=s(16),g=s(16);for(t(0!=i),t(null!=a),t(null!=e),t(0<n),h=0;h<i;++h){if(15<a[h])return 0;++f[a[h]]}if(f[0]==i)return 0;for(g[1]=0,d=1;15>d;++d){if(f[d]>1<<d)return 0;g[d+1]=g[d]+f[d]}for(h=0;h<i;++h)d=a[h],0<a[h]&&(o[g[d]++]=h);if(1==g[15])return(a=new u).g=0,a.value=o[0],c(e,p,1,m,a),m;var x,b=-1,v=m-1,y=0,w=1,j=1,N=1<<n;for(h=0,d=1,i=2;d<=n;++d,i<<=1){if(w+=j<<=1,0>(j-=f[d]))return 0;for(;0<f[d];--f[d])(a=new u).g=d,a.value=o[h++],c(e,p+y,i,N,a),y=l(y,d)}for(d=n+1,i=2;15>=d;++d,i<<=1){if(w+=j<<=1,0>(j-=f[d]))return 0;for(;0<f[d];--f[d]){if(a=new u,(y&v)!=b){for(p+=N,x=1<<(b=d)-n;15>b&&!(0>=(x-=f[b]));)++b,x<<=1;m+=N=1<<(x=b-n),e[r+(b=y&v)].g=x+n,e[r+b].value=p-r-b}a.g=d-n,a.value=o[h++],c(e,p+(y>>n),i,N,a),y=l(y,d)}}return w!=2*g[15]-1?0:m}(e,r,n,a,i,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function p(){this.G=i(5,u),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Fr,h)}function m(e,r,n,a){t(null!=e),t(null!=r),t(2147483648>a),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=r,e.pa=n,e.Jd=r,e.Yc=n+a,e.Zc=4<=a?n+a-4+1:n,C(e)}function f(e,t){for(var r=0;0<t--;)r|=P(e,128)<<t;return r}function g(e,t){var r=f(e,t);return _(e)?-r:r}function x(e,r,n,a){var s,i=0;for(t(null!=e),t(null!=r),t(4294967288>a),e.Sb=a,e.Ra=0,e.u=0,e.h=0,4<a&&(a=4),s=0;s<a;++s)i+=r[n+s]<<8*s;e.Ra=i,e.bb=a,e.oa=r,e.pa=n}function b(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Br-8>>>0,++e.bb,e.u-=8;N(e)&&(e.h=1,e.u=0)}function v(e,r){if(t(0<=r),!e.h&&r<=Or){var n=j(e)&zr[r];return e.u+=r,b(e),n}return e.h=1,e.u=0}function y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(e){return e.Ra>>>(e.u&Br-1)>>>0}function N(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Br}function k(e,t){e.u=t,e.h=N(e)}function S(e){e.u>=Ur&&(t(e.u>=Ur),b(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function _(e){return f(e,1)}function P(e,t){var r=e.Ca;0>e.b&&C(e);var n=e.b,a=r*t>>>8,s=(e.I>>>n>a)+0;for(s?(r-=a,e.I-=a+1<<n>>>0):r=a+1,n=r,a=0;256<=n;)a+=8,n>>=8;return n=7^a+qr[n],e.b-=n,e.Ca=(r<<n)-1,s}function A(e,t,r){e[t+0]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function D(e,t){return e[t+0]|e[t+1]<<8}function T(e,t){return D(e,t)|e[t+2]<<16}function L(e,t){return D(e,t)|D(e,t+2)<<16}function E(e,r){var n=1<<r;return t(null!=e),t(0<r),e.X=s(n),null==e.X?0:(e.Mb=32-r,e.Xa=r,1)}function I(e,r){t(null!=e),t(null!=r),t(e.Xa==r.Xa),n(r.X,0,e.X,0,1<<r.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function R(e,r,n,a){t(null!=n),t(null!=a);var s=n[0],i=a[0];return 0==s&&(s=(e*i+r/2)/r),0==i&&(i=(r*s+e/2)/e),0>=s||0>=i?0:(n[0]=s,a[0]=i,1)}function F(e,t){return e+(1<<t)-1>>>t}function z(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function O(t,r){e[r]=function(r,n,a,s,i,o,l){var c;for(c=0;c<i;++c){var d=e[t](o[l+c-1],a,s+c);o[l+c]=z(r[n+c],d)}}}function B(){this.ud=this.hd=this.jd=0}function U(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function q(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function W(e,t){return q(e+(e-t+.5>>1))}function H(e,t,r){return Math.abs(t-r)-Math.abs(e-r)}function V(e,t,r,n,a,s,i){for(n=s[i-1],r=0;r<a;++r)s[i+r]=n=z(e[t+r],n)}function K(e,t,r,n,a){var s;for(s=0;s<r;++s){var i=e[t+s],o=i>>8&255,l=16711935&(l=(l=16711935&i)+((o<<16)+o));n[a+s]=(4278255360&i)+l>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function Y(e,t,r,n,a,s){var i;for(i=0;i<n;++i){var o=t[r+i],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),a[s+i]=(4278255360&o)+(d<<16)+c}}function $(t,r,n,a,s){e[r]=function(e,t,r,n,i,o,l,c,d){for(n=l;n<c;++n)for(l=0;l<d;++l)i[o++]=s(r[a(e[t++])])},e[t]=function(t,r,i,o,l,c,d){var u=8>>t.b,h=t.Ea,p=t.K[0],m=t.w;if(8>u)for(t=(1<<t.b)-1,m=(1<<u)-1;r<i;++r){var f,g=0;for(f=0;f<h;++f)f&t||(g=a(o[l++])),c[d++]=s(p[g&m]),g>>=u}else e["VP8LMapColor"+n](o,l,p,m,c,d,r,i,h)}}function J(e,t,r,n,a){for(r=t+r;t<r;){var s=e[t++];n[a++]=s>>16&255,n[a++]=s>>8&255,n[a++]=255&s}}function X(e,t,r,n,a){for(r=t+r;t<r;){var s=e[t++];n[a++]=s>>16&255,n[a++]=s>>8&255,n[a++]=255&s,n[a++]=s>>24&255}}function Q(e,t,r,n,a){for(r=t+r;t<r;){var s=(i=e[t++])>>16&240|i>>12&15,i=240&i|i>>28&15;n[a++]=s,n[a++]=i}}function Z(e,t,r,n,a){for(r=t+r;t<r;){var s=(i=e[t++])>>16&248|i>>13&7,i=i>>5&224|i>>3&31;n[a++]=s,n[a++]=i}}function ee(e,t,r,n,a){for(r=t+r;t<r;){var s=e[t++];n[a++]=255&s,n[a++]=s>>8&255,n[a++]=s>>16&255}}function te(e,t,r,a,s,i){if(0==i)for(r=t+r;t<r;)A(a,((i=e[t++])[0]>>24|i[1]>>8&65280|i[2]<<8&16711680|i[3]<<24)>>>0),s+=32;else n(a,s,e,t,r)}function re(t,r){e[r][0]=e[t+"0"],e[r][1]=e[t+"1"],e[r][2]=e[t+"2"],e[r][3]=e[t+"3"],e[r][4]=e[t+"4"],e[r][5]=e[t+"5"],e[r][6]=e[t+"6"],e[r][7]=e[t+"7"],e[r][8]=e[t+"8"],e[r][9]=e[t+"9"],e[r][10]=e[t+"10"],e[r][11]=e[t+"11"],e[r][12]=e[t+"12"],e[r][13]=e[t+"13"],e[r][14]=e[t+"0"],e[r][15]=e[t+"0"]}function ne(e){return e==qn||e==Wn||e==Hn||e==Vn}function ae(){this.eb=[],this.size=this.A=this.fb=0}function se(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ae,this.f.kb=new se,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var r=e.T,a=t.ba.f.RGBA,s=a.eb,i=a.fb+e.ka*a.A,o=ga[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,p=e.W,m=t.cc,f=t.dc,g=t.Mc,x=t.Nc,b=e.ka,v=e.ka+e.T,y=e.U,w=y+1>>1;for(0==b?o(l,c,null,null,d,u,h,p,d,u,h,p,s,i,null,null,y):(o(t.ec,t.fc,l,c,m,f,g,x,d,u,h,p,s,i-a.A,s,i,y),++r);b+2<v;b+=2)m=d,f=u,g=h,x=p,u+=e.Rc,p+=e.Rc,i+=2*a.A,o(l,(c+=2*e.fa)-e.fa,l,c,m,f,g,x,d,u,h,p,s,i-a.A,s,i,y);return c+=e.fa,e.j+v<e.o?(n(t.ec,t.fc,l,c,y),n(t.cc,t.dc,d,u,w),n(t.Mc,t.Nc,h,p,w),r--):1&v||o(l,c,null,null,d,u,h,p,d,u,h,p,s,i+a.A,null,null,y),r}function ue(e,r,n){var a=e.F,s=[e.J];if(null!=a){var i=e.U,o=r.ba.S,l=o==On||o==Hn;r=r.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=r.eb;d=r.fb+d*r.A,e=kn(a,s[0],e.width,i,c,u,d+(l?0:3),r.A),t(n==c),e&&ne(o)&&jn(u,d,l,i,c,r.A)}return 0}function he(e){var t=e.ma,r=t.ba.S,n=11>r,a=r==Rn||r==zn||r==On||r==Bn||12==r||ne(r);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Ir(t.Oa,e,a?11:12))return 0;if(a&&ne(r)&&xr(),e.da)alert("todo:use_scaling");else{if(n){if(t.Ib=ce,e.Kb){if(r=e.U+1>>1,t.memory=s(e.U+2*r),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+r,t.Ib=de,xr()}}else alert("todo:EmitYUV");a&&(t.Jb=ue,n&&fr())}if(n&&!Da){for(e=0;256>e;++e)Ta[e]=89858*(e-128)+Sa>>ka,Ia[e]=-22014*(e-128)+Sa,Ea[e]=-45773*(e-128),La[e]=113618*(e-128)+Sa>>ka;for(e=Ca;e<_a;++e)t=76283*(e-16)+Sa>>ka,Ma[e-Ca]=Ve(t,255),Ra[e-Ca]=Ve(t+8>>4,15);Da=1}return 1}function pe(e){var r=e.ma,n=e.U,a=e.T;return t(!(1&e.ka)),0>=n||0>=a?0:(n=r.Ib(e,r),null!=r.Jb&&r.Jb(e,r,n),r.Dc+=n,1)}function me(e){e.ma.memory=null}function fe(e,t,r,n){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,r[0]=v(e,14)+1,n[0]=v(e,1),0!=v(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var r=e-2>>1;return(2+(1&e)<<r)+v(t,r)+1}function xe(e,t){return 120<t?t-120:1<=(r=((r=Xn[t-1])>>4)*e+(8-(15&r)))?r:1;var r}function be(e,t,r){var n=j(r),a=e[t+=255&n].g-8;return 0<a&&(k(r,r.u+8),n=j(r),t+=e[t].value,t+=n&(1<<a)-1),k(r,r.u+e[t].g),e[t].value}function ve(e,r,n){return n.g+=e.g,n.value+=e.value<<r>>>0,t(8>=n.g),e.g}function ye(e,r,n){var a=e.xc;return t((r=0==a?0:e.vc[e.md*(n>>a)+(r>>a)])<e.Wb),e.Ya[r]}function we(e,r,a,s){var i=e.ab,o=e.c*r,l=e.C;r=l+r;var c=a,d=s;for(s=e.Ta,a=e.Ua;0<i--;){var u=e.gc[i],h=l,p=r,m=c,f=d,g=(d=s,c=a,u.Ea);switch(t(h<p),t(p<=u.nc),u.hc){case 2:Vr(m,f,(p-h)*g,d,c);break;case 0:var x=h,b=p,v=d,y=c,w=(C=u).Ea;0==x&&(Wr(m,f,null,null,1,v,y),V(m,f+1,0,0,w-1,v,y+1),f+=w,y+=w,++x);for(var j=1<<C.b,N=j-1,k=F(w,C.b),S=C.K,C=C.w+(x>>C.b)*k;x<b;){var _=S,P=C,A=1;for(Hr(m,f,v,y-w,1,v,y);A<w;){var D=(A&~N)+j;D>w&&(D=w),(0,Jr[_[P++]>>8&15])(m,f+ +A,v,y+A-w,D-A,v,y+A),A=D}f+=w,y+=w,++x&N||(C+=k)}p!=u.nc&&n(d,c-g,d,c+(p-h-1)*g,g);break;case 1:for(g=m,b=f,w=(m=u.Ea)-(y=m&~(v=(f=1<<u.b)-1)),x=F(m,u.b),j=u.K,u=u.w+(h>>u.b)*x;h<p;){for(N=j,k=u,S=new B,C=b+y,_=b+m;b<C;)G(N[k++],S),Xr(S,g,b,f,d,c),b+=f,c+=f;b<_&&(G(N[k++],S),Xr(S,g,b,w,d,c),b+=w,c+=w),++h&v||(u+=x)}break;case 3:if(m==d&&f==c&&0<u.b){for(b=d,m=g=c+(p-h)*g-(y=(p-h)*F(u.Ea,u.b)),f=d,v=c,x=[],y=(w=y)-1;0<=y;--y)x[y]=f[v+y];for(y=w-1;0<=y;--y)b[m+y]=x[y];Kr(u,h,p,d,g,d,c)}else Kr(u,h,p,m,f,d,c)}c=s,d=a}d!=a&&n(s,a,c,d,o)}function je(e,r){var n=e.V,a=e.Ba+e.c*e.C,s=r-e.C;if(t(r<=e.l.o),t(16>=s),0<s){var i=e.l,o=e.Ta,l=e.Ua,c=i.width;if(we(e,s,n,a),s=l=[l],t((n=e.C)<(a=r)),t(i.v<i.va),a>i.o&&(a=i.o),n<i.j){var d=i.j-n;n=i.j,s[0]+=d*c}if(n>=a?n=0:(s[0]+=4*i.v,i.ka=n-i.j,i.U=i.va-i.v,i.T=a-n,n=1),n){if(l=l[0],11>(n=e.ca).S){var u=n.f.RGBA,h=(a=n.S,s=i.U,i=i.T,d=u.eb,u.A),p=i;for(u=u.fb+e.Ma*u.A;0<p--;){var m=o,f=l,g=s,x=d,b=u;switch(a){case Mn:Qr(m,f,g,x,b);break;case Rn:Zr(m,f,g,x,b);break;case qn:Zr(m,f,g,x,b),jn(x,b,0,g,1,0);break;case Fn:rn(m,f,g,x,b);break;case zn:te(m,f,g,x,b,1);break;case Wn:te(m,f,g,x,b,1),jn(x,b,0,g,1,0);break;case On:te(m,f,g,x,b,0);break;case Hn:te(m,f,g,x,b,0),jn(x,b,1,g,1,0);break;case Bn:en(m,f,g,x,b);break;case Vn:en(m,f,g,x,b),Nn(x,b,g,1,0);break;case Un:tn(m,f,g,x,b);break;default:t(0)}l+=c,u+=h}e.Ma+=i}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=n.height)}}e.C=r,t(e.C<=e.i)}function Ne(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var r=e.Ya[t].G,n=e.Ya[t].H;if(0<r[1][n[1]+0].g||0<r[2][n[2]+0].g||0<r[3][n[3]+0].g)return 0}return 1}function ke(e,r,n,a,s,i){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=fa[e.Z]);r<n;++r)fa[e.Z](o,l,a,s,a,s,i),o=a,l=s,s+=i;e.qd=o,e.rd=l}}function Se(e,r){var n=e.l.ma,a=0==n.Z||1==n.Z?e.l.j:e.C;if(a=e.C<a?a:e.C,t(r<=e.l.o),r>a){var s=e.l.width,i=n.ca,o=n.tb+s*a,l=e.V,c=e.Ba+e.c*a,d=e.gc;t(1==e.ab),t(3==d[0].hc),Yr(d[0],a,r,l,c,i,o),ke(n,a,r,i,o,s)}e.C=e.Ma=r}function Ce(e,r,n,a,s,i,o){var l=e.$/a,c=e.$%a,d=e.m,u=e.s,h=n+e.$,p=h;s=n+a*s;var m=n+a*i,f=280+u.ua,g=e.Pb?l:16777216,x=0<u.ua?u.Wa:null,b=u.wc,v=h<m?ye(u,c,l):null;t(e.C<i),t(m<=s);var y=!1;e:for(;;){for(;y||h<m;){var w=0;if(l>=g){var C=h-n;t((g=e).Pb),g.wd=g.m,g.xd=C,0<g.s.ua&&I(g.s.Wa,g.s.vb),g=l+Zn}if(c&b||(v=ye(u,c,l)),t(null!=v),v.Qb&&(r[h]=v.qb,y=!0),!y)if(S(d),v.jc){w=d,C=r;var _=h,P=v.pd[j(w)&Fr-1];t(v.jc),256>P.g?(k(w,w.u+P.g),C[_]=P.value,w=0):(k(w,w.u+P.g-256),t(256<=P.value),w=P.value),0==w&&(y=!0)}else w=be(v.G[0],v.H[0],d);if(d.h)break;if(y||256>w){if(!y)if(v.nd)r[h]=(v.qb|w<<8)>>>0;else{if(S(d),y=be(v.G[1],v.H[1],d),S(d),C=be(v.G[2],v.H[2],d),_=be(v.G[3],v.H[3],d),d.h)break;r[h]=(_<<24|y<<16|w<<8|C)>>>0}if(y=!1,++h,++c>=a&&(c=0,++l,null!=o&&l<=i&&!(l%16)&&o(e,l),null!=x))for(;p<h;)w=r[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else if(280>w){if(w=ge(w-256,d),C=be(v.G[4],v.H[4],d),S(d),C=xe(a,C=ge(C,d)),d.h)break;if(h-n<C||s-h<w)break e;for(_=0;_<w;++_)r[h+_]=r[h+_-C];for(h+=w,c+=w;c>=a;)c-=a,++l,null!=o&&l<=i&&!(l%16)&&o(e,l);if(t(h<=s),c&b&&(v=ye(u,c,l)),null!=x)for(;p<h;)w=r[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else{if(!(w<f))break e;for(y=w-280,t(null!=x);p<h;)w=r[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w;w=h,t(!(y>>>(C=x).Xa)),r[w]=C.X[y],y=!0}y||t(d.h==N(d))}if(e.Pb&&d.h&&h<s)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&I(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>i?i:l),e.a=0,e.$=h-n}return 1}return e.a=3,0}function _e(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var r=e.Wa;null!=r&&(r.X=null),e.vb=null,t(null!=e)}function Pe(){var t=new sr;return null==t?null:(t.a=0,t.xb=ma,re("Predictor","VP8LPredictors"),re("Predictor","VP8LPredictors_C"),re("PredictorAdd","VP8LPredictorsAdd"),re("PredictorAdd","VP8LPredictorsAdd_C"),Vr=K,Xr=Y,Qr=J,Zr=X,en=Q,tn=Z,rn=ee,e.VP8LMapColor32b=Gr,e.VP8LMapColor8b=$r,t)}function Ae(e,r,n,o,l){var c=1,h=[e],m=[r],f=o.m,g=o.s,x=null,b=0;e:for(;;){if(n)for(;c&&v(f,1);){var y=h,w=m,N=o,C=1,_=N.m,P=N.gc[N.ab],A=v(_,2);if(N.Oc&1<<A)c=0;else{switch(N.Oc|=1<<A,P.hc=A,P.Ea=y[0],P.nc=w[0],P.K=[null],++N.ab,t(4>=N.ab),A){case 0:case 1:P.b=v(_,3)+2,C=Ae(F(P.Ea,P.b),F(P.nc,P.b),0,N,P.K),P.K=P.K[0];break;case 3:var D,T=v(_,8)+1,L=16<T?0:4<T?1:2<T?2:3;if(y[0]=F(P.Ea,L),P.b=L,D=C=Ae(T,1,0,N,P.K)){var I,M=T,R=P,O=1<<(8>>R.b),B=s(O);if(null==B)D=0;else{var U=R.K[0],q=R.w;for(B[0]=R.K[0][0],I=1;I<1*M;++I)B[I]=z(U[q+I],B[I-1]);for(;I<4*O;++I)B[I]=0;R.K[0]=null,R.K[0]=B,D=1}}C=D;break;case 2:break;default:t(0)}c=C}}if(h=h[0],m=m[0],c&&v(f,1)&&!(c=1<=(b=v(f,4))&&11>=b)){o.a=3;break e}var W;if(W=c)t:{var H,V,K,G=o,Y=h,$=m,J=b,X=n,Q=G.m,Z=G.s,ee=[null],te=1,re=0,ne=Qn[J];r:for(;;){if(X&&v(Q,1)){var ae=v(Q,3)+2,se=F(Y,ae),ie=F($,ae),oe=se*ie;if(!Ae(se,ie,0,G,ee))break r;for(ee=ee[0],Z.xc=ae,H=0;H<oe;++H){var le=ee[H]>>8&65535;ee[H]=le,le>=te&&(te=le+1)}}if(Q.h)break r;for(V=0;5>V;++V){var ce=Yn[V];!V&&0<J&&(ce+=1<<J),re<ce&&(re=ce)}var de=i(te*ne,u),ue=te,he=i(ue,p);if(null==he)var pe=null;else t(65536>=ue),pe=he;var me=s(re);if(null==pe||null==me||null==de){G.a=1;break r}var fe=de;for(H=K=0;H<te;++H){var ge=pe[H],xe=ge.G,be=ge.H,ye=0,we=1,je=0;for(V=0;5>V;++V){ce=Yn[V],xe[V]=fe,be[V]=K,!V&&0<J&&(ce+=1<<J);n:{var Ne,ke=ce,Se=G,Pe=me,De=fe,Te=K,Le=0,Ee=Se.m,Ie=v(Ee,1);if(a(Pe,0,0,ke),Ie){var Me=v(Ee,1)+1,Re=v(Ee,1),Fe=v(Ee,0==Re?1:8);Pe[Fe]=1,2==Me&&(Pe[Fe=v(Ee,8)]=1);var ze=1}else{var Oe=s(19),Be=v(Ee,4)+4;if(19<Be){Se.a=3;var Ue=0;break n}for(Ne=0;Ne<Be;++Ne)Oe[Jn[Ne]]=v(Ee,3);var qe=void 0,We=void 0,He=Se,Ve=Oe,Ke=ke,Ge=Pe,Ye=0,$e=He.m,Je=8,Xe=i(128,u);a:for(;d(Xe,0,7,Ve,19);){if(v($e,1)){var Qe=2+2*v($e,3);if((qe=2+v($e,Qe))>Ke)break a}else qe=Ke;for(We=0;We<Ke&&qe--;){S($e);var Ze=Xe[0+(127&j($e))];k($e,$e.u+Ze.g);var et=Ze.value;if(16>et)Ge[We++]=et,0!=et&&(Je=et);else{var tt=16==et,rt=et-16,nt=Gn[rt],at=v($e,Kn[rt])+nt;if(We+at>Ke)break a;for(var st=tt?Je:0;0<at--;)Ge[We++]=st}}Ye=1;break a}Ye||(He.a=3),ze=Ye}(ze=ze&&!Ee.h)&&(Le=d(De,Te,8,Pe,ke)),ze&&0!=Le?Ue=Le:(Se.a=3,Ue=0)}if(0==Ue)break r;if(we&&1==$n[V]&&(we=0==fe[K].g),ye+=fe[K].g,K+=Ue,3>=V){var it,ot=me[0];for(it=1;it<ce;++it)me[it]>ot&&(ot=me[it]);je+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(xe[3][be[3]+0].value<<24|xe[1][be[1]+0].value<<16|xe[2][be[2]+0].value)>>>0,0==ye&&256>xe[0][be[0]+0].value&&(ge.Qb=1,ge.qb+=xe[0][be[0]+0].value<<8)),ge.jc=!ge.Qb&&6>je,ge.jc){var lt,ct=ge;for(lt=0;lt<Fr;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=ve(ht,8,ut),dt>>=ve(ct.G[1][ct.H[1]+dt],16,ut),dt>>=ve(ct.G[2][ct.H[2]+dt],0,ut),ve(ct.G[3][ct.H[3]+dt],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=pe,Z.yc=de,W=1;break t}W=0}if(!(c=W)){o.a=3;break e}if(0<b){if(g.ua=1<<b,!E(g.Wa,b)){o.a=1,c=0;break e}}else g.ua=0;var pt=o,mt=h,ft=m,gt=pt.s,xt=gt.xc;if(pt.c=mt,pt.i=ft,gt.md=F(mt,xt),gt.wc=0==xt?-1:(1<<xt)-1,n){o.xb=pa;break e}if(null==(x=s(h*m))){o.a=1,c=0;break e}c=(c=Ce(o,x,0,h,m,m,null))&&!f.h;break e}return c?(null!=l?l[0]=x:(t(null==x),t(n)),o.$=0,n||_e(g)):_e(g),c}function De(e,r){var n=e.c*e.i,a=n+r+16*r;return t(e.c<=r),e.V=s(a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+n+r,1)}function Te(e,r){var n=e.C,a=r-n,s=e.V,i=e.Ba+e.c*n;for(t(r<=e.l.o);0<a;){var o=16<a?16:a,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*n,p=e.Ta,m=e.Ua;we(e,o,s,i),Sn(p,m,u,h,d),ke(l,n,n+o,u,h,c),a-=o,s+=o*e.c,n+=o}t(n==r),e.C=e.Ma=r}function Le(){this.ub=this.yd=this.td=this.Rb=0}function Ee(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ie(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Me(){this.Yb=function(){var e=[];return function e(t,r,n){for(var a=n[r],s=0;s<a&&(t.push(n.length>r+1?[]:0),!(n.length<r+1));s++)e(t[s],r+1,n)}(e,0,[3,11]),e}()}function Re(){this.jb=s(3),this.Wc=o([4,8],Me),this.Xc=o([4,17],Me)}function Fe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ze(){this.ld=this.La=this.dd=this.tc=0}function Oe(){this.Na=this.la=0}function Be(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ue(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new ze),this.Y=0,this.ya=Array(new Ue),this.aa=0,this.l=new Ke}function We(){this.y=s(16),this.f=s(8),this.ea=s(8)}function He(){this.cb=this.a=0,this.sc="",this.m=new y,this.Od=new Le,this.Kc=new Ee,this.ed=new Fe,this.Qa=new Ie,this.Ic=this.$c=this.Aa=0,this.D=new qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,y),this.ia=0,this.pb=i(4,Be),this.Pa=new Re,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new We),this.Hd=0,this.rb=Array(new Oe),this.sb=0,this.wa=Array(new ze),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ue),this.L=this.aa=0,this.gd=o([4,2],ze),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function Ke(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new He;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ra||(ra=Xe)),e}function Ye(e,t,r){return 0==e.a&&(e.a=t,e.sc=r,e.cb=0),0}function $e(e,t,r){return 3<=r&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,r){if(null==e)return 0;if(e.a=0,e.sc="OK",null==r)return Ye(e,2,"null VP8Io passed to VP8GetHeaders()");var n=r.data,s=r.w,i=r.ha;if(4>i)return Ye(e,7,"Truncated header.");var o=n[s+0]|n[s+1]<<8|n[s+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ye(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ye(e,4,"Frame not displayable.");s+=3,i-=3;var c=e.Kc;if(l.Rb){if(7>i)return Ye(e,7,"cannot parse picture header");if(!$e(n,s,i))return Ye(e,3,"Bad code word");c.c=16383&(n[s+4]<<8|n[s+3]),c.Td=n[s+4]>>6,c.i=16383&(n[s+6]<<8|n[s+5]),c.Ud=n[s+6]>>6,s+=7,i-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,r.width=c.c,r.height=c.i,r.Da=0,r.j=0,r.v=0,r.va=r.width,r.o=r.height,r.da=0,r.ib=r.width,r.hb=r.height,r.U=r.width,r.T=r.height,a((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,a(o.Zb,0,0,o.Zb.length),a(o.Lb,0,0,o.Lb)}if(l.ub>i)return Ye(e,7,"bad partition length");m(o=e.m,n,s,l.ub),s+=l.ub,i-=l.ub,l.Rb&&(c.Ld=_(o),c.Kd=_(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=_(o),c.Cb){if(c.Bb=_(o),_(o)){for(c.Fb=_(o),d=0;4>d;++d)c.Zb[d]=_(o)?g(o,7):0;for(d=0;4>d;++d)c.Lb[d]=_(o)?g(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=_(o)?f(o,8):255}else c.Bb=0;if(o.Ka)return Ye(e,3,"cannot parse segment header");if((c=e.ed).zd=_(o),c.Tb=f(o,6),c.wb=f(o,3),c.Pc=_(o),c.Pc&&_(o)){for(u=0;4>u;++u)_(o)&&(c.vd[u]=g(o,6));for(u=0;4>u;++u)_(o)&&(c.od[u]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ye(e,3,"cannot parse filter header");var h=i;if(i=d=s,s=d+h,c=h,e.Xb=(1<<f(e.m,2))-1,h<3*(u=e.Xb))n=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var p=n[i+0]|n[i+1]<<8|n[i+2]<<16;p>c&&(p=c),m(e.Jc[+h],n,d,p),d+=p,c-=p,i+=3}m(e.Jc[+u],n,d,c),n=d<s?0:5}if(0!=n)return Ye(e,n,"cannot parse partitions");for(n=f(d=e.m,7),i=_(d)?g(d,4):0,s=_(d)?g(d,4):0,c=_(d)?g(d,4):0,u=_(d)?g(d,4):0,d=_(d)?g(d,4):0,h=e.Qa,p=0;4>p;++p){if(h.Cb){var x=h.Zb[p];h.Fb||(x+=n)}else{if(0<p){e.pb[p]=e.pb[0];continue}x=n}var b=e.pb[p];b.Sc[0]=ea[Ve(x+i,127)],b.Sc[1]=ta[Ve(x+0,127)],b.Eb[0]=2*ea[Ve(x+s,127)],b.Eb[1]=101581*ta[Ve(x+c,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=ea[Ve(x+u,117)],b.Qc[1]=ta[Ve(x+d,127)],b.lc=x+d}if(!l.Rb)return Ye(e,4,"Not a key frame.");for(_(o),l=e.Pa,n=0;4>n;++n){for(i=0;8>i;++i)for(s=0;3>s;++s)for(c=0;11>c;++c)u=P(o,la[n][i][s][c])?f(o,8):ia[n][i][s][c],l.Wc[n][i].Yb[s][c]=u;for(i=0;17>i;++i)l.Xc[n][i]=l.Wc[n][ca[i]]}return e.kc=_(o),e.kc&&(e.Bd=f(o,8)),e.cb=1}function Xe(e,t,r,n,a,s,i){var o=t[a].Yb[r];for(r=0;16>a;++a){if(!P(e,o[r+0]))return a;for(;!P(e,o[r+1]);)if(o=t[++a].Yb[0],r=0,16==a)return 16;var l=t[a+1].Yb;if(P(e,o[r+2])){var c=e,d=0;if(P(c,(h=o)[(u=r)+3]))if(P(c,h[u+6])){for(o=0,u=2*(d=P(c,h[u+8]))+(h=P(c,h[u+9+d])),d=0,h=na[u];h[o];++o)d+=d+P(c,h[o]);d+=3+(8<<u)}else P(c,h[u+7])?(d=7+2*P(c,165),d+=P(c,145)):d=5+P(c,159);else d=P(c,h[u+4])?3+P(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=i+aa[a],0>(c=e).b&&C(c);var u,h=c.b,p=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=p,c.Ca|=1,c.I-=(u+1&p)<<h,s[l]=((d^p)-p)*n[(0<a)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,a(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,t,r,n,a){a=e[t+r+32*n]+(a>>3),e[t+r+32*n]=-256&a?0>a?0:255:a}function et(e,t,r,n,a,s){Ze(e,t,0,r,n+a),Ze(e,t,1,r,n+s),Ze(e,t,2,r,n-s),Ze(e,t,3,r,n-a)}function tt(e){return(20091*e>>16)+e}function rt(e,t,r,n){var a,i=0,o=s(16);for(a=0;4>a;++a){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);o[i+0]=l+u,o[i+1]=c+d,o[i+2]=c-d,o[i+3]=l-u,i+=4,t++}for(a=i=0;4>a;++a)l=(e=o[i+0]+4)+o[i+8],c=e-o[i+8],d=(35468*o[i+4]>>16)-tt(o[i+12]),Ze(r,n,0,0,l+(u=tt(o[i+4])+(35468*o[i+12]>>16))),Ze(r,n,1,0,c+d),Ze(r,n,2,0,c-d),Ze(r,n,3,0,l-u),i++,n+=32}function nt(e,t,r,n){var a=e[t+0]+4,s=35468*e[t+4]>>16,i=tt(e[t+4]),o=35468*e[t+1]>>16;et(r,n,0,a+i,e=tt(e[t+1]),o),et(r,n,1,a+s,e,o),et(r,n,2,a-s,e,o),et(r,n,3,a-i,e,o)}function at(e,t,r,n,a){rt(e,t,r,n),a&&rt(e,t+16,r,n+4)}function st(e,t,r,n){an(e,t+0,r,n,1),an(e,t+32,r,n+128,1)}function it(e,t,r,n){var a;for(e=e[t+0]+4,a=0;4>a;++a)for(t=0;4>t;++t)Ze(r,n,t,a,e)}function ot(e,t,r,n){e[t+0]&&ln(e,t+0,r,n),e[t+16]&&ln(e,t+16,r,n+4),e[t+32]&&ln(e,t+32,r,n+128),e[t+48]&&ln(e,t+48,r,n+128+4)}function lt(e,t,r,n){var a,i=s(16);for(a=0;4>a;++a){var o=e[t+0+a]+e[t+12+a],l=e[t+4+a]+e[t+8+a],c=e[t+4+a]-e[t+8+a],d=e[t+0+a]-e[t+12+a];i[0+a]=o+l,i[8+a]=o-l,i[4+a]=d+c,i[12+a]=d-c}for(a=0;4>a;++a)o=(e=i[0+4*a]+3)+i[3+4*a],l=i[1+4*a]+i[2+4*a],c=i[1+4*a]-i[2+4*a],d=e-i[3+4*a],r[n+0]=o+l>>3,r[n+16]=d+c>>3,r[n+32]=o-l>>3,r[n+48]=d-c>>3,n+=64}function ct(e,t,r){var n,a=t-32,s=En,i=255-e[a-1];for(n=0;n<r;++n){var o,l=s,c=i+e[t-1];for(o=0;o<r;++o)e[t+o]=l[c+e[a+o]];t+=32}}function dt(e,t){ct(e,t,4)}function ut(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function pt(e,t){var r;for(r=0;16>r;++r)n(e,t+32*r,e,t-32,16)}function mt(e,t){var r;for(r=16;0<r;--r)a(e,t,e[t-1],16),t+=32}function ft(e,t,r){var n;for(n=0;16>n;++n)a(t,r+32*n,e,16)}function gt(e,t){var r,n=16;for(r=0;16>r;++r)n+=e[t-1+32*r]+e[t+r-32];ft(n>>5,e,t)}function xt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t-1+32*r];ft(n>>4,e,t)}function bt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t+r-32];ft(n>>4,e,t)}function vt(e,t){ft(128,e,t)}function yt(e,t,r){return e+2*t+r+2>>2}function wt(e,t){var r,a=t-32;for(a=new Uint8Array([yt(e[a-1],e[a+0],e[a+1]),yt(e[a+0],e[a+1],e[a+2]),yt(e[a+1],e[a+2],e[a+3]),yt(e[a+2],e[a+3],e[a+4])]),r=0;4>r;++r)n(e,t+32*r,a,0,a.length)}function jt(e,t){var r=e[t-1],n=e[t-1+32],a=e[t-1+64],s=e[t-1+96];A(e,t+0,16843009*yt(e[t-1-32],r,n)),A(e,t+32,16843009*yt(r,n,a)),A(e,t+64,16843009*yt(n,a,s)),A(e,t+96,16843009*yt(a,s,s))}function Nt(e,t){var r,n=4;for(r=0;4>r;++r)n+=e[t+r-32]+e[t-1+32*r];for(n>>=3,r=0;4>r;++r)a(e,t+32*r,n,4)}function kt(e,t){var r=e[t-1+0],n=e[t-1+32],a=e[t-1+64],s=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=yt(n,a,e[t-1+96]),e[t+1+96]=e[t+0+64]=yt(r,n,a),e[t+2+96]=e[t+1+64]=e[t+0+32]=yt(s,r,n),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=yt(i,s,r),e[t+3+64]=e[t+2+32]=e[t+1+0]=yt(o,i,s),e[t+3+32]=e[t+2+0]=yt(l,o,i),e[t+3+0]=yt(c,l,o)}function St(e,t){var r=e[t+1-32],n=e[t+2-32],a=e[t+3-32],s=e[t+4-32],i=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=yt(e[t+0-32],r,n),e[t+1+0]=e[t+0+32]=yt(r,n,a),e[t+2+0]=e[t+1+32]=e[t+0+64]=yt(n,a,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=yt(a,s,i),e[t+3+32]=e[t+2+64]=e[t+1+96]=yt(s,i,o),e[t+3+64]=e[t+2+96]=yt(i,o,l),e[t+3+96]=yt(o,l,l)}function Ct(e,t){var r=e[t-1+0],n=e[t-1+32],a=e[t-1+64],s=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=s+i+1>>1,e[t+1+0]=e[t+2+64]=i+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=yt(a,n,r),e[t+0+64]=yt(n,r,s),e[t+0+32]=e[t+1+96]=yt(r,s,i),e[t+1+32]=e[t+2+96]=yt(s,i,o),e[t+2+32]=e[t+3+96]=yt(i,o,l),e[t+3+32]=yt(o,l,c)}function _t(e,t){var r=e[t+0-32],n=e[t+1-32],a=e[t+2-32],s=e[t+3-32],i=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=r+n+1>>1,e[t+1+0]=e[t+0+64]=n+a+1>>1,e[t+2+0]=e[t+1+64]=a+s+1>>1,e[t+3+0]=e[t+2+64]=s+i+1>>1,e[t+0+32]=yt(r,n,a),e[t+1+32]=e[t+0+96]=yt(n,a,s),e[t+2+32]=e[t+1+96]=yt(a,s,i),e[t+3+32]=e[t+2+96]=yt(s,i,o),e[t+3+64]=yt(i,o,l),e[t+3+96]=yt(o,l,c)}function Pt(e,t){var r=e[t-1+0],n=e[t-1+32],a=e[t-1+64],s=e[t-1+96];e[t+0+0]=r+n+1>>1,e[t+2+0]=e[t+0+32]=n+a+1>>1,e[t+2+32]=e[t+0+64]=a+s+1>>1,e[t+1+0]=yt(r,n,a),e[t+3+0]=e[t+1+32]=yt(n,a,s),e[t+3+32]=e[t+1+64]=yt(a,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function At(e,t){var r=e[t-1+0],n=e[t-1+32],a=e[t-1+64],s=e[t-1+96],i=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=r+i+1>>1,e[t+0+32]=e[t+2+64]=n+r+1>>1,e[t+0+64]=e[t+2+96]=a+n+1>>1,e[t+0+96]=s+a+1>>1,e[t+3+0]=yt(o,l,c),e[t+2+0]=yt(i,o,l),e[t+1+0]=e[t+3+32]=yt(r,i,o),e[t+1+32]=e[t+3+64]=yt(n,r,i),e[t+1+64]=e[t+3+96]=yt(a,n,r),e[t+1+96]=yt(s,a,n)}function Dt(e,t){var r;for(r=0;8>r;++r)n(e,t+32*r,e,t-32,8)}function Tt(e,t){var r;for(r=0;8>r;++r)a(e,t,e[t-1],8),t+=32}function Lt(e,t,r){var n;for(n=0;8>n;++n)a(t,r+32*n,e,8)}function Et(e,t){var r,n=8;for(r=0;8>r;++r)n+=e[t+r-32]+e[t-1+32*r];Lt(n>>4,e,t)}function It(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t+r-32];Lt(n>>3,e,t)}function Mt(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t-1+32*r];Lt(n>>3,e,t)}function Rt(e,t){Lt(128,e,t)}function Ft(e,t,r){var n=e[t-r],a=e[t+0],s=3*(a-n)+Tn[1020+e[t-2*r]-e[t+r]],i=Ln[112+(s+4>>3)];e[t-r]=En[255+n+Ln[112+(s+3>>3)]],e[t+0]=En[255+a-i]}function zt(e,t,r,n){var a=e[t+0],s=e[t+r];return In[255+e[t-2*r]-e[t-r]]>n||In[255+s-a]>n}function Ot(e,t,r,n){return 4*In[255+e[t-r]-e[t+0]]+In[255+e[t-2*r]-e[t+r]]<=n}function Bt(e,t,r,n,a){var s=e[t-3*r],i=e[t-2*r],o=e[t-r],l=e[t+0],c=e[t+r],d=e[t+2*r],u=e[t+3*r];return 4*In[255+o-l]+In[255+i-c]>n?0:In[255+e[t-4*r]-s]<=a&&In[255+s-i]<=a&&In[255+i-o]<=a&&In[255+u-d]<=a&&In[255+d-c]<=a&&In[255+c-l]<=a}function Ut(e,t,r,n){var a=2*n+1;for(n=0;16>n;++n)Ot(e,t+n,r,a)&&Ft(e,t+n,r)}function qt(e,t,r,n){var a=2*n+1;for(n=0;16>n;++n)Ot(e,t+n*r,1,a)&&Ft(e,t+n*r,1)}function Wt(e,t,r,n){var a;for(a=3;0<a;--a)Ut(e,t+=4*r,r,n)}function Ht(e,t,r,n){var a;for(a=3;0<a;--a)qt(e,t+=4,r,n)}function Vt(e,t,r,n,a,s,i,o){for(s=2*s+1;0<a--;){if(Bt(e,t,r,s,i))if(zt(e,t,r,o))Ft(e,t,r);else{var l=e,c=t,d=r,u=l[c-2*d],h=l[c-d],p=l[c+0],m=l[c+d],f=l[c+2*d],g=27*(b=Tn[1020+3*(p-h)+Tn[1020+u-m]])+63>>7,x=18*b+63>>7,b=9*b+63>>7;l[c-3*d]=En[255+l[c-3*d]+b],l[c-2*d]=En[255+u+x],l[c-d]=En[255+h+g],l[c+0]=En[255+p-g],l[c+d]=En[255+m-x],l[c+2*d]=En[255+f-b]}t+=n}}function Kt(e,t,r,n,a,s,i,o){for(s=2*s+1;0<a--;){if(Bt(e,t,r,s,i))if(zt(e,t,r,o))Ft(e,t,r);else{var l=e,c=t,d=r,u=l[c-d],h=l[c+0],p=l[c+d],m=Ln[112+(4+(f=3*(h-u))>>3)],f=Ln[112+(f+3>>3)],g=m+1>>1;l[c-2*d]=En[255+l[c-2*d]+g],l[c-d]=En[255+u+f],l[c+0]=En[255+h-m],l[c+d]=En[255+p-g]}t+=n}}function Gt(e,t,r,n,a,s){Vt(e,t,r,1,16,n,a,s)}function Yt(e,t,r,n,a,s){Vt(e,t,1,r,16,n,a,s)}function $t(e,t,r,n,a,s){var i;for(i=3;0<i;--i)Kt(e,t+=4*r,r,1,16,n,a,s)}function Jt(e,t,r,n,a,s){var i;for(i=3;0<i;--i)Kt(e,t+=4,1,r,16,n,a,s)}function Xt(e,t,r,n,a,s,i,o){Vt(e,t,a,1,8,s,i,o),Vt(r,n,a,1,8,s,i,o)}function Qt(e,t,r,n,a,s,i,o){Vt(e,t,1,a,8,s,i,o),Vt(r,n,1,a,8,s,i,o)}function Zt(e,t,r,n,a,s,i,o){Kt(e,t+4*a,a,1,8,s,i,o),Kt(r,n+4*a,a,1,8,s,i,o)}function er(e,t,r,n,a,s,i,o){Kt(e,t+4,1,a,8,s,i,o),Kt(r,n+4,1,a,8,s,i,o)}function tr(){this.ba=new ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ar(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new u}function sr(){this.xb=this.a=0,this.l=new Ke,this.ca=new ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ar,this.ab=0,this.gc=i(4,nr),this.Oc=0}function ir(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ke,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function or(e,t,r,n,a,s,i){for(e=null==e?0:e[t+0],t=0;t<i;++t)a[s+t]=e+r[n+t]&255,e=a[s+t]}function lr(e,t,r,n,a,s,i){var o;if(null==e)or(null,null,r,n,a,s,i);else for(o=0;o<i;++o)a[s+o]=e[t+o]+r[n+o]&255}function cr(e,t,r,n,a,s,i){if(null==e)or(null,null,r,n,a,s,i);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<i;++o)c=d+(l=e[t+o])-c,d=r[n+o]+(-256&c?0>c?0:255:c)&255,c=l,a[s+o]=d}}function dr(e,r,a,i){var o=r.width,l=r.o;if(t(null!=e&&null!=r),0>a||0>=i||a+i>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new ir,(c=null==e.ga)||(c=r.width*r.o,t(0==e.Gb.length),e.Gb=s(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,p=e.mb,m=e.nb,f=u+1,g=h-1,b=c.l;if(t(null!=d&&null!=p&&null!=r),fa[0]=null,fa[1]=or,fa[2]=lr,fa[3]=cr,c.ca=p,c.tb=m,c.c=r.width,c.i=r.height,t(0<c.c&&0<c.i),1>=h)r=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)r=0;else if(b.put=pe,b.ac=he,b.bc=me,b.ma=c,b.width=r.width,b.height=r.height,b.Da=r.Da,b.v=r.v,b.va=r.va,b.j=r.j,b.o=r.o,c.$a)e:{t(1==c.$a),r=Pe();t:for(;;){if(null==r){r=0;break e}if(t(null!=c),c.mc=r,r.c=c.c,r.i=c.i,r.l=c.l,r.l.ma=c,r.l.width=c.c,r.l.height=c.i,r.a=0,x(r.m,d,f,g),!Ae(c.c,c.i,1,r,null))break t;if(1==r.ab&&3==r.gc[0].hc&&Ne(r.s)?(c.ic=1,d=r.c*r.i,r.Ta=null,r.Ua=0,r.V=s(d),r.Ba=0,null==r.V?(r.a=1,r=0):r=1):(c.ic=0,r=De(r,c.c)),!r)break t;r=1;break e}c.mc=null,r=0}else r=g>=c.c*c.i;c=!r}if(c)return null;1!=e.ga.Lc?e.Ga=0:i=l-a}t(null!=e.ga),t(a+i<=l);e:{if(r=(d=e.ga).c,l=d.l.o,0==d.$a){if(f=e.rc,g=e.Vc,b=e.Fa,u=e.P+1+a*r,h=e.mb,p=e.nb+a*r,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=fa[d.Z]),c=0;c<i;++c)fa[d.Z](f,g,b,u,h,p,r),f=h,g=p,p+=r,u+=r;else for(c=0;c<i;++c)n(h,p,b,u,r),f=h,g=p,p+=r,u+=r;e.rc=f,e.Vc=g}else{if(t(null!=d.mc),r=a+i,t(null!=(c=d.mc)),t(r<=c.i),c.C>=r)r=1;else if(d.ic||fr(),d.ic){d=c.V,f=c.Ba,g=c.c;var v=c.i,y=(b=1,u=c.$/g,h=c.$%g,p=c.m,m=c.s,c.$),w=g*v,j=g*r,k=m.wc,C=y<j?ye(m,h,u):null;t(y<=w),t(r<=v),t(Ne(m));t:for(;;){for(;!p.h&&y<j;){if(h&k||(C=ye(m,h,u)),t(null!=C),S(p),256>(v=be(C.G[0],C.H[0],p)))d[f+y]=v,++y,++h>=g&&(h=0,++u<=r&&!(u%16)&&Se(c,u));else{if(!(280>v)){b=0;break t}v=ge(v-256,p);var _,P=be(C.G[4],C.H[4],p);if(S(p),!(y>=(P=xe(g,P=ge(P,p)))&&w-y>=v)){b=0;break t}for(_=0;_<v;++_)d[f+y+_]=d[f+y+_-P];for(y+=v,h+=v;h>=g;)h-=g,++u<=r&&!(u%16)&&Se(c,u);y<j&&h&k&&(C=ye(m,h,u))}t(p.h==N(p))}Se(c,u>r?r:u);break t}!b||p.h&&y<w?(b=0,c.a=p.h?5:3):c.$=y,r=b}else r=Ce(c,c.V,c.Ba,c.c,c.i,r,Te);if(!r){i=0;break e}}a+i>=l&&(e.Cc=1),i=1}if(!i)return null;if(e.Cc&&(null!=(i=e.ga)&&(i.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+a*o}function ur(e,t,r,n,a,s){for(;0<a--;){var i,o=e,l=t+(r?1:0),c=e,d=t+(r?0:3);for(i=0;i<n;++i){var u=c[d+4*i];255!=u&&(u*=32897,o[l+4*i+0]=o[l+4*i+0]*u>>23,o[l+4*i+1]=o[l+4*i+1]*u>>23,o[l+4*i+2]=o[l+4*i+2]*u>>23)}t+=s}}function hr(e,t,r,n,a){for(;0<n--;){var s;for(s=0;s<r;++s){var i=e[t+2*s+0],o=15&(c=e[t+2*s+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*s+0]=(240&i|i>>4)*l>>16&240|(15&i|i<<4)*l>>16>>4&15,e[t+2*s+1]=240&c|o}t+=a}}function pr(e,t,r,n,a,s,i,o){var l,c,d=255;for(c=0;c<a;++c){for(l=0;l<n;++l){var u=e[t+l];s[i+4*l]=u,d&=u}t+=r,i+=o}return 255!=d}function mr(e,t,r,n,a){var s;for(s=0;s<a;++s)r[n+s]=e[t+s]>>8}function fr(){jn=ur,Nn=hr,kn=pr,Sn=mr}function gr(r,n,a){e[r]=function(e,r,s,i,o,l,c,d,u,h,p,m,f,g,x,b,v){var y,w=v-1>>1,j=o[l+0]|c[d+0]<<16,N=u[h+0]|p[m+0]<<16;t(null!=e);var k=3*j+N+131074>>2;for(n(e[r+0],255&k,k>>16,f,g),null!=s&&(k=3*N+j+131074>>2,n(s[i+0],255&k,k>>16,x,b)),y=1;y<=w;++y){var S=o[l+y]|c[d+y]<<16,C=u[h+y]|p[m+y]<<16,_=j+S+N+C+524296,P=_+2*(S+N)>>3;k=P+j>>1,j=(_=_+2*(j+C)>>3)+S>>1,n(e[r+2*y-1],255&k,k>>16,f,g+(2*y-1)*a),n(e[r+2*y-0],255&j,j>>16,f,g+(2*y-0)*a),null!=s&&(k=_+N>>1,j=P+C>>1,n(s[i+2*y-1],255&k,k>>16,x,b+(2*y-1)*a),n(s[i+2*y+0],255&j,j>>16,x,b+(2*y+0)*a)),j=S,N=C}1&v||(k=3*j+N+131074>>2,n(e[r+v-1],255&k,k>>16,f,g+(v-1)*a),null!=s&&(k=3*N+j+131074>>2,n(s[i+v-1],255&k,k>>16,x,b+(v-1)*a)))}}function xr(){ga[Mn]=xa,ga[Rn]=va,ga[Fn]=ba,ga[zn]=ya,ga[On]=wa,ga[Bn]=ja,ga[Un]=Na,ga[qn]=va,ga[Wn]=ya,ga[Hn]=wa,ga[Vn]=ja}function br(e){return e&~Aa?0>e?0:255:e>>Pa}function vr(e,t){return br((19077*e>>8)+(26149*t>>8)-14234)}function yr(e,t,r){return br((19077*e>>8)-(6419*t>>8)-(13320*r>>8)+8708)}function wr(e,t){return br((19077*e>>8)+(33050*t>>8)-17685)}function jr(e,t,r,n,a){n[a+0]=vr(e,r),n[a+1]=yr(e,t,r),n[a+2]=wr(e,t)}function Nr(e,t,r,n,a){n[a+0]=wr(e,t),n[a+1]=yr(e,t,r),n[a+2]=vr(e,r)}function kr(e,t,r,n,a){var s=yr(e,t,r);t=s<<3&224|wr(e,t)>>3,n[a+0]=248&vr(e,r)|s>>5,n[a+1]=t}function Sr(e,t,r,n,a){var s=240&wr(e,t)|15;n[a+0]=240&vr(e,r)|yr(e,t,r)>>4,n[a+1]=s}function Cr(e,t,r,n,a){n[a+0]=255,jr(e,t,r,n,a+1)}function _r(e,t,r,n,a){Nr(e,t,r,n,a),n[a+3]=255}function Pr(e,t,r,n,a){jr(e,t,r,n,a),n[a+3]=255}function Ar(t,r,n){e[t]=function(e,t,a,s,i,o,l,c,d){for(var u=c+(-2&d)*n;c!=u;)r(e[t+0],a[s+0],i[o+0],l,c),r(e[t+1],a[s+0],i[o+0],l,c+n),t+=2,++s,++o,c+=2*n;1&d&&r(e[t+0],a[s+0],i[o+0],l,c)}}function Dr(e,t,r){return 0==r?0==e?0==t?6:5:0==t?4:0:r}function Tr(e,t,r,n,a){switch(e>>>30){case 3:an(t,r,n,a,0);break;case 2:sn(t,r,n,a);break;case 1:ln(t,r,n,a)}}function Lr(e,t){var r,s,i=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,p=e.pc+600;for(r=0;16>r;++r)l[c+32*r-1]=129;for(r=0;8>r;++r)d[u+32*r-1]=129,h[p+32*r-1]=129;for(0<i?l[c-1-32]=d[u-1-32]=h[p-1-32]=129:(a(l,c-32-1,127,21),a(d,u-32-1,127,9),a(h,p-32-1,127,9)),s=0;s<e.za;++s){var m=t.ya[t.aa+s];if(0<s){for(r=-1;16>r;++r)n(l,c+32*r-4,l,c+32*r+12,4);for(r=-1;8>r;++r)n(d,u+32*r-4,d,u+32*r+4,4),n(h,p+32*r-4,h,p+32*r+4,4)}var f=e.Gd,g=e.Hd+s,x=m.ad,b=m.Hc;if(0<i&&(n(l,c-32,f[g].y,0,16),n(d,u-32,f[g].f,0,8),n(h,p-32,f[g].ea,0,8)),m.Za){var v=l,y=c-32+16;for(0<i&&(s>=e.za-1?a(v,y,f[g].y[15],4):n(v,y,f[g+1].y,0,4)),r=0;4>r;r++)v[y+128+r]=v[y+256+r]=v[y+384+r]=v[y+0+r];for(r=0;16>r;++r,b<<=2)v=l,y=c+Fa[r],ua[m.Ob[r]](v,y),Tr(b,x,16*+r,v,y)}else if(v=Dr(s,i,m.Ob[0]),da[v](l,c),0!=b)for(r=0;16>r;++r,b<<=2)Tr(b,x,16*+r,l,c+Fa[r]);for(r=m.Gc,v=Dr(s,i,m.Dd),ha[v](d,u),ha[v](h,p),b=x,v=d,y=u,255&(m=0|r)&&(170&m?on(b,256,v,y):cn(b,256,v,y)),m=h,b=p,255&(r>>=8)&&(170&r?on(x,320,m,b):cn(x,320,m,b)),i<e.Ub-1&&(n(f[g].y,0,l,c+480,16),n(f[g].f,0,d,u+224,8),n(f[g].ea,0,h,p+224,8)),r=8*o*e.B,f=e.sa,g=e.ta+16*s+16*o*e.R,x=e.qa,m=e.ra+8*s+r,b=e.Ha,v=e.Ia+8*s+r,r=0;16>r;++r)n(f,g+r*e.R,l,c+32*r,16);for(r=0;8>r;++r)n(x,m+r*e.B,d,u+32*r,8),n(b,v+r*e.B,h,p+32*r,8)}}function Er(e,n,a,s,i,o,l,c,d){var u=[0],h=[0],p=0,m=null!=d?d.kd:0,f=null!=d?d:new rr;if(null==e||12>a)return 7;f.data=e,f.w=n,f.ha=a,n=[n],a=[a],f.gb=[f.gb];e:{var g=n,b=a,v=f.gb;if(t(null!=e),t(null!=b),t(null!=v),v[0]=0,12<=b[0]&&!r(e,g[0],"RIFF")){if(r(e,g[0]+8,"WEBP")){v=3;break e}var y=L(e,g[0]+4);if(12>y||4294967286<y){v=3;break e}if(m&&y>b[0]-8){v=7;break e}v[0]=y,g[0]+=12,b[0]-=12}v=0}if(0!=v)return v;for(y=0<f.gb[0],a=a[0];;){e:{var j=e;b=n,v=a;var N=u,k=h,S=g=[0];if((P=p=[p])[0]=0,8>v[0])v=7;else{if(!r(j,b[0],"VP8X")){if(10!=L(j,b[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var C=L(j,b[0]+8),_=1+T(j,b[0]+12);if(2147483648<=_*(j=1+T(j,b[0]+15))){v=3;break e}null!=S&&(S[0]=C),null!=N&&(N[0]=_),null!=k&&(k[0]=j),b[0]+=18,v[0]-=18,P[0]=1}v=0}}if(p=p[0],g=g[0],0!=v)return v;if(b=!!(2&g),!y&&p)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=b),null!=c&&(c[0]=0),l=u[0],g=h[0],p&&b&&null==d){v=0;break}if(4>a){v=7;break}if(y&&p||!y&&!p&&!r(e,n[0],"ALPH")){a=[a],f.na=[f.na],f.P=[f.P],f.Sa=[f.Sa];e:{C=e,v=n,y=a;var P=f.gb;N=f.na,k=f.P,S=f.Sa,_=22,t(null!=C),t(null!=y),j=v[0];var A=y[0];for(t(null!=N),t(null!=S),N[0]=null,k[0]=null,S[0]=0;;){if(v[0]=j,y[0]=A,8>A){v=7;break e}var D=L(C,j+4);if(4294967286<D){v=3;break e}var E=8+D+1&-2;if(_+=E,0<P&&_>P){v=3;break e}if(!r(C,j,"VP8 ")||!r(C,j,"VP8L")){v=0;break e}if(A[0]<E){v=7;break e}r(C,j,"ALPH")||(N[0]=C,k[0]=j+8,S[0]=D),j+=E,A-=E}}if(a=a[0],f.na=f.na[0],f.P=f.P[0],f.Sa=f.Sa[0],0!=v)break}a=[a],f.Ja=[f.Ja],f.xa=[f.xa];e:if(P=e,v=n,y=a,N=f.gb[0],k=f.Ja,S=f.xa,C=v[0],j=!r(P,C,"VP8 "),_=!r(P,C,"VP8L"),t(null!=P),t(null!=y),t(null!=k),t(null!=S),8>y[0])v=7;else{if(j||_){if(P=L(P,C+4),12<=N&&P>N-12){v=3;break e}if(m&&P>y[0]-8){v=7;break e}k[0]=P,v[0]+=8,y[0]-=8,S[0]=_}else S[0]=5<=y[0]&&47==P[C+0]&&!(P[C+4]>>5),k[0]=y[0];v=0}if(a=a[0],f.Ja=f.Ja[0],f.xa=f.xa[0],n=n[0],0!=v)break;if(4294967286<f.Ja)return 3;if(null==c||b||(c[0]=f.xa?2:1),l=[l],g=[g],f.xa){if(5>a){v=7;break}c=l,m=g,b=o,null==e||5>a?e=0:5<=a&&47==e[n+0]&&!(e[n+4]>>5)?(y=[0],P=[0],N=[0],x(k=new w,e,n,a),fe(k,y,P,N)?(null!=c&&(c[0]=y[0]),null!=m&&(m[0]=P[0]),null!=b&&(b[0]=N[0]),e=1):e=0):e=0}else{if(10>a){v=7;break}c=g,null==e||10>a||!$e(e,n+3,a-3)?e=0:(m=e[n+0]|e[n+1]<<8|e[n+2]<<16,b=16383&(e[n+7]<<8|e[n+6]),e=16383&(e[n+9]<<8|e[n+8]),1&m||3<(m>>1&7)||!(m>>4&1)||m>>5>=f.Ja||!b||!e?e=0:(l&&(l[0]=b),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],p&&(u[0]!=l||h[0]!=g))return 3;null!=d&&(d[0]=f,d.offset=n-d.w,t(4294967286>n-d.w),t(d.offset==d.ha-a));break}return 0==v||7==v&&p&&null==d?(null!=o&&(o[0]|=null!=f.na&&0<f.na.length),null!=s&&(s[0]=l),null!=i&&(i[0]=g),0):v}function Ir(e,t,r){var n=t.width,a=t.height,s=0,i=0,o=n,l=a;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,s=e.v,i=e.j,11>r||(s&=-2,i&=-2),0>s||0>i||0>=o||0>=l||s+o>n||i+l>a))return 0;if(t.v=s,t.j=i,t.va=s+o,t.o=i+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!R(o,l,r=[e.ib],s=[e.hb]))return 0;t.ib=r[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*n/4&&t.hb<3*a/4,t.Kb=0),1}function Mr(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Rr(e,t,r,n){if(null==n||0>=e||0>=t)return 2;if(null!=r){if(r.Da){var a=r.cd,i=r.bd,o=-2&r.v,l=-2&r.j;if(0>o||0>l||0>=a||0>=i||o+a>e||l+i>t)return 2;e=a,t=i}if(r.da){if(!R(e,t,a=[r.ib],i=[r.hb]))return 2;e=a[0],t=i[0]}}n.width=e,n.height=t;e:{var c=n.width,d=n.height;if(e=n.S,0>=c||0>=d||!(e>=Mn&&13>e))e=2;else{if(0>=n.Rd&&null==n.sd){o=i=a=t=0;var u=(l=c*Ba[e])*d;if(11>e||(i=(d+1)/2*(t=(c+1)/2),12==e&&(o=(a=c)*d)),null==(d=s(u+2*i+o))){e=1;break e}n.sd=d,11>e?((c=n.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=n.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=i,c.ea=d,c.W=0+u+i,c.Db=t,c.Ed=i,12==e&&(c.F=d,c.J=0+u+2*i),c.Tc=o,c.lb=a)}if(t=1,a=n.S,i=n.width,o=n.height,a>=Mn&&13>a)if(11>a)e=n.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+i<=e.size,t&=l>=i*Ba[a],t&=null!=e.eb;else{e=n.f.kb,l=(i+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),p=Math.abs(e.lb),m=p*(o-1)+i;t&=c*(o-1)+i<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=i&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==a&&(t&=p>=i,t&=m<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=r&&r.fd&&(e=Mr(n)),e}var Fr=64,zr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Or=24,Br=32,Ur=8,qr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];O("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,r){return t[r+0]},e.Predictor3=function(e,t,r){return t[r+1]},e.Predictor4=function(e,t,r){return t[r-1]},e.Predictor5=function(e,t,r){return U(U(e,t[r+1]),t[r+0])},e.Predictor6=function(e,t,r){return U(e,t[r-1])},e.Predictor7=function(e,t,r){return U(e,t[r+0])},e.Predictor8=function(e,t,r){return U(t[r-1],t[r+0])},e.Predictor9=function(e,t,r){return U(t[r+0],t[r+1])},e.Predictor10=function(e,t,r){return U(U(e,t[r-1]),U(t[r+0],t[r+1]))},e.Predictor11=function(e,t,r){var n=t[r+0];return 0>=H(n>>24&255,e>>24&255,(t=t[r-1])>>24&255)+H(n>>16&255,e>>16&255,t>>16&255)+H(n>>8&255,e>>8&255,t>>8&255)+H(255&n,255&e,255&t)?n:e},e.Predictor12=function(e,t,r){var n=t[r+0];return(q((e>>24&255)+(n>>24&255)-((t=t[r-1])>>24&255))<<24|q((e>>16&255)+(n>>16&255)-(t>>16&255))<<16|q((e>>8&255)+(n>>8&255)-(t>>8&255))<<8|q((255&e)+(255&n)-(255&t)))>>>0},e.Predictor13=function(e,t,r){var n=t[r-1];return(W((e=U(e,t[r+0]))>>24&255,n>>24&255)<<24|W(e>>16&255,n>>16&255)<<16|W(e>>8&255,n>>8&255)<<8|W(255&e,255&n))>>>0};var Wr=e.PredictorAdd0;e.PredictorAdd1=V,O("Predictor2","PredictorAdd2"),O("Predictor3","PredictorAdd3"),O("Predictor4","PredictorAdd4"),O("Predictor5","PredictorAdd5"),O("Predictor6","PredictorAdd6"),O("Predictor7","PredictorAdd7"),O("Predictor8","PredictorAdd8"),O("Predictor9","PredictorAdd9"),O("Predictor10","PredictorAdd10"),O("Predictor11","PredictorAdd11"),O("Predictor12","PredictorAdd12"),O("Predictor13","PredictorAdd13");var Hr=e.PredictorAdd2;$("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),$("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Vr,Kr=e.ColorIndexInverseTransform,Gr=e.MapARGB,Yr=e.VP8LColorIndexInverseTransformAlpha,$r=e.MapAlpha,Jr=e.VP8LPredictorsAdd=[];Jr.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Xr,Qr,Zr,en,tn,rn,nn,an,sn,on,ln,cn,dn,un,hn,pn,mn,fn,gn,xn,bn,vn,yn,wn,jn,Nn,kn,Sn,Cn=s(511),_n=s(2041),Pn=s(225),An=s(767),Dn=0,Tn=_n,Ln=Pn,En=An,In=Cn,Mn=0,Rn=1,Fn=2,zn=3,On=4,Bn=5,Un=6,qn=7,Wn=8,Hn=9,Vn=10,Kn=[2,3,7],Gn=[3,3,11],Yn=[280,256,256,256,40],$n=[0,1,1,1,0],Jn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zn=8,ea=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ta=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ra=null,na=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sa=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ia=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],la=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ca=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],da=[],ua=[],ha=[],pa=1,ma=2,fa=[],ga=[];gr("UpsampleRgbLinePair",jr,3),gr("UpsampleBgrLinePair",Nr,3),gr("UpsampleRgbaLinePair",Pr,4),gr("UpsampleBgraLinePair",_r,4),gr("UpsampleArgbLinePair",Cr,4),gr("UpsampleRgba4444LinePair",Sr,2),gr("UpsampleRgb565LinePair",kr,2);var xa=e.UpsampleRgbLinePair,ba=e.UpsampleBgrLinePair,va=e.UpsampleRgbaLinePair,ya=e.UpsampleBgraLinePair,wa=e.UpsampleArgbLinePair,ja=e.UpsampleRgba4444LinePair,Na=e.UpsampleRgb565LinePair,ka=16,Sa=1<<ka-1,Ca=-227,_a=482,Pa=6,Aa=(256<<Pa)-1,Da=0,Ta=s(256),La=s(256),Ea=s(256),Ia=s(256),Ma=s(_a-Ca),Ra=s(_a-Ca);Ar("YuvToRgbRow",jr,3),Ar("YuvToBgrRow",Nr,3),Ar("YuvToRgbaRow",Pr,4),Ar("YuvToBgraRow",_r,4),Ar("YuvToArgbRow",Cr,4),Ar("YuvToRgba4444Row",Sr,2),Ar("YuvToRgb565Row",kr,2);var Fa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],za=[0,2,8],Oa=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,r,o,l,c){var d=Rn,u=new tr,h=new ie;u.ba=h,h.S=d,h.width=[h.width],h.height=[h.height];var p=h.width,m=h.height,f=new oe;if(null==f||null==e)var g=2;else t(null!=f),g=Er(e,r,o,f.width,f.height,f.Pd,f.Qd,f.format,null);if(0!=g?p=0:(null!=p&&(p[0]=f.width[0]),null!=m&&(m[0]=f.height[0]),p=1),p){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=c&&(c[0]=h.height);e:{if(l=new Ke,(c=new rr).data=e,c.w=r,c.ha=o,c.kd=1,r=[0],t(null!=c),(0==(e=Er(c.data,c.w,c.ha,null,null,null,r,null,c))||7==e)&&r[0]&&(e=4),0==(r=e)){if(t(null!=u),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=pe,l.ac=he,l.bc=me,l.ma=u,c.xa){if(null==(e=Pe())){u=1;break e}if(function(e,r){var n=[0],a=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==r)return e.a=2,0;if(e.l=r,e.a=0,x(e.m,r.data,r.w,r.ha),!fe(e.m,n,a,s)){e.a=3;break t}if(e.xb=ma,r.width=n[0],r.height=a[0],!Ae(n[0],a[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(r=Rr(l.width,l.height,u.Oa,u.ba))){t:{l=e;r:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Ir(c.Oa,o,zn)){l.a=2;break r}if(!De(l,o.width))break r;if(o.da)break r;if((o.da||ne(l.ca.S))&&fr(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&fr()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!E(l.s.vb,l.s.Wa.Xa)){l.a=1;break r}l.xb=0}if(!Ce(l,l.V,l.Ba,l.c,l.i,o.o,je))break r;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(r=e.a)}else r=e.a}else{if(null==(e=new Ge)){u=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Je(e,l)){if(0==(r=Rr(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,o=u.Oa,t(null!=(c=e)),null!=o){if(0<(p=0>(p=o.Md)?0:100<p?255:255*p/100)){for(m=f=0;4>m;++m)12>(g=c.pb[m]).lc&&(g.ia=p*Oa[0>g.lc?0:g.lc]>>3),f|=g.ia;f&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,r){if(null==e)return 0;if(null==r)return Ye(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,r))return 0;if(t(e.cb),null==r.ac||r.ac(r)){r.ob&&(e.L=0);var o=za[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=r.v-o>>4,e.zb=r.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=r.o+15+o>>4,e.Hb=r.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var p=h;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),u.dd=p,u.tc=2*h+p,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Ye(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(p=e.za);var m=32*p,f=p+1,g=0<e.L?p*(0<e.Aa?2:1):0,x=(2==e.Aa?2:1)*p;if((u=l+832+(c=3*(16*o+za[e.L])/2*m)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=s(u),e.Fc=0,null==e.Ec){o=Ye(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=i(m,We),e.Hd=0,e.rb=i(f+1,Oe),e.sb=1,e.wa=g?i(g,ze):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=i(x,Ue),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(m=za[e.L])*e.R,m=m/2*e.B,e.sa=u,e.ta=h+p,e.qa=e.sa,e.ra=e.ta+16*o*e.R+m,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+m,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),Qe(e),a(e.Ac,e.Bc,0,l),o=1}}if(o){if(r.ka=0,r.y=e.sa,r.O=e.ta,r.f=e.qa,r.N=e.ra,r.ea=e.Ha,r.Vd=e.Ia,r.fa=e.R,r.Rc=e.B,r.F=null,r.J=0,!Dn){for(o=-255;255>=o;++o)Cn[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)_n[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Pn[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)An[255+o]=0>o?0:255<o?255:o;Dn=1}nn=lt,an=at,on=st,ln=it,cn=ot,sn=nt,dn=Gt,un=Yt,hn=Xt,pn=Qt,mn=$t,fn=Jt,gn=Zt,xn=er,bn=Ut,vn=qt,yn=Wt,wn=Ht,ua[0]=Nt,ua[1]=dt,ua[2]=wt,ua[3]=jt,ua[4]=kt,ua[5]=Ct,ua[6]=St,ua[7]=_t,ua[8]=At,ua[9]=Pt,da[0]=gt,da[1]=ht,da[2]=pt,da[3]=mt,da[4]=xt,da[5]=bt,da[6]=vt,ha[0]=Et,ha[1]=ut,ha[2]=Dt,ha[3]=Tt,ha[4]=Mt,ha[5]=It,ha[6]=Rt,o=1}else o=0}o&&(o=function(e,r){for(e.M=0;e.M<e.Va;++e.M){var i,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(i=0;i<c.za;++i){var d=l,u=c,h=u.Ac,p=u.Bc+4*i,m=u.zc,f=u.ya[u.aa+i];if(u.Qa.Bb?f.$b=P(d,u.Pa.jb[0])?2+P(d,u.Pa.jb[2]):P(d,u.Pa.jb[1]):f.$b=0,u.kc&&(f.Ad=P(d,u.Bd)),f.Za=!P(d,145)+0,f.Za){var g=f.Ob,x=0;for(u=0;4>u;++u){var b,v=m[0+u];for(b=0;4>b;++b){v=oa[h[p+b]][v];for(var y=sa[P(d,v[0])];0<y;)y=sa[2*y+P(d,v[y])];v=-y,h[p+b]=v}n(g,x,h,p,4),x+=4,m[0+u]=v}}else v=P(d,156)?P(d,128)?1:3:P(d,163)?2:0,f.Ob[0]=v,a(h,p,v,4),a(m,0,v,4);f.Dd=P(d,142)?P(d,114)?P(d,183)?1:3:2:0}if(c.m.Ka)return Ye(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],i=l.ya[l.aa+l.ja],p=l.kc?i.Ad:0)d.la=h.la=0,i.Za||(d.Na=h.Na=0),i.Hc=0,i.Gc=0,i.ia=0;else{var w,j;if(d=h,h=c,p=l.Pa.Xc,m=l.ya[l.aa+l.ja],f=l.pb[m.$b],u=m.ad,g=0,x=l.rb[l.sb-1],v=b=0,a(u,g,0,384),m.Za)var N=0,k=p[3];else{y=s(16);var S=d.Na+x.Na;if(S=ra(h,p[1],S,f.Eb,0,y,0),d.Na=x.Na=(0<S)+0,1<S)nn(y,0,u,g);else{var C=y[0]+3>>3;for(y=0;256>y;y+=16)u[g+y]=C}N=1,k=p[0]}var _=15&d.la,A=15&x.la;for(y=0;4>y;++y){var D=1&A;for(C=j=0;4>C;++C)_=_>>1|(D=(S=ra(h,k,S=D+(1&_),f.Sc,N,u,g))>N)<<7,j=j<<2|(3<S?3:1<S?2:0!=u[g+0]),g+=16;_>>=4,A=A>>1|D<<7,b=(b<<8|j)>>>0}for(k=_,N=A>>4,w=0;4>w;w+=2){for(j=0,_=d.la>>4+w,A=x.la>>4+w,y=0;2>y;++y){for(D=1&A,C=0;2>C;++C)S=D+(1&_),_=_>>1|(D=0<(S=ra(h,p[2],S,f.Qc,0,u,g)))<<3,j=j<<2|(3<S?3:1<S?2:0!=u[g+0]),g+=16;_>>=2,A=A>>1|D<<5}v|=j<<4*w,k|=_<<4<<w,N|=(240&A)<<w}d.la=k,x.la=N,m.Hc=b,m.Gc=v,m.ia=43690&v?0:f.ia,p=!(b|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[i.$b][i.Za],l.wa[l.Y+l.ja].La|=!p),c.Ka)return Ye(e,7,"Premature end-of-file encountered.")}if(Qe(e),l=r,c=1,i=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(i.M=o.M,i.uc=d,Lr(o,i),c=1,i=(j=o.D).Nb,d=(v=za[o.L])*o.R,h=v/2*o.B,y=16*i*o.R,C=8*i*o.B,p=o.sa,m=o.ta-d+y,f=o.qa,u=o.ra-h+C,g=o.Ha,x=o.Ia-h+C,A=0==(_=j.M),b=_>=o.Va-1,2==o.Aa&&Lr(o,j),j.uc)for(D=(S=o).D.M,t(S.D.uc),j=S.yb;j<S.Hb;++j){N=j,k=D;var T=(L=(U=S).D).Nb;w=U.R;var L=L.wa[L.Y+N],E=U.sa,I=U.ta+16*T*w+16*N,M=L.dd,R=L.tc;if(0!=R)if(t(3<=R),1==U.L)0<N&&vn(E,I,w,R+4),L.La&&wn(E,I,w,R),0<k&&bn(E,I,w,R+4),L.La&&yn(E,I,w,R);else{var F=U.B,z=U.qa,O=U.ra+8*T*F+8*N,B=U.Ha,U=U.Ia+8*T*F+8*N;T=L.ld,0<N&&(un(E,I,w,R+4,M,T),pn(z,O,B,U,F,R+4,M,T)),L.La&&(fn(E,I,w,R,M,T),xn(z,O,B,U,F,R,M,T)),0<k&&(dn(E,I,w,R+4,M,T),hn(z,O,B,U,F,R+4,M,T)),L.La&&(mn(E,I,w,R,M,T),gn(z,O,B,U,F,R,M,T))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(j=16*_,_=16*(_+1),A?(l.y=o.sa,l.O=o.ta+y,l.f=o.qa,l.N=o.ra+C,l.ea=o.Ha,l.W=o.Ia+C):(j-=v,l.y=p,l.O=m,l.f=f,l.N=u,l.ea=g,l.W=x),b||(_-=v),_>l.o&&(_=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&j<_&&(l.J=dr(o,l,j,_-j),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ye(o,3,"Could not decode alpha data.");break t}j<l.j&&(v=l.j-j,j=l.j,t(!(1&v)),l.O+=o.R*v,l.N+=o.B*(v>>1),l.W+=o.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),j<_&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=j-l.j,l.U=l.va-l.v,l.T=_-j,c=l.put(l))}i+1!=o.Ic||b||(n(o.sa,o.ta-d,p,m+16*o.R,d),n(o.qa,o.ra-h,f,u+8*o.B,h),n(o.Ha,o.Ia-h,g,x+8*o.B,h))}if(!c)return Ye(e,6,"Output aborted.")}return 1}(e,r)),null!=r.bc&&r.bc(r),o&=1}return o?(e.cb=0,o):0})(e,l)||(r=e.a)}}else r=e.a}0==r&&null!=u.Oa&&u.Oa.fd&&(r=Mr(u.ba))}u=r}d=0!=u?null:11>d?h.f.RGBA.eb:h.f.kb.y}else d=null;return d};var Ba=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var r="",n=0;n<4;n++)r+=String.fromCharCode(e[t++]);return r}function d(e,t){return e[t+0]|e[t+1]<<8}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var p=[0],m=[0],f=[],g=new l,x=e,b=function(e,t){var r={},n=0,a=!1,s=0,i=0;if(r.frames=[],!function(e,t){for(var r=0;r<4;r++)if(e[t+r]!="RIFF".charCodeAt(r))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var o=c(e,t),l=h(e,t+=4);t+=4;var p=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===r.frames[n]&&(r.frames[n]={}),(g=r.frames[n]).src_off=a?i:t-8,g.src_size=s+l+8,n++,a&&(a=!1,s=0,i=0);break;case"VP8X":(g=r.header={}).feature_flags=e[t];var m=t+4;g.canvas_width=1+u(e,m),m+=3,g.canvas_height=1+u(e,m),m+=3;break;case"ALPH":a=!0,s=p+8,i=t-8;break;case"ANIM":(g=r.header).bgcolor=h(e,t),m=t+4,g.loop_count=d(e,m),m+=2;break;case"ANMF":var f,g;(g=r.frames[n]={}).offset_x=2*u(e,t),t+=3,g.offset_y=2*u(e,t),t+=3,g.width=1+u(e,t),t+=3,g.height=1+u(e,t),t+=3,g.duration=u(e,t),t+=3,f=e[t++],g.dispose=1&f,g.blend=f>>1&1}"ANMF"!=o&&(t+=p)}return r}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var v=b.header?b.header:null,y=b.frames?b.frames:null;if(v){v.loop_counter=v.loop_count,p=[v.canvas_height],m=[v.canvas_width];for(var w=0;w<y.length&&0!=y[w].blend;w++);}var j=y[0],N=g.WebPDecodeRGBA(x,j.src_off,j.src_size,m,p);j.rgba=N,j.imgwidth=m[0],j.imgheight=p[0];for(var k=0;k<m[0]*p[0]*4;k++)f[k]=N[k];return this.width=m,this.height=p,this.data=f,this}!function(e){var t,r,n,a,s,i,o,l,c,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new i,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new i,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var r=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var a=0;Object.defineProperty(this,"posX",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var i=!1;Object.defineProperty(this,"autoPaging",{get:function(){return i},set:function(e){i=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof d&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var p=null,m=null,f=null;Object.defineProperty(this,"fontFaces",{get:function(){return f},set:function(e){p=null,m=null,f=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(e))){var r=t[1];t[2];var n=t[3],a=t[4];t[5];var s=t[6],i=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(a)[2];a="px"===i?Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor):"em"===i?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(a);var o=function(e){var t,r,n=[],a=e.trim();if(""===a)return xp;if(a in np)return[np[a]];for(;""!==a;){switch(r=null,t=(a=sp(a)).charAt(0)){case'"':case"'":r=ip(a.substring(1),t);break;default:r=op(a)}if(null===r)return xp;if(n.push(r[0]),""!==(a=sp(r[1]))&&","!==a.charAt(0))return xp;a=a.replace(/^,/,"")}return n}(s);if(this.fontFaces){var l=function(e,t){var r=e.getFontList(),n=JSON.stringify(r);if(null===p||m!==n){var a=function(e){var t=[];return Object.keys(e).forEach(function(r){e[r].forEach(function(e){var n=null;switch(e){case"bold":n={family:r,weight:"bold"};break;case"italic":n={family:r,style:"italic"};break;case"bolditalic":n={family:r,weight:"bold",style:"italic"};break;case"":case"normal":n={family:r}}null!==n&&(n.ref={name:r,style:e},t.push(n))})}),t}(r);p=function(e){for(var t={},r=0;r<e.length;++r){var n=ep(e[r]),a=n.family,s=n.stretch,i=n.style,o=n.weight;t[a]=t[a]||{},t[a][s]=t[a][s]||{},t[a][s][i]=t[a][s][i]||{},t[a][s][i][o]=n}return t}(a.concat(t)),m=n}return p}(this.pdf,this.fontFaces),c=o.map(function(e){return{family:e,stretch:"normal",weight:n,style:r}}),d=function(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},rp,r.genericFontFamilies||{}),s=null,i=null,o=0;o<t.length;++o)if(a[(s=ep(t[o])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){i=e[s.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+ap(s)+"' and default family '"+n+"'.");if(i=function(e,t){if(t[e])return t[e];var r=Xh[e],n=r<=Xh.normal?-1:1,a=tp(t,Jh,r,n);if(!a)throw new Error("Could not find a matching font-stretch value for "+e);return a}(s.stretch,i),i=function(e,t){if(t[e])return t[e];for(var r=$h[e],n=0;n<r.length;++n)if(t[r[n]])return t[r[n]];throw new Error("Could not find a matching font-style for "+e)}(s.style,i),!(i=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var r=Zh[e],n=tp(t,Qh,r,e<400?-1:1);if(!n)throw new Error("Could not find a matching font-weight for value "+e);return n}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+ap(s)+"'.");return i}(l,c);this.pdf.setFont(d.ref.name,d.ref.style)}else{var u="";("bold"===n||parseInt(n,10)>=700||"bold"===r)&&(u="bold"),"italic"===r&&(u+="italic"),0===u.length&&(u="normal");for(var h="",f={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},g=0;g<o.length;g++){if(void 0!==this.pdf.internal.getFont(o[g],u,{noFallback:!0,disableWarning:!0})){h=o[g];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(o[g],"bold",{noFallback:!0,disableWarning:!0}))h=o[g],u="bold";else if(void 0!==this.pdf.internal.getFont(o[g],"normal",{noFallback:!0,disableWarning:!0})){h=o[g],u="normal";break}}if(""===h)for(var x=0;x<o.length;x++)if(f[o[x]]){h=f[o[x]];break}h=""===h?"Times":h,this.pdf.setFont(h,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,F.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,F.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){y.call(this,"fill",!1)},u.prototype.stroke=function(){y.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw Du.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var r=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"mt",x:r.x,y:r.y}),this.ctx.lastPoint=new i(e,t)},u.prototype.closePath=function(){var e=new i(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,gi.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new i(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw Du.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var r=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"lt",x:r.x,y:r.y}),this.ctx.lastPoint=new i(r.x,r.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),y.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,r,n){if(isNaN(r)||isNaN(n)||isNaN(e)||isNaN(t))throw Du.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new i(r,n)),s=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"qct",x1:s.x,y1:s.y,x:a.x,y:a.y}),this.ctx.lastPoint=new i(a.x,a.y)},u.prototype.bezierCurveTo=function(e,t,r,n,a,s){if(isNaN(a)||isNaN(s)||isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Du.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new i(a,s)),l=this.ctx.transform.applyToPoint(new i(e,t)),c=this.ctx.transform.applyToPoint(new i(r,n));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new i(o.x,o.y)},u.prototype.arc=function(e,t,r,n,a,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(a))throw Du.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new i(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new i(0,r)),c=this.ctx.transform.applyToPoint(new i(0,0));r=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(a-n)>=2*Math.PI&&(n=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:r,startAngle:n,endAngle:a,counterclockwise:s})},u.prototype.arcTo=function(e,t,r,n,a){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Du.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+n),this.lineTo(e,t+n),this.lineTo(e,t),this.lineTo(e+r,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Du.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,r,n),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},u.prototype.strokeRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Du.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,r,n),this.stroke())},u.prototype.clearRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Du.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,r,n))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var n=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=n}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,r,n,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,r=0,n=0,a=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==s)t=parseInt(s[1]),r=parseInt(s[2]),n=parseInt(s[3]),a=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(s[1]),r=parseInt(s[2]),n=parseInt(s[3]),a=parseFloat(s[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var i=new Mu(e);e=i.ok?i.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,r=e.substring(2,3),r+=r,n=e.substring(3,4),n+=n):(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7)),t=parseInt(t,16),r=parseInt(r,16),n=parseInt(n,16)}}return{r:t,g:r,b:n,a:a,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw Du.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(n=isNaN(n)?void 0:n,!p.call(this)){var a=I(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;P.call(this,{text:e,x:t,y:r,scale:s,angle:a,align:this.textAlign,maxWidth:n})}},u.prototype.strokeText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw Du.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){n=isNaN(n)?void 0:n;var a=I(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;P.call(this,{text:e,x:t,y:r,scale:s,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:n})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw Du.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,r=this.pdf.internal.scaleFactor,n=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*n/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*r/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw Du.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var r=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(r)},u.prototype.rotate=function(e){if(isNaN(e))throw Du.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw Du.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var r=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(r)},u.prototype.transform=function(e,t,r,n,a,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(a)||isNaN(s))throw Du.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var i=new l(e,t,r,n,a,s);this.ctx.transform=this.ctx.transform.multiply(i)},u.prototype.setTransform=function(e,t,r,n,a,s){e=isNaN(e)?1:e,t=isNaN(t)?0:t,r=isNaN(r)?0:r,n=isNaN(n)?1:n,a=isNaN(a)?0:a,s=isNaN(s)?0:s,this.ctx.transform=new l(e,t,r,n,a,s)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,r,n,a,s,i,c,d){var u=this.pdf.getImageProperties(e),h=1,p=1,m=1,x=1;void 0!==n&&void 0!==c&&(m=c/n,x=d/a,h=u.width/n*c/n,p=u.height/a*d/a),void 0===s&&(s=t,i=r,t=0,r=0),void 0!==n&&void 0===c&&(c=n,d=a),void 0===n&&void 0===c&&(c=u.width,d=u.height);var y=this.ctx.transform.decompose(),j=I(y.rotate.shx),N=new l,k=(N=(N=(N=N.multiply(y.translate)).multiply(y.skew)).multiply(y.scale)).applyToRectangle(new o(s-t*m,i-r*x,n*h,a*p));if(this.autoPaging){for(var S,C=g.call(this,k),_=[],P=0;P<C.length;P+=1)-1===_.indexOf(C[P])&&_.push(C[P]);v(_);for(var A=_[0],D=_[_.length-1],T=A;T<D+1;T++){this.pdf.setPage(T);var L=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],E=1===T?this.posY+this.margin[0]:this.margin[0],M=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],R=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],F=1===T?0:M+(T-2)*R;if(0!==this.ctx.clip_path.length){var z=this.path;S=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(S,this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=z}var O=JSON.parse(JSON.stringify(k));O=b([O],this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset)[0];var B=(T>A||T<D)&&f.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,R,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",O.x,O.y,O.w,O.h,null,null,j),B&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(e,"JPEG",k.x,k.y,k.w,k.h,null,null,j)};var g=function(e,t,r){var n=[];t=t||this.pdf.internal.pageSize.width,r=r||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var a=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":n.push(Math.floor((e.y+a)/r)+1);break;case"arc":n.push(Math.floor((e.y+a-e.radius)/r)+1),n.push(Math.floor((e.y+a+e.radius)/r)+1);break;case"qct":var s=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);n.push(Math.floor((s.y+a)/r)+1),n.push(Math.floor((s.y+s.h+a)/r)+1);break;case"bct":var i=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);n.push(Math.floor((i.y+a)/r)+1),n.push(Math.floor((i.y+i.h+a)/r)+1);break;case"rect":n.push(Math.floor((e.y+a)/r)+1),n.push(Math.floor((e.y+e.h+a)/r)+1)}for(var o=0;o<n.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<n[o];)x.call(this);return n},x=function(){var e=this.fillStyle,t=this.strokeStyle,r=this.font,n=this.lineCap,a=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=r,this.lineCap=n,this.lineWidth=a,this.lineJoin=s},b=function(e,t,r){for(var n=0;n<e.length;n++)switch(e[n].type){case"bct":e[n].x2+=t,e[n].y2+=r;case"qct":e[n].x1+=t,e[n].y1+=r;default:e[n].x+=t,e[n].y+=r}return e},v=function(e){return e.sort(function(e,t){return e-t})},y=function(e,t){var r=this.fillStyle,n=this.strokeStyle,a=this.lineCap,s=this.lineWidth,i=Math.abs(s*this.ctx.transform.scaleX),o=this.lineJoin;if(this.autoPaging){for(var l,c,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],p=0;p<u.length;p++)if(void 0!==u[p].x)for(var m=g.call(this,u[p]),y=0;y<m.length;y+=1)-1===h.indexOf(m[y])&&h.push(m[y]);for(var j=0;j<h.length;j++)for(;this.pdf.internal.getNumberOfPages()<h[j];)x.call(this);v(h);for(var N=h[0],k=h[h.length-1],S=N;S<k+1;S++){this.pdf.setPage(S),this.fillStyle=r,this.strokeStyle=n,this.lineCap=a,this.lineWidth=i,this.lineJoin=o;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_=1===S?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],A=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],D=1===S?0:P+(S-2)*A;if(0!==this.ctx.clip_path.length){var T=this.path;l=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(l,this.posX+this.margin[3],-D+_+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=T}if(c=JSON.parse(JSON.stringify(d)),this.path=b(c,this.posX+this.margin[3],-D+_+this.ctx.prevPageLastElemOffset),!1===t||0===S){var L=(S>N||S<k)&&f.call(this);L&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,A,null).clip().discardPath()),w.call(this,e,t),L&&this.pdf.restoreGraphicsState()}this.lineWidth=s}this.path=d}else this.lineWidth=i,w.call(this,e,t),this.lineWidth=s},w=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!p.call(this))){for(var r,n,a=[],s=this.path,i=0;i<s.length;i++){var o=s[i];switch(o.type){case"begin":a.push({begin:!0});break;case"close":a.push({close:!0});break;case"mt":a.push({start:o,deltas:[],abs:[]});break;case"lt":var l=a.length;if(s[i-1]&&!isNaN(s[i-1].x)&&(r=[o.x-s[i-1].x,o.y-s[i-1].y],l>0))for(;l>=0;l--)if(!0!==a[l-1].close&&!0!==a[l-1].begin){a[l-1].deltas.push(r),a[l-1].abs.push(o);break}break;case"bct":r=[o.x1-s[i-1].x,o.y1-s[i-1].y,o.x2-s[i-1].x,o.y2-s[i-1].y,o.x-s[i-1].x,o.y-s[i-1].y],a[a.length-1].deltas.push(r);break;case"qct":var c=s[i-1].x+2/3*(o.x1-s[i-1].x),d=s[i-1].y+2/3*(o.y1-s[i-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),f=o.x,g=o.y;r=[c-s[i-1].x,d-s[i-1].y,u-s[i-1].x,h-s[i-1].y,f-s[i-1].x,g-s[i-1].y],a[a.length-1].deltas.push(r);break;case"arc":a.push({deltas:[],abs:[],arc:!0}),Array.isArray(a[a.length-1].abs)&&a[a.length-1].abs.push(o)}}n=t?null:"stroke"===e?"stroke":"fill";for(var x=!1,b=0;b<a.length;b++)if(a[b].arc)for(var v=a[b].abs,y=0;y<v.length;y++){var w=v[y];"arc"===w.type?k.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!x):A.call(this,w.x,w.y),x=!0}else if(!0===a[b].close)this.pdf.internal.out("h"),x=!1;else if(!0!==a[b].begin){var j=a[b].start.x,N=a[b].start.y;D.call(this,a[b].deltas,j,N),x=!0}n&&S.call(this,n),t&&C.call(this)}},j=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,r=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-r;case"top":return e+t-r;case"hanging":return e+t-2*r;case"middle":return e+t/2-r;default:return e}},N=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,r,n,a,s,i,o,l){for(var c=L.call(this,r,n,a,s),d=0;d<c.length;d++){var u=c[d];0===d&&(l?_.call(this,u.x1+e,u.y1+t):A.call(this,u.x1+e,u.y1+t)),T.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?C.call(this):S.call(this,i)},S=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(e,t){this.pdf.internal.out(r(e)+" "+n(t)+" m")},P=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var r,n,a,s=this.pdf.getTextDimensions(e.text),c=j.call(this,e.y),d=N.call(this,c)-s.h,u=this.ctx.transform.applyToPoint(new i(e.x,c));if(this.autoPaging){var h=this.ctx.transform.decompose(),p=new l;p=(p=(p=p.multiply(h.translate)).multiply(h.skew)).multiply(h.scale);for(var m=this.ctx.transform.applyToRectangle(new o(e.x,c,s.w,s.h)),x=p.applyToRectangle(new o(e.x,d,s.w,s.h)),y=g.call(this,x),k=[],S=0;S<y.length;S+=1)-1===k.indexOf(y[S])&&k.push(y[S]);v(k);for(var C=k[0],_=k[k.length-1],P=C;P<_+1;P++){this.pdf.setPage(P);var A=1===P?this.posY+this.margin[0]:this.margin[0],D=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[2],L=T-this.margin[0],E=this.pdf.internal.pageSize.width-this.margin[1],I=E-this.margin[3],M=1===P?0:D+(P-2)*L;if(0!==this.ctx.clip_path.length){var R=this.path;r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(r,this.posX+this.margin[3],-1*M+A),w.call(this,"fill",!0),this.path=R}var F=b([JSON.parse(JSON.stringify(x))],this.posX+this.margin[3],-M+A+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(n=this.pdf.internal.getFontSize(),this.pdf.setFontSize(n*e.scale),a=this.lineWidth,this.lineWidth=a*e.scale);var z="text"!==this.autoPaging;if(z||F.y+F.h<=T){if(z||F.y>=A&&F.x<=E){var O=z?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||E-F.x)[0],B=b([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-M+A+this.ctx.prevPageLastElemOffset)[0],U=z&&(P>C||P<_)&&f.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,L,null).clip().discardPath()),this.pdf.text(O,B.x,B.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else F.y<T&&(this.ctx.prevPageLastElemOffset+=T-F.y);e.scale>=.01&&(this.pdf.setFontSize(n),this.lineWidth=a)}}else e.scale>=.01&&(n=this.pdf.internal.getFontSize(),this.pdf.setFontSize(n*e.scale),a=this.lineWidth,this.lineWidth=a*e.scale),this.pdf.text(e.text,u.x+this.posX,u.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(n),this.lineWidth=a)},A=function(e,t,a,s){a=a||0,s=s||0,this.pdf.internal.out(r(e+a)+" "+n(t+s)+" l")},D=function(e,t,r){return this.pdf.lines(e,t,r,null,null)},T=function(e,r,n,i,o,l,c,d){this.pdf.internal.out([t(a(n+e)),t(s(i+r)),t(a(o+e)),t(s(l+r)),t(a(c+e)),t(s(d+r)),"c"].join(" "))},L=function(e,t,r,n){for(var a=2*Math.PI,s=Math.PI/2;t>r;)t-=a;var i=Math.abs(r-t);i<a&&n&&(i=a-i);for(var o=[],l=n?-1:1,c=t;i>1e-5;){var d=c+l*Math.min(i,s);o.push(E.call(this,e,c,d)),i-=Math.abs(d-c),c=d}return o},E=function(e,t,r){var n=(r-t)/2,a=e*Math.cos(n),s=e*Math.sin(n),i=a,o=-s,l=i*i+o*o,c=l+i*a+o*s,d=4/3*(Math.sqrt(2*l*c)-c)/(i*s-o*a),u=i-d*o,h=o+d*i,p=u,m=-h,f=n+t,g=Math.cos(f),x=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*x,y2:u*x+h*g,x3:p*g-m*x,y3:p*x+m*g,x4:e*Math.cos(r),y4:e*Math.sin(r)}},I=function(e){return 180*e/Math.PI},M=function(e,t,r,n,a,s){var i=e+.5*(r-e),l=t+.5*(n-t),c=a+.5*(r-a),d=s+.5*(n-s),u=Math.min(e,a,i,c),h=Math.max(e,a,i,c),p=Math.min(t,s,l,d),m=Math.max(t,s,l,d);return new o(u,p,h-u,m-p)},R=function(e,t,r,n,a,s,i,l){var c,d,u,h,p,m,f,g,x,b,v,y,w,j,N=r-e,k=n-t,S=a-r,C=s-n,_=i-a,P=l-s;for(d=0;d<41;d++)x=(f=(u=e+(c=d/40)*N)+c*((p=r+c*S)-u))+c*(p+c*(a+c*_-p)-f),b=(g=(h=t+c*k)+c*((m=n+c*C)-h))+c*(m+c*(s+c*P-m)-g),0==d?(v=x,y=b,w=x,j=b):(v=Math.min(v,x),y=Math.min(y,b),w=Math.max(w,x),j=Math.max(j,b));return new o(Math.round(v),Math.round(y),Math.round(w-v),Math.round(j-y))},F=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,r=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==r&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=r)}}}(oh.API),function(e){var t=function(e){var t,r,n,a,s,i,o,l,c,d;for(/[^\x00-\xFF]/.test(e),r=[],n=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;a>n;n+=4)0!==(s=(e.charCodeAt(n)<<24)+(e.charCodeAt(n+1)<<16)+(e.charCodeAt(n+2)<<8)+e.charCodeAt(n+3))?(i=(s=((s=((s=((s=(s-(d=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(o=s%85))/85)%85,r.push(i+33,o+33,l+33,c+33,d+33)):r.push(122);return function(e,t){for(var r=t;r>0;r--)e.pop()}(r,t.length),String.fromCharCode.apply(String,r)+"~>"},r=function(e){var t,r,n,a,s,i=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),n=[],a=0,s=(e+=t="uuuuu"[d](e[o]%5||5))[o];s>a;a+=5)r=52200625*(e[c](a)-33)+614125*(e[c](a+1)-33)+7225*(e[c](a+2)-33)+85*(e[c](a+3)-33)+(e[c](a+4)-33),n.push(l&r>>24,l&r>>16,l&r>>8,l&r);return function(e,t){for(var r=t;r>0;r--)e.pop()}(n,t[o]),i.fromCharCode.apply(i,n)},n=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var r="",n=0;n<e.length;n+=2)r+=String.fromCharCode("0x"+(e[n]+e[n+1]));return r},s=function(e){for(var t=new Uint8Array(e.length),r=e.length;r--;)t[r]=e.charCodeAt(r);return(t=eo(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,i){var o=0,l=e||"",c=[];for("string"==typeof(i=i||[])&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=a(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=n(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(oh.API),(gp=oh.API).loadFile=function(e,t,r){return function(e,t,r){t=!1!==t,r="function"==typeof r?r:function(){};var n=void 0;try{n=function(e,t,r){var n=new XMLHttpRequest,a=0,s=function(e){var t=e.length,r=[],n=String.fromCharCode;for(a=0;a<t;a+=1)r.push(n(255&e.charCodeAt(a)));return r.join("")};if(n.open("GET",e,!t),n.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(n.onload=function(){200===n.status?r(s(this.responseText)):r(void 0)}),n.send(null),t&&200===n.status)return s(n.responseText)}(e,t,r)}catch(Di){}return n}(e,t,r)},gp.loadImageFile=gp.loadFile,function(e){function t(){return(Pu.html2canvas?Promise.resolve(Pu.html2canvas):r.e(239).then(r.t.bind(r,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function n(){return(Pu.DOMPurify?Promise.resolve(Pu.DOMPurify):r.e(977).then(r.bind(r,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var a=function(e){var t=(0,gi.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var r=document.createElement(e);for(var n in t.className&&(r.className=t.className),t.innerHTML&&t.dompurify&&(r.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)r.style[n]=t.style[n];return r},i=function e(t,r){for(var n=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==r&&1===a.nodeType&&"SCRIPT"===a.nodeName||n.appendChild(e(a,r));return 1===t.nodeType&&("CANVAS"===t.nodeName?(n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(n.value=t.value),n.addEventListener("load",function(){n.scrollTop=t.scrollTop,n.scrollLeft=t.scrollLeft},!0)),n},o=function e(t){var r=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),n=e.convert(Promise.resolve(),r);return(n=n.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(a(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(n).then(function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,r=this.opt.fontFaces,n="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:n,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=r,r)for(var s=0;s<r.length;++s){var i=r[s],o=i.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,i.ref.name,i.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=0==a.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,t.context2d.save(!0),e(this.prop.container,a)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,r){return"img"===(r=r||"pdf").toLowerCase()||"image"===r.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if("object"!==a(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var r=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(r):r})},o.prototype.setMargin=function(e){return this.then(function(){switch(a(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||oh.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,r,n){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=r&&(this.progress.n=r),null!=n&&(this.progress.stack=n),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,r,n){return this.setProgress(e?this.progress.val+e:null,t||null,r?this.progress.n+r:null,n?this.progress.stack.concat(n):null)},o.prototype.then=function(e,t){var r=this;return this.thenCore(e,t,function(e,t){return r.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return r.updateProgress(null,e),t}).then(e,t).then(function(e){return r.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,r){r=r||Promise.prototype.then;var n=this;e&&(e=e.bind(n)),t&&(t=t.bind(n));var a=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?n:o.convert(Object.assign({},n),Promise.prototype),s=r.call(a,e,t);return o.convert(s,n.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw new Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,oh.getPageSize=function(e,t,r){if("object"===(0,gi.A)(e)){var n=e;e=n.orientation,t=n.unit||t,r=n.format||r}t=t||"mm",r=r||"a4",e=(""+(e||"P")).toLowerCase();var a,s=(""+r).toLowerCase(),i={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(i.hasOwnProperty(s))l=i[s][1]/a,c=i[s][0]/a;else try{l=r[1],c=r[0]}catch(Mu){throw new Error("Invalid format: "+r)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:a,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(ep):null;var r=new o(t);return t.worker?r:r.from(e).doCallback()}}(oh.API),oh.API.addJS=function(e){return dp=e,this.internal.events.subscribe("postPutResources",function(){lp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(lp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+dp+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==lp&&void 0!==cp&&this.internal.out("/Names <</JavaScript "+lp+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),a=0;a<n.length;a++){var s=n[a],i=r.exec(s);if(null!=i){var o=i[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,r){var n={title:t,options:r,children:[]};return null==e&&(e=this.root),e.children.push(n),n},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var r=0;r<t.children.length;r++)this.genIds_r(t.children[r])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<t.children.length;n++){var a=t.children[n];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),n>0&&this.line("/Prev "+this.makeRef(t.children[n-1])),n<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[n+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var i=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var r=0;r<t.children.length;r++)e.count++,this.count_r(e,t.children[r]);return e.count}}])}(oh.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,r,n,a,s,i){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,o=function(e){for(var r,n=256*e.charCodeAt(4)+e.charCodeAt(5),a=e.length,s={width:0,height:0,numcomponents:1},i=4;i<a;i+=2){if(i+=n,-1!==t.indexOf(e.charCodeAt(i+1))){r=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),s={width:256*e.charCodeAt(i+7)+e.charCodeAt(i+8),height:r,numcomponents:e.charCodeAt(i+9)};break}n=256*e.charCodeAt(i+2)+e.charCodeAt(i+3)}return s}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),o.numcomponents){case 1:i=this.color_spaces.DEVICE_GRAY;break;case 4:i=this.color_spaces.DEVICE_CMYK;break;case 3:i=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:i,bitsPerComponent:8,filter:l,index:r,alias:n}}return c}}(oh.API),oh.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=new Cu(e,{checkCrc:!0}).decode(),i=s.width,o=s.height,l=s.channels,c=s.palette,d=s.depth;a=c&&1===l?function(e){for(var t=e.width,r=e.height,n=e.data,a=e.palette,s=e.depth,i=!1,o=[],l=[],c=void 0,d=!1,u=0,h=0;h<a.length;h++){var p=no(a[h],4),m=p[0],f=p[1],g=p[2],x=p[3];o.push(m,f,g),null!=x&&(0===x?(u++,l.length<1&&l.push(h)):x<255&&(d=!0))}if(d||u>1){i=!0,l=void 0;var b=t*r;c=new Uint8Array(b);for(var v=new DataView(n.buffer),y=0;y<b;y++){var w=no(a[Cp(v,y,s)],4)[3];c[y]=w}}else 0===u&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:i?8:void 0,colorBytes:n,alphaBytes:c,needSMask:i,palette:o,mask:l}}(s):2===l||4===l?function(e){for(var t=e.data,r=e.width,n=e.height,a=e.channels,s=e.depth,i=2===a?"DeviceGray":"DeviceRGB",o=a-1,l=r*n,c=o,d=l*c,u=1*l,h=Math.ceil(d*s/8),p=Math.ceil(u*s/8),m=new Uint8Array(h),f=new Uint8Array(p),g=new DataView(t.buffer),x=new DataView(m.buffer),b=new DataView(f.buffer),v=!1,y=0;y<l;y++){for(var w=y*a,j=0;j<c;j++)_p(x,Cp(g,w+j,s),y*c+j,s);var N=Cp(g,w+c,s);N<(1<<s)-1&&(v=!0),_p(b,N,1*y,s)}return{colorSpace:i,colorsPerPixel:o,sMaskBitsPerComponent:v?s:void 0,colorBytes:m,alphaBytes:f,needSMask:v}}(s):function(e){var t=e.data,r=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:r,colorsPerPixel:"DeviceGray"===r?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,r=new Uint8Array(2*t),n=new DataView(r.buffer,r.byteOffset,r.byteLength),a=0;a<t;a++)n.setUint16(2*a,e[a],!1);return r}(t):t,needSMask:!1}}(s);var u,h,p,m=a,f=m.colorSpace,g=m.colorsPerPixel,x=m.sMaskBitsPerComponent,b=m.colorBytes,v=m.alphaBytes,y=m.needSMask,w=m.palette,j=m.mask,N=null;return n!==oh.API.image_compression.NONE?(N=function(e){var t;switch(e){case oh.API.image_compression.FAST:t=11;break;case oh.API.image_compression.MEDIUM:t=13;break;case oh.API.image_compression.SLOW:t=14;break;default:t=12}return t}(n),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(N," /Colors ").concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(i),e=bp(b,Math.ceil(i*g*d/8),g,d,n),y&&(p=bp(v,Math.ceil(i*x/8),1,x,n))):(u=void 0,h=void 0,e=b,y&&(p=v)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:u,decodeParameters:h,transparency:j,palette:w,sMask:p,predictor:N,width:i,height:o,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:f}}},function(e){e.processGIF89A=function(t,r,n,a){var s=new Ap(t),i=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:i,height:o},d=new Tp(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(oh.API),Lp.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Lp.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Du.log("bit decode error:"+r)}},Lp.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}0!==r&&(this.pos+=4-r)}},Lp.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[i]=c.blue,this.data[i+1]=c.green,this.data[i+2]=c.red,this.data[i+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[i+4]=c.blue,this.data[i+4+1]=c.green,this.data[i+4+2]=c.red,this.data[i+4+3]=255}0!==t&&(this.pos+=4-t)}},Lp.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==e&&(this.pos+=4-e)}},Lp.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=c}this.pos+=e}},Lp.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&r)/r*255|0,c=(i>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Lp.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},Lp.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=i}},Lp.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new Lp(t,!1),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},c=new Tp(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(oh.API),Ep.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new Ep(t),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},c=new Tp(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(oh.API),oh.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var d=n[c],u=n[c+1],h=n[c+2],p=n[c+3];s[o++]=d,s[o++]=u,s[o++]=h,i[l++]=p}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},oh.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},up=oh.API,hp=up.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=!1!==t.doKerning,h=0,p=e.length,m=0,f=o[0]||l,g=[];for(r=0;r<p;r++)n=e.charCodeAt(r),"function"==typeof a.metadata.widthOfString?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(h=u&&"object"===(0,gi.A)(c[n])&&!isNaN(parseInt(c[n][m],10))?c[n][m]/d:0,g.push((o[n]||f)/l+h)),m=n;return g},pp=up.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return up.processArabic&&(e=up.processArabic(e)),"function"==typeof n.metadata.widthOfString?n.metadata.widthOfString(e,r,a)/r:hp.apply(this,arguments).reduce(function(e,t){return e+t},0)},mp=function(e,t,r,n){for(var a=[],s=0,i=e.length,o=0;s!==i&&o+t[s]<r;)o+=t[s],s++;a.push(e.slice(0,s));var l=s;for(o=0;s!==i;)o+t[s]>n&&(a.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&a.push(e.slice(l,s)),a},fp=function(e,t,r){r||(r={});var n,a,s,i,o,l,c,d=[],u=[d],h=r.textIndent||0,p=0,m=0,f=e.split(" "),g=hp.apply(this,[" ",r])[0];if(l=-1===r.lineIndent?f[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),b=[];f.map(function(e){(e=e.split(/\s*\n/)).length>1?b=b.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):b.push(e[0])}),f=b,l=pp.apply(this,[x,r])}for(s=0,i=f.length;s<i;s++){var v=0;if(n=f[s],l&&"\n"==n[0]&&(n=n.substr(1),v=1),h+p+(m=(a=hp.apply(this,[n,r])).reduce(function(e,t){return e+t},0))>t||v){if(m>t){for(o=mp.apply(this,[n,a,t-(h+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);m=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[n];u.push(d),h=m+l,p=g}else d.push(n),h+=p+m,p=g}return c=l?function(e,t){return(t?x:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},up.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),r="Unicode";return t.metadata[r]?{widths:t.metadata[r].widths||{0:1},kerning:t.metadata[r].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(fp.apply(this,[n[o],i,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=t[s],a[t[s]]=r[s];var i=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,r,n,s,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?r="'"+c+"'":(c=parseInt(c,10),r=(r=i(c).slice(2)).slice(0,-1)+a[r.slice(-1)]),"number"==typeof t)t<0?(n=i(t).slice(3),s="-"):(n=i(t).slice(2),s=""),n=s+n.slice(0,-1)+a[n.slice(-1)];else{if("object"!==(0,gi.A)(t))throw new Error("Don't know what to do with value type "+(0,gi.A)(t)+".");n=o(t)}l.push(r+n)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,a,s,i={},o=1,l=i,c=[],d="",u="",h=e.length-1,p=1;p<h;p+=1)"'"==(s=e[p])?t?(a=t.join(""),t=void 0):t=[]:t?t.push(s):"{"==s?(c.push([l,a]),l={},a=void 0):"}"==s?((r=c.pop())[0][r[1]]=l,a=void 0,l=r[0]):"-"==s?o=-1:void 0===a?n.hasOwnProperty(s)?(d+=n[s],a=parseInt(d,16)*o,o=1,d=""):d+=s:n.hasOwnProperty(s)?(u+=n[s],l[a]=parseInt(u,16)*o,o=1,a=void 0,u=""):u+=s;return i},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,r=u.Unicode[t.postScriptName];r&&(t.metadata.Unicode={},t.metadata.Unicode.widths=r.widths,t.metadata.Unicode.kerning=r.kerning);var n=d.Unicode[t.postScriptName];n&&(t.metadata.Unicode.encoding=n,t.encoding=n.codePages[0])}])}(oh.API),function(e){var t=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(n=!1===s.existsFileInVFS(a.postScriptName)?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");!function(r,n){n=/^\x00\x01\x00\x00/.test(n)?t(n):t(Ru(n)),r.metadata=e.API.TTFFont.open(n),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]}(a,n)}}])}(oh),oh.API.addSvgAsImage=function(e,t,n,a,s,i,o,l){if(isNaN(t)||isNaN(n))throw Du.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Du.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Pu.canvg?Promise.resolve(Pu.canvg):r.e(455).then(r.bind(r,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,n,a,s,o,l)})},oh.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},oh.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],c=0,d=0,u=0;function h(e,t){var r,n=!1;for(r=0;r<e.length;r+=1)e[r]===t&&(n=!0);return n}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=o.length;for(u=0;u<p;u+=1)r[o[u]].value=r[o[u]].defaultValue,r[o[u]].explicitSet=!1}if("object"===(0,gi.A)(e))for(a in e)if(s=e[a],h(o,a)&&void 0!==s){if("boolean"===r[a].type&&"boolean"==typeof s)r[a].value=s;else if("name"===r[a].type&&h(r[a].valueSet,s))r[a].value=s;else if("integer"===r[a].type&&Number.isInteger(s))r[a].value=s;else if("array"===r[a].type){for(c=0;c<s.length;c+=1)if(n=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)"number"!=typeof s[c][d]&&(n=!1);!0===n&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in r)!0===r[e].explicitSet&&("name"===r[e].type?t.push("/"+e+" /"+r[e].value):t.push("/"+e+" "+r[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(e)),n=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),i=r.length+n.length+a.length+t.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+i+" >>"),this.internal.write("stream"),this.internal.write(t+r+n+a+s),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,n){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(oh.API),function(e){var t=e.API,r=t.pdfEscape16=function(e,t){for(var r,n=t.metadata.Unicode.widths,a=["","0","00","000","0000"],s=[""],i=0,o=e.length;i<o;++i){if(r=t.metadata.characterToGlyph(e.charCodeAt(i)),t.metadata.glyIdsUsed.push(r),t.metadata.toUnicode[r]=e.charCodeAt(i),-1==n.indexOf(r)&&(n.push(r),n.push([parseInt(t.metadata.widthOfGlyph(r),10)])),"0"==r)return s.join("");r=r.toString(16),s.push(a[4-r.length],r)}return s.join("")},n=function(e){var t,r,n,a,s,i,o;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",n=[],i=0,o=(r=Object.keys(e).sort(function(e,t){return e-t})).length;i<o;i++)t=r[i],n.length>=100&&(s+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar",n=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),n.push("<"+t+"><"+a+">"));return n.length&&(s+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var r=t.font,a=t.out,s=t.newObject,i=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"Identity-H"===r.encoding){for(var o=r.metadata.Unicode.widths,l=r.metadata.subset.encode(r.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=s();i({data:c,addLength1:!0,objectId:u}),a("endobj");var h=s();i({data:n(r.metadata.toUnicode),addLength1:!0,objectId:h}),a("endobj");var p=s();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+th(r.fontName)),a("/FontFile2 "+u+" 0 R"),a("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),a("/Flags "+r.metadata.flags),a("/StemV "+r.metadata.stemV),a("/ItalicAngle "+r.metadata.italicAngle),a("/Ascent "+r.metadata.ascender),a("/Descent "+r.metadata.decender),a("/CapHeight "+r.metadata.capHeight),a(">>"),a("endobj");var m=s();a("<<"),a("/Type /Font"),a("/BaseFont /"+th(r.fontName)),a("/FontDescriptor "+p+" 0 R"),a("/W "+e.API.PDFObject.convert(o)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+r.encoding+")"),a(">>"),a(">>"),a("endobj"),r.objectNumber=s(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+h+" 0 R"),a("/BaseFont /"+th(r.fontName)),a("/Encoding /"+r.encoding),a("/DescendantFonts ["+m+" 0 R]"),a(">>"),a("endobj"),r.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var r=t.font,a=t.out,s=t.newObject,i=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===r.encoding){for(var o=r.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=s();i({data:l,addLength1:!0,objectId:d}),a("endobj");var u=s();i({data:n(r.metadata.toUnicode),addLength1:!0,objectId:u}),a("endobj");var h=s();a("<<"),a("/Descent "+r.metadata.decender),a("/CapHeight "+r.metadata.capHeight),a("/StemV "+r.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+d+" 0 R"),a("/Flags 96"),a("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),a("/FontName /"+th(r.fontName)),a("/ItalicAngle "+r.metadata.italicAngle),a("/Ascent "+r.metadata.ascender),a(">>"),a("endobj"),r.objectNumber=s();for(var p=0;p<r.metadata.hmtx.widths.length;p++)r.metadata.hmtx.widths[p]=parseInt(r.metadata.hmtx.widths[p]*(1e3/r.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+th(r.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+r.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(r.metadata.hmtx.widths)+">>"),a("endobj"),r.isAlreadyPutted=!0}}(t)}]);var a=function(e){var t,n=e.text||"",a=e.x,s=e.y,i=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",p=0,m="",f=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:n,x:a,y:s,options:i,mutex:o};for(m=n,u=c,Array.isArray(n)&&(m=n[0]),p=0;p<m.length;p+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[m[p].charCodeAt(0)]),t||m[p].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=m[p]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===f?g=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===f&&(g=r(h,d[u])),o.isHex=!0,{text:g,x:a,y:s,options:i,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",r=[],n={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var s=0;for(s=0;s<t.length;s+=1)Array.isArray(t[s])&&3===t[s].length?r.push([a(Object.assign({},n,{text:t[s][0]})).text,t[s][1],t[s][2]]):r.push(a(Object.assign({},n,{text:t[s]})).text);e.text=r}else e.text=a(Object.assign({},n,{text:t})).text}])}(oh),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(oh.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var r,n,a,s,i,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,x=0;this.__bidiEngine__={};var b=function(e){var t=e.charCodeAt(),r=t>>8,n=p[r];return void 0!==n?c[256*n+(255&t)]:252===r||253===r?"AL":f.test(r)?"L":8===r?"R":"N"},v=function(e){for(var t,r=0;r<e.length;r++){if("L"===(t=b(e.charAt(r))))return!1;if("R"===t)return!0}return!1},y=function(e,t,i,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=i[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?i[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===i[o-1]){h="EN";break}if(g){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(a&&!s){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var p=e[o],m=p>=1425&&p<=2303||64286===p;if(l=t[d],m&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":i[o-1];break;case"B":g=!1,r=!0,h=x;break;case"S":n=!0,h="N"}return h},w=function(e,t,r){var n=e.split("");return r&&j(n,r,{hiLevel:x}),n.reverse(),t&&t.reverse(),n.join("")},j=function(e,t,a){var s,i,o,l,c,p=-1,m=e.length,f=0,v=[],w=x?u:d,j=[];for(g=!1,r=!1,n=!1,i=0;i<m;i++)j[i]=b(e[i]);for(o=0;o<m;o++){if(c=f,v[o]=y(e,j,v,o),s=240&(f=w[c][h[v[o]]]),f&=15,t[o]=l=w[f][5],s>0)if(16===s){for(i=p;i<o;i++)t[i]=1;p=-1}else p=-1;if(w[f][6])-1===p&&(p=o);else if(p>-1){for(i=p;i<o;i++)t[i]=l;p=-1}"B"===j[o]&&(t[o]=0),a.hiLevel|=l}n&&function(e,t,r){for(var n=0;n<r;n++)if("S"===e[n]){t[n]=x;for(var a=n-1;a>=0&&"WS"===e[a];a--)t[a]=x}}(j,t,m)},N=function(e,t,n,a,s){if(!(s.hiLevel<e)){if(1===e&&1===x&&!r)return t.reverse(),void(n&&n.reverse());for(var i,o,l,c,d=t.length,u=0;u<d;){if(a[u]>=e){for(l=u+1;l<d&&a[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)i=t[c],t[c]=t[o],t[o]=i,n&&(i=n[c],n[c]=n[o],n[o]=i);u=l}u++}}},k=function(e,t,r){var n=e.split(""),a={hiLevel:x};return r||(r=[]),j(n,r,a),function(e,t,r){if(0!==r.hiLevel&&l)for(var n,a=0;a<e.length;a++)1===t[a]&&(n=m.indexOf(e[a]))>=0&&(e[a]=m[n+1])}(n,r,a),N(2,n,t,r,a),N(1,n,t,r,a),n.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,r){if(function(e,t){if(t)for(var r=0;r<e.length;r++)t[r]=r;void 0===s&&(s=v(e)),void 0===o&&(o=v(e))}(e,t),a||!i||o)if(a&&i&&s^o)x=s?1:0,e=w(e,t,r);else if(!a&&i&&o)x=s?1:0,e=k(e,t,r),e=w(e,t);else if(!a||s||i||o){if(a&&!i&&s^o)e=w(e,t),s?(x=0,e=k(e,t,r)):(x=1,e=k(e,t,r),e=w(e,t));else if(a&&s&&!i&&o)x=1,e=k(e,t,r),e=w(e,t);else if(!a&&!i&&s^o){var n=l;s?(x=1,e=k(e,t,r),x=0,l=!1,e=k(e,t,r),l=n):(x=0,e=k(e,t,r),e=w(e,t),x=1,l=!1,e=k(e,t,r),l=n,e=w(e,t))}}else x=0,e=k(e,t,r);else x=s?1:0,e=k(e,t,r);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,i=e.isOutputVisual,s=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var n=e.options||{};e.mutex,n.lang;var a=[];if(n.isInputVisual="boolean"!=typeof n.isInputVisual||n.isInputVisual,r.setOptions(n),"[object Array]"===Object.prototype.toString.call(t)){var s=0;for(a=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?a.push([r.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):a.push([r.doBidiReorder(t[s])]);e.text=a}else e.text=r.doBidiReorder(t);r.setOptions({isInputVisual:!0})}])}(oh),oh.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Mp(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new em(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Rp(this.contents),this.head=new Op(this),this.name=new Kp(this),this.cmap=new Up(this),this.toUnicode={},this.hhea=new qp(this),this.maxp=new Gp(this),this.hmtx=new Yp(this),this.post=new Hp(this),this.os2=new Wp(this),this.loca=new Zp(this),this.glyf=new Jp(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,r,n,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,r,n,a;for(a=[],t=0,r=(n=this.bbox).length;t<r;t++)e=n[t],a.push(Math.round(e*this.scaleFactor));return a}.call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(t=n>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(a=this.familyClass)||2===a||3===a||4===a||5===a||7===a,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,r){var n,a,s,i;for(s=0,a=0,i=(e=""+e).length;0<=i?a<i:a>i;a=0<=i?++a:--a)n=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(e,t){var r;return null==t&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},e}();var Ip,Mp=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(e){var t,r,n;for(n=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)n.push(this.writeByte(e.charCodeAt(t)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,r,n,a,s,i,o;return e=this.readByte(),t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^a)+65536*(255^s)+256*(255^i)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*n+16777216*a+65536*s+256*i+o},e.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(e){var t,r,n,a;for(a=[],r=0,n=e.length;r<n;r++)t=e[r],a.push(this.writeByte(t));return a},e}(),Rp=function(){var e;function t(e){var t,r,n;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,n=this.tableCount;0<=n?r<n:r>n;r=0<=n?++r:--r)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var r,n,a,s,i,o,l,c,d,u,h,p,m;for(m in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),s=Math.floor(d/o),c=16*h-d,(n=new Mp).writeInt(this.scalarType),n.writeShort(h),n.writeShort(d),n.writeShort(s),n.writeShort(c),a=16*h,l=n.pos+a,i=null,p=[],t)for(u=t[m],n.writeString(m),n.writeInt(e(u)),n.writeInt(l),n.writeInt(u.length),p=p.concat(u),"head"===m&&(i=l),l+=u.length;l%4;)p.push(0),l++;return n.write(p),r=2981146554-e(n.data),n.pos=i+8,n.writeUInt32(r),n.data},e=function(e){var t,r,n,a;for(e=$p.call(e);e.length%4;)e.push(0);for(n=new Mp(e),r=0,t=0,a=e.length;t<a;t=t+=4)r+=n.readUInt32();return 4294967295&r},t}(),Fp={}.hasOwnProperty,zp=function(e,t){for(var r in t)Fp.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ip=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Op=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zp(e,Ip),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new Mp).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),Bp=function(){function e(e,t){var r,n,a,s,i,o,l,c,d,u,h,p,m,f,g,x,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,a=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),e.pos+=2,m=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),l=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),c=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),n=(this.length-e.pos+this.offset)/2,i=function(){var t,r;for(r=[],o=t=0;0<=n?t<n:t>n;o=0<=n?++t:--t)r.push(e.readUInt16());return r}(),o=g=0,b=a.length;g<b;o=++g)for(f=a[o],r=x=p=m[o];p<=f?x<=f:x>=f;r=p<=f?++x:--x)0===c[o]?s=r+l[o]:0!==(s=i[c[o]/2+(r-p)-(u-o)]||0)&&(s+=l[o]),this.codeMap[r]=65535&s}e.pos=d}return e.encode=function(e,t){var r,n,a,s,i,o,l,c,d,u,h,p,m,f,g,x,b,v,y,w,j,N,k,S,C,_,P,A,D,T,L,E,I,M,R,F,z,O,B,U,q,W,H,V,K,G;switch(A=new Mp,s=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(m=0,f=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),x={0:0},a={},D=0,I=s.length;D<I;D++)null==x[H=e[n=s[D]]]&&(x[H]=++m),a[n]={old:e[n],new:x[e[n]]},f[n]=x[e[n]];return A.writeUInt16(1),A.writeUInt16(0),A.writeUInt32(12),A.writeUInt16(0),A.writeUInt16(262),A.writeUInt16(0),A.write(f),{charMap:a,subtable:A.data,maxGlyphID:m+1};case"unicode":for(_=[],d=[],b=0,x={},r={},g=l=null,T=0,M=s.length;T<M;T++)null==x[y=e[n=s[T]]]&&(x[y]=++b),r[n]={old:y,new:x[y]},i=x[y]-n,null!=g&&i===l||(g&&d.push(g),_.push(n),l=i),g=n;for(g&&d.push(g),d.push(65535),_.push(65535),S=2*(k=_.length),N=2*Math.pow(Math.log(k)/Math.LN2,2),u=Math.log(N/2)/Math.LN2,j=2*k-N,o=[],w=[],h=[],p=L=0,R=_.length;L<R;p=++L){if(C=_[p],c=d[p],65535===C){o.push(0),w.push(0);break}if(C-(P=r[C].new)>=32768)for(o.push(0),w.push(2*(h.length+k-p)),n=E=C;C<=c?E<=c:E>=c;n=C<=c?++E:--E)h.push(r[n].new);else o.push(P-C),w.push(0)}for(A.writeUInt16(3),A.writeUInt16(1),A.writeUInt32(12),A.writeUInt16(4),A.writeUInt16(16+8*k+2*h.length),A.writeUInt16(0),A.writeUInt16(S),A.writeUInt16(N),A.writeUInt16(u),A.writeUInt16(j),q=0,F=d.length;q<F;q++)n=d[q],A.writeUInt16(n);for(A.writeUInt16(0),W=0,z=_.length;W<z;W++)n=_[W],A.writeUInt16(n);for(V=0,O=o.length;V<O;V++)i=o[V],A.writeUInt16(i);for(K=0,B=w.length;K<B;K++)v=w[K],A.writeUInt16(v);for(G=0,U=h.length;G<U;G++)m=h[G],A.writeUInt16(m);return{charMap:r,subtable:A.data,maxGlyphID:b+1}}},e}(),Up=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zp(e,Ip),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,r,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t=new Bp(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var r,n;return null==t&&(t="macroman"),r=Bp.encode(e,t),(n=new Mp).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},e}(),qp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zp(e,Ip),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),Wp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zp(e,Ip),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Hp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zp(e,Ip),e.prototype.tag="post",e.prototype.parse=function(e){var t,r,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)t=e.readByte(),n.push(this.names.push(e.readString(t)));return n;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var t,r,n;for(n=[],a=t=0,r=this.file.maxp.numGlyphs;0<=r?t<r:t>r;a=0<=r?++t:--t)n.push(e.readUInt32());return n}.call(this)}},e}(),Vp=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Kp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zp(e,Ip),e.prototype.tag="name",e.prototype.parse=function(e){var t,r,n,a,s,i,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),i=e.readShort(),r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+i+e.readShort()});for(o={},a=c=0,d=r.length;c<d;a=++c)n=r[a],e.pos=n.offset,l=e.readString(n.length),s=new Vp(l,n),null==o[u=n.nameID]&&(o[u]=[]),o[n.nameID].push(s);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(Ru){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),Gp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zp(e,Ip),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Yp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zp(e,Ip),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,r,n,a,s,i,o;for(e.pos=this.offset,this.metrics=[],t=0,i=this.file.hhea.numberOfMetrics;0<=i?t<i:t>i;t=0<=i?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var r,a;for(a=[],t=r=0;0<=n?r<n:r>n;t=0<=n?++r:--r)a.push(e.readInt16());return a}(),this.widths=function(){var e,t,r,n;for(n=[],e=0,t=(r=this.metrics).length;e<t;e++)a=r[e],n.push(a.advance);return n}.call(this),r=this.widths[this.widths.length-1],o=[],t=s=0;0<=n?s<n:s>n;t=0<=n?++s:--s)o.push(this.widths.push(r));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),$p=[].slice,Jp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zp(e,Ip),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,r,n,a,s,i,o,l,c,d;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,r=a.indexOf(e),0===(n=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,s=(i=new Mp(t.read(n))).readShort(),l=i.readShort(),d=i.readShort(),o=i.readShort(),c=i.readShort(),this.cache[e]=-1===s?new Qp(i,l,d,o,c):new Xp(i,s,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,r){var n,a,s,i,o;for(s=[],a=[],i=0,o=t.length;i<o;i++)n=e[t[i]],a.push(s.length),n&&(s=s.concat(n.encode(r)));return a.push(s.length),{table:s,offsets:a}},e}(),Xp=function(){function e(e,t,r,n,a,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Qp=function(){function e(e,t,r,n,a){var s,i;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=n,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;i=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&i;)s.pos+=1&i?4:2,128&i?s.pos+=8:64&i?s.pos+=4:8&i&&(s.pos+=2)}return e.prototype.encode=function(){var e,t,r;for(t=new Mp($p.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Zp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zp(e,Ip),e.prototype.tag="loca",e.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=2)n.push(2*e.readUInt16());return n}.call(this):function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=4)n.push(e.readUInt32());return n}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),n=0,a=0,s=0;s<r.length;++s)if(r[s]=n,a<t.length&&t[a]==s){++a,r[s]=n;var i=this.offsets[s],o=this.offsets[s+1]-i;o>0&&(n+=o)}for(var l=new Array(4*r.length),c=0;c<r.length;++c)l[4*c+3]=255&r[c],l[4*c+2]=(65280&r[c])>>8,l[4*c+1]=(16711680&r[c])>>16,l[4*c]=(4278190080&r[c])>>24;return l},e}(),em=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,r,n,a;for(t in n=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[t],e[t]=n[r];return e},e.prototype.glyphsFor=function(e){var t,r,n,a,s,i,o;for(n={},s=0,i=e.length;s<i;s++)n[a=e[s]]=this.font.glyf.glyphFor(a);for(a in t=[],n)(null!=(r=n[a])?r.compound:void 0)&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in o=this.glyphsFor(t))r=o[a],n[a]=r;return n},e.prototype.encode=function(e,t){var r,n,a,s,i,o,l,c,d,u,h,p,m,f,g;for(n in r=Up.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},g=r.charMap)h[(o=g[n]).old]=o.new;for(p in u=r.maxGlyphID,s)p in h||(h[p]=u++);return c=function(e){var t,r;for(t in r={},e)r[e[t]]=t;return r}(h),d=Object.keys(c).sort(function(e,t){return e-t}),m=function(){var e,t,r;for(r=[],e=0,t=d.length;e<t;e++)i=d[e],r.push(c[i]);return r}(),a=this.font.glyf.encode(s,m,h),l=this.font.loca.encode(a.offsets,m),f={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();function tm(e,t,r,n,a){n=n||{};var s=a.internal.scaleFactor,i=a.internal.getFontSize()/s,o=i*(a.getLineHeightFactor?a.getLineHeightFactor():1.15),l="",c=1;if("middle"!==n.valign&&"bottom"!==n.valign&&"center"!==n.halign&&"right"!==n.halign||(c=(l="string"===typeof e?e.split(/\r\n|\r|\n/g):e).length||1),r+=i*(2-1.15),"middle"===n.valign?r-=c/2*o:"bottom"===n.valign&&(r-=c*o),"center"===n.halign||"right"===n.halign){var d=i;if("center"===n.halign&&(d*=.5),l&&c>=1){for(var u=0;u<l.length;u++)a.text(l[u],t-a.getStringUnitWidth(l[u])*d,r),r+=o;return a}t-=a.getStringUnitWidth(e)*d}return"justify"===n.halign?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}oh.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(r){var n,a,s,i;if(Array.isArray(r))return"["+function(){var e,a,s;for(s=[],e=0,a=r.length;e<a;e++)n=r[e],s.push(t.convert(n));return s}().join(" ")+"]";if("string"==typeof r)return"/"+r;if(null!=r?r.isString:void 0)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(r)){for(a in s=["<<"],r)i=r[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join("\n")}return""+r},t}();var rm={},nm=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:rm=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"===typeof e?[e,e,e]:"string"===typeof e?[e]:null},e.prototype.applyStyles=function(t,r){var n,a,s;void 0===r&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,l=i.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),(d=e.unifyColor(t.textColor))&&(a=this.jsPDFDocument).setTextColor.apply(a,d),(d=e.unifyColor(t.lineColor))&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),"number"===typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},e.prototype.rect=function(e,t,r,n,a){return this.jsPDFDocument.rect(e,t,r,n,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return rm||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),am=function(e,t){return am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},am(e,t)};function sm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}am(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}"function"===typeof SuppressedError&&SuppressedError;var im=function(e){function t(t){var r=e.call(this)||this;return r._element=t,r}return sm(t,e),t}(Array);function om(e,t,r){r.applyStyles(t,!0);var n=(Array.isArray(e)?e:[e]).map(function(e){return r.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0);return n}function lm(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var i=cm(a,!1);i&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,i)}function cm(e,t){var r=e>0,n=t||0===t;return r&&n?"DF":r?"S":n?"F":null}function dm(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"===typeof e?("number"===typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"===typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(r=e.left)&&void 0!==r?r:t,top:null!==(n=e.top)&&void 0!==n?n:t,right:null!==(a=e.right)&&void 0!==a?a:t,bottom:null!==(s=e.bottom)&&void 0!==s?s:t}):("number"!==typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}function um(e,t){var r=dm(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function hm(e,t,r,n,a){var s={},i=96/72,o=pm(t,function(e){return a.getComputedStyle(e).backgroundColor});null!=o&&(s.fillColor=o);var l=pm(t,function(e){return a.getComputedStyle(e).color});null!=l&&(s.textColor=l);var c=function(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(e){return parseInt(e||"0")/n}),i=dm(s,0);a>i.top&&(i.top=a);a>i.bottom&&(i.bottom=a);return i}(n,r);c&&(s.cellPadding=c);var d="borderTopColor",u=i*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/u;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/u,right:(parseFloat(n.borderRightWidth)||0)/u,bottom:(parseFloat(n.borderBottomWidth)||0)/u,left:(parseFloat(n.borderLeftWidth)||0)/u},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var m=pm(t,function(e){return a.getComputedStyle(e)[d]});null!=m&&(s.lineColor=m);var f=["left","right","center","justify"];-1!==f.indexOf(n.textAlign)&&(s.halign=n.textAlign),-1!==(f=["middle","bottom","top"]).indexOf(n.verticalAlign)&&(s.valign=n.verticalAlign);var g=parseInt(n.fontSize||"");isNaN(g)||(s.fontSize=g/i);var x=function(e){var t="";("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold");"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic");return t}(n);x&&(s.fontStyle=x);var b=(n.fontFamily||"").toLowerCase();return-1!==e.indexOf(b)&&(s.font=b),s}function pm(e,t){var r=mm(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])];return 0===parseInt(n[4])||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function mm(e,t){var r=t(e);return"rgba(0, 0, 0, 0)"===r||"transparent"===r||"initial"===r||"inherit"===r?null==e.parentElement?null:mm(e.parentElement,t):r}function fm(e,t,r,n,a){var s,i,o;void 0===n&&(n=!1),void 0===a&&(a=!1),o="string"===typeof t?r.document.querySelector(t):t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),d=[],u=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:d,body:u,foot:h};for(var p=0;p<o.rows.length;p++){var m=o.rows[p],f=null===(i=null===(s=null===m||void 0===m?void 0:m.parentElement)||void 0===s?void 0:s.tagName)||void 0===i?void 0:i.toLowerCase(),g=gm(l,c,r,m,n,a);g&&("thead"===f?d.push(g):"tfoot"===f?h.push(g):u.push(g))}return{head:d,body:u,foot:h}}function gm(e,t,r,n,a,s){for(var i=new im(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||"none"!==c.display){var d=void 0;s&&(d=hm(e,l,t,c,r)),i.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:xm(l)})}}var u=r.getComputedStyle(n);if(i.length>0&&(a||"none"!==u.display))return i}function xm(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join("\n"),t.innerText||t.textContent||""}function bm(e,t,r,n,a){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function vm(e,t){var r=new nm(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();!function(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&"object"!==typeof s&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&"number"!==typeof s.startY&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}(a,n,t);var s,i=bm({},a,n,t);"undefined"!==typeof window&&(s=window);var o=function(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(a){if("columnStyles"===a){var s=e[a],i=t[a],o=r[a];n.columnStyles=bm({},s,i,o)}else{var l=[e,t,r].map(function(e){return e[a]||{}});n[a]=bm({},l[0],l[1],l[2])}},s=0,i=Object.keys(n);s<i.length;s++){a(i[s])}return n}(a,n,t),l=function(e,t,r){for(var n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=[e,t,r];a<s.length;a++){var i=s[a];i.didParseCell&&n.didParseCell.push(i.didParseCell),i.willDrawCell&&n.willDrawCell.push(i.willDrawCell),i.didDrawCell&&n.didDrawCell.push(i.didDrawCell),i.willDrawPage&&n.willDrawPage.push(i.willDrawPage),i.didDrawPage&&n.didDrawPage.push(i.didDrawPage)}return n}(a,n,t),c=function(e,t){var r,n,a,s,i,o,l,c,d,u,h,p,m,f,g=dm(t.margin,40/e.scaleFactor()),x=null!==(r=function(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){s=r.startPageNumber+r.pageNumber-1===a}if("number"===typeof t)return t;if((null==t||!1===t)&&s&&null!=(null===r||void 0===r?void 0:r.finalY))return r.finalY+20/n;return null}(e,t.startY))&&void 0!==r?r:g.top;m=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(n=t.showFoot)&&void 0!==n?n:"everyPage";f=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(a=t.showHead)&&void 0!==a?a:"everyPage";var b=null!==(s=t.useCss)&&void 0!==s&&s,v=t.theme||(b?"plain":"striped"),y=!!t.horizontalPageBreak,w=null!==(i=t.horizontalPageBreakRepeat)&&void 0!==i?i:null;return{includeHiddenHtml:null!==(o=t.includeHiddenHtml)&&void 0!==o&&o,useCss:b,theme:v,startY:x,margin:g,pageBreak:null!==(l=t.pageBreak)&&void 0!==l?l:"auto",rowPageBreak:null!==(c=t.rowPageBreak)&&void 0!==c?c:"auto",tableWidth:null!==(d=t.tableWidth)&&void 0!==d?d:"auto",showHead:f,showFoot:m,tableLineWidth:null!==(u=t.tableLineWidth)&&void 0!==u?u:0,tableLineColor:null!==(h=t.tableLineColor)&&void 0!==h?h:200,horizontalPageBreak:y,horizontalPageBreakRepeat:w,horizontalPageBreakBehaviour:null!==(p=t.horizontalPageBreakBehaviour)&&void 0!==p?p:"afterAllRows"}}(r,i),d=function(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var i=t.includeHiddenHtml;if(r){var o=fm(e,t.html,r,i,t.useCss)||{};n=o.head||n,a=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||function(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(e){return"_element"!==e}).forEach(function(e){var t,r=1;"object"!==typeof(t=Array.isArray(n)?n[parseInt(e)]:n[e])||Array.isArray(t)||(r=(null===t||void 0===t?void 0:t.colSpan)||1);for(var s=0;s<r;s++){var i={dataKey:Array.isArray(n)?a.length:e+(s>0?"_".concat(s):"")};a.push(i)}}),a}(n,a,s);return{columns:l,head:n,body:a,foot:s}}(r,i,s);return{id:t.tableId,content:d,hooks:l,styles:o,settings:c}}var ym,wm=function(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()},jm=function(e){function t(t,r,n,a,s,i){var o=e.call(this,t,r,i)||this;return o.cell=n,o.row=a,o.column=s,o.section=a.section,o}return sm(t,e),t}(wm),Nm=function(){function e(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,r,n,a,s){for(var i=0,o=t;i<o.length;i++){var l=!1===(0,o[i])(new jm(e,this,r,n,a,s));if(r.text=Array.isArray(r.text)?r.text:[r.text],l)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,n=this.hooks.didDrawPage;r<n.length;r++){(0,n[r])(new wm(e,this,t))}},e.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,n=this.hooks.willDrawPage;r<n.length;r++){(0,n[r])(new wm(e,this,t))}},e.prototype.getWidth=function(e){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}(),km=function(){function e(e,t,r,n,a){void 0===a&&(a=!1),this.height=0,this.raw=e,e instanceof im&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=n,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,r){var n;return Math.max(e,(null===(n=t.cells[r.index])||void 0===n?void 0:n.height)||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var r=t.cells[e.index];return!!r&&r.rowSpan>1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(e,n){var a=r.cells[n.index];if(!a)return 0;var s=t.getLineHeight(a.styles.fontSize),i=a.padding("vertical")+s;return i>e?i:e},0)},e}(),Sm=function(){function e(e,t,r){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var a=e;null==e||"object"!==typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=null!==(n=e.content)&&void 0!==n?n:e,e._element&&(this.raw=e._element));var s=null!=a?""+a:"";this.text=s.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var n=this.width-this.padding("horizontal");t=this.x+n/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var r=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(r,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=dm(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}(),Cm=function(){function e(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,n=e.allRows();r<n.length;r++){var a=n[r].cells[this.index];a&&"number"===typeof a.styles.cellWidth&&(t=Math.max(t,a.styles.cellWidth))}return t},e}();function _m(e,t){!function(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=um(e,t);t.allRows().forEach(function(s){for(var i=0,o=t.columns;i<o.length;i++){var l=o[i],c=s.cells[l.index];if(c){var d=t.hooks.didParseCell;t.callCellHooks(e,d,c,s,l,null);var u=c.padding("horizontal");c.contentWidth=om(c.text,c.styles,e)+u;var h=om(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),"number"===typeof c.styles.cellWidth)c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if("wrap"===c.styles.cellWidth||!0===n)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(e){for(var r=0,n=t.columns;r<n.length;r++){var a=n[r],s=e.cells[a.index];if(s&&1===s.colSpan)a.wrappedWidth=Math.max(a.wrappedWidth,s.wrappedWidth),a.minWidth=Math.max(a.minWidth,s.minWidth),a.minReadableWidth=Math.max(a.minReadableWidth,s.minReadableWidth);else{var i=t.styles.columnStyles[a.dataKey]||t.styles.columnStyles[a.index]||{},o=i.cellWidth||i.minCellWidth;o&&"number"===typeof o&&(a.minWidth=o,a.wrappedWidth=o)}s&&(s.colSpan>1&&!a.minWidth&&(a.minWidth=s.minWidth),s.colSpan>1&&!a.wrappedWidth&&(a.wrappedWidth=s.minWidth))}})}(e,t);var r=[],n=0;t.columns.forEach(function(e){var a=e.getMaxCustomCellWidth(t);a?e.width=a:(e.width=e.wrappedWidth,r.push(e)),n+=e.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=Pm(r,a,function(e){return Math.max(e.minReadableWidth,e.minWidth)})),a&&(a=Pm(r,a,function(e){return e.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),function(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,i=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if((i-=1)>1&&e.columns[o+1])s+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+s}else{if(!(c=n.cells[l.index]))continue;if(i=c.colSpan,s=0,c.colSpan>1){a=c,s+=l.width;continue}c.width=l.width+s}}}(t),function(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],i=0,o=e.columns;i<o.length;i++){var l=o[i],c=s.cells[l.index];if(c){t.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if("linebreak"===c.styles.overflow)c.text=t.splitTextToSize(c.text,d+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if("ellipsize"===c.styles.overflow)c.text=Am(c.text,d,c.styles,t,"...");else if("hidden"===c.styles.overflow)c.text=Am(c.text,d,c.styles,t,"");else if("function"===typeof c.styles.overflow){var u=c.styles.overflow(c.text,d);c.text="string"===typeof u?[u]:u}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>s.height&&(s.height=h)}}r.count--}}(t,e),function(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],i=0,o=e.columns;i<o.length;i++){var l=o[i],c=t[l.index];if(r>1)r--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,r=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=s.cells[l.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var u=n.length-a,h=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:h,row:s}}}}}(t)}function Pm(e,t,r){for(var n=t,a=e.reduce(function(e,t){return e+t.wrappedWidth},0),s=0;s<e.length;s++){var i=e[s],o=n*(i.wrappedWidth/a),l=i.width+o,c=r(i),d=l<c?c:l;t-=d-i.width,i.width=d}if(t=Math.round(1e10*t)/1e10){var u=e.filter(function(e){return!(t<0)||e.width>r(e)});u.length&&(t=Pm(u,t,r))}return t}function Am(e,t,r,n,a){return e.map(function(e){return function(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=om(e,r,n))return e;for(;t<om(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}(e,t,r,n,a)})}function Dm(e,t){var r=new nm(e),n=function(e,t){var r=e.content,n=function(e){return e.map(function(e,t){var r,n;return n="object"===typeof e&&null!==(r=e.dataKey)&&void 0!==r?r:t,new Cm(n,e,t)})}(r.columns);if(0===r.head.length){(a=Lm(n,"head"))&&r.head.push(a)}if(0===r.foot.length){var a;(a=Lm(n,"foot"))&&r.foot.push(a)}var s=e.settings.theme,i=e.styles;return{columns:n,head:Tm("head",r.head,n,i,s,t),body:Tm("body",r.body,n,i,s,t),foot:Tm("foot",r.foot,n,i,s,t)}}(t,r.scaleFactor()),a=new Nm(t,n);return _m(r,a),r.applyStyles(r.userStyles),a}function Tm(e,t,r,n,a,s){var i={},o=t.map(function(t,o){for(var l=0,c={},d=0,u=0,h=0,p=r;h<p.length;h++){var m=p[h];if(null==i[m.index]||0===i[m.index].left)if(0===u){var f=void 0,g={};"object"!==typeof(f=Array.isArray(t)?t[m.index-d-l]:t[m.dataKey])||Array.isArray(f)||(g=(null===f||void 0===f?void 0:f.styles)||{});var x=Em(e,m,o,a,n,s,g),b=new Sm(f,x,e);c[m.dataKey]=b,c[m.index]=b,u=b.colSpan-1,i[m.index]={left:b.rowSpan-1,times:u}}else u--,d++;else i[m.index].left--,u=i[m.index].times,l++}return new km(t,o,e,c)});return o}function Lm(e,t){var r={};return e.forEach(function(e){if(null!=e.raw){var n=function(e,t){if("head"===e){if("object"===typeof t)return t.header||null;if("string"===typeof t||"number"===typeof t)return t}else if("foot"===e&&"object"===typeof t)return t.footer;return null}(t,e.raw);null!=n&&(r[e.dataKey]=n)}}),Object.keys(r).length>0?r:null}function Em(e,t,r,n,a,s,i){var o,l={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[n];"head"===e?o=a.headStyles:"body"===e?o=a.bodyStyles:"foot"===e&&(o=a.footStyles);var c=bm({},l.table,l[e],a.styles,o),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},u="body"===e?d:{},h="body"===e&&r%2===0?bm({},l.alternateRow,a.alternateRowStyles):{},p=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}(s),m=bm({},p,c,h,u);return bm(m,i)}function Im(e,t,r){var n;void 0===r&&(r={});var a=um(e,t),s=new Map,i=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:"string"!==typeof t.settings.horizontalPageBreakRepeat&&"number"!==typeof t.settings.horizontalPageBreakRepeat||(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(e){var r=t.columns.find(function(t){return t.dataKey===e||t.index===e});r&&!s.has(r.index)&&(s.set(r.index,!0),i.push(r.index),o.push(t.columns[r.index]),a-=r.wrappedWidth)});for(var c=!0,d=null!==(n=null===r||void 0===r?void 0:r.start)&&void 0!==n?n:0;d<t.columns.length;)if(s.has(d))d++;else{var u=t.columns[d].wrappedWidth;if(!(c||a>=u))break;c=!1,i.push(d),o.push(t.columns[d]),a-=u,d++}return{colIndexes:i,columns:o,lastIndex:d-1}}function Mm(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},i=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+i;"avoid"===r.pageBreak&&(o+=t.body.reduce(function(e,t){return e+t.height},0));var l=new nm(e);("always"===r.pageBreak||null!=r.startY&&o>l.pageSize().height)&&(Vm(l),s.y=a.top),t.callWillDrawPageHooks(l,s);var c=bm({},s);t.startPageNumber=l.pageNumber(),r.horizontalPageBreak?function(e,t,r,n){var a=function(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=Im(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}(e,t),s=t.settings;if("afterAllRows"===s.horizontalPageBreakBehaviour)a.forEach(function(a,s){e.applyStyles(e.userStyles),s>0?Hm(e,t,r,n,a.columns,!0):Rm(e,t,n,a.columns),function(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,i){var o=i===t.body.length-1;Bm(e,t,s,o,r,n,a)})}(e,t,r,n,a.columns),zm(e,t,n,a.columns)});else for(var i=-1,o=a[0],l=function(){var s=i;if(o){e.applyStyles(e.userStyles);var l=o.columns;i>=0?Hm(e,t,r,n,l,!0):Rm(e,t,n,l),s=Fm(e,t,i+1,n,l),zm(e,t,n,l)}var c=s-i;a.slice(1).forEach(function(a){e.applyStyles(e.userStyles),Hm(e,t,r,n,a.columns,!0),Fm(e,t,i+1,n,a.columns,c),zm(e,t,n,a.columns)}),i=s};i<t.body.length-1;)l()}(l,t,c,s):(l.applyStyles(l.userStyles),"firstPage"!==r.showHead&&"everyPage"!==r.showHead||t.head.forEach(function(e){return Um(l,t,e,s,t.columns)}),l.applyStyles(l.userStyles),t.body.forEach(function(e,r){var n=r===t.body.length-1;Bm(l,t,e,n,c,s,t.columns)}),l.applyStyles(l.userStyles),"lastPage"!==r.showFoot&&"everyPage"!==r.showFoot||t.foot.forEach(function(e){return Um(l,t,e,s,t.columns)})),lm(l,t,c,s),t.callEndPageHooks(l,s),t.finalY=s.y,e.lastAutoTable=t,l.applyStyles(l.userStyles)}function Rm(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),"firstPage"!==a.showHead&&"everyPage"!==a.showHead||t.head.forEach(function(a){return Um(e,t,a,r,n)})}function Fm(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=null!==s&&void 0!==s?s:t.body.length;var i=Math.min(r+s,t.body.length),o=-1;return t.body.slice(r,i).forEach(function(s,i){var l=r+i===t.body.length-1,c=Wm(e,t,l,n);s.canEntireRowFit(c,a)&&(Um(e,t,s,n,a),o=r+i)}),o}function zm(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),"lastPage"!==a.showFoot&&"everyPage"!==a.showFoot||t.foot.forEach(function(a){return Um(e,t,a,r,n)})}function Om(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function Bm(e,t,r,n,a,s,i){var o=Wm(e,t,n,s);if(r.canEntireRowFit(o,i))Um(e,t,r,s,i);else if(function(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,i=a-(s.top+s.bottom);"body"===t.section&&(i-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var o=t.getMinimumRowHeight(n.columns,e),l=o<r;if(o>i)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=t.hasRowSpan(n.columns);return t.getMaxCellHeight(n.columns)>i?(c&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==n.settings.rowPageBreak}(e,r,o,t)){var l=function(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,i=0,o=r.columns;i<o.length;i++){var l=o[i];if(g=e.cells[l.index]){Array.isArray(g.text)||(g.text=[g.text]),(f=bm(f=new Sm(g.raw,g.styles,g.section),g)).text=[];var c=Om(g,t,n);g.text.length>c&&(f.text=g.text.splice(c,g.text.length));var d=n.scaleFactor(),u=n.getLineHeightFactor();g.contentHeight=g.getContentHeight(d,u),g.contentHeight>=t&&(g.contentHeight=t,f.styles.minCellHeight-=t),g.contentHeight>e.height&&(e.height=g.contentHeight),f.contentHeight=f.getContentHeight(d,u),f.contentHeight>s&&(s=f.contentHeight),a[l.index]=f}}var h=new km(e.raw,-1,e.section,a,!0);h.height=s;for(var p=0,m=r.columns;p<m.length;p++){var f,g;l=m[p],(f=h.cells[l.index])&&(f.height=h.height),(g=e.cells[l.index])&&(g.height=e.height)}return h}(r,o,t,e);Um(e,t,r,s,i),Hm(e,t,a,s,i),Bm(e,t,l,n,a,s,i)}else Hm(e,t,a,s,i),Bm(e,t,r,n,a,s,i)}function Um(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,i=a;s<i.length;s++){var o=i[s],l=r.cells[o.index];if(l)if(e.applyStyles(l.styles),l.x=n.x,l.y=n.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n)){qm(e,l,n);var c=l.getTextPos();tm(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}else n.x+=o.width;else n.x+=o.width}n.y+=r.height}function qm(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"===typeof n.lineWidth){var a=cm(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else"object"===typeof n.lineWidth&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),function(e,t,r,n){var a,s,i,o;n.top&&(a=r.x,s=r.y,i=r.x+t.width,o=r.y,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,s,i,o));n.bottom&&(a=r.x,s=r.y+t.height,i=r.x+t.width,o=r.y+t.height,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,s,i,o));n.left&&(a=r.x,s=r.y,i=r.x,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,s,i,o));n.right&&(a=r.x+t.width,s=r.y,i=r.x+t.width,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,s,i,o));function l(t,r,n,a,s){e.getDocument().setLineWidth(t),e.getDocument().line(r,n,a,s,"S")}}(e,t,r,n.lineWidth))}function Wm(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return("everyPage"===s||"lastPage"===s&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Hm(e,t,r,n,a,s){void 0===a&&(a=[]),void 0===s&&(s=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||s||t.foot.forEach(function(r){return Um(e,t,r,n,a)}),t.callEndPageHooks(e,n);var i=t.settings.margin;lm(e,t,r,n),Vm(e),t.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,t.callWillDrawPageHooks(e,n),"everyPage"===t.settings.showHead&&(t.head.forEach(function(r){return Um(e,t,r,n,a)}),e.applyStyles(e.userStyles))}function Vm(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}try{if("undefined"!==typeof window&&window){var Km=window,Gm=Km.jsPDF||(null===(ym=Km.jspdf)||void 0===ym?void 0:ym.jsPDF);Gm&&function(e){e.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Mm(this,Dm(this,vm(this,e[0]))),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(e,t,r,n){tm(e,t,r,n,this)},e.API.autoTableSetDefaults=function(e){return nm.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){nm.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var r;if(void 0===t&&(t=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=fm(new nm(this),e,window,t,!1),a=n.head,s=n.body,i=(null===(r=a[0])||void 0===r?void 0:r.map(function(e){return e.content}))||[];return{columns:i,rows:s,data:s}}}(Gm)}}catch(lb){console.error("Could not apply autoTable plugin",lb)}const Ym={primary:[74,111,165],secondary:[90,127,181],success:[16,185,129],warning:[245,158,11],danger:[239,68,68],info:[6,182,212],dark:[30,41,59],gray:[100,116,139],lightGray:[241,245,249]},$m=(e,t,r)=>{e.setFillColor(...Ym.primary),e.rect(0,0,210,45,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.setFont("helvetica","bold"),e.text("E-TRUCKING",20,20),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("MANAGEMENT SYSTEM",20,27),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(t,20,38),r&&(e.setFontSize(9),e.setFont("helvetica","normal"),e.text(r,170,20,{align:"right"}));const n=(new Date).toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});e.setFontSize(8),e.text("Generated: ".concat(n),170,27,{align:"right"})},Jm=e=>{const t={};e.forEach(e=>{const r=e.truckStatus||e.TruckStatus||"Unknown";t[r]=(t[r]||0)+1});const r={};return e.forEach(e=>{const t=e.truckType||e.TruckType||"Unknown";r[t]=(r[t]||0)+1}),{summary:[{label:"Total Trucks",value:e.length},{label:"Available",value:t.available||0},{label:"In Use",value:t["in-use"]||0},{label:"Maintenance",value:t.maintenance||0}],barChart:{title:"Trucks by Type",labels:Object.keys(r),values:Object.values(r),colors:[Ym.primary,Ym.success,Ym.warning,Ym.info,Ym.danger]},pieChart:{title:"Status Distribution",labels:Object.keys(t),values:Object.values(t),colors:[Ym.success,Ym.warning,Ym.danger,Ym.gray]}}},Xm=e=>{const t={};return e.forEach(e=>{const r=e.DriverStatus||"Unknown";t[r]=(t[r]||0)+1}),{summary:[{label:"Total Drivers",value:e.length},{label:"Active",value:t.active||0},{label:"Inactive",value:t.inactive||0},{label:"On Leave",value:t["on-leave"]||0}],barChart:{title:"Driver Status Distribution",labels:Object.keys(t),values:Object.values(t),colors:[Ym.success,Ym.gray,Ym.warning,Ym.danger]}}},Qm=e=>{const t={};return e.forEach(e=>{const r=e.HelperStatus||"Unknown";t[r]=(t[r]||0)+1}),{summary:[{label:"Total Helpers",value:e.length},{label:"Active",value:t.active||0},{label:"Inactive",value:t.inactive||0},{label:"On Leave",value:t["on-leave"]||0}],barChart:{title:"Helper Status Distribution",labels:Object.keys(t),values:Object.values(t),colors:[Ym.success,Ym.gray,Ym.warning]}}},Zm=e=>{const t={};e.forEach(e=>{const r=e.DeliveryStatus||"Unknown";t[r]=(t[r]||0)+1});const r=e.reduce((e,t)=>e+(parseFloat(t.TotalAmount)||0),0);e.reduce((e,t)=>e+(parseFloat(t.DeliveryDistance)||0),0);return{summary:[{label:"Total Deliveries",value:e.length},{label:"Completed",value:t.completed||0},{label:"In Progress",value:t["in-progress"]||0},{label:"Revenue (\u20b1)",value:r.toLocaleString()}],barChart:{title:"Delivery Status Distribution",labels:Object.keys(t),values:Object.values(t),colors:[Ym.warning,Ym.info,Ym.success,Ym.danger]},pieChart:{title:"Status Breakdown",labels:Object.keys(t),values:Object.values(t),colors:[Ym.warning,Ym.info,Ym.success,Ym.danger]}}},ef=e=>{const t={},r={};return e.forEach(e=>{const n=e.ClientStatus||"Unknown";t[n]=(t[n]||0)+1;const a=e.BusinessType||"Unknown";r[a]=(r[a]||0)+1}),{summary:[{label:"Total Clients",value:e.length},{label:"Active",value:t.active||0},{label:"Inactive",value:t.inactive||0},{label:"Business Types",value:Object.keys(r).length}],barChart:{title:"Clients by Business Type",labels:Object.keys(r).slice(0,5),values:Object.values(r).slice(0,5),colors:[Ym.primary,Ym.success,Ym.warning,Ym.info,Ym.danger]}}},tf=e=>{const t={},r={};return e.forEach(e=>{const n=e.StaffRole||"Unknown";t[n]=(t[n]||0)+1;const a=e.StaffStatus||"Unknown";r[a]=(r[a]||0)+1}),{summary:[{label:"Total Staff",value:e.length},{label:"Active",value:r.active||0},{label:"Departments",value:Object.keys(t).length},{label:"On Leave",value:r["on-leave"]||0}],barChart:{title:"Staff by Role",labels:Object.keys(t).slice(0,6),values:Object.values(t).slice(0,6),colors:[Ym.primary,Ym.success,Ym.warning,Ym.info,Ym.danger,Ym.secondary]}}},rf=e=>{const t={};let r=0,n=0,a=0,s=0;return e.forEach(e=>{const i=e.status||"pending";t[i]=(t[i]||0)+1;const o=parseFloat(e.amount)||0;r+=o,"paid"===i?n+=o:"overdue"===i?a+=o:"pending"===i&&(s+=o)}),{summary:[{label:"Total Billings",value:e.length},{label:"Total Amount",value:"\u20b1".concat(r.toLocaleString())},{label:"Paid",value:t.paid||0},{label:"Pending",value:t.pending||0},{label:"Overdue",value:t.overdue||0},{label:"Amount Paid",value:"\u20b1".concat(n.toLocaleString())}],barChart:{title:"Payment Amount by Status",labels:["Paid","Pending","Overdue"],values:[n,s,a],colors:[Ym.success,Ym.warning,Ym.danger]},pieChart:{title:"Payment Status Distribution",labels:Object.keys(t),values:Object.values(t),colors:[Ym.success,Ym.warning,Ym.danger,Ym.gray]}}},nf=(e,t)=>{const{reportType:r,filters:n,recordCount:a}=t;console.log("\ud83d\udcca PDF Export Data:",e),console.log("\ud83d\udcca Report Type:",r),console.log("\ud83d\udcca First Record:",(e.data||e)[0]);const s=((e,t)=>{switch(e){case"trucks":return{title:"Trucks Report",columns:[{header:"Plate Number",dataKey:"truckPlate"},{header:"Brand",dataKey:"truckBrand"},{header:"Type",dataKey:"truckType"},{header:"Capacity",dataKey:"truckCapacity"},{header:"Status",dataKey:"truckStatus"},{header:"Kilometers",dataKey:"truckKilometers"},{header:"Model Year",dataKey:"modelYear"}],charts:Jm(t)};case"drivers":return{title:"Drivers Report",columns:[{header:"Name",dataKey:"driverName"},{header:"Contact",dataKey:"driverContact"},{header:"License Number",dataKey:"licenseNumber"},{header:"License Type",dataKey:"licenseType"},{header:"Status",dataKey:"driverStatus"},{header:"License Expiry",dataKey:"licenseExpiry"},{header:"Employment Date",dataKey:"employmentDate"}],charts:Xm(t)};case"helpers":return{title:"Helpers Report",columns:[{header:"Name",dataKey:"helperName"},{header:"Contact",dataKey:"helperContact"},{header:"ID Type",dataKey:"idType"},{header:"ID Number",dataKey:"idNumber"},{header:"Status",dataKey:"helperStatus"},{header:"ID Expiry",dataKey:"idExpiry"},{header:"Join Date",dataKey:"joinDate"}],charts:Qm(t)};case"deliveries":return{title:"Deliveries Report",columns:[{header:"Delivery ID",dataKey:"deliveryId"},{header:"Client",dataKey:"clientName"},{header:"Truck",dataKey:"truckPlate"},{header:"Driver",dataKey:"driverName"},{header:"Status",dataKey:"deliveryStatus"},{header:"Distance (km)",dataKey:"deliveryDistance"},{header:"Amount",dataKey:"totalAmount"},{header:"Date",dataKey:"deliveryDate"}],charts:Zm(t)};case"clients":return{title:"Clients Report",columns:[{header:"Client Name",dataKey:"clientName"},{header:"Company",dataKey:"companyName"},{header:"Contact",dataKey:"clientContact"},{header:"Email",dataKey:"clientEmail"},{header:"Business Type",dataKey:"businessType"},{header:"Status",dataKey:"clientStatus"},{header:"Registration Date",dataKey:"registrationDate"}],charts:ef(t)};case"staff":return{title:"Staff Report",columns:[{header:"Name",dataKey:"staffName"},{header:"Role",dataKey:"staffRole"},{header:"Department",dataKey:"department"},{header:"Contact",dataKey:"staffContact"},{header:"Email",dataKey:"staffEmail"},{header:"Status",dataKey:"staffStatus"},{header:"Join Date",dataKey:"joinDate"}],charts:tf(t)};case"billings":return{title:"Billings Report",columns:[{header:"Delivery ID",dataKey:"deliveryId"},{header:"Client Name",dataKey:"clientName"},{header:"Amount",dataKey:"amount"},{header:"Currency",dataKey:"currency"},{header:"Status",dataKey:"status"},{header:"Delivery Date",dataKey:"deliveryDate"},{header:"Due Date",dataKey:"dueDate"},{header:"Truck Plate",dataKey:"truckPlate"}],charts:rf(t)};default:return{title:"Report",columns:[],charts:null}}})(r,e.data||e),i=new oh({orientation:"portrait",unit:"mm",format:"a4"}),o=Object.keys(n).length>0?"Filtered: ".concat(Object.keys(n).length," criteria applied"):"All Records";$m(i,s.title,o);let l=55;s.charts&&s.charts.summary&&(l=((e,t,r)=>{const n=50,a=Math.floor(176/56);let s=20,i=r;t.forEach((t,r)=>{r>0&&r%a===0&&(s=20,i+=34),e.setFillColor(...Ym.lightGray),e.roundedRect(s,i,n,28,3,3,"F"),e.setDrawColor(...Ym.primary),e.setLineWidth(.5),e.roundedRect(s,i,n,28,3,3,"S"),e.setFontSize(16),e.setFont("helvetica","bold"),e.setTextColor(...Ym.primary),e.text(t.value.toString(),s+25,i+14,{align:"center"}),e.setFontSize(7),e.setFont("helvetica","normal"),e.setTextColor(...Ym.gray),e.text(t.label,s+25,i+22,{align:"center",maxWidth:44}),s+=56});const o=Math.ceil(t.length/a);return r+(28*o+6*(o-1))+10})(i,s.charts.summary,l),l+=10),s.charts&&s.charts.barChart&&(l=((e,t,r,n)=>{const{labels:a,values:s,title:i,colors:o}=r,l=n,c=(170-5*(a.length-1))/a.length,d=Math.max(...s);return e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(...Ym.dark),e.text(i,20,l),a.forEach((t,r)=>{const n=s[r]/d*35,a=20+(c+5)*r,i=l+10+(35-n);e.setFillColor(...o[r]||Ym.primary),e.rect(a,i,c,n,"F"),e.setFontSize(8),e.setTextColor(...Ym.dark),e.text(s[r].toString(),a+c/2,i-2,{align:"center"}),e.setFontSize(7),e.setTextColor(...Ym.gray);const u=t.length>10?t.substring(0,8)+"...":t;e.text(u,a+c/2,l+50+2,{align:"center",maxWidth:c})}),l+50+10})(i,0,s.charts.barChart,l),l+=5),s.charts&&s.charts.pieChart&&l>180&&(i.addPage(),$m(i,s.title,o),l=55),s.charts&&s.charts.pieChart&&(l=((e,t,r,n,a)=>{const{labels:s,values:i,title:o,colors:l}=r,c=n+35,d=a+30,u=i.reduce((e,t)=>e+t,0);e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(...Ym.dark),e.text(o,n,a);let h=-90;i.forEach((t,r)=>{const n=t/u*360;e.setFillColor(...l[r]||Ym.primary),e.circle(c,d,25,"F"),h+=n});let p=a+10;return s.forEach((t,r)=>{const a=n+75,s=(i[r]/u*100).toFixed(1);e.setFillColor(...l[r]||Ym.primary),e.rect(a,p-3,4,4,"F"),e.setFontSize(8),e.setTextColor(...Ym.dark),e.text("".concat(t,": ").concat(i[r]," (").concat(s,"%)"),a+6,p),p+=6}),a+70})(i,0,s.charts.pieChart,20,l)),i.addPage(),$m(i,s.title,o),function(e,t){Mm(e,Dm(e,vm(e,t)))}(i,{startY:50,head:[s.columns.map(e=>e.header)],body:(e.data||e).map(e=>s.columns.map(t=>{const r=e[t.dataKey];return null===r||void 0===r?"":t.dataKey.includes("Date")&&r?new Date(r).toLocaleDateString("en-PH"):t.dataKey.includes("Amount")&&r?"\u20b1".concat(parseFloat(r).toLocaleString()):String(r)})),theme:"striped",headStyles:{fillColor:Ym.primary,textColor:[255,255,255],fontSize:9,fontStyle:"bold",halign:"left"},bodyStyles:{fontSize:8,textColor:Ym.dark},alternateRowStyles:{fillColor:[248,250,252]},margin:{top:50,left:20,right:20},didDrawPage:e=>{}}),(e=>{const t=e.internal.getNumberOfPages();for(let r=1;r<=t;r++)e.setPage(r),e.setDrawColor(...Ym.gray),e.setLineWidth(.5),e.line(20,280,190,280),e.setFontSize(8),e.setTextColor(...Ym.gray),e.text("E-Trucking Management System",20,285),e.text("Page ".concat(r," of ").concat(t),190,285,{align:"right"}),e.text("Confidential Report",105,285,{align:"center"})})(i);const c=(new Date).toISOString().split("T")[0],d="".concat(r,"_report_").concat(c,".pdf");return i.save(d),!0},af=e=>{let{isOpen:r,onClose:n}=e;const[s,i]=(0,t.useState)("all"),[o,l]=(0,t.useState)({}),[c,d]=(0,t.useState)(0),[u,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),f=[{id:"all",label:"All Records",icon:En,color:"#6366f1"},{id:"trucks",label:"Trucks",icon:ha,color:"#3b82f6"},{id:"drivers",label:"Drivers",icon:ma,color:"#10b981"},{id:"helpers",label:"Helpers",icon:fa,color:"#8b5cf6"},{id:"deliveries",label:"Deliveries",icon:ta,color:"#f59e0b"},{id:"clients",label:"Clients",icon:xn,color:"#ef4444"},{id:"staff",label:"Staff",icon:Pn,color:"#06b6d4"},{id:"billings",label:"Billings",icon:aa,color:"#ec4899"}];(0,t.useEffect)(()=>{l({}),d(0),m(null)},[s]),(0,t.useEffect)(()=>{r&&g()},[o,s,r]);const g=async()=>{try{h(!0);const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{};if("all"===s){const e=["trucks","drivers","helpers","deliveries","clients","staff","billings"].map(e=>Vr.get("/api/reports/".concat(e,"/count"),{headers:t}).catch(()=>({data:{count:0}}))),r=await Promise.all(e),n=r.reduce((e,t)=>e+(t.data.count||0),0);d(n),m({Trucks:r[0].data.count||0,Drivers:r[1].data.count||0,Helpers:r[2].data.count||0,Deliveries:r[3].data.count||0,Clients:r[4].data.count||0,Staff:r[5].data.count||0,Billings:r[6].data.count||0})}else{const e=new URLSearchParams(o).toString(),r=await Vr.get("/api/reports/".concat(s,"/count?").concat(e),{headers:t});d(r.data.count||0),m(r.data.preview||null)}}catch(lb){console.error("Error fetching record count:",lb),d(0)}finally{h(!1)}},x=e=>{l(e)};return r?a.createPortal((0,$r.jsxs)("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",onClick:n,children:[(0,$r.jsx)("div",{className:"fixed inset-0 bg-black/50"}),(0,$r.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,$r.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),style:{animation:"modal-enter 0.2s ease-out forwards"},children:[(0,$r.jsxs)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-4 flex items-center justify-between flex-shrink-0",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,$r.jsx)(Fn,{size:22}),"Export Report"]}),(0,$r.jsx)("p",{className:"text-primary-100 text-sm mt-0.5",children:"Select report type and apply filters"})]}),(0,$r.jsx)("button",{className:"w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white transition-colors",onClick:n,children:(0,$r.jsx)(ga,{size:20})})]}),(0,$r.jsx)("div",{className:"border-b border-gray-100 bg-gray-50/50 px-4 py-2 overflow-x-auto hide-scrollbar flex-shrink-0",children:(0,$r.jsx)("div",{className:"flex gap-1 min-w-max",children:f.map(e=>{const t=e.icon,r=s===e.id;return(0,$r.jsxs)("button",{className:"flex items-center gap-.5 px-2.5 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all ".concat(r?"bg-white shadow-md text-gray-800 border border-gray-200":"text-gray-500 hover:text-gray-700 hover:bg-white/60"),onClick:()=>i(e.id),children:[(0,$r.jsx)(t,{size:18,style:{color:r?e.color:void 0}}),(0,$r.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id)})})}),(0,$r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,$r.jsx)("div",{className:"lg:col-span-2",children:(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl border border-gray-100 p-4",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"w-1.5 h-5 bg-primary-500 rounded-full"}),"Filters"]}),"all"!==s&&(0,$r.jsxs)("button",{className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700 bg-white border border-gray-200 rounded-lg hover:border-gray-300 transition-all",onClick:()=>{l({})},children:[(0,$r.jsx)(sa,{size:14}),"Reset"]})]}),(0,$r.jsx)("div",{className:"min-h-[180px]",children:(()=>{const e={filters:o,onChange:x};switch(s){case"all":return(0,$r.jsx)("div",{className:"flex items-center justify-center h-full min-h-[280px]",children:(0,$r.jsxs)("div",{className:"text-center py-6",children:[(0,$r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-2xl flex items-center justify-center",children:(0,$r.jsx)(Fn,{size:32,className:"text-indigo-600"})}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Export All Records"}),(0,$r.jsxs)("p",{className:"text-gray-500 text-sm mb-4",children:["This will export ",(0,$r.jsx)("span",{className:"font-semibold text-gray-700",children:"all records"})," from all entity types into separate PDF files."]}),(0,$r.jsx)("div",{className:"grid grid-cols-2 gap-2 max-w-xs mx-auto text-left",children:["Trucks","Drivers","Helpers","Deliveries","Clients","Staff","Billings"].map(e=>(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,$r.jsx)("span",{className:"w-5 h-5 rounded-full bg-success-100 text-success-600 flex items-center justify-center text-xs",children:"\u2713"}),e," Report"]},e))}),(0,$r.jsx)("p",{className:"text-xs text-gray-400 mt-4 bg-gray-50 rounded-lg px-3 py-2 inline-block",children:"\ud83d\udce5 7 PDF files will be generated and downloaded automatically."})]})});case"trucks":return(0,$r.jsx)(ci,Ne({},e));case"drivers":return(0,$r.jsx)(di,Ne({},e));case"helpers":return(0,$r.jsx)(ui,Ne({},e));case"deliveries":return(0,$r.jsx)(hi,Ne({},e));case"clients":return(0,$r.jsx)(pi,Ne({},e));case"staff":return(0,$r.jsx)(mi,Ne({},e));case"billings":return(0,$r.jsx)(fi,Ne({},e));default:return null}})()})]})}),(0,$r.jsx)("div",{className:"lg:col-span-1",children:(0,$r.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border border-gray-200 p-4 h-full",children:[(0,$r.jsxs)("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"w-1.5 h-5 bg-success-500 rounded-full"}),"Preview"]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 mb-4",children:[(0,$r.jsx)("span",{className:"text-xs uppercase tracking-wider text-gray-400 font-semibold",children:"Records Found"}),(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-800 mt-1",children:u?(0,$r.jsx)("span",{className:"inline-block w-16 h-8 bg-gray-200 animate-pulse rounded"}):c.toLocaleString()})]}),p&&(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsx)("h4",{className:"text-xs uppercase tracking-wider text-gray-400 font-semibold",children:"Summary"}),Object.entries(p).map(e=>{let[t,r]=e;return(0,$r.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-lg px-3 py-2 text-sm border border-gray-100",children:[(0,$r.jsx)("span",{className:"text-gray-600",children:t}),(0,$r.jsx)("span",{className:"font-semibold text-gray-800",children:r})]},t)})]})]})})]})}),(0,$r.jsxs)("div",{className:"border-t border-gray-100 bg-gray-50/50 px-6 py-4 flex items-center justify-end gap-3 flex-shrink-0",children:[(0,$r.jsx)("button",{className:"px-5 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all",onClick:n,children:"Cancel"}),(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-5 py-2.5 text-sm font-semibold text-white rounded-xl transition-all ".concat(u||0===c?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 shadow-lg shadow-primary-500/25 hover:shadow-primary-500/40"),onClick:async()=>{try{h(!0);const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{};if("all"===s){const e=["trucks","drivers","helpers","deliveries","clients","staff","billings"],r=e.map(e=>Vr.get("/api/reports/".concat(e),{headers:t}).catch(()=>({data:{data:[]}}))),n=await Promise.all(r);for(let t=0;t<e.length;t++)n[t].data.data&&n[t].data.data.length>0&&await nf(n[t].data,{reportType:e[t],filters:{},recordCount:n[t].data.data.length});alert("\u2705 All records exported successfully! (".concat(c," total records across 7 PDFs)"))}else{const e=new URLSearchParams(o).toString(),r=await Vr.get("/api/reports/".concat(s,"?").concat(e),{headers:t});await nf(r.data,{reportType:s,filters:o,recordCount:c}),alert("\u2705 ".concat(s.charAt(0).toUpperCase()+s.slice(1)," report exported successfully! (").concat(c," records)"))}}catch(lb){console.error("Error exporting PDF:",lb),alert("\u274c Failed to export report. Please try again.")}finally{h(!1)}},disabled:u||0===c,children:[(0,$r.jsx)(En,{size:18}),u?"Generating...":"Export PDF (".concat(c," records)")]})]})]})}),(0,$r.jsx)("style",{children:"\n        @keyframes modal-enter {\n          from {\n            opacity: 0;\n            transform: scale(0.95) translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n      "})]}),document.body):null},sf=e=>{var r;let{currentUser:n}=e;const a=de(),{timeframe:s,timeframeOptions:i,updateTimeframe:o}=La(),[l,c]=(0,t.useState)({trucks:0,drivers:0,helpers:0,staff:0,clients:0,deliveries:0,pendingDeliveries:0,unreadNotifications:0}),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),g=(()=>{const e=a.pathname;return e.includes("/trucks")?{text:"Add Truck",link:"/admin/trucks/add"}:e.includes("/drivers")?{text:"Add Driver",link:"/admin/drivers/add"}:e.includes("/helpers")?{text:"Add Helper",link:"/admin/helpers/add"}:e.includes("/staffs")?{text:"Add Staff",link:"/admin/staffs/add"}:e.includes("/clients")?{text:"Add Client",link:"/admin/clients/add"}:e.includes("/operators")?{text:"Add Operator",link:"/admin/operators/add"}:{text:"Add New",link:"/admin/dashboard",isDefault:!0}})(),x=e=>a.pathname.startsWith(e)?"text-primary-600 border-b-2 border-primary-600 font-semibold":"text-gray-500 hover:text-gray-800",b=(0,t.useCallback)(async()=>{try{const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{},r=Vr.create({headers:t}),n=[r.get("/api/trucks").catch(e=>({data:[]})),r.get("/api/drivers").catch(e=>({data:[]})),r.get("/api/helpers").catch(e=>({data:[]})),r.get("/api/staffs").catch(e=>({data:[]})),r.get("/api/clients").catch(e=>({data:[]})),r.get("/api/deliveries").catch(e=>({data:[]})),r.get("/api/deliveries/status/pending").catch(e=>({data:[]}))],[a,s,i,o,l,d,u]=await Promise.all(n);c({trucks:a.data.length||0,drivers:s.data.filter(e=>"active"===e.DriverStatus||"active"===e.driverStatus).length||0,helpers:i.data.filter(e=>"active"===e.HelperStatus||"active"===e.helperStatus).length||0,staff:o.data.filter(e=>"active"===e.StaffStatus||"active"===e.staffStatus).length||0,clients:l.data.filter(e=>"active"===e.ClientStatus||"active"===e.clientStatus).length||0,deliveries:d.data.length||0,pendingDeliveries:u.data.length||0,unreadNotifications:3})}catch(lb){console.error("Error fetching sidebar counts:",lb)}},[]);return(0,t.useEffect)(()=>{b()},[b]),(0,$r.jsxs)("div",{className:"sticky top-0 z-40 w-full bg-white/80 backdrop-blur-md border-b border-gray-200 transition-all duration-200",children:[(0,$r.jsxs)("div",{className:"px-8 py-4 flex items-center justify-between gap-6",children:[(0,$r.jsx)("div",{className:"flex-1 max-w-xl",children:(0,$r.jsxs)("div",{className:"relative group",children:[(0,$r.jsx)(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-primary-500 transition-colors",size:20}),(0,$r.jsx)("input",{type:"text",placeholder:"Search trucks, drivers, deliveries...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl text-sm focus:ring-2 focus:ring-primary-500/20 focus:bg-white transition-all text-gray-700 placeholder-gray-400"})]})}),(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsxs)("button",{className:"relative w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-50 transition-colors",children:[(0,$r.jsx)(mn,{size:22}),(0,$r.jsx)("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-danger-500 rounded-full border-2 border-white"})]}),(0,$r.jsx)("div",{className:"h-8 w-px bg-gray-200 mx-1"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-3 p-1.5 pr-3 rounded-full hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-200",onClick:()=>f(!m),children:[(0,$r.jsx)("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-sm",children:(null===n||void 0===n||null===(r=n.username)||void 0===r?void 0:r.charAt(0))||"A"}),(0,$r.jsxs)("div",{className:"hidden md:block text-left",children:[(0,$r.jsx)("p",{className:"text-sm font-semibold text-gray-700 leading-none",children:(null===n||void 0===n?void 0:n.username)||"Admin"}),(0,$r.jsx)("p",{className:"text-[10px] uppercase tracking-wider font-bold text-gray-400 mt-1",children:(null===n||void 0===n?void 0:n.role)||"Head Admin"})]}),(0,$r.jsx)(Nn,{size:16,className:"text-gray-400 transition-transform ".concat(m?"rotate-180":"")})]}),m&&(0,$r.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-100 py-1 overflow-hidden animate-slide-up origin-top-right z-50",children:[(0,$r.jsx)(be,{to:"/profile",className:"block px-4 py-2.5 text-sm text-gray-600 hover:bg-gray-50 hover:text-primary-600",children:"My Profile"}),(0,$r.jsx)("div",{className:"my-1 border-t border-gray-100"}),(0,$r.jsx)(be,{to:"/logout",className:"block px-4 py-2.5 text-sm text-danger-600 hover:bg-danger-50 font-medium",children:"Sign Out"})]})]})]})]}),(0,$r.jsxs)("div",{className:"px-8 flex items-center justify-between gap-4 overflow-x-auto hide-scrollbar",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,$r.jsx)(be,{to:"/admin/dashboard",className:"py-3 text-sm font-medium border-b-2 border-transparent transition-all ".concat(x("/admin/dashboard")),children:"Overview"}),(0,$r.jsx)(be,{to:"/admin/trucks/trucklist",className:"py-3 text-sm font-medium border-b-2 border-transparent transition-all ".concat(x("/admin/trucks")),children:"Trucks"}),(0,$r.jsx)(be,{to:"/admin/deliveries/deliverylist",className:"py-3 text-sm font-medium border-b-2 border-transparent transition-all ".concat(x("/admin/deliveries")),children:"Deliveries"}),(0,$r.jsx)(be,{to:"/admin/drivers/driverslist",className:"py-3 text-sm font-medium border-b-2 border-transparent transition-all ".concat(a.pathname.includes("/drivers")||a.pathname.includes("/staffs")||a.pathname.includes("/clients")?"text-primary-600 border-b-2 border-primary-600 font-semibold":"text-gray-500 hover:text-gray-800"),children:"Personnel"}),(0,$r.jsx)(be,{to:"/admin/billings",className:"py-3 text-sm font-medium border-b-2 border-transparent transition-all ".concat(x("/admin/billings")),children:"Financials"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3 pb-2",children:[(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-gray-600 bg-gray-100/50 hover:bg-white border border-transparent hover:border-gray-200 rounded-lg transition-all",onClick:()=>u(!d),children:[(0,$r.jsx)(vn,{size:14,className:"text-gray-400"}),(0,$r.jsx)("span",{children:s}),(0,$r.jsx)(Nn,{size:12,className:"text-gray-400"})]}),d&&(0,$r.jsx)("div",{className:"absolute right-0 top-full mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-100 py-1 z-50 animate-slide-up",children:i.map(e=>(0,$r.jsx)("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 ".concat(s===e.value?"text-primary-600 font-medium bg-primary-50/50":"text-gray-600"),onClick:()=>{o(e.value),u(!1)},children:e.label},e.value))})]}),(0,$r.jsxs)("button",{onClick:()=>{p(!0)},className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:border-primary-500 hover:text-primary-600 transition-all shadow-sm",children:[(0,$r.jsx)(En,{size:14}),"Export"]}),!g.isDefault&&(0,$r.jsxs)(be,{to:g.link,className:"flex items-center gap-2 px-4 py-1.5 text-xs font-bold text-white bg-success-500 rounded-lg hover:bg-success-600 transition-all shadow-sm hover:shadow-success-500/30 active:scale-95",children:[(0,$r.jsx)(na,{size:14}),g.text]})]})]}),(0,$r.jsx)(af,{isOpen:h,onClose:()=>p(!1)})]})},of=e=>{var r;let{currentUser:n}=e;de();const[a,s]=(0,t.useState)({trucks:0,drivers:0,deliveries:0,revenue:0}),[i,o]=(0,t.useState)({trucks:0,drivers:0,helpers:0,staff:0,clients:0,deliveries:0,pendingDeliveries:0,unreadNotifications:0}),[l,c]=(0,t.useState)({pending:0,inProgress:0,completed:0}),[d,u]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[m,f]=(0,t.useState)(!0),[g,x]=(0,t.useState)(null),[b,v]=(0,t.useState)(""),[y,w]=(0,t.useState)(""),[j,N]=(0,t.useState)([]),[k,S]=(0,t.useState)([]),[C,_]=(0,t.useState)(0),[P,A]=(0,t.useState)("overview"),[D,T]=(0,t.useState)("Dec 2023"),[L,E]=(0,t.useState)([]),[I,M]=(0,t.useState)([]),[R,F]=(0,t.useState)("daily"),z=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),O=(e,t)=>{if(!e||0===e.length)return void M([]);const r={};e.forEach((e,n)=>{let a;const s=e=>{if(!e||""===e)return null;try{if("object"===typeof e&&null!==e&&"seconds"in e){const t=new Date(1e3*e.seconds);return isNaN(t.getTime())?null:t}if("object"===typeof e&&null!==e&&"function"===typeof e.toDate){const t=e.toDate();return isNaN(t.getTime())?null:t}if("string"===typeof e||"number"===typeof e){const t=new Date(e);return isNaN(t.getTime())?null:t}}catch(g){console.log("Error parsing date:",g,e)}return null};if(a=s(e.deliveryDate)||s(e.DeliveryDate),a||(a=s(e.scheduledDate)||s(e.ScheduledDate)),a||(a=s(e.created_at)||s(e.CreatedAt)),!a||isNaN(a.getTime()))return;let i;i="daily"===t?a.getDate():"weekly"===t?"Week ".concat(Math.ceil(a.getDate()/7)):"".concat(a.toLocaleDateString("en-US",{month:"short"})," ").concat(a.getFullYear()),r[i]=(r[i]||0)+1});let n=Object.entries(r).map(e=>{let[t,r]=e;return{label:t,count:r,percentage:0}});if("daily"===t){const e=[];for(let t=9;t>=0;t--){const n=new Date;n.setDate(n.getDate()-t);const a=n.getDate();e.push({label:a.toString(),count:r[a]||0,percentage:0})}n=e}else if("monthly"===t){const e=[];for(let t=11;t>=0;t--){const n=new Date;n.setMonth(n.getMonth()-t);const a="".concat(n.toLocaleDateString("en-US",{month:"short"})," ").concat(n.getFullYear());e.push({label:n.toLocaleDateString("en-US",{month:"short"}),count:r[a]||0,percentage:0})}n=e}const a=Math.max(...n.map(e=>e.count),1);n=n.map(e=>Ne(Ne({},e),{},{percentage:e.count>0?Math.max(e.count/a*100,10):0})),M(n)},B=(0,t.useCallback)(async()=>{try{const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{},r=Vr.create({headers:t}),n=[r.get("/api/trucks").catch(e=>({data:[]})),r.get("/api/drivers").catch(e=>({data:[]})),r.get("/api/helpers").catch(e=>({data:[]})),r.get("/api/staffs").catch(e=>({data:[]})),r.get("/api/clients").catch(e=>({data:[]})),r.get("/api/deliveries").catch(e=>({data:[]})),r.get("/api/deliveries/status/pending").catch(e=>({data:[]})),r.get("/api/notifications").catch(e=>({data:[]}))],[a,s,i,l,c,d,u]=await Promise.all(n);o({trucks:a.data.length||0,drivers:s.data.filter(e=>"active"===e.DriverStatus||"active"===e.driverStatus).length||0,helpers:i.data.filter(e=>"active"===e.HelperStatus||"active"===e.helperStatus).length||0,staff:l.data.filter(e=>"active"===e.StaffStatus||"active"===e.staffStatus).length||0,clients:c.data.filter(e=>"active"===e.ClientStatus||"active"===e.clientStatus).length||0,deliveries:d.data.length||0,pendingDeliveries:u.data.length||0,unreadNotifications:3})}catch(g){console.error("Error fetching header counts:",g)}},[]);return(0,t.useEffect)(()=>{if(d.length>0){let e=[...d];b&&(e=e.filter(e=>e.action===b)),y&&(e=e.filter(e=>e.user===y)),p(e)}},[d,b,y]),(0,t.useEffect)(()=>{if(d.length>0){const e=[...new Set(d.map(e=>e.action))].filter(Boolean),t=[...new Set(d.map(e=>e.user))].filter(Boolean);N(e),S(t)}},[d]),(0,t.useEffect)(()=>{(async()=>{try{f(!0);const r=await Vr.get("/api/audit/recent?limit=30"),n=await Vr.get("/api/deliveries/status/pending"),a=await Vr.get("/api/deliveries/status/in-progress"),i=await Vr.get("/api/deliveries/status/completed"),o=await Vr.get("/api/trucks"),l=await Vr.get("/api/drivers"),d=await Vr.get("/api/deliveries");_(d.data.length||0);const h=await Vr.get("/api/deliveries?limit=60");E(h.data||[]),O(d.data||[],R),await B(),c({pending:n.data.length||0,inProgress:a.data.length||0,completed:i.data.length||0});let m=0;try{m=(await Vr.get("/api/payments/successful")).data.reduce((e,t)=>e+(parseFloat(t.amount)||0),0)}catch(e){try{const e=(await Vr.get("/api/deliveries")).data.filter(e=>"paid"===e.paymentStatus||"paid"===e.PaymentStatus);m=e.reduce((e,t)=>e+(parseFloat(t.deliveryRate)||parseFloat(t.DeliveryRate)||parseFloat(t.amount)||0),0)}catch(t){console.error("Error fetching deliveries for revenue:",t)}}s({trucks:o.data.length||0,drivers:l.data.filter(e=>"active"===e.DriverStatus).length||0,deliveries:(n.data.length||0)+(a.data.length||0),revenue:m});const g=r.data||[];u(g),p(g),f(!1)}catch(r){console.error("Error fetching dashboard data:",r),x("Failed to load dashboard data"),f(!1),u([]),p([]),_(0),c({pending:0,inProgress:0,completed:0}),s({trucks:0,drivers:0,deliveries:0,revenue:0})}})()},[]),n?(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,$r.jsx)(sf,{currentUser:n}),(0,$r.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,$r.jsxs)("div",{className:"mb-10",children:[(0,$r.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Hello ",(null===n||void 0===n?void 0:n.username)||"Admin",", Good Morning"]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:(0,$r.jsx)(ta,{size:24})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:C||0}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Total Shipments"}),(0,$r.jsxs)("div",{className:"flex items-center text-xs font-semibold text-emerald-600 mt-1",children:[(0,$r.jsx)(hn,{size:12,className:"mr-0.5"}),"+1.92%"]})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-full bg-amber-50 flex items-center justify-center text-amber-600",children:(0,$r.jsx)(An,{size:24})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:l.pending}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Pending Packages"}),(0,$r.jsxs)("div",{className:"flex items-center text-xs font-semibold text-emerald-600 mt-1",children:[(0,$r.jsx)(hn,{size:12,className:"mr-0.5"}),"+1.89%"]})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600",children:(0,$r.jsx)(ua,{size:24})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:l.completed}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Completed Deliveries"}),(0,$r.jsxs)("div",{className:"flex items-center text-xs font-semibold text-rose-600 mt-1",children:[(0,$r.jsx)(dn,{size:12,className:"mr-0.5"}),"-0.98%"]})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-50 flex items-center justify-center text-green-600",children:(0,$r.jsx)(Dn,{size:24})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:(U=a.revenue,new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(U))}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Total Revenue"}),(0,$r.jsxs)("div",{className:"flex items-center text-xs font-semibold text-emerald-600 mt-1",children:[(0,$r.jsx)(hn,{size:12,className:"mr-0.5"}),"+5.4%"]})]})]})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8 h-auto lg:h-[450px]",children:[(0,$r.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 p-6 flex flex-col h-full",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Shipments Statistics"}),(0,$r.jsxs)("p",{className:"text-sm text-gray-500",children:["Total number of deliveries: ",C||0]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsxs)("div",{className:"flex space-x-1",children:[(0,$r.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,$r.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-200"})]}),(0,$r.jsxs)("select",{className:"bg-gray-50 border border-gray-200 text-gray-700 text-xs rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2",onChange:async e=>{const t=e.target.value.toLowerCase();F(t);try{const e=await Vr.get("/api/deliveries");O(e.data||[],t)}catch(g){console.error("Error fetching deliveries for chart:",g)}},value:R,children:[(0,$r.jsx)("option",{value:"daily",children:"Daily"}),(0,$r.jsx)("option",{value:"weekly",children:"Weekly"}),(0,$r.jsx)("option",{value:"monthly",children:"Monthly"})]})]})]}),(0,$r.jsx)("div",{className:"flex-1 min-h-[250px] relative flex items-end justify-between gap-2 px-2 pb-2",children:I.length>0?(0,$r.jsx)($r.Fragment,{children:I.map((e,t)=>(0,$r.jsxs)("div",{className:"flex flex-col items-center flex-1 h-full justify-end group cursor-pointer relative",children:[(0,$r.jsxs)("div",{className:"absolute -top-10 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 text-white text-xs px-2 py-1 rounded pointer-events-none whitespace-nowrap z-10",children:[e.label,": ",e.count]}),(0,$r.jsx)("div",{className:"w-full max-w-[40px] bg-blue-500 rounded-t-sm hover:bg-blue-600 transition-all duration-300 relative",style:{height:"".concat(e.percentage,"%")}}),(0,$r.jsx)("span",{className:"text-[10px] text-gray-400 mt-2 font-medium truncate w-full text-center",children:e.label})]},t))}):(0,$r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No delivery data available"})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 flex flex-col h-full",children:[(0,$r.jsxs)("div",{className:"mb-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Tracking Delivery"}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Last viewed delivery"})]}),(0,$r.jsx)("div",{className:"flex-1 overflow-auto custom-scrollbar",children:L.length>0?(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-6 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wider mb-1",children:"Tracking ID"}),(0,$r.jsxs)("div",{className:"font-mono text-sm font-bold text-gray-800",children:["#",L[0].id||L[0].DeliveryID||"N/A"]})]}),(0,$r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold capitalize border ".concat((e=>{switch(e.toLowerCase()){case"delivered":return"text-green-700 bg-green-100 border-green-200";case"in transit":case"in-progress":case"in progress":return"text-blue-700 bg-blue-100 border-blue-200";case"pending":return"text-amber-700 bg-amber-100 border-amber-200";case"processing":return"text-purple-700 bg-purple-100 border-purple-200";case"cancelled":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}})(L[0].status||L[0].deliveryStatus||"pending")),children:L[0].status||L[0].deliveryStatus||"Pending"})]}),(0,$r.jsxs)("div",{className:"relative pl-4 space-y-8 before:absolute before:left-[21px] before:top-2 before:bottom-2 before:w-0.5 before:bg-gray-100",children:[(0,$r.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500 ring-4 ring-blue-50 z-10"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-bold text-gray-800",children:"Order Created"}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:z(L[0].created_at||L[0].CreatedAt)})]})]}),(0,$r.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"w-3 h-3 rounded-full z-10 ".concat(L[0].driverAcceptedAt||L[0].DriverAcceptedAt?"bg-blue-500 ring-4 ring-blue-50":"bg-gray-300 ring-4 ring-gray-100")}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-bold ".concat(L[0].driverAcceptedAt?"text-gray-800":"text-gray-400"),children:"Driver Accepted"}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:L[0].driverAcceptedAt||L[0].DriverAcceptedAt?z(L[0].driverAcceptedAt||L[0].DriverAcceptedAt):"Pending"})]})]}),(0,$r.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"w-3 h-3 rounded-full z-10 ".concat(L[0].deliveryDate||L[0].DeliveryDate?"bg-blue-500 ring-4 ring-blue-50":"bg-gray-300 ring-4 ring-gray-100")}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-bold ".concat(L[0].deliveryDate?"text-gray-800":"text-gray-400"),children:"Delivered"}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:L[0].deliveryDate||L[0].DeliveryDate?z(L[0].deliveryDate||L[0].DeliveryDate):"Estimated Delivery"})]})]})]}),(0,$r.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-100 flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 font-bold",children:(null===(r=L[0].driverName||L[0].DriverName)||void 0===r?void 0:r.charAt(0))||"D"}),(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("p",{className:"text-sm font-bold text-gray-900",children:L[0].driverName||L[0].DriverName||"No driver assigned"}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Assigned Driver"})]}),(0,$r.jsxs)("div",{className:"flex gap-2",children:[(0,$r.jsx)("button",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center hover:bg-blue-100 transition-colors",children:(0,$r.jsx)(ra,{size:16})}),(0,$r.jsx)("button",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center hover:bg-blue-100 transition-colors",children:(0,$r.jsx)(ea,{size:16})})]})]})]}):(0,$r.jsx)("div",{className:"flex items-center justify-center h-48 text-gray-400 text-sm",children:"No shipments to track"})})]})]})]})]}):(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center flex-col gap-4",children:[(0,$r.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin"}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading dashboard..."})]});var U},lf=()=>{const{currentUser:e}=(0,t.useContext)(wa),[r,n]=(0,t.useState)(null),[a,s]=(0,t.useState)({clients:0,trucks:0,deliveries:0,pendingDeliveries:0}),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{c(!0);const[e,t,r]=await Promise.all([Vr.get("/api/staffs/profile"),Vr.get("/api/staffs/stats"),Vr.get("/api/staffs/recent-clients")]);n(e.data),s(t.data),o(r.data),c(!1)}catch(lb){console.error("Error fetching dashboard data:",lb),c(!1),n({StaffName:(null===e||void 0===e?void 0:e.username)||"Staff Member",StaffDepartment:"Customer Service",StaffStatus:"Active",StaffEmploymentDate:(new Date).toISOString()}),s({clients:0,trucks:0,deliveries:0,pendingDeliveries:0}),o([])}})()},[]);return l?(0,$r.jsx)(ri,{}):(0,$r.jsxs)("div",{className:"staff-dashboard",children:[(0,$r.jsx)("div",{className:"dashboard-header",children:(0,$r.jsxs)("div",{className:"header-content",children:[(0,$r.jsxs)("div",{className:"staff-info",children:[(0,$r.jsx)("div",{className:"staff-avatar",children:(0,$r.jsx)(Gs,{})}),(0,$r.jsxs)("div",{className:"staff-details",children:[(0,$r.jsxs)("h1",{children:["Welcome,"," ",null!==r&&void 0!==r&&r.StaffName&&"Staff Member"!==r.StaffName?r.StaffName:(null===e||void 0===e?void 0:e.username)||"John Smith"]}),(0,$r.jsxs)("p",{className:"staff-role",children:["Staff Dashboard -"," ",(null===r||void 0===r?void 0:r.StaffDepartment)||"Customer Service"]})]})]}),(0,$r.jsx)("div",{className:"header-actions",children:(0,$r.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("currentUser"),window.location.href="/login"},className:"btn btn-outline",children:[(0,$r.jsx)(Rs,{})," Logout"]})})]})}),(0,$r.jsxs)("div",{className:"dashboard-content",children:[(0,$r.jsx)("div",{className:"stats-section",children:(0,$r.jsxs)("div",{className:"stats-grid",children:[(0,$r.jsxs)("div",{className:"stat-card",children:[(0,$r.jsx)("div",{className:"stat-icon bg-blue",children:(0,$r.jsx)(Gs,{})}),(0,$r.jsxs)("div",{className:"stat-details",children:[(0,$r.jsx)("h3",{children:a.clients}),(0,$r.jsx)("p",{children:"Total Clients"})]})]}),(0,$r.jsxs)("div",{className:"stat-card",children:[(0,$r.jsx)("div",{className:"stat-icon bg-green",children:(0,$r.jsx)(Hs,{})}),(0,$r.jsxs)("div",{className:"stat-details",children:[(0,$r.jsx)("h3",{children:a.trucks}),(0,$r.jsx)("p",{children:"Total Trucks"})]})]}),(0,$r.jsxs)("div",{className:"stat-card",children:[(0,$r.jsx)("div",{className:"stat-icon bg-purple",children:(0,$r.jsx)(Ms,{})}),(0,$r.jsxs)("div",{className:"stat-details",children:[(0,$r.jsx)("h3",{children:a.deliveries}),(0,$r.jsx)("p",{children:"Total Deliveries"})]})]}),(0,$r.jsxs)("div",{className:"stat-card",children:[(0,$r.jsx)("div",{className:"stat-icon bg-orange",children:(0,$r.jsx)(Ms,{})}),(0,$r.jsxs)("div",{className:"stat-details",children:[(0,$r.jsx)("h3",{children:a.pendingDeliveries}),(0,$r.jsx)("p",{children:"Pending Deliveries"})]})]})]})}),(0,$r.jsxs)("div",{className:"management-section",children:[(0,$r.jsxs)("div",{className:"section-header",children:[(0,$r.jsx)("h2",{children:"Staff Management Tools"}),(0,$r.jsx)("p",{children:"Access your management tools and resources"})]}),(0,$r.jsxs)("div",{className:"tools-grid",children:[(0,$r.jsxs)(be,{to:"/staff/vehicle-rates",className:"tool-card",children:[(0,$r.jsx)("div",{className:"tool-icon",children:(0,$r.jsx)(is,{})}),(0,$r.jsxs)("div",{className:"tool-content",children:[(0,$r.jsx)("h3",{children:"Vehicle Rate Management"}),(0,$r.jsx)("p",{children:"Manage per-kilometer rates for different vehicle types used in booking calculations"})]})]}),(0,$r.jsxs)(be,{to:"/staff/reports",className:"tool-card",children:[(0,$r.jsx)("div",{className:"tool-icon",children:(0,$r.jsx)(Qa,{})}),(0,$r.jsxs)("div",{className:"tool-content",children:[(0,$r.jsx)("h3",{children:"Reports & Analytics"}),(0,$r.jsx)("p",{children:"Generate detailed reports on deliveries, truck utilization, and operational statistics"})]})]})]})]}),(0,$r.jsxs)("div",{className:"content-grid",children:[(0,$r.jsxs)("div",{className:"content-card",children:[(0,$r.jsxs)("div",{className:"card-header",children:[(0,$r.jsx)("h3",{children:"Recent Clients"}),(0,$r.jsxs)(be,{to:"/staff/reports",className:"btn btn-primary btn-sm",children:[(0,$r.jsx)(ms,{})," View Reports"]})]}),(0,$r.jsx)("div",{className:"card-body",children:i.length>0?(0,$r.jsx)("div",{className:"table-container",children:(0,$r.jsxs)("table",{className:"data-table",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{children:"Name"}),(0,$r.jsx)("th",{children:"Contact"}),(0,$r.jsx)("th",{children:"Email"}),(0,$r.jsx)("th",{children:"Creation Date"})]})}),(0,$r.jsx)("tbody",{children:i.map(e=>(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("td",{children:e.ClientName}),(0,$r.jsx)("td",{children:e.ClientNumber}),(0,$r.jsx)("td",{children:e.ClientEmail}),(0,$r.jsx)("td",{children:new Date(e.ClientCreationDate).toLocaleDateString()})]},e.ClientID))})]})}):(0,$r.jsxs)("div",{className:"empty-state",children:[(0,$r.jsx)(Gs,{}),(0,$r.jsx)("p",{children:"No recent clients found."})]})})]}),(0,$r.jsxs)("div",{className:"content-card",children:[(0,$r.jsx)("div",{className:"card-header",children:(0,$r.jsx)("h3",{children:"Department Information"})}),(0,$r.jsxs)("div",{className:"card-body",children:[(0,$r.jsxs)("div",{className:"info-grid",children:[(0,$r.jsxs)("div",{className:"info-item",children:[(0,$r.jsx)("div",{className:"info-label",children:"Department:"}),(0,$r.jsx)("div",{className:"info-value",children:(null===r||void 0===r?void 0:r.StaffDepartment)||"Not assigned"})]}),(0,$r.jsxs)("div",{className:"info-item",children:[(0,$r.jsx)("div",{className:"info-label",children:"Status:"}),(0,$r.jsx)("div",{className:"info-value",children:(0,$r.jsx)("span",{className:"status-badge active",children:(null===r||void 0===r?void 0:r.StaffStatus)||"Active"})})]}),(0,$r.jsxs)("div",{className:"info-item",children:[(0,$r.jsx)("div",{className:"info-label",children:"Employment Date:"}),(0,$r.jsx)("div",{className:"info-value",children:null!==r&&void 0!==r&&r.StaffEmploymentDate?new Date(r.StaffEmploymentDate).toLocaleDateString():"Not available"})]})]}),(0,$r.jsxs)("div",{className:"department-message",children:[(0,$r.jsx)("h4",{children:"Welcome to E-Trucking Staff Dashboard"}),(0,$r.jsx)("p",{children:"Here you can view client data, manage vehicle rates, generate reports, and access your management tools."}),(0,$r.jsx)("p",{children:"If you have any questions or need assistance, please contact your supervisor."})]})]})]})]})]})]})},cf=e=>{let{status:t}=e;const r=t?t.toLowerCase().replace(/[\s_-]+/g,""):"unknown",{color:n,label:a,icon:s}=(()=>{switch(r){case"completed":return{color:"text-emerald-600",label:"Completed",icon:(0,$r.jsx)(jn,{size:15})};case"delivered":return{color:"text-emerald-600",label:"Delivered",icon:(0,$r.jsx)(jn,{size:15})};case"active":case"available":case"free":return{color:"text-emerald-600",label:"Active",icon:(0,$r.jsx)(jn,{size:15})};case"pending":return{color:"text-gray-700",label:"Pending",icon:(0,$r.jsx)(Hn,{size:15})};case"awaiting":case"awaitingapproval":return{color:"text-amber-600",label:"Awaiting Approval",icon:(0,$r.jsx)(An,{size:15})};case"accepted":return{color:"text-blue-600",label:"Accepted",icon:(0,$r.jsx)(jn,{size:15})};case"inprogress":case"started":return{color:"text-blue-600",label:"In Progress",icon:(0,$r.jsx)($n,{size:15,className:"animate-spin"})};case"ondelivery":return{color:"text-blue-600",label:"on-delivery",icon:(0,$r.jsx)(ha,{size:15})};case"pickedup":return{color:"text-blue-600",label:"Picked Up",icon:(0,$r.jsx)(ha,{size:15})};case"allocated":case"reserved":return{color:"text-indigo-600",label:t.charAt(0).toUpperCase()+t.slice(1),icon:(0,$r.jsx)(_n,{size:15})};case"scheduled":case"standby":return{color:"text-purple-600",label:t.charAt(0).toUpperCase()+t.slice(1),icon:(0,$r.jsx)(An,{size:15})};case"cancelled":return{color:"text-red-600",label:"Cancelled",icon:(0,$r.jsx)(ga,{size:15})};case"terminated":return{color:"text-red-600",label:"Terminated",icon:(0,$r.jsx)(pn,{size:15})};case"suspended":return{color:"text-orange-600",label:"Suspended",icon:(0,$r.jsx)(cn,{size:15})};case"expired":case"registrationexpired":case"licenseexpired":return{color:"text-red-600",label:"Expired",icon:(0,$r.jsx)(ga,{size:15})};case"registrationexpiring":case"licenseexpiring":return{color:"text-orange-600",label:"Expiring",icon:(0,$r.jsx)(cn,{size:15})};case"inactive":return{color:"text-gray-500",label:"Inactive",icon:(0,$r.jsx)(_n,{size:15})};case"maintenance":return{color:"text-amber-600",label:"Maintenance",icon:(0,$r.jsx)(oa,{size:15})};case"outofservice":return{color:"text-gray-500",label:"Out of Service",icon:(0,$r.jsx)(pn,{size:15})};case"onleave":return{color:"text-amber-600",label:"On Leave",icon:(0,$r.jsx)(bn,{size:15})};case"busy":return{color:"text-amber-600",label:"Busy",icon:(0,$r.jsx)(ha,{size:15})};default:return{color:"text-gray-500",label:t?t.charAt(0).toUpperCase()+t.slice(1):"Unknown",icon:(0,$r.jsx)(cn,{size:15})}}})();return(0,$r.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs font-semibold ".concat(n),children:[s,a]})},df=e=>{let{title:r,children:n,onClose:a,size:s}=e;const i="modal-content ".concat("large"===s?"modal-large":""),[o,l]=(0,t.useState)(!1),c=()=>{l(!0),setTimeout(()=>{a()},100)};(0,t.useEffect)(()=>{const e=e=>{27===e.keyCode&&c()};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",e),document.body.style.overflow="auto"}},[]);return(0,$r.jsx)("div",{className:"modal-overlay ".concat(o?"closing":""),onClick:c,children:(0,$r.jsxs)("div",{className:i,onClick:e=>{e.stopPropagation()},children:[(0,$r.jsxs)("div",{className:"modal-header",children:[(0,$r.jsx)("h2",{children:r}),(0,$r.jsx)("button",{className:"modal-close",onClick:c,children:(0,$r.jsx)(qs,{})})]}),(0,$r.jsx)("div",{className:"modal-body",children:n})]})})},uf=e=>{let{isOpen:t,onClose:r,title:n,message:a,type:s="warning",confirmText:i="OK",cancelText:o=null,onConfirm:l=null,size:c="medium",children:d}=e;if(!t)return null;const u={small:"max-w-sm",medium:"max-w-md",large:"max-w-lg"},h=(()=>{const e={success:{icon:es,bgColor:"bg-emerald-500",textColor:"text-white"},error:{icon:ds,bgColor:"bg-red-500",textColor:"text-white"},info:{icon:ys,bgColor:"bg-blue-600",textColor:"text-white"},warning:{icon:us,bgColor:"bg-amber-500",textColor:"text-white"}};return e[s]||e.warning})().icon;return(0,$r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&r()},children:(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl ".concat(u[c]||u.medium," w-full overflow-hidden"),children:[(0,$r.jsxs)("div",{className:"".concat((()=>{const e={success:"bg-emerald-500",error:"bg-red-500",info:"bg-blue-600",warning:"bg-[#1e3a5f]"};return e[s]||e.warning})()," p-4 text-white relative"),children:[(0,$r.jsx)("button",{onClick:r,className:"absolute top-3 right-3 text-white/80 hover:text-white transition-colors p-1",children:(0,$r.jsx)(qs,{size:16})}),(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"bg-white/20 rounded-full p-2",children:(0,$r.jsx)(h,{className:"text-xl text-white"})}),(0,$r.jsx)("h3",{className:"text-lg font-bold",children:n})]})]}),(0,$r.jsxs)("div",{className:"p-5",children:[d,!d&&a&&(0,$r.jsx)("div",{className:"text-gray-700 leading-relaxed",children:"string"===typeof a?a.split("\n").map((e,t)=>(0,$r.jsx)("p",{className:"mb-2 last:mb-0",children:e},t)):a})]}),(0,$r.jsxs)("div",{className:"px-5 pb-5 flex justify-end gap-3",children:[o&&(0,$r.jsx)("button",{className:"px-5 py-2 border border-gray-300 text-gray-700 hover:bg-gray-100 font-medium rounded-lg transition-colors",onClick:r,children:o}),(0,$r.jsx)("button",{className:"px-5 py-2 ".concat((()=>{const e={success:"bg-emerald-500 hover:bg-emerald-600",error:"bg-red-500 hover:bg-red-600",info:"bg-blue-600 hover:bg-blue-700",warning:"bg-blue-600 hover:bg-blue-700"};return e[s]||e.warning})()," text-white font-semibold rounded-lg transition-colors"),onClick:()=>{l?l():r()},children:i})]})]})})};const hf=(0,t.memo)(e=>{let{pickupCoordinates:r,dropoffCoordinates:n,pickupAddress:a,dropoffAddress:s,onRouteCalculated:i}=e;const o=(0,t.useRef)(null),l=(0,t.useRef)(null),c=(0,t.useRef)(null),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(!0),[g,x]=(0,t.useState)(!1),[b,v]=(0,t.useState)(!1),y=(0,t.useRef)(0);(0,t.useEffect)(()=>{let e;window.googleMapsLoaded||window.google&&window.google.maps&&window.googleMapsLoaded?(console.log("\u2705 Google Maps API is ready"),v(!0),f(!1)):window.googleMapsError?(console.error("\u274c Google Maps API failed to load"),p("Google Maps API failed to load. Using fallback calculation."),f(!1),w()):console.log("\u23f3 Waiting for Google Maps API...");const t=()=>{console.log("\ud83d\uddfa\ufe0f Google Maps loaded event received"),v(!0),f(!1)},r=()=>{console.error("\ud83d\udea8 Google Maps error event received"),p("Google Maps API failed to load. Using fallback calculation."),f(!1),w()};return window.addEventListener("googleMapsLoaded",t),window.addEventListener("googleMapsError",r),e=setTimeout(()=>{b||window.googleMapsLoaded||(console.warn("\u23f0 Google Maps API loading timeout"),p("Map loading timeout. Using fallback calculation."),f(!1),w())},1e4),()=>{window.removeEventListener("googleMapsLoaded",t),window.removeEventListener("googleMapsError",r),e&&clearTimeout(e)}},[]);const w=()=>{if(r&&n&&i){console.log("\ud83d\udccd Calculating fallback route...");const e=N(r.lat,r.lng,n.lat,n.lng),t=45,a=1.3,s=Math.round(e/t*60*a),o=Math.floor(s/60),l=s%60,c=o>0?"".concat(o," hr ").concat(l," min"):"".concat(l," min"),d={distanceText:"".concat(e," km (est.)"),distanceValue:e,durationText:"".concat(c," (est.)"),durationValue:s,averageSpeed:t,isEstimate:!0,fallbackUsed:!0};i(d),u({distance:{text:d.distanceText,value:1e3*e},duration:{text:d.durationText,value:60*s},averageSpeed:t,isEstimate:!0,fallbackUsed:!0})}};(0,t.useEffect)(()=>{if(!b||c.current)return;const e=()=>{if(o.current)try{console.log("\ud83d\uddfa\ufe0f Initializing Google Maps...");const e=new window.google.maps.LatLngBounds(new window.google.maps.LatLng(4.5893,114.0952),new window.google.maps.LatLng(21.1217,126.6044)),t=new window.google.maps.Map(o.current,{center:{lat:14.5995,lng:120.9842},zoom:6,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1,zoomControl:!0,scrollwheel:!0,gestureHandling:"cooperative",restriction:{latLngBounds:e,strictBounds:!0}});c.current=t,setTimeout(()=>{x(!0),console.log("\u2705 Map initialization complete")},300)}catch(lb){console.error("\u274c Error initializing map:",lb),p("Map initialization failed: ".concat(lb.message)),w()}else y.current<5?(console.log("\ud83d\udd04 Map container not ready, retry ".concat(y.current+1,"/").concat(5)),y.current++,setTimeout(e,500)):(console.error("\u274c Map container never became available"),p("Map container initialization failed. Using fallback calculation."),w())};return e(),()=>{l.current&&l.current.setMap(null),c.current&&(c.current=null)}},[b]),(0,t.useEffect)(()=>{r&&n&&(b&&c.current&&g?j():h&&!b&&w())},[r,n,g,b]);const j=()=>{try{console.log("\ud83d\uddfa\ufe0f Calculating route with Google Maps...");const e=c.current;l.current&&(l.current.setMap(null),l.current=null);const t=new window.google.maps.LatLng(r.lat,r.lng),a=new window.google.maps.LatLng(n.lat,n.lng);e.markers&&e.markers.forEach(e=>e.setMap(null)),e.markers=[];const s=new window.google.maps.Marker({position:t,map:e,title:"Pickup Location",icon:{url:"data:image/svg+xml,"+encodeURIComponent('\n            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n              <circle cx="20" cy="20" r="18" fill="#4CAF50" stroke="white" stroke-width="2"/>\n              <text x="20" y="26" text-anchor="middle" fill="white" font-size="16" font-weight="bold">P</text>\n            </svg>\n          '),scaledSize:new window.google.maps.Size(40,40),anchor:new window.google.maps.Point(20,20)},animation:window.google.maps.Animation.DROP}),o=new window.google.maps.Marker({position:a,map:e,title:"Dropoff Location",icon:{url:"data:image/svg+xml,"+encodeURIComponent('\n            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n              <circle cx="20" cy="20" r="18" fill="#f44336" stroke="white" stroke-width="2"/>\n              <text x="20" y="26" text-anchor="middle" fill="white" font-size="16" font-weight="bold">D</text>\n            </svg>\n          '),scaledSize:new window.google.maps.Size(40,40),anchor:new window.google.maps.Point(20,20)},animation:window.google.maps.Animation.DROP});e.markers=[s,o];const d=new window.google.maps.LatLngBounds;d.extend(t),d.extend(a),e.fitBounds(d);const h=new window.google.maps.DirectionsService,p=new window.google.maps.DirectionsRenderer({map:e,suppressMarkers:!0,polylineOptions:{strokeColor:"#2196F3",strokeWeight:6,strokeOpacity:.8},suppressInfoWindows:!1,preserveViewport:!1});l.current=p,h.route({origin:t,destination:a,travelMode:window.google.maps.TravelMode.DRIVING,provideRouteAlternatives:!0,avoidFerries:!1,avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!0,region:"ph"},(e,t)=>{if(t===window.google.maps.DirectionsStatus.OK&&e.routes.length>0){let t=e.routes[0],r=e.routes[0].legs[0].distance.value;for(let i=1;i<e.routes.length;i++){const n=e.routes[i].legs[0].distance.value;n<r&&(r=n,t=e.routes[i])}const n=Ne(Ne({},e),{},{routes:[t]});p.setDirections(n);const a=t.legs[0],s=a.distance.value/1e3,o=s/(a.duration.value/3600),l={distanceText:a.distance.text,distanceValue:s,durationText:a.duration.text,durationValue:Math.ceil(a.duration.value/60),averageSpeed:Math.round(o),isShortestRoute:e.routes.length>1,totalRoutes:e.routes.length,googleMapsUsed:!0};i&&i(l),u({distance:{text:a.distance.text,value:a.distance.value},duration:{text:a.duration.text,value:a.duration.value},averageSpeed:Math.round(o),isShortestRoute:e.routes.length>1,totalRoutes:e.routes.length,googleMapsUsed:!0})}else console.warn("\u26a0\ufe0f Google Directions failed, using fallback"),w()})}catch(lb){console.error("\u274c Error in Google Maps route calculation:",lb),w()}},N=(e,t,r,n)=>{const a=(r-e)*Math.PI/180,s=(n-t)*Math.PI/180,i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2),o=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return Math.round(6371*o*100)/100};return m?(0,$r.jsx)("div",{className:"route-map-container loading",children:(0,$r.jsxs)("div",{className:"route-map-loading",children:["\ud83d\uddfa\ufe0f Initializing Philippines route map...",(0,$r.jsx)("div",{className:"loading-spinner"})]})}):h&&!d?(0,$r.jsx)("div",{className:"route-map-container",children:(0,$r.jsxs)("div",{className:"route-map-error",children:[(0,$r.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,$r.jsxs)("div",{className:"error-text",children:[(0,$r.jsx)("h4",{children:"Map Service Unavailable"}),(0,$r.jsx)("p",{children:"Unable to load map, but route calculation is still working."}),(0,$r.jsx)("small",{children:"Using GPS-based distance calculation for Philippines routes."})]})]})}):r&&n?(0,$r.jsxs)("div",{className:"route-map-container flex flex-col h-full w-full",children:[(0,$r.jsx)("div",{className:"relative w-full h-[400px] min-h-[400px] rounded-xl overflow-hidden shadow-inner border border-gray-200",children:b&&!h?(0,$r.jsx)("div",{className:"route-map w-full h-full absolute inset-0",ref:o}):(0,$r.jsxs)("div",{className:"route-fallback-display w-full h-full bg-slate-50 flex flex-col items-center justify-center p-6",children:[(0,$r.jsxs)("div",{className:"fallback-header text-center mb-6",children:[(0,$r.jsx)("h4",{className:"text-lg font-bold text-gray-700",children:"\ud83d\udccd Route Preview"}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:"Showing estimated route via GPS"})]}),(0,$r.jsxs)("div",{className:"fallback-route w-full max-w-md bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,$r.jsxs)("div",{className:"route-point pickup flex items-center gap-3 mb-4",children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center font-bold shrink-0",children:"P"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:a})]}),(0,$r.jsx)("div",{className:"pl-4 ml-4 border-l-2 border-dashed border-gray-300 h-8"}),(0,$r.jsxs)("div",{className:"route-point dropoff flex items-center gap-3 mt-0",children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center font-bold shrink-0",children:"D"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:s})]})]})]})}),d&&(0,$r.jsxs)("div",{className:"route-details mt-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsxs)("h4",{className:"text-lg font-bold text-blue-900 flex items-center gap-2",children:[(0,$r.jsx)("span",{children:"\ud83d\ude9b"}),d.googleMapsUsed?"Optimal Delivery Route":"Estimated Route"]}),(0,$r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat(d.googleMapsUsed?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"),children:d.googleMapsUsed?"Verified":"Estimate"})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-4 transition-all hover:shadow-md hover:border-blue-100",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center text-xl shrink-0",children:(0,$r.jsx)("span",{role:"img","aria-label":"distance",children:"\ud83d\udccf"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider m-0 mb-1",children:"Total Distance"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-800 m-0",children:d.distance.text})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-4 transition-all hover:shadow-md hover:border-emerald-100",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-emerald-50 text-emerald-600 flex items-center justify-center text-xl shrink-0",children:(0,$r.jsx)("span",{role:"img","aria-label":"time",children:"\u23f1\ufe0f"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider m-0 mb-1",children:"Est. Travel Time"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-800 m-0",children:d.duration.text})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-4 transition-all hover:shadow-md hover:border-purple-100",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-purple-50 text-purple-600 flex items-center justify-center text-xl shrink-0",children:(0,$r.jsx)("span",{role:"img","aria-label":"speed",children:"\ud83d\ude80"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider m-0 mb-1",children:"Avg. Speed"}),(0,$r.jsxs)("p",{className:"text-xl font-bold text-gray-800 m-0",children:[d.averageSpeed," km/h"]})]})]})]}),(0,$r.jsxs)("div",{className:"mt-4 flex flex-col gap-2",children:[d.isEstimate&&(0,$r.jsxs)("div",{className:"text-xs text-amber-600 bg-amber-50 px-3 py-2 rounded-lg border border-amber-100 flex items-center gap-2",children:[(0,$r.jsx)("span",{children:"\u2139\ufe0f"})," Note: This is a GPS-based estimate pending real-time traffic data."]}),d.isShortestRoute&&(0,$r.jsxs)("div",{className:"text-xs text-emerald-600 bg-emerald-50 px-3 py-2 rounded-lg border border-emerald-100 flex items-center gap-2",children:[(0,$r.jsx)("span",{children:"\u2705"})," Smart Route System: Automatically selected the shortest path from ",d.totalRoutes," alternatives."]})]})]})]}):(0,$r.jsx)("div",{className:"route-map-container",children:(0,$r.jsx)("div",{className:"route-missing-coordinates",children:"\ud83d\udccd Please select both pickup and dropoff locations within the Philippines to view the shortest route."})})}),pf=hf;class mf{constructor(){this.modalNode=null,this.mapNode=null,this.marker=null,this.map=null,this.autocomplete=null,this.geocoder=null,this.onSelectCallback=null,this.locationType="pickup",this.initialAddress="",this.savedLocations=[],this.selectedCoordinates=null,this.selectedAddress="",this.usedLocationIds=new Set,this.searchTimeout=null,this.searchResults=[],this.placesApiAvailable=!1}async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.modalNode&&this.close(),this.onSelectCallback=e.onSelectCallback||(()=>{}),this.locationType=e.locationType||"pickup",this.initialAddress=e.initialAddress||"",this.title=e.title||"Select ".concat(this.locationType," Location"),mf.usedLocationIds.clear(),this.usedLocationIds=new Set,this.otherSelectedLocation=e.otherSelectedLocation||null,await this.loadSavedLocations(),this.createModal(),window.google&&window.google.maps?this.initMap():(console.error("Google Maps API not loaded"),this.showFallbackUI()),this.show(),this}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.init({onSelectCallback:e.onSelect,locationType:e.locationType,initialAddress:(e.initialLocation,""),title:e.title,usedLocationIds:e.usedLocationIds,otherSelectedLocation:e.otherSelectedLocation})}async loadSavedLocations(){try{const e=localStorage.getItem("token");if(!e)return void(this.savedLocations=[]);const t=await fetch("/api/client/pinned-locations",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();this.savedLocations=e.locations||[],console.log("\ud83d\udccd Loaded ".concat(this.savedLocations.length," saved locations"))}else this.savedLocations=[]}catch(lb){console.error("Error loading saved locations:",lb),this.savedLocations=[]}}createModal(){this.modalNode=document.createElement("div"),this.modalNode.className="enhanced-map-modal",this.modalNode.innerHTML='\n      <div class="enhanced-map-content">\n        <div class="enhanced-map-header">\n          <h2>'.concat(this.title,'</h2>\n          <button type="button" class="enhanced-map-close">&times;</button>\n        </div>\n        <div class="enhanced-map-body">\n          <div class="enhanced-map-sidebar">\n            <div class="saved-locations-section">\n              <h3>\ud83d\udccd Saved Locations</h3>\n              <div class="saved-locations-list">\n                ').concat(this.renderSavedLocations(),'\n              </div>\n            </div>\n          </div>\n          <div class="enhanced-map-main">\n            <div class="enhanced-map-search">\n              <input type="text" placeholder="Search for ').concat(this.locationType,' location..." class="enhanced-map-input"/>\n              <div class="enhanced-map-search-icon">\ud83d\udd0d</div>\n            </div>\n            <div class="enhanced-map-container"></div>\n            <div class="enhanced-map-footer">\n              <div class="selected-location-info">\n                <span class="selected-address">No location selected</span>\n              </div>\n              <button type="button" class="enhanced-map-confirm" disabled>\n                Confirm ').concat(this.locationType," Location\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    "),document.body.appendChild(this.modalNode),this.mapNode=this.modalNode.querySelector(".enhanced-map-container"),this.searchInput=this.modalNode.querySelector(".enhanced-map-input"),this.confirmBtn=this.modalNode.querySelector(".enhanced-map-confirm"),this.closeBtn=this.modalNode.querySelector(".enhanced-map-close"),this.selectedAddressSpan=this.modalNode.querySelector(".selected-address"),this.closeBtn.addEventListener("click",()=>this.close()),this.confirmBtn.addEventListener("click",()=>this.confirmLocation()),this.initialAddress&&(this.searchInput.value=this.initialAddress,this.selectedAddress=this.initialAddress,this.updateSelectedLocationInfo()),this.setupSavedLocationHandlers(),this.addStyles()}renderSavedLocations(){return 0===this.savedLocations.length?'\n        <div class="no-saved-locations">\n          <p>No saved locations yet</p>\n          <small>Save frequently used locations for quick access</small>\n        </div>\n      ':this.savedLocations.map(e=>{const t=this.usedLocationIds.has(e.id),r=this.otherSelectedLocation&&this.otherSelectedLocation.address&&(e.address===this.otherSelectedLocation.address||e.coordinates&&this.otherSelectedLocation.coordinates&&e.coordinates.lat===this.otherSelectedLocation.coordinates.lat&&e.coordinates.lng===this.otherSelectedLocation.coordinates.lng),n=t||r,a=this.selectedAddress===e.address,s=n?"disabled":"",i=n?"disabled":"",o=n?"0.5":"1";let l=e.address||"No address";return t||r?l="Already selected for "+("pickup"===this.locationType?"delivery":"pickup"):a&&(l="Click again to deselect this location"),'\n        <button class="saved-location-btn '.concat(s,'" \n                data-location-id="').concat(e.id,'" \n                title="').concat(l,'"\n                ').concat(i,'\n                style="opacity: ').concat(o,'">\n          <span class="location-icon">\ud83d\udccd</span>\n          <span class="location-name">').concat(e.name||"Unnamed Location","</span>\n          ").concat(n?'<span class="used-badge">Used</span>':"","\n        </button>\n      ")}).join("")}setupSavedLocationHandlers(){this.modalNode.querySelectorAll(".saved-location-btn:not(.disabled)").forEach(e=>{const t=e.dataset.locationId;e.addEventListener("click",()=>{const e=this.savedLocations.find(e=>e.id===t);e&&this.selectSavedLocation(e)})})}selectSavedLocation(e){var t;console.log("\ud83d\udccd Selected saved location:",e.name);if(this.selectedAddress===e.address)this.deselectLocation();else{if(this.selectedAddress=e.address,this.selectedCoordinates=e.coordinates,this.selectedLocationData=e,this.searchInput.value=e.address,this.map&&e.coordinates){const t=new google.maps.LatLng(e.coordinates.lat,e.coordinates.lng);this.marker?this.marker.setPosition(t):(this.marker=new google.maps.Marker({position:t,map:this.map,draggable:!0,title:e.name}),this.marker.addListener("dragend",()=>{this.handleMarkerDragEnd()})),this.map.setCenter(t),this.map.setZoom(16)}this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!1,this.modalNode.querySelectorAll(".saved-location-btn").forEach(e=>{e.classList.remove("selected")}),null===(t=this.modalNode.querySelector('[data-location-id="'.concat(e.id,'"]')))||void 0===t||t.classList.add("selected")}}deselectLocation(){console.log("\ud83d\udccd Deselecting location");const e=this.savedLocations.find(e=>e.address===this.selectedAddress||e.coordinates&&this.selectedCoordinates&&e.coordinates.lat===this.selectedCoordinates.lat&&e.coordinates.lng===this.selectedCoordinates.lng);if(this.selectedAddress="",this.selectedCoordinates=null,this.selectedLocationData=null,this.searchInput&&(this.searchInput.value=""),this.marker&&(this.marker.setMap(null),this.marker=null),this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!0,this.modalNode.querySelectorAll(".saved-location-btn").forEach(e=>{e.classList.remove("selected")}),this.map){const e={lat:14.5995,lng:120.9842};this.map.setCenter(e),this.map.setZoom(13)}e&&(mf.usedLocationIds.delete(e.id),console.log("\ud83d\udccd Location removed from used locations:",e.name)),this.refreshModal()}clearSavedLocationSelection(){this.selectedLocationData&&this.selectedLocationData.id&&(console.log("\ud83d\udd04 Clearing saved location selection, making it available again:",this.selectedLocationData.name),mf.usedLocationIds.delete(this.selectedLocationData.id)),this.selectedLocationData=null,this.modalNode.querySelectorAll(".saved-location-btn").forEach(e=>{e.classList.remove("selected")}),this.refreshModal()}refreshModal(){const e=this.modalNode.querySelector(".saved-locations-list");e&&(e.innerHTML=this.renderSavedLocations(),this.setupSavedLocationHandlers())}async recordLocationUsage(e){try{const t=localStorage.getItem("token");if(!t)return;await fetch("/api/client/pinned-locations/".concat(e,"/use"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})}catch(lb){console.error("Error recording location usage:",lb)}}updateSelectedLocationInfo(){this.selectedAddress?(this.selectedAddressSpan.textContent=this.selectedAddress,this.selectedAddressSpan.classList.add("has-selection")):(this.selectedAddressSpan.textContent="No location selected",this.selectedAddressSpan.classList.remove("has-selection"))}initMap(){this.map=new google.maps.Map(this.mapNode,{zoom:13,center:{lat:14.5995,lng:120.9842},mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_RIGHT,mapTypeIds:["roadmap","satellite","hybrid","terrain"]},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},tilt:45,mapId:null,styles:[]});try{if(!google.maps.places||!google.maps.places.Autocomplete)throw new Error("Places API not available");this.autocomplete=new google.maps.places.Autocomplete(this.searchInput,{types:["address"],componentRestrictions:{country:"ph"}}),this.autocomplete.addListener("place_changed",()=>{this.handlePlaceChanged()}),this.placesApiAvailable=!0,console.log("\u2705 Places API Autocomplete enabled")}catch(lb){console.warn("\u26a0\ufe0f Places API not available, using manual search fallback:",lb.message),this.placesApiAvailable=!1,this.setupManualSearch()}this.searchInput.addEventListener("input",e=>{e.target.value!==this.selectedAddress&&this.clearSavedLocationSelection(),this.placesApiAvailable||this.handleManualSearch(e.target.value)}),this.map.addListener("click",e=>{this.handleMapClick(e)}),this.initialAddress&&this.initialAddress.trim()&&this.geocodeAddress(this.initialAddress)}setupManualSearch(){this.searchDropdown=document.createElement("div"),this.searchDropdown.className="manual-search-dropdown",this.searchDropdown.style.display="none",this.searchInput.parentElement.appendChild(this.searchDropdown),document.addEventListener("click",e=>{this.searchInput.contains(e.target)||this.searchDropdown.contains(e.target)||(this.searchDropdown.style.display="none")})}handleManualSearch(e){this.searchTimeout&&clearTimeout(this.searchTimeout),!e||e.trim().length<3?this.searchDropdown.style.display="none":this.searchTimeout=setTimeout(()=>{this.performGeocodingSearch(e)},500)}async performGeocodingSearch(e){this.geocoder||(this.geocoder=new google.maps.Geocoder);try{const t=e.includes("Philippines")?e:"".concat(e,", Philippines");this.geocoder.geocode({address:t,componentRestrictions:{country:"PH"}},(e,t)=>{"OK"===t&&e&&e.length>0?this.displaySearchResults(e.slice(0,5)):this.displaySearchResults([])})}catch(lb){console.error("Geocoding search error:",lb),this.displaySearchResults([])}}displaySearchResults(e){if(this.searchDropdown){if(0===e.length)return this.searchDropdown.innerHTML='<div class="search-result-item no-results">No locations found</div>',void(this.searchDropdown.style.display="block");this.searchDropdown.innerHTML=e.map((e,t)=>'\n      <div class="search-result-item" data-index="'.concat(t,'">\n        <div class="result-icon">\ud83d\udccd</div>\n        <div class="result-text">').concat(e.formatted_address,"</div>\n      </div>\n    ")).join(""),this.searchDropdown.style.display="block",this.searchDropdown.querySelectorAll(".search-result-item").forEach((t,r)=>{t.addEventListener("click",()=>{this.selectSearchResult(e[r])})})}}selectSearchResult(e){this.selectedCoordinates={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},this.selectedAddress=e.formatted_address,this.searchInput.value=e.formatted_address,this.updateMapMarker(e.geometry.location),this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!1,this.searchDropdown.style.display="none",this.clearSavedLocationSelection()}handlePlaceChanged(){const e=this.autocomplete.getPlace();e.geometry?(this.selectedCoordinates={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},this.selectedAddress=e.formatted_address||this.searchInput.value,this.updateMapMarker(e.geometry.location),this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!1,this.clearSavedLocationSelection()):console.warn("Place has no geometry")}handleMapClick(e){this.selectedCoordinates={lat:e.latLng.lat(),lng:e.latLng.lng()},this.updateMapMarker(e.latLng),this.reverseGeocode(e.latLng),this.clearSavedLocationSelection()}handleMarkerDragEnd(){if(this.marker){const e=this.marker.getPosition();this.selectedCoordinates={lat:e.lat(),lng:e.lng()},this.reverseGeocode(e),this.clearSavedLocationSelection()}}updateMapMarker(e){this.marker?this.marker.setPosition(e):(this.marker=new google.maps.Marker({position:e,map:this.map,draggable:!0}),this.marker.addListener("dragend",()=>{this.handleMarkerDragEnd()})),this.map.setCenter(e),this.map.setZoom(16)}reverseGeocode(e){this.geocoder||(this.geocoder=new google.maps.Geocoder),this.geocoder.geocode({location:e},(e,t)=>{"OK"===t&&e[0]&&(this.selectedAddress=e[0].formatted_address,this.searchInput.value=this.selectedAddress,this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!1)})}geocodeAddress(e){this.geocoder||(this.geocoder=new google.maps.Geocoder),this.geocoder.geocode({address:e},(e,t)=>{if("OK"===t&&e[0]){const t=e[0].geometry.location;this.selectedCoordinates={lat:t.lat(),lng:t.lng()},this.selectedAddress=e[0].formatted_address,this.updateMapMarker(t),this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!1}})}confirmLocation(){if(this.selectedAddress&&this.onSelectCallback){console.log("\ud83d\udccd Confirming location:",this.selectedAddress,this.selectedCoordinates);const e=this.selectedLocationData||this.savedLocations.find(e=>e.address===this.selectedAddress||e.coordinates&&e.coordinates.lat===this.selectedCoordinates.lat&&e.coordinates.lng===this.selectedCoordinates.lng);this.onSelectCallback(this.selectedAddress,this.selectedCoordinates,e),this.close()}}static markLocationAsUsed(e){mf.usedLocationIds.add(e)}static clearUsedLocations(){mf.usedLocationIds.clear()}clearUsedLocations(){mf.usedLocationIds.clear()}static getUsedLocations(){return Array.from(mf.usedLocationIds)}static getLocationIdByCoordinates(e){return null}show(){return this.modalNode&&(this.modalNode.style.display="flex",setTimeout(()=>{this.searchInput&&this.searchInput.focus()},100)),this}close(){this.modalNode&&(document.body.removeChild(this.modalNode),this.modalNode=null,this.map=null,this.marker=null,this.autocomplete=null,this.searchDropdown=null,this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.otherSelectedLocation=null,this.selectedLocationData=null,this.selectedAddress="",this.selectedCoordinates=null)}showFallbackUI(){this.mapNode.innerHTML='\n      <div class="enhanced-map-fallback">\n        <div class="enhanced-map-fallback-icon">\ud83d\udccd</div>\n        <h3>Map could not be loaded</h3>\n        <p>Please enter your address manually or select from saved locations:</p>\n        <input type="text" class="enhanced-map-manual-input" value="'.concat(this.initialAddress,'" placeholder="Enter address"/>\n      </div>\n    ');const e=this.mapNode.querySelector(".enhanced-map-manual-input");e&&e.addEventListener("input",e=>{this.selectedAddress=e.target.value,this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!this.selectedAddress})}addStyles(){if(document.querySelector("#enhanced-map-modal-styles"))return;const e=document.createElement("style");e.id="enhanced-map-modal-styles",e.textContent="\n      .enhanced-map-modal {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0,0,0,0.6);\n        backdrop-filter: blur(4px);\n        z-index: 10000;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 20px;\n      }\n      \n      .enhanced-map-content {\n        background-color: white;\n        border-radius: 16px;\n        width: 100%;\n        max-width: 1200px;\n        height: 85vh;\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n      }\n      \n      .enhanced-map-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 20px 24px;\n        border-bottom: 1px solid #e2e8f0;\n        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n      }\n      \n      .enhanced-map-header h2 {\n        margin: 0;\n        font-size: 1.5rem;\n        font-weight: 700;\n        color: #1e293b;\n      }\n      \n      .enhanced-map-close {\n        width: 36px;\n        height: 36px;\n        background: #f1f5f9;\n        border: none;\n        border-radius: 8px;\n        font-size: 20px;\n        cursor: pointer;\n        color: #64748b;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.3s ease;\n      }\n      \n      .enhanced-map-close:hover {\n        background: #e2e8f0;\n        color: #475569;\n      }\n      \n      .enhanced-map-body {\n        flex: 1;\n        display: flex;\n        overflow: hidden;\n      }\n      \n      .enhanced-map-sidebar {\n        width: 280px;\n        border-right: 1px solid #e2e8f0;\n        background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);\n        overflow-y: auto;\n        padding: 0;\n      }\n      \n      .saved-locations-section {\n        padding: 20px 16px;\n      }\n      \n      .saved-locations-section h3 {\n        margin: 0 0 20px 0;\n        font-size: 1.1rem;\n        font-weight: 700;\n        color: #0f172a;\n        text-align: center;\n        padding: 14px;\n        background: white;\n        border-radius: 10px;\n        border: 1px solid #f1f5f9;\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n      }\n      \n      .no-saved-locations {\n        text-align: center;\n        padding: 40px 20px;\n        color: #64748b;\n      }\n      \n      .no-saved-locations p {\n        margin: 0 0 8px 0;\n        font-weight: 500;\n      }\n      \n      .no-saved-locations small {\n        font-size: 0.875rem;\n        color: #94a3b8;\n      }\n      \n\n      \n      .saved-location-btn {\n        width: 100%;\n        padding: 12px 16px;\n        margin-bottom: 8px;\n        background: white;\n        border: 2px solid #e2e8f0;\n        border-radius: 10px;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n        text-align: left;\n        font-family: inherit;\n        position: relative;\n        overflow: hidden;\n      }\n      \n      .saved-location-btn:hover {\n        border-color: #3b82f6;\n        background: #f8fafc;\n        transform: translateY(-1px);\n        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);\n      }\n      \n             .saved-location-btn.selected {\n         border-color: #3b82f6;\n         background: #eff6ff;\n         box-shadow: 0 4px 16px rgba(59, 130, 246, 0.15);\n         position: relative;\n       }\n       \n       .saved-location-btn.selected::before {\n         content: '';\n         position: absolute;\n         left: 0;\n         top: 0;\n         bottom: 0;\n         width: 4px;\n         background: #3b82f6;\n       }\n       \n       .saved-location-btn.selected::after {\n         content: '\u2713';\n         position: absolute;\n         right: 12px;\n         top: 50%;\n         transform: translateY(-50%);\n         background: #3b82f6;\n         color: white;\n         width: 20px;\n         height: 20px;\n         border-radius: 50%;\n         display: flex;\n         align-items: center;\n         justify-content: center;\n         font-size: 12px;\n         font-weight: bold;\n       }\n      \n      .saved-location-btn.disabled {\n        cursor: not-allowed;\n        opacity: 0.5;\n        background: #f8fafc;\n        border-color: #d1d5db;\n      }\n      \n      .saved-location-btn.disabled:hover {\n        transform: none;\n        box-shadow: none;\n        border-color: #d1d5db;\n        background: #f8fafc;\n      }\n      \n      .used-badge {\n        background: #ef4444;\n        color: white;\n        font-size: 0.7rem;\n        padding: 2px 6px;\n        border-radius: 8px;\n        font-weight: 600;\n        margin-left: auto;\n      }\n      \n      .location-icon {\n        font-size: 1rem;\n        color: #64748b;\n        flex-shrink: 0;\n      }\n      \n      .location-name {\n        font-weight: 600;\n        color: #1e293b;\n        font-size: 0.9rem;\n        line-height: 1.2;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        flex: 1;\n      }\n      \n      .enhanced-map-main {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n      }\n      \n      .enhanced-map-search {\n        padding: 20px;\n        border-bottom: 1px solid #e2e8f0;\n        position: relative;\n      }\n      \n      .manual-search-dropdown {\n        position: absolute;\n        top: 100%;\n        left: 20px;\n        right: 20px;\n        background: white;\n        border: 2px solid #3b82f6;\n        border-top: none;\n        border-radius: 0 0 8px 8px;\n        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n        z-index: 1000;\n        max-height: 300px;\n        overflow-y: auto;\n      }\n      \n      .search-result-item {\n        padding: 12px 16px;\n        cursor: pointer;\n        border-bottom: 1px solid #e2e8f0;\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        transition: background-color 0.2s ease;\n      }\n      \n      .search-result-item:last-child {\n        border-bottom: none;\n      }\n      \n      .search-result-item:hover {\n        background-color: #eff6ff;\n      }\n      \n      .search-result-item.no-results {\n        color: #64748b;\n        font-style: italic;\n        cursor: default;\n        justify-content: center;\n      }\n      \n      .search-result-item.no-results:hover {\n        background-color: white;\n      }\n      \n      .result-icon {\n        font-size: 1.2rem;\n        flex-shrink: 0;\n      }\n      \n      .result-text {\n        flex: 1;\n        font-size: 0.9rem;\n        color: #1e293b;\n        line-height: 1.4;\n      }\n      \n      .enhanced-map-input {\n        width: 100%;\n        padding: 12px 40px 12px 16px;\n        border: 2px solid #e2e8f0;\n        border-radius: 8px;\n        font-size: 1rem;\n        background: #f8fafc;\n        transition: all 0.3s ease;\n      }\n      \n      .enhanced-map-input:focus {\n        outline: none;\n        border-color: #3b82f6;\n        background: white;\n        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n      }\n      \n      .enhanced-map-search-icon {\n        position: absolute;\n        right: 32px;\n        top: 50%;\n        transform: translateY(-50%);\n        color: #64748b;\n        pointer-events: none;\n      }\n      \n      .enhanced-map-container {\n        flex: 1;\n        position: relative;\n        background: #f1f5f9;\n      }\n      \n      .enhanced-map-footer {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 20px;\n        border-top: 1px solid #e2e8f0;\n        background: #f8fafc;\n      }\n      \n      .selected-location-info {\n        flex: 1;\n        margin-right: 20px;\n      }\n      \n      .selected-address {\n        font-size: 0.9rem;\n        color: #64748b;\n        font-style: italic;\n      }\n      \n      .selected-address.has-selection {\n        color: #374151;\n        font-style: normal;\n        font-weight: 500;\n      }\n      \n      .enhanced-map-confirm {\n        padding: 12px 24px;\n        background: linear-gradient(135deg, #10b981, #059669);\n        color: white;\n        border: none;\n        border-radius: 8px;\n        font-weight: 600;\n        font-size: 1rem;\n        cursor: pointer;\n        transition: all 0.3s ease;\n      }\n      \n      .enhanced-map-confirm:disabled {\n        background: #d1d5db;\n        cursor: not-allowed;\n        transform: none;\n      }\n      \n      .enhanced-map-confirm:not(:disabled):hover {\n        transform: translateY(-1px);\n        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n      }\n      \n      .enhanced-map-fallback {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        padding: 40px;\n        text-align: center;\n        color: #64748b;\n      }\n      \n      .enhanced-map-fallback-icon {\n        font-size: 4rem;\n        margin-bottom: 20px;\n      }\n      \n      .enhanced-map-fallback h3 {\n        margin-bottom: 12px;\n        color: #374151;\n      }\n      \n      .enhanced-map-manual-input {\n        width: 100%;\n        max-width: 400px;\n        padding: 12px 16px;\n        border: 2px solid #e2e8f0;\n        border-radius: 8px;\n        font-size: 1rem;\n        margin-top: 16px;\n      }\n      \n      /* Fix for Google Maps autocomplete dropdown to appear above modal */\n      .pac-container {\n        z-index: 10001 !important;\n        border-radius: 8px;\n        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);\n        border: 1px solid #e2e8f0;\n        margin-top: 4px;\n      }\n      \n      .pac-item {\n        padding: 10px 12px;\n        cursor: pointer;\n        border-top: 1px solid #e2e8f0;\n      }\n      \n      .pac-item:first-child {\n        border-top: none;\n      }\n      \n      .pac-item:hover {\n        background-color: #f8fafc;\n      }\n      \n      .pac-item-selected {\n        background-color: #eff6ff;\n      }\n      \n      @media (max-width: 768px) {\n        .enhanced-map-modal {\n          padding: 10px;\n        }\n        \n        .enhanced-map-content {\n          height: 95vh;\n        }\n        \n        .enhanced-map-body {\n          flex-direction: column;\n        }\n        \n        .enhanced-map-sidebar {\n          width: 100%;\n          max-height: 200px;\n          border-right: none;\n          border-bottom: 1px solid #e2e8f0;\n        }\n        \n        .enhanced-map-footer {\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .selected-location-info {\n          margin-right: 0;\n          text-align: center;\n        }\n      }\n    ",document.head.appendChild(e)}}mf.usedLocationIds=new Set;const ff=new mf,gf=()=>{const[e,r]=(0,t.useState)({isOpen:!1,title:"",message:"",type:"warning",confirmText:"OK",cancelText:null,onConfirm:null,size:"medium"}),n=(0,t.useCallback)(e=>{r({isOpen:!0,title:e.title||"Notification",message:e.message||"",type:e.type||"warning",confirmText:e.confirmText||"OK",cancelText:e.cancelText||null,onConfirm:e.onConfirm||null,size:e.size||"medium"})},[]),a=(0,t.useCallback)(()=>{r(e=>Ne(Ne({},e),{},{isOpen:!1}))},[]),s=(0,t.useCallback)(function(e,t){n(Ne({title:e,message:t,type:"warning"},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[n]),i=(0,t.useCallback)(function(e,t){n(Ne({title:e,message:t,type:"error"},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[n]),o=(0,t.useCallback)(function(e,t){n(Ne({title:e,message:t,type:"success"},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[n]),l=(0,t.useCallback)(function(e,t){n(Ne({title:e,message:t,type:"info"},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[n]),c=(0,t.useCallback)(function(e,t,r){n(Ne({title:e,message:t,type:"warning",confirmText:"Confirm",cancelText:"Cancel",onConfirm:r},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}))},[n]);return{modalState:e,showModal:n,hideModal:a,showWarning:s,showError:i,showSuccess:o,showInfo:l,showConfirm:c}};const xf=e=>{let{isVisible:r,onClose:n,type:a="info",title:s,message:i,duration:o=5e3,actionButton:l=null,icon:c=null}=e;const[d,u]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(r&&(u(!0),o>0)){const e=setTimeout(()=>{h()},o);return()=>clearTimeout(e)}},[r,o]);const h=()=>{u(!1),setTimeout(()=>{n()},300)};return r?(0,$r.jsxs)("div",{className:"modern-toast modern-toast-".concat(a," ").concat(d?"toast-enter":"toast-exit"),children:[(0,$r.jsxs)("div",{className:"toast-content",children:[(0,$r.jsx)("div",{className:"toast-icon-wrapper",children:(()=>{if(c)return c;switch(a){case"success":return(0,$r.jsx)("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,$r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return(0,$r.jsx)("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,$r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return(0,$r.jsx)("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,$r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"delivery":return(0,$r.jsx)("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,$r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M9 1v6m6-6v6"})});default:return(0,$r.jsx)("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,$r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})()}),(0,$r.jsxs)("div",{className:"toast-text",children:[s&&(0,$r.jsx)("div",{className:"toast-title",children:s}),(0,$r.jsx)("div",{className:"toast-message",children:i})]}),l&&(0,$r.jsx)("div",{className:"toast-action",children:l}),(0,$r.jsx)("button",{className:"toast-close",onClick:h,"aria-label":"Close notification",children:(0,$r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,$r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,$r.jsx)("div",{className:"toast-progress",children:(0,$r.jsx)("div",{className:"toast-progress-bar",style:{animationDuration:"".concat(o,"ms"),animationPlayState:d?"running":"paused"}})})]}):null},bf=e=>{let{toasts:t,onRemoveToast:r}=e;return Array.isArray(t)?(0,$r.jsx)("div",{className:"modern-toast-container",children:t.map(e=>(0,$r.jsx)(xf,{isVisible:e.isVisible,onClose:()=>r(e.id),type:e.type,title:e.title,message:e.message,duration:e.duration,actionButton:e.actionButton,icon:e.icon},e.id))}):(console.warn("ModernToastContainer: toasts prop is not an array:",t),null)},vf=xf,yf=e=>{var r;let{onBillingDataUpdate:n}=e;const[a,s]=(0,t.useState)(null),[i,o]=(0,t.useState)({active:0,completed:0}),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)([]),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[b,v]=(0,t.useState)({referenceNumber:"",notes:""}),[y,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)({show:!1,type:"",message:""}),[k,S]=(0,t.useState)("all"),[C,_]=(0,t.useState)("all"),[P,A]=(0,t.useState)(!1),D=()=>{try{var e;if(null!==(e=window)&&void 0!==e&&e.authUser&&(window.authUser.clientId||window.authUser.id))return window.authUser.clientId||window.authUser.id;if("undefined"!==typeof Storage&&"undefined"!==typeof localStorage){const e=localStorage.getItem("userData")||localStorage.getItem("currentUser");if(e){const t=JSON.parse(e);return t.clientId||t.id}const t=localStorage.getItem("token");if(t){const e=JSON.parse(atob(t.split(".")[1]));return e.clientId||e.id||e.sub}}}catch(_q){console.warn("Unable to resolve clientId",_q)}return null},T=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e||0),L=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",E=()=>{let e=(null===a||void 0===a?void 0:a.payments)||[];if("all"!==k&&(e=e.filter(e=>(new Date>new Date(e.dueDate)&&"paid"!==e.status?"overdue":e.status)===k)),"all"!==C){const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate());e=e.filter(e=>{const t=new Date(e.deliveryDate);if(isNaN(t.getTime()))return!0;switch(C){case"today":return t>=r&&t<new Date(r.getTime()+864e5);case"week":return t>=new Date(r.getTime()-6048e5);case"month":return t>=new Date(r.getFullYear(),r.getMonth()-1,r.getDate());case"year":return t>=new Date(r.getFullYear()-1,r.getMonth(),r.getDate());default:return!0}})}return e},I=()=>((null===a||void 0===a?void 0:a.payments)||[]).filter(e=>h.includes(e.id||e.deliveryId)).reduce((e,t)=>e+(t.amount||0),0),M=async()=>{try{var e;c(!0),u(null);const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required - Please log in again");if(!t.includes("."))throw new Error("Invalid token format - Please log in again");const r=D();if(console.log("\ud83d\udd0d Resolved client ID:",r),!r)throw console.error("\u274c Failed to resolve client ID from any source"),console.log("\ud83d\udd0d Available localStorage keys:",Object.keys(localStorage)),console.log("\ud83d\udd0d Token payload preview:",t?t.split(".")[1].substring(0,50)+"...":"No token"),new Error("Unable to identify your account - Please refresh the page or log in again");Vr.defaults.headers.common.Authorization="Bearer ".concat(t),console.log("\ud83d\udd04 Fetching billing data for client:",r);const a=await Vr.get("/api/payments/client/".concat(r),{headers:{Authorization:"Bearer ".concat(t),"x-client-id":r},timeout:1e4}),i=(null===(e=a.data)||void 0===e?void 0:e.data)||a.data||{},l=i.payments||[];console.log("\u2705 Billing data received:",i);const d={totalAmountDue:i.totalAmountDue||0,totalAmountPaid:i.totalAmountPaid||0,overdueAmount:i.overdueAmount||0,overduePayments:i.overduePayments||0,pendingPayments:i.pendingPayments||0,paidPayments:i.paidPayments||0,payments:l,canBookTrucks:!1!==i.canBookTrucks};s(d),n&&n(d);const h=l.filter(e=>"rejected"===e.status).length,p=l.filter(e=>"paid"===e.status).length;o({active:h,completed:p})}catch(h){var t,r,a,i;console.error("\u274c Error fetching billing data:",h);let e="Failed to load billing information";if("ECONNREFUSED"===h.code||h.message.includes("Network Error"))e="Server connection failed - Please ensure the backend server is running";else if(401===(null===(t=h.response)||void 0===t?void 0:t.status))e="Authentication expired - Please log out and log in again";else if(403===(null===(r=h.response)||void 0===r?void 0:r.status))e="Access denied - Please check your account permissions";else if(404===(null===(a=h.response)||void 0===a?void 0:a.status))e="Payment service not found - Please contact support";else if((null===(i=h.response)||void 0===i?void 0:i.status)>=500)e="Server error - Please try again later or contact support";else if(h.message.includes("timeout"))e="Request timeout - Please check your internet connection and try again";else{var l,d;e=(null===(l=h.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)||h.message||e}u(e)}finally{c(!1)}};if((0,t.useEffect)(()=>{M()},[]),l&&l)return(0,$r.jsx)("div",{className:"w-full bg-white rounded-xl shadow-lg border border-amber-400/20 p-8 min-h-[400px]",children:(0,$r.jsx)(ri,{message:"Loading billing information..."})});if(d)return(0,$r.jsx)("div",{className:"w-full bg-white rounded-xl shadow-lg border border-amber-400/20 p-8 min-h-[400px]",children:(0,$r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center text-red-500",children:[(0,$r.jsx)(us,{className:"text-5xl mb-4"}),(0,$r.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Unable to load billing information"}),(0,$r.jsx)("p",{className:"text-gray-600 max-w-md mx-auto mb-6",children:d}),!1,(0,$r.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[(0,$r.jsxs)("button",{onClick:M,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg transition-all",children:[(0,$r.jsx)(As,{})," Try Again"]}),(0,$r.jsxs)("button",{onClick:()=>{localStorage.clear(),window.location.href="/login"},className:"flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all border border-gray-200",children:[(0,$r.jsx)(Rs,{})," Clear Session & Login"]}),(0,$r.jsxs)("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 px-6 py-3 bg-transparent border-2 border-amber-400 text-amber-500 rounded-lg hover:bg-amber-50 transition-all",children:[(0,$r.jsx)(Bs,{})," Refresh Page"]})]})]})});const R=(null===a||void 0===a?void 0:a.totalAmountDue)||0,F=(null===a||void 0===a?void 0:a.totalAmountPaid)||0,z=new Date,O=((null===a||void 0===a?void 0:a.payments)||[]).filter(e=>{const t=new Date(e.dueDate);return z>t&&"paid"!==e.status}),B=O.length,U=O.reduce((e,t)=>e+(t.amount||0),0),q=((null===a||void 0===a?void 0:a.payments)||[]).filter(e=>{const t=new Date(e.dueDate);return"pending"===e.status&&z<=t}).length;return(0,$r.jsxs)("div",{className:"w-full bg-slate-50 rounded-xl shadow-lg border border-amber-400/20 box-border p-0 overflow-hidden flex flex-col mb-8 max-h-[calc(100vh-250px)] overflow-y-auto",children:[(0,$r.jsx)("div",{className:"bg-gradient-to-br from-white to-gray-50 border-b border-gray-100 p-8 flex justify-between items-center",children:(0,$r.jsxs)("div",{className:"header-content",children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-blue-900 m-0",children:"Billing Records"}),(0,$r.jsx)("p",{className:"text-gray-500 mt-1 mb-0 font-medium",children:"View your delivery charges and payment history"})]})}),R>0&&(0,$r.jsx)("div",{className:"px-8 pt-6",children:(0,$r.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl border-l-[6px] shadow-sm ".concat(U>0?"bg-red-50 border-red-500 text-red-800":"bg-orange-50 border-orange-500 text-orange-900"),children:[(0,$r.jsx)("div",{className:"text-xl ".concat(U>0?"text-red-500":"text-orange-500"),children:U>0?(0,$r.jsx)(us,{}):(0,$r.jsx)(ys,{})}),(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("h4",{className:"m-0 font-bold mb-0.5 text-base",children:U>0?"Overdue Balance":"Pending Balance"}),(0,$r.jsx)("p",{className:"m-0 text-sm opacity-90",children:U>0?"You have ".concat(T(U)," in overdue payments."):"You have ".concat(T(R)," in pending payments.")})]})]})}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 p-8",children:[(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-500/20 shadow-md relative overflow-hidden group transition-all hover:-translate-y-1 hover:shadow-lg",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-blue-600 to-blue-700 text-white flex items-center justify-center text-xl shadow-sm",children:(0,$r.jsx)(ds,{})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"m-0 text-gray-500 text-sm font-semibold uppercase tracking-wider",children:"Outstanding Balance"}),(0,$r.jsx)("span",{className:"text-xs text-blue-400 font-medium",children:"Amount due"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("span",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:T(R)}),R>0&&(0,$r.jsxs)("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-blue-50 text-blue-600 w-fit",children:[q+B," payment",q+B!==1?"s":""]})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm relative overflow-hidden group transition-all hover:-translate-y-1 hover:shadow-md hover:border-emerald-200",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-emerald-100 text-emerald-600 flex items-center justify-center text-xl",children:(0,$r.jsx)(es,{})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"m-0 text-gray-500 text-sm font-semibold uppercase tracking-wider",children:"Paid This Month"}),(0,$r.jsx)("span",{className:"text-xs text-emerald-500 font-medium",children:"Current period"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("span",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:T(F)}),(0,$r.jsxs)("span",{className:"text-xs text-emerald-600 font-medium",children:[(null===a||void 0===a?void 0:a.paidPayments)||0," payment",1!==(null===a||void 0===a?void 0:a.paidPayments)?"s":""]})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl border relative overflow-hidden group transition-all hover:-translate-y-1 hover:shadow-md ".concat(B>0?"border-red-200 shadow-red-100":"border-gray-100 shadow-sm"),children:[(0,$r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl ".concat(B>0?"bg-red-100 text-red-600":"bg-gray-100 text-gray-400"),children:(0,$r.jsx)(as,{})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"m-0 text-gray-500 text-sm font-semibold uppercase tracking-wider",children:"Overdue Payments"}),(0,$r.jsx)("span",{className:"text-xs text-red-400 font-medium",children:"Requires attention"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("span",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:B}),(0,$r.jsx)("span",{className:"text-xs font-medium ".concat(B>0?"text-red-500":"text-gray-400"),children:T(U)})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl border relative overflow-hidden group transition-all hover:-translate-y-1 hover:shadow-md ".concat(i.active>0?"border-red-200 shadow-red-100":"border-gray-100 shadow-sm"),children:[(0,$r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl ".concat(i.active>0?"bg-red-50 text-red-500":"bg-gray-100 text-gray-400"),children:(0,$r.jsx)(us,{})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"m-0 text-gray-500 text-sm font-semibold uppercase tracking-wider",children:"Rejected Payments"}),(0,$r.jsx)("span",{className:"text-xs text-red-400 font-medium",children:"Contact administrator"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("span",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:i.active}),(0,$r.jsxs)("span",{className:"text-xs text-green-600 font-medium",children:[i.completed," paid"]})]})]})]}),(0,$r.jsxs)("div",{className:"px-8 pb-8",children:[j.show&&(0,$r.jsxs)("div",{className:"mb-4 p-4 rounded-lg flex items-center gap-3 ".concat("success"===j.type?"bg-green-100 text-green-800 border border-green-200":"error"===j.type?"bg-red-100 text-red-800 border border-red-200":"bg-blue-100 text-blue-800 border border-blue-200"),children:["success"===j.type?(0,$r.jsx)(es,{}):(0,$r.jsx)(us,{}),(0,$r.jsx)("span",{className:"flex-1",children:j.message}),(0,$r.jsx)("button",{onClick:()=>N({show:!1,type:"",message:""}),className:"text-gray-500 hover:text-gray-700",children:(0,$r.jsx)(qs,{})})]}),(0,$r.jsxs)("div",{className:"mb-6 flex flex-col gap-4 border-b border-gray-200 pb-4",children:[(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:"Billing Records"}),(0,$r.jsx)("p",{className:"text-gray-500 text-sm m-0",children:h.length>0?"".concat(h.length," delivery(s) selected - Total: ").concat(T(I())):"Select deliveries to upload payment proof"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[h.length>0&&(0,$r.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg transition-all font-medium",children:[(0,$r.jsx)(Vs,{}),"Upload Payment Proof"]}),(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(P?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>A(!P),children:[(0,$r.jsx)(gs,{size:14}),"Filters",("all"!==k||"all"!==C)&&(0,$r.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:["all"!==k,"all"!==C].filter(Boolean).length})]})]})]}),P&&(0,$r.jsxs)("div",{className:"flex flex-wrap items-center gap-3 p-4 bg-gray-50 rounded-xl border border-gray-200 animate-in fade-in duration-200",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,$r.jsxs)("select",{value:k,onChange:e=>S(e.target.value),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all min-w-[160px]",children:[(0,$r.jsx)("option",{value:"all",children:"All Statuses"}),(0,$r.jsx)("option",{value:"paid",children:"Paid"}),(0,$r.jsx)("option",{value:"pending",children:"Pending"}),(0,$r.jsx)("option",{value:"overdue",children:"Overdue"}),(0,$r.jsx)("option",{value:"pending_verification",children:"Pending Verification"}),(0,$r.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Delivery Date"}),(0,$r.jsxs)("select",{value:C,onChange:e=>_(e.target.value),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all min-w-[160px]",children:[(0,$r.jsx)("option",{value:"all",children:"All Dates"}),(0,$r.jsx)("option",{value:"today",children:"Today"}),(0,$r.jsx)("option",{value:"week",children:"Last 7 Days"}),(0,$r.jsx)("option",{value:"month",children:"Last 30 Days"}),(0,$r.jsx)("option",{value:"year",children:"Last Year"})]})]}),("all"!==k||"all"!==C)&&(0,$r.jsx)("button",{onClick:()=>{S("all"),_("all")},className:"self-end px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors font-medium",children:"Clear Filters"}),(0,$r.jsxs)("div",{className:"ml-auto self-end text-sm text-gray-500 font-medium",children:["Showing ",E().length," of ",(null===a||void 0===a||null===(r=a.payments)||void 0===r?void 0:r.length)||0," records"]})]})]}),E().length>0?(0,$r.jsx)("div",{className:"overflow-x-auto overflow-y-auto max-h-[300px] bg-white rounded-xl shadow-sm border border-gray-200",children:(0,$r.jsxs)("table",{className:"w-full border-collapse min-w-[800px]",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50 text-left",children:[(0,$r.jsx)("th",{className:"px-6 py-4 w-12 border-b border-gray-200",children:(0,$r.jsx)("input",{type:"checkbox",onChange:e=>(e=>{if(e){const e=((null===a||void 0===a?void 0:a.payments)||[]).filter(e=>"paid"!==e.status&&"pending_verification"!==e.status&&"rejected"!==e.status);p(e.map(e=>e.id||e.deliveryId))}else p([])})(e.target.checked),checked:h.length>0&&h.length===((null===a||void 0===a?void 0:a.payments)||[]).filter(e=>"paid"!==e.status&&"pending_verification"!==e.status&&"rejected"!==e.status).length,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 w-4 h-4 cursor-pointer"})}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Delivery ID"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Route"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Delivery Date"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Due Date"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Amount"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Status"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Action"})]})}),(0,$r.jsx)("tbody",{children:E().map((e,t)=>{var r,n,a,s;const i=new Date>new Date(e.dueDate)&&"paid"!==e.status,o="rejected"===e.status,l=o?"rejected":i?"overdue":e.status,c="overdue"===l,d="paid"===l,u="pending"===l,m="pending_verification"===e.status;let f="hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-none";return c&&(f+=" bg-red-50/30"),o&&(f+=" bg-red-50/20"),(0,$r.jsxs)("tr",{className:f,children:[(0,$r.jsx)("td",{className:"px-6 py-4 w-12 align-middle",children:"paid"!==e.status&&"pending_verification"!==e.status&&"rejected"!==e.status?(0,$r.jsx)("input",{type:"checkbox",checked:h.includes(e.id||e.deliveryId),onChange:()=>{return t=e.id||e.deliveryId,void p(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 w-4 h-4 cursor-pointer"}):m?(0,$r.jsx)("div",{className:"w-4 h-4 rounded bg-blue-100 border border-blue-300 flex items-center justify-center cursor-not-allowed",title:"Awaiting admin verification - cannot be selected",children:(0,$r.jsx)(as,{className:"text-blue-500 text-[10px]"})}):o?(0,$r.jsx)("div",{className:"w-4 h-4 rounded bg-red-100 border border-red-300 flex items-center justify-center cursor-not-allowed",title:"Rejected - contact administrator",children:(0,$r.jsx)(us,{className:"text-red-500 text-[10px]"})}):null}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm align-middle",children:(0,$r.jsx)("div",{className:"flex flex-col gap-1",children:(0,$r.jsxs)("span",{className:"font-mono font-semibold text-blue-600",children:["#",e.deliveryId]})})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm align-middle",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5 max-w-[200px]",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 truncate",title:null===(r=e.metadata)||void 0===r?void 0:r.pickupLocation,children:[(0,$r.jsx)(Ns,{className:"text-emerald-600 min-w-[12px]"}),(0,$r.jsx)("span",{className:"truncate",children:(null===(n=e.metadata)||void 0===n?void 0:n.pickupLocation)||"Pickup Location"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 truncate",title:null===(a=e.metadata)||void 0===a?void 0:a.deliveryAddress,children:[(0,$r.jsx)(Ns,{className:"text-red-500 min-w-[12px]"}),(0,$r.jsx)("span",{className:"truncate",children:(null===(s=e.metadata)||void 0===s?void 0:s.deliveryAddress)||"Delivery Address"})]})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 align-middle",children:L(e.deliveryDate)}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 align-middle",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[L(e.dueDate),c&&(0,$r.jsxs)("span",{className:"text-[10px] font-bold text-red-500 flex items-center gap-1",children:[(0,$r.jsx)(us,{})," Overdue"]})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-800 font-semibold align-middle",children:(0,$r.jsx)("div",{className:"flex items-center gap-2",children:(0,$r.jsx)("span",{className:"text-emerald-700",children:T(e.amount)})})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm align-middle",children:(0,$r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,$r.jsxs)("span",{className:"inline-flex items-center justify-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider\n                            ".concat(d?"bg-emerald-100 text-emerald-700":"","\n                            ").concat(c?"bg-red-100 text-red-700":"","\n                            ").concat(!u||m||o?"":"bg-amber-100 text-amber-700","\n                            ").concat(m?"bg-blue-100 text-blue-700 border border-blue-200":"","\n                            ").concat(o?"bg-red-100 text-red-700 border border-red-200":"","\n                          "),children:[d&&(0,$r.jsx)(es,{}),c&&(0,$r.jsx)(us,{}),u&&!m&&!o&&(0,$r.jsx)(as,{}),m&&(0,$r.jsx)(as,{}),o&&(0,$r.jsx)(us,{}),m?"Pending Approval":o?"Rejected":l.charAt(0).toUpperCase()+l.slice(1)]}),m&&(0,$r.jsx)("span",{className:"text-[10px] text-blue-600 font-medium text-center",children:"Awaiting admin verification"}),o&&(0,$r.jsx)("span",{className:"text-[10px] text-red-600 font-medium text-center",children:"Contact administrator"})]})}),(0,$r.jsxs)("td",{className:"px-6 py-4 text-sm align-middle text-right",children:[d&&e.proofId&&(0,$r.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),r=await Vr.get("/api/payments/receipt/".concat(e),{headers:{Authorization:"Bearer ".concat(t)},responseType:"blob"}),n=r.headers["content-type"]||"application/pdf",a=new Blob([r.data],{type:n}),s=window.URL.createObjectURL(a);window.open(s,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(s),1e4)}catch(r){var t;console.error("Error fetching receipt:",r);const e=null===r||void 0===r||null===(t=r.response)||void 0===t?void 0:t.status;404===e?alert("Receipt not yet available for this payment. It may have been approved before receipt generation was enabled."):403===e?alert("You are not authorized to view this receipt."):alert("Failed to load receipt. Please try again later.")}})(e.proofId),className:"text-purple-600 hover:bg-purple-50 p-2 rounded-full transition-colors",title:"Download Receipt",children:(0,$r.jsx)(fs,{size:16})}),o&&(0,$r.jsx)("span",{className:"text-red-400 p-2 rounded-full cursor-default",title:"Payment was rejected - no receipt available. Please contact administrator.",children:(0,$r.jsx)(us,{size:14})})]})]},e.id||t)})})]})}):(0,$r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center text-gray-400 bg-white rounded-xl border border-gray-200 border-dashed",children:[(0,$r.jsx)("div",{className:"text-5xl mb-4 opacity-50",children:(0,$r.jsx)(fs,{})}),(0,$r.jsx)("h4",{className:"text-lg font-bold text-gray-600 mb-2",children:"No Billing Records Found"}),(0,$r.jsx)("p",{className:"max-w-md mx-auto mb-6",children:"You don't have any delivery charges yet. Start by booking a truck delivery."}),(0,$r.jsxs)(be,{to:"/client/dashboard?tab=book-truck",className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg transition-all",children:[(0,$r.jsx)(Hs,{})," Book Your First Delivery"]})]})]}),m&&(0,$r.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,$r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>f(!1)}),(0,$r.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,$r.jsxs)("div",{className:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all w-full max-w-lg",children:[(0,$r.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[(0,$r.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,$r.jsx)(Vs,{className:"text-blue-600"}),"Upload Payment Proof"]}),(0,$r.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,$r.jsx)(qs,{})})]}),(0,$r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,$r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,$r.jsx)("span",{className:"text-sm text-blue-800 font-medium",children:"Selected Deliveries:"}),(0,$r.jsx)("span",{className:"text-sm font-bold text-blue-900",children:h.length})]}),(0,$r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$r.jsx)("span",{className:"text-sm text-blue-800 font-medium",children:"Total Amount:"}),(0,$r.jsx)("span",{className:"text-lg font-bold text-blue-700",children:T(I())})]})]}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Proof of Payment (Image/PDF)"}),(0,$r.jsxs)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-500 transition-colors bg-gray-50 hover:bg-white cursor-pointer relative",children:[(0,$r.jsx)("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>{const t=e.target.files[0];if(t){if(!["image/png","application/pdf"].includes(t.type))return void N({show:!0,type:"error",message:"Please upload a PNG image or PDF file only"});if(t.size>5242880)return void N({show:!0,type:"error",message:"File size must be less than 5MB"});x(t)}},accept:"image/png,application/pdf"}),(0,$r.jsx)("div",{className:"space-y-1 text-center",children:g?(0,$r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,$r.jsx)(ms,{className:"mx-auto h-12 w-12 text-blue-500"}),(0,$r.jsx)("div",{className:"flex text-sm text-gray-600 mt-2",children:(0,$r.jsx)("span",{className:"font-medium text-blue-600 truncate max-w-[200px]",children:g.name})}),(0,$r.jsxs)("p",{className:"text-xs text-gray-500",children:[(g.size/1024/1024).toFixed(2)," MB"]}),(0,$r.jsx)("p",{className:"text-xs text-green-600 mt-1 font-medium",children:"Click to change file"})]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(Vs,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,$r.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,$r.jsx)("span",{className:"font-medium text-blue-600 hover:text-blue-500",children:"Upload a file"}),(0,$r.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, PDF up to 5MB"})]})})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),(0,$r.jsx)("input",{type:"text",value:b.referenceNumber,onChange:e=>v(Ne(Ne({},b),{},{referenceNumber:e.target.value})),placeholder:"e.g. GCash Ref No., Bank Trans ID",className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-4 py-2 border"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),(0,$r.jsx)("textarea",{value:b.notes,onChange:e=>v(Ne(Ne({},b),{},{notes:e.target.value})),rows:2,placeholder:"Any additional details...",className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-4 py-2 border"})]})]}),j.show&&(0,$r.jsxs)("div",{className:"p-3 rounded-lg text-sm flex items-start gap-2 ".concat("error"===j.type?"bg-red-50 text-red-700":"bg-green-50 text-green-700"),children:[(0,$r.jsx)(ys,{className:"mt-0.5 shrink-0"}),(0,$r.jsx)("span",{children:j.message})]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-row-reverse gap-3",children:[(0,$r.jsx)("button",{type:"button",onClick:async()=>{if(g)if(0!==h.length)try{w(!0);const e=localStorage.getItem("token"),t=new FileReader;t.readAsDataURL(g),t.onload=async()=>{try{const r=t.result,n=await Vr.post("/api/payments/upload-proof",{file:{data:r,name:g.name,type:g.type,size:g.size},deliveryIds:h,referenceNumber:b.referenceNumber,notes:b.notes,clientId:D()},{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});n.data.success&&(N({show:!0,type:"success",message:n.data.message||"Payment proof uploaded successfully! Awaiting admin verification."}),f(!1),x(null),v({referenceNumber:"",notes:""}),p([]),await M())}catch(d){var r,n;console.error("Error uploading proof:",d),N({show:!0,type:"error",message:(null===(r=d.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to upload payment proof"})}finally{w(!1)}},t.onerror=()=>{N({show:!0,type:"error",message:"Failed to read the file. Please try again."}),w(!1)}}catch(d){var e,t;console.error("Error uploading proof:",d),N({show:!0,type:"error",message:(null===(e=d.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to upload payment proof"}),w(!1)}else N({show:!0,type:"error",message:"Please select at least one delivery"});else N({show:!0,type:"error",message:"Please select a file to upload"})},disabled:y||!g,className:"inline-flex w-full justify-center rounded-lg px-4 py-2 text-base font-semibold text-white shadow-sm sm:w-auto sm:text-sm transition-all ".concat(y||!g?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500"),children:y?(0,$r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,$r.jsx)(Bs,{className:"animate-spin"})," Uploading..."]}):"Submit Proof"}),(0,$r.jsx)("button",{type:"button",onClick:()=>f(!1),disabled:y,className:"inline-flex w-full justify-center rounded-lg bg-white px-4 py-2 text-base font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})]})},wf=()=>{var e;const{authUser:r,logout:n}=(0,t.useContext)(wa)||{authUser:null,logout:()=>{}},a=ce(),s=de(),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)([]),[h,p]=(0,t.useState)(!0),[m,f]=(0,t.useState)(null),g=new URLSearchParams(s.search),[x,b]=(0,t.useState)(g.get("tab")||"overview"),[v,y]=(0,t.useState)(!1),[w,j]=(0,t.useState)({pickupLocation:"",pickupCoordinates:null,dropoffLocation:"",dropoffCoordinates:null,weight:"",deliveryDate:"",deliveryTime:"",selectedTrucks:[],pickupContactPerson:"",pickupContactNumber:"",dropoffContactPerson:"",dropoffContactNumber:""}),[N,k]=(0,t.useState)([]),[S,C]=(0,t.useState)(!1),[_,P]=(0,t.useState)(null),[A,D]=(0,t.useState)(!1),[T,L]=(0,t.useState)(null),[E,I]=(0,t.useState)([]),[M,R]=(0,t.useState)([]),[F,z]=(0,t.useState)(!1),[O,B]=(0,t.useState)([]),[U,q]=(0,t.useState)({type:"all",status:"all",search:""}),[W,H]=(0,t.useState)(12),[V,K]=(0,t.useState)(1),[G,Y]=(0,t.useState)(!1),[$,J]=(0,t.useState)(""),[X,Q]=(0,t.useState)("all"),[Z,ee]=(0,t.useState)("all"),[te,re]=(0,t.useState)([]),[ne,ae]=(0,t.useState)(!1),[se,ie]=(0,t.useState)(1),[oe]=(0,t.useState)(20),[le,ue]=(0,t.useState)("DeliveryDate"),[he,pe]=(0,t.useState)("desc"),[me,fe]=(0,t.useState)(!1),[ge,xe]=(0,t.useState)(null),[be,ve]=(0,t.useState)(!1),[ye,we]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=[...d];if($&&(e=e.filter(e=>{var t,r,n,a,s,i;return(null===(t=e.DeliveryID)||void 0===t?void 0:t.toString().toLowerCase().includes($.toLowerCase()))||(null===(r=e.TruckPlate)||void 0===r?void 0:r.toLowerCase().includes($.toLowerCase()))||(null===(n=e.TruckBrand)||void 0===n?void 0:n.toLowerCase().includes($.toLowerCase()))||(null===(a=e.DriverName)||void 0===a?void 0:a.toLowerCase().includes($.toLowerCase()))||(null===(s=e.PickupLocation)||void 0===s?void 0:s.toLowerCase().includes($.toLowerCase()))||(null===(i=e.DropoffLocation)||void 0===i?void 0:i.toLowerCase().includes($.toLowerCase()))})),X&&"all"!==X&&(e=e.filter(e=>{var t;return(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())===X.toLowerCase()})),Z&&"all"!==Z){const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate());e=e.filter(e=>{const t=new Date(e.DeliveryDate);switch(Z){case"today":return t>=r&&t<new Date(r.getTime()+864e5);case"week":return t>=new Date(r.getTime()-6048e5);case"month":return t>=new Date(r.getFullYear(),r.getMonth()-1,r.getDate());case"year":return t>=new Date(r.getFullYear()-1,r.getMonth(),r.getDate());default:return!0}})}re(e),ie(1)},[d,$,X,Z]);const[je,ke]=(0,t.useState)(!1),[Se,Ce]=(0,t.useState)(!1),[_e,Pe]=(0,t.useState)({clientName:"",clientEmail:"",clientNumber:""}),[Ae,De]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[Te,Le]=(0,t.useState)(!1),{modalState:Ee,hideModal:Ie,showWarning:Me,showError:Re,showSuccess:Fe,showInfo:ze,showConfirm:Oe}=gf(),{toasts:Be,removeToast:Ue,showSuccess:qe,showError:We,showWarning:He,showInfo:Ve,showDeliveryUpdate:Ke}=Da(),[Ge,Ye]=(0,t.useState)(null),[$e,Je]=(0,t.useState)(!1),[Xe,Qe]=(0,t.useState)(!1),[Ze,et]=(0,t.useState)(!1),[tt,rt]=(0,t.useState)(null),[nt,at]=(0,t.useState)({pickupLocation:"",pickupCoordinates:null,dropoffLocation:"",dropoffCoordinates:null,newDistance:0,newCost:0}),[st,it]=(0,t.useState)({newDate:"",newTime:""}),[ot,lt]=(0,t.useState)(!1),[ct,dt]=(0,t.useState)("pickup");(0,t.useEffect)(()=>{const e=()=>{y(!0)};return window.addEventListener("openBookingModal",e),()=>{window.removeEventListener("openBookingModal",e)}},[]),(0,t.useEffect)(()=>{v||(ff.clearUsedLocations(),I([]),R([]),console.log("\ud83d\udd04 Booking modal closed - cleared used locations and availability data"))},[v]),(0,t.useEffect)(()=>{v&&w.deliveryDate&&(console.log("\ud83d\udcc5 Modal opened with date:",w.deliveryDate),vt(w.deliveryDate))},[v,w.deliveryDate]),(0,t.useEffect)(()=>{const e=new URLSearchParams(s.search).get("tab")||"overview";b(e)},[s.search]),(0,t.useEffect)(()=>{const e=new Date;e.setDate(e.getDate()+1);const t=e.toISOString().split("T")[0];j(e=>Ne(Ne({},e),{},{deliveryDate:t,deliveryTime:"12:00"}))},[]),(0,t.useEffect)(()=>{const e=localStorage.getItem("token");e&&(Vr.defaults.headers.common.Authorization="Bearer ".concat(e))},[]);const ut=async()=>{try{p(!0),f(null);try{const e=await Vr.get("/api/clients/profile");o(e.data)}catch(t){console.error("Error fetching profile:",t),f("Failed to load profile data.")}try{var e;console.log("\ud83d\udd04 Fetching allocated trucks...");const t=await Vr.get("/api/clients/profile/trucks");console.log("\ud83d\udd0d Raw trucks response:",t.data),console.log("\ud83d\udd0d Trucks with status:",null===(e=t.data)||void 0===e?void 0:e.map(e=>({plate:e.TruckPlate,status:e.TruckStatus}))),c(t.data||[])}catch(r){console.error("Error fetching trucks:",r),c([])}try{const e=(await Vr.get("/api/clients/profile/deliveries")).data||[];u(e)}catch(n){console.error("Error fetching deliveries:",n),u([])}p(!1)}catch(m){console.error("Error in fetchClientData:",m),f("Failed to load dashboard data."),p(!1)}};(0,t.useEffect)(()=>{ut(),(async()=>{try{console.log("\ud83d\udd04 Fetching vehicle rates...");const e=await Vr.get("/api/clients/vehicle-rates",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});e.data.success&&(console.log("\u2705 Vehicle rates fetched:",e.data.data),B(e.data.data||[]))}catch(m){console.error("\u274c Error fetching vehicle rates:",m),B([])}})()},[]),(0,t.useEffect)(()=>{const e=setInterval(async()=>{try{console.log("\ud83d\udd04 Polling for delivery updates...");const e=(await Vr.get("/api/clients/profile/deliveries")).data||[],t=e.some(e=>{const t=d.find(t=>t.DeliveryID===e.DeliveryID);return t&&t.DeliveryStatus!==e.DeliveryStatus});if(t){console.log("\u2705 Delivery status changes detected, updating..."),u(e);const t=e.filter(e=>{const t=d.find(t=>t.DeliveryID===e.DeliveryID);return t&&t.DeliveryStatus!==e.DeliveryStatus});t.forEach(e=>{const t=ht(e.DeliveryStatus);Ve("Delivery Status Updated","Delivery #".concat(e.DeliveryID.substring(0,8)," is now ").concat(t))})}}catch(m){console.error("Error polling for updates:",m)}},3e4);return()=>clearInterval(e)},[d,Ve]);const ht=e=>{switch(e){case"pending":return"pending driver assignment";case"accepted":return"accepted by driver";case"started":return"started by driver";case"picked-up":return"picked up by driver";case"awaiting-confirmation":return"delivered and awaiting your confirmation";case"completed":return"completed";case"cancelled":return"cancelled";default:return e}},pt=async e=>{const t=parseFloat(e.target.value);j(t=>Ne(Ne({},t),{},{weight:e.target.value})),!isNaN(t)&&t>0?await Tt(t):(k([]),j(e=>Ne(Ne({},e),{},{selectedTrucks:[]})))},mt=e=>{"pickup"===e?w.pickupLocation:w.dropoffLocation;ff.clearUsedLocations();const t="pickup"===e?w.dropoffLocation:w.pickupLocation,r="pickup"===e?w.dropoffCoordinates:w.pickupCoordinates,n=t?{address:t,coordinates:r}:null;ff.init({locationType:e,initialAddress:"pickup"===e?w.pickupLocation:w.dropoffLocation,title:"Select ".concat("pickup"===e?"Pickup":"Dropoff"," Location"),otherSelectedLocation:n,onSelectCallback:(t,r,n)=>{const a={["pickup"===e?"pickupLocation":"dropoffLocation"]:t,["pickup"===e?"pickupCoordinates":"dropoffCoordinates"]:r};n?("pickup"===e?(n.contactPerson&&(a.pickupContactPerson=n.contactPerson),n.contactNumber&&(a.pickupContactNumber=n.contactNumber)):(n.contactPerson&&(a.dropoffContactPerson=n.contactPerson),n.contactNumber&&(a.dropoffContactNumber=n.contactNumber)),console.log("\u2705 Auto-filled ".concat(e," contact info from saved location:"),n.contactPerson,n.contactNumber)):("pickup"===e?(a.pickupContactPerson="",a.pickupContactNumber=""):(a.dropoffContactPerson="",a.dropoffContactNumber=""),console.log("\ud83d\udd04 Manual location selected for ".concat(e,", cleared contact fields"))),j(e=>Ne(Ne({},e),a))}})},ft=()=>{w.pickupCoordinates&&w.dropoffCoordinates?C(!S):ze("Route Preview Unavailable","Select both locations on map for route preview, or continue booking with address text only.")},gt=e=>{P(e),j(t=>Ne(Ne({},t),{},{deliveryDistance:e.distanceValue,estimatedDuration:e.durationValue}))},xt=()=>{if(!_||!w.selectedTrucks.length)return 0;const e=l.find(e=>w.selectedTrucks.includes(e.TruckID));if(!e)return 0;const t=e.TruckType||"mini truck",r=_.distanceValue||0;let n=null;if(O.length>0&&(n=O.find(e=>e.vehicleType===t),console.log("\ud83d\udd0d Looking for rate for ".concat(t,", found:"),n)),!n){console.log("\u26a0\ufe0f No staff rate found for ".concat(t,", using default rates"));const e={"mini truck":{baseRate:100,ratePerKm:15},"4 wheeler":{baseRate:150,ratePerKm:20},"6 wheeler":{baseRate:200,ratePerKm:25},"8 wheeler":{baseRate:250,ratePerKm:30},"10 wheeler":{baseRate:300,ratePerKm:35}};n=e[t]||e["mini truck"]}const a=parseFloat(n.baseRate)||0,s=parseFloat(n.ratePerKm)||0,i=a+r*s;return console.log("\ud83d\udcb0 Cost calculation for ".concat(t,": Base \u20b1").concat(a," + (").concat(r,"km \xd7 \u20b1").concat(s,"/km) = \u20b1").concat(i)),Math.round(i)},bt=()=>{const e=xt();return Math.round(e*w.selectedTrucks.length)},vt=async e=>{if(e)try{z(!0),console.log("\ud83d\udd0d Checking available trucks for date: ".concat(e));const t=await Vr.get("/api/clients/availability/trucks-for-date/".concat(e));if(t.data.success){const r=t.data.availableTrucks.map(e=>e.id);I(r),console.log("\u2705 ".concat(t.data.totalAvailable,"/").concat(t.data.totalAllocated," trucks available on ").concat(e)),console.log("\u274c ".concat(t.data.totalBooked," trucks booked:"),t.data.bookedTruckIds),j(e=>Ne(Ne({},e),{},{selectedTrucks:e.selectedTrucks.filter(e=>r.includes(e))}))}}catch(m){console.error("\u274c Error checking truck availability:",m)}finally{z(!1)}else I([])},yt=e=>{const t=e.target.value,r=new Date,n=new Date(r.getTime()+864e5);new Date(t+"T00:00:00")<new Date(n.toISOString().split("T")[0]+"T00:00:00")?Me("Invalid Date","Bookings must be made at least 24 hours in advance. Please select a later date."):t&&M.length>0&&M.includes(t)?Me("Date Not Available","The selected date is already booked for one of your selected trucks. Please choose a different date."):(j(e=>Ne(Ne({},e),{},{deliveryDate:t})),t?vt(t):I([]))},wt=e=>{const t=w.selectedTrucks.includes(e);(e=>{var t,r,n,a;const s=l.find(t=>t.TruckID===e);if(!s)return void console.warn("Truck not found:",e);const i=(null===(t=s.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(r=s.OperationalStatus)||void 0===r?void 0:r.toLowerCase()),o=(null===(n=s.availabilityStatus)||void 0===n?void 0:n.toLowerCase())||(null===(a=s.AvailabilityStatus)||void 0===a?void 0:a.toLowerCase());"active"===i&&"free"===o?j(t=>{const r=[...t.selectedTrucks];return r.includes(e)?Ne(Ne({},t),{},{selectedTrucks:r.filter(t=>t!==e)}):Ne(Ne({},t),{},{selectedTrucks:[...r,e]})}):Me("Truck Unavailable","This truck is not available for booking - Operational: ".concat(i,", Availability: ").concat(o))})(e),t?1===w.selectedTrucks.length&&R([]):(async e=>{if(e)try{console.log("\ud83d\udd0d Checking booked dates for truck: ".concat(e));const t=await Vr.get("/api/clients/availability/dates-for-truck/".concat(e));t.data.success&&(R(t.data.bookedDateStrings),console.log("\ud83d\udcc5 Truck ".concat(e," has ").concat(t.data.totalBooked," booked dates:"),t.data.bookedDateStrings))}catch(m){console.error("\u274c Error checking truck booked dates:",m)}else R([])})(e)},jt=async e=>{e.preventDefault(),console.log("\ud83d\ude80 Starting booking submission...");try{if(!w.pickupLocation||!w.dropoffLocation||!w.weight||!w.deliveryDate||!w.deliveryTime||!w.pickupContactNumber||!w.dropoffContactNumber){const e=[];return w.pickupLocation||e.push("Pickup Location"),w.dropoffLocation||e.push("Dropoff Location"),w.weight||e.push("Cargo Weight"),w.deliveryDate||e.push("Delivery Date"),w.deliveryTime||e.push("Delivery Time"),w.pickupContactNumber||e.push("Pickup Contact Number"),w.dropoffContactNumber||e.push("Dropoff Contact Number"),console.log("\u274c Missing required fields:",e),void Me("Missing Required Fields","Please fill in the following required fields:\n\n".concat(e.join("\n")))}if(0===w.selectedTrucks.length)return console.log("\u274c No trucks selected"),void Me("No Trucks Selected","Please select at least one truck for the delivery");console.log("\ud83d\udccb Booking data:",w);const e=[];for(const s of w.selectedTrucks){var t,r,n,a;const i=l.find(e=>e.TruckID===s);if(!i){e.push("Truck ".concat(s," not found"));continue}const o=(null===(t=i.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(r=i.OperationalStatus)||void 0===r?void 0:r.toLowerCase()),c=(null===(n=i.availabilityStatus)||void 0===n?void 0:n.toLowerCase())||(null===(a=i.AvailabilityStatus)||void 0===a?void 0:a.toLowerCase());"active"===o&&"free"===c||e.push("".concat(i.TruckPlate," - Operational: ").concat(o,", Availability: ").concat(c))}if(e.length>0){console.log("\u274c Some trucks unavailable:",e);const t="Some trucks are not available:\n".concat(e.join("\n"),"\n\nPlease select different trucks.");return void Me("Trucks Unavailable",t,{onConfirm:()=>{j(e=>Ne(Ne({},e),{},{selectedTrucks:[]})),Tt(parseFloat(w.weight))}})}const h=localStorage.getItem("token");if(!h)return console.log("\u274c No authentication token"),void Re("Authentication Error","Authentication token missing. Please login again.");const f=w.pickupCoordinates||{lat:14.5995,lng:120.9842},g=w.dropoffCoordinates||{lat:14.6091,lng:121.0223},x={pickupLocation:w.pickupLocation,dropoffLocation:w.dropoffLocation,pickupCoordinates:f,dropoffCoordinates:g,weight:w.weight,deliveryDate:w.deliveryDate,deliveryTime:w.deliveryTime,selectedTrucks:w.selectedTrucks,deliveryDistance:w.deliveryDistance||0,estimatedDuration:w.estimatedDuration||0,pickupContactPerson:w.pickupContactPerson,pickupContactNumber:w.pickupContactNumber,dropoffContactPerson:w.dropoffContactPerson,dropoffContactNumber:w.dropoffContactNumber};console.log("\ud83d\udce4 Sending booking request:",x),p(!0);try{console.log("\ud83d\udce4 Submitting booking request...");const e=await Vr.post("/api/clients/truck-rental",x,{headers:{Authorization:"Bearer ".concat(h),"Content-Type":"application/json"}});if(console.log("\u2705 Booking response:",e.data),!e.data.success)throw new Error(e.data.message||"Booking failed");{var s;const t=(null===(s=e.data.createdDeliveries)||void 0===s?void 0:s.length)||w.selectedTrucks.length;qe("\u2705 Booking Successful!","".concat(t," delivery").concat(1!==t?"ies":"y"," scheduled successfully.")),ff.clearUsedLocations(),y(!1),j({pickupLocation:"",pickupCoordinates:null,dropoffLocation:"",dropoffCoordinates:null,weight:"",deliveryDate:"",deliveryTime:"",selectedTrucks:[],pickupContactPerson:"",pickupContactNumber:"",dropoffContactPerson:"",dropoffContactNumber:""}),ut()}}catch(m){var i,o,c,d;console.error("\u274c Booking failed:",m),console.error("\u274c Error response data:",null===(i=m.response)||void 0===i?void 0:i.data),console.error("\u274c Error status:",null===(o=m.response)||void 0===o?void 0:o.status);let t="Booking Failed",r="Unknown error occurred";var u;if(null!==(c=m.response)&&void 0!==c&&null!==(d=c.data)&&void 0!==d&&d.message)r=m.response.data.message,console.error("\u274c Backend error message:",r),m.response.data.failedBookings&&(console.error("\u274c Failed bookings details:",m.response.data.failedBookings),m.response.data.failedBookings.forEach(e=>{console.error("   - Truck ".concat(e.truckId,": ").concat(e.reason))})),null!==(u=m.response.data.debug)&&void 0!==u&&u.commonIssues&&console.error("\u274c Common issues:",m.response.data.debug.commonIssues),r.includes("allocated to another client")?(t="Truck Not Available",r="".concat(r,"\n\nThis truck is not currently allocated to your account. Please:\n1. Contact your account manager to reallocate this truck\n2. Select a different truck from your allocated trucks")):r.includes("not allocated to your account")?(t="Truck Not Allocated",r="".concat(r,"\n\nPlease:\n1. Contact your account manager to allocate this truck to your account\n2. Select a truck from your allocated trucks list")):r.includes("insufficient capacity")||r.includes("no trucks available")?t="Insufficient Truck Capacity":(r.includes("quota exceeded")||r.includes("RESOURCE_EXHAUSTED"))&&(t="Service Temporarily Unavailable",r="The service is experiencing high usage. Please try again in a few minutes.");else m.message&&(r=m.message);We(t,r)}finally{p(!1)}}catch(C){var h,f,g,x,b,v,N,S;console.error("\ud83d\udca5 Booking error:",C),console.error("\ud83d\udca5 Error response:",null===(h=C.response)||void 0===h?void 0:h.data),console.error("\ud83d\udca5 Error status:",null===(f=C.response)||void 0===f?void 0:f.status),p(!1);let e="Error booking truck rental. Please try again.";if(403===(null===(g=C.response)||void 0===g?void 0:g.status))e="Some trucks are not available for booking. Please select different trucks.",j(e=>Ne(Ne({},e),{},{selectedTrucks:[]})),Tt(parseFloat(w.weight));else if(null!==(x=C.response)&&void 0!==x&&x.data){const t=C.response.data;if(e=t.message||"Unknown error occurred",t.debug&&(console.log("\ud83d\udd0d Debug info:",t.debug),e+="\n\nDebug Info:",e+="\n\u2022 Requested trucks: ".concat(t.debug.requestedTrucks),e+="\n\u2022 Available drivers: ".concat(t.debug.availableDrivers),e+="\n\u2022 Available helpers: ".concat(t.debug.availableHelpers),t.failedBookings&&t.failedBookings.length>0&&(e+="\n\nFailed trucks:",t.failedBookings.forEach(t=>{e+="\n\u2022 ".concat(t.truckId,": ").concat(t.reason)}))),"INSUFFICIENT_DRIVERS"===t.error){const{required:r,available:n,shortage:a}=t;e="\u26a0\ufe0f Driver Shortage Alert!\n\nCannot proceed with booking - all drivers are deployed.\n\n"+"\u2022 Required drivers: ".concat(r,"\n")+"\u2022 Available drivers: ".concat(n,"\n")+"\u2022 Shortage: ".concat(a," driver").concat(1!==a?"s":"","\n\n")+"Please try booking fewer trucks or wait for drivers to become available.",j(e=>Ne(Ne({},e),{},{selectedTrucks:[],weight:""})),k([])}}else if("INSUFFICIENT_HELPERS"===(null===(b=C.response)||void 0===b||null===(v=b.data)||void 0===v?void 0:v.error)){const{required:t,available:r,shortage:n}=C.response.data;e="\u26a0\ufe0f Helper Shortage Alert!\n\nCannot proceed with booking - all helpers are deployed.\n\n"+"\u2022 Required helpers: ".concat(t,"\n")+"\u2022 Available helpers: ".concat(r,"\n")+"\u2022 Shortage: ".concat(n," helper").concat(1!==n?"s":"","\n\n")+"Please try booking fewer trucks or wait for helpers to become available.",j(e=>Ne(Ne({},e),{},{selectedTrucks:[],weight:""})),k([])}else null!==(N=C.response)&&void 0!==N&&null!==(S=N.data)&&void 0!==S&&S.message&&(e=C.response.data.message);Re("Booking Failed",e,{size:"large"})}},Nt=e=>{const{name:t,value:r}=e.target;Pe(e=>Ne(Ne({},e),{},{[t]:r}))},kt=e=>{const{name:t,value:r}=e.target;De(e=>Ne(Ne({},e),{},{[t]:r}))},St=()=>d.filter(e=>"pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus),Ct=()=>d.filter(e=>"completed"===e.DeliveryStatus),_t=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e),Pt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e;if(!r&&t){const e=[t.DeliveryDate,t.deliveryDate,t.created_at,t.createdAt,t.scheduledFor,t.CreatedAt];for(const t of e)if(t){r=t;break}}if(!r)return"Date N/A";try{let e=null;if(r&&"object"===typeof r&&(r.seconds||r._seconds)){const t=r.seconds||r._seconds;e=new Date(1e3*t)}else if(r&&"function"===typeof r.toDate)e=r.toDate();else if(r instanceof Date)e=r;else if("string"===typeof r){const t=r.trim();if(!t||"null"===t.toLowerCase()||"undefined"===t.toLowerCase()||"Invalid Date"===t)return"Date N/A";e=new Date(t)}else if("number"===typeof r){if(0===r||isNaN(r))return"Date N/A";e=r<1e10?new Date(1e3*r):new Date(r)}if(e&&!isNaN(e.getTime())){const t=new Date;return Math.abs(t.getFullYear()-e.getFullYear())>50?"Date N/A":e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return"Date N/A"}catch(m){return console.error("Error formatting date:",m),"Date N/A"}},At=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"pending":default:return"pending";case"in-progress":return"in-progress";case"awaiting-confirmation":case"delivered":return"awaiting-confirmation";case"completed":return"completed";case"cancelled":return"cancelled"}},Dt=(e,t)=>{if(console.log("\ud83d\udd0d Finding most efficient truck combination for ".concat(t," tons")),console.log("Available trucks:",e.map(e=>"".concat(e.TruckPlate,": ").concat(e.TruckCapacity,"t"))),!e||0===e.length)return console.log("\u274c No trucks available"),[];const r=[...e].sort((e,t)=>(parseFloat(e.TruckCapacity)||0)-(parseFloat(t.TruckCapacity)||0));console.log("Available trucks by capacity:",r.map(e=>"".concat(e.TruckPlate,": ").concat(e.TruckCapacity,"t")));let n=null,a=1/0;for(const i of r){const e=parseFloat(i.TruckCapacity)||0;if(e>=t){const r=e-t;r<a&&(a=r,n=i)}}if(n){const e=(t/parseFloat(n.TruckCapacity)*100).toFixed(1);return console.log("\u2705 Most efficient single truck: ".concat(n.TruckPlate," (").concat(n.TruckCapacity,"t capacity, ").concat(e,"% efficiency)")),[n]}console.log("\ud83d\udd04 No single truck can handle the cargo, finding optimal combination...");let s;if(s=r.length<=10?(()=>{let e=[],n=0,a=1/0;const s=Math.min(Math.pow(2,r.length),1e3);for(let i=1;i<s;i++){const s=[];let o=0;for(let e=0;e<r.length;e++)i&1<<e&&(s.push(r[e]),o+=parseFloat(r[e].TruckCapacity)||0);if(o>=t){const r=t/o*100,i=o-t;(0===e.length||s.length<e.length||s.length===e.length&&r>n||s.length===e.length&&r===n&&i<a)&&(e=s,n=r,a=i)}}return e})():(()=>{const e=r.map(e=>{const r=parseFloat(e.TruckCapacity)||0;let n=0;return n=r<=t?r/t:t/r,{truck:e,capacity:r,efficiency:n}}).sort((e,t)=>t.efficiency-e.efficiency);console.log("Trucks sorted by efficiency:",e.map(e=>"".concat(e.truck.TruckPlate,": ").concat(e.capacity,"t (").concat((100*e.efficiency).toFixed(1),"%)")));const n=[];let a=t;for(const{truck:t,capacity:r}of e){if(a<=0)break;r>0&&(a-r>=-1||r>=.5*a)&&(n.push(t),a-=r,console.log("\u2795 Added efficient truck: ".concat(t.TruckPlate," (").concat(r,"t), remaining: ").concat(a.toFixed(1),"t")))}return n})(),s.length>0){const e=s.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0);if(e>=t){const r=(t/e*100).toFixed(1),n=(e-t).toFixed(1);return console.log("\u2705 Optimal solution found:"),console.log("   Trucks: ".concat(s.length)),console.log("   Total capacity: ".concat(e,"t")),console.log("   Cargo weight: ".concat(t,"t")),console.log("   Efficiency: ".concat(r,"%")),console.log("   Waste: ".concat(n,"t")),console.log("   Combination: ".concat(s.map(e=>"".concat(e.TruckPlate,"(").concat(e.TruckCapacity,"t)")).join(", "))),s}return console.log("\u274c Insufficient capacity: ".concat(e,"t < ").concat(t,"t")),[]}return console.log("\u274c No suitable truck combination found"),[]},Tt=async e=>{if(console.log("\ud83d\ude80 Smart booking triggered for ".concat(e," tons")),!e||e<=0)return console.log("\u274c Invalid cargo weight"),void k([]);let t=l.filter(e=>{var t,r;const n=(null===(t=e.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(r=e.OperationalStatus)||void 0===r?void 0:r.toLowerCase());if("maintenance"===n||"broken"===n)return console.log("\u274c Truck ".concat(e.TruckPlate," is ").concat(n)),!1;if(w.deliveryDate){if(d.some(t=>{if((t.TruckID||t.truckId)!==e.TruckID)return!1;const r=(t.DeliveryStatus||t.deliveryStatus||"").toLowerCase();if(!["pending","in-progress","started","picked-up"].includes(r))return!1;let n=t.deliveryDateString;!n&&t.DeliveryDate&&(n=t.DeliveryDate.seconds?new Date(1e3*t.DeliveryDate.seconds).toISOString().split("T")[0]:new Date(t.DeliveryDate).toISOString().split("T")[0]);return n===new Date(w.deliveryDate).toISOString().split("T")[0]}))return console.log("\u274c Truck ".concat(e.TruckPlate," is booked on ").concat(w.deliveryDate)),!1}return console.log("\u2705 Truck ".concat(e.TruckPlate," is available for booking")),!0});if(console.log("\ud83d\udccb Available trucks for booking: ".concat(t.length,"/").concat(l.length)),0===t.length)return console.log("\u274c No trucks available for booking"),k([]),void Me("No Available Trucks","No trucks are currently available for booking. Please wait for trucks to become available or contact support.");const r=t.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0);if(console.log("\ud83d\udcca Total available capacity: ".concat(r," tons vs cargo weight: ").concat(e," tons")),r<e){console.log("\u274c Insufficient total capacity: ".concat(r,"t < ").concat(e,"t"));const n=e-r,a=l.length>0?l.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0)/l.length:5,s=Math.ceil(n/a);let i="\u26a0\ufe0f INSUFFICIENT TRUCK CAPACITY\n\n";i+="\ud83d\udce6 Your cargo weight: ".concat(e," tons\n"),i+="\ud83d\ude9b Available truck capacity: ".concat(r," tons\n"),i+="\ud83d\udcc9 Shortfall: ".concat(n.toFixed(1)," tons\n\n"),i+="SOLUTIONS:\n",i+="1. \ud83d\udcde Contact admin to allocate approximately ".concat(s," more truck").concat(1!==s?"s":"","\n"),i+="2. \u23f3 Wait for other trucks to complete their deliveries\n",i+="3. \ud83d\udce6 Split your cargo into smaller shipments\n\n",i+="Currently available trucks:\n",t.forEach((e,t)=>{i+="\u2022 ".concat(e.TruckPlate,": ").concat(e.TruckCapacity," tons\n")});const o=l.filter(e=>d.some(t=>t.TruckID===e.TruckID&&("pending"===t.DeliveryStatus||"in-progress"===t.DeliveryStatus)));return o.length>0&&(i+="\nTrucks currently in use:\n",o.forEach((e,t)=>{i+="\u2022 ".concat(e.TruckPlate,": ").concat(e.TruckCapacity," tons (in delivery)\n")})),Me("Insufficient Truck Capacity",i,{size:"large"}),void k([])}const n=Dt(t,e);if(n.length>0){console.log("\u2705 Recommended ".concat(n.length," trucks for ").concat(e," tons"));const t=await(async()=>({sufficient:!0,message:"Staff availability checked during booking"}))(n.length);k(n);const r=n.map(e=>e.TruckID);j(e=>Ne(Ne({},e),{},{selectedTrucks:r})),console.log("\ud83c\udfaf Auto-selected trucks:",r),t.sufficient||"Will check during booking"===t.message||Me("Staff Availability Warning","".concat(t.message,"\n\nYou can still proceed, but the booking may fail if there aren't enough available drivers or helpers."))}else console.log("\u274c No suitable truck combination found"),k([]),Me("No Suitable Combination","Unable to find a suitable truck combination. Please try a different cargo weight or contact support.")},Lt=()=>{let e=[...l];if("all"!==U.type&&(e=e.filter(e=>{var t;return null===(t=e.TruckType)||void 0===t?void 0:t.toLowerCase().includes(U.type.toLowerCase())})),"all"!==U.status){const t="available"===U.status;e=e.filter(e=>{var r,n,a,s,i,o,l;const c=null===(r=e.TruckStatus)||void 0===r?void 0:r.toLowerCase(),d=(null===(n=e.allocationStatus)||void 0===n?void 0:n.toLowerCase())||(null===(a=e.AllocationStatus)||void 0===a?void 0:a.toLowerCase()),u=(null===(s=e.operationalStatus)||void 0===s?void 0:s.toLowerCase())||(null===(i=e.OperationalStatus)||void 0===i?void 0:i.toLowerCase()),h=(null===(o=e.availabilityStatus)||void 0===o?void 0:o.toLowerCase())||(null===(l=e.AvailabilityStatus)||void 0===l?void 0:l.toLowerCase()),p=!0===e.activeDelivery,m=("allocated"===c||"available"===c)&&(!d||"allocated"===d||"available"===d)&&(!u||"active"===u)&&(!h||"free"===h||"busy"===h)&&!p;return console.log("\ud83d\udd0d Truck ".concat(e.TruckPlate,': status="').concat(c,'", activeDelivery=').concat(p,", isAvailable=").concat(m,", shouldShow=").concat(m===t)),m===t})}if(U.search){const t=U.search.toLowerCase();e=e.filter(e=>{var r,n;return(null===(r=e.TruckPlate)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(n=e.TruckType)||void 0===n?void 0:n.toLowerCase().includes(t))})}return e},Et=()=>{const e=Lt(),t=(V-1)*W,r=t+W;return e.slice(t,r)},It=()=>{const e=Lt();return Math.ceil(e.length/W)},Mt=(e,t)=>{q(r=>Ne(Ne({},r),{},{[e]:t})),K(1)},Rt=e=>{rt(e),Je(!0)},Ft=e=>{rt(e),at({pickupLocation:e.PickupLocation||"",pickupCoordinates:e.pickupCoordinates||e.PickupCoordinates||null,dropoffLocation:e.DropoffLocation||e.DeliveryAddress||"",dropoffCoordinates:e.dropoffCoordinates||e.DropoffCoordinates||null,newDistance:0,newCost:0}),Qe(!0)},zt=e=>{rt(e);const t=new Date(e.DeliveryDate);it({newDate:t.toISOString().split("T")[0],newTime:"12:00"}),et(!0)},Ot=async()=>{if(nt.pickupLocation&&nt.dropoffLocation)try{let e;if(nt.pickupCoordinates&&nt.dropoffCoordinates){const t=nt.pickupCoordinates,r=nt.dropoffCoordinates,n=6371,a=(r.lat-t.lat)*Math.PI/180,s=(r.lng-t.lng)*Math.PI/180,i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t.lat*Math.PI/180)*Math.cos(r.lat*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2),o=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));e=Math.round(n*o*100)/100}else e=Math.floor(50*Math.random())+10;console.log("\ud83d\udd0d Selected delivery data:",tt);const t=(null===tt||void 0===tt?void 0:tt.VehicleType)||(null===tt||void 0===tt?void 0:tt.vehicleType)||"mini truck";console.log("\ud83d\ude9b Vehicle type for calculation:",t),console.log("\ud83d\udcca Available vehicle rates:",O);const r=O.find(e=>{const r=e.vehicleType||e.VehicleType||"",n=t||"";if(r===n)return!0;if(r.toLowerCase()===n.toLowerCase())return!0;const a=r.toLowerCase().replace(/\s+/g,""),s=n.toLowerCase().replace(/\s+/g,""),i={smalltruck:"minitruck",small:"mini",minitruck:"minitruck",mini:"mini"};return(i[a]||a)===(i[s]||s)});console.log("\ud83d\udcb0 Found rate:",r);let n=750;if(r){const t=r.baseRate||r.BaseRate||100,a=r.ratePerKm||r.RatePerKm||15;n=t+e*a,console.log("\ud83d\udcb0 Calculation: ".concat(t," + (").concat(e," \xd7 ").concat(a,") = ").concat(n))}else if(console.warn("\u26a0\ufe0f No rate found for vehicle type:",t),null!==tt&&void 0!==tt&&tt.DeliveryRate&&null!==tt&&void 0!==tt&&tt.DeliveryDistance){const t=tt.DeliveryRate/tt.DeliveryDistance;n=100+e*t}n=Math.round(100*n)/100,at(t=>Ne(Ne({},t),{},{newDistance:e,newCost:n}))}catch(m){console.error("Error calculating new route:",m)}},Bt=e=>{var t;const r=null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase();return"pending"===r||"accepted"===r},Ut=e=>{if(!Bt(e))return!1;const t=new Date(e.DeliveryDate),r=new Date;return t>new Date(r.getTime()+864e5)},qt=e=>{le===e?pe("asc"===he?"desc":"asc"):(ue(e),pe("desc")),ie(1)},Wt=()=>Math.ceil(te.length/oe),Ht=e=>{dt(e),lt(!0);const t="pickup"===e?nt.pickupLocation:nt.dropoffLocation;ff.init({onSelectCallback:(e,t)=>{Vt({address:e,coordinates:t})},locationType:e,initialAddress:t,title:"Select ".concat("pickup"===e?"Pickup":"Dropoff"," Location")})},Vt=e=>{const{address:t,coordinates:r}=e;at("pickup"===ct?e=>Ne(Ne({},e),{},{pickupLocation:t,pickupCoordinates:r}):e=>Ne(Ne({},e),{},{dropoffLocation:t,dropoffCoordinates:r})),lt(!1),setTimeout(()=>{const e=Ne(Ne({},nt),{},"pickup"===ct?{pickupLocation:t,pickupCoordinates:r}:{dropoffLocation:t,dropoffCoordinates:r});e.pickupLocation&&e.dropoffLocation&&Ot()},100)};return h?(0,$r.jsx)(ri,{message:"Loading profile..."}):m?(0,$r.jsxs)("div",{className:"error-message",children:[(0,$r.jsx)("h2",{children:"Error Loading Profile"}),(0,$r.jsx)("p",{children:m}),(0,$r.jsx)("button",{onClick:()=>window.location.reload(),className:"btn",children:"Retry"})]}):(0,$r.jsxs)("div",{className:"w-full max-w-[1400px] mx-auto p-8 box-border animate-fade-in block md:p-4 bg-slate-50 h-full overflow-hidden",children:[(0,$r.jsx)("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-gray-200 md:flex-col md:items-start md:gap-4"}),v?(0,$r.jsx)(df,{title:"Book Truck Rental",onClose:()=>y(!1),size:"large",children:(0,$r.jsxs)("form",{onSubmit:jt,className:"flex flex-col gap-5",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"weight",className:"text-sm font-bold text-gray-700",children:"Cargo Weight (tons)"}),(0,$r.jsxs)("div",{className:"flex gap-2",children:[(0,$r.jsx)("input",{type:"number",id:"weight",name:"weight",value:w.weight,onChange:pt,className:"flex-1 w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,min:"0.1",step:"0.1",placeholder:"Enter cargo weight in tons"}),(0,$r.jsx)("button",{type:"button",className:"px-4 py-2 rounded-xl font-bold text-white transition-all shadow-md ".concat(!w.weight||parseFloat(w.weight)<=0?"bg-gray-400 cursor-not-allowed":"bg-emerald-500 hover:bg-emerald-600 shadow-emerald-500/20 active:translate-y-0.5"),onClick:async()=>{const e=parseFloat(w.weight);e&&e>0?(console.log("\ud83d\ude80 Smart booking triggered for ".concat(e," tons")),await Tt(e)):Me("Invalid Input","Please enter a valid cargo weight first")},disabled:!w.weight||parseFloat(w.weight)<=0,children:"\ud83d\ude80 Smart Book"})]}),(0,$r.jsx)("small",{className:"text-xs text-gray-500",children:'Enter cargo weight and click "Smart Book" to automatically find the optimal truck combination'})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{htmlFor:"pickupLocation",className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(Ns,{className:"inline mr-1"})," Pickup Location"]}),(0,$r.jsxs)("div",{className:"flex gap-2",children:[(0,$r.jsx)("input",{type:"text",id:"pickupLocation",name:"pickupLocation",value:w.pickupLocation,onChange:e=>j(t=>Ne(Ne({},t),{},{pickupLocation:e.target.value})),className:"flex-1 w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"Enter pickup address"}),(0,$r.jsxs)("button",{type:"button",className:"px-4 py-2 border border-gray-200 text-gray-600 bg-white hover:bg-gray-50 rounded-xl font-medium transition-colors flex items-center gap-2",onClick:()=>mt("pickup"),children:[(0,$r.jsx)(Es,{})," Map"]})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{htmlFor:"dropoffLocation",className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(Ns,{className:"inline mr-1"})," Drop-off Location"]}),(0,$r.jsxs)("div",{className:"flex gap-2",children:[(0,$r.jsx)("input",{type:"text",id:"dropoffLocation",name:"dropoffLocation",value:w.dropoffLocation,onChange:e=>j(t=>Ne(Ne({},t),{},{dropoffLocation:e.target.value})),className:"flex-1 w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"Enter delivery address"}),(0,$r.jsxs)("button",{type:"button",className:"px-4 py-2 border border-gray-200 text-gray-600 bg-white hover:bg-gray-50 rounded-xl font-medium transition-colors flex items-center gap-2",onClick:()=>mt("dropoff"),children:[(0,$r.jsx)(Es,{})," Map"]})]})]}),(0,$r.jsx)("div",{className:"flex justify-center",children:(0,$r.jsxs)("button",{type:"button",className:"px-4 py-2 border border-blue-200 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-xl font-bold flex items-center gap-2 transition-colors",onClick:ft,disabled:!w.pickupCoordinates||!w.dropoffCoordinates,children:[(0,$r.jsx)(Ts,{})," ",S?"Hide Route Preview":"Show Route Preview"]})}),w.pickupCoordinates&&w.dropoffCoordinates&&(0,$r.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-100",children:[(0,$r.jsx)("div",{className:"mb-3 pb-2 border-b border-blue-200/50",children:(0,$r.jsx)("h4",{className:"text-sm font-bold text-blue-800 m-0 flex items-center gap-2",children:"\ud83d\ude9b Delivery Route Information (Philippines Only)"})}),(0,$r.jsx)("div",{style:{display:"none"},children:(0,$r.jsx)(pf,{pickupCoordinates:w.pickupCoordinates,dropoffCoordinates:w.dropoffCoordinates,pickupAddress:w.pickupLocation,dropoffAddress:w.dropoffLocation,onRouteCalculated:gt})}),_&&(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[(0,$r.jsxs)("div",{className:"flex items-start gap-3 bg-white p-3 rounded-lg shadow-sm border border-blue-100",children:[(0,$r.jsx)("div",{className:"text-2xl mt-1",children:"\ud83d\udccf"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Distance"}),(0,$r.jsx)("div",{className:"text-lg font-bold text-gray-800",children:_.distanceText})]})]}),(0,$r.jsxs)("div",{className:"flex items-start gap-3 bg-white p-3 rounded-lg shadow-sm border border-blue-100",children:[(0,$r.jsx)("div",{className:"text-2xl mt-1",children:"\u23f1\ufe0f"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Travel Time"}),(0,$r.jsx)("div",{className:"text-lg font-bold text-gray-800",children:_.durationText})]})]}),_.averageSpeed&&(0,$r.jsxs)("div",{className:"flex items-start gap-3 bg-white p-3 rounded-lg shadow-sm border border-blue-100 col-span-2",children:[(0,$r.jsx)("div",{className:"text-2xl mt-1",children:"\ud83d\ude97"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Avg Speed"}),(0,$r.jsxs)("div",{className:"text-lg font-bold text-gray-800",children:[_.averageSpeed," km/h"]})]})]})]}),_&&_.isShortestRoute&&(0,$r.jsxs)("div",{className:"bg-emerald-100 text-emerald-800 text-xs px-3 py-2 rounded-lg font-medium mb-2 flex items-center gap-2",children:["\u2705 Shortest route automatically selected (",_.totalRoutes," routes analyzed)"]}),_&&_.isEstimate&&(0,$r.jsx)("div",{className:"bg-amber-100 text-amber-800 text-xs px-3 py-2 rounded-lg font-medium flex items-center gap-2",children:"\u2139\ufe0f Estimated values based on Philippines road conditions"}),(0,$r.jsx)("div",{className:"mt-3 flex justify-end",children:(0,$r.jsxs)("button",{type:"button",className:"text-xs font-bold text-blue-600 hover:text-blue-700 underline flex items-center gap-1",onClick:ft,children:[(0,$r.jsx)(Ts,{})," ",S?"Hide Map":"View Map"]})})]}),S&&(0,$r.jsxs)("div",{className:"mt-4 border rounded-xl overflow-hidden shadow-md",children:[(0,$r.jsx)("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:(0,$r.jsx)("h4",{className:"text-sm font-bold text-gray-700 m-0",children:"Delivery Route Map Preview"})}),(0,$r.jsx)("div",{className:"h-64 w-full",children:(0,$r.jsx)(pf,{pickupCoordinates:w.pickupCoordinates,dropoffCoordinates:w.dropoffCoordinates,pickupAddress:w.pickupLocation,dropoffAddress:w.dropoffLocation,onRouteCalculated:gt})})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{htmlFor:"deliveryDate",className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)($a,{className:"inline mr-1"})," Delivery Date"]}),(0,$r.jsx)("input",{type:"date",id:"deliveryDate",name:"deliveryDate",value:w.deliveryDate,onChange:yt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,min:(()=>{const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]})(),disabled:F}),F&&(0,$r.jsx)("small",{className:"text-xs text-blue-600 animate-pulse font-medium",children:"\ud83d\udd0d Checking truck availability..."}),w.deliveryDate&&E.length>0&&(0,$r.jsxs)("small",{className:"text-xs text-emerald-600 font-medium",children:["\u2705 ",E.length," truck(s) available on this date"]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"deliveryTime",className:"text-sm font-bold text-gray-700",children:"Delivery Time"}),(0,$r.jsx)("input",{type:"time",id:"deliveryTime",name:"deliveryTime",value:w.deliveryTime,onChange:e=>j(t=>Ne(Ne({},t),{},{deliveryTime:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,$r.jsxs)("div",{className:"bg-blue-50 text-blue-700 p-3 rounded-xl border border-blue-200 text-sm flex items-start gap-2",children:[(0,$r.jsx)("span",{className:"text-lg",children:"\ud83d\udca1"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("strong",{children:"Tip:"})," If you select a saved location, contact info will be auto-filled"]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[(0,$r.jsx)("h5",{className:"text-sm font-bold text-blue-800 uppercase tracking-wider mb-4 border-b border-gray-200 pb-2",children:"\ud83d\udccd Pickup Contact Information"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{htmlFor:"pickupContactPerson",className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(Ks,{className:"inline mr-1"})," Contact Person"," ",(0,$r.jsx)("span",{className:"text-gray-400 font-normal text-xs",children:"(Optional)"})]}),(0,$r.jsx)("input",{type:"text",id:"pickupContactPerson",name:"pickupContactPerson",value:w.pickupContactPerson||"",onChange:e=>j(t=>Ne(Ne({},t),{},{pickupContactPerson:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Person at pickup"})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{htmlFor:"pickupContactNumber",className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(_s,{className:"inline mr-1"})," Contact Number"," ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"tel",id:"pickupContactNumber",name:"pickupContactNumber",value:w.pickupContactNumber||"",onChange:e=>j(t=>Ne(Ne({},t),{},{pickupContactNumber:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"e.g., 09605877964"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[(0,$r.jsx)("h5",{className:"text-sm font-bold text-blue-800 uppercase tracking-wider mb-4 border-b border-gray-200 pb-2",children:"\ud83d\udccd Dropoff Contact Information"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{htmlFor:"dropoffContactPerson",className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(Ks,{className:"inline mr-1"})," Contact Person"," ",(0,$r.jsx)("span",{className:"text-gray-400 font-normal text-xs",children:"(Optional)"})]}),(0,$r.jsx)("input",{type:"text",id:"dropoffContactPerson",name:"dropoffContactPerson",value:w.dropoffContactPerson||"",onChange:e=>j(t=>Ne(Ne({},t),{},{dropoffContactPerson:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Person at dropoff"})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{htmlFor:"dropoffContactNumber",className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(_s,{className:"inline mr-1"})," Contact Number"," ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"tel",id:"dropoffContactNumber",name:"dropoffContactNumber",value:w.dropoffContactNumber||"",onChange:e=>j(t=>Ne(Ne({},t),{},{dropoffContactNumber:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"e.g., 09605877964"})]})]})]}),w.selectedTrucks.length>0&&_&&(0,$r.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-200 shadow-sm relative overflow-hidden",children:[(0,$r.jsx)("h4",{className:"text-base font-bold text-blue-900 mb-3 pb-2 border-b border-blue-200 mx-0 flex items-center gap-2",children:"\ud83e\uddee Estimated Cost"}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,$r.jsx)("span",{className:"text-gray-600 font-medium",children:"Distance:"}),(0,$r.jsx)("span",{className:"font-bold text-gray-800",children:_.distanceText})]}),(0,$r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,$r.jsx)("span",{className:"text-gray-600 font-medium",children:"Selected Trucks:"}),(0,$r.jsxs)("span",{className:"font-bold text-gray-800",children:[w.selectedTrucks.length," truck",1!==w.selectedTrucks.length?"s":""]})]}),(0,$r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,$r.jsx)("span",{className:"text-gray-600 font-medium",children:"Estimated Cost per Truck:"}),(0,$r.jsxs)("span",{className:"font-bold text-blue-700",children:["\u20b1",xt()]})]}),(0,$r.jsxs)("div",{className:"flex justify-between items-center pt-2 mt-1 border-t border-blue-200/50",children:[(0,$r.jsx)("span",{className:"text-base font-bold text-blue-900",children:"Total Estimated Cost:"}),(0,$r.jsxs)("span",{className:"text-xl font-extrabold text-blue-700",children:["\u20b1",bt()]})]}),(()=>{if(!_||!w.selectedTrucks.length)return null;const e=l.find(e=>w.selectedTrucks.includes(e.TruckID));if(!e)return null;const t=e.TruckType||"mini truck",r=_.distanceValue||0;let n=O.find(e=>e.vehicleType===t);if(n){const e=parseFloat(n.baseRate)||0,a=parseFloat(n.ratePerKm)||0;return(0,$r.jsx)("div",{className:"text-xs text-gray-500 mt-1 italic text-right",children:(0,$r.jsxs)("small",{children:[t,": \u20b1",e," base + ",r,"km \xd7 \u20b1",a,"/km \xd7 ",w.selectedTrucks.length," ","truck",1!==w.selectedTrucks.length?"s":""]})})}return null})(),(0,$r.jsx)("div",{className:"text-xs text-gray-500 mt-2 bg-white/50 p-2 rounded border border-blue-100",children:"* Final pricing calculated using current vehicle rates set by staff"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"Select Trucks for Booking"}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 m-0",children:"\ud83d\udccb Only trucks allocated to your account can be booked. Contact your account manager if you need additional trucks."}),w.weight&&N.length>0&&(0,$r.jsxs)("div",{className:"bg-emerald-50 text-emerald-800 p-3 rounded-xl border border-emerald-200 mb-3 flex items-start gap-2 text-sm",children:[(0,$r.jsx)("span",{className:"text-lg",children:"\u2699\ufe0f"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("strong",{children:"Smart Recommendation:"})," ",N.length," truck",1!==N.length?"s":""," recommended for"," ",w.weight," tons cargo"]})]}),(()=>{console.log("\ud83d\udd0d UI Filter: Checking ".concat(l.length," allocated trucks"));let e=l.filter(e=>{var t,r;const n=(null===(t=e.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(r=e.OperationalStatus)||void 0===r?void 0:r.toLowerCase());return"maintenance"!==n&&"broken"!==n});return w.deliveryDate&&E.length>0?e=e.filter(e=>E.includes(e.TruckID)):w.deliveryDate&&(e=e.filter(e=>!d.some(t=>{if((t.TruckID||t.truckId)!==e.TruckID)return!1;const r=(t.DeliveryStatus||t.deliveryStatus||"").toLowerCase();if(!["pending","in-progress","started","picked-up"].includes(r))return!1;let n=t.deliveryDateString;return!n&&t.DeliveryDate&&(n=t.DeliveryDate.seconds?new Date(1e3*t.DeliveryDate.seconds).toISOString().split("T")[0]:new Date(t.DeliveryDate).toISOString().split("T")[0]),n===new Date(w.deliveryDate).toISOString().split("T")[0]}))),e.length>0?(0,$r.jsx)("div",{children:(0,$r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto pr-1 custom-scrollbar",children:e.map((t,r)=>{const n=N.some(e=>e.TruckID===t.TruckID),a=w.selectedTrucks.includes(t.TruckID),s=parseFloat(t.TruckCapacity)||0,i=parseFloat(w.weight)||0;let o=0,l=0;if(a&&i>0){const t=w.selectedTrucks.map(t=>e.find(e=>e.TruckID===t)).filter(e=>e).sort((e,t)=>(parseFloat(t.TruckCapacity)||0)-(parseFloat(e.TruckCapacity)||0)),r=t.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0);r>0&&(o=s/r*i,l=o/s*100)}return(0,$r.jsxs)("div",{className:"relative border rounded-xl p-3 cursor-pointer transition-all hover:translate-y-[-2px] hover:shadow-md ".concat(a?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":n?"border-amber-400 bg-amber-50":"border-gray-200 bg-white hover:bg-gray-50"),onClick:()=>wt(t.TruckID),children:[n&&(0,$r.jsx)("div",{className:"absolute top-2 right-2 bg-amber-400 text-white text-[10px] font-extrabold px-2 py-0.5 rounded shadow-sm z-10",children:"RECOMMENDED"}),(0,$r.jsxs)("div",{className:"flex gap-3 items-center mb-2",children:[(0,$r.jsx)("div",{className:"p-2 rounded-lg ".concat(a?"bg-blue-200 text-blue-700":"bg-gray-100 text-gray-500"),children:(0,$r.jsx)(Hs,{className:"text-xl"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"font-bold text-gray-800 text-sm",children:t.TruckPlate}),(0,$r.jsx)("div",{className:"text-xs text-gray-500 uppercase font-medium",children:t.TruckType})]})]}),(0,$r.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[t.TruckCapacity," tons capacity"]}),o>0&&(0,$r.jsx)("div",{className:"text-xs font-bold text-blue-600 mb-2",children:o>0?"".concat(o.toFixed(1),"t cargo"):"Backup truck"}),(0,$r.jsx)("div",{className:"absolute top-2 right-2",children:a&&(0,$r.jsx)("span",{className:"text-blue-600 font-bold text-lg",children:"\u2713"})}),(0,$r.jsx)("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:(0,$r.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(l>100?"bg-red-500":"bg-emerald-500"),style:{width:"".concat(Math.min(100,l),"%")}})}),(0,$r.jsxs)("div",{className:"text-[10px] text-gray-500 mt-1 text-right font-medium",children:[l.toFixed(0),"% utilized"]})]},t.TruckID)})})}):(0,$r.jsxs)("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-xl p-6 text-center text-gray-500",children:[(0,$r.jsx)("p",{className:"m-0 font-medium",children:"No available trucks for booking."}),(0,$r.jsx)("p",{className:"m-0 text-sm mt-1",children:"All trucks are currently in use or contact your account manager to get trucks allocated."})]})})(),(0,$r.jsxs)("small",{className:"text-xs text-gray-500 mt-2 block",children:[w.selectedTrucks.length," truck",1!==w.selectedTrucks.length?"s":""," selected",w.selectedTrucks.length>0&&(0,$r.jsxs)("span",{className:"font-medium text-gray-700",children:[" ","\u2022 Total capacity:"," ",w.selectedTrucks.map(e=>l.find(t=>t.TruckID===e)).filter(e=>e).reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0)," ","tons"]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{type:"button",className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",onClick:()=>y(!1),children:"Cancel"}),(0,$r.jsxs)("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-bold shadow-md shadow-blue-500/20 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",disabled:0===w.selectedTrucks.length,children:["Book ",w.selectedTrucks.length," Truck",1!==w.selectedTrucks.length?"s":""]})]})]})}):null,(0,$r.jsx)(uf,{isOpen:Ee.isOpen,onClose:Ie,title:Ee.title,message:Ee.message,type:Ee.type,confirmText:Ee.confirmText,cancelText:Ee.cancelText,onConfirm:Ee.onConfirm,size:Ee.size}),A&&T&&(0,$r.jsx)(df,{title:"Delivery Route",onClose:()=>D(!1),size:"large",children:(0,$r.jsxs)("div",{className:"p-6",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-start mb-6 bg-slate-50 p-4 rounded-lg border border-slate-100",children:[(0,$r.jsxs)("h4",{className:"m-0 text-blue-900 font-bold text-lg flex items-center gap-2",children:[(0,$r.jsx)(Ns,{className:"text-amber-500"})," Route Details"]}),(0,$r.jsxs)("div",{className:"text-right text-sm",children:[(0,$r.jsxs)("div",{className:"mb-1",children:[(0,$r.jsx)("strong",{className:"text-gray-700",children:"Pickup:"})," ",(0,$r.jsx)("span",{className:"text-gray-600 block sm:inline",children:T.pickupLocation})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("strong",{className:"text-gray-700",children:"Dropoff:"})," ",(0,$r.jsx)("span",{className:"text-gray-600 block sm:inline",children:T.dropoffLocation})]})]})]}),T.pickupCoordinates&&T.dropoffCoordinates&&(0,$r.jsx)("div",{className:"h-[400px] w-full rounded-xl overflow-hidden border border-gray-200 shadow-inner mb-6 relative",children:(0,$r.jsx)(pf,{pickupCoordinates:T.pickupCoordinates,dropoffCoordinates:T.dropoffCoordinates,pickupAddress:T.pickupLocation,dropoffAddress:T.dropoffLocation,onRouteCalculated:()=>{}})}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 bg-blue-50 p-5 rounded-xl border border-blue-100",children:[(0,$r.jsxs)("div",{className:"flex flex-col items-center justify-center p-2",children:[(0,$r.jsx)("span",{className:"text-xs font-bold text-blue-400 uppercase tracking-wider mb-1",children:"Distance"}),(0,$r.jsxs)("span",{className:"text-2xl font-bold text-blue-900",children:[T.distance," km"]})]}),(0,$r.jsxs)("div",{className:"flex flex-col items-center justify-center p-2 border-l border-blue-200",children:[(0,$r.jsx)("span",{className:"text-xs font-bold text-blue-400 uppercase tracking-wider mb-1",children:"Duration"}),(0,$r.jsxs)("span",{className:"text-2xl font-bold text-blue-900",children:[T.duration," min"]})]})]})]})}),(0,$r.jsxs)("div",{className:"w-full flex-1 flex flex-col items-center relative z-10 box-border overflow-hidden",children:["overview"===x&&(0,$r.jsxs)("div",{className:"flex flex-col gap-8 w-full max-w-[1400px] mx-auto box-border overflow-hidden",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full mx-auto",children:[(0,$r.jsxs)("div",{className:"bg-white rounded-xl p-6 flex items-center gap-5 shadow-sm border border-amber-400/20 transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-amber-400 min-h-[110px] h-full",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl text-white shrink-0 shadow-sm bg-gradient-to-br from-blue-700 to-blue-900",children:(0,$r.jsx)(Hs,{})}),(0,$r.jsxs)("div",{className:"flex flex-col",children:[(0,$r.jsx)("h3",{className:"m-0 mb-1 text-2xl font-bold bg-gradient-to-r from-blue-900 to-amber-500 bg-clip-text text-transparent",children:l.length}),(0,$r.jsx)("p",{className:"m-0 text-gray-500 font-medium text-sm",children:"Allocated Trucks"})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl p-6 flex items-center gap-5 shadow-sm border border-amber-400/20 transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-amber-400 min-h-[110px] h-full",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl text-white shrink-0 shadow-sm bg-gradient-to-br from-emerald-600 to-emerald-800",children:(0,$r.jsx)(Ms,{})}),(0,$r.jsxs)("div",{className:"flex flex-col",children:[(0,$r.jsx)("h3",{className:"m-0 mb-1 text-2xl font-bold bg-gradient-to-r from-blue-900 to-amber-500 bg-clip-text text-transparent",children:St().length}),(0,$r.jsx)("p",{className:"m-0 text-gray-500 font-medium text-sm",children:"Active Deliveries"})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl p-6 flex items-center gap-5 shadow-sm border border-amber-400/20 transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-amber-400 min-h-[110px] h-full",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl text-white shrink-0 shadow-sm bg-gradient-to-br from-violet-600 to-purple-700",children:(0,$r.jsx)(xs,{})}),(0,$r.jsxs)("div",{className:"flex flex-col",children:[(0,$r.jsx)("h3",{className:"m-0 mb-1 text-2xl font-bold bg-gradient-to-r from-blue-900 to-amber-500 bg-clip-text text-transparent",children:Ct().length}),(0,$r.jsx)("p",{className:"m-0 text-gray-500 font-medium text-sm",children:"Completed"})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl p-6 flex items-center gap-5 shadow-sm border border-amber-400/20 transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-amber-400 min-h-[110px] h-full",children:[(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl text-white shrink-0 shadow-sm bg-gradient-to-br from-amber-500 to-amber-700",children:(0,$r.jsx)(is,{})}),(0,$r.jsxs)("div",{className:"flex flex-col",children:[(0,$r.jsx)("h3",{className:"m-0 mb-1 text-2xl font-bold bg-gradient-to-r from-blue-900 to-amber-500 bg-clip-text text-transparent",children:_t(d.reduce((e,t)=>e+(t.deliveryRate||750),0))}),(0,$r.jsx)("p",{className:"m-0 text-gray-500 font-medium text-sm",children:"Total Spent"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-2xl p-8 md:p-10 shadow-sm border border-amber-400/20 w-full mb-8",children:[(0,$r.jsx)("h3",{className:"m-0 mb-6 text-blue-900 text-2xl font-bold",children:"Recent Activity"}),(0,$r.jsx)("div",{className:"flex flex-col gap-5 max-h-[400px] overflow-y-auto pr-2",children:d.slice(0,5).map(e=>(0,$r.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-slate-50 border border-slate-100 transition-all hover:bg-white hover:shadow-md hover:border-blue-100 group",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center shrink-0 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:(0,$r.jsx)(Ms,{})}),(0,$r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,$r.jsxs)("h4",{className:"m-0 text-gray-800 font-semibold text-sm mb-1 truncate",children:["Delivery #",e.DeliveryID]}),(0,$r.jsxs)("p",{className:"m-0 text-gray-500 text-xs truncate",children:[e.PickupLocation," \u2192 ",e.DropoffLocation]}),(0,$r.jsx)("span",{className:"block mt-1 text-[10px] text-gray-400 uppercase tracking-wider font-semibold",children:Pt(e.DeliveryDate,e)})]}),(0,$r.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat(At(e.DeliveryStatus)),children:e.DeliveryStatus})]},e.DeliveryID))})]})]}),"transactions"===x&&(0,$r.jsxs)("div",{className:"bg-white rounded-2xl p-0 shadow-sm border border-amber-400/20 box-border w-full flex flex-col mb-8",children:[(0,$r.jsx)("div",{className:"bg-gradient-to-br from-white to-gray-50 border-b border-gray-100 p-8 flex justify-between items-center",children:(0,$r.jsx)("h3",{className:"text-2xl font-bold text-blue-900 m-0",children:"Booking History"})}),(0,$r.jsxs)("div",{className:"p-4 bg-white border-b border-gray-100 relative",children:[(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,$r.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,$r.jsx)(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search bookings by ID, truck, location...",value:$||"",onChange:e=>J(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,$r.jsx)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(ne?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>ae(!ne),children:[(0,$r.jsx)(gs,{size:14}),"Filters",("all"!==X||"all"!==Z)&&(0,$r.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:["all"!==X,"all"!==Z].filter(Boolean).length})]})})]}),(0,$r.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium",children:["Showing ",te.length," of ",d.length," ","bookings"]}),ne&&(0,$r.jsxs)("div",{className:"absolute top-full mt-2 right-4 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-[360px] max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$r.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,$r.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>ae(!1),children:(0,$r.jsx)(qs,{size:16})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,$r.jsxs)("select",{value:X||"all",onChange:e=>Q(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Status"}),(0,$r.jsx)("option",{value:"pending",children:"Pending"}),(0,$r.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,$r.jsx)("option",{value:"delivered",children:"Delivered"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Date Range"}),(0,$r.jsxs)("select",{value:Z||"all",onChange:e=>ee(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Time"}),(0,$r.jsx)("option",{value:"today",children:"Today"}),(0,$r.jsx)("option",{value:"week",children:"This Week"}),(0,$r.jsx)("option",{value:"month",children:"This Month"}),(0,$r.jsx)("option",{value:"year",children:"This Year"})]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{J(""),Q("all"),ee("all"),ae(!1)},children:"Reset"}),(0,$r.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>ae(!1),children:"Apply Filters"})]})]})]}),0===te.length?(0,$r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center text-gray-400 bg-white",children:[(0,$r.jsx)("div",{className:"text-5xl mb-4 opacity-50",children:(0,$r.jsx)(fs,{})}),(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-600 mb-2",children:"No bookings found"}),(0,$r.jsx)("p",{className:"max-w-md mx-auto",children:"No bookings match your current filters. Try adjusting your search criteria."})]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("div",{className:"overflow-x-auto overflow-y-auto max-h-[calc(100vh-350px)] w-full",children:(0,$r.jsxs)("table",{className:"w-full border-collapse min-w-[1000px]",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50/50",children:[(0,$r.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-blue-600 transition-colors select-none",onClick:()=>qt("DeliveryID"),children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{children:"Delivery ID"}),"DeliveryID"===le&&(0,$r.jsx)("span",{className:"text-blue-500",children:"asc"===he?"\u25b2":"\u25bc"})]})}),(0,$r.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-blue-600 transition-colors select-none",onClick:()=>qt("DeliveryDate"),children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)($a,{}),(0,$r.jsx)("span",{children:"Delivery Date"}),"DeliveryDate"===le&&(0,$r.jsx)("span",{className:"text-blue-500",children:"asc"===he?"\u25b2":"\u25bc"})]})}),(0,$r.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)(Hs,{}),(0,$r.jsx)("span",{children:"Truck"})]})}),(0,$r.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-blue-600 transition-colors select-none",onClick:()=>qt("DeliveryStatus"),children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{children:"Status"}),"DeliveryStatus"===le&&(0,$r.jsx)("span",{className:"text-blue-500",children:"asc"===he?"\u25b2":"\u25bc"})]})}),(0,$r.jsx)("th",{className:"text-right py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,$r.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,$r.jsx)("span",{children:"Actions"})})})]})}),(0,$r.jsx)("tbody",{children:(()=>{const e=(t=te,[...t].sort((e,t)=>{let r=e[le],n=t[le];return"DeliveryDate"===le&&(r=new Date(r).getTime(),n=new Date(n).getTime()),"asc"===he?r>n?1:-1:r<n?1:-1}));var t;const r=(se-1)*oe,n=r+oe;return e.slice(r,n)})().map(e=>{var t,r,n,a;return(0,$r.jsxs)("tr",{className:"group hover:bg-blue-50/30 transition-colors border-b border-gray-100 last:border-none",children:[(0,$r.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,$r.jsxs)("div",{className:"font-mono font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded border border-blue-100 inline-block text-xs",children:["#",(null===(t=e.DeliveryID)||void 0===t?void 0:t.substring(0,12))||"N/A"]})}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,$r.jsx)("div",{className:"text-gray-600 font-medium",children:Pt(e.DeliveryDate,e)})}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("span",{className:"font-bold text-gray-800 bg-gray-100 px-2 py-0.5 rounded text-xs border border-gray-200 w-fit",children:e.TruckPlate||"N/A"}),e.TruckBrand&&"Unknown"!==e.TruckBrand&&(0,$r.jsx)("span",{className:"text-xs text-gray-500",children:e.TruckBrand})]})}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,$r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat("pending"===(null===(r=e.DeliveryStatus)||void 0===r?void 0:r.toLowerCase())?"bg-amber-100 text-amber-700":"completed"===(null===(n=e.DeliveryStatus)||void 0===n?void 0:n.toLowerCase())?"bg-emerald-100 text-emerald-700":"cancelled"===(null===(a=e.DeliveryStatus)||void 0===a?void 0:a.toLowerCase())?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"),children:e.DeliveryStatus})}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,$r.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600 border border-transparent hover:border-blue-200",onClick:()=>(e=>{xe(e),fe(!0)})(e),title:"View details",children:(0,$r.jsx)(ps,{})}),Ut(e)&&(0,$r.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-amber-100 hover:text-amber-600 border border-transparent hover:border-amber-200",onClick:()=>zt(e),title:"Reschedule",children:(0,$r.jsx)($a,{})}),Ut(e)&&(0,$r.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-purple-100 hover:text-purple-600 border border-transparent hover:border-purple-200",onClick:()=>Ft(e),title:"Reroute",children:(0,$r.jsx)(Ts,{})}),Bt(e)&&(0,$r.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-red-100 hover:text-red-600 border border-transparent hover:border-red-200",onClick:()=>Rt(e),title:"Cancel",children:(0,$r.jsx)(qs,{})})]})})]},e.DeliveryID)})})]})}),Wt()>1&&(0,$r.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-gray-200",children:[(0,$r.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing ",(se-1)*oe+1," to"," ",Math.min(se*oe,te.length)," ","of ",te.length," bookings"]}),(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("button",{className:"px-3 py-1.5 rounded-lg border border-gray-300 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:1===se,onClick:()=>ie(1),children:"First"}),(0,$r.jsx)("button",{className:"px-3 py-1.5 rounded-lg border border-gray-300 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:1===se,onClick:()=>ie(se-1),children:"Previous"}),(0,$r.jsxs)("span",{className:"text-sm font-medium text-gray-700 bg-gray-100 px-3 py-1.5 rounded-lg",children:["Page ",se," of ",Wt()]}),(0,$r.jsx)("button",{className:"px-3 py-1.5 rounded-lg border border-gray-300 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:se===Wt(),onClick:()=>ie(se+1),children:"Next"}),(0,$r.jsx)("button",{className:"px-3 py-1.5 rounded-lg border border-gray-300 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:se===Wt(),onClick:()=>ie(Wt()),children:"Last"})]})]})]})]}),"trucks"===x&&(0,$r.jsxs)("div",{className:"bg-white rounded-2xl p-0 shadow-sm border border-amber-400/20 box-border w-full flex flex-col mb-8",children:[(0,$r.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 border-b border-gray-100 p-8 flex justify-between items-center bg-white",children:[(0,$r.jsxs)("h3",{className:"text-2xl font-bold text-blue-900 m-0",children:["My Allocated Trucks (",l.length,")"]}),(0,$r.jsx)("div",{className:"flex gap-3",children:(0,$r.jsxs)("button",{onClick:()=>a.push("/client/book-truck"),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-4 py-2 rounded-lg font-bold shadow-md shadow-blue-500/20 flex items-center gap-2 transition-all hover:-translate-y-0.5",children:[(0,$r.jsx)(Ps,{})," Book Truck"]})})]}),(0,$r.jsxs)("div",{className:"p-4 bg-white border-b border-gray-100 relative",children:[(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,$r.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,$r.jsx)(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search trucks by plate, type, brand...",value:U.search,onChange:e=>Mt("search",e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(G?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>Y(!G),children:[(0,$r.jsx)(gs,{size:14}),"Filters",("all"!==U.type||"all"!==U.status)&&(0,$r.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:["all"!==U.type,"all"!==U.status].filter(Boolean).length})]}),(0,$r.jsxs)("select",{value:W,onChange:e=>{H(Number(e.target.value)),K(1)},className:"px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:6,children:"6 per page"}),(0,$r.jsx)("option",{value:12,children:"12 per page"}),(0,$r.jsx)("option",{value:24,children:"24 per page"}),(0,$r.jsx)("option",{value:48,children:"48 per page"})]})]})]}),(0,$r.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium",children:["Showing ",Et().length," of"," ",Lt().length," trucks"]}),G&&(0,$r.jsxs)("div",{className:"absolute top-full mt-2 right-4 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-[360px] max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$r.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,$r.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>Y(!1),children:(0,$r.jsx)(qs,{size:16})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Type"}),(0,$r.jsxs)("select",{value:U.type,onChange:e=>Mt("type",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Types"}),[...new Set(l.map(e=>e.TruckType).filter(Boolean))].sort().map(e=>(0,$r.jsx)("option",{value:e,children:e},e))]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,$r.jsxs)("select",{value:U.status,onChange:e=>Mt("status",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Status"}),(0,$r.jsx)("option",{value:"available",children:"Available"}),(0,$r.jsx)("option",{value:"busy",children:"In Use"})]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{q({type:"all",status:"all",search:""}),K(1),Y(!1)},children:"Reset"}),(0,$r.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>Y(!1),children:"Apply Filters"})]})]})]}),0===Et().length?(0,$r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center text-gray-400 bg-white",children:[(0,$r.jsx)("div",{className:"text-5xl mb-4 opacity-50",children:"\ud83d\ude9b"}),(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-600 mb-2",children:"No trucks found"}),(0,$r.jsx)("p",{className:"max-w-md mx-auto",children:"No trucks match your current filters. Try adjusting your search criteria."})]}):(0,$r.jsx)("div",{className:"overflow-x-auto overflow-y-auto max-h-[calc(100vh-350px)] w-full",children:(0,$r.jsxs)("table",{className:"w-full border-collapse min-w-[700px]",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50/50",children:[(0,$r.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)(Hs,{}),(0,$r.jsx)("span",{children:"Truck Plate"})]})}),(0,$r.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,$r.jsx)("div",{className:"flex items-center gap-2",children:(0,$r.jsx)("span",{children:"Type"})})}),(0,$r.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,$r.jsx)("div",{className:"flex items-center gap-2",children:(0,$r.jsx)("span",{children:"Brand"})})}),(0,$r.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,$r.jsx)("div",{className:"flex items-center gap-2",children:(0,$r.jsx)("span",{children:"Capacity"})})}),(0,$r.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,$r.jsx)("div",{className:"flex items-center gap-2",children:(0,$r.jsx)("span",{children:"Status"})})}),(0,$r.jsx)("th",{className:"text-right py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,$r.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,$r.jsx)("span",{children:"Actions"})})})]})}),(0,$r.jsx)("tbody",{children:Et().map(e=>{var t,r,n,s,i;const o=null===(t=e.TruckStatus)||void 0===t?void 0:t.toLowerCase(),l=((null===(r=e.allocationStatus)||void 0===r?void 0:r.toLowerCase())||(null===(n=e.AllocationStatus)||void 0===n||n.toLowerCase()),(null===(s=e.operationalStatus)||void 0===s?void 0:s.toLowerCase())||(null===(i=e.OperationalStatus)||void 0===i?void 0:i.toLowerCase())),c="maintenance"===o||"out-of-service"===o||"maintenance"===l||"out-of-service"===l,d=!c,u=c?"Maintenance":"Available",h=c?"busy":"available";return(0,$r.jsxs)("tr",{className:"group hover:bg-blue-50/30 transition-colors border-b border-gray-100 last:border-none",children:[(0,$r.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,$r.jsx)("div",{className:"font-mono font-bold text-gray-800 bg-gray-100 px-2 py-1 rounded border border-gray-200 inline-block text-xs",children:e.TruckPlate})}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,$r.jsx)("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs font-semibold border border-blue-100 uppercase tracking-wide",children:e.TruckType})}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:e.TruckBrand}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,$r.jsxs)("span",{className:"font-semibold text-gray-700",children:[e.TruckCapacity," tons"]})}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,$r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat("busy"===h?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"),children:u})}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[d&&(0,$r.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600 border border-transparent hover:border-blue-200",onClick:()=>a.push("/client/book-truck"),title:"Book this truck",children:(0,$r.jsx)(Ja,{})}),(0,$r.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600 border border-transparent hover:border-blue-200",onClick:()=>(e=>{we(e),ve(!0)})(e),title:"View details",children:(0,$r.jsx)(ps,{})})]})})]},e.TruckID)})})]})}),It()>1&&(0,$r.jsxs)("div",{className:"flex justify-center items-center p-6 border-t border-gray-200 gap-4",children:[(0,$r.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:1===V,onClick:()=>K(e=>e-1),children:"Previous"}),(0,$r.jsxs)("div",{className:"text-sm font-medium text-gray-600",children:["Page ",V," of ",It()]}),(0,$r.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:V===It(),onClick:()=>K(e=>e+1),children:"Next"})]}),0===l.length&&(0,$r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center text-gray-400 bg-white border-t border-gray-100",children:[(0,$r.jsx)("div",{className:"text-5xl mb-4 opacity-50",children:"\ud83d\ude9b"}),(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-600 mb-2",children:"No Trucks Allocated"}),(0,$r.jsx)("p",{className:"max-w-md mx-auto",children:"Contact your account manager to allocate trucks to your account."})]})]}),"billing"===x&&(0,$r.jsx)(yf,{onBillingDataUpdate:e=>{Ye(e)}}),"profile"===x&&(0,$r.jsxs)("div",{className:"flex flex-col gap-6 w-full max-w-[1400px] mx-auto",children:[(0,$r.jsx)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-amber-400/20 w-full flex flex-col items-center text-center max-w-4xl mx-auto",children:(0,$r.jsxs)("div",{className:"w-full",children:[(0,$r.jsx)("div",{className:"w-24 h-24 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center text-4xl mb-4 border-4 border-white shadow-md mx-auto",children:(0,$r.jsx)(Ks,{})}),(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 m-0 mb-1",children:(null===i||void 0===i?void 0:i.ClientName)||"Client Name"}),(0,$r.jsxs)("p",{className:"text-sm text-gray-500 font-medium uppercase tracking-wide mb-6",children:["Transportation Client \u2022 ID:"," ",(null===i||void 0===i||null===(e=i.ClientID)||void 0===e?void 0:e.substring(0,8))||"Unknown"]}),(0,$r.jsxs)("div",{className:"flex gap-8 justify-center w-full border-t border-gray-100 pt-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,$r.jsx)("span",{className:"text-xl font-bold text-blue-900",children:St().length}),(0,$r.jsx)("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Active Deliveries"})]}),(0,$r.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,$r.jsx)("span",{className:"text-xl font-bold text-blue-900",children:Ct().length}),(0,$r.jsx)("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Completed"})]}),(0,$r.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,$r.jsx)("span",{className:"text-xl font-bold text-blue-900",children:l.length}),(0,$r.jsx)("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Trucks"})]})]})]})}),(0,$r.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-amber-400/20 w-full relative max-w-4xl mx-auto",children:[(0,$r.jsxs)("button",{className:"absolute top-8 right-8 flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg font-bold text-sm transition-all hover:bg-blue-100 hover:text-blue-700",onClick:()=>{Pe({clientName:(null===i||void 0===i?void 0:i.ClientName)||"",clientEmail:(null===i||void 0===i?void 0:i.ClientEmail)||"",clientNumber:(null===i||void 0===i?void 0:i.ClientNumber)||""}),ke(!0)},children:[(0,$r.jsx)(ls,{})," Edit Profile"]}),(0,$r.jsx)("div",{className:"mb-6 pb-4 border-b border-gray-100",children:(0,$r.jsx)("h3",{className:"m-0 text-xl font-bold text-blue-900",children:"Account Information"})}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,$r.jsx)(Ks,{})}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Full Name"}),(0,$r.jsx)("span",{className:"text-base font-semibold text-gray-700 break-words",children:(null===i||void 0===i?void 0:i.ClientName)||"Not specified"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,$r.jsx)(cs,{})}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Email Address"}),(0,$r.jsx)("span",{className:"text-base font-semibold text-gray-700 break-words",children:(null===i||void 0===i?void 0:i.ClientEmail)||"Not specified"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,$r.jsx)(_s,{})}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Phone Number"}),(0,$r.jsx)("span",{className:"text-base font-semibold text-gray-700 break-words",children:(null===i||void 0===i?void 0:i.ClientNumber)||"Not specified"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,$r.jsx)(Ya,{})}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Client ID"}),(0,$r.jsx)("span",{className:"text-base font-semibold text-gray-700 break-words",children:(null===i||void 0===i?void 0:i.ClientID)||"Not specified"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,$r.jsx)(Ns,{})}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Account Status"}),(0,$r.jsx)("span",{style:{color:"active"===(null===i||void 0===i?void 0:i.ClientStatus)?"#10b981":"#ef4444",fontWeight:"600",textTransform:"capitalize"},children:(null===i||void 0===i?void 0:i.ClientStatus)||"Unknown"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,$r.jsx)($a,{})}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Member Since"}),(0,$r.jsx)("span",{className:"text-base font-semibold text-gray-700 break-words",children:null!==i&&void 0!==i&&i.ClientCreationDate?Pt(i.ClientCreationDate):"Not specified"})]})]})]})]})]})]}),je&&(0,$r.jsx)(df,{title:"Edit Profile",onClose:()=>ke(!1),size:"medium",children:(0,$r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),Le(!0);try{const e=await Vr.put("/api/clients/profile",_e);e.data.client&&(o(e.data.client),qe("Profile Updated","Your profile has been updated successfully"),ke(!1))}catch(m){var t,r;console.error("Error updating profile:",m),We("Update Failed",(null===(t=m.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update profile")}finally{Le(!1)}},className:"flex flex-col gap-4",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"clientName",className:"text-sm font-bold text-gray-700",children:"Full Name"}),(0,$r.jsx)("input",{type:"text",id:"clientName",name:"clientName",value:_e.clientName,onChange:Nt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"clientEmail",className:"text-sm font-bold text-gray-700",children:"Email Address"}),(0,$r.jsx)("input",{type:"email",id:"clientEmail",name:"clientEmail",value:_e.clientEmail,onChange:Nt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"clientNumber",className:"text-sm font-bold text-gray-700",children:"Phone Number"}),(0,$r.jsx)("input",{type:"tel",id:"clientNumber",name:"clientNumber",value:_e.clientNumber,onChange:Nt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>ke(!1),className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",disabled:Te,children:"Cancel"}),(0,$r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-bold shadow-md shadow-blue-500/20 transition-all hover:-translate-y-0.5",disabled:Te,children:Te?"Updating...":"Update Profile"})]}),(0,$r.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-100",children:(0,$r.jsxs)("button",{type:"button",onClick:()=>{ke(!1),Ce(!0)},className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium w-full justify-center",children:[(0,$r.jsx)(ls,{})," Change Password"]})})]})}),Se&&(0,$r.jsx)(df,{title:"Change Password",onClose:()=>Ce(!1),size:"medium",children:(0,$r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),Ae.newPassword===Ae.confirmPassword)if(Ae.newPassword.length<6)We("Invalid Password","Password must be at least 6 characters long");else{Le(!0);try{await Vr.put("/api/clients/profile/password",{currentPassword:Ae.currentPassword,newPassword:Ae.newPassword}),qe("Password Changed","Your password has been changed successfully"),Ce(!1),De({currentPassword:"",newPassword:"",confirmPassword:""})}catch(m){var t,r;console.error("Error changing password:",m),We("Password Change Failed",(null===(t=m.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to change password")}finally{Le(!1)}}else We("Password Mismatch","New password and confirm password do not match")},className:"flex flex-col gap-4",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"currentPassword",className:"text-sm font-bold text-gray-700",children:"Current Password"}),(0,$r.jsx)("input",{type:"password",id:"currentPassword",name:"currentPassword",value:Ae.currentPassword,onChange:kt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"newPassword",className:"text-sm font-bold text-gray-700",children:"New Password"}),(0,$r.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",value:Ae.newPassword,onChange:kt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",minLength:"6",required:!0}),(0,$r.jsx)("small",{className:"text-xs text-gray-500",children:"Password must be at least 6 characters long"})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"confirmPassword",className:"text-sm font-bold text-gray-700",children:"Confirm New Password"}),(0,$r.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:Ae.confirmPassword,onChange:kt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>Ce(!1),className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",disabled:Te,children:"Cancel"}),(0,$r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-bold shadow-md shadow-blue-500/20 transition-all hover:-translate-y-0.5",disabled:Te,children:Te?"Changing...":"Change Password"})]})]})}),$e&&tt&&(0,$r.jsx)(df,{title:"Cancel Delivery",onClose:()=>Je(!1),size:"medium",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,$r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 flex flex-col items-center text-center gap-3",children:[(0,$r.jsx)(us,{className:"text-4xl text-red-500 mb-1"}),(0,$r.jsx)("h4",{className:"text-lg font-bold text-red-700 m-0",children:"Are you sure you want to cancel this delivery?"}),(0,$r.jsx)("p",{className:"text-sm text-red-600/80 m-0",children:"This action cannot be undone. The delivery will be marked as cancelled and no payment will be required."})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[(0,$r.jsx)("h5",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-3",children:"Delivery Details:"}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none",children:[(0,$r.jsx)("strong",{className:"text-gray-600",children:"ID:"})," ",(0,$r.jsxs)("span",{className:"font-mono font-medium",children:["#",tt.DeliveryID]})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none",children:[(0,$r.jsx)("strong",{className:"text-gray-600",children:"Route:"})," ",(0,$r.jsxs)("span",{className:"font-medium text-right max-w-[70%]",children:[tt.PickupLocation," \u2192"," ",tt.DropoffLocation||tt.DeliveryAddress]})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none",children:[(0,$r.jsx)("strong",{className:"text-gray-600",children:"Date:"})," ",(0,$r.jsx)("span",{className:"font-medium",children:Pt(tt.DeliveryDate)})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none",children:[(0,$r.jsx)("strong",{className:"text-gray-600",children:"Amount:"})," ",(0,$r.jsx)("span",{className:"font-bold text-gray-800",children:_t(tt.DeliveryRate||0)})]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>Je(!1),className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",disabled:h,children:"Keep Delivery"}),(0,$r.jsx)("button",{type:"button",onClick:async()=>{try{p(!0);(await Vr.post("/api/clients/deliveries/".concat(tt.DeliveryID,"/cancel"))).data.success&&(u(e=>e.map(e=>e.DeliveryID===tt.DeliveryID?Ne(Ne({},e),{},{DeliveryStatus:"cancelled"}):e)),qe("Delivery Cancelled","Your delivery has been cancelled successfully. No payment is required."),Je(!1),rt(null))}catch(m){var e,t;console.error("Error cancelling delivery:",m),We("Cancellation Failed",(null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to cancel delivery")}finally{p(!1)}},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-bold shadow-md shadow-red-500/20 transition-all hover:-translate-y-0.5",disabled:h,children:h?"Cancelling...":"Yes, Cancel Delivery"})]})]})}),Xe&&tt&&(0,$r.jsx)(df,{title:"Change Route",onClose:()=>Qe(!1),size:"large",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,$r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex gap-3 text-blue-800",children:[(0,$r.jsx)(ys,{className:"text-xl text-blue-500 shrink-0 mt-0.5"}),(0,$r.jsx)("p",{className:"text-sm m-0",children:"Update the pickup and dropoff locations. The billing will be recalculated based on the new distance. Note: Route changes must be made at least 3 days before delivery or with more than 24 hours notice."})]}),(0,$r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{p(!0),0===nt.newDistance&&await Ot(),(await Vr.post("/api/clients/deliveries/".concat(tt.DeliveryID,"/change-route"),{pickupLocation:nt.pickupLocation,pickupCoordinates:nt.pickupCoordinates,dropoffLocation:nt.dropoffLocation,dropoffCoordinates:nt.dropoffCoordinates,newDistance:nt.newDistance,newCost:nt.newCost})).data.success&&(u(e=>e.map(e=>e.DeliveryID===tt.DeliveryID?Ne(Ne({},e),{},{PickupLocation:nt.pickupLocation,DropoffLocation:nt.dropoffLocation,DeliveryDistance:nt.newDistance,DeliveryRate:nt.newCost}):e)),qe("Route Updated","Route changed successfully. New cost: ".concat(_t(nt.newCost))),Qe(!1),rt(null))}catch(m){var e,t;console.error("Error changing route:",m),We("Route Change Failed",(null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to change route")}finally{p(!1)}})()},className:"flex flex-col gap-4",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"newPickupLocation",className:"text-sm font-bold text-gray-700",children:"New Pickup Location"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)("input",{type:"text",id:"newPickupLocation",value:nt.pickupLocation,onChange:e=>at(t=>Ne(Ne({},t),{},{pickupLocation:e.target.value})),className:"w-full h-11 pl-4 pr-12 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all placeholder-gray-400",placeholder:"Enter new pickup address",required:!0}),(0,$r.jsx)("div",{className:"absolute right-1 top-1 bottom-1",children:(0,$r.jsx)("button",{type:"button",className:"h-9 w-9 flex items-center justify-center rounded-lg text-gray-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",onClick:()=>Ht("pickup"),title:"Select pickup location on map",children:(0,$r.jsx)(Ns,{})})})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"newDropoffLocation",className:"text-sm font-bold text-gray-700",children:"New Dropoff Location"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)("input",{type:"text",id:"newDropoffLocation",value:nt.dropoffLocation,onChange:e=>at(t=>Ne(Ne({},t),{},{dropoffLocation:e.target.value})),className:"w-full h-11 pl-4 pr-12 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all placeholder-gray-400",placeholder:"Enter new dropoff address",required:!0}),(0,$r.jsx)("div",{className:"absolute right-1 top-1 bottom-1",children:(0,$r.jsx)("button",{type:"button",className:"h-9 w-9 flex items-center justify-center rounded-lg text-gray-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",onClick:()=>Ht("dropoff"),title:"Select dropoff location on map",children:(0,$r.jsx)(Ns,{})})})]})]}),(0,$r.jsx)("div",{className:"mt-2",children:(0,$r.jsxs)("button",{type:"button",onClick:Ot,className:"px-4 py-2 border border-blue-200 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg font-bold flex items-center gap-2 transition-colors text-sm",disabled:!nt.pickupLocation||!nt.dropoffLocation,children:[(0,$r.jsx)(Ts,{})," Calculate New Route & Cost"]})}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2 bg-gray-50 p-4 rounded-xl border border-gray-200",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-2 p-3 bg-white rounded-lg border border-gray-100 shadow-sm",children:[(0,$r.jsx)("h5",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider m-0",children:"Current Route:"}),(0,$r.jsxs)("p",{className:"text-sm font-medium text-gray-700 m-0 break-words line-clamp-2",children:[tt.PickupLocation," \u2192"," ",tt.DropoffLocation||tt.DeliveryAddress]}),(0,$r.jsxs)("div",{className:"flex justify-between items-center mt-auto pt-2 border-t border-gray-100 text-xs",children:[(0,$r.jsxs)("span",{className:"text-gray-500",children:[(0,$r.jsx)("strong",{children:"Distance:"})," ",tt.DeliveryDistance?parseFloat(tt.DeliveryDistance).toFixed(2):"0.00"," ","km"]}),(0,$r.jsx)("span",{className:"font-bold text-gray-700",children:_t(tt.DeliveryRate||0)})]})]}),nt.newDistance>0&&(0,$r.jsxs)("div",{className:"flex flex-col gap-2 p-3 bg-blue-50/50 rounded-lg border border-blue-100 shadow-sm",children:[(0,$r.jsx)("h5",{className:"text-sm font-bold text-blue-500 uppercase tracking-wider m-0",children:"New Route:"}),(0,$r.jsxs)("p",{className:"text-sm font-medium text-gray-700 m-0 break-words line-clamp-2",children:[nt.pickupLocation," \u2192"," ",nt.dropoffLocation]}),(0,$r.jsxs)("div",{className:"flex justify-between items-center mt-auto pt-2 border-t border-blue-100/50 text-xs",children:[(0,$r.jsxs)("span",{className:"text-gray-500",children:[(0,$r.jsx)("strong",{children:"Distance:"})," ",nt.newDistance?nt.newDistance.toFixed(2):"0.00"," ","km"]}),(0,$r.jsx)("span",{className:"font-bold text-blue-700",children:_t(nt.newCost)})]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>Qe(!1),className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",disabled:h,children:"Cancel"}),(0,$r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-bold shadow-md shadow-amber-500/20 transition-all hover:-translate-y-0.5",disabled:h||!nt.pickupLocation||!nt.dropoffLocation,children:h?"Updating Route...":"Update Route"})]})]})]})}),Ze&&tt&&(0,$r.jsx)(df,{title:"Reschedule Delivery",onClose:()=>et(!1),size:"medium",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,$r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex gap-3 text-blue-800",children:[(0,$r.jsx)(Xa,{className:"text-xl text-blue-500 shrink-0 mt-0.5"}),(0,$r.jsx)("p",{className:"text-sm m-0",children:"Choose a new date and time for your delivery. The driver and staff will be notified of the change."})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[(0,$r.jsx)("h5",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Current Schedule:"}),(0,$r.jsxs)("p",{className:"m-0 text-sm text-gray-700",children:[(0,$r.jsx)("strong",{children:"Date:"})," ",Pt(tt.DeliveryDate)]})]}),(0,$r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{p(!0),(await Vr.post("/api/clients/deliveries/".concat(tt.DeliveryID,"/rebook"),{deliveryDate:st.newDate,deliveryTime:st.newTime})).data.success&&(u(e=>e.map(e=>e.DeliveryID===tt.DeliveryID?Ne(Ne({},e),{},{DeliveryDate:new Date("".concat(st.newDate,"T").concat(st.newTime))}):e)),qe("Delivery Rescheduled","Delivery rescheduled to ".concat(new Date("".concat(st.newDate,"T").concat(st.newTime)).toLocaleDateString())),et(!1),rt(null))}catch(m){var e,t;console.error("Error rebooking delivery:",m),We("Rebooking Failed",(null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to reschedule delivery")}finally{p(!1)}})()},className:"flex flex-col gap-4",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"newDeliveryDate",className:"text-sm font-bold text-gray-700",children:"New Delivery Date"}),(0,$r.jsx)("input",{type:"date",id:"newDeliveryDate",value:st.newDate,onChange:e=>it(t=>Ne(Ne({},t),{},{newDate:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",min:(new Date).toISOString().split("T")[0],required:!0})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"newDeliveryTime",className:"text-sm font-bold text-gray-700",children:"Preferred Time"}),(0,$r.jsxs)("select",{id:"newDeliveryTime",value:st.newTime,onChange:e=>it(t=>Ne(Ne({},t),{},{newTime:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all cursor-pointer",required:!0,children:[(0,$r.jsx)("option",{value:"08:00",children:"8:00 AM"}),(0,$r.jsx)("option",{value:"09:00",children:"9:00 AM"}),(0,$r.jsx)("option",{value:"10:00",children:"10:00 AM"}),(0,$r.jsx)("option",{value:"11:00",children:"11:00 AM"}),(0,$r.jsx)("option",{value:"12:00",children:"12:00 PM"}),(0,$r.jsx)("option",{value:"13:00",children:"1:00 PM"}),(0,$r.jsx)("option",{value:"14:00",children:"2:00 PM"}),(0,$r.jsx)("option",{value:"15:00",children:"3:00 PM"}),(0,$r.jsx)("option",{value:"16:00",children:"4:00 PM"}),(0,$r.jsx)("option",{value:"17:00",children:"5:00 PM"})]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[(0,$r.jsx)("h5",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Delivery Details:"}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1 text-sm text-gray-700",children:[(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("strong",{className:"text-gray-600",children:"Route:"}),(0,$r.jsxs)("span",{className:"text-right max-w-[70%]",children:[tt.PickupLocation," \u2192"," ",tt.DropoffLocation||tt.DeliveryAddress]})]}),(0,$r.jsxs)("div",{className:"flex justify-between mt-1 pt-1 border-t border-gray-200/50",children:[(0,$r.jsx)("strong",{className:"text-gray-600",children:"Amount:"})," ",(0,$r.jsx)("span",{className:"font-bold text-gray-800",children:_t(tt.DeliveryRate||0)})]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>et(!1),className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",disabled:h,children:"Cancel"}),(0,$r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg font-bold shadow-md shadow-cyan-500/20 transition-all hover:-translate-y-0.5",disabled:h||!st.newDate||!st.newTime,children:h?"Rescheduling...":"Reschedule Delivery"})]})]})]})}),me&&ge&&(0,$r.jsx)(df,{title:"Booking Details",onClose:()=>fe(!1),size:"large",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-6 p-8",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 h-full",children:[(0,$r.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"\ud83d\udce6 Delivery Information"}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Delivery ID:"}),(0,$r.jsxs)("span",{className:"text-sm font-mono font-bold text-gray-700",children:["#",ge.DeliveryID]})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Status:"}),(0,$r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat("pending"===ge.DeliveryStatus?"bg-amber-100 text-amber-700":"in-progress"===ge.DeliveryStatus?"bg-blue-100 text-blue-700":"completed"===ge.DeliveryStatus?"bg-emerald-100 text-emerald-700":"cancelled"===ge.DeliveryStatus?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:ge.DeliveryStatus})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Delivery Date:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:Pt(ge.DeliveryDate,ge)})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Amount:"}),(0,$r.jsx)("span",{className:"text-lg font-bold text-emerald-600",children:_t(ge.DeliveryRate||ge.deliveryRate||0)})]})]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 h-full",children:[(0,$r.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"\ud83d\uddfa\ufe0f Route Information"}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-start",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium whitespace-nowrap mr-2",children:"Pickup:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700 text-right text-balance",children:ge.PickupLocation||"N/A"})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-start",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium whitespace-nowrap mr-2",children:"Dropoff:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700 text-right text-balance",children:ge.DropoffLocation||ge.DeliveryAddress||"N/A"})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Distance:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.DeliveryDistance?"".concat(ge.DeliveryDistance," km"):"N/A"})]}),(ge.pickupCoordinates&&ge.dropoffCoordinates||ge.PickupCoordinates&&ge.DropoffCoordinates)&&(0,$r.jsxs)("button",{className:"mt-2 w-full px-4 py-2 border border-blue-200 text-blue-600 bg-white hover:bg-blue-50 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm font-medium",onClick:()=>{var e;e=ge,console.log("Viewing route for delivery:",e),e.RouteInfo&&e.RouteInfo.pickupCoordinates&&e.RouteInfo.dropoffCoordinates?(L(e.RouteInfo),D(!0)):e.pickupCoordinates&&e.dropoffCoordinates?(L({pickupLocation:e.PickupLocation,dropoffLocation:e.DropoffLocation,pickupCoordinates:e.pickupCoordinates,dropoffCoordinates:e.dropoffCoordinates,distance:e.DeliveryDistance,duration:e.EstimatedDuration}),D(!0)):e.PickupCoordinates&&e.DropoffCoordinates?(L({pickupLocation:e.PickupLocation,dropoffLocation:e.DropoffLocation,pickupCoordinates:e.PickupCoordinates,dropoffCoordinates:e.DropoffCoordinates,distance:e.DeliveryDistance,duration:e.EstimatedDuration}),D(!0)):ze("Route Unavailable","Route information not available for this delivery"),fe(!1)},children:[(0,$r.jsx)(Ns,{})," View Route on Map"]})]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 h-full",children:[(0,$r.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"\ud83d\ude9b Truck & Driver Information"}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Truck Plate:"}),(0,$r.jsx)("span",{className:"font-mono font-bold text-gray-800 bg-white px-2 py-1 rounded border border-gray-200 text-xs",children:ge.TruckPlate||"Not Assigned"})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Truck Type:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.TruckBrand||ge.TruckType||"N/A"})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Driver:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.DriverName||"Not Assigned"})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Helper:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.HelperName||"Not Assigned"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 h-full",children:[(0,$r.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"\ud83d\udcde Contact Information"}),(0,$r.jsxs)("div",{className:"mb-4",children:[(0,$r.jsx)("strong",{className:"block text-xs font-bold text-blue-800 uppercase tracking-wider mb-2",children:"\ud83d\udccd Pickup Contact"}),(0,$r.jsxs)("div",{className:"flex justify-between py-1 items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Person:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.PickupContactPerson||"Not specified"})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-1 items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Phone:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.PickupContactNumber||"N/A"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("strong",{className:"block text-xs font-bold text-blue-800 uppercase tracking-wider mb-2",children:"\ud83d\udccd Dropoff Contact"}),(0,$r.jsxs)("div",{className:"flex justify-between py-1 items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Person:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.DropoffContactPerson||"Not specified"})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-1 items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Phone:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.DropoffContactNumber||"N/A"})]})]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",onClick:()=>fe(!1),children:"Close"}),Bt(ge)&&(0,$r.jsxs)($r.Fragment,{children:[Ut(ge)&&(0,$r.jsxs)("button",{className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-bold shadow-md shadow-amber-500/20 flex items-center gap-2 transition-all hover:-translate-y-0.5",onClick:()=>{fe(!1),zt(ge)},children:[(0,$r.jsx)($a,{})," Reschedule"]}),Ut(ge)&&(0,$r.jsxs)("button",{className:"px-4 py-2 border border-purple-200 text-purple-600 bg-purple-50 hover:bg-purple-100 rounded-lg font-bold flex items-center gap-2 transition-colors",onClick:()=>{fe(!1),Ft(ge)},children:[(0,$r.jsx)(Ts,{})," Change Route"]}),(0,$r.jsxs)("button",{className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-bold shadow-md shadow-red-500/20 flex items-center gap-2 transition-all hover:-translate-y-0.5",onClick:()=>{fe(!1),Rt(ge)},children:[(0,$r.jsx)(qs,{})," Cancel"]})]})]})]})}),be&&ye&&(0,$r.jsx)(df,{title:"Truck Details",onClose:()=>ve(!1),size:"medium",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-8 p-1",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 h-full",children:[(0,$r.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-5 pb-3 border-b border-gray-200",children:"\ud83d\ude9b Truck Information"}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Truck Plate:"}),(0,$r.jsx)("span",{className:"font-mono font-bold text-gray-800 bg-white px-2 py-1 rounded border border-gray-200 text-xs",children:ye.TruckPlate})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Type:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ye.TruckType||"N/A"})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Brand:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ye.TruckBrand})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Capacity:"}),(0,$r.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:[ye.TruckCapacity," tons"]})]})]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 h-full",children:[(0,$r.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-5 pb-3 border-b border-gray-200",children:"\ud83d\udcca Performance Statistics"}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Total Deliveries:"}),(0,$r.jsx)("span",{className:"font-bold text-blue-600",children:ye.TotalCompletedDeliveries||0})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Total Kilometers:"}),(0,$r.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:[ye.TotalKilometers||0," km"]})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Allocation Status:"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ye.allocationStatus||ye.AllocationStatus||"Allocated"})]}),(0,$r.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,$r.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Current Status:"}),(0,$r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat(d.some(e=>e.TruckID===ye.TruckID&&("pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus))?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"),children:d.some(e=>e.TruckID===ye.TruckID&&("pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus))?"In Use":"Available"})]})]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",onClick:()=>ve(!1),children:"Close"}),!d.some(e=>e.TruckID===ye.TruckID&&("pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus))&&(0,$r.jsxs)("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-md shadow-blue-500/20 flex items-center gap-2 transition-all hover:-translate-y-0.5",onClick:()=>{ve(!1),a.push("/client/book-truck")},children:[(0,$r.jsx)(Ja,{})," Book This Truck"]})]})]})}),(0,$r.jsx)(bf,{toasts:Be,onRemoveToast:Ue})]})},jf=()=>{const{authUser:e}=(0,t.useContext)(wa),[r,n]=(0,t.useState)(null),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const[e,t]=await Promise.all([Vr.get("/api/drivers/profile"),Vr.get("/api/drivers/deliveries")]);n(e.data);const r=[],a=[];t.data.forEach(e=>{"pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus?r.push(e):a.push(e)}),s(r),o(a),c(!1)}catch(lb){console.error("Error fetching driver data:",lb),c(!1)}})()},[]),l?(0,$r.jsx)(ri,{}):(0,$r.jsxs)("div",{className:"dashboard",children:[(0,$r.jsx)("div",{className:"dashboard-header",children:(0,$r.jsxs)("h1",{children:["Welcome, ",(null===r||void 0===r?void 0:r.driverName)||e.username]})}),(0,$r.jsxs)("div",{className:"dashboard-stats",children:[(0,$r.jsxs)("div",{className:"stat-card",children:[(0,$r.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#F39C12"},children:(0,$r.jsx)(Ms,{size:20})}),(0,$r.jsxs)("div",{className:"stat-info",children:[(0,$r.jsx)("h3",{children:a.length}),(0,$r.jsx)("p",{children:"Active Deliveries"})]})]}),(0,$r.jsxs)("div",{className:"stat-card",children:[(0,$r.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#2ECC71"},children:(0,$r.jsx)(es,{size:20})}),(0,$r.jsxs)("div",{className:"stat-info",children:[(0,$r.jsx)("h3",{children:i.length}),(0,$r.jsx)("p",{children:"Completed Deliveries"})]})]}),(0,$r.jsxs)("div",{className:"stat-card",children:[(0,$r.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#0056b3"},children:(0,$r.jsx)(ns,{size:20})}),(0,$r.jsxs)("div",{className:"stat-info",children:[(0,$r.jsx)("h3",{children:a.length+i.length}),(0,$r.jsx)("p",{children:"Total Deliveries"})]})]})]}),(0,$r.jsxs)("div",{className:"dashboard-content",children:[(0,$r.jsxs)("div",{className:"card",children:[(0,$r.jsx)("div",{className:"card-header",children:(0,$r.jsx)("h2",{className:"card-title",children:"Active Deliveries"})}),(0,$r.jsx)("div",{className:"card-body",children:a.length>0?(0,$r.jsx)("div",{className:"table-container",children:(0,$r.jsxs)("table",{className:"data-table",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{children:"ID"}),(0,$r.jsx)("th",{children:"Client"}),(0,$r.jsx)("th",{children:"Helper"}),(0,$r.jsx)("th",{children:"Date"}),(0,$r.jsx)("th",{children:"Status"}),(0,$r.jsx)("th",{children:"Address"})]})}),(0,$r.jsx)("tbody",{children:a.map(e=>(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("td",{children:e.DeliveryID||e.id}),(0,$r.jsx)("td",{children:e.ClientName||e.clientName}),(0,$r.jsx)("td",{children:e.HelperName||e.helperName}),(0,$r.jsx)("td",{children:new Date(e.DeliveryDate||e.deliveryDate).toLocaleDateString()}),(0,$r.jsx)("td",{children:(0,$r.jsx)(cf,{status:e.DeliveryStatus||e.deliveryStatus})}),(0,$r.jsx)("td",{children:e.DeliveryAddress||e.deliveryAddress})]},e.DeliveryID||e.id))})]})}):(0,$r.jsx)("p",{className:"empty-state",children:"No active deliveries assigned to you."})})]}),(0,$r.jsxs)("div",{className:"card",children:[(0,$r.jsx)("div",{className:"card-header",children:(0,$r.jsx)("h2",{className:"card-title",children:"Recent Completed Deliveries"})}),(0,$r.jsx)("div",{className:"card-body",children:i.length>0?(0,$r.jsx)("div",{className:"table-container",children:(0,$r.jsxs)("table",{className:"data-table",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{children:"ID"}),(0,$r.jsx)("th",{children:"Client"}),(0,$r.jsx)("th",{children:"Date"}),(0,$r.jsx)("th",{children:"Status"}),(0,$r.jsx)("th",{children:"Distance"})]})}),(0,$r.jsx)("tbody",{children:i.slice(0,5).map(e=>(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("td",{children:e.DeliveryID||e.id}),(0,$r.jsx)("td",{children:e.ClientName||e.clientName}),(0,$r.jsx)("td",{children:new Date(e.DeliveryDate||e.deliveryDate).toLocaleDateString()}),(0,$r.jsx)("td",{children:(0,$r.jsx)(cf,{status:e.DeliveryStatus||e.deliveryStatus})}),(0,$r.jsxs)("td",{children:[e.DeliveryDistance||e.deliveryDistance," ","km"]})]},e.DeliveryID||e.id))})]})}):(0,$r.jsx)("p",{className:"empty-state",children:"No completed deliveries found."})})]})]})]})},Nf=()=>{const{authUser:e}=(0,t.useContext)(wa),[r,n]=(0,t.useState)(null),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const[e,t]=await Promise.all([Vr.get("/api/helpers/profile"),Vr.get("/api/helpers/deliveries")]);n(e.data);const r=[],a=[];t.data.forEach(e=>{"pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus?r.push(e):a.push(e)}),s(r),o(a),c(!1)}catch(lb){console.error("Error fetching helper data:",lb),c(!1)}})()},[]),l?(0,$r.jsx)(ri,{}):(0,$r.jsxs)("div",{className:"dashboard",children:[(0,$r.jsxs)("h1",{children:["Welcome, ",(null===r||void 0===r?void 0:r.HelperName)||e.username]}),(0,$r.jsxs)("div",{className:"dashboard-stats",children:[(0,$r.jsxs)("div",{className:"stat-card",children:[(0,$r.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#F39C12"},children:(0,$r.jsx)(Ms,{})}),(0,$r.jsxs)("div",{className:"stat-info",children:[(0,$r.jsx)("h3",{children:a.length}),(0,$r.jsx)("p",{children:"Active Deliveries"})]})]}),(0,$r.jsxs)("div",{className:"stat-card",children:[(0,$r.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#2ECC71"},children:(0,$r.jsx)(es,{})}),(0,$r.jsxs)("div",{className:"stat-info",children:[(0,$r.jsx)("h3",{children:i.length}),(0,$r.jsx)("p",{children:"Completed Deliveries"})]})]}),(0,$r.jsxs)("div",{className:"stat-card",children:[(0,$r.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#0056b3"},children:(0,$r.jsx)(ns,{})}),(0,$r.jsxs)("div",{className:"stat-info",children:[(0,$r.jsx)("h3",{children:a.length+i.length}),(0,$r.jsx)("p",{children:"Total Deliveries"})]})]})]}),(0,$r.jsxs)("div",{className:"card",children:[(0,$r.jsx)("div",{className:"card-header",children:(0,$r.jsx)("h2",{className:"card-title",children:"Active Deliveries"})}),(0,$r.jsx)("div",{className:"card-body",children:a.length>0?(0,$r.jsx)("div",{className:"table-container",children:(0,$r.jsxs)("table",{className:"data-table",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{children:"ID"}),(0,$r.jsx)("th",{children:"Client"}),(0,$r.jsx)("th",{children:"Driver"}),(0,$r.jsx)("th",{children:"Date"}),(0,$r.jsx)("th",{children:"Status"}),(0,$r.jsx)("th",{children:"Address"})]})}),(0,$r.jsx)("tbody",{children:a.map(e=>(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("td",{children:e.DeliveryID}),(0,$r.jsx)("td",{children:e.ClientName}),(0,$r.jsx)("td",{children:e.DriverName}),(0,$r.jsx)("td",{children:new Date(e.DeliveryDate).toLocaleDateString()}),(0,$r.jsx)("td",{children:(0,$r.jsx)(cf,{status:e.DeliveryStatus})}),(0,$r.jsx)("td",{children:e.DeliveryAddress})]},e.DeliveryID))})]})}):(0,$r.jsx)("p",{children:"No active deliveries assigned to you."})})]}),(0,$r.jsxs)("div",{className:"card",children:[(0,$r.jsx)("div",{className:"card-header",children:(0,$r.jsx)("h2",{className:"card-title",children:"Recent Completed Deliveries"})}),(0,$r.jsx)("div",{className:"card-body",children:i.length>0?(0,$r.jsx)("div",{className:"table-container",children:(0,$r.jsxs)("table",{className:"data-table",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{children:"ID"}),(0,$r.jsx)("th",{children:"Client"}),(0,$r.jsx)("th",{children:"Date"}),(0,$r.jsx)("th",{children:"Status"}),(0,$r.jsx)("th",{children:"Distance"})]})}),(0,$r.jsx)("tbody",{children:i.slice(0,5).map(e=>(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("td",{children:e.DeliveryID}),(0,$r.jsx)("td",{children:e.ClientName}),(0,$r.jsx)("td",{children:new Date(e.DeliveryDate).toLocaleDateString()}),(0,$r.jsx)("td",{children:(0,$r.jsx)(cf,{status:e.DeliveryStatus})}),(0,$r.jsxs)("td",{children:[e.DeliveryDistance," km"]})]},e.DeliveryID))})]})}):(0,$r.jsx)("p",{children:"No completed deliveries found."})})]})]})};function kf(){return(0,$r.jsx)("div",{children:(0,$r.jsx)("h1",{children:"\u2699\ufe0f Operator Dashboard"})})}const Sf=!1,Cf=!1,_f="${JSCORE_VERSION}",Pf=function(e,t){if(!e)throw Af(t)},Af=function(e){return new Error("Firebase Database ("+_f+") INTERNAL ASSERT FAILED: "+e)},Df=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=63&a|128):55296===(64512&a)&&n+1<e.length&&56320===(64512&e.charCodeAt(n+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++n)),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=63&a|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=63&a|128)}return t},Tf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const t=e[a],s=a+1<e.length,i=s?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,d=(3&t)<<4|i>>4;let u=(15&i)<<2|l>>6,h=63&l;o||(h=64,s||(u=64)),n.push(r[c],r[d],r[u],r[h])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Df(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[r++];t[n++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){const s=((7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{const s=e[r++],i=e[r++];t[n++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const t=r[e.charAt(a++)],s=a<e.length?r[e.charAt(a)]:0;++a;const i=a<e.length?r[e.charAt(a)]:64;++a;const o=a<e.length?r[e.charAt(a)]:64;if(++a,null==t||null==s||null==i||null==o)throw new Lf;const l=t<<2|s>>4;if(n.push(l),64!==i){const e=s<<4&240|i>>2;if(n.push(e),64!==o){const e=i<<6&192|o;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Lf extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ef=function(e){const t=Df(e);return Tf.encodeByteArray(t,!0)},If=function(e){return Ef(e).replace(/\./g,"")},Mf=function(e){try{return Tf.decodeString(e,!0)}catch(_q){console.error("base64Decode failed: ",_q)}return null};function Rf(e){return Ff(void 0,e)}function Ff(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const r in t)t.hasOwnProperty(r)&&zf(r)&&(e[r]=Ff(e[r],t[r]));return e}function zf(e){return"__proto__"!==e}const Of=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Bf=()=>{try{return Of()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"",REACT_APP_FIREBASE_API_KEY:"AIzaSyDWV7_xKJ9vRvtBceQdTb5akTSx3jKk1Bw",REACT_APP_FIREBASE_APP_ID:"1:764709653798:web:bc596b7510ad4fb34c45e7",REACT_APP_FIREBASE_AUTH_DOMAIN:"e-trucking-8d905.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://e-trucking-8d905-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-06MBDLYS9Q",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"764709653798",REACT_APP_FIREBASE_PROJECT_ID:"e-trucking-8d905",REACT_APP_FIREBASE_STORAGE_BUCKET:"e-trucking-8d905.firebasestorage.app",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyBTln9AbQ0K-CTbVrcFNQc0LHlt3Y4J1Pc"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(_q){return}const t=e&&Mf(e[1]);return t&&JSON.parse(t)})()}catch(_q){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(_q))}},Uf=e=>{const t=(e=>{var t;return null===(t=Bf())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]},qf=()=>{var e;return null===(e=Bf())||void 0===e?void 0:e.config};class Wf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Hf(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const Vf={};let Kf=!1;function Gf(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Hf(window.location.host)||Vf[e]===t||Vf[e]||Kf)return;function r(e){return"__firebase__banner__".concat(e)}Vf[e]=t;const n="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Vf))Vf[t]?e.emulator.push(t):e.prod.push(t);return e}(),s=a.prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Kf=!0,function(){const e=document.getElementById(n);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}(n),t=r("text"),a=document.getElementById(t)||document.createElement("span"),o=r("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=r("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const r=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),t.append(d,a,l,r),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function Yf(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $f(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yf())}function Jf(){return!0===Sf||!0===Cf}function Xf(){try{return"object"===typeof indexedDB}catch(_q){return!1}}function Qf(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(lb){t(lb)}})}class Zf extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Zf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eg.prototype.create)}}class eg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},r="".concat(this.service,"/").concat(e),n=this.errors[e],a=n?function(e,t){return e.replace(tg,(e,r)=>{const n=t[r];return null!=n?String(n):"<".concat(r,"?>")})}(n,t):"Error",s="".concat(this.serviceName,": ").concat(a," (").concat(r,").");return new Zf(r,s,t)}}const tg=/\{\$([^}]+)}/g;function rg(e){return JSON.parse(e)}function ng(e){return JSON.stringify(e)}const ag=function(e){let t={},r={},n={},a="";try{const s=e.split(".");t=rg(Mf(s[0])||""),r=rg(Mf(s[1])||""),a=s[2],n=r.d||{},delete r.d}catch(_q){}return{header:t,claims:r,data:n,signature:a}};function sg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ig(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function og(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function lg(e,t,r){const n={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=t.call(r,e[a],a,e));return n}function cg(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const r=e[a],s=t[a];if(dg(r)&&dg(s)){if(!cg(r,s))return!1}else if(r!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function dg(e){return null!==e&&"object"===typeof e}class ug{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"===typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const e=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(e<<1|e>>>31)}let n,a,s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(n=l^i&(o^l),a=1518500249):(n=i^o^l,a=1859775393):d<60?(n=i&o|l&(i|o),a=2400959708):(n=i^o^l,a=3395469782);const e=(s<<5|s>>>27)+n+c+a+r[d]&4294967295;c=l,l=o,o=4294967295&(i<<30|i>>>2),i=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let n=0;const a=this.buf_;let s=this.inbuf_;for(;n<t;){if(0===s)for(;n<=r;)this.compress_(e,n),n+=this.blockSize;if("string"===typeof e){for(;n<t;)if(a[s]=e.charCodeAt(n),++s,++n,s===this.blockSize){this.compress_(a),s=0;break}}else for(;n<t;)if(a[s]=e[n],++s,++n,s===this.blockSize){this.compress_(a),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let n=0;n<5;n++)for(let t=24;t>=0;t-=8)e[r]=this.chain_[n]>>t&255,++r;return e}}function hg(e,t){return"".concat(e," failed: ").concat(t," argument ")}const pg=function(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t};function mg(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),n=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+n)}function fg(e){return e&&e._delegate?e._delegate:e}class gg{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xg="[DEFAULT]";class bg{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Wf;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(_q){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),n=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(_q){if(n)return null;throw _q}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xg})}catch(_q){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(_q){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xg;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xg;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xg;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,s]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(a)&&s.resolve(n)}return n}onInit(e,t){var r;const n=this.normalizeInstanceIdentifier(t),a=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;a.add(e),this.onInitCallbacks.set(n,a);const s=this.instances.get(n);return s&&e(s,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch(n){}}getOrInitializeService(e){let{instanceIdentifier:t,options:r={}}=e,n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:vg(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(a){}return n||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xg;return this.component?this.component.multipleInstances?e:xg:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function vg(e){return e===xg?void 0:e}class yg{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const wg=[];var jg;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(jg||(jg={}));const Ng={debug:jg.DEBUG,verbose:jg.VERBOSE,info:jg.INFO,warn:jg.WARN,error:jg.ERROR,silent:jg.SILENT},kg=jg.INFO,Sg={[jg.DEBUG]:"log",[jg.VERBOSE]:"log",[jg.INFO]:"info",[jg.WARN]:"warn",[jg.ERROR]:"error"},Cg=function(e,t){if(t<e.logLevel)return;const r=(new Date).toISOString(),n=Sg[t];if(!n)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i];console[n]("[".concat(r,"]  ").concat(e.name,":"),...s)};class _g{constructor(e){this.name=e,this._logLevel=kg,this._logHandler=Cg,this._userLogHandler=null,wg.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jg))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ng[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,jg.DEBUG,...t),this._logHandler(this,jg.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,jg.VERBOSE,...t),this._logHandler(this,jg.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,jg.INFO,...t),this._logHandler(this,jg.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,jg.WARN,...t),this._logHandler(this,jg.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,jg.ERROR,...t),this._logHandler(this,jg.ERROR,...t)}}let Pg,Ag;const Dg=new WeakMap,Tg=new WeakMap,Lg=new WeakMap,Eg=new WeakMap,Ig=new WeakMap;let Mg={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return Tg.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Lg.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zg(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Rg(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ag||(Ag=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(Og(this),r),zg(Dg.get(this))}:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return zg(e.apply(Og(this),r))}:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];const s=e.call(Og(this),t,...n);return Lg.set(s,t.sort?t.sort():[t]),zg(s)}}function Fg(e){return"function"===typeof e?Rg(e):(e instanceof IDBTransaction&&function(e){if(Tg.has(e))return;const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{t(),n()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Tg.set(e,t)}(e),t=e,(Pg||(Pg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Mg):e);var t}function zg(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{t(zg(e.result)),n()},s=()=>{r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Dg.set(t,e)}).catch(()=>{}),Ig.set(t,e),t}(e);if(Eg.has(e))return Eg.get(e);const t=Fg(e);return t!==e&&(Eg.set(e,t),Ig.set(t,e)),t}const Og=e=>Ig.get(e);function Bg(e,t){let{blocked:r,upgrade:n,blocking:a,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),o=zg(i);return n&&i.addEventListener("upgradeneeded",e=>{n(zg(i.result),e.oldVersion,e.newVersion,zg(i.transaction),e)}),r&&i.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const Ug=["get","getKey","getAll","getAllKeys","count"],qg=["put","add","delete","clear"],Wg=new Map;function Hg(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Wg.get(t))return Wg.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=qg.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!a&&!Ug.includes(r))return;const s=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let s=t.store;for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return n&&(s=s.index(o.shift())),(await Promise.all([s[r](...o),a&&t.done]))[0]};return Wg.set(t,s),s}Mg=(e=>Ne(Ne({},e),{},{get:(t,r,n)=>Hg(t,r)||e.get(t,r,n),has:(t,r)=>!!Hg(t,r)||e.has(t,r)}))(Mg);class Vg{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Kg="@firebase/app",Gg="0.14.7",Yg=new _g("@firebase/app"),$g="@firebase/app-compat",Jg="@firebase/analytics-compat",Xg="@firebase/analytics",Qg="@firebase/app-check-compat",Zg="@firebase/app-check",ex="@firebase/auth",tx="@firebase/auth-compat",rx="@firebase/database",nx="@firebase/data-connect",ax="@firebase/database-compat",sx="@firebase/functions",ix="@firebase/functions-compat",ox="@firebase/installations",lx="@firebase/installations-compat",cx="@firebase/messaging",dx="@firebase/messaging-compat",ux="@firebase/performance",hx="@firebase/performance-compat",px="@firebase/remote-config",mx="@firebase/remote-config-compat",fx="@firebase/storage",gx="@firebase/storage-compat",xx="@firebase/firestore",bx="@firebase/ai",vx="@firebase/firestore-compat",yx="firebase",wx="[DEFAULT]",jx={[Kg]:"fire-core",[$g]:"fire-core-compat",[Xg]:"fire-analytics",[Jg]:"fire-analytics-compat",[Zg]:"fire-app-check",[Qg]:"fire-app-check-compat",[ex]:"fire-auth",[tx]:"fire-auth-compat",[rx]:"fire-rtdb",[nx]:"fire-data-connect",[ax]:"fire-rtdb-compat",[sx]:"fire-fn",[ix]:"fire-fn-compat",[ox]:"fire-iid",[lx]:"fire-iid-compat",[cx]:"fire-fcm",[dx]:"fire-fcm-compat",[ux]:"fire-perf",[hx]:"fire-perf-compat",[px]:"fire-rc",[mx]:"fire-rc-compat",[fx]:"fire-gcs",[gx]:"fire-gcs-compat",[xx]:"fire-fst",[vx]:"fire-fst-compat",[bx]:"fire-vertex","fire-js":"fire-js",[yx]:"fire-js-all"},Nx=new Map,kx=new Map,Sx=new Map;function Cx(e,t){try{e.container.addComponent(t)}catch(_q){Yg.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),_q)}}function _x(e){const t=e.name;if(Sx.has(t))return Yg.debug("There were multiple attempts to register component ".concat(t,".")),!1;Sx.set(t,e);for(const r of Nx.values())Cx(r,e);for(const r of kx.values())Cx(r,e);return!0}function Px(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}const Ax=new eg("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dx{constructor(e,t,r){this._isDeleted=!1,this._options=Ne({},e),this._config=Ne({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gg("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ax.create("app-deleted",{appName:this._name})}}function Tx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if("object"!==typeof t){t={name:t}}const n=Ne({name:wx,automaticDataCollectionEnabled:!0},t),a=n.name;if("string"!==typeof a||!a)throw Ax.create("bad-app-name",{appName:String(a)});if(r||(r=qf()),!r)throw Ax.create("no-options");const s=Nx.get(a);if(s){if(cg(r,s.options)&&cg(n,s.config))return s;throw Ax.create("duplicate-app",{appName:a})}const i=new yg(a);for(const l of Sx.values())i.addComponent(l);const o=new Dx(r,n,i);return Nx.set(a,o),o}function Lx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wx;const t=Nx.get(e);if(!t&&e===wx&&qf())return Tx();if(!t)throw Ax.create("no-app",{appName:e});return t}function Ex(e,t,r){var n;let a=null!==(n=jx[e])&&void 0!==n?n:e;r&&(a+="-".concat(r));const s=a.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),s&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Yg.warn(e.join(" "))}_x(new gg("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const Ix="firebase-heartbeat-store";let Mx=null;function Rx(){return Mx||(Mx=Bg("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ix)}catch(_q){console.warn(_q)}}}).catch(e=>{throw Ax.create("idb-open",{originalErrorMessage:e.message})})),Mx}async function Fx(e,t){try{const r=(await Rx()).transaction(Ix,"readwrite"),n=r.objectStore(Ix);await n.put(t,zx(e)),await r.done}catch(_q){if(_q instanceof Zf)Yg.warn(_q.message);else{const t=Ax.create("idb-set",{originalErrorMessage:null===_q||void 0===_q?void 0:_q.message});Yg.warn(t.message)}}}function zx(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ox{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ux(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Bx();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(_q){Yg.warn(_q)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Bx(),{heartbeatsToSend:r,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const r=[];let n=e.slice();for(const a of e){const e=r.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),qx(r)>t){e.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),qx(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),a=If(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(_q){return Yg.warn(_q),""}}}function Bx(){return(new Date).toISOString().substring(0,10)}class Ux{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Xf()&&Qf().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Rx()).transaction(Ix),r=await t.objectStore(Ix).get(zx(e));return await t.done,r}catch(_q){if(_q instanceof Zf)Yg.warn(_q.message);else{const t=Ax.create("idb-get",{originalErrorMessage:null===_q||void 0===_q?void 0:_q.message});Yg.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const r=await this.read();return Fx(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const r=await this.read();return Fx(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function qx(e){return If(JSON.stringify({version:2,heartbeats:e})).length}var Wx;Wx="",_x(new gg("platform-logger",e=>new Vg(e),"PRIVATE")),_x(new gg("heartbeat",e=>new Ox(e),"PRIVATE")),Ex(Kg,Gg,Wx),Ex(Kg,Gg,"esm2020"),Ex("fire-js","");Ex("firebase","12.8.0","app");const Hx="@firebase/database",Vx="1.1.0";let Kx="";function Gx(e){Kx=e}class Yx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ng(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:rg(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class $x{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return sg(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Jx=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Yx(t)}}catch(_q){}return new $x},Xx=Jx("localStorage"),Qx=Jx("sessionStorage"),Zx=new _g("@firebase/database"),eb=function(){let e=1;return function(){return e++}}(),tb=function(e){const t=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);if(a>=55296&&a<=56319){const t=a-55296;n++,Pf(n<e.length,"Surrogate pair missing trail surrogate."),a=65536+(t<<10)+(e.charCodeAt(n)-56320)}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=63&a|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=63&a|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=63&a|128)}return t}(e),r=new ug;r.update(t);const n=r.digest();return Tf.encodeByteArray(n)},rb=function(){let e="";for(let t=0;t<arguments.length;t++){const r=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?e+=rb.apply(null,r):e+="object"===typeof r?ng(r):r,e+=" "}return e};let nb=null,ab=!0;const sb=function(e,t){Pf(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Zx.logLevel=jg.VERBOSE,nb=Zx.log.bind(Zx),t&&Qx.set("logging_enabled",!0)):"function"===typeof e?nb=e:(nb=null,Qx.remove("logging_enabled"))},ib=function(){if(!0===ab&&(ab=!1,null===nb&&!0===Qx.get("logging_enabled")&&sb(!0)),nb){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=rb.apply(null,t);nb(n)}},ob=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];ib(e,...r)}},lb=function(){const e="FIREBASE INTERNAL ERROR: "+rb(...arguments);Zx.error(e)},cb=function(){const e="FIREBASE FATAL ERROR: ".concat(rb(...arguments));throw Zx.error(e),new Error(e)},db=function(){const e="FIREBASE WARNING: "+rb(...arguments);Zx.warn(e)},ub=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},hb="[MIN_NAME]",pb="[MAX_NAME]",mb=function(e,t){if(e===t)return 0;if(e===hb||t===pb)return-1;if(t===hb||e===pb)return 1;{const r=jb(e),n=jb(t);return null!==r?null!==n?r-n===0?e.length-t.length:r-n:-1:null!==n?1:e<t?-1:1}},fb=function(e,t){return e===t?0:e<t?-1:1},gb=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ng(t))},xb=function(e){if("object"!==typeof e||null===e)return ng(e);const t=[];for(const n in e)t.push(n);t.sort();let r="{";for(let n=0;n<t.length;n++)0!==n&&(r+=","),r+=ng(t[n]),r+=":",r+=xb(e[t[n]]);return r+="}",r},bb=function(e,t){const r=e.length;if(r<=t)return[e];const n=[];for(let a=0;a<r;a+=t)a+t>r?n.push(e.substring(a,r)):n.push(e.substring(a,a+t));return n};function vb(e,t){for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])}const yb=function(e){Pf(!ub(e),"Invalid JSON number");const t=1023;let r,n,a,s,i;0===e?(n=0,a=0,r=1/e===-1/0?1:0):(r=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),n=s+t,a=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(n=0,a=Math.round(e/Math.pow(2,-1074))));const o=[];for(i=52;i;i-=1)o.push(a%2?1:0),a=Math.floor(a/2);for(i=11;i;i-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(r?1:0),o.reverse();const l=o.join("");let c="";for(i=0;i<64;i+=8){let e=parseInt(l.substr(i,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const wb=new RegExp("^-?(0*)\\d{1,10}$"),jb=function(e){if(wb.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Nb=function(e){try{e()}catch(_q){setTimeout(()=>{const t=_q.stack||"";throw db("Exception was thrown by user callback.",t),_q},Math.floor(0))}},kb=function(e,t){const r=setTimeout(e,t);return"number"===typeof r&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(r):"object"===typeof r&&r.unref&&r.unref(),r};class Sb{constructor(e,t){var r;this.appCheckProvider=t,this.appName=e.name,null!==(r=e)&&void 0!==r&&void 0!==r.settings&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){db('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Cb{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(ib("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',db(e)}}class _b{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}_b.OWNER="owner";const Pb="5",Ab=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Db="ac",Tb="websocket",Lb="long_polling";class Eb{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=r,this.webSocketOnly=n,this.nodeAdmin=a,this.persistenceKey=s,this.includeNamespaceInQueryParams=i,this.isUsingEmulator=o,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xx.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xx.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Ib(e,t,r){let n;if(Pf("string"===typeof t,"typeof type must == string"),Pf("object"===typeof r,"typeof params must == object"),t===Tb)n=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Lb)throw new Error("Unknown connection type: "+t);n=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(r.ns=e.namespace);const a=[];return vb(r,(e,t)=>{a.push(e+"="+t)}),n+a.join("&")}class Mb{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;sg(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Rf(this.counters_)}}const Rb={},Fb={};function zb(e){const t=e.toString();return Rb[t]||(Rb[t]=new Mb),Rb[t]}class Ob{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Nb(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Bb="start";class Ub{constructor(e,t,r,n,a,s,i){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=n,this.authToken=a,this.transportSessionId=s,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ob(e),this.stats_=zb(t),this.urlFn=e=>(this.appCheckToken&&(e[Db]=this.appCheckToken),Ib(t,Lb,e))}open(e,t){var r=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ob(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Jf()||"complete"===document.readyState)e();else{let t=!1;const r=function(){document.body?t||(t=!0,e()):setTimeout(r,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&r()}),window.attachEvent("onload",r))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qb(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[a,s,i,o,l]=t;if(r.incrementIncomingBytes_(t),r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,a===Bb)r.id=s,r.password=i;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);s?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(s,()=>{r.onClosed_()})):r.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[a,s]=t;r.incrementIncomingBytes_(t),r.myPacketOrderer.handleResponse(a,s)},()=>{this.onClosed_()},this.urlFn);const e={};e[Bb]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Pb,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Db]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Ab.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ub.forceAllow_=!0}static forceDisallow(){Ub.forceDisallow_=!0}static isAvailable(){return!Jf()&&(!!Ub.forceAllow_||!Ub.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ng(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=Ef(t),n=bb(r,1840);for(let a=0;a<n.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Jf())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ng(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class qb{constructor(e,t,r,n){if(this.onDisconnect=r,this.urlFn=n,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Jf())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=eb(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=qb.createIFrame_();let r="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){r='<script>document.domain="'+document.domain+'";<\/script>'}const n="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(n),this.myIFrame.doc.close()}catch(_q){ib("frame writing exception"),_q.stack&&ib(_q.stack),ib(_q)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ib("No IE domain setting required")}catch(_q){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",n=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+r.length<=1870))break;{const e=this.pendingSegs.shift();r=r+"&seg"+n+"="+e.seg+"&ts"+n+"="+e.ts+"&d"+n+"="+e.d,n++}}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},n=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(n),r()})}addTag(e,t){Jf()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{ib("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(_q){}},Math.floor(1))}}let Wb=null;"undefined"!==typeof MozWebSocket?Wb=MozWebSocket:"undefined"!==typeof WebSocket&&(Wb=WebSocket);class Hb{constructor(e,t,r,n,a,s,i){this.connId=e,this.applicationId=r,this.appCheckToken=n,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ob(this.connId),this.stats_=zb(t),this.connURL=Hb.connectionURL_(t,s,i,n,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,n,a){const s={};return s.v=Pb,!Jf()&&"undefined"!==typeof location&&location.hostname&&Ab.test(location.hostname)&&(s.r="f"),t&&(s.s=t),r&&(s.ls=r),n&&(s[Db]=n),a&&(s.p=a),Ib(e,Tb,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xx.set("previous_websocket_failure",!0);try{let e;if(Jf()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Pb,"/").concat(Kx,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"",REACT_APP_FIREBASE_API_KEY:"AIzaSyDWV7_xKJ9vRvtBceQdTb5akTSx3jKk1Bw",REACT_APP_FIREBASE_APP_ID:"1:764709653798:web:bc596b7510ad4fb34c45e7",REACT_APP_FIREBASE_AUTH_DOMAIN:"e-trucking-8d905.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://e-trucking-8d905-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-06MBDLYS9Q",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"764709653798",REACT_APP_FIREBASE_PROJECT_ID:"e-trucking-8d905",REACT_APP_FIREBASE_STORAGE_BUCKET:"e-trucking-8d905.firebasestorage.app",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyBTln9AbQ0K-CTbVrcFNQc0LHlt3Y4J1Pc"},n=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;n&&(e.proxy={origin:n})}this.mySock=new Wb(this.connURL,[],e)}catch(_q){this.log_("Error instantiating WebSocket.");const t=_q.message||_q.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Hb.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Wb&&!Hb.forceDisallow_}static previouslyFailed(){return Xx.isInMemoryStorage||!0===Xx.get("previous_websocket_failure")}markConnectionHealthy(){Xx.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=rg(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Pf(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=ng(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=bb(t,16384);r.length>1&&this.sendString_(String(r.length));for(let n=0;n<r.length;n++)this.sendString_(r[n])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(_q){this.log_("Exception thrown from WebSocket.send():",_q.message||_q.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Hb.responsesRequiredToBeHealthy=2,Hb.healthyTimeout=3e4;class Vb{static get ALL_TRANSPORTS(){return[Ub,Hb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Hb&&Hb.isAvailable();let r=t&&!Hb.previouslyFailed();if(e.webSocketOnly&&(t||db("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Hb];else{const e=this.transports_=[];for(const t of Vb.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Vb.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vb.globalTransportInitialized_=!1;class Kb{constructor(e,t,r,n,a,s,i,o,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=n,this.authToken_=a,this.onMessage_=s,this.onReady_=i,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ob("c:"+this.id+":"),this.transportManager_=new Vb(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const n=e.healthyTimeout||0;n>0&&(this.healthyTimeout_=kb(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(n)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=gb("t",e),r=gb("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=gb("t",e),r=gb("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=gb("t",e);if("d"in e){const r=e.d;if("h"===t){const e=Ne({},r);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?lb("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lb("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,n=e.h;this.sessionId=e.s,this.repoInfo_.host=n,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Pb!==r&&db("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),kb(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kb(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xx.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Gb{put(e,t,r,n){}merge(e,t,r,n){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class Yb{constructor(e){this.allowedEvents_=e,this.listeners_={},Pf(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(let e=0;e<a.length;e++)a[e].callback.apply(a[e].context,r)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const n=this.getInitialEvent(e);n&&t.apply(r,n)}off(e,t,r){this.validateEventType_(e);const n=this.listeners_[e]||[];for(let a=0;a<n.length;a++)if(n[a].callback===t&&(!r||r===n[a].context))return void n.splice(a,1)}validateEventType_(e){Pf(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class $b extends Yb{static getInstance(){return new $b}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||$f()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Pf("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Jb{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Xb(){return new Jb("")}function Qb(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Zb(e){return e.pieces_.length-e.pieceNum_}function ev(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Jb(e.pieces_,t)}function tv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function rv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function nv(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let r=e.pieceNum_;r<e.pieces_.length-1;r++)t.push(e.pieces_[r]);return new Jb(t,0)}function av(e,t){const r=[];for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);if(t instanceof Jb)for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&r.push(e[t])}return new Jb(r,0)}function sv(e){return e.pieceNum_>=e.pieces_.length}function iv(e,t){const r=Qb(e),n=Qb(t);if(null===r)return t;if(r===n)return iv(ev(e),ev(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ov(e,t){if(Zb(e)!==Zb(t))return!1;for(let r=e.pieceNum_,n=t.pieceNum_;r<=e.pieces_.length;r++,n++)if(e.pieces_[r]!==t.pieces_[n])return!1;return!0}function lv(e,t){let r=e.pieceNum_,n=t.pieceNum_;if(Zb(e)>Zb(t))return!1;for(;r<e.pieces_.length;){if(e.pieces_[r]!==t.pieces_[n])return!1;++r,++n}return!0}class cv{constructor(e,t){this.errorPrefix_=t,this.parts_=rv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=pg(this.parts_[r]);dv(this)}}function dv(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+uv(e))}function uv(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class hv extends Yb{static getInstance(){return new hv}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return Pf("visible"===e,"Unknown event type: "+e),[this.visible_]}}const pv=1e3;class mv extends Gb{constructor(e,t,r,n,a,s,i,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=n,this.onServerInfoUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.authOverride_=o,this.id=mv.nextPersistentConnectionId_++,this.log_=ob("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pv,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o&&!Jf())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hv.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&$b.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const n=++this.requestNumber_,a={r:n,a:e,b:t};this.log_(ng(a)),Pf(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[n]=r)}get(e){this.initConnection_();const t=new Wf,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const r=e.d;"ok"===e.s?t.resolve(r):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const n=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(n),t.promise}listen(e,t,r,n){this.initConnection_();const a=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+a),this.listens.has(s)||this.listens.set(s,new Map),Pf(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Pf(!this.listens.get(s).has(a),"listen() called twice for same path/queryId.");const i={onComplete:n,hashFn:t,query:e,tag:r};this.listens.get(s).set(a,i),this.connected_&&this.sendListen_(i)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),n=t._queryIdentifier;this.log_("Listen on "+r+" for "+n);const a={p:r};e.tag&&(a.q=t._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,a=>{const s=a.d,i=a.s;mv.warnOnListenWarnings_(s,t);(this.listens.get(r)&&this.listens.get(r).get(n))===e&&(this.log_("listen response",a),"ok"!==i&&this.removeListen_(r,n),e.onComplete&&e.onComplete(i,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&sg(e,"w")){const r=ig(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();db("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(r," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=ag(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=ag(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(t,r,t=>{const r=t.s,n=t.d||"error";this.authToken_===e&&("ok"===r?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,n))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),n=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+n),Pf(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(r,n)&&this.connected_&&this.sendUnlisten_(r,n,e._queryObject,t)}sendUnlisten_(e,t,r,n){this.log_("Unlisten on "+e+" for "+t);const a={p:e};n&&(a.q=r,a.t=n),this.sendRequest("n",a)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,n){const a={p:t,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,e=>{n&&setTimeout(()=>{n(e.s,e.d)},Math.floor(0))})}put(e,t,r,n){this.putInternal("p",e,t,r,n)}merge(e,t,r,n){this.putInternal("m",e,t,r,n)}putInternal(e,t,r,n,a){this.initConnection_();const s={p:t,d:r};void 0!==a&&(s.h=a),this.outstandingPuts_.push({action:e,request:s,onComplete:n}),this.outstandingPutCount_++;const i=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(i):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,n=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),n&&n(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ng(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):lb("Unrecognized action received from server: "+ng(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Pf(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=pv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=pv),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),n=this.id+":"+mv.nextConnectionId_++,a=this.lastSessionId;let s=!1,i=null;const o=function(){i?i.close():(s=!0,r())},l=function(e){Pf(i,"sendRequest call when we're not connected not allowed."),i.sendRequest(e)};this.realtime_={close:o,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?ib("getToken() completed but was canceled"):(ib("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=l&&l.token,i=new Kb(n,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,e=>{db(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},a))}catch(lb){this.log_("Failed to get token: "+lb),s||(this.repoInfo_.nodeAdmin&&db(lb),o())}}}interrupt(e){ib("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ib("Resuming connection for reason: "+e),delete this.interruptReasons_[e],og(this.interruptReasons_)&&(this.reconnectDelay_=pv,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;r=t?t.map(e=>xb(e)).join("$"):"default";const n=this.removeListen_(e,r);n&&n.onComplete&&n.onComplete("permission_denied")}removeListen_(e,t){const r=new Jb(e).toString();let n;if(this.listens.has(r)){const e=this.listens.get(r);n=e.get(t),e.delete(t),0===e.size&&this.listens.delete(r)}else n=void 0;return n}onAuthRevoked_(e,t){ib("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ib("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Jf()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Kx.replace(/\./g,"-")]=1,$f()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$b.getInstance().currentlyOnline();return og(this.interruptReasons_)&&e}}mv.nextPersistentConnectionId_=0,mv.nextConnectionId_=0;class fv{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new fv(e,t)}}class gv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new fv(hb,e),n=new fv(hb,t);return 0!==this.compare(r,n)}minPost(){return fv.MIN}}let xv;class bv extends gv{static get __EMPTY_NODE(){return xv}static set __EMPTY_NODE(e){xv=e}compare(e,t){return mb(e.name,t.name)}isDefinedOn(e){throw Af("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return fv.MIN}maxPost(){return new fv(pb,xv)}makePost(e,t){return Pf("string"===typeof e,"KeyIndex indexValue must always be a string."),new fv(e,xv)}toString(){return".key"}}const vv=new bv;class yv{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=n,this.resultGenerator_=a,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,n&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class wv{constructor(e,t,r,n,a){this.key=e,this.value=t,this.color=null!=r?r:wv.RED,this.left=null!=n?n:jv.EMPTY_NODE,this.right=null!=a?a:jv.EMPTY_NODE}copy(e,t,r,n,a){return new wv(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=a?a:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this;const a=r(e,n.key);return n=a<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===a?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r)),n.fixUp_()}removeMin_(){if(this.left.isEmpty())return jv.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,n;if(r=this,t(e,r.key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===t(e,r.key)){if(r.right.isEmpty())return jv.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,wv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,wv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}wv.RED=!0,wv.BLACK=!1;class jv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jv.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new jv(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,wv.BLACK,null,null))}remove(e){return new jv(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,wv.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,n=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return n?n.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(n=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new yv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new yv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new yv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new yv(this.root_,null,this.comparator_,!0,e)}}function Nv(e,t){return mb(e.name,t.name)}function kv(e,t){return mb(e,t)}let Sv;jv.EMPTY_NODE=new class{copy(e,t,r,n,a){return this}insert(e,t,r){return new wv(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Cv=function(e){return"number"===typeof e?"number:"+yb(e):"string:"+e},_v=function(e){if(e.isLeafNode()){const t=e.val();Pf("string"===typeof t||"number"===typeof t||"object"===typeof t&&sg(t,".sv"),"Priority must be a string or number.")}else Pf(e===Sv||e.isEmpty(),"priority of unexpected type.");Pf(e===Sv||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Pv,Av,Dv;class Tv{static set __childrenNodeConstructor(e){Pv=e}static get __childrenNodeConstructor(){return Pv}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tv.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Pf(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),_v(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tv(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Tv.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return sv(e)?this:".priority"===Qb(e)?this.priorityNode_:Tv.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Tv.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=Qb(e);return null===r?t:t.isEmpty()&&".priority"!==r?this:(Pf(".priority"!==r||1===Zb(e),".priority must be the last token in a path"),this.updateImmediateChild(r,Tv.__childrenNodeConstructor.EMPTY_NODE.updateChild(ev(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Cv(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?yb(this.value_):this.value_,this.lazyHash_=tb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tv.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tv.__childrenNodeConstructor?-1:(Pf(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,n=Tv.VALUE_TYPE_ORDER.indexOf(t),a=Tv.VALUE_TYPE_ORDER.indexOf(r);return Pf(n>=0,"Unknown leaf type: "+t),Pf(a>=0,"Unknown leaf type: "+r),n===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-n}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Tv.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Lv=new class extends gv{compare(e,t){const r=e.node.getPriority(),n=t.node.getPriority(),a=r.compareTo(n);return 0===a?mb(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return fv.MIN}maxPost(){return new fv(pb,new Tv("[PRIORITY-POST]",Dv))}makePost(e,t){const r=Av(e);return new fv(t,new Tv("[PRIORITY-POST]",r))}toString(){return".priority"}},Ev=Math.log(2);class Iv{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ev,10)),this.current_=this.count-1;const r=(e=>parseInt(Array(e+1).join("1"),2))(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mv=function(e,t,r,n){e.sort(t);const a=function(t,n){const s=n-t;let i,o;if(0===s)return null;if(1===s)return i=e[t],o=r?r(i):i,new wv(o,i.node,wv.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=a(t,l),d=a(l+1,n);return i=e[l],o=r?r(i):i,new wv(o,i.node,wv.BLACK,c,d)}},s=function(t){let n=null,s=null,i=e.length;const o=function(t,n){const s=i-t,o=i;i-=t;const c=a(s+1,o),d=e[s],u=r?r(d):d;l(new wv(u,d.node,n,null,c))},l=function(e){n?(n.left=e,n=e):(s=e,n=e)};for(let e=0;e<t.count;++e){const r=t.nextBitIsOne(),n=Math.pow(2,t.count-(e+1));r?o(n,wv.BLACK):(o(n,wv.BLACK),o(n,wv.RED))}return s}(new Iv(e.length));return new jv(n||t,s)};let Rv;const Fv={};class zv{static get Default(){return Pf(Fv&&Lv,"ChildrenNode.ts has not been loaded"),Rv=Rv||new zv({".priority":Fv},{".priority":Lv}),Rv}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=ig(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof jv?t:null}hasIndex(e){return sg(this.indexSet_,e.toString())}addIndex(e,t){Pf(e!==vv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let n=!1;const a=t.getIterator(fv.Wrap);let s,i=a.getNext();for(;i;)n=n||e.isDefinedOn(i.node),r.push(i),i=a.getNext();s=n?Mv(r,e.getCompare()):Fv;const o=e.toString(),l=Ne({},this.indexSet_);l[o]=e;const c=Ne({},this.indexes_);return c[o]=s,new zv(c,l)}addToIndexes(e,t){const r=lg(this.indexes_,(r,n)=>{const a=ig(this.indexSet_,n);if(Pf(a,"Missing index implementation for "+n),r===Fv){if(a.isDefinedOn(e.node)){const r=[],n=t.getIterator(fv.Wrap);let s=n.getNext();for(;s;)s.name!==e.name&&r.push(s),s=n.getNext();return r.push(e),Mv(r,a.getCompare())}return Fv}{const n=t.get(e.name);let a=r;return n&&(a=a.remove(new fv(e.name,n))),a.insert(e,e.node)}});return new zv(r,this.indexSet_)}removeFromIndexes(e,t){const r=lg(this.indexes_,r=>{if(r===Fv)return r;{const n=t.get(e.name);return n?r.remove(new fv(e.name,n)):r}});return new zv(r,this.indexSet_)}}let Ov;class Bv{static get EMPTY_NODE(){return Ov||(Ov=new Bv(new jv(kv),null,zv.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_v(this.priorityNode_),this.children_.isEmpty()&&Pf(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ov}updatePriority(e){return this.children_.isEmpty()?this:new Bv(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Ov:t}}getChild(e){const t=Qb(e);return null===t?this:this.getImmediateChild(t).getChild(ev(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Pf(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const r=new fv(e,t);let n,a;t.isEmpty()?(n=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(n=this.children_.insert(e,t),a=this.indexMap_.addToIndexes(r,this.children_));const s=n.isEmpty()?Ov:this.priorityNode_;return new Bv(n,s,a)}}updateChild(e,t){const r=Qb(e);if(null===r)return t;{Pf(".priority"!==Qb(e)||1===Zb(e),".priority must be the last token in a path");const n=this.getImmediateChild(r).updateChild(ev(e),t);return this.updateImmediateChild(r,n)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,n=0,a=!0;if(this.forEachChild(Lv,(s,i)=>{t[s]=i.val(e),r++,a&&Bv.INTEGER_REGEXP_.test(s)?n=Math.max(n,Number(s)):a=!1}),!e&&a&&n<2*r){const e=[];for(const r in t)e[r]=t[r];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Cv(this.getPriority().val())+":"),this.forEachChild(Lv,(t,r)=>{const n=r.hash();""!==n&&(e+=":"+t+":"+n)}),this.lazyHash_=""===e?"":tb(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const n=this.resolveIndex_(r);if(n){const r=n.getPredecessorKey(new fv(e,t));return r?r.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new fv(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new fv(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,e=>e);{const r=this.children_.getIteratorFrom(e.name,fv.Wrap);let n=r.peek();for(;null!=n&&t.compare(n,e)<0;)r.getNext(),n=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,e=>e);{const r=this.children_.getReverseIteratorFrom(e.name,fv.Wrap);let n=r.peek();for(;null!=n&&t.compare(n,e)>0;)r.getNext(),n=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uv?-1:0}withIndex(e){if(e===vv||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Bv(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===vv||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Lv),r=t.getIterator(Lv);let n=e.getNext(),a=r.getNext();for(;n&&a;){if(n.name!==a.name||!n.node.equals(a.node))return!1;n=e.getNext(),a=r.getNext()}return null===n&&null===a}return!1}return!1}}resolveIndex_(e){return e===vv?null:this.indexMap_.get(e.toString())}}Bv.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Uv=new class extends Bv{constructor(){super(new jv(kv),Bv.EMPTY_NODE,zv.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Bv.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(fv,{MIN:{value:new fv(hb,Bv.EMPTY_NODE)},MAX:{value:new fv(pb,Uv)}}),bv.__EMPTY_NODE=Bv.EMPTY_NODE,Tv.__childrenNodeConstructor=Bv,Sv=Uv,function(e){Dv=e}(Uv);function qv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Bv.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Pf(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Tv(e,qv(t))}if(e instanceof Array){let r=Bv.EMPTY_NODE;return vb(e,(t,n)=>{if(sg(e,t)&&"."!==t.substring(0,1)){const e=qv(n);!e.isLeafNode()&&e.isEmpty()||(r=r.updateImmediateChild(t,e))}}),r.updatePriority(qv(t))}{const r=[];let n=!1;if(vb(e,(e,t)=>{if("."!==e.substring(0,1)){const a=qv(t);a.isEmpty()||(n=n||!a.getPriority().isEmpty(),r.push(new fv(e,a)))}}),0===r.length)return Bv.EMPTY_NODE;const a=Mv(r,Nv,e=>e.name,kv);if(n){const e=Mv(r,Lv.getCompare());return new Bv(a,qv(t),new zv({".priority":e},{".priority":Lv}))}return new Bv(a,qv(t),zv.Default)}}!function(e){Av=e}(qv);class Wv extends gv{constructor(e){super(),this.indexPath_=e,Pf(!sv(e)&&".priority"!==Qb(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),n=this.extractChild(t.node),a=r.compareTo(n);return 0===a?mb(e.name,t.name):a}makePost(e,t){const r=qv(e),n=Bv.EMPTY_NODE.updateChild(this.indexPath_,r);return new fv(t,n)}maxPost(){const e=Bv.EMPTY_NODE.updateChild(this.indexPath_,Uv);return new fv(pb,e)}toString(){return rv(this.indexPath_,0).join("/")}}const Hv=new class extends gv{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?mb(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return fv.MIN}maxPost(){return fv.MAX}makePost(e,t){const r=qv(e);return new fv(t,r)}toString(){return".value"}};function Vv(e){return{type:"value",snapshotNode:e}}function Kv(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Gv(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Yv(e,t,r){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:r}}class $v{constructor(e){this.index_=e}updateChild(e,t,r,n,a,s){Pf(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const i=e.getImmediateChild(t);return i.getChild(n).equals(r.getChild(n))&&i.isEmpty()===r.isEmpty()?e:(null!=s&&(r.isEmpty()?e.hasChild(t)?s.trackChildChange(Gv(t,i)):Pf(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):i.isEmpty()?s.trackChildChange(Kv(t,r)):s.trackChildChange(Yv(t,r,i))),e.isLeafNode()&&r.isEmpty()?e:e.updateImmediateChild(t,r).withIndex(this.index_))}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Lv,(e,n)=>{t.hasChild(e)||r.trackChildChange(Gv(e,n))}),t.isLeafNode()||t.forEachChild(Lv,(t,n)=>{if(e.hasChild(t)){const a=e.getImmediateChild(t);a.equals(n)||r.trackChildChange(Yv(t,n,a))}else r.trackChildChange(Kv(t,n))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Bv.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Jv{constructor(e){this.indexedFilter_=new $v(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Jv.getStartPost_(e),this.endPost_=Jv.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,n,a,s){return this.matches(new fv(t,r))||(r=Bv.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,n,a,s)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Bv.EMPTY_NODE);let n=t.withIndex(this.index_);n=n.updatePriority(Bv.EMPTY_NODE);const a=this;return t.forEachChild(Lv,(e,t)=>{a.matches(new fv(e,t))||(n=n.updateImmediateChild(e,Bv.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,n,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Xv{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Jv(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,n,a,s){return this.rangedFilter_.matches(new fv(t,r))||(r=Bv.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,n,a,s):this.fullLimitUpdateChild_(e,t,r,a,s)}updateFullNode(e,t,r){let n;if(t.isLeafNode()||t.isEmpty())n=Bv.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;n=Bv.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;e.hasNext()&&r<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;n=n.updateImmediateChild(t.name,t.node),r++}}}else{let e;n=t.withIndex(this.index_),n=n.updatePriority(Bv.EMPTY_NODE),e=this.reverse_?n.getReverseIterator(this.index_):n.getIterator(this.index_);let r=0;for(;e.hasNext();){const t=e.getNext();r<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?r++:n=n.updateImmediateChild(t.name,Bv.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,n,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,n,a){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,r)=>e(r,t)}else s=this.index_.getCompare();const i=e;Pf(i.numChildren()===this.limit_,"");const o=new fv(t,r),l=this.reverse_?i.getFirstChild(this.index_):i.getLastChild(this.index_),c=this.rangedFilter_.matches(o);if(i.hasChild(t)){const e=i.getImmediateChild(t);let d=n.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=d&&(d.name===t||i.hasChild(d.name));)d=n.getChildAfterChild(this.index_,d,this.reverse_);const u=null==d?1:s(d,o);if(c&&!r.isEmpty()&&u>=0)return null!=a&&a.trackChildChange(Yv(t,r,e)),i.updateImmediateChild(t,r);{null!=a&&a.trackChildChange(Gv(t,e));const r=i.updateImmediateChild(t,Bv.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=a&&a.trackChildChange(Kv(d.name,d.node)),r.updateImmediateChild(d.name,d.node)):r}}return r.isEmpty()?e:c&&s(l,o)>=0?(null!=a&&(a.trackChildChange(Gv(l.name,l.node)),a.trackChildChange(Kv(t,r))),i.updateImmediateChild(t,r).updateImmediateChild(l.name,Bv.EMPTY_NODE)):e}}class Qv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Lv}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Pf(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Pf(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hb}hasEnd(){return this.endSet_}getIndexEndValue(){return Pf(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Pf(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pb}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Pf(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Lv}copy(){const e=new Qv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Zv(e){const t={};if(e.isDefault())return t;let r;if(e.index_===Lv?r="$priority":e.index_===Hv?r="$value":e.index_===vv?r="$key":(Pf(e.index_ instanceof Wv,"Unrecognized index type!"),r=e.index_.toString()),t.orderBy=ng(r),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=ng(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ng(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ng(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ng(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ey(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let r=e.viewFrom_;""===r&&(r=e.isViewFromLeft()?"l":"r"),t.vf=r}return e.index_!==Lv&&(t.i=e.index_.toString()),t}class ty extends Gb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Pf(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,n){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=n,this.log_=ob("p:rest:"),this.listens_={}}listen(e,t,r,n){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const s=ty.getListenId_(e,r),i={};this.listens_[s]=i;const o=Zv(e._queryParams);this.restRequest_(a+".json",o,(e,t)=>{let o=t;if(404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(a,o,!1,r),ig(this.listens_,s)===i){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",n(t,null)}})}unlisten(e,t){const r=ty.getListenId_(e,t);delete this.listens_[r]}get(e){const t=Zv(e._queryParams),r=e._path.toString(),n=new Wf;return this.restRequest_(r+".json",t,(e,t)=>{let a=t;404===e&&(a=null,e=null),null===e?(this.onDataUpdate_(r,a,!1,null),n.resolve(a)):n.reject(new Error(a))}),n.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(n=>{let[a,s]=n;a&&a.accessToken&&(t.auth=a.accessToken),s&&s.token&&(t.ac=s.token);const i=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+i);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&4===o.readyState){this.log_("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=rg(o.responseText)}catch(_q){db("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,e)}else 401!==o.status&&404!==o.status&&db("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()})}}class ry{constructor(){this.rootNode_=Bv.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ny(){return{value:null,children:new Map}}function ay(e,t,r){if(sv(t))e.value=r,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,r);else{const n=Qb(t);e.children.has(n)||e.children.set(n,ny());ay(e.children.get(n),t=ev(t),r)}}function sy(e,t,r){null!==e.value?r(t,e.value):function(e,t){e.children.forEach((e,r)=>{t(r,e)})}(e,(e,n)=>{sy(n,new Jb(t.toString()+"/"+e),r)})}class iy{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Ne({},e);return this.last_&&vb(this.last_,(e,r)=>{t[e]=t[e]-r}),this.last_=e,t}}class oy{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new iy(e);const r=1e4+2e4*Math.random();kb(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;vb(e,(e,n)=>{n>0&&sg(this.statsToReport_,e)&&(t[e]=n,r=!0)}),r&&this.server_.reportStats(t),kb(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ly;function cy(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ly||(ly={}));class dy{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ly.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(sv(this.path)){if(null!=this.affectedTree.value)return Pf(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Jb(e));return new dy(Xb(),t,this.revert)}}return Pf(Qb(this.path)===e,"operationForChild called for unrelated child."),new dy(ev(this.path),this.affectedTree,this.revert)}}class uy{constructor(e,t){this.source=e,this.path=t,this.type=ly.LISTEN_COMPLETE}operationForChild(e){return sv(this.path)?new uy(this.source,Xb()):new uy(this.source,ev(this.path))}}class hy{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ly.OVERWRITE}operationForChild(e){return sv(this.path)?new hy(this.source,Xb(),this.snap.getImmediateChild(e)):new hy(this.source,ev(this.path),this.snap)}}class py{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ly.MERGE}operationForChild(e){if(sv(this.path)){const t=this.children.subtree(new Jb(e));return t.isEmpty()?null:t.value?new hy(this.source,Xb(),t.value):new py(this.source,Xb(),t)}return Pf(Qb(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new py(this.source,ev(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class my{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(sv(e))return this.isFullyInitialized()&&!this.filtered_;const t=Qb(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class fy{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gy(e,t,r,n,a,s){const i=n.filter(e=>e.type===r);i.sort((t,r)=>function(e,t,r){if(null==t.childName||null==r.childName)throw Af("Should only compare child_ events.");const n=new fv(t.childName,t.snapshotNode),a=new fv(r.childName,r.snapshotNode);return e.index_.compare(n,a)}(e,t,r)),i.forEach(r=>{const n=function(e,t,r){return"value"===t.type||"child_removed"===t.type||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,r,s);a.forEach(a=>{a.respondsTo(r.type)&&t.push(a.createEvent(n,e.query_))})})}function xy(e,t){return{eventCache:e,serverCache:t}}function by(e,t,r,n){return xy(new my(t,r,n),e.serverCache)}function vy(e,t,r,n){return xy(e.eventCache,new my(t,r,n))}function yy(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function wy(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let jy;class Ny{static fromObject(e){let t=new Ny(null);return vb(e,(e,r)=>{t=t.set(new Jb(e),r)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(jy||(jy=new jv(fb)),jy);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Xb(),value:this.value};if(sv(e))return null;{const r=Qb(e),n=this.children.get(r);if(null!==n){const a=n.findRootMostMatchingPathAndValue(ev(e),t);if(null!=a){return{path:av(new Jb(r),a.path),value:a.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(sv(e))return this;{const t=Qb(e),r=this.children.get(t);return null!==r?r.subtree(ev(e)):new Ny(null)}}set(e,t){if(sv(e))return new Ny(t,this.children);{const r=Qb(e),n=(this.children.get(r)||new Ny(null)).set(ev(e),t),a=this.children.insert(r,n);return new Ny(this.value,a)}}remove(e){if(sv(e))return this.children.isEmpty()?new Ny(null):new Ny(null,this.children);{const t=Qb(e),r=this.children.get(t);if(r){const n=r.remove(ev(e));let a;return a=n.isEmpty()?this.children.remove(t):this.children.insert(t,n),null===this.value&&a.isEmpty()?new Ny(null):new Ny(this.value,a)}return this}}get(e){if(sv(e))return this.value;{const t=Qb(e),r=this.children.get(t);return r?r.get(ev(e)):null}}setTree(e,t){if(sv(e))return t;{const r=Qb(e),n=(this.children.get(r)||new Ny(null)).setTree(ev(e),t);let a;return a=n.isEmpty()?this.children.remove(r):this.children.insert(r,n),new Ny(this.value,a)}}fold(e){return this.fold_(Xb(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((n,a)=>{r[n]=a.fold_(av(e,n),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Xb(),t)}findOnPath_(e,t,r){const n=!!this.value&&r(t,this.value);if(n)return n;if(sv(e))return null;{const n=Qb(e),a=this.children.get(n);return a?a.findOnPath_(ev(e),av(t,n),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Xb(),t)}foreachOnPath_(e,t,r){if(sv(e))return this;{this.value&&r(t,this.value);const n=Qb(e),a=this.children.get(n);return a?a.foreachOnPath_(ev(e),av(t,n),r):new Ny(null)}}foreach(e){this.foreach_(Xb(),e)}foreach_(e,t){this.children.inorderTraversal((r,n)=>{n.foreach_(av(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class ky{constructor(e){this.writeTree_=e}static empty(){return new ky(new Ny(null))}}function Sy(e,t,r){if(sv(t))return new ky(new Ny(r));{const n=e.writeTree_.findRootMostValueAndPath(t);if(null!=n){const a=n.path;let s=n.value;const i=iv(a,t);return s=s.updateChild(i,r),new ky(e.writeTree_.set(a,s))}{const n=new Ny(r),a=e.writeTree_.setTree(t,n);return new ky(a)}}}function Cy(e,t,r){let n=e;return vb(r,(e,r)=>{n=Sy(n,av(t,e),r)}),n}function _y(e,t){if(sv(t))return ky.empty();{const r=e.writeTree_.setTree(t,new Ny(null));return new ky(r)}}function Py(e,t){return null!=Ay(e,t)}function Ay(e,t){const r=e.writeTree_.findRootMostValueAndPath(t);return null!=r?e.writeTree_.get(r.path).getChild(iv(r.path,t)):null}function Dy(e){const t=[],r=e.writeTree_.value;return null!=r?r.isLeafNode()||r.forEachChild(Lv,(e,r)=>{t.push(new fv(e,r))}):e.writeTree_.children.inorderTraversal((e,r)=>{null!=r.value&&t.push(new fv(e,r.value))}),t}function Ty(e,t){if(sv(t))return e;{const r=Ay(e,t);return new ky(null!=r?new Ny(r):e.writeTree_.subtree(t))}}function Ly(e){return e.writeTree_.isEmpty()}function Ey(e,t){return Iy(Xb(),e.writeTree_,t)}function Iy(e,t,r){if(null!=t.value)return r.updateChild(e,t.value);{let n=null;return t.children.inorderTraversal((t,a)=>{".priority"===t?(Pf(null!==a.value,"Priority writes must always be leaf nodes"),n=a.value):r=Iy(av(e,t),a,r)}),r.getChild(e).isEmpty()||null===n||(r=r.updateChild(av(e,".priority"),n)),r}}function My(e,t){return Yy(t,e)}function Ry(e,t){const r=e.allWrites.findIndex(e=>e.writeId===t);Pf(r>=0,"removeWrite called with nonexistent writeId.");const n=e.allWrites[r];e.allWrites.splice(r,1);let a=n.visible,s=!1,i=e.allWrites.length-1;for(;a&&i>=0;){const t=e.allWrites[i];t.visible&&(i>=r&&Fy(t,n.path)?a=!1:lv(n.path,t.path)&&(s=!0)),i--}if(a){if(s)return function(e){e.visibleWrites=Oy(e.allWrites,zy,Xb()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(n.snap)e.visibleWrites=_y(e.visibleWrites,n.path);else{vb(n.children,t=>{e.visibleWrites=_y(e.visibleWrites,av(n.path,t))})}return!0}return!1}function Fy(e,t){if(e.snap)return lv(e.path,t);for(const r in e.children)if(e.children.hasOwnProperty(r)&&lv(av(e.path,r),t))return!0;return!1}function zy(e){return e.visible}function Oy(e,t,r){let n=ky.empty();for(let a=0;a<e.length;++a){const s=e[a];if(t(s)){const e=s.path;let t;if(s.snap)lv(r,e)?(t=iv(r,e),n=Sy(n,t,s.snap)):lv(e,r)&&(t=iv(e,r),n=Sy(n,Xb(),s.snap.getChild(t)));else{if(!s.children)throw Af("WriteRecord should have .snap or .children");if(lv(r,e))t=iv(r,e),n=Cy(n,t,s.children);else if(lv(e,r))if(t=iv(e,r),sv(t))n=Cy(n,Xb(),s.children);else{const e=ig(s.children,Qb(t));if(e){const r=e.getChild(ev(t));n=Sy(n,Xb(),r)}}}}}return n}function By(e,t,r,n,a){if(n||a){const s=Ty(e.visibleWrites,t);if(!a&&Ly(s))return r;if(a||null!=r||Py(s,Xb())){const s=function(e){return(e.visible||a)&&(!n||!~n.indexOf(e.writeId))&&(lv(e.path,t)||lv(t,e.path))};return Ey(Oy(e.allWrites,s,t),r||Bv.EMPTY_NODE)}return null}{const n=Ay(e.visibleWrites,t);if(null!=n)return n;{const n=Ty(e.visibleWrites,t);if(Ly(n))return r;if(null!=r||Py(n,Xb())){return Ey(n,r||Bv.EMPTY_NODE)}return null}}}function Uy(e,t,r,n){return By(e.writeTree,e.treePath,t,r,n)}function qy(e,t){return function(e,t,r){let n=Bv.EMPTY_NODE;const a=Ay(e.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Lv,(e,t)=>{n=n.updateImmediateChild(e,t)}),n;if(r){const a=Ty(e.visibleWrites,t);return r.forEachChild(Lv,(e,t)=>{const r=Ey(Ty(a,new Jb(e)),t);n=n.updateImmediateChild(e,r)}),Dy(a).forEach(e=>{n=n.updateImmediateChild(e.name,e.node)}),n}return Dy(Ty(e.visibleWrites,t)).forEach(e=>{n=n.updateImmediateChild(e.name,e.node)}),n}(e.writeTree,e.treePath,t)}function Wy(e,t,r,n){return function(e,t,r,n,a){Pf(n||a,"Either existingEventSnap or existingServerSnap must exist");const s=av(t,r);if(Py(e.visibleWrites,s))return null;{const t=Ty(e.visibleWrites,s);return Ly(t)?a.getChild(r):Ey(t,a.getChild(r))}}(e.writeTree,e.treePath,t,r,n)}function Hy(e,t){return function(e,t){return Ay(e.visibleWrites,t)}(e.writeTree,av(e.treePath,t))}function Vy(e,t,r,n,a,s){return function(e,t,r,n,a,s,i){let o;const l=Ty(e.visibleWrites,t),c=Ay(l,Xb());if(null!=c)o=c;else{if(null==r)return[];o=Ey(l,r)}if(o=o.withIndex(i),o.isEmpty()||o.isLeafNode())return[];{const e=[],t=i.getCompare(),r=s?o.getReverseIteratorFrom(n,i):o.getIteratorFrom(n,i);let l=r.getNext();for(;l&&e.length<a;)0!==t(l,n)&&e.push(l),l=r.getNext();return e}}(e.writeTree,e.treePath,t,r,n,a,s)}function Ky(e,t,r){return function(e,t,r,n){const a=av(t,r),s=Ay(e.visibleWrites,a);if(null!=s)return s;if(n.isCompleteForChild(r))return Ey(Ty(e.visibleWrites,a),n.getNode().getImmediateChild(r));return null}(e.writeTree,e.treePath,t,r)}function Gy(e,t){return Yy(av(e.treePath,t),e.writeTree)}function Yy(e,t){return{treePath:e,writeTree:t}}class $y{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;Pf("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Pf(".priority"!==r,"Only non-priority child changes can be tracked.");const n=this.changeMap.get(r);if(n){const a=n.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(r,Yv(r,e.snapshotNode,n.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(r,Gv(r,n.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(r,Kv(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw Af("Illegal combination of changes: "+e+" occurred after "+n);this.changeMap.set(r,Yv(r,e.snapshotNode,n.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const Jy=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class Xy{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new my(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ky(this.writes_,e,t)}}getChildAfterChild(e,t,r){const n=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wy(this.viewCache_),a=Vy(this.writes_,n,t,1,r,e);return 0===a.length?null:a[0]}}function Qy(e,t,r,n,a){const s=new $y;let i,o;if(r.type===ly.OVERWRITE){const l=r;l.source.fromUser?i=tw(e,t,l.path,l.snap,n,a,s):(Pf(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered()&&!sv(l.path),i=ew(e,t,l.path,l.snap,n,a,o,s))}else if(r.type===ly.MERGE){const l=r;l.source.fromUser?i=function(e,t,r,n,a,s,i){let o=t;return n.foreach((n,l)=>{const c=av(r,n);rw(t,Qb(c))&&(o=tw(e,o,c,l,a,s,i))}),n.foreach((n,l)=>{const c=av(r,n);rw(t,Qb(c))||(o=tw(e,o,c,l,a,s,i))}),o}(e,t,l.path,l.children,n,a,s):(Pf(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),i=aw(e,t,l.path,l.children,n,a,o,s))}else if(r.type===ly.ACK_USER_WRITE){const o=r;i=o.revert?function(e,t,r,n,a,s){let i;if(null!=Hy(n,r))return t;{const o=new Xy(n,t,a),l=t.eventCache.getNode();let c;if(sv(r)||".priority"===Qb(r)){let r;if(t.serverCache.isFullyInitialized())r=Uy(n,wy(t));else{const e=t.serverCache.getNode();Pf(e instanceof Bv,"serverChildren would be complete if leaf node"),r=qy(n,e)}c=e.filter.updateFullNode(l,r,s)}else{const a=Qb(r);let d=Ky(n,a,t.serverCache);null==d&&t.serverCache.isCompleteForChild(a)&&(d=l.getImmediateChild(a)),c=null!=d?e.filter.updateChild(l,a,d,ev(r),o,s):t.eventCache.getNode().hasChild(a)?e.filter.updateChild(l,a,Bv.EMPTY_NODE,ev(r),o,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(i=Uy(n,wy(t)),i.isLeafNode()&&(c=e.filter.updateFullNode(c,i,s)))}return i=t.serverCache.isFullyInitialized()||null!=Hy(n,Xb()),by(t,c,i,e.filter.filtersNodes())}}(e,t,o.path,n,a,s):function(e,t,r,n,a,s,i){if(null!=Hy(a,r))return t;const o=t.serverCache.isFiltered(),l=t.serverCache;if(null!=n.value){if(sv(r)&&l.isFullyInitialized()||l.isCompleteForPath(r))return ew(e,t,r,l.getNode().getChild(r),a,s,o,i);if(sv(r)){let n=new Ny(null);return l.getNode().forEachChild(vv,(e,t)=>{n=n.set(new Jb(e),t)}),aw(e,t,r,n,a,s,o,i)}return t}{let c=new Ny(null);return n.foreach((e,t)=>{const n=av(r,e);l.isCompleteForPath(n)&&(c=c.set(e,l.getNode().getChild(n)))}),aw(e,t,r,c,a,s,o,i)}}(e,t,o.path,o.affectedTree,n,a,s)}else{if(r.type!==ly.LISTEN_COMPLETE)throw Af("Unknown operation type: "+r.type);i=function(e,t,r,n,a){const s=t.serverCache,i=vy(t,s.getNode(),s.isFullyInitialized()||sv(r),s.isFiltered());return Zy(e,i,r,n,Jy,a)}(e,t,r.path,n,s)}const l=s.getChanges();return function(e,t,r){const n=t.eventCache;if(n.isFullyInitialized()){const a=n.getNode().isLeafNode()||n.getNode().isEmpty(),s=yy(e);(r.length>0||!e.eventCache.isFullyInitialized()||a&&!n.getNode().equals(s)||!n.getNode().getPriority().equals(s.getPriority()))&&r.push(Vv(yy(t)))}}(t,i,l),{viewCache:i,changes:l}}function Zy(e,t,r,n,a,s){const i=t.eventCache;if(null!=Hy(n,r))return t;{let o,l;if(sv(r))if(Pf(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const r=wy(t),a=qy(n,r instanceof Bv?r:Bv.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),a,s)}else{const r=Uy(n,wy(t));o=e.filter.updateFullNode(t.eventCache.getNode(),r,s)}else{const c=Qb(r);if(".priority"===c){Pf(1===Zb(r),"Can't have a priority with additional path components");const a=i.getNode();l=t.serverCache.getNode();const s=Wy(n,r,a,l);o=null!=s?e.filter.updatePriority(a,s):i.getNode()}else{const d=ev(r);let u;if(i.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Wy(n,r,i.getNode(),l);u=null!=e?i.getNode().getImmediateChild(c).updateChild(d,e):i.getNode().getImmediateChild(c)}else u=Ky(n,c,t.serverCache);o=null!=u?e.filter.updateChild(i.getNode(),c,u,d,a,s):i.getNode()}}return by(t,o,i.isFullyInitialized()||sv(r),e.filter.filtersNodes())}}function ew(e,t,r,n,a,s,i,o){const l=t.serverCache;let c;const d=i?e.filter:e.filter.getIndexedFilter();if(sv(r))c=d.updateFullNode(l.getNode(),n,null);else if(d.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(r,n);c=d.updateFullNode(l.getNode(),e,null)}else{const e=Qb(r);if(!l.isCompleteForPath(r)&&Zb(r)>1)return t;const a=ev(r),s=l.getNode().getImmediateChild(e).updateChild(a,n);c=".priority"===e?d.updatePriority(l.getNode(),s):d.updateChild(l.getNode(),e,s,a,Jy,null)}const u=vy(t,c,l.isFullyInitialized()||sv(r),d.filtersNodes());return Zy(e,u,r,a,new Xy(a,u,s),o)}function tw(e,t,r,n,a,s,i){const o=t.eventCache;let l,c;const d=new Xy(a,t,s);if(sv(r))c=e.filter.updateFullNode(t.eventCache.getNode(),n,i),l=by(t,c,!0,e.filter.filtersNodes());else{const a=Qb(r);if(".priority"===a)c=e.filter.updatePriority(t.eventCache.getNode(),n),l=by(t,c,o.isFullyInitialized(),o.isFiltered());else{const s=ev(r),c=o.getNode().getImmediateChild(a);let u;if(sv(s))u=n;else{const e=d.getCompleteChild(a);u=null!=e?".priority"===tv(s)&&e.getChild(nv(s)).isEmpty()?e:e.updateChild(s,n):Bv.EMPTY_NODE}if(c.equals(u))l=t;else{l=by(t,e.filter.updateChild(o.getNode(),a,u,s,d,i),o.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function rw(e,t){return e.eventCache.isCompleteForChild(t)}function nw(e,t,r){return r.foreach((e,r)=>{t=t.updateChild(e,r)}),t}function aw(e,t,r,n,a,s,i,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=sv(r)?n:new Ny(null).setTree(r,n);const d=t.serverCache.getNode();return l.children.inorderTraversal((r,n)=>{if(d.hasChild(r)){const l=nw(0,t.serverCache.getNode().getImmediateChild(r),n);c=ew(e,c,new Jb(r),l,a,s,i,o)}}),l.children.inorderTraversal((r,n)=>{const l=!t.serverCache.isCompleteForChild(r)&&null===n.value;if(!d.hasChild(r)&&!l){const l=nw(0,t.serverCache.getNode().getImmediateChild(r),n);c=ew(e,c,new Jb(r),l,a,s,i,o)}}),c}class sw{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,n=new $v(r.getIndex()),a=(s=r).loadsAllData()?new $v(s.getIndex()):s.hasLimit()?new Xv(s):new Jv(s);var s;this.processor_=function(e){return{filter:e}}(a);const i=t.serverCache,o=t.eventCache,l=n.updateFullNode(Bv.EMPTY_NODE,i.getNode(),null),c=a.updateFullNode(Bv.EMPTY_NODE,o.getNode(),null),d=new my(l,i.isFullyInitialized(),n.filtersNodes()),u=new my(c,o.isFullyInitialized(),a.filtersNodes());this.viewCache_=xy(u,d),this.eventGenerator_=new fy(this.query_)}get query(){return this.query_}}function iw(e,t){const r=wy(e.viewCache_);return r&&(e.query._queryParams.loadsAllData()||!sv(t)&&!r.getImmediateChild(Qb(t)).isEmpty())?r.getChild(t):null}function ow(e){return 0===e.eventRegistrations_.length}function lw(e,t,r){const n=[];if(r){Pf(null==t,"A cancel should cancel all event registrations.");const a=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(r,a);t&&n.push(t)})}if(t){let r=[];for(let n=0;n<e.eventRegistrations_.length;++n){const a=e.eventRegistrations_[n];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(n+1));break}}else r.push(a)}e.eventRegistrations_=r}else e.eventRegistrations_=[];return n}function cw(e,t,r,n){t.type===ly.MERGE&&null!==t.source.queryId&&(Pf(wy(e.viewCache_),"We should always have a full cache before handling merges"),Pf(yy(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,s=Qy(e.processor_,a,t,r,n);var i,o;return i=e.processor_,o=s.viewCache,Pf(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Pf(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Pf(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,dw(e,s.changes,s.viewCache.eventCache.getNode(),null)}function dw(e,t,r,n){const a=n?[n]:e.eventRegistrations_;return function(e,t,r,n){const a=[],s=[];return t.forEach(t=>{var r;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((r=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:r}))}),gy(e,a,"child_removed",t,n,r),gy(e,a,"child_added",t,n,r),gy(e,a,"child_moved",s,n,r),gy(e,a,"child_changed",t,n,r),gy(e,a,"value",t,n,r),a}(e.eventGenerator_,t,r,a)}let uw,hw;class pw{constructor(){this.views=new Map}}function mw(e,t,r,n){const a=t.source.queryId;if(null!==a){const s=e.views.get(a);return Pf(null!=s,"SyncTree gave us an op for an invalid query."),cw(s,t,r,n)}{let a=[];for(const s of e.views.values())a=a.concat(cw(s,t,r,n));return a}}function fw(e,t,r,n,a){const s=t._queryIdentifier,i=e.views.get(s);if(!i){let e=Uy(r,a?n:null),s=!1;e?s=!0:n instanceof Bv?(e=qy(r,n),s=!1):(e=Bv.EMPTY_NODE,s=!1);const i=xy(new my(e,s,!1),new my(n,a,!1));return new sw(t,i)}return i}function gw(e,t,r,n,a,s){const i=fw(e,t,n,a,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,i),function(e,t){e.eventRegistrations_.push(t)}(i,r),function(e,t){const r=e.viewCache_.eventCache,n=[];r.getNode().isLeafNode()||r.getNode().forEachChild(Lv,(e,t)=>{n.push(Kv(e,t))});return r.isFullyInitialized()&&n.push(Vv(r.getNode())),dw(e,n,r.getNode(),t)}(i,r)}function xw(e,t,r,n){const a=t._queryIdentifier,s=[];let i=[];const o=jw(e);if("default"===a)for(const[l,c]of e.views.entries())i=i.concat(lw(c,r,n)),ow(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(a);t&&(i=i.concat(lw(t,r,n)),ow(t)&&(e.views.delete(a),t.query._queryParams.loadsAllData()||s.push(t.query)))}return o&&!jw(e)&&s.push(new(Pf(uw,"Reference.ts has not been loaded"),uw)(t._repo,t._path)),{removed:s,events:i}}function bw(e){const t=[];for(const r of e.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function vw(e,t){let r=null;for(const n of e.views.values())r=r||iw(n,t);return r}function yw(e,t){if(t._queryParams.loadsAllData())return Nw(e);{const r=t._queryIdentifier;return e.views.get(r)}}function ww(e,t){return null!=yw(e,t)}function jw(e){return null!=Nw(e)}function Nw(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let kw=1;class Sw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ny(null),this.pendingWriteTree_={visibleWrites:ky.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Cw(e,t,r,n,a){return function(e,t,r,n,a){Pf(n>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),e.allWrites.push({path:t,snap:r,writeId:n,visible:a}),a&&(e.visibleWrites=Sy(e.visibleWrites,t,r)),e.lastWriteId=n}(e.pendingWriteTree_,t,r,n,a),a?Ew(e,new hy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r)):[]}function _w(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(e,t){for(let r=0;r<e.allWrites.length;r++){const n=e.allWrites[r];if(n.writeId===t)return n}return null}(e.pendingWriteTree_,t);if(Ry(e.pendingWriteTree_,t)){let t=new Ny(null);return null!=n.snap?t=t.set(Xb(),!0):vb(n.children,e=>{t=t.set(new Jb(e),!0)}),Ew(e,new dy(n.path,t,r))}return[]}function Pw(e,t,r){return Ew(e,new hy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}function Aw(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,i=e.syncPointTree_.get(s);let o=[];if(i&&("default"===t._queryIdentifier||ww(i,t))){const l=xw(i,t,r,n);0===i.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!a){const r=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),a=e.syncPointTree_.findOnPath(s,(e,t)=>jw(t));if(r&&!a){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const r=function(e){return e.fold((e,t,r)=>{if(t&&jw(t)){return[Nw(t)]}{let e=[];return t&&(e=bw(t)),vb(r,(t,r)=>{e=e.concat(r)}),e}})}(t);for(let t=0;t<r.length;++t){const n=r[t],a=n.query,s=Rw(e,n);e.listenProvider_.startListening(qw(a),Fw(e,a),s.hashFn,s.onComplete)}}}if(!a&&c.length>0&&!n)if(r){const r=null;e.listenProvider_.stopListening(qw(t),r)}else c.forEach(t=>{const r=e.queryToTagMap.get(zw(t));e.listenProvider_.stopListening(qw(t),r)})}!function(e,t){for(let r=0;r<t.length;++r){const n=t[r];if(!n._queryParams.loadsAllData()){const t=zw(n),r=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(r)}}}(e,c)}return o}function Dw(e,t,r,n){const a=Ow(e,n);if(null!=a){const n=Bw(a),s=n.path,i=n.queryId,o=iv(s,t);return Uw(e,s,new hy(cy(i),o,r))}return[]}function Tw(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=t._path;let s=null,i=!1;e.syncPointTree_.foreachOnPath(a,(e,t)=>{const r=iv(e,a);s=s||vw(t,r),i=i||jw(t)});let o,l=e.syncPointTree_.get(a);if(l?(i=i||jw(l),s=s||vw(l,Xb())):(l=new pw,e.syncPointTree_=e.syncPointTree_.set(a,l)),null!=s)o=!0;else{o=!1,s=Bv.EMPTY_NODE;e.syncPointTree_.subtree(a).foreachChild((e,t)=>{const r=vw(t,Xb());r&&(s=s.updateImmediateChild(e,r))})}const c=ww(l,t);if(!c&&!t._queryParams.loadsAllData()){const r=zw(t);Pf(!e.queryToTagMap.has(r),"View does not exist, but we have a tag");const n=kw++;e.queryToTagMap.set(r,n),e.tagToQueryMap.set(n,r)}let d=gw(l,t,r,My(e.pendingWriteTree_,a),s,o);if(!c&&!i&&!n){const r=yw(l,t);d=d.concat(function(e,t,r){const n=t._path,a=Fw(e,t),s=Rw(e,r),i=e.listenProvider_.startListening(qw(t),a,s.hashFn,s.onComplete),o=e.syncPointTree_.subtree(n);if(a)Pf(!jw(o.value),"If we're adding a query, it shouldn't be shadowed");else{const t=o.fold((e,t,r)=>{if(!sv(e)&&t&&jw(t))return[Nw(t).query];{let e=[];return t&&(e=e.concat(bw(t).map(e=>e.query))),vb(r,(t,r)=>{e=e.concat(r)}),e}});for(let r=0;r<t.length;++r){const n=t[r];e.listenProvider_.stopListening(qw(n),Fw(e,n))}}return i}(e,t,r))}return d}function Lw(e,t,r){const n=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(e,r)=>{const n=vw(r,iv(e,t));if(n)return n});return By(n,t,a,r,!0)}function Ew(e,t){return Iw(t,e.syncPointTree_,null,My(e.pendingWriteTree_,Xb()))}function Iw(e,t,r,n){if(sv(e.path))return Mw(e,t,r,n);{const a=t.get(Xb());null==r&&null!=a&&(r=vw(a,Xb()));let s=[];const i=Qb(e.path),o=e.operationForChild(i),l=t.children.get(i);if(l&&o){const e=r?r.getImmediateChild(i):null,t=Gy(n,i);s=s.concat(Iw(o,l,e,t))}return a&&(s=s.concat(mw(a,e,n,r))),s}}function Mw(e,t,r,n){const a=t.get(Xb());null==r&&null!=a&&(r=vw(a,Xb()));let s=[];return t.children.inorderTraversal((t,a)=>{const i=r?r.getImmediateChild(t):null,o=Gy(n,t),l=e.operationForChild(t);l&&(s=s.concat(Mw(l,a,i,o)))}),a&&(s=s.concat(mw(a,e,n,r))),s}function Rw(e,t){const r=t.query,n=Fw(e,r);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Bv.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return n?function(e,t,r){const n=Ow(e,r);if(n){const r=Bw(n),a=r.path,s=r.queryId,i=iv(a,t);return Uw(e,a,new uy(cy(s),i))}return[]}(e,r._path,n):function(e,t){return Ew(e,new uy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,r._path);{const n=function(e,t){let r="Unknown Error";"too_big"===e?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?r="Client doesn't have permission to access the desired data.":"unavailable"===e&&(r="The service is unavailable");const n=new Error(e+" at "+t._path.toString()+": "+r);return n.code=e.toUpperCase(),n}(t,r);return Aw(e,r,null,n)}}}}function Fw(e,t){const r=zw(t);return e.queryToTagMap.get(r)}function zw(e){return e._path.toString()+"$"+e._queryIdentifier}function Ow(e,t){return e.tagToQueryMap.get(t)}function Bw(e){const t=e.indexOf("$");return Pf(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Jb(e.substr(0,t))}}function Uw(e,t,r){const n=e.syncPointTree_.get(t);Pf(n,"Missing sync point for query tag that we're tracking");return mw(n,r,My(e.pendingWriteTree_,t),null)}function qw(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Pf(hw,"Reference.ts has not been loaded"),hw)(e._repo,e._path):e}class Ww{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ww(t)}node(){return this.node_}}class Hw{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=av(this.path_,e);return new Hw(this.syncTree_,t)}node(){return Lw(this.syncTree_,this.path_)}}const Vw=function(e,t,r){return e&&"object"===typeof e?(Pf(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Kw(e[".sv"],t,r):"object"===typeof e[".sv"]?Gw(e[".sv"],t):void Pf(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Kw=function(e,t,r){if("timestamp"===e)return r.timestamp;Pf(!1,"Unexpected server value: "+e)},Gw=function(e,t,r){e.hasOwnProperty("increment")||Pf(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const n=e.increment;"number"!==typeof n&&Pf(!1,"Unexpected increment value: "+n);const a=t.node();if(Pf(null!==a&&"undefined"!==typeof a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return n;const s=a.getValue();return"number"!==typeof s?n:s+n},Yw=function(e,t,r,n){return Jw(t,new Hw(r,e),n)},$w=function(e,t,r){return Jw(e,new Ww(t),r)};function Jw(e,t,r){const n=e.getPriority().val(),a=Vw(n,t.getImmediateChild(".priority"),r);let s;if(e.isLeafNode()){const n=e,s=Vw(n.getValue(),t,r);return s!==n.getValue()||a!==n.getPriority().val()?new Tv(s,qv(a)):e}{const n=e;return s=n,a!==n.getPriority().val()&&(s=s.updatePriority(new Tv(a))),n.forEachChild(Lv,(e,n)=>{const a=Jw(n,t.getImmediateChild(e),r);a!==n&&(s=s.updateImmediateChild(e,a))}),s}}class Xw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=r}}function Qw(e,t){let r=t instanceof Jb?t:new Jb(t),n=e,a=Qb(r);for(;null!==a;){const e=ig(n.node.children,a)||{children:{},childCount:0};n=new Xw(a,n,e),r=ev(r),a=Qb(r)}return n}function Zw(e){return e.node.value}function ej(e,t){e.node.value=t,sj(e)}function tj(e){return e.node.childCount>0}function rj(e,t){vb(e.node.children,(r,n)=>{t(new Xw(r,e,n))})}function nj(e,t,r,n){r&&!n&&t(e),rj(e,e=>{nj(e,t,!0,n)}),r&&n&&t(e)}function aj(e){return new Jb(null===e.parent?e.name:aj(e.parent)+"/"+e.name)}function sj(e){null!==e.parent&&function(e,t,r){const n=function(e){return void 0===Zw(e)&&!tj(e)}(r),a=sg(e.node.children,t);n&&a?(delete e.node.children[t],e.node.childCount--,sj(e)):n||a||(e.node.children[t]=r.node,e.node.childCount++,sj(e))}(e.parent,e.name,e)}const ij=/[\[\].#$\/\u0000-\u001F\u007F]/,oj=/[\[\].#$\u0000-\u001F\u007F]/,lj=10485760,cj=function(e){return"string"===typeof e&&0!==e.length&&!ij.test(e)},dj=function(e){return"string"===typeof e&&0!==e.length&&!oj.test(e)},uj=function(e,t,r){const n=r instanceof Jb?new cv(r,e):r;if(void 0===t)throw new Error(e+"contains undefined "+uv(n));if("function"===typeof t)throw new Error(e+"contains a function "+uv(n)+" with contents = "+t.toString());if(ub(t))throw new Error(e+"contains "+t.toString()+" "+uv(n));if("string"===typeof t&&t.length>lj/3&&pg(t)>lj)throw new Error(e+"contains a string greater than "+lj+" utf8 bytes "+uv(n)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let r=!1,a=!1;if(vb(t,(t,s)=>{if(".value"===t)r=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!cj(t)))throw new Error(e+" contains an invalid key ("+t+") "+uv(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=pg(t),dv(e)}(n,t),uj(e,s,n),function(e){const t=e.parts_.pop();e.byteLength_-=pg(t),e.parts_.length>0&&(e.byteLength_-=1)}(n)}),r&&a)throw new Error(e+' contains ".value" child '+uv(n)+" in addition to actual children.")}},hj=function(e,t,r,n){if((!n||void 0!==r)&&!dj(r))throw new Error(hg(e,t)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pj=function(e,t){const r=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!cj(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),dj(e)}(r))throw new Error(hg(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class mj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fj(e,t){let r=null;for(let n=0;n<t.length;n++){const a=t[n],s=a.getPath();null===r||ov(s,r.path)||(e.eventLists_.push(r),r=null),null===r&&(r={events:[],path:s}),r.events.push(a)}r&&e.eventLists_.push(r)}function gj(e,t,r){fj(e,r),bj(e,e=>ov(e,t))}function xj(e,t,r){fj(e,r),bj(e,e=>lv(e,t)||lv(t,e))}function bj(e,t){e.recursionDepth_++;let r=!0;for(let n=0;n<e.eventLists_.length;n++){const a=e.eventLists_[n];if(a){t(a.path)?(vj(e.eventLists_[n]),e.eventLists_[n]=null):r=!1}}r&&(e.eventLists_=[]),e.recursionDepth_--}function vj(e){for(let t=0;t<e.events.length;t++){const r=e.events[t];if(null!==r){e.events[t]=null;const n=r.getEventRunner();nb&&ib("event: "+r.toString()),Nb(n)}}}const yj="repo_interrupt";class wj{constructor(e,t,r,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ny(),this.transactionQueueTree_=new Xw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jj(e,t,r){if(e.stats_=zb(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ty(e.repoInfo_,(t,r,n,a)=>{Sj(e,t,r,n,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Cj(e,!0),0);else{if("undefined"!==typeof r&&null!==r){if("object"!==typeof r)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ng(r)}catch(_q){throw new Error("Invalid authOverride provided: "+_q)}}e.persistentConnection_=new mv(e.repoInfo_,t,(t,r,n,a)=>{Sj(e,t,r,n,a)},t=>{Cj(e,t)},t=>{!function(e,t){vb(t,(t,r)=>{_j(e,t,r)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,r),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const r=e.toString();return Fb[r]||(Fb[r]=t()),Fb[r]}(e.repoInfo_,()=>new oy(e.stats_,e.server_)),e.infoData_=new ry,e.infoSyncTree_=new Sw({startListening:(t,r,n,a)=>{let s=[];const i=e.infoData_.getNode(t._path);return i.isEmpty()||(s=Pw(e.infoSyncTree_,t._path,i),setTimeout(()=>{a("ok")},0)),s},stopListening:()=>{}}),_j(e,"connected",!1),e.serverSyncTree_=new Sw({startListening:(t,r,n,a)=>(e.server_.listen(t,n,r,(r,n)=>{const s=a(r,n);xj(e.eventQueue_,t._path,s)}),[]),stopListening:(t,r)=>{e.server_.unlisten(t,r)}})}function Nj(e){const t=e.infoData_.getNode(new Jb(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function kj(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:Nj(e)})}function Sj(e,t,r,n,a){e.dataUpdateCount++;const s=new Jb(t);r=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,r):r;let i=[];if(a)if(n){const t=lg(r,e=>qv(e));i=function(e,t,r,n){const a=Ow(e,n);if(a){const n=Bw(a),s=n.path,i=n.queryId,o=iv(s,t),l=Ny.fromObject(r);return Uw(e,s,new py(cy(i),o,l))}return[]}(e.serverSyncTree_,s,t,a)}else{const t=qv(r);i=Dw(e.serverSyncTree_,s,t,a)}else if(n){const t=lg(r,e=>qv(e));i=function(e,t,r){const n=Ny.fromObject(r);return Ew(e,new py({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}(e.serverSyncTree_,s,t)}else{const t=qv(r);i=Pw(e.serverSyncTree_,s,t)}let o=s;i.length>0&&(o=Ij(e,s)),xj(e.eventQueue_,o,i)}function Cj(e,t){_j(e,"connected",t),!1===t&&function(e){Tj(e,"onDisconnectEvents");const t=kj(e),r=ny();sy(e.onDisconnect_,Xb(),(n,a)=>{const s=Yw(n,a,e.serverSyncTree_,t);ay(r,n,s)});let n=[];sy(r,Xb(),(t,r)=>{n=n.concat(Pw(e.serverSyncTree_,t,r));const a=Oj(e,t);Ij(e,a)}),e.onDisconnect_=ny(),xj(e.eventQueue_,Xb(),n)}(e)}function _j(e,t,r){const n=new Jb("/.info/"+t),a=qv(r);e.infoData_.updateSnapshot(n,a);const s=Pw(e.infoSyncTree_,n,a);xj(e.eventQueue_,n,s)}function Pj(e){return e.nextWriteId_++}function Aj(e,t,r){let n;n=".info"===Qb(t._path)?Aw(e.infoSyncTree_,t,r):Aw(e.serverSyncTree_,t,r),gj(e.eventQueue_,t._path,n)}function Dj(e){e.persistentConnection_&&e.persistentConnection_.interrupt(yj)}function Tj(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];ib(t,...n)}function Lj(e,t,r){return Lw(e.serverSyncTree_,t,r)||Bv.EMPTY_NODE}function Ej(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||zj(e,t),Zw(t)){const r=Rj(e,t);Pf(r.length>0,"Sending zero length transaction queue");r.every(e=>0===e.status)&&function(e,t,r){const n=r.map(e=>e.currentWriteId),a=Lj(e,t,n);let s=a;const i=a.hash();for(let c=0;c<r.length;c++){const e=r[c];Pf(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const n=iv(t,e.path);s=s.updateChild(n,e.currentOutputSnapshotRaw)}const o=s.val(!0),l=t;e.server_.put(l.toString(),o,n=>{Tj(e,"transaction put response",{path:l.toString(),status:n});let a=[];if("ok"===n){const n=[];for(let t=0;t<r.length;t++)r[t].status=2,a=a.concat(_w(e.serverSyncTree_,r[t].currentWriteId)),r[t].onComplete&&n.push(()=>r[t].onComplete(null,!0,r[t].currentOutputSnapshotResolved)),r[t].unwatcher();zj(e,Qw(e.transactionQueueTree_,t)),Ej(e,e.transactionQueueTree_),xj(e.eventQueue_,t,a);for(let e=0;e<n.length;e++)Nb(n[e])}else{if("datastale"===n)for(let e=0;e<r.length;e++)3===r[e].status?r[e].status=4:r[e].status=0;else{db("transaction at "+l.toString()+" failed: "+n);for(let e=0;e<r.length;e++)r[e].status=4,r[e].abortReason=n}Ij(e,t)}},i)}(e,aj(t),r)}else tj(t)&&rj(t,t=>{Ej(e,t)})}function Ij(e,t){const r=Mj(e,t),n=aj(r);return function(e,t,r){if(0===t.length)return;const n=[];let a=[];const s=t.filter(e=>0===e.status),i=s.map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const s=t[o],l=iv(r,s.path);let c,d=!1;if(Pf(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)d=!0,c=s.abortReason,a=a.concat(_w(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)d=!0,c="maxretry",a=a.concat(_w(e.serverSyncTree_,s.currentWriteId,!0));else{const r=Lj(e,s.path,i);s.currentInputSnapshot=r;const n=t[o].update(r.val());if(void 0!==n){uj("transaction failed: Data returned ",n,s.path);let t=qv(n);"object"===typeof n&&null!=n&&sg(n,".priority")||(t=t.updatePriority(r.getPriority()));const o=s.currentWriteId,l=kj(e),c=$w(t,r,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=Pj(e),i.splice(i.indexOf(o),1),a=a.concat(Cw(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),a=a.concat(_w(e.serverSyncTree_,o,!0))}else d=!0,c="nodata",a=a.concat(_w(e.serverSyncTree_,s.currentWriteId,!0))}xj(e.eventQueue_,r,a),a=[],d&&(t[o].status=2,function(e){setTimeout(e,Math.floor(0))}(t[o].unwatcher),t[o].onComplete&&("nodata"===c?n.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):n.push(()=>t[o].onComplete(new Error(c),!1,null))))}zj(e,e.transactionQueueTree_);for(let o=0;o<n.length;o++)Nb(n[o]);Ej(e,e.transactionQueueTree_)}(e,Rj(e,r),n),n}function Mj(e,t){let r,n=e.transactionQueueTree_;for(r=Qb(t);null!==r&&void 0===Zw(n);)n=Qw(n,r),r=Qb(t=ev(t));return n}function Rj(e,t){const r=[];return Fj(e,t,r),r.sort((e,t)=>e.order-t.order),r}function Fj(e,t,r){const n=Zw(t);if(n)for(let a=0;a<n.length;a++)r.push(n[a]);rj(t,t=>{Fj(e,t,r)})}function zj(e,t){const r=Zw(t);if(r){let e=0;for(let t=0;t<r.length;t++)2!==r[t].status&&(r[e]=r[t],e++);r.length=e,ej(t,r.length>0?r:void 0)}rj(t,t=>{zj(e,t)})}function Oj(e,t){const r=aj(Mj(e,t)),n=Qw(e.transactionQueueTree_,t);return function(e,t,r){let n=r?e:e.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(n,t=>{Bj(e,t)}),Bj(e,n),nj(n,t=>{Bj(e,t)}),r}function Bj(e,t){const r=Zw(t);if(r){const n=[];let a=[],s=-1;for(let t=0;t<r.length;t++)3===r[t].status||(1===r[t].status?(Pf(s===t-1,"All SENT items should be at beginning of queue."),s=t,r[t].status=3,r[t].abortReason="set"):(Pf(0===r[t].status,"Unexpected transaction status in abort"),r[t].unwatcher(),a=a.concat(_w(e.serverSyncTree_,r[t].currentWriteId,!0)),r[t].onComplete&&n.push(r[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?ej(t,void 0):r.length=s+1,xj(e.eventQueue_,aj(t),a);for(let e=0;e<n.length;e++)Nb(n[e])}}const Uj=function(e,t){const r=qj(e),n=r.namespace;"firebase.com"===r.domain&&cb(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===r.domain||cb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&db("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const a="ws"===r.scheme||"wss"===r.scheme;return{repoInfo:new Eb(r.host,r.secure,n,a,t,"",n!==r.subdomain),path:new Jb(r.pathString)}},qj=function(e){let t="",r="",n="",a="",s="",i=!0,o="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(o=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");-1===d&&(d=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(d,u)),d<u&&(a=function(e){let t="";const r=e.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let e=r[n];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(_q){}t+="/"+e}return t}(e.substring(d,u)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const r of e.split("&")){if(0===r.length)continue;const n=r.split("=");2===n.length?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):db("Invalid query segment '".concat(r,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,u)));c=t.indexOf(":"),c>=0?(i="https"===o||"wss"===o,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())r="localhost";else if(p.split(".").length<=2)r=p;else{const e=t.indexOf(".");n=t.substring(0,e).toLowerCase(),r=t.substring(e+1),s=n}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:r,subdomain:n,secure:i,scheme:o,pathString:a,namespace:s}},Wj="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Hj{constructor(e,t,r,n){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=n}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ng(this.snapshot.exportVal())}}class Vj{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Kj{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Pf(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Gj{constructor(e,t,r,n){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=n}get key(){return sv(this._path)?null:tv(this._path)}get ref(){return new Yj(this._repo,this._path)}get _queryIdentifier(){const e=ey(this._queryParams),t=xb(e);return"{}"===t?"default":t}get _queryObject(){return ey(this._queryParams)}isEqual(e){if(!((e=fg(e))instanceof Gj))return!1;const t=this._repo===e._repo,r=ov(this._path,e._path),n=this._queryIdentifier===e._queryIdentifier;return t&&r&&n}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let r=e.pieceNum_;r<e.pieces_.length;r++)""!==e.pieces_[r]&&(t+="/"+encodeURIComponent(String(e.pieces_[r])));return t||"/"}(this._path)}}class Yj extends Gj{constructor(e,t){super(e,t,new Qv,!1)}get parent(){const e=nv(this._path);return null===e?null:new Yj(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class $j{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Jb(e),r=Xj(this.ref,e);return new $j(this._node.getChild(t),r,Lv)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,r)=>e(new $j(r,Xj(this.ref,t),Lv)))}hasChild(e){const t=new Jb(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jj(e,t){return(e=fg(e))._checkNotDeleted("ref"),void 0!==t?Xj(e._root,t):e._root}function Xj(e,t){var r,n,a,s;return null===Qb((e=fg(e))._path)?(r="child",n="path",s=!1,(a=t)&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),hj(r,n,a,s)):hj("child","path",t,!1),new Yj(e._repo,av(e._path,t))}class Qj{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new Hj("value",this,new $j(e.snapshotNode,new Yj(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Vj(this,e,t):null}matches(e){return e instanceof Qj&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Zj{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Vj(this,e,t):null}createEvent(e,t){Pf(null!=e.childName,"Child events should have a childName.");const r=Xj(new Yj(t._repo,t._path),e.childName),n=t._queryParams.getIndex();return new Hj(e.type,this,new $j(e.snapshotNode,r,n),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Zj&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function eN(e,t,r,n,a){let s;if("object"===typeof n&&(s=void 0,a=n),"function"===typeof n&&(s=n),a&&a.onlyOnce){const t=r,n=(r,n)=>{Aj(e._repo,e,o),t(r,n)};n.userCallback=r.userCallback,n.context=r.context,r=n}const i=new Kj(r,s||void 0),o="value"===t?new Qj(i):new Zj(t,i);return function(e,t,r){let n;n=".info"===Qb(t._path)?Tw(e.infoSyncTree_,t,r):Tw(e.serverSyncTree_,t,r),gj(e.eventQueue_,t._path,n)}(e._repo,e,o),()=>Aj(e._repo,e,o)}function tN(e,t,r,n){return eN(e,"value",t,r,n)}!function(e){Pf(!uw,"__referenceConstructor has already been defined"),uw=e}(Yj),function(e){Pf(!hw,"__referenceConstructor has already been defined"),hw=e}(Yj);const rN={};let nN=!1;function aN(e,t,r,n,a){let s=n||e.options.databaseURL;void 0===s&&(e.options.projectId||cb("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ib("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let i,o,l=Uj(s,a),c=l.repoInfo;"undefined"!==typeof process&&(o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"",REACT_APP_FIREBASE_API_KEY:"AIzaSyDWV7_xKJ9vRvtBceQdTb5akTSx3jKk1Bw",REACT_APP_FIREBASE_APP_ID:"1:764709653798:web:bc596b7510ad4fb34c45e7",REACT_APP_FIREBASE_AUTH_DOMAIN:"e-trucking-8d905.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://e-trucking-8d905-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-06MBDLYS9Q",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"764709653798",REACT_APP_FIREBASE_PROJECT_ID:"e-trucking-8d905",REACT_APP_FIREBASE_STORAGE_BUCKET:"e-trucking-8d905.firebasestorage.app",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyBTln9AbQ0K-CTbVrcFNQc0LHlt3Y4J1Pc"}.FIREBASE_DATABASE_EMULATOR_HOST),o?(i=!0,s="http://".concat(o,"?ns=").concat(c.namespace),l=Uj(s,a),c=l.repoInfo):i=!l.repoInfo.secure;const d=a&&i?new _b(_b.OWNER):new Cb(e.name,e.options,t);pj("Invalid Firebase Database URL",l),sv(l.path)||cb("Database URL must point to the root of a Firebase Database (not including a child path).");const u=function(e,t,r,n){let a=rN[t.name];a||(a={},rN[t.name]=a);let s=a[e.toURLString()];s&&cb("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new wj(e,nN,r,n),a[e.toURLString()]=s,s}(c,e,d,new Sb(e,r));return new sN(u,e)}class sN{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yj(this._repo,Xb())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const r=rN[t];r&&r[e.key]===e||cb("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Dj(e),delete r[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&cb("Cannot call "+e+" on a deleted database.")}}mv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},mv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Gx("12.8.0"),_x(new gg("database",(e,t)=>{let{instanceIdentifier:r}=t;return aN(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),r)},"PUBLIC").setMultipleInstances(!0)),Ex(Hx,Vx,e),Ex(Hx,Vx,"esm2020")}();const iN="@firebase/installations",oN="0.6.19",lN=1e4,cN="w:".concat(oN),dN="FIS_v2",uN=36e5,hN=new eg("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pN(e){return e instanceof Zf&&e.code.includes("request-failed")}function mN(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function fN(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function gN(e,t){const r=(await t.json()).error;return hN.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function xN(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bN(e,t){let{refreshToken:r}=t;const n=xN(e);return n.append("Authorization",function(e){return"".concat(dN," ").concat(e)}(r)),n}async function vN(e){const t=await e();return t.status>=500&&t.status<600?e():t}function yN(e){return new Promise(t=>{setTimeout(t,e)})}const wN=/^[cdef][\w-]{21}$/;function jN(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(r=e,btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_"));var r;return t.substr(0,22)}(e);return wN.test(t)?t:""}catch(e){return""}}function NN(e){return"".concat(e.appName,"!").concat(e.appId)}const kN=new Map;function SN(e,t){const r=NN(e);CN(r,t),function(e,t){const r=PN();r&&r.postMessage({key:e,fid:t});AN()}(r,t)}function CN(e,t){const r=kN.get(e);if(r)for(const n of r)n(t)}let _N=null;function PN(){return!_N&&"BroadcastChannel"in self&&(_N=new BroadcastChannel("[Firebase] FID Change"),_N.onmessage=e=>{CN(e.data.key,e.data.fid)}),_N}function AN(){0===kN.size&&_N&&(_N.close(),_N=null)}const DN="firebase-installations-store";let TN=null;function LN(){return TN||(TN=Bg("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(DN)}})),TN}async function EN(e,t){const r=NN(e),n=(await LN()).transaction(DN,"readwrite"),a=n.objectStore(DN),s=await a.get(r);return await a.put(t,r),await n.done,s&&s.fid===t.fid||SN(e,t.fid),t}async function IN(e){const t=NN(e),r=(await LN()).transaction(DN,"readwrite");await r.objectStore(DN).delete(t),await r.done}async function MN(e,t){const r=NN(e),n=(await LN()).transaction(DN,"readwrite"),a=n.objectStore(DN),s=await a.get(r),i=t(s);return void 0===i?await a.delete(r):await a.put(i,r),await n.done,!i||s&&s.fid===i.fid||SN(e,i.fid),i}async function RN(e){let t;const r=await MN(e.appConfig,r=>{const n=function(e){const t=e||{fid:jN(),registrationStatus:0};return ON(t)}(r),a=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(hN.create("app-offline"))}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(e,t){try{const r=await async function(e,t){let{appConfig:r,heartbeatServiceProvider:n}=e,{fid:a}=t;const s=mN(r),i=xN(r),o=n.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const l={fid:a,authVersion:dN,appId:r.appId,sdkVersion:cN},c={method:"POST",headers:i,body:JSON.stringify(l)},d=await vN(()=>fetch(s,c));if(d.ok){const e=await d.json();return{fid:e.fid||a,registrationStatus:2,refreshToken:e.refreshToken,authToken:fN(e.authToken)}}throw await gN("Create Installation",d)}(e,t);return EN(e.appConfig,r)}catch(_q){throw pN(_q)&&409===_q.customData.serverCode?await IN(e.appConfig):await EN(e.appConfig,{fid:t.fid,registrationStatus:0}),_q}}(e,r);return{installationEntry:r,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:FN(e)}:{installationEntry:t}}(e,n);return t=a.registrationPromise,a.installationEntry});return""===r.fid?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}async function FN(e){let t=await zN(e.appConfig);for(;1===t.registrationStatus;)await yN(100),t=await zN(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:r}=await RN(e);return r||t}return t}function zN(e){return MN(e,e=>{if(!e)throw hN.create("installation-not-found");return ON(e)})}function ON(e){return 1===(t=e).registrationStatus&&t.registrationTime+lN<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function BN(e,t){let{appConfig:r,heartbeatServiceProvider:n}=e;const a=function(e,t){let{fid:r}=t;return"".concat(mN(e),"/").concat(r,"/authTokens:generate")}(r,t),s=bN(r,t),i=n.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:cN,appId:r.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await vN(()=>fetch(a,l));if(c.ok){return fN(await c.json())}throw await gN("Generate Auth Token",c)}async function UN(e){let t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=await MN(e.appConfig,n=>{if(!WN(n))throw hN.create("not-registered");const a=n.authToken;if(!r&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+uN}(e)}(a))return n;if(1===a.requestStatus)return t=async function(e,t){let r=await qN(e.appConfig);for(;1===r.authToken.requestStatus;)await yN(100),r=await qN(e.appConfig);const n=r.authToken;return 0===n.requestStatus?UN(e,t):n}(e,r),n;{if(!navigator.onLine)throw hN.create("app-offline");const r=function(e){const t={requestStatus:1,requestTime:Date.now()};return Ne(Ne({},e),{},{authToken:t})}(n);return t=async function(e,t){try{const r=await BN(e,t),n=Ne(Ne({},t),{},{authToken:r});return await EN(e.appConfig,n),r}catch(_q){if(!pN(_q)||401!==_q.customData.serverCode&&404!==_q.customData.serverCode){const r=Ne(Ne({},t),{},{authToken:{requestStatus:0}});await EN(e.appConfig,r)}else await IN(e.appConfig);throw _q}}(e,r),r}});return t?await t:n.authToken}function qN(e){return MN(e,e=>{if(!WN(e))throw hN.create("not-registered");const t=e.authToken;return 1===(r=t).requestStatus&&r.requestTime+lN<Date.now()?Ne(Ne({},e),{},{authToken:{requestStatus:0}}):e;var r})}function WN(e){return void 0!==e&&2===e.registrationStatus}async function HN(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=e;await async function(e){const{registrationPromise:t}=await RN(e);t&&await t}(r);return(await UN(r,t)).token}function VN(e){return hN.create("missing-app-config-values",{valueName:e})}const KN="installations",GN=e=>{const t=e.getProvider("app").getImmediate(),r=function(e){if(!e||!e.options)throw VN("App Configuration");if(!e.name)throw VN("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw VN(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:r,heartbeatServiceProvider:Px(t,"heartbeat"),_delete:()=>Promise.resolve()}},YN=e=>{const t=Px(e.getProvider("app").getImmediate(),KN).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:r,registrationPromise:n}=await RN(t);return n?n.catch(console.error):UN(t).catch(console.error),r.fid}(t),getToken:e=>HN(t,e)}};_x(new gg(KN,GN,"PUBLIC")),_x(new gg("installations-internal",YN,"PRIVATE")),Ex(iN,oN),Ex(iN,oN,"esm2020");const $N="analytics",JN="https://www.googletagmanager.com/gtag/js",XN=new _g("@firebase/analytics"),QN=new eg("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ZN(e){if(!e.startsWith(JN)){const t=QN.create("invalid-gtag-resource",{gtagURL:e});return XN.warn(t.message),""}return e}function ek(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function tk(e,t){const r=function(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}("firebase-js-sdk-policy",{createScriptURL:ZN}),n=document.createElement("script"),a="".concat(JN,"?l=").concat(e,"&id=").concat(t);n.src=r?null===r||void 0===r?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function rk(e,t,r,n){return async function(a){try{for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];if("event"===a){const[n,a]=i;await async function(e,t,r,n,a){try{let s=[];if(a&&a.send_to){let e=a.send_to;Array.isArray(e)||(e=[e]);const n=await ek(r);for(const r of e){const e=n.find(e=>e.measurementId===r),a=e&&t[e.appId];if(!a){s=[];break}s.push(a)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",n,a||{})}catch(_q){XN.error(_q)}}(e,t,r,n,a)}else if("config"===a){const[a,s]=i;await async function(e,t,r,n,a,s){const i=n[a];try{if(i)await t[i];else{const e=(await ek(r)).find(e=>e.measurementId===a);e&&await t[e.appId]}}catch(_q){XN.error(_q)}e("config",a,s)}(e,t,r,n,a,s)}else if("consent"===a){const[t,r]=i;e("consent",t,r)}else if("get"===a){const[t,r,n]=i;e("get",t,r,n)}else if("set"===a){const[t]=i;e("set",t)}else e(a,...i)}catch(_q){XN.error(_q)}}}const nk=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ak(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function sk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nk,r=arguments.length>2?arguments[2]:void 0;const{appId:n,apiKey:a,measurementId:s}=e.options;if(!n)throw QN.create("no-app-id");if(!a){if(s)return{measurementId:s,appId:n};throw QN.create("no-api-key")}const i=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new ok;return setTimeout(async()=>{o.abort()},void 0!==r?r:6e4),ik({appId:n,apiKey:a,measurementId:s},i,o,t)}async function ik(e,t,r){let{throttleEndTimeMillis:n,backoffCount:a}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nk;const{appId:i,measurementId:o}=e;try{await function(e,t){return new Promise((r,n)=>{const a=Math.max(t-Date.now(),0),s=setTimeout(r,a);e.addEventListener(()=>{clearTimeout(s),n(QN.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,n)}catch(_q){if(o)return XN.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===_q||void 0===_q?void 0:_q.message,"]")),{appId:i,measurementId:o};throw _q}try{const t=await async function(e){const{appId:t,apiKey:r}=e,n={method:"GET",headers:ak(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),s=await fetch(a,n);if(200!==s.status&&304!==s.status){let e="";try{var i;const t=await s.json();null!==(i=t.error)&&void 0!==i&&i.message&&(e=t.error.message)}catch(o){}throw QN.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return s.deleteThrottleMetadata(i),t}catch(_q){var l;const n=_q;if(!function(e){if(!(e instanceof Zf)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(n)){if(s.deleteThrottleMetadata(i),o)return XN.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===n||void 0===n?void 0:n.message,"]")),{appId:i,measurementId:o};throw _q}const c=503===Number(null===n||void 0===n||null===(l=n.customData)||void 0===l?void 0:l.httpStatus)?mg(a,s.intervalMillis,30):mg(a,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1};return s.setThrottleMetadata(i,d),XN.debug("Calling attemptFetch again in ".concat(c," millis")),ik(e,d,r,s)}}class ok{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let lk,ck;function dk(e){ck=e}function uk(e){lk=e}async function hk(e,t,r,n,a,s,i){var o;const l=sk(e);l.then(t=>{r[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&XN.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>XN.error(e)),t.push(l);const c=async function(){if(!Xf())return XN.warn(QN.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Qf()}catch(_q){return XN.warn(QN.create("indexeddb-unavailable",{errorInfo:null===_q||void 0===_q?void 0:_q.toString()}).message),!1}return!0}().then(e=>e?n.getId():void 0),[d,u]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(JN)&&r.src.includes(e))return r;return null})(s)||tk(s,d.measurementId),ck&&(a("consent","default",ck),dk(void 0)),a("js",new Date);const h=null!==(o=null===i||void 0===i?void 0:i.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=u&&(h.firebase_id=u),a("config",d.measurementId,h),lk&&(a("set",lk),uk(void 0)),d.measurementId}class pk{constructor(e){this.app=e}_delete(){return delete mk[this.app.options.appId],Promise.resolve()}}let mk={},fk=[];const gk={};let xk,bk,vk="dataLayer",yk="gtag",wk=!1;function jk(){const e=[];if(function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),r=QN.create("invalid-analytics-context",{errorInfo:t});XN.warn(r.message)}}function Nk(e,t,r){jk();const n=e.options.appId;if(!n)throw QN.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw QN.create("no-api-key");XN.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=mk[n])throw QN.create("already-exists",{id:n});if(!wk){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(vk);const{wrappedGtag:e,gtagCore:t}=function(e,t,r,n,a){let s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];window[n].push(arguments)};return window[a]&&"function"===typeof window[a]&&(s=window[a]),window[a]=rk(s,e,t,r),{gtagCore:s,wrappedGtag:window[a]}}(mk,fk,gk,vk,yk);bk=e,xk=t,wk=!0}mk[n]=hk(e,fk,gk,t,xk,vk,r);return new pk(e)}function kk(e,t,r){e=fg(e),async function(e,t,r,n){if(n&&n.global){const t={};for(const e of Object.keys(r))t["user_properties.".concat(e)]=r[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:r})}(bk,mk[e.app.options.appId],t,r).catch(e=>XN.error(e))}function Sk(e,t,r,n){e=fg(e),async function(e,t,r,n,a){if(a&&a.global)e("event",r,n);else{const a=await t;e("event",r,Ne(Ne({},n),{},{send_to:a}))}}(bk,mk[e.app.options.appId],t,r,n).catch(e=>XN.error(e))}const Ck="@firebase/analytics",_k="0.10.19";_x(new gg($N,(e,t)=>{let{options:r}=t;return Nk(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),r)},"PUBLIC")),_x(new gg("analytics-internal",function(e){try{const t=e.getProvider($N).getImmediate();return{logEvent:(e,r,n)=>Sk(t,e,r,n),setUserProperties:(e,r)=>kk(t,e,r)}}catch(_q){throw QN.create("interop-component-reg-failed",{reason:_q})}},"PRIVATE")),Ex(Ck,_k),Ex(Ck,_k,"esm2020");const Pk={apiKey:"AIzaSyDWV7_xKJ9vRvtBceQdTb5akTSx3jKk1Bw",authDomain:"e-trucking-8d905.firebaseapp.com",databaseURL:"https://e-trucking-8d905-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"e-trucking-8d905",storageBucket:"e-trucking-8d905.firebasestorage.app",messagingSenderId:"764709653798",appId:"1:764709653798:web:bc596b7510ad4fb34c45e7",measurementId:"G-06MBDLYS9Q"};let Ak=null,Dk=null,Tk=null;if(Pk.projectId&&Pk.apiKey)try{if(Ak=Tx(Pk),Pk.databaseURL?(Dk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lx(),t=arguments.length>1?arguments[1]:void 0;const r=Px(e,"database").getImmediate({identifier:t});if(!r._instanceStarted){const e=Uf("database");e&&function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=fg(e))._checkNotDeleted("useEmulator");const a="".concat(t,":").concat(r),s=e._repoInternal;if(e._instanceStarted){if(a===e._repoInternal.repoInfo_.host&&cg(n,s.repoInfo_.emulatorOptions))return;cb("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let i;if(s.repoInfo_.nodeAdmin)n.mockUserToken&&cb('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new _b(_b.OWNER);else if(n.mockUserToken){const t="string"===typeof n.mockUserToken?n.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",n=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Ne({iss:"https://securetoken.google.com/".concat(r),aud:r,iat:n,exp:n+3600,auth_time:n,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[If(JSON.stringify({alg:"none",type:"JWT"})),If(JSON.stringify(s)),""].join(".")}(n.mockUserToken,e.app.options.projectId);i=new _b(t)}Hf(t)&&(async function(e){(await fetch(e,{credentials:"include"})).ok}(t),Gf("Database",!0)),function(e,t,r,n){const a=t.lastIndexOf(":"),s=Hf(t.substring(0,a));e.repoInfo_=new Eb(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,r),n&&(e.authTokenProvider_=n)}(s,a,n,i)}(r,...e)}return r}(Ak),console.log("\u2705 Realtime Database connected for GPS tracking")):console.log("\u26a0\ufe0f Firebase Realtime Database not configured - GPS tracking may not work"),"undefined"!==typeof window)try{Tk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lx();e=fg(e);const t=Px(e,$N);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Px(e,$N);if(r.isInitialized()){const e=r.getImmediate();if(cg(t,r.getOptions()))return e;throw QN.create("already-initialized")}return r.initialize({options:t})}(e)}(Ak)}catch(Aq){console.log("\u26a0\ufe0f Firebase Analytics not available")}console.log("\u2705 Firebase initialized successfully")}catch(lb){console.error("\u274c Firebase initialization error:",lb)}else console.log("\u26a0\ufe0f Firebase configuration not found - running in API-only mode"),console.log("\ud83d\udcdd This is normal if you're using the backend API without client-side Firebase features");const Lk=e=>{let{deliveryId:r,truckId:n,deliveryStatus:a,onClose:s}=e;console.log("\ud83d\ude80 LiveMapTracker component rendering",{deliveryId:r,truckId:n,deliveryStatus:a});const i=["completed","delivered"].includes((a||"").toLowerCase().trim()),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[v,y]=(0,t.useState)(0),[w,j]=(0,t.useState)({nearPickup:!1,reachedPickup:!1,leftPickup:!1,nearDropoff:!1,reachedDropoff:!1,leftDropoff:!1}),N=(0,t.useRef)(!1),k=(0,t.useRef)(null),S=(0,t.useRef)(null),C=(0,t.useRef)(null),_=(0,t.useRef)(null),P=(0,t.useRef)(null),A=(0,t.useRef)(null),D=(0,t.useRef)(null),T=(0,t.useRef)(null),L=(0,t.useRef)(null),E=(0,t.useRef)(null),I=(0,t.useRef)(null),M=(0,t.useRef)(null),R=(0,t.useRef)(null),F=(0,t.useRef)([]),z=(0,t.useRef)({nearPickup:!1,reachedPickup:!1,leftPickup:!1,nearDropoff:!1,reachedDropoff:!1,leftDropoff:!1}),{addLocalNotification:O}=Qr()||{};(0,t.useEffect)(()=>{console.log("\ud83d\uddfa\ufe0f LiveMapTracker mounted");const e=e=>{"Escape"===e.key&&(console.log("\u2328\ufe0f ESC key pressed - closing modal"),s())};if(document.addEventListener("keydown",e),window.google)K();else{window.initGoogleMap=()=>{console.log("\u2705 Google Maps loaded via callback"),K(),delete window.initGoogleMap};const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyBTln9AbQ0K-CTbVrcFNQc0LHlt3Y4J1Pc","&callback=initGoogleMap&loading=async"),e.async=!0,e.defer=!0,e.onerror=()=>{h("Failed to load Google Maps. Please check your API key and internet connection."),d(!1),delete window.initGoogleMap},document.head.appendChild(e)}return()=>{console.log("\ud83d\uddfa\ufe0f LiveMapTracker unmounting"),document.removeEventListener("keydown",e),C.current&&cancelAnimationFrame(C.current),window.google&&window.google.maps&&(T.current&&T.current.setMap(null),M.current&&M.current.setMap(null),L.current&&L.current.setMap(null),E.current&&E.current.setMap(null),R.current&&R.current.setMap(null))}},[s]),(0,t.useEffect)(()=>{if(i)return console.log("\ud83d\udccb Delivery is completed - showing route record only, no live GPS"),void d(!1);const e="truck_12345";console.log("\ud83d\ude9a Original truck ID from delivery:",n),console.log("\ud83d\ude9a Using MAIN GPS truck ID:",e),console.log("\ud83d\udccd All deliveries will use GPS data from truck:",e);const t=B(e);return()=>{t&&t();!function(e,t,r){let n=null;const a=r?new Kj(r):null;"value"===t?n=new Qj(a):t&&(n=new Zj(t,a)),Aj(e._repo,e,n)}(Jj(Dk,"Trucks/".concat(e,"/data")))}},[n,i]);const B=e=>{const t=Jj(Dk,"Trucks/".concat(e,"/data"));console.log("\ud83d\udce1 Subscribing to ESP32 GPS data at: Trucks/".concat(e,"/data"));const r=tN(t,t=>{const r=t.val();if(console.log("\ud83d\udce1 Firebase snapshot received for truck:",e),console.log("\ud83d\udce1 Raw data:",r),!r)return console.warn("\u26a0\ufe0f No GPS data found at path:","Trucks/".concat(e,"/data")),h("No GPS data from main ESP32 device (truck_12345).\n\nAll deliveries use the shared GPS device.\n\nPlease ensure:\n1. Main ESP32 device (truck_12345) is powered on\n2. Device is connected to WiFi\n3. GPS has satellite fix (may take 2-5 minutes outdoors)\n4. Firebase path: Trucks/truck_12345/data contains GPS data"),void d(!1);if(console.log("\ud83d\udccd ESP32 GPS data received:",r),console.log("\ud83d\udccd RAW lat from Firebase:",r.lat,"type:",typeof r.lat),console.log("\ud83d\udccd RAW lon from Firebase:",r.lon,"type:",typeof r.lon),!1===r.gpsFix)return console.warn("\u26a0\ufe0f GPS has no satellite fix"),h("GPS hardware has no satellite fix. Waiting for signal...\n\nThe device is connected but searching for GPS satellites. This may take a few minutes outdoors."),void d(!1);const n=parseFloat(r.lat),a=parseFloat(r.lon);if(console.log("\ud83d\udccd PARSED lat:",n,"lng:",a),console.log("\ud83d\udccd Expected Malolos: ~14.838, ~120.870"),console.log("\ud83d\udccd Actual vs Expected lat diff:",Math.abs(n-14.838).toFixed(6),"degrees"),isNaN(n)||isNaN(a))return console.error("\u274c Invalid GPS coordinates:",{lat:r.lat,lng:r.lon}),h("Invalid GPS coordinates received from device."),void d(!1);if(n<-90||n>90||a<-180||a>180)return console.error("\u274c GPS coordinates out of range:",{lat:n,lng:a}),h("GPS coordinates out of valid range."),void d(!1);if(!q(n,a))return console.warn("\u26a0\ufe0f GPS update rejected - using last valid location"),y(e=>e+1),S.current&&clearTimeout(S.current),void(S.current=setTimeout(()=>{y(0)},3e3));y(0);const s={lat:n,lng:a,speed:parseFloat(r.speed)||0,accuracy:10,timestamp:(new Date).toISOString()};console.log("\u2705 Converted GPS data:",s),console.log("\u2705 GPS Fix:",r.gpsFix?"YES":"NO"),console.log("\u2705 Speed:",s.speed,"km/h"),k.current={lat:n,lng:a},l(s),m(new Date),d(!1),h(null),W(n,a),I.current&&window.google&&G(s)},e=>{console.error("\u274c Firebase error fetching ESP32 GPS data:",e),console.error("\u274c Error code:",e.code),console.error("\u274c Error message:",e.message),h("Failed to connect to GPS hardware:\n".concat(e.message,"\n\nPlease check Firebase Realtime Database configuration.")),d(!1)});return r},U=(e,t,r,n)=>{const a=(r-e)*Math.PI/180,s=(n-t)*Math.PI/180,i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},q=(e,t)=>{if(!(e>=4.5&&e<=21.5&&t>=116&&t<=127))return console.warn("\u26a0\ufe0f GPS coordinates outside Philippines:",{lat:e,lng:t}),!1;if(console.log("\ud83d\udcf1 Mobile app mode: Showing truck at actual GPS location regardless of delivery route"),k.current){const r=U(k.current.lat,k.current.lng,e,t),n=50;if(r>n)return console.warn("\u274c GPS REJECTED - Impossibly large jump!"),console.warn("   Jump distance: ".concat(r.toFixed(2)," km")),console.warn("   Max allowed: ".concat(n," km")),console.warn("   Last valid: ".concat(k.current.lat.toFixed(6),", ").concat(k.current.lng.toFixed(6))),console.warn("   Rejected: ".concat(e.toFixed(6),", ").concat(t.toFixed(6))),console.warn("\u26a0\ufe0f Jump too large - likely GPS error!"),!1;console.log("\u2705 GPS valid - Movement: ".concat(r.toFixed(3)," km from last position (mobile mode)"))}else console.log("\u2705 First GPS reading - accepting as baseline");return!0},W=async(e,t)=>{const r=window.currentDeliveryData;if(!r)return;const n=r.pickupCoordinates||f,a=r.dropoffCoordinates||x;if(n){const a=U(e,t,n.lat,n.lng)<=.1;a&&!z.current.nearPickup&&(z.current.nearPickup=!0,z.current.reachedPickup=!0,console.log("\ud83d\udccd Truck arrived at PICKUP location (within 100m)"),H("Arrived at Pickup","Delivery truck has arrived at the pickup location: ".concat(r.pickupLocation||"Pickup point"),"pickup_arrived")),!a&&z.current.nearPickup&&z.current.reachedPickup&&!z.current.leftPickup&&(z.current.nearPickup=!1,z.current.leftPickup=!0,console.log("\ud83d\udccd Truck left PICKUP location (exited 100m radius)"),H("Left Pickup Location","Delivery truck has departed from the pickup location and is en route to the drop-off: ".concat(r.deliveryAddress||"Drop-off point"),"pickup_departed"))}if(a){const n=U(e,t,a.lat,a.lng)<=.1;n&&!z.current.nearDropoff&&(z.current.nearDropoff=!0,z.current.reachedDropoff=!0,console.log("\ud83d\udccd Truck arrived at DROPOFF location (within 100m)"),H("Arrived at Drop-off","Delivery truck has arrived at the drop-off location: ".concat(r.deliveryAddress||"Drop-off point"),"dropoff_arrived")),!n&&z.current.nearDropoff&&z.current.reachedDropoff&&!z.current.leftDropoff&&(z.current.nearDropoff=!1,z.current.leftDropoff=!0,console.log("\ud83d\udccd Truck left DROPOFF location (exited 100m radius)"),H("Left Drop-off Location","Delivery truck has departed from the drop-off location.","dropoff_departed"))}j(Ne({},z.current))},H=async(e,t,n)=>{O&&O({title:e,message:t,type:"delivery",metadata:{deliveryId:r,action:n}});try{const a=localStorage.getItem("token");a&&(await Vr.post("/api/notifications/delivery-proximity",{deliveryId:r,title:e,message:t,action:n},{headers:{Authorization:"Bearer ".concat(a)}}),console.log("\u2705 Proximity notification saved to backend:",n))}catch(a){console.warn("\u26a0\ufe0f Failed to save proximity notification to backend:",a.message)}},V=async e=>{if(!window.google||!e)return console.warn("\u26a0\ufe0f Geocoding skipped - no Google Maps or no address"),null;console.log("\ud83d\udd0d Geocoding address:",e);const t=new window.google.maps.Geocoder;try{const r=await new Promise((r,n)=>{t.geocode({address:e+", Philippines",region:"PH"},(t,a)=>{"OK"===a&&t[0]?(console.log("\u2705 Geocoding success:",{input:e,formatted:t[0].formatted_address,location:{lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()}}),r(t[0].geometry.location)):n(new Error("Geocoding failed: "+a))})});return{lat:r.lat(),lng:r.lng()}}catch(r){return console.error("\u274c Geocoding error for address:",e,r),null}},K=async()=>{if(!D.current||!window.google)return;const e={lat:14.838625,lng:120.87088};I.current=new window.google.maps.Map(D.current,{center:e,zoom:i?10:12,mapTypeId:"roadmap",mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0}),i||(T.current=new window.google.maps.Marker({map:I.current,position:e,title:"Truck Location (Live GPS)",icon:{url:"https://maps.google.com/mapfiles/kml/shapes/truck.png",scaledSize:new window.google.maps.Size(40,40)},zIndex:1e3}),M.current=new window.google.maps.Polyline({map:I.current,strokeColor:"#2196F3",strokeOpacity:.8,strokeWeight:4}));const t=window.currentDeliveryData;if(t){var r,n;if(console.log("\ud83d\udccd Initializing delivery route"),console.log("\ud83d\udccd Pickup:",t.pickupLocation),console.log("\ud83d\udccd Dropoff:",t.deliveryAddress),t.pickupLocation){const e=await V(t.pickupLocation);if(e){g(e),L.current=new window.google.maps.Marker({map:I.current,position:e,title:"Pickup Location",label:{text:"A",color:"white",fontWeight:"bold"},icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#10B981",fillOpacity:1,strokeColor:"white",strokeWeight:2},zIndex:999});const r=new window.google.maps.InfoWindow({content:'<div style="padding: 10px;"><strong>\ud83d\udccd Pickup Location</strong><br/>'.concat(t.pickupLocation,"</div>")});L.current.addListener("click",()=>{r.open(I.current,L.current)}),console.log("\u2705 Pickup marker created:",e)}}if(t.deliveryAddress){const e=await V(t.deliveryAddress);if(e){b(e),E.current=new window.google.maps.Marker({map:I.current,position:e,title:"Dropoff Location",label:{text:"B",color:"white",fontWeight:"bold"},icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#EF4444",fillOpacity:1,strokeColor:"white",strokeWeight:2},zIndex:999});const r=new window.google.maps.InfoWindow({content:'<div style="padding: 10px;"><strong>\ud83d\udccd Dropoff Location</strong><br/>'.concat(t.deliveryAddress,"</div>")});E.current.addListener("click",()=>{r.open(I.current,E.current)}),console.log("\u2705 Dropoff marker created:",e)}}const e=null===(r=L.current)||void 0===r?void 0:r.getPosition(),a=null===(n=E.current)||void 0===n?void 0:n.getPosition();if(e&&a){console.log("\ud83d\uddfa\ufe0f Requesting driving route from Directions API...");const t=new window.google.maps.DirectionsService,r=new window.google.maps.DirectionsRenderer({map:I.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#4B5563",strokeWeight:4,strokeOpacity:.7},preserveViewport:!i});t.route({origin:e,destination:a,travelMode:window.google.maps.TravelMode.DRIVING},(t,n)=>{if("OK"===n){if(r.setDirections(t),console.log("\u2705 Driving route rendered successfully"),i&&I.current){var s;const r=new window.google.maps.LatLngBounds;r.extend(e),r.extend(a);const n=null===(s=t.routes[0])||void 0===s?void 0:s.legs[0];n&&n.steps.forEach(e=>{r.extend(e.start_location),r.extend(e.end_location)}),I.current.fitBounds(r)}}else if(console.warn("\u26a0\ufe0f Directions API failed:",n,"- falling back to straight line"),R.current=new window.google.maps.Polyline({map:I.current,strokeColor:"#6B7280",strokeOpacity:.6,strokeWeight:3,path:[{lat:e.lat(),lng:e.lng()},{lat:a.lat(),lng:a.lng()}],icons:[{icon:{path:"M 0,-1 0,1",strokeOpacity:1,scale:3},offset:"0",repeat:"20px"}]}),i&&I.current){const t=new window.google.maps.LatLngBounds;t.extend(e),t.extend(a),I.current.fitBounds(t)}})}else if(console.warn("\u26a0\ufe0f Cannot draw route - missing pickup or dropoff coordinates"),R.current=new window.google.maps.Polyline({map:I.current,strokeColor:"#6B7280",strokeOpacity:.6,strokeWeight:2,path:[]}),i&&I.current){const e=new window.google.maps.LatLngBounds;L.current&&e.extend(L.current.getPosition()),E.current&&e.extend(E.current.getPosition()),e.isEmpty()||I.current.fitBounds(e)}console.log("\u2705 Route markers created")}console.log("\u2705 Map initialized with delivery route")},G=e=>{if(!I.current||!T.current||!window.google)return;const t={lat:e.lat,lng:e.lng};if(console.log("\ud83d\udccd New GPS position received:",t),(e=>{if(!T.current||!I.current)return;C.current&&cancelAnimationFrame(C.current);const t=T.current.getPosition();if(!t)return T.current.setPosition(e),I.current.setCenter(e),void(P.current=e);const r={lat:t.lat(),lng:t.lng()};_.current=e,A.current=Date.now();const n=()=>{const t=Date.now()-A.current,a=Math.min(t/2e3,1),s=a<.5?2*a*a:1-Math.pow(-2*a+2,2)/2,i={lat:r.lat+(e.lat-r.lat)*s,lng:r.lng+(e.lng-r.lng)*s};T.current.setPosition(i),P.current=i,I.current.setCenter(i),a<1?C.current=requestAnimationFrame(n):(console.log("\u2705 Animation complete - marker at:",e),console.log("\u2705 Camera locked to truck position"),C.current=null)};console.log("\ud83c\udfac Starting Waze-like smooth tracking from",r,"to",e),n()})(t),(0===F.current.length||Math.abs(F.current[F.current.length-1].lat-t.lat)>1e-4||Math.abs(F.current[F.current.length-1].lng-t.lng)>1e-4)&&(F.current.push(t),M.current&&M.current.setPath(F.current)),R.current){const e=[];f&&e.push(f),e.push(t),x&&e.push(x),e.length>=2&&R.current.setPath(e)}N.current?console.log("\ud83d\udccd GPS update - camera locked to truck (Waze mode)"):(N.current=!0,console.log("\ud83d\udccd First GPS fix - initializing Waze-like tracking"),I.current.setZoom(17));const r='\n      <div style="padding: 10px;">\n        <h3 style="margin: 0 0 10px 0;">\ud83d\ude9a Truck Location</h3>\n        <p style="margin: 5px 0;"><strong>Speed:</strong> '.concat(Math.round(3.6*e.speed),' km/h</p>\n        <p style="margin: 5px 0;"><strong>Accuracy:</strong> \xb1').concat(Math.round(e.accuracy),'m</p>\n        <p style="margin: 5px 0;"><strong>Updated:</strong> ').concat(new Date(e.timestamp).toLocaleTimeString(),"</p>\n      </div>\n    ");T.current.infoWindow?T.current.infoWindow.setContent(r):(T.current.infoWindow=new window.google.maps.InfoWindow({content:r}),T.current.addListener("click",()=>{T.current.infoWindow.open(I.current,T.current)})),1===F.current.length&&T.current.infoWindow.open(I.current,T.current)};return(0,$r.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[(0,$r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/80 via-slate-900/70 to-blue-900/60 backdrop-blur-sm",onClick:s}),(0,$r.jsxs)("div",{className:"relative w-full max-w-6xl h-[90vh] bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-300",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 text-white ".concat(i?"bg-gradient-to-r from-gray-600 via-gray-700 to-slate-700":"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700"),children:[(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:(0,$r.jsx)("span",{className:"text-2xl",children:"\ufffd"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-xl font-bold m-0",children:i?"Route Record":"Live GPS Tracking"}),(0,$r.jsxs)("p",{className:"text-sm m-0 mt-0.5 ".concat(i?"text-gray-300":"text-blue-100"),children:["Delivery #",null===r||void 0===r?void 0:r.substring(0,12),"...",i&&(0,$r.jsx)("span",{className:"ml-2 bg-white/20 px-2 py-0.5 rounded text-xs",children:"Completed"})]})]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[!i&&(0,$r.jsx)("div",{className:"px-3 py-1.5 bg-white/10 rounded-lg text-xs text-blue-100 backdrop-blur-sm",children:"\ud83d\udce1 GPS Device: truck_12345"}),(0,$r.jsx)("button",{className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-xl flex items-center justify-center transition-all duration-200",onClick:s,children:(0,$r.jsx)("span",{className:"text-xl",children:"\u2715"})})]})]}),c&&(0,$r.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50/30",children:[(0,$r.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mb-4"}),(0,$r.jsx)("p",{className:"text-gray-600 font-medium",children:"Connecting to GPS..."}),(0,$r.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Establishing real-time connection"})]}),u&&(0,$r.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-red-50/30 p-8",children:[(0,$r.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-100 to-orange-100 rounded-2xl flex items-center justify-center mb-6 shadow-lg shadow-amber-100",children:(0,$r.jsx)("span",{className:"text-4xl",children:"\u26a0\ufe0f"})}),(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"GPS Connection Issue"}),(0,$r.jsx)("p",{className:"text-gray-600 text-center max-w-md whitespace-pre-wrap leading-relaxed text-sm bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:u}),(0,$r.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,$r.jsx)("button",{className:"px-6 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-xl transition-all",onClick:s,children:"Close"}),(0,$r.jsx)("button",{className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium rounded-xl shadow-lg shadow-blue-500/25 transition-all",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]}),!c&&!u&&(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)("div",{className:"px-6 py-3 bg-gradient-to-r from-gray-50 to-blue-50/50 border-b border-gray-100 flex flex-wrap items-center justify-between gap-4",children:[(0,$r.jsx)("div",{className:"flex flex-wrap items-center gap-6",children:i?(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"text-gray-500 text-sm",children:"\ud83d\udccb"}),(0,$r.jsx)("span",{className:"text-gray-700 font-medium text-sm",children:"Route record \u2014 delivery has been completed. Showing pickup and drop-off locations only."})]}):o?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"text-gray-400 text-sm",children:"\ud83d\udccd"}),(0,$r.jsxs)("span",{className:"text-gray-700 font-mono text-sm",children:[o.lat.toFixed(6),", ",o.lng.toFixed(6)]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"text-gray-400 text-sm",children:"\ud83d\ude97"}),(0,$r.jsxs)("span",{className:"text-gray-700 font-semibold text-sm",children:[Math.round(3.6*o.speed)," km/h"]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"text-gray-400 text-sm",children:"\u23f0"}),(0,$r.jsx)("span",{className:"text-gray-700 text-sm",children:p?p.toLocaleTimeString():"Never"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"text-gray-400 text-sm",children:"\ud83c\udfaf"}),(0,$r.jsxs)("span",{className:"text-gray-700 text-sm",children:["\xb1",Math.round(o.accuracy),"m"]})]})]}):null}),(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-300 text-gray-700 text-sm font-medium rounded-lg transition-all flex items-center gap-2",onClick:()=>{if(!I.current)return;const e=new window.google.maps.LatLngBounds;if(f&&e.extend(f),x&&e.extend(x),o&&e.extend({lat:o.lat,lng:o.lng}),!e.isEmpty()){I.current.fitBounds(e);const t=window.google.maps.event.addListener(I.current,"idle",()=>{I.current.getZoom()>14&&I.current.setZoom(14),window.google.maps.event.removeListener(t)});console.log("\ud83d\uddfa\ufe0f Viewing full route overview")}},title:"View complete delivery route",children:"\ud83d\uddfa\ufe0f Full Route"}),!i&&(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-300 text-gray-700 text-sm font-medium rounded-lg transition-all flex items-center gap-2",onClick:()=>{if(o&&I.current){if(console.log("\ud83c\udfaf CENTER MAP button clicked"),console.log("   State location (correct):",o.lat,o.lng),T.current){const e=T.current.getPosition();if(console.log("   Marker position:",null===e||void 0===e?void 0:e.lat(),null===e||void 0===e?void 0:e.lng()),e){const t=o.lat,r=o.lng,n=e.lat(),a=e.lng();(Math.abs(t-n)>.01||Math.abs(r-a)>.01)&&(console.warn("\u26a0\ufe0f MARKER POSITION MISMATCH!"),console.warn("   State says:",t,r),console.warn("   Marker is at:",n,a),console.warn("   CORRECTING marker position now..."),T.current.setPosition({lat:t,lng:r}))}}I.current.panTo({lat:o.lat,lng:o.lng}),I.current.setZoom(17)}},title:"Center map on truck",children:"\ud83c\udfaf Center"}),(0,$r.jsx)("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-all flex items-center gap-2",onClick:()=>{if(o){const e="https://www.google.com/maps?q=".concat(o.lat,",").concat(o.lng);window.open(e,"_blank")}},title:"Open in Google Maps app",children:"\ud83d\udcf1 Google Maps"})]})]})]}),(0,$r.jsxs)("div",{className:"flex-1 relative bg-gray-100",children:[(0,$r.jsx)("div",{ref:D,className:"absolute inset-0"}),i?(0,$r.jsxs)("div",{className:"absolute top-4 left-4 px-3 py-1.5 bg-gray-600 text-white text-xs font-bold rounded-full flex items-center gap-2 shadow-lg z-10",children:[(0,$r.jsx)("span",{className:"w-2 h-2 bg-white rounded-full"}),"COMPLETED"]}):(0,$r.jsxs)("div",{className:"absolute top-4 left-4 px-3 py-1.5 bg-red-600 text-white text-xs font-bold rounded-full flex items-center gap-2 shadow-lg shadow-red-500/30 z-10",children:[(0,$r.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]}),v>0&&(0,$r.jsxs)("div",{className:"absolute top-4 right-4 px-4 py-2 bg-amber-500/90 backdrop-blur-sm text-white text-sm rounded-xl flex items-center gap-2 shadow-lg z-10",children:[(0,$r.jsx)("span",{className:"text-lg",children:"\u26a0\ufe0f"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"font-semibold",children:"GPS Filtering Active"}),(0,$r.jsxs)("div",{className:"text-amber-100 text-xs",children:["Rejected ",v," bad reading",v>1?"s":""]})]})]}),(0,$r.jsxs)("div",{className:"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm rounded-xl p-4 shadow-xl border border-gray-100 z-10",children:[(0,$r.jsx)("h4",{className:"font-bold text-gray-800 text-sm mb-3 flex items-center gap-2",children:"\ud83d\uddfa\ufe0f Delivery Route"}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,$r.jsx)("div",{className:"w-6 h-6 bg-emerald-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"A"}),(0,$r.jsx)("span",{className:"text-gray-600",children:"Pickup Location"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,$r.jsx)("div",{className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"B"}),(0,$r.jsx)("span",{className:"text-gray-600",children:"Dropoff Location"})]}),!i&&(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,$r.jsx)("div",{className:"w-6 h-6 bg-blue-100 text-lg flex items-center justify-center rounded",children:"\ud83d\ude9a"}),(0,$r.jsx)("span",{className:"text-gray-600",children:"Truck (Live)"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,$r.jsx)("div",{className:"w-6 h-1 bg-blue-500 rounded"}),(0,$r.jsx)("span",{className:"text-gray-600",children:"Truck Trail"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,$r.jsx)("div",{className:"w-6 h-1 bg-gray-400 rounded",style:{backgroundImage:"linear-gradient(90deg, #9ca3af 50%, transparent 50%)",backgroundSize:"8px 100%"}}),(0,$r.jsx)("span",{className:"text-gray-600",children:"Planned Route"})]})]})]})]})]})]})]})},Ek=()=>{var e;const{logout:r}=(0,t.useContext)(wa)||{logout:()=>{}},[n,a]=(ce(),(0,t.useState)([])),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)({search:"",status:"",dateFrom:"",dateTo:""});(0,t.useEffect)(()=>{const e=async()=>{try{var e;console.log("\ud83d\udd0d Fetching active deliveries...");const n=localStorage.getItem("token");if(console.log("\ud83d\udd12 Token found:",!!n),console.log("\ud83d\udd12 Token length:",(null===n||void 0===n?void 0:n.length)||0),!n)return console.log("\u274c No authentication token found"),a([]),i([]),void l(!1);Vr.defaults.headers.common.Authorization="Bearer ".concat(n),console.log("\ud83d\udd12 Set authorization header");try{console.log("\ud83d\udd0d Trying tracking API...");const e=await Vr.get("/api/tracking/active-deliveries",{timeout:1e4});if(e.data.success&&e.data.data.length>0){console.log("\u2705 Got deliveries from tracking API:",e.data.data.length);const t=e.data.data;return a(t),i(t),void l(!1)}console.log("\u26a0\ufe0f Tracking API returned no data:",e.data)}catch(u){var t,r;console.log("\u26a0\ufe0f Tracking API failed:",null===(t=u.response)||void 0===t?void 0:t.status,(null===(r=u.response)||void 0===r?void 0:r.data)||u.message),"ECONNABORTED"===u.code&&console.log("\u23f0 Tracking API timed out - server may not be running")}console.log("\ud83d\udd0d Trying client deliveries API...");const s=await Vr.get("/api/clients/deliveries",{timeout:1e4});console.log("\ud83d\udccb Got deliveries from client API:",(null===(e=s.data)||void 0===e?void 0:e.length)||0),console.log("\ud83d\udccb Client API response:",s.data);const o=s.data.filter(e=>{const t=(e.DeliveryStatus||e.deliveryStatus||"").toLowerCase().trim();return["in-progress","in progress","in_progress","inprogress","started","picked-up","picked up","picked_up","pickedup","ongoing","active","completed","delivered"].includes(t)});console.log("\ud83c\udfaf Trackable deliveries found:",o.length);const c=o.map(e=>({deliveryId:e.DeliveryID||e.id,deliveryStatus:e.DeliveryStatus||e.deliveryStatus,truckId:e.TruckID||e.truckId,truckPlate:e.TruckPlate||e.truckPlate,driverName:e.DriverName||e.driverName,clientName:e.ClientName||e.clientName,pickupLocation:e.PickupLocation||e.pickupLocation,deliveryAddress:e.DropoffLocation||e.deliveryAddress,deliveryDate:e.DeliveryDate||e.deliveryDate,deliveryTime:e.DeliveryTime||e.deliveryTime,currentLocation:null,isActive:!1,currentSpeed:0,pickupCoordinates:e.pickupCoordinates||null,dropoffCoordinates:e.dropoffCoordinates||null}));a(c),i(c),l(!1)}catch(lb){var n,s,o,c,d;console.error("\u274c Error fetching deliveries:",lb),console.error("\u274c Error details:",{status:null===(n=lb.response)||void 0===n?void 0:n.status,statusText:null===(s=lb.response)||void 0===s?void 0:s.statusText,data:null===(o=lb.response)||void 0===o?void 0:o.data,message:lb.message}),a([]),i([]),l(!1),"ECONNABORTED"===lb.code?console.log("\u23f0 Request timed out - server may be starting up"):403===(null===(c=lb.response)||void 0===c?void 0:c.status)?console.log("\ud83d\udd12 Authentication issue - please try logging in again"):500===(null===(d=lb.response)||void 0===d?void 0:d.status)&&console.log("\ud83d\udd27 Server error - please try again in a moment")}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[]),(0,t.useEffect)(()=>{let e=n;x.search&&(e=e.filter(e=>{const t=x.search.toLowerCase();return e.deliveryId&&e.deliveryId.toString().includes(x.search)||e.driverName&&e.driverName.toLowerCase().includes(t)||e.pickupLocation&&e.pickupLocation.toLowerCase().includes(t)||e.deliveryAddress&&e.deliveryAddress.toLowerCase().includes(t)||e.truckPlate&&e.truckPlate.toLowerCase().includes(t)||e.clientName&&e.clientName.toLowerCase().includes(t)})),x.status&&(e=e.filter(e=>e.deliveryStatus&&e.deliveryStatus.toLowerCase()===x.status.toLowerCase())),x.dateFrom&&(e=e.filter(e=>{const t=e.deliveryDate;return!t||new Date(t)>=new Date(x.dateFrom)})),x.dateTo&&(e=e.filter(e=>{const t=e.deliveryDate;return!t||new Date(t)<=new Date(x.dateTo)})),i(e)},[x,n]);const v=e=>{const{name:t,value:r}=e.target;b(e=>Ne(Ne({},e),{},{[t]:r}))},y=e=>{try{if(!e)return"Not specified";let t=null;if(e&&"object"===typeof e&&e.seconds)t=new Date(1e3*e.seconds);else if("string"===typeof e){const r=e.trim();if(!r||"invalid date"===r.toLowerCase()||"null"===r.toLowerCase()||"undefined"===r.toLowerCase())return"Not specified";t=new Date(r)}else if("number"===typeof e){if(0===e||isNaN(e))return"Not specified";t=e<1e10?new Date(1e3*e):new Date(e)}return t&&!isNaN(t.getTime())?t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not specified"}catch(lb){return console.error("Error formatting date:",lb),"Not specified"}};return o?(0,$r.jsx)(ri,{message:"Loading active deliveries..."}):(0,$r.jsxs)("div",{className:"h-full bg-gray-50 flex flex-col p-4 md:p-6 font-sans text-gray-800 overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,$r.jsx)("div",{className:"p-3 bg-blue-600 rounded-xl text-white shadow-lg shadow-blue-600/20",children:(0,$r.jsx)(Hs,{className:"text-xl"})}),(0,$r.jsx)("h1",{className:"text-2xl font-bold text-gray-800 m-0",children:"Delivery Tracker"})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 mb-6 overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-4",children:[(0,$r.jsx)("h2",{className:"text-xl font-bold text-gray-800 m-0",children:"In-Progress Deliveries"}),(0,$r.jsxs)("div",{className:"text-sm text-gray-500 font-medium bg-gray-100 px-3 py-1 rounded-full",children:["Showing ",s.length," of ",n.length," ","deliveries"]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-200/60 mb-6 relative",children:[(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,$r.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,$r.jsx)(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,$r.jsx)("input",{type:"text",name:"search",placeholder:"Search by ID, driver, truck, location...",value:x.search,onChange:v,className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,$r.jsx)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(f?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>g(!f),children:[(0,$r.jsx)(gs,{size:14}),"Filters",(x.status||x.dateFrom||x.dateTo)&&(0,$r.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:[x.status,x.dateFrom,x.dateTo].filter(Boolean).length})]})})]}),(0,$r.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium",children:["Showing ",s.length," of ",n.length," deliveries"]}),f&&(0,$r.jsxs)("div",{className:"absolute top-full mt-2 right-4 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-[400px] max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$r.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,$r.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>g(!1),children:(0,$r.jsx)(qs,{size:16})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,$r.jsxs)("select",{name:"status",value:x.status,onChange:v,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"",children:"All Status"}),(0,$r.jsx)("option",{value:"pending",children:"Pending"}),(0,$r.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,$r.jsx)("option",{value:"started",children:"Started"}),(0,$r.jsx)("option",{value:"picked-up",children:"Picked Up"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Date Range"}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,$r.jsx)("input",{type:"date",name:"dateFrom",value:x.dateFrom,onChange:v,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"}),(0,$r.jsx)("input",{type:"date",name:"dateTo",value:x.dateTo,onChange:v,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{b({search:"",status:"",dateFrom:"",dateTo:""}),g(!1)},children:"Reset"}),(0,$r.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>g(!1),children:"Apply Filters"})]})]})]}),(0,$r.jsx)("div",{className:"overflow-x-auto overflow-y-auto max-h-[calc(100vh-400px)] rounded-xl border border-gray-200",children:s.length>0?(0,$r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,$r.jsx)("thead",{className:"bg-gray-50",children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Delivery ID"}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)($a,{})," ",(0,$r.jsx)("span",{children:"Date"})]})}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)(Hs,{})," ",(0,$r.jsx)("span",{children:"Truck"})]})}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)(Ns,{})," ",(0,$r.jsx)("span",{children:"Route"})]})}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-4 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,$r.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:s.map(e=>(0,$r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,$r.jsxs)("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-lg font-mono text-xs font-bold border border-blue-100",children:["#",e.deliveryId.substring(0,12)]})}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-medium",children:y(e.deliveryDate)}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,$r.jsxs)("div",{className:"flex flex-col",children:[(0,$r.jsx)("span",{className:"text-sm font-bold text-gray-800",children:e.truckPlate||"N/A"}),e.driverName&&(0,$r.jsxs)("span",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[(0,$r.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),e.driverName]})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.pickupLocation||e.deliveryAddress?(0,$r.jsxs)("div",{className:"flex items-center gap-2 max-w-[300px]",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[(0,$r.jsx)(Ns,{className:"text-emerald-500 flex-shrink-0 text-xs"}),(0,$r.jsx)("span",{className:"truncate text-gray-600",title:e.pickupLocation,children:e.pickupLocation?e.pickupLocation.split(",")[0]:"N/A"})]}),(0,$r.jsx)("span",{className:"text-gray-300 font-bold",children:"\u2192"}),(0,$r.jsxs)("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[(0,$r.jsx)(Ns,{className:"text-red-500 flex-shrink-0 text-xs"}),(0,$r.jsx)("span",{className:"truncate text-gray-600",title:e.deliveryAddress,children:e.deliveryAddress?e.deliveryAddress.split(",")[0]:"N/A"})]})]}):(0,$r.jsx)("span",{className:"text-gray-400 italic text-xs",children:"No route info"})}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,$r.jsx)(cf,{status:e.deliveryStatus})}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(()=>{const t=(e.deliveryStatus||"").toLowerCase().trim(),r=["completed","delivered"].includes(t);return(0,$r.jsx)("button",{className:"w-9 h-9 rounded-xl border transition-all flex items-center justify-center mx-auto shadow-sm hover:shadow-md ".concat(r?"bg-gray-50 text-gray-500 hover:bg-gray-500 hover:text-white border-gray-200 hover:shadow-gray-500/20":"bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white border-blue-100 hover:shadow-blue-500/20"),onClick:()=>{const t=e.truckPlate||e.TruckPlate;t||r?(d(e.deliveryId),h(t),window.currentDeliveryData=e,m(!0)):alert("No truck assigned to this delivery")},title:r?"View Route Record":"Track Live GPS",children:(0,$r.jsx)(ps,{})})})()})]},e.deliveryId))})]}):(0,$r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,$r.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-4 text-4xl text-gray-300",children:(0,$r.jsx)(Hs,{})}),(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"No active deliveries found"}),(0,$r.jsx)("p",{className:"text-gray-500 text-sm max-w-sm mx-auto",children:"No active deliveries match your current filters. Try adjusting your search criteria."})]})})]}),p&&c&&(0,$r.jsx)(Lk,{deliveryId:c,truckId:u,deliveryStatus:(null===(e=n.find(e=>e.deliveryId===c))||void 0===e?void 0:e.deliveryStatus)||"",onClose:()=>{m(!1),d(null),h(null)}})]})};function Ik(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Ik(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const Mk=function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Ik(e))&&(n&&(n+=" "),n+=t);return n};var Rk=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(_q){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),Fk=Math.abs,zk=String.fromCharCode,Ok=Object.assign;function Bk(e){return e.trim()}function Uk(e,t,r){return e.replace(t,r)}function qk(e,t){return e.indexOf(t)}function Wk(e,t){return 0|e.charCodeAt(t)}function Hk(e,t,r){return e.slice(t,r)}function Vk(e){return e.length}function Kk(e){return e.length}function Gk(e,t){return t.push(e),e}var Yk=1,$k=1,Jk=0,Xk=0,Qk=0,Zk="";function eS(e,t,r,n,a,s,i){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:Yk,column:$k,length:i,return:""}}function tS(e,t){return Ok(eS("",null,null,"",null,null,0),e,{length:-e.length},t)}function rS(){return Qk=Xk>0?Wk(Zk,--Xk):0,$k--,10===Qk&&($k=1,Yk--),Qk}function nS(){return Qk=Xk<Jk?Wk(Zk,Xk++):0,$k++,10===Qk&&($k=1,Yk++),Qk}function aS(){return Wk(Zk,Xk)}function sS(){return Xk}function iS(e,t){return Hk(Zk,e,t)}function oS(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lS(e){return Yk=$k=1,Jk=Vk(Zk=e),Xk=0,[]}function cS(e){return Zk="",e}function dS(e){return Bk(iS(Xk-1,pS(91===e?e+2:40===e?e+1:e)))}function uS(e){for(;(Qk=aS())&&Qk<33;)nS();return oS(e)>2||oS(Qk)>3?"":" "}function hS(e,t){for(;--t&&nS()&&!(Qk<48||Qk>102||Qk>57&&Qk<65||Qk>70&&Qk<97););return iS(e,sS()+(t<6&&32==aS()&&32==nS()))}function pS(e){for(;nS();)switch(Qk){case e:return Xk;case 34:case 39:34!==e&&39!==e&&pS(Qk);break;case 40:41===e&&pS(e);break;case 92:nS()}return Xk}function mS(e,t){for(;nS()&&e+Qk!==57&&(e+Qk!==84||47!==aS()););return"/*"+iS(t,Xk-1)+"*"+zk(47===e?e:nS())}function fS(e){for(;!oS(aS());)nS();return iS(e,Xk)}var gS="-ms-",xS="-moz-",bS="-webkit-",vS="comm",yS="rule",wS="decl",jS="@keyframes";function NS(e,t){for(var r="",n=Kk(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function kS(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case wS:return e.return=e.return||e.value;case vS:return"";case jS:return e.return=e.value+"{"+NS(e.children,n)+"}";case yS:e.value=e.props.join(",")}return Vk(r=NS(e.children,n))?e.return=e.value+"{"+r+"}":""}function SS(e){return function(t){t.root||(t=t.return)&&e(t)}}function CS(e){return cS(_S("",null,null,null,[""],e=lS(e),0,[0],e))}function _S(e,t,r,n,a,s,i,o,l){for(var c=0,d=0,u=i,h=0,p=0,m=0,f=1,g=1,x=1,b=0,v="",y=a,w=s,j=n,N=v;g;)switch(m=b,b=nS()){case 40:if(108!=m&&58==Wk(N,u-1)){-1!=qk(N+=Uk(dS(b),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:N+=dS(b);break;case 9:case 10:case 13:case 32:N+=uS(m);break;case 92:N+=hS(sS()-1,7);continue;case 47:switch(aS()){case 42:case 47:Gk(AS(mS(nS(),sS()),t,r),l);break;default:N+="/"}break;case 123*f:o[c++]=Vk(N)*x;case 125*f:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+d:-1==x&&(N=Uk(N,/\f/g,"")),p>0&&Vk(N)-u&&Gk(p>32?DS(N+";",n,r,u-1):DS(Uk(N," ","")+";",n,r,u-2),l);break;case 59:N+=";";default:if(Gk(j=PS(N,t,r,c,d,a,o,v,y=[],w=[],u),s),123===b)if(0===d)_S(N,t,j,j,y,s,u,o,w);else switch(99===h&&110===Wk(N,3)?100:h){case 100:case 108:case 109:case 115:_S(e,j,j,n&&Gk(PS(e,j,j,0,0,a,o,v,a,y=[],u),w),a,w,u,o,n?y:w);break;default:_S(N,j,j,j,[""],w,0,o,w)}}c=d=p=0,f=x=1,v=N="",u=i;break;case 58:u=1+Vk(N),p=m;default:if(f<1)if(123==b)--f;else if(125==b&&0==f++&&125==rS())continue;switch(N+=zk(b),b*f){case 38:x=d>0?1:(N+="\f",-1);break;case 44:o[c++]=(Vk(N)-1)*x,x=1;break;case 64:45===aS()&&(N+=dS(nS())),h=aS(),d=u=Vk(v=N+=fS(sS())),b++;break;case 45:45===m&&2==Vk(N)&&(f=0)}}return s}function PS(e,t,r,n,a,s,i,o,l,c,d){for(var u=a-1,h=0===a?s:[""],p=Kk(h),m=0,f=0,g=0;m<n;++m)for(var x=0,b=Hk(e,u+1,u=Fk(f=i[m])),v=e;x<p;++x)(v=Bk(f>0?h[x]+" "+b:Uk(b,/&\f/g,h[x])))&&(l[g++]=v);return eS(e,t,r,0===a?yS:o,l,c,d)}function AS(e,t,r){return eS(e,t,r,vS,zk(Qk),Hk(e,2,-2),0)}function DS(e,t,r,n){return eS(e,t,r,wS,Hk(e,0,n),Hk(e,n+1,-1),n)}var TS=function(e,t,r){for(var n=0,a=0;n=a,a=aS(),38===n&&12===a&&(t[r]=1),!oS(a);)nS();return iS(e,Xk)},LS=function(e,t){return cS(function(e,t){var r=-1,n=44;do{switch(oS(n)){case 0:38===n&&12===aS()&&(t[r]=1),e[r]+=TS(Xk-1,t,r);break;case 2:e[r]+=dS(n);break;case 4:if(44===n){e[++r]=58===aS()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=zk(n)}}while(n=nS());return e}(lS(e),t))},ES=new WeakMap,IS=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ES.get(r))&&!n){ES.set(e,!0);for(var a=[],s=LS(t,a),i=r.props,o=0,l=0;o<s.length;o++)for(var c=0;c<i.length;c++,l++)e.props[l]=a[o]?s[o].replace(/&\f/g,i[c]):i[c]+" "+s[o]}}},MS=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function RS(e,t){switch(function(e,t){return 45^Wk(e,0)?(((t<<2^Wk(e,0))<<2^Wk(e,1))<<2^Wk(e,2))<<2^Wk(e,3):0}(e,t)){case 5103:return bS+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bS+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return bS+e+xS+e+gS+e+e;case 6828:case 4268:return bS+e+gS+e+e;case 6165:return bS+e+gS+"flex-"+e+e;case 5187:return bS+e+Uk(e,/(\w+).+(:[^]+)/,bS+"box-$1$2"+gS+"flex-$1$2")+e;case 5443:return bS+e+gS+"flex-item-"+Uk(e,/flex-|-self/,"")+e;case 4675:return bS+e+gS+"flex-line-pack"+Uk(e,/align-content|flex-|-self/,"")+e;case 5548:return bS+e+gS+Uk(e,"shrink","negative")+e;case 5292:return bS+e+gS+Uk(e,"basis","preferred-size")+e;case 6060:return bS+"box-"+Uk(e,"-grow","")+bS+e+gS+Uk(e,"grow","positive")+e;case 4554:return bS+Uk(e,/([^-])(transform)/g,"$1"+bS+"$2")+e;case 6187:return Uk(Uk(Uk(e,/(zoom-|grab)/,bS+"$1"),/(image-set)/,bS+"$1"),e,"")+e;case 5495:case 3959:return Uk(e,/(image-set\([^]*)/,bS+"$1$`$1");case 4968:return Uk(Uk(e,/(.+:)(flex-)?(.*)/,bS+"box-pack:$3"+gS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bS+e+e;case 4095:case 3583:case 4068:case 2532:return Uk(e,/(.+)-inline(.+)/,bS+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vk(e)-1-t>6)switch(Wk(e,t+1)){case 109:if(45!==Wk(e,t+4))break;case 102:return Uk(e,/(.+:)(.+)-([^]+)/,"$1"+bS+"$2-$3$1"+xS+(108==Wk(e,t+3)?"$3":"$2-$3"))+e;case 115:return~qk(e,"stretch")?RS(Uk(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Wk(e,t+1))break;case 6444:switch(Wk(e,Vk(e)-3-(~qk(e,"!important")&&10))){case 107:return Uk(e,":",":"+bS)+e;case 101:return Uk(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+bS+(45===Wk(e,14)?"inline-":"")+"box$3$1"+bS+"$2$3$1"+gS+"$2box$3")+e}break;case 5936:switch(Wk(e,t+11)){case 114:return bS+e+gS+Uk(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return bS+e+gS+Uk(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return bS+e+gS+Uk(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return bS+e+gS+e+e}return e}var FS=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case wS:e.return=RS(e.value,e.length);break;case jS:return NS([tS(e,{value:Uk(e.value,"@","@"+bS)})],n);case yS:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return NS([tS(e,{props:[Uk(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return NS([tS(e,{props:[Uk(t,/:(plac\w+)/,":"+bS+"input-$1")]}),tS(e,{props:[Uk(t,/:(plac\w+)/,":-moz-$1")]}),tS(e,{props:[Uk(t,/:(plac\w+)/,gS+"input-$1")]})],n)}return""})}}],zS=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var n,a,s=e.stylisPlugins||FS,i={},o=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)i[t[r]]=!0;o.push(e)});var l,c=[IS,MS],d=[kS,SS(function(e){l.insert(e)})],u=function(e){var t=Kk(e);return function(r,n,a,s){for(var i="",o=0;o<t;o++)i+=e[o](r,n,a,s)||"";return i}}(c.concat(s,d));a=function(e,t,r,n){l=r,function(e){NS(CS(e),u)}(e?e+"{"+t.styles+"}":t.styles),n&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Rk({key:t,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return h.sheet.hydrate(o),h};function OS(e,t,r){var n="";return r.split(" ").forEach(function(r){void 0!==e[r]?t.push(e[r]+";"):r&&(n+=r+" ")}),n}var BS=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},US=function(e,t,r){BS(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}};var qS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function WS(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var HS=/[A-Z]|^ms/g,VS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,KS=function(e){return 45===e.charCodeAt(1)},GS=function(e){return null!=e&&"boolean"!==typeof e},YS=WS(function(e){return KS(e)?e:e.replace(HS,"-$&").toLowerCase()}),$S=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(VS,function(e,t,r){return XS={name:t,styles:r,next:XS},t})}return 1===qS[e]||KS(e)||"number"!==typeof t||0===t?t:t+"px"};function JS(e,t,r){if(null==r)return"";var n=r;if(void 0!==n.__emotion_styles)return n;switch(typeof r){case"boolean":return"";case"object":var a=r;if(1===a.anim)return XS={name:a.name,styles:a.styles,next:XS},a.name;var s=r;if(void 0!==s.styles){var i=s.next;if(void 0!==i)for(;void 0!==i;)XS={name:i.name,styles:i.styles,next:XS},i=i.next;return s.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=JS(e,t,r[a])+";";else for(var s in r){var i=r[s];if("object"!==typeof i){var o=i;null!=t&&void 0!==t[o]?n+=s+"{"+t[o]+"}":GS(o)&&(n+=YS(s)+":"+$S(s,o)+";")}else if(!Array.isArray(i)||"string"!==typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=JS(e,t,i);switch(s){case"animation":case"animationName":n+=YS(s)+":"+l+";";break;default:n+=s+"{"+l+"}"}}else for(var c=0;c<i.length;c++)GS(i[c])&&(n+=YS(s)+":"+$S(s,i[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=XS,l=r(e);return XS=o,JS(e,t,l)}}var c=r;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var XS,QS=/label:\s*([^\s;{]+)\s*(;|$)/g;function ZS(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,a="";XS=void 0;var s=e[0];null==s||void 0===s.raw?(n=!1,a+=JS(r,t,s)):a+=s[0];for(var i=1;i<e.length;i++){if(a+=JS(r,t,e[i]),n)a+=s[i]}QS.lastIndex=0;for(var o,l="";null!==(o=QS.exec(a));)l+="-"+o[1];var c=function(e){for(var t,r=0,n=0,a=e.length;a>=4;++n,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(a){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(a)+l;return{name:c,styles:a,next:XS}}var eC=!!n.useInsertionEffect&&n.useInsertionEffect,tC=eC||function(e){return e()},rC=eC||t.useLayoutEffect,nC=t.createContext("undefined"!==typeof HTMLElement?zS({key:"css"}):null),aC=(nC.Provider,function(e){return(0,t.forwardRef)(function(r,n){var a=(0,t.useContext)(nC);return e(r,a,n)})}),sC=t.createContext({});var iC={}.hasOwnProperty,oC="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",lC=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return BS(t,r,n),tC(function(){return US(t,r,n)}),null},cC=aC(function(e,r,n){var a=e.css;"string"===typeof a&&void 0!==r.registered[a]&&(a=r.registered[a]);var s=e[oC],i=[a],o="";"string"===typeof e.className?o=OS(r.registered,i,e.className):null!=e.className&&(o=e.className+" ");var l=ZS(i,void 0,t.useContext(sC));o+=r.key+"-"+l.name;var c={};for(var d in e)iC.call(e,d)&&"css"!==d&&d!==oC&&(c[d]=e[d]);return c.className=o,n&&(c.ref=n),t.createElement(t.Fragment,null,t.createElement(lC,{cache:r,serialized:l,isStringTag:"string"===typeof s}),t.createElement(s,c))}),dC=cC,uC=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hC=WS(function(e){return uC.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),pC=function(e){return"theme"!==e},mC=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?hC:pC},fC=function(e,t,r){var n;if(t){var a=t.shouldForwardProp;n=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof n&&r&&(n=e.__emotion_forwardProp),n},gC=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return BS(t,r,n),tC(function(){return US(t,r,n)}),null},xC=function e(r,n){var a,s,i=r.__emotion_real===r,o=i&&r.__emotion_base||r;void 0!==n&&(a=n.label,s=n.target);var l=fC(r,n,i),d=l||mC(o),u=!d("as");return function(){var h=arguments,p=i&&void 0!==r.__emotion_styles?r.__emotion_styles.slice(0):[];if(void 0!==a&&p.push("label:"+a+";"),null==h[0]||void 0===h[0].raw)p.push.apply(p,h);else{var m=h[0];p.push(m[0]);for(var f=h.length,g=1;g<f;g++)p.push(h[g],m[g])}var x=aC(function(e,r,n){var a=u&&e.as||o,i="",c=[],h=e;if(null==e.theme){for(var m in h={},e)h[m]=e[m];h.theme=t.useContext(sC)}"string"===typeof e.className?i=OS(r.registered,c,e.className):null!=e.className&&(i=e.className+" ");var f=ZS(p.concat(c),r.registered,h);i+=r.key+"-"+f.name,void 0!==s&&(i+=" "+s);var g=u&&void 0===l?mC(a):d,x={};for(var b in e)u&&"as"===b||g(b)&&(x[b]=e[b]);return x.className=i,n&&(x.ref=n),t.createElement(t.Fragment,null,t.createElement(gC,{cache:r,serialized:f,isStringTag:"string"===typeof a}),t.createElement(a,x))});return x.displayName=void 0!==a?a:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",x.defaultProps=r.defaultProps,x.__emotion_real=x,x.__emotion_base=o,x.__emotion_styles=p,x.__emotion_forwardProp=l,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(t,r){return e(t,c({},n,r,{shouldForwardProp:fC(x,r,!0)})).apply(void 0,p)},x}}.bind(null);function bC(e,t){return xC(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){xC[e]=xC(e)});const vC=[];function yC(e){return vC[0]=e,ZS(vC)}function wC(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach(e=>t.searchParams.append("args[]",e)),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function jC(e){if("string"!==typeof e)throw new Error(wC(7));return e.charAt(0).toUpperCase()+e.slice(1)}var NC=r(528);function kC(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function SC(e){if(t.isValidElement(e)||(0,NC.Hy)(e)||!kC(e))return e;const r={};return Object.keys(e).forEach(t=>{r[t]=SC(e[t])}),r}function CC(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?Ne({},e):e;return kC(e)&&kC(r)&&Object.keys(r).forEach(s=>{t.isValidElement(r[s])||(0,NC.Hy)(r[s])?a[s]=r[s]:kC(r[s])&&Object.prototype.hasOwnProperty.call(e,s)&&kC(e[s])?a[s]=CC(e[s],r[s],n):n.clone?a[s]=kC(r[s])?SC(r[s]):r[s]:a[s]=r[s]}),a}const _C=function(e,t){return t?CC(e,t,{clone:!1}):e};function PC(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{var r,n;const a=/min-width:\s*([0-9.]+)/;return+((null===(r=e.match(a))||void 0===r?void 0:r[1])||0)-+((null===(n=t.match(a))||void 0===n?void 0:n[1])||0)});return r.length?r.reduce((e,r)=>{const n=t[r];return delete e[r],e[r]=n,e},Ne({},t)):t}const AC={xs:0,sm:600,md:900,lg:1200,xl:1536},DC={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(AC[e],"px)")},TC={containerQueries:e=>({up:t=>{let r="number"===typeof t?t:AC[t]||t;return"number"===typeof r&&(r="".concat(r,"px")),e?"@container ".concat(e," (min-width:").concat(r,")"):"@container (min-width:".concat(r,")")}})};function LC(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const e=n.breakpoints||DC;return t.reduce((n,a,s)=>(n[e.up(e.keys[s])]=r(t[s]),n),{})}if("object"===typeof t){const e=n.breakpoints||DC;return Object.keys(t).reduce((a,s)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith("@".concat(e)))||!!t.match(/^@\d/))}(e.keys,s)){const e=function(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,a]=r,s=Number.isNaN(+n)?n||0:+n;return e.containerQueries(a).up(s)}(n.containerQueries?n:TC,s);e&&(a[e]=r(t[s],s))}else if(Object.keys(e.values||AC).includes(s)){a[e.up(s)]=r(t[s],s)}else{const e=s;a[e]=t[e]}return a},{})}return r(t)}function EC(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=null===(e=t.keys)||void 0===e?void 0:e.reduce((e,r)=>(e[t.up(r)]={},e),{});return r||{}}function IC(e,t){return e.reduce((e,t)=>{const r=e[t];return(!r||0===Object.keys(r).length)&&delete e[t],e},t)}function MC(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&r){const r="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=r)return r}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function RC(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return n="function"===typeof e?e(r):Array.isArray(e)?e[r]||a:MC(e,r)||a,t&&(n=t(n,a,e)),n}const FC=function(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:a}=e,s=e=>{if(null==e[t])return null;const s=e[t],i=MC(e.theme,n)||{};return LC(e,s,e=>{let n=RC(i,a,e);return e===n&&"string"===typeof e&&(n=RC(i,a,"".concat(t).concat("default"===e?"":jC(e)),e)),!1===r?n:{[r]:n}})};return s.propTypes={},s.filterProps=[t],s};const zC={m:"margin",p:"padding"},OC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},BC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},UC=function(e){const t={};return r=>(void 0===t[r]&&(t[r]=e(r)),t[r])}(e=>{if(e.length>2){if(!BC[e])return[e];e=BC[e]}const[t,r]=e.split(""),n=zC[t],a=OC[r]||"";return Array.isArray(a)?a.map(e=>n+e):[n+a]}),qC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],WC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],HC=[...qC,...WC];function VC(e,t,r,n){var a;const s=null!==(a=MC(e,t,!0))&&void 0!==a?a:r;return"number"===typeof s||"string"===typeof s?e=>"string"===typeof e?e:"string"===typeof s?s.startsWith("var(")&&0===e?0:s.startsWith("var(")&&1===e?s:"calc(".concat(e," * ").concat(s,")"):s*e:Array.isArray(s)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const r=s[t];return e>=0?r:"number"===typeof r?-r:"string"===typeof r&&r.startsWith("var(")?"calc(-1 * ".concat(r,")"):"-".concat(r)}:"function"===typeof s?s:()=>{}}function KC(e){return VC(e,"spacing",8)}function GC(e,t){return"string"===typeof t||null==t?t:e(t)}function YC(e,t,r,n){if(!t.includes(r))return null;const a=function(e,t){return r=>e.reduce((e,n)=>(e[n]=GC(t,r),e),{})}(UC(r),n);return LC(e,e[r],a)}function $C(e,t){const r=KC(e.theme);return Object.keys(e).map(n=>YC(e,t,n,r)).reduce(_C,{})}function JC(e){return $C(e,qC)}function XC(e){return $C(e,WC)}function QC(e){return $C(e,HC)}JC.propTypes={},JC.filterProps=qC,XC.propTypes={},XC.filterProps=WC,QC.propTypes={},QC.filterProps=HC;const ZC=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.reduce((e,t)=>(t.filterProps.forEach(r=>{e[r]=t}),e),{}),a=e=>Object.keys(e).reduce((t,r)=>n[r]?_C(t,n[r](e)):t,{});return a.propTypes={},a.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),a};function e_(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function t_(e,t){return FC({prop:e,themeKey:"borders",transform:t})}const r_=t_("border",e_),n_=t_("borderTop",e_),a_=t_("borderRight",e_),s_=t_("borderBottom",e_),i_=t_("borderLeft",e_),o_=t_("borderColor"),l_=t_("borderTopColor"),c_=t_("borderRightColor"),d_=t_("borderBottomColor"),u_=t_("borderLeftColor"),h_=t_("outline",e_),p_=t_("outlineColor"),m_=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=VC(e.theme,"shape.borderRadius",4),r=e=>({borderRadius:GC(t,e)});return LC(e,e.borderRadius,r)}return null};m_.propTypes={},m_.filterProps=["borderRadius"];ZC(r_,n_,a_,s_,i_,o_,l_,c_,d_,u_,m_,h_,p_);const f_=e=>{if(void 0!==e.gap&&null!==e.gap){const t=VC(e.theme,"spacing",8),r=e=>({gap:GC(t,e)});return LC(e,e.gap,r)}return null};f_.propTypes={},f_.filterProps=["gap"];const g_=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=VC(e.theme,"spacing",8),r=e=>({columnGap:GC(t,e)});return LC(e,e.columnGap,r)}return null};g_.propTypes={},g_.filterProps=["columnGap"];const x_=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=VC(e.theme,"spacing",8),r=e=>({rowGap:GC(t,e)});return LC(e,e.rowGap,r)}return null};x_.propTypes={},x_.filterProps=["rowGap"];ZC(f_,g_,x_,FC({prop:"gridColumn"}),FC({prop:"gridRow"}),FC({prop:"gridAutoFlow"}),FC({prop:"gridAutoColumns"}),FC({prop:"gridAutoRows"}),FC({prop:"gridTemplateColumns"}),FC({prop:"gridTemplateRows"}),FC({prop:"gridTemplateAreas"}),FC({prop:"gridArea"}));function b_(e,t){return"grey"===t?t:e}ZC(FC({prop:"color",themeKey:"palette",transform:b_}),FC({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:b_}),FC({prop:"backgroundColor",themeKey:"palette",transform:b_}));function v_(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const y_=FC({prop:"width",transform:v_}),w_=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var r,n;const a=(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r||null===(r=r.values)||void 0===r?void 0:r[t])||AC[t];return a?"px"!==(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n?void 0:n.unit)?{maxWidth:"".concat(a).concat(e.theme.breakpoints.unit)}:{maxWidth:a}:{maxWidth:v_(t)}};return LC(e,e.maxWidth,t)}return null};w_.filterProps=["maxWidth"];const j_=FC({prop:"minWidth",transform:v_}),N_=FC({prop:"height",transform:v_}),k_=FC({prop:"maxHeight",transform:v_}),S_=FC({prop:"minHeight",transform:v_}),C_=(FC({prop:"size",cssProperty:"width",transform:v_}),FC({prop:"size",cssProperty:"height",transform:v_}),ZC(y_,w_,j_,N_,k_,S_,FC({prop:"boxSizing"})),{border:{themeKey:"borders",transform:e_},borderTop:{themeKey:"borders",transform:e_},borderRight:{themeKey:"borders",transform:e_},borderBottom:{themeKey:"borders",transform:e_},borderLeft:{themeKey:"borders",transform:e_},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:e_},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:m_},color:{themeKey:"palette",transform:b_},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:b_},backgroundColor:{themeKey:"palette",transform:b_},p:{style:XC},pt:{style:XC},pr:{style:XC},pb:{style:XC},pl:{style:XC},px:{style:XC},py:{style:XC},padding:{style:XC},paddingTop:{style:XC},paddingRight:{style:XC},paddingBottom:{style:XC},paddingLeft:{style:XC},paddingX:{style:XC},paddingY:{style:XC},paddingInline:{style:XC},paddingInlineStart:{style:XC},paddingInlineEnd:{style:XC},paddingBlock:{style:XC},paddingBlockStart:{style:XC},paddingBlockEnd:{style:XC},m:{style:JC},mt:{style:JC},mr:{style:JC},mb:{style:JC},ml:{style:JC},mx:{style:JC},my:{style:JC},margin:{style:JC},marginTop:{style:JC},marginRight:{style:JC},marginBottom:{style:JC},marginLeft:{style:JC},marginX:{style:JC},marginY:{style:JC},marginInline:{style:JC},marginInlineStart:{style:JC},marginInlineEnd:{style:JC},marginBlock:{style:JC},marginBlockStart:{style:JC},marginBlockEnd:{style:JC},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:f_},rowGap:{style:x_},columnGap:{style:g_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:v_},maxWidth:{style:w_},minWidth:{transform:v_},height:{transform:v_},maxHeight:{transform:v_},minHeight:{transform:v_},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const __=function(){function e(e,t,r,n){const a={[e]:t,theme:r},s=n[e];if(!s)return{[e]:t};const{cssProperty:i=e,themeKey:o,transform:l,style:c}=s;if(null==t)return null;if("typography"===o&&"inherit"===t)return{[e]:t};const d=MC(r,o)||{};if(c)return c(a);return LC(a,t,t=>{let r=RC(d,l,t);return t===r&&"string"===typeof t&&(r=RC(d,l,"".concat(e).concat("default"===t?"":jC(t)),t)),!1===i?r:{[i]:r}})}return function t(r){var n;const{sx:a,theme:s={},nested:i}=r||{};if(!a)return null;const o=null!==(n=s.unstable_sxConfig)&&void 0!==n?n:C_;function l(r){let n=r;if("function"===typeof r)n=r(s);else if("object"!==typeof r)return r;if(!n)return null;const a=EC(s.breakpoints),l=Object.keys(a);let c=a;return Object.keys(n).forEach(r=>{const a=function(e,t){return"function"===typeof e?e(t):e}(n[r],s);if(null!==a&&void 0!==a)if("object"===typeof a)if(o[r])c=_C(c,e(r,a,s,o));else{const e=LC({theme:s},a,e=>({[r]:e}));!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),a=new Set(n);return t.every(e=>a.size===Object.keys(e).length)}(e,a)?c=_C(c,e):c[r]=t({sx:a,theme:s,nested:!0})}else c=_C(c,e(r,a,s,o))}),!i&&s.modularCssLayers?{"@layer sx":PC(s,IC(l,c))}:PC(s,IC(l,c))}return Array.isArray(a)?a.map(l):l(a)}}();__.filterProps=["sx"];const P_=__,A_=["sx"];function D_(e){const{sx:t}=e,r=ke(e,A_),{systemProps:n,otherProps:a}=(e=>{var t,r;const n={systemProps:{},otherProps:{}},a=null!==(t=null===e||void 0===e||null===(r=e.theme)||void 0===r?void 0:r.unstable_sxConfig)&&void 0!==t?t:C_;return Object.keys(e).forEach(t=>{a[t]?n.systemProps[t]=e[t]:n.otherProps[t]=e[t]}),n})(r);let s;return s=Array.isArray(t)?[n,...t]:"function"===typeof t?function(){const e=t(...arguments);return kC(e)?Ne(Ne({},n),e):n}:Ne(Ne({},n),t),Ne(Ne({},a),{},{sx:s})}const T_=["values","unit","step"];function L_(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,a=ke(e,T_),s=(e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>Ne(Ne({},e),{},{[t.key]:t.val}),{})})(t),i=Object.keys(s);function o(e){const n="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(n).concat(r,")")}function l(e){const a="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(a-n/100).concat(r,")")}function c(e,a){const s=i.indexOf(a);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(r,") and ")+"(max-width:".concat((-1!==s&&"number"===typeof t[i[s]]?t[i[s]]:a)-n/100).concat(r,")")}return Ne({keys:i,values:s,up:o,down:l,between:c,only:function(e){return i.indexOf(e)+1<i.length?c(e,i[i.indexOf(e)+1]):o(e)},not:function(e){const t=i.indexOf(e);return 0===t?o(i[1]):t===i.length-1?l(i[t]):c(e,i[i.indexOf(e)+1]).replace("@media","@media not all and")},unit:r},a)}const E_={borderRadius:4};function I_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KC({spacing:e});if(e.mui)return e;const r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0===r.length?[1]:r).map(e=>{const r=t(e);return"number"===typeof r?"".concat(r,"px"):r}).join(" ")};return r.mui=!0,r}function M_(e,t){const r=this;if(r.vars){var n;if(null===(n=r.colorSchemes)||void 0===n||!n[e]||"function"!==typeof r.getColorSchemeSelector)return{};let a=r.getColorSchemeSelector(e);return"&"===a?t:((a.includes("data-")||a.includes("."))&&(a="*:where(".concat(a.replace(/\s*&$/,""),") &")),{[a]:t})}return r.palette.mode===e?t:{}}const R_=["breakpoints","palette","spacing","shape"];const F_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:r={},spacing:n,shape:a={}}=e,s=ke(e,R_),i=L_(t),o=I_(n);let l=CC({breakpoints:i,direction:"ltr",components:{},palette:Ne({mode:"light"},r),spacing:o,shape:Ne(Ne({},E_),a)},s);l=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function r(r,n){r.up=function(){return t(e.breakpoints.up(...arguments),n)},r.down=function(){return t(e.breakpoints.down(...arguments),n)},r.between=function(){return t(e.breakpoints.between(...arguments),n)},r.only=function(){return t(e.breakpoints.only(...arguments),n)},r.not=function(){const r=t(e.breakpoints.not(...arguments),n);return r.includes("not all and")?r.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):r}}const n={},a=e=>(r(n,e),n);return r(a),Ne(Ne({},e),{},{containerQueries:a})}(l),l.applyStyles=M_;for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];return l=d.reduce((e,t)=>CC(e,t),l),l.unstable_sxConfig=Ne(Ne({},C_),null===s||void 0===s?void 0:s.unstable_sxConfig),l.unstable_sx=function(e){return P_({sx:e,theme:this})},l};const z_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const r=t.useContext(sC);return r&&(n=r,0!==Object.keys(n).length)?r:e;var n},O_=F_();const B_=function(){return z_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:O_)},U_=["className","component"];const q_=e=>e,W_=(()=>{let e=q_;return{configure(t){e=t},generate:t=>e(t),reset(){e=q_}}})();const H_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,r))};function V_(e){return H_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function K_(e){if(e.type)return e;if("#"===e.charAt(0))return K_(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let r=e.match(t);return r&&1===r[0].length&&(r=r.map(e=>e+e)),r?"rgb".concat(4===r.length?"a":"","(").concat(r.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(wC(9,e));let n,a=e.substring(t+1,e.length-1);if("color"===r){if(a=a.split(" "),n=a.shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(n))throw new Error(wC(10,n))}else a=a.split(",");return a=a.map(e=>parseFloat(e)),{type:r,values:a,colorSpace:n}}const G_=(e,t)=>{try{return(e=>{const t=K_(e);return t.values.slice(0,3).map((e,r)=>t.type.includes("hsl")&&0!==r?"".concat(e,"%"):e).join(" ")})(e)}catch(lb){return e}};function Y_(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),n=t.includes("color")?"".concat(r," ").concat(n.join(" ")):"".concat(n.join(", ")),"".concat(t,"(").concat(n,")")}function $_(e){e=K_(e);const{values:t}=e,r=t[0],n=t[1]/100,a=t[2]/100,s=n*Math.min(a,1-a),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return a-s*Math.max(Math.min(t-3,9-t,1),-1)};let o="rgb";const l=[Math.round(255*i(0)),Math.round(255*i(8)),Math.round(255*i(4))];return"hsla"===e.type&&(o+="a",l.push(t[3])),Y_({type:o,values:l})}function J_(e){let t="hsl"===(e=K_(e)).type||"hsla"===e.type?K_($_(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function X_(e,t){return e=K_(e),t=V_(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Y_(e)}function Q_(e,t,r){try{return X_(e,t)}catch(lb){return e}}function Z_(e,t){if(e=K_(e),t=V_(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return Y_(e)}function eP(e,t,r){try{return Z_(e,t)}catch(lb){return e}}function tP(e,t){if(e=K_(e),t=V_(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Y_(e)}function rP(e,t,r){try{return tP(e,t)}catch(lb){return e}}function nP(e,t,r){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return J_(e)>.5?Z_(e,t):tP(e,t)}(e,t)}catch(lb){return e}}const aP={black:"#000",white:"#fff"},sP={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},iP={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},oP={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},lP={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},cP={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},dP={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},uP={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},hP=["mode","contrastThreshold","tonalOffset","colorSpace"];function pP(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:aP.white,default:aP.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const mP=pP();function fP(){return{text:{primary:aP.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:aP.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const gP=fP();function xP(e,t,r,n){const a=n.light||n,s=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=tP(e.main,a):"dark"===t&&(e.dark=Z_(e.main,s)))}function bP(e,t,r,n,a){const s=a.light||a,i=a.dark||1.5*a;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:"light"===r?t.light="color-mix(in ".concat(e,", ").concat(t.main,", #fff ").concat((100*s).toFixed(0),"%)"):"dark"===r&&(t.dark="color-mix(in ".concat(e,", ").concat(t.main,", #000 ").concat((100*i).toFixed(0),"%)")))}function vP(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2,colorSpace:a}=e,s=ke(e,hP),i=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:cP[200],light:cP[50],dark:cP[400]}:{main:cP[700],light:cP[400],dark:cP[800]}}(t),o=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:iP[200],light:iP[50],dark:iP[400]}:{main:iP[500],light:iP[300],dark:iP[700]}}(t),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:oP[500],light:oP[300],dark:oP[700]}:{main:oP[700],light:oP[400],dark:oP[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:dP[400],light:dP[300],dark:dP[700]}:{main:dP[700],light:dP[500],dark:dP[900]}}(t),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:uP[400],light:uP[300],dark:uP[700]}:{main:uP[800],light:uP[500],dark:uP[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:lP[400],light:lP[300],dark:lP[700]}:{main:"#ed6c02",light:lP[500],dark:lP[900]}}(t);function h(e){if(a)return function(e){return"oklch(from ".concat(e," var(--__l) 0 h / var(--__a))")}(e);const t=function(e,t){const r=J_(e),n=J_(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}(e,gP.text.primary)>=r?gP.text.primary:mP.text.primary;return t}const p=e=>{let{color:t,name:r,mainShade:s=500,lightShade:i=300,darkShade:o=700}=e;if(t=Ne({},t),!t.main&&t[s]&&(t.main=t[s]),!t.hasOwnProperty("main"))throw new Error(wC(11,r?" (".concat(r,")"):"",s));if("string"!==typeof t.main)throw new Error(wC(12,r?" (".concat(r,")"):"",JSON.stringify(t.main)));return a?(bP(a,t,"light",i,n),bP(a,t,"dark",o,n)):(xP(t,"light",i,n),xP(t,"dark",o,n)),t.contrastText||(t.contrastText=h(t.main)),t};let m;"light"===t?m=pP():"dark"===t&&(m=fP());return CC(Ne({common:Ne({},aP),mode:t,primary:p({color:i,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:l,name:"error"}),warning:p({color:u,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:d,name:"success"}),grey:sP,contrastThreshold:r,getContrastText:h,augmentColor:p,tonalOffset:n},m),s)}var yP=r(816);function wP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!n.length)return"";const s=n[0];return"string"!==typeof s||s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(s):", var(--".concat(e?"".concat(e,"-"):"").concat(s).concat(t(...n.slice(1)),")")}return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return"var(--".concat(e?"".concat(e,"-"):"").concat(r).concat(t(...a),")")}}function jP(e){const t={};return Object.entries(e).forEach(e=>{const[r,n]=e;"object"===typeof n&&(t[r]="".concat(n.fontStyle?"".concat(n.fontStyle," "):"").concat(n.fontVariant?"".concat(n.fontVariant," "):"").concat(n.fontWeight?"".concat(n.fontWeight," "):"").concat(n.fontStretch?"".concat(n.fontStretch," "):"").concat(n.fontSize||"").concat(n.lineHeight?"/".concat(n.lineHeight," "):"").concat(n.fontFamily||""))}),t}const NP=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=e;t.forEach((e,s)=>{s===t.length-1?Array.isArray(a)?a[Number(e)]=r:a&&"object"===typeof a&&(a[e]=r):a&&"object"===typeof a&&(a[e]||(a[e]=n.includes(e)?[]:{}),a=a[e])})};function kP(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},a={},s={},i={};return((e,t,r)=>{!function e(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(n).forEach(n=>{let[i,o]=n;(!r||r&&!r([...a,i]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?e(o,[...a,i],Array.isArray(o)?[...s,i]:s):t([...a,i],o,s))})}(e)})(e,(e,t,o)=>{if(("string"===typeof t||"number"===typeof t)&&(!n||!n(e,t))){const n="--".concat(r?"".concat(r,"-"):"").concat(e.join("-")),l=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px");return t})(e,t);Object.assign(a,{[n]:l}),NP(s,e,"var(".concat(n,")"),o),NP(i,e,"var(".concat(n,", ").concat(l,")"),o)}},e=>"vars"===e[0]),{css:a,vars:s,varsWithDefaults:i}}const SP=["colorSchemes","components","defaultColorScheme"];const CP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:r=x,disableCssColorScheme:n,colorSchemeSelector:a,enableContrastVars:s}=t,{colorSchemes:i={},components:o,defaultColorScheme:l="light"}=e,c=ke(e,SP),{vars:d,css:u,varsWithDefaults:h}=kP(c,t);let p=h;const m={},{[l]:f}=i,g=ke(i,[l].map(yP.A));if(Object.entries(g||{}).forEach(e=>{let[r,n]=e;const{vars:a,css:s,varsWithDefaults:i}=kP(n,t);p=CC(p,i),m[r]={css:s,vars:a}}),f){const{css:e,vars:r,varsWithDefaults:n}=kP(f,t);p=CC(p,n),m[l]={css:e,vars:r}}function x(t,r){let n=a;if("class"===a&&(n=".%s"),"data"===a&&(n="[data-%s]"),null!==a&&void 0!==a&&a.startsWith("data-")&&!a.includes("%s")&&(n="[".concat(a,'="%s"]')),t){if("media"===n){var s;if(e.defaultColorScheme===t)return":root";const n=(null===(s=i[t])||void 0===s||null===(s=s.palette)||void 0===s?void 0:s.mode)||t;return{["@media (prefers-color-scheme: ".concat(n,")")]:{":root":r}}}if(n)return e.defaultColorScheme===t?":root, ".concat(n.replace("%s",String(t))):n.replace("%s",String(t))}return":root"}return{vars:p,generateThemeVars:()=>{let e=Ne({},d);return Object.entries(m).forEach(t=>{let[,{vars:r}]=t;e=CC(e,r)}),e},generateStyleSheets:()=>{const t=[],a=e.defaultColorScheme||"light";function o(e,r){Object.keys(r).length&&t.push("string"===typeof e?{[e]:Ne({},r)}:e)}o(r(void 0,Ne({},u)),u);const{[a]:l}=m,c=ke(m,[a].map(yP.A));if(l){var d;const{css:e}=l,t=null===(d=i[a])||void 0===d||null===(d=d.palette)||void 0===d?void 0:d.mode,s=Ne(!n&&t?{colorScheme:t}:{},e);o(r(a,Ne({},s)),s)}return Object.entries(c).forEach(e=>{var t;let[a,{css:s}]=e;const l=null===(t=i[a])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=Ne(!n&&l?{colorScheme:l}:{},s);o(r(a,Ne({},c)),c)}),s&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}};function _P(e,t){return Ne({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const PP=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const AP={textTransform:"uppercase"},DP='"Roboto", "Helvetica", "Arial", sans-serif';function TP(e,t){const r="function"===typeof t?t(e):t,{fontFamily:n=DP,fontSize:a=14,fontWeightLight:s=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:u}=r,h=ke(r,PP);const p=a/14,m=u||(e=>"".concat(e/c*p,"rem")),f=(e,t,r,a,s)=>{return Ne(Ne(Ne({fontFamily:n,fontWeight:e,fontSize:m(t),lineHeight:r},n===DP?{letterSpacing:"".concat((i=a/t,Math.round(1e5*i)/1e5),"em")}:{}),s),d);var i},g={h1:f(s,96,1.167,-1.5),h2:f(s,60,1.2,-.5),h3:f(i,48,1.167,0),h4:f(i,34,1.235,.25),h5:f(i,24,1.334,0),h6:f(o,20,1.6,.15),subtitle1:f(i,16,1.75,.15),subtitle2:f(o,14,1.57,.1),body1:f(i,16,1.5,.15),body2:f(i,14,1.43,.15),button:f(o,14,1.75,.4,AP),caption:f(i,12,1.66,.4),overline:f(i,12,2.66,1,AP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return CC(Ne({htmlFontSize:c,pxToRem:m,fontFamily:n,fontSize:a,fontWeightLight:s,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:l},g),h,{clone:!1})}function LP(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const EP=["none",LP(0,2,1,-1,0,1,1,0,0,1,3,0),LP(0,3,1,-2,0,2,2,0,0,1,5,0),LP(0,3,3,-2,0,3,4,0,0,1,8,0),LP(0,2,4,-1,0,4,5,0,0,1,10,0),LP(0,3,5,-1,0,5,8,0,0,1,14,0),LP(0,3,5,-1,0,6,10,0,0,1,18,0),LP(0,4,5,-2,0,7,10,1,0,2,16,1),LP(0,5,5,-3,0,8,10,1,0,3,14,2),LP(0,5,6,-3,0,9,12,1,0,3,16,2),LP(0,6,6,-3,0,10,14,1,0,4,18,3),LP(0,6,7,-4,0,11,15,1,0,4,20,3),LP(0,7,8,-4,0,12,17,2,0,5,22,4),LP(0,7,8,-4,0,13,19,2,0,5,24,4),LP(0,7,9,-4,0,14,21,2,0,5,26,4),LP(0,8,9,-5,0,15,22,2,0,6,28,5),LP(0,8,10,-5,0,16,24,2,0,6,30,5),LP(0,8,11,-5,0,17,26,2,0,6,32,5),LP(0,9,11,-5,0,18,28,2,0,7,34,6),LP(0,9,12,-6,0,19,29,2,0,7,36,6),LP(0,10,13,-6,0,20,31,3,0,8,38,7),LP(0,10,13,-6,0,21,33,3,0,8,40,7),LP(0,10,14,-6,0,22,35,3,0,8,42,7),LP(0,11,14,-7,0,23,36,3,0,9,44,8),LP(0,11,15,-7,0,24,38,3,0,9,46,8)],IP=["duration","easing","delay"],MP={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},RP={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function FP(e){return"".concat(Math.round(e),"ms")}function zP(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function OP(e){const t=Ne(Ne({},MP),e.easing),r=Ne(Ne({},RP),e.duration);return Ne(Ne({getAutoHeightDuration:zP,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:a=r.standard,easing:s=t.easeInOut,delay:i=0}=n;ke(n,IP);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof a?a:FP(a)," ").concat(s," ").concat("string"===typeof i?i:FP(i))).join(",")}},e),{},{easing:t,duration:r})}const BP={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function UP(e){return kC(e)||"undefined"===typeof e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)}function qP(){const e=Ne({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const r=Object.entries(t);for(let n=0;n<r.length;n++){const[a,s]=r[n];!UP(s)||a.startsWith("unstable_")?delete t[a]:kC(s)&&(t[a]=Ne({},s),e(t[a]))}}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const WP=["breakpoints","mixins","spacing","palette","transitions","typography","shape","colorSpace"];function HP(e){return"number"===typeof e?"".concat((100*e).toFixed(0),"%"):"calc((".concat(e,") * 100%)")}function VP(e){Object.assign(e,{alpha(t,r){const n=this||e;return n.colorSpace?"oklch(from ".concat(t," l c h / ").concat("string"===typeof r?"calc(".concat(r,")"):r,")"):n.vars?"rgba(".concat(t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")," / ").concat("string"===typeof r?"calc(".concat(r,")"):r,")"):X_(t,(e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let r=0;for(let n=0;n<t.length;n+=1)r+=+t[n];return r})(r))},lighten(t,r){const n=this||e;return n.colorSpace?"color-mix(in ".concat(n.colorSpace,", ").concat(t,", #fff ").concat(HP(r),")"):tP(t,r)},darken(t,r){const n=this||e;return n.colorSpace?"color-mix(in ".concat(n.colorSpace,", ").concat(t,", #000 ").concat(HP(r),")"):Z_(t,r)}})}const KP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:r={},spacing:n,palette:a={},transitions:s={},typography:i={},shape:o,colorSpace:l}=e,c=ke(e,WP);if(e.vars&&void 0===e.generateThemeVars)throw new Error(wC(20));const d=vP(Ne(Ne({},a),{},{colorSpace:l})),u=F_(e);let h=CC(u,{mixins:_P(u.breakpoints,r),palette:d,shadows:EP.slice(),typography:TP(d,i),transitions:OP(s),zIndex:Ne({},BP)});h=CC(h,c);for(var p=arguments.length,m=new Array(p>1?p-1:0),f=1;f<p;f++)m[f-1]=arguments[f];return h=m.reduce((e,t)=>CC(e,t),h),h.unstable_sxConfig=Ne(Ne({},C_),null===c||void 0===c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return P_({sx:e,theme:this})},h.toRuntimeSource=qP,VP(h),h};function GP(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const YP=["palette","opacity","overlays","colorSpace"],$P=[...Array(25)].map((e,t)=>{if(0===t)return"none";const r=GP(t);return"linear-gradient(rgba(255 255 255 / ".concat(r,"), rgba(255 255 255 / ").concat(r,"))")});function JP(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function XP(e){return"dark"===e?$P:[]}function QP(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const ZP=e=>[...[...Array(25)].map((t,r)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(r)),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],eA=e=>(t,r)=>{const n=e.rootSelector||":root",a=e.colorSchemeSelector;let s=a;if("class"===a&&(s=".%s"),"data"===a&&(s="[data-%s]"),null!==a&&void 0!==a&&a.startsWith("data-")&&!a.includes("%s")&&(s="[".concat(a,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const a={};return ZP(e.cssVarPrefix).forEach(e=>{a[e]=r[e],delete r[e]}),"media"===s?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:a}}:s?{[s.replace("%s",t)]:a,["".concat(n,", ").concat(s.replace("%s",t))]:r}:{[n]:Ne(Ne({},r),a)}}if(s&&"media"!==s)return"".concat(n,", ").concat(s.replace("%s",String(t)))}else if(t){if("media"===s)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[n]:r}};if(s)return s.replace("%s",String(t))}return n},tA=["palette"],rA=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","nativeColor","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function nA(e,t,r){!e[t]&&r&&(e[t]=r)}function aA(e){return"string"===typeof e&&e.startsWith("hsl")?$_(e):e}function sA(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=G_(aA(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const iA=e=>{try{return e()}catch(lb){}};function oA(e,t,r,n,a){var s,i,o;if(!r)return;r=!0===r?{}:r;const l="dark"===a?"dark":"light";var c;if(!n)return void(t[a]=function(e){const{palette:t={mode:"light"},opacity:r,overlays:n,colorSpace:a}=e,s=ke(e,YP),i=vP(Ne(Ne({},t),{},{colorSpace:a}));return Ne({palette:i,opacity:Ne(Ne({},JP(i.mode)),r),overlays:n||XP(i.mode)},s)}(Ne(Ne({},r),{},{palette:Ne({mode:l},null===(c=r)||void 0===c?void 0:c.palette),colorSpace:e})));const d=KP(Ne(Ne({},n),{},{palette:Ne({mode:l},null===(s=r)||void 0===s?void 0:s.palette),colorSpace:e})),{palette:u}=d,h=ke(d,tA);return t[a]=Ne(Ne({},r),{},{palette:u,opacity:Ne(Ne({},JP(l)),null===(i=r)||void 0===i?void 0:i.opacity),overlays:(null===(o=r)||void 0===o?void 0:o.overlays)||XP(l)}),h}function lA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:n=!1,cssVarPrefix:a="mui",nativeColor:s=!1,shouldSkipGeneratingVar:i=QP,colorSchemeSelector:o=(t.light&&t.dark?"media":void 0),rootSelector:l=":root"}=e,c=ke(e,rA),d=Object.keys(t)[0],u=r||(t.light&&"light"!==d?"light":d),h=function(){return wP(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(a),{[u]:p,light:m,dark:f}=t,g=Ne({},ke(t,[u,"light","dark"].map(yP.A)));let x,b=p;if(("dark"===u&&!("dark"in t)||"light"===u&&!("light"in t))&&(b=!0),!b)throw new Error(wC(21,u));s&&(x="oklch");const v=oA(x,g,b,c,u);m&&!g.light&&oA(x,g,m,void 0,"light"),f&&!g.dark&&oA(x,g,f,void 0,"dark");let y=Ne(Ne({defaultColorScheme:u},v),{},{cssVarPrefix:a,colorSchemeSelector:o,rootSelector:l,getCssVar:h,colorSchemes:g,font:Ne(Ne({},jP(v.typography)),v.font),spacing:(w=c.spacing,"number"===typeof w?"".concat(w,"px"):"string"===typeof w||"function"===typeof w||Array.isArray(w)?w:"8px")});var w;Object.keys(y.colorSchemes).forEach(e=>{const t=y.colorSchemes[e].palette,r=e=>{const r=e.split("-"),n=r[1],a=r[2];return h(e,t[n][a])};function n(e,t,r){if(x){let n;return e===Q_&&(n="transparent ".concat((100*(1-r)).toFixed(0),"%")),e===eP&&(n="#000 ".concat((100*r).toFixed(0),"%")),e===rP&&(n="#fff ".concat((100*r).toFixed(0),"%")),"color-mix(in ".concat(x,", ").concat(t,", ").concat(n,")")}return e(t,r)}var a;if("light"===t.mode&&(nA(t.common,"background","#fff"),nA(t.common,"onBackground","#000")),"dark"===t.mode&&(nA(t.common,"background","#000"),nA(t.common,"onBackground","#fff")),a=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{a[e]||(a[e]={})}),"light"===t.mode){nA(t.Alert,"errorColor",n(eP,t.error.light,.6)),nA(t.Alert,"infoColor",n(eP,t.info.light,.6)),nA(t.Alert,"successColor",n(eP,t.success.light,.6)),nA(t.Alert,"warningColor",n(eP,t.warning.light,.6)),nA(t.Alert,"errorFilledBg",r("palette-error-main")),nA(t.Alert,"infoFilledBg",r("palette-info-main")),nA(t.Alert,"successFilledBg",r("palette-success-main")),nA(t.Alert,"warningFilledBg",r("palette-warning-main")),nA(t.Alert,"errorFilledColor",iA(()=>t.getContrastText(t.error.main))),nA(t.Alert,"infoFilledColor",iA(()=>t.getContrastText(t.info.main))),nA(t.Alert,"successFilledColor",iA(()=>t.getContrastText(t.success.main))),nA(t.Alert,"warningFilledColor",iA(()=>t.getContrastText(t.warning.main))),nA(t.Alert,"errorStandardBg",n(rP,t.error.light,.9)),nA(t.Alert,"infoStandardBg",n(rP,t.info.light,.9)),nA(t.Alert,"successStandardBg",n(rP,t.success.light,.9)),nA(t.Alert,"warningStandardBg",n(rP,t.warning.light,.9)),nA(t.Alert,"errorIconColor",r("palette-error-main")),nA(t.Alert,"infoIconColor",r("palette-info-main")),nA(t.Alert,"successIconColor",r("palette-success-main")),nA(t.Alert,"warningIconColor",r("palette-warning-main")),nA(t.AppBar,"defaultBg",r("palette-grey-100")),nA(t.Avatar,"defaultBg",r("palette-grey-400")),nA(t.Button,"inheritContainedBg",r("palette-grey-300")),nA(t.Button,"inheritContainedHoverBg",r("palette-grey-A100")),nA(t.Chip,"defaultBorder",r("palette-grey-400")),nA(t.Chip,"defaultAvatarColor",r("palette-grey-700")),nA(t.Chip,"defaultIconColor",r("palette-grey-700")),nA(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),nA(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),nA(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),nA(t.LinearProgress,"primaryBg",n(rP,t.primary.main,.62)),nA(t.LinearProgress,"secondaryBg",n(rP,t.secondary.main,.62)),nA(t.LinearProgress,"errorBg",n(rP,t.error.main,.62)),nA(t.LinearProgress,"infoBg",n(rP,t.info.main,.62)),nA(t.LinearProgress,"successBg",n(rP,t.success.main,.62)),nA(t.LinearProgress,"warningBg",n(rP,t.warning.main,.62)),nA(t.Skeleton,"bg",x?n(Q_,t.text.primary,.11):"rgba(".concat(r("palette-text-primaryChannel")," / 0.11)")),nA(t.Slider,"primaryTrack",n(rP,t.primary.main,.62)),nA(t.Slider,"secondaryTrack",n(rP,t.secondary.main,.62)),nA(t.Slider,"errorTrack",n(rP,t.error.main,.62)),nA(t.Slider,"infoTrack",n(rP,t.info.main,.62)),nA(t.Slider,"successTrack",n(rP,t.success.main,.62)),nA(t.Slider,"warningTrack",n(rP,t.warning.main,.62));const e=x?n(eP,t.background.default,.6825):nP(t.background.default,.8);nA(t.SnackbarContent,"bg",e),nA(t.SnackbarContent,"color",iA(()=>x?gP.text.primary:t.getContrastText(e))),nA(t.SpeedDialAction,"fabHoverBg",nP(t.background.paper,.15)),nA(t.StepConnector,"border",r("palette-grey-400")),nA(t.StepContent,"border",r("palette-grey-400")),nA(t.Switch,"defaultColor",r("palette-common-white")),nA(t.Switch,"defaultDisabledColor",r("palette-grey-100")),nA(t.Switch,"primaryDisabledColor",n(rP,t.primary.main,.62)),nA(t.Switch,"secondaryDisabledColor",n(rP,t.secondary.main,.62)),nA(t.Switch,"errorDisabledColor",n(rP,t.error.main,.62)),nA(t.Switch,"infoDisabledColor",n(rP,t.info.main,.62)),nA(t.Switch,"successDisabledColor",n(rP,t.success.main,.62)),nA(t.Switch,"warningDisabledColor",n(rP,t.warning.main,.62)),nA(t.TableCell,"border",n(rP,n(Q_,t.divider,1),.88)),nA(t.Tooltip,"bg",n(Q_,t.grey[700],.92))}if("dark"===t.mode){nA(t.Alert,"errorColor",n(rP,t.error.light,.6)),nA(t.Alert,"infoColor",n(rP,t.info.light,.6)),nA(t.Alert,"successColor",n(rP,t.success.light,.6)),nA(t.Alert,"warningColor",n(rP,t.warning.light,.6)),nA(t.Alert,"errorFilledBg",r("palette-error-dark")),nA(t.Alert,"infoFilledBg",r("palette-info-dark")),nA(t.Alert,"successFilledBg",r("palette-success-dark")),nA(t.Alert,"warningFilledBg",r("palette-warning-dark")),nA(t.Alert,"errorFilledColor",iA(()=>t.getContrastText(t.error.dark))),nA(t.Alert,"infoFilledColor",iA(()=>t.getContrastText(t.info.dark))),nA(t.Alert,"successFilledColor",iA(()=>t.getContrastText(t.success.dark))),nA(t.Alert,"warningFilledColor",iA(()=>t.getContrastText(t.warning.dark))),nA(t.Alert,"errorStandardBg",n(eP,t.error.light,.9)),nA(t.Alert,"infoStandardBg",n(eP,t.info.light,.9)),nA(t.Alert,"successStandardBg",n(eP,t.success.light,.9)),nA(t.Alert,"warningStandardBg",n(eP,t.warning.light,.9)),nA(t.Alert,"errorIconColor",r("palette-error-main")),nA(t.Alert,"infoIconColor",r("palette-info-main")),nA(t.Alert,"successIconColor",r("palette-success-main")),nA(t.Alert,"warningIconColor",r("palette-warning-main")),nA(t.AppBar,"defaultBg",r("palette-grey-900")),nA(t.AppBar,"darkBg",r("palette-background-paper")),nA(t.AppBar,"darkColor",r("palette-text-primary")),nA(t.Avatar,"defaultBg",r("palette-grey-600")),nA(t.Button,"inheritContainedBg",r("palette-grey-800")),nA(t.Button,"inheritContainedHoverBg",r("palette-grey-700")),nA(t.Chip,"defaultBorder",r("palette-grey-700")),nA(t.Chip,"defaultAvatarColor",r("palette-grey-300")),nA(t.Chip,"defaultIconColor",r("palette-grey-300")),nA(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),nA(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),nA(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),nA(t.LinearProgress,"primaryBg",n(eP,t.primary.main,.5)),nA(t.LinearProgress,"secondaryBg",n(eP,t.secondary.main,.5)),nA(t.LinearProgress,"errorBg",n(eP,t.error.main,.5)),nA(t.LinearProgress,"infoBg",n(eP,t.info.main,.5)),nA(t.LinearProgress,"successBg",n(eP,t.success.main,.5)),nA(t.LinearProgress,"warningBg",n(eP,t.warning.main,.5)),nA(t.Skeleton,"bg",x?n(Q_,t.text.primary,.13):"rgba(".concat(r("palette-text-primaryChannel")," / 0.13)")),nA(t.Slider,"primaryTrack",n(eP,t.primary.main,.5)),nA(t.Slider,"secondaryTrack",n(eP,t.secondary.main,.5)),nA(t.Slider,"errorTrack",n(eP,t.error.main,.5)),nA(t.Slider,"infoTrack",n(eP,t.info.main,.5)),nA(t.Slider,"successTrack",n(eP,t.success.main,.5)),nA(t.Slider,"warningTrack",n(eP,t.warning.main,.5));const e=x?n(rP,t.background.default,.985):nP(t.background.default,.98);nA(t.SnackbarContent,"bg",e),nA(t.SnackbarContent,"color",iA(()=>x?mP.text.primary:t.getContrastText(e))),nA(t.SpeedDialAction,"fabHoverBg",nP(t.background.paper,.15)),nA(t.StepConnector,"border",r("palette-grey-600")),nA(t.StepContent,"border",r("palette-grey-600")),nA(t.Switch,"defaultColor",r("palette-grey-300")),nA(t.Switch,"defaultDisabledColor",r("palette-grey-600")),nA(t.Switch,"primaryDisabledColor",n(eP,t.primary.main,.55)),nA(t.Switch,"secondaryDisabledColor",n(eP,t.secondary.main,.55)),nA(t.Switch,"errorDisabledColor",n(eP,t.error.main,.55)),nA(t.Switch,"infoDisabledColor",n(eP,t.info.main,.55)),nA(t.Switch,"successDisabledColor",n(eP,t.success.main,.55)),nA(t.Switch,"warningDisabledColor",n(eP,t.warning.main,.55)),nA(t.TableCell,"border",n(eP,n(Q_,t.divider,1),.68)),nA(t.Tooltip,"bg",n(Q_,t.grey[700],.92))}sA(t.background,"default"),sA(t.background,"paper"),sA(t.common,"background"),sA(t.common,"onBackground"),sA(t,"divider"),Object.keys(t).forEach(e=>{const r=t[e];"tonalOffset"!==e&&r&&"object"===typeof r&&(r.main&&nA(t[e],"mainChannel",G_(aA(r.main))),r.light&&nA(t[e],"lightChannel",G_(aA(r.light))),r.dark&&nA(t[e],"darkChannel",G_(aA(r.dark))),r.contrastText&&nA(t[e],"contrastTextChannel",G_(aA(r.contrastText))),"text"===e&&(sA(t[e],"primary"),sA(t[e],"secondary")),"action"===e&&(r.active&&sA(t[e],"active"),r.selected&&sA(t[e],"selected")))})});for(var j=arguments.length,N=new Array(j>1?j-1:0),k=1;k<j;k++)N[k-1]=arguments[k];y=N.reduce((e,t)=>CC(e,t),y);const S={prefix:a,disableCssColorScheme:n,shouldSkipGeneratingVar:i,getSelector:eA(y),enableContrastVars:s},{vars:C,generateThemeVars:_,generateStyleSheets:P}=CP(y,S);return y.vars=C,Object.entries(y.colorSchemes[y.defaultColorScheme]).forEach(e=>{let[t,r]=e;y[t]=r}),y.generateThemeVars=_,y.generateStyleSheets=P,y.generateSpacing=function(){return I_(c.spacing,KC(this))},y.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(o),y.spacing=y.generateSpacing(),y.shouldSkipGeneratingVar=i,y.unstable_sxConfig=Ne(Ne({},C_),null===c||void 0===c?void 0:c.unstable_sxConfig),y.unstable_sx=function(e){return P_({sx:e,theme:this})},y.toRuntimeSource=qP,y}const cA=["palette","cssVariables","colorSchemes","defaultColorScheme"];function dA(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]=Ne(Ne({},!0!==r&&r),{},{palette:vP(Ne(Ne({},!0===r?{}:r.palette),{},{mode:t}))}))}function uA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:r=!1,colorSchemes:n=(t?void 0:{light:!0}),defaultColorScheme:a=(null===t||void 0===t?void 0:t.mode)}=e,s=ke(e,cA),i=a||"light",o=null===n||void 0===n?void 0:n[i],l=Ne(Ne({},n),t?{[i]:Ne(Ne({},"boolean"!==typeof o&&o),{},{palette:t})}:void 0);for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];if(!1===r){if(!("colorSchemes"in e))return KP(e,...d);let r=t;"palette"in e||l[i]&&(!0!==l[i]?r=l[i].palette:"dark"===i&&(r={mode:"dark"}));const n=KP(Ne(Ne({},e),{},{palette:r}),...d);return n.defaultColorScheme=i,n.colorSchemes=l,"light"===n.palette.mode&&(n.colorSchemes.light=Ne(Ne({},!0!==l.light&&l.light),{},{palette:n.palette}),dA(n,"dark",l.dark)),"dark"===n.palette.mode&&(n.colorSchemes.dark=Ne(Ne({},!0!==l.dark&&l.dark),{},{palette:n.palette}),dA(n,"light",l.light)),n}return t||"light"in l||"light"!==i||(l.light=!0),lA(Ne(Ne({},s),{},{colorSchemes:l,defaultColorScheme:i},"boolean"!==typeof r&&r),...d)}const hA="$$material",pA={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mA(e,t){const r=pA[t];return r?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(r):"".concat(W_.generate(e),"-").concat(t)}function fA(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const n={};return t.forEach(t=>{n[t]=mA(e,t,r)}),n}const gA=fA("MuiBox",["root"]),xA=uA(),bA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:r,defaultTheme:n,defaultClassName:a="MuiBox-root",generateClassName:s}=e,i=bC("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(P_),o=t.forwardRef(function(e,t){const o=B_(n),l=D_(e),{className:c,component:d="div"}=l,u=ke(l,U_);return(0,$r.jsx)(i,Ne({as:d,ref:t,className:Mk(c,s?s(a):a),theme:r&&o[r]||o},u))});return o}({themeId:hA,defaultTheme:xA,defaultClassName:gA.root,generateClassName:W_.generate}),vA=bA;function yA(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function wA(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n={};for(const a in e){const s=e[a];let i="",o=!0;for(let e=0;e<s.length;e+=1){const n=s[e];n&&(i+=(!0===o?"":" ")+t(n),o=!1,r&&r[n]&&(i+=" "+r[n]))}n[a]=i}return n}var jA=function(e,r){var n=arguments;if(null==r||!iC.call(r,"css"))return t.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=dC,s[1]=function(e,t){var r={};for(var n in t)iC.call(t,n)&&(r[n]=t[n]);return r[oC]=e,r}(e,r);for(var i=2;i<a;i++)s[i]=n[i];return t.createElement.apply(null,s)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(jA||(jA={}));var NA=aC(function(e,r){var n=ZS([e.styles],void 0,t.useContext(sC)),a=t.useRef();return rC(function(){var e=r.key+"-global",t=new r.sheet.constructor({key:e,nonce:r.sheet.nonce,container:r.sheet.container,speedy:r.sheet.isSpeedy}),s=!1,i=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return r.sheet.tags.length&&(t.before=r.sheet.tags[0]),null!==i&&(s=!0,i.setAttribute("data-emotion",e),t.hydrate([i])),a.current=[t,s],function(){t.flush()}},[r]),rC(function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&US(r,n.next,!0),t.tags.length){var s=t.tags[t.tags.length-1].nextElementSibling;t.before=s,t.flush()}r.insert("",n,t,!1)}},[r,n.name]),null});function kA(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ZS(t)}function SA(){var e=kA.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const CA=["variants"];function _A(e){const{variants:t}=e,r=ke(e,CA),n={variants:t,style:yC(r),isProcessed:!0};return n.style===r||t&&t.forEach(e=>{"function"!==typeof e.style&&(e.style=yC(e.style))}),n}const PA=["variants"],AA=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],DA=F_();function TA(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function LA(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}function EA(e){return e?(t,r)=>r[e]:null}function IA(e,t,r){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap(t=>IA(e,t,r));if(Array.isArray(null===n||void 0===n?void 0:n.variants)){let t;if(n.isProcessed)t=r?LA(n.style,r):n.style;else{const{variants:e}=n,a=ke(n,PA);t=r?LA(yC(a),r):a}return MA(e,n.variants,[t],r)}return null!==n&&void 0!==n&&n.isProcessed?r?LA(yC(n.style),r):n.style:r?LA(yC(n),r):n}function MA(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let i=0;i<t.length;i+=1){const o=t[i];if("function"===typeof o.props){if(null!==r&&void 0!==r||(r=Ne(Ne(Ne({},e),e.ownerState),{},{ownerState:e.ownerState})),!o.props(r))continue}else for(const t in o.props){var s;if(e[t]!==o.props[t]&&(null===(s=e.ownerState)||void 0===s?void 0:s[t])!==o.props[t])continue e}"function"===typeof o.style?(null!==r&&void 0!==r||(r=Ne(Ne(Ne({},e),e.ownerState),{},{ownerState:e.ownerState})),n.push(a?LA(yC(o.style(r)),a):o.style(r))):n.push(a?LA(yC(o.style),a):o.style)}return n}function RA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:r=DA,rootShouldForwardProp:n=TA,slotShouldForwardProp:a=TA}=e;function s(e){!function(e,t,r){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?r:e.theme[t]||e.theme}(e,t,r)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,e=>e.filter(e=>e!==P_));const{name:r,slot:i,skipVariantsResolver:o,skipSx:l,overridesResolver:c=EA(zA(i))}=t,d=ke(t,AA),u=r&&r.startsWith("Mui")||i?"components":"custom",h=void 0!==o?o:i&&"Root"!==i&&"root"!==i||!1,p=l||!1;let m=TA;"Root"===i||"root"===i?m=n:i?m=a:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const f=bC(e,Ne({shouldForwardProp:m,label:FA(r,i)},d)),g=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return IA(t,e,t.theme.modularCssLayers?u:void 0)};if(kC(e)){const t=_A(e);return function(e){return t.variants?IA(e,t,e.theme.modularCssLayers?u:void 0):e.theme.modularCssLayers?LA(t.style,u):t.style}}return e},x=function(){const t=[];for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];const o=a.map(g),l=[];if(t.push(s),r&&c&&l.push(function(e){var t;const n=null===(t=e.theme.components)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.styleOverrides;if(!n)return null;const a={};for(const r in n)a[r]=IA(e,n[r],e.theme.modularCssLayers?"theme":void 0);return c(e,a)}),r&&!h&&l.push(function(e){var t;const n=e.theme,a=null===n||void 0===n||null===(t=n.components)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.variants;return a?MA(e,a,[],e.theme.modularCssLayers?"theme":void 0):null}),p||l.push(P_),Array.isArray(o[0])){const e=o.shift(),r=new Array(t.length).fill(""),n=new Array(l.length).fill("");let a;a=[...r,...e,...n],a.raw=[...r,...e.raw,...n],t.unshift(a)}const d=[...t,...o,...l],u=f(...d);return e.muiName&&(u.muiName=e.muiName),u};return f.withConfig&&(x.withConfig=f.withConfig),x}}function FA(e,t){}function zA(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const OA=uA();const BA=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},UA=e=>BA(e)&&"classes"!==e,qA=RA({themeId:hA,defaultTheme:OA,rootShouldForwardProp:UA}),WA={theme:void 0};const HA=function(e){let t,r;return function(n){let a=t;return void 0!==a&&n.theme===r||(WA.theme=n.theme,a=_A(e(WA)),t=a,r=n.theme),a}};function VA(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Ne({},t);for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=a;if("components"===s||"slots"===s)n[s]=Ne(Ne({},e[s]),n[s]);else if("componentsProps"===s||"slotProps"===s){const a=e[s],i=t[s];if(i)if(a){n[s]=Ne({},i);for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e)){const t=e;n[s][t]=VA(a[t],i[t],r)}}else n[s]=i;else n[s]=a||{}}else"className"===s&&r&&t.className?n.className=Mk(null===e||void 0===e?void 0:e.className,null===t||void 0===t?void 0:t.className):"style"===s&&r&&t.style?n.style=Ne(Ne({},null===e||void 0===e?void 0:e.style),null===t||void 0===t?void 0:t.style):void 0===n[s]&&(n[s]=e[s])}return n}const KA=t.createContext(void 0);function GA(e){let{props:r,name:n}=e;return function(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const a=t.components[r];return a.defaultProps?VA(a.defaultProps,n,t.components.mergeClassNameAndStyle):a.styleOverrides||a.variants?n:VA(a,n,t.components.mergeClassNameAndStyle)}({props:r,name:n,theme:{components:t.useContext(KA)}})}function YA(e){return GA(e)}const $A=jC;function JA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,r]=t;return r&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||"string"!==typeof e[r])return!1;return!0}(r,e)}}function XA(e){return mA("MuiCircularProgress",e)}fA("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const QA=["className","color","disableShrink","enableTrackSlot","size","style","thickness","value","variant"];var ZA,eD,tD,rD;const nD=44,aD=SA(ZA||(ZA=yA(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),sD=SA(eD||(eD=yA(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: -126px;\n  }\n"]))),iD="string"!==typeof aD?kA(tD||(tD=yA(["\n        animation: "," 1.4s linear infinite;\n      "])),aD):null,oD="string"!==typeof sD?kA(rD||(rD=yA(["\n        animation: "," 1.4s ease-in-out infinite;\n      "])),sD):null,lD=qA("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["color".concat($A(r.color))]]}})(HA(e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:iD||{animation:"".concat(aD," 1.4s linear infinite")}},...Object.entries(t.palette).filter(JA()).map(e=>{let[r]=e;return{props:{color:r},style:{color:(t.vars||t).palette[r].main}}})]}})),cD=qA("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),dD=qA("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t["circle".concat($A(r.variant))],r.disableShrink&&t.circleDisableShrink]}})(HA(e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:oD||{animation:"".concat(sD," 1.4s ease-in-out infinite")}}]}})),uD=qA("circle",{name:"MuiCircularProgress",slot:"Track"})(HA(e=>{let{theme:t}=e;return{stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}})),hD=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiCircularProgress"}),{className:n,color:a="primary",disableShrink:s=!1,enableTrackSlot:i=!1,size:o=40,style:l,thickness:c=3.6,value:d=0,variant:u="indeterminate"}=r,h=ke(r,QA),p=Ne(Ne({},r),{},{color:a,disableShrink:s,size:o,thickness:c,value:d,variant:u,enableTrackSlot:i}),m=(e=>{const{classes:t,variant:r,color:n,disableShrink:a}=e;return wA({root:["root",r,"color".concat($A(n))],svg:["svg"],track:["track"],circle:["circle","circle".concat($A(r)),a&&"circleDisableShrink"]},XA,t)})(p),f={},g={},x={};if("determinate"===u){const e=2*Math.PI*((nD-c)/2);f.strokeDasharray=e.toFixed(3),x["aria-valuenow"]=Math.round(d),f.strokeDashoffset="".concat(((100-d)/100*e).toFixed(3),"px"),g.transform="rotate(-90deg)"}return(0,$r.jsx)(lD,Ne(Ne(Ne({className:Mk(m.root,n),style:Ne(Ne({width:o,height:o},g),l),ownerState:p,ref:t,role:"progressbar"},x),h),{},{children:(0,$r.jsxs)(cD,{className:m.svg,ownerState:p,viewBox:"".concat(22," ").concat(22," ").concat(nD," ").concat(nD),children:[i?(0,$r.jsx)(uD,{className:m.track,ownerState:p,cx:nD,cy:nD,r:(nD-c)/2,fill:"none",strokeWidth:c,"aria-hidden":"true"}):null,(0,$r.jsx)(dD,{className:m.circle,style:f,ownerState:p,cx:nD,cy:nD,r:(nD-c)/2,fill:"none",strokeWidth:c})]})}))}),pD=hD;function mD(e){const{styles:t,defaultTheme:r={}}=e,n="function"===typeof t?e=>{return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,$r.jsx)(NA,{styles:n})}function fD(e){const t=yC(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles="@layer global{".concat(t.styles,"}")),t):e}const gD=function(e){let{styles:t,themeId:r,defaultTheme:n={}}=e;const a=B_(n),s=r&&a[r]||a;let i="function"===typeof t?t(s):t;return s.modularCssLayers&&(i=Array.isArray(i)?i.map(e=>fD("function"===typeof e?e(s):e)):fD(i)),(0,$r.jsx)(mD,{styles:i})};const xD=function(e){return(0,$r.jsx)(gD,Ne(Ne({},e),{},{defaultTheme:OA,themeId:hA}))};function bD(e){return mA("MuiTypography",e)}fA("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const vD=["color"],yD=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],wD={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},jD=D_,ND=qA("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t["align".concat($A(r.align))],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(HA(e=>{var t;let{theme:r}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(r.typography).filter(e=>{let[t,r]=e;return"inherit"!==t&&r&&"object"===typeof r}).map(e=>{let[t,r]=e;return{props:{variant:t},style:r}}),...Object.entries(r.palette).filter(JA()).map(e=>{let[t]=e;return{props:{color:t},style:{color:(r.vars||r).palette[t].main}}}),...Object.entries((null===(t=r.palette)||void 0===t?void 0:t.text)||{}).filter(e=>{let[,t]=e;return"string"===typeof t}).map(e=>{let[t]=e;return{props:{color:"text".concat($A(t))},style:{color:(r.vars||r).palette.text[t]}}}),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}})),kD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},SD=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiTypography"}),{color:n}=r,a=ke(r,vD),s=!wD[n],i=jD(Ne(Ne({},a),s&&{color:n})),{align:o="inherit",className:l,component:c,gutterBottom:d=!1,noWrap:u=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=kD}=i,f=ke(i,yD),g=Ne(Ne({},i),{},{align:o,color:n,className:l,component:c,gutterBottom:d,noWrap:u,paragraph:h,variant:p,variantMapping:m}),x=c||(h?"p":m[p]||kD[p])||"span",b=(e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:a,variant:s,classes:i}=e;return wA({root:["root",s,"inherit"!==e.align&&"align".concat($A(t)),r&&"gutterBottom",n&&"noWrap",a&&"paragraph"]},bD,i)})(g);return(0,$r.jsx)(ND,Ne(Ne({as:x,ref:t,className:Mk(b.root,l)},f),{},{ownerState:g,style:Ne(Ne({},"inherit"!==o&&{"--Typography-textAlign":o}),f.style)}))}),CD=SD,_D=e=>{let{message:t="Loading..."}=e;return(0,$r.jsxs)(vA,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"calc(100vh - 70px)"},children:[(0,$r.jsx)(pD,{size:50,sx:{mb:2}}),(0,$r.jsx)(CD,{variant:"h6",color:"text.secondary",children:t})]})};function PD(){const e=B_(OA);return e[hA]||e}function AD(e){return mA("MuiPaper",e)}fA("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const DD=["className","component","elevation","square","variant"],TD=qA("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,"elevation"===r.variant&&t["elevation".concat(r.elevation)]]}})(HA(e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}})),LD=t.forwardRef(function(e,t){var r;const n=YA({props:e,name:"MuiPaper"}),a=PD(),{className:s,component:i="div",elevation:o=1,square:l=!1,variant:c="elevation"}=n,d=ke(n,DD),u=Ne(Ne({},n),{},{component:i,elevation:o,square:l,variant:c}),h=(e=>{const{square:t,elevation:r,variant:n,classes:a}=e;return wA({root:["root",n,!t&&"rounded","elevation"===n&&"elevation".concat(r)]},AD,a)})(u);return(0,$r.jsx)(TD,Ne(Ne({as:i,ownerState:u,className:Mk(h.root,s),ref:t},d),{},{style:Ne(Ne({},"elevation"===c&&Ne(Ne({"--Paper-shadow":(a.vars||a).shadows[o]},a.vars&&{"--Paper-overlay":null===(r=a.vars.overlays)||void 0===r?void 0:r[o]}),!a.vars&&"dark"===a.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat(X_("#fff",GP(o)),", ").concat(X_("#fff",GP(o)),")")})),d.style)}))}),ED=LD;function ID(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const a=t.useRef(void 0),s=t.useCallback(e=>{const t=r.map(t=>{if(null==t)return null;if("function"===typeof t){const r=t,n=r(e);return"function"===typeof n?n:()=>{r(null)}}return t.current=e,()=>{t.current=null}});return()=>{t.forEach(e=>null===e||void 0===e?void 0:e())}},r);return t.useMemo(()=>r.every(e=>null==e)?null:e=>{a.current&&(a.current(),a.current=void 0),null!=e&&(a.current=s(e))},r)}const MD=function(e){return"string"===typeof e};const RD=function(e,t,r){return void 0===e||MD(e)?t:Ne(Ne({},t),{},{ownerState:Ne(Ne({},t.ownerState),r)})};const FD=function(e,t,r){return"function"===typeof e?e(t,r):e};const zD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const r={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&"function"===typeof e[r]&&!t.includes(r)).forEach(t=>{r[t]=e[t]}),r};const OD=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(r=>{t[r]=e[r]}),t};const BD=function(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:a,className:s}=e;if(!t){const e=Mk(null===r||void 0===r?void 0:r.className,s,null===a||void 0===a?void 0:a.className,null===n||void 0===n?void 0:n.className),t=Ne(Ne(Ne({},null===r||void 0===r?void 0:r.style),null===a||void 0===a?void 0:a.style),null===n||void 0===n?void 0:n.style),i=Ne(Ne(Ne({},r),a),n);return e.length>0&&(i.className=e),Object.keys(t).length>0&&(i.style=t),{props:i,internalRef:void 0}}const i=zD(Ne(Ne({},a),n)),o=OD(n),l=OD(a),c=t(i),d=Mk(null===c||void 0===c?void 0:c.className,null===r||void 0===r?void 0:r.className,s,null===a||void 0===a?void 0:a.className,null===n||void 0===n?void 0:n.className),u=Ne(Ne(Ne(Ne({},null===c||void 0===c?void 0:c.style),null===r||void 0===r?void 0:r.style),null===a||void 0===a?void 0:a.style),null===n||void 0===n?void 0:n.style),h=Ne(Ne(Ne(Ne({},c),r),l),o);return d.length>0&&(h.className=d),Object.keys(u).length>0&&(h.style=u),{props:h,internalRef:c.ref}},UD=["className","elementType","ownerState","externalForwardedProps","internalForwardedProps","shouldForwardComponentProp"],qD=["component","slots","slotProps"],WD=["component"];function HD(e,t){const{className:r,elementType:n,ownerState:a,externalForwardedProps:s,internalForwardedProps:i,shouldForwardComponentProp:o=!1}=t,l=ke(t,UD),{component:c,slots:d={[e]:void 0},slotProps:u={[e]:void 0}}=s,h=ke(s,qD),p=d[e]||n,m=FD(u[e],a),f=BD(Ne(Ne({className:r},l),{},{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:m})),{props:{component:g},internalRef:x}=f,b=ke(f.props,WD),v=ID(x,null===m||void 0===m?void 0:m.ref,t.ref),y="root"===e?g||c:g;return[p,RD(p,Ne(Ne(Ne(Ne(Ne(Ne({},"root"===e&&!c&&!d[e]&&i),"root"!==e&&!d[e]&&i),b),y&&!o&&{as:y}),y&&o&&{component:y}),{},{ref:v}),a)]}function VD(e){return mA("MuiAlert",e)}const KD=fA("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);let GD=0;const YD=Ne({},n).useId;function $D(e){if(void 0!==YD){const t=YD();return null!==e&&void 0!==e?e:t}return function(e){const[r,n]=t.useState(e),a=e||r;return t.useEffect(()=>{null==r&&(GD+=1,n("mui-".concat(GD)))},[r]),a}(e)}const JD=$D;function XD(e){try{return e.matches(":focus-visible")}catch(lb){0}return!1}const QD=ID,ZD="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;const eT=function(e){const r=t.useRef(e);return ZD(()=>{r.current=e}),t.useRef(function(){return(0,r.current)(...arguments)}).current},tT=eT,rT={};function nT(e,r){const n=t.useRef(rT);return n.current===rT&&(n.current=e(r)),n}class aT{static create(){return new aT}static use(){const e=nT(aT.create).current,[r,n]=t.useState(!1);return e.shouldMount=r,e.setShouldMount=n,t.useEffect(e.mountEffect,[r]),e}constructor(){(0,we.A)(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())}),this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.start(...t)})}stop(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.stop(...t)})}pulsate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.pulsate(...t)})}}const sT=t.createContext(null);function iT(e,r){var n=Object.create(null);return e&&t.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return r&&(0,t.isValidElement)(e)?r(e):e}(e)}),n}function oT(e,t,r){return null!=r[t]?r[t]:e.props[t]}function lT(e,r,n){var a=iT(e.children),s=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,a=Object.create(null),s=[];for(var i in e)i in t?s.length&&(a[i]=s,s=[]):s.push(i);var o={};for(var l in t){if(a[l])for(n=0;n<a[l].length;n++){var c=a[l][n];o[a[l][n]]=r(c)}o[l]=r(l)}for(n=0;n<s.length;n++)o[s[n]]=r(s[n]);return o}(r,a);return Object.keys(s).forEach(function(i){var o=s[i];if((0,t.isValidElement)(o)){var l=i in r,c=i in a,d=r[i],u=(0,t.isValidElement)(d)&&!d.props.in;!c||l&&!u?c||!l||u?c&&l&&(0,t.isValidElement)(d)&&(s[i]=(0,t.cloneElement)(o,{onExited:n.bind(null,o),in:d.props.in,exit:oT(o,"exit",e),enter:oT(o,"enter",e)})):s[i]=(0,t.cloneElement)(o,{in:!1}):s[i]=(0,t.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:oT(o,"exit",e),enter:oT(o,"enter",e)})}}),s}var cT=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},dT=function(e){function r(t,r){var n,a=(n=e.call(this,t,r)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},n}i(r,e);var n=r.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,r){var n,a,s=r.children,i=r.handleExited;return{children:r.firstRender?(n=e,a=i,iT(n.children,function(e){return(0,t.cloneElement)(e,{onExited:a.bind(null,e),in:!0,appear:oT(e,"appear",n),enter:oT(e,"enter",n),exit:oT(e,"exit",n)})})):lT(e,s,i),firstRender:!1}},n.handleExited=function(e,t){var r=iT(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var r=c({},t.children);return delete r[e.key],{children:r}}))},n.render=function(){var e=this.props,r=e.component,n=e.childFactory,a=O(e,["component","childFactory"]),s=this.state.contextValue,i=cT(this.state.children).map(n);return delete a.appear,delete a.enter,delete a.exit,null===r?t.createElement(sT.Provider,{value:s},i):t.createElement(sT.Provider,{value:s},t.createElement(r,a,i))},r}(t.Component);dT.propTypes={},dT.defaultProps={component:"div",childFactory:function(e){return e}};const uT=dT,hT=[];class pT{constructor(){(0,we.A)(this,"currentId",null),(0,we.A)(this,"clear",()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)}),(0,we.A)(this,"disposeEffect",()=>this.clear)}static create(){return new pT}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function mT(){const e=nT(pT.create).current;var r;return r=e.disposeEffect,t.useEffect(r,hT),e}const fT=function(e){const{className:r,classes:n,pulsate:a=!1,rippleX:s,rippleY:i,rippleSize:o,in:l,onExited:c,timeout:d}=e,[u,h]=t.useState(!1),p=Mk(r,n.ripple,n.rippleVisible,a&&n.ripplePulsate),m={width:o,height:o,top:-o/2+i,left:-o/2+s},f=Mk(n.child,u&&n.childLeaving,a&&n.childPulsate);return l||u||h(!0),t.useEffect(()=>{if(!l&&null!=c){const e=setTimeout(c,d);return()=>{clearTimeout(e)}}},[c,l,d]),(0,$r.jsx)("span",{className:p,style:m,children:(0,$r.jsx)("span",{className:f})})};const gT=fA("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),xT=["center","classes","className"];var bT,vT,yT,wT;const jT=SA(bT||(bT=yA(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))),NT=SA(vT||(vT=yA(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))),kT=SA(yT||(yT=yA(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))),ST=qA("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),CT=qA(fT,{name:"MuiTouchRipple",slot:"Ripple"})(wT||(wT=yA(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),gT.rippleVisible,jT,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},gT.ripplePulsate,e=>{let{theme:t}=e;return t.transitions.duration.shorter},gT.child,gT.childLeaving,NT,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},gT.childPulsate,kT,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),_T=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:s={},className:i}=n,o=ke(n,xT),[l,c]=t.useState([]),d=t.useRef(0),u=t.useRef(null);t.useEffect(()=>{u.current&&(u.current(),u.current=null)},[l]);const h=t.useRef(!1),p=mT(),m=t.useRef(null),f=t.useRef(null),g=t.useCallback(e=>{const{pulsate:t,rippleX:r,rippleY:n,rippleSize:a,cb:i}=e;c(e=>[...e,(0,$r.jsx)(CT,{classes:{ripple:Mk(s.ripple,gT.ripple),rippleVisible:Mk(s.rippleVisible,gT.rippleVisible),ripplePulsate:Mk(s.ripplePulsate,gT.ripplePulsate),child:Mk(s.child,gT.child),childLeaving:Mk(s.childLeaving,gT.childLeaving),childPulsate:Mk(s.childPulsate,gT.childPulsate)},timeout:550,pulsate:t,rippleX:r,rippleY:n,rippleSize:a},d.current)]),d.current+=1,u.current=i},[s]),x=t.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:n=!1,center:s=a||t.pulsate,fakeElement:i=!1}=t;if("mousedown"===(null===e||void 0===e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null===e||void 0===e?void 0:e.type)&&(h.current=!0);const o=i?null:f.current,l=o?o.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,d,u;if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),d=Math.round(l.height/2);else{const{clientX:t,clientY:r}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),d=Math.round(r-l.top)}if(s)u=Math.sqrt((2*l.width**2+l.height**2)/3),u%2===0&&(u+=1);else{const e=2*Math.max(Math.abs((o?o.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((o?o.clientHeight:0)-d),d)+2;u=Math.sqrt(e**2+t**2)}null!==e&&void 0!==e&&e.touches?null===m.current&&(m.current=()=>{g({pulsate:n,rippleX:c,rippleY:d,rippleSize:u,cb:r})},p.start(80,()=>{m.current&&(m.current(),m.current=null)})):g({pulsate:n,rippleX:c,rippleY:d,rippleSize:u,cb:r})},[a,g,p]),b=t.useCallback(()=>{x({},{pulsate:!0})},[x]),v=t.useCallback((e,t)=>{if(p.clear(),"touchend"===(null===e||void 0===e?void 0:e.type)&&m.current)return m.current(),m.current=null,void p.start(0,()=>{v(e,t)});m.current=null,c(e=>e.length>0?e.slice(1):e),u.current=t},[p]);return t.useImperativeHandle(r,()=>({pulsate:b,start:x,stop:v}),[b,x,v]),(0,$r.jsx)(ST,Ne(Ne({className:Mk(gT.root,s.root,i),ref:f},o),{},{children:(0,$r.jsx)(uT,{component:null,exit:!0,children:l})}))}),PT=_T;function AT(e){return mA("MuiButtonBase",e)}const DT=fA("MuiButtonBase",["root","disabled","focusVisible"]),TT=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],LT=qA("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(DT.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ET=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:s=!1,children:i,className:o,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:u=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:f,onClick:g,onContextMenu:x,onDragLeave:b,onFocus:v,onFocusVisible:y,onKeyDown:w,onKeyUp:j,onMouseDown:N,onMouseLeave:k,onMouseUp:S,onTouchEnd:C,onTouchMove:_,onTouchStart:P,tabIndex:A=0,TouchRippleProps:D,touchRippleRef:T,type:L}=n,E=ke(n,TT),I=t.useRef(null),M=aT.use(),R=QD(M.ref,T),[F,z]=t.useState(!1);c&&F&&z(!1),t.useImperativeHandle(a,()=>({focusVisible:()=>{z(!0),I.current.focus()}}),[]);const O=M.shouldMount&&!d&&!c;t.useEffect(()=>{F&&h&&!d&&M.pulsate()},[d,h,F,M]);const B=IT(M,"start",N,u),U=IT(M,"stop",x,u),q=IT(M,"stop",b,u),W=IT(M,"stop",S,u),H=IT(M,"stop",e=>{F&&e.preventDefault(),k&&k(e)},u),V=IT(M,"start",P,u),K=IT(M,"stop",C,u),G=IT(M,"stop",_,u),Y=IT(M,"stop",e=>{XD(e.target)||z(!1),f&&f(e)},!1),$=tT(e=>{I.current||(I.current=e.currentTarget),XD(e.target)&&(z(!0),y&&y(e)),v&&v(e)}),J=()=>{const e=I.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},X=tT(e=>{h&&!e.repeat&&F&&" "===e.key&&M.stop(e,()=>{M.start(e)}),e.target===e.currentTarget&&J()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&J()&&"Enter"===e.key&&!c&&(e.preventDefault(),g&&g(e))}),Q=tT(e=>{h&&" "===e.key&&F&&!e.defaultPrevented&&M.stop(e,()=>{M.pulsate(e)}),j&&j(e),g&&e.target===e.currentTarget&&J()&&" "===e.key&&!e.defaultPrevented&&g(e)});let Z=l;"button"===Z&&(E.href||E.to)&&(Z=m);const ee={};if("button"===Z){const e=!!E.formAction;ee.type=void 0!==L||e?L:"button",ee.disabled=c}else E.href||E.to||(ee.role="button"),c&&(ee["aria-disabled"]=c);const te=QD(r,I),re=Ne(Ne({},n),{},{centerRipple:s,component:l,disabled:c,disableRipple:d,disableTouchRipple:u,focusRipple:h,tabIndex:A,focusVisible:F}),ne=(e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:a}=e,s=wA({root:["root",t&&"disabled",r&&"focusVisible"]},AT,a);return r&&n&&(s.root+=" ".concat(n)),s})(re);return(0,$r.jsxs)(LT,Ne(Ne(Ne({as:Z,className:Mk(ne.root,o),ownerState:re,onBlur:Y,onClick:g,onContextMenu:U,onFocus:$,onKeyDown:X,onKeyUp:Q,onMouseDown:B,onMouseLeave:H,onMouseUp:W,onDragLeave:q,onTouchEnd:K,onTouchMove:G,onTouchStart:V,ref:te,tabIndex:c?-1:A,type:L},ee),E),{},{children:[i,O?(0,$r.jsx)(PT,Ne({ref:R,center:s},D)):null]}))});function IT(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tT(a=>(r&&r(a),n||e[t](a),!0))}const MT=ET;function RT(e){return mA("MuiIconButton",e)}const FT=fA("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),zT=["edge","children","className","color","disabled","disableFocusRipple","size","id","loading","loadingIndicator"],OT=qA(MT,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.loading&&t.loading,"default"!==r.color&&t["color".concat($A(r.color))],r.edge&&t["edge".concat($A(r.edge))],t["size".concat($A(r.size))]]}})(HA(e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),HA(e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(JA()).map(e=>{let[r]=e;return{props:{color:r},style:{color:(t.vars||t).palette[r].main}}}),...Object.entries(t.palette).filter(JA()).map(e=>{let[r]=e;return{props:{color:r},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],["&.".concat(FT.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},["&.".concat(FT.loading)]:{color:"transparent"}}})),BT=qA("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}}),UT=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiIconButton"}),{edge:n=!1,children:a,className:s,color:i="default",disabled:o=!1,disableFocusRipple:l=!1,size:c="medium",id:d,loading:u=null,loadingIndicator:h}=r,p=ke(r,zT),m=JD(d),f=null!==h&&void 0!==h?h:(0,$r.jsx)(pD,{"aria-labelledby":m,color:"inherit",size:16}),g=Ne(Ne({},r),{},{edge:n,color:i,disabled:o,disableFocusRipple:l,loading:u,loadingIndicator:f,size:c}),x=(e=>{const{classes:t,disabled:r,color:n,edge:a,size:s,loading:i}=e;return wA({root:["root",i&&"loading",r&&"disabled","default"!==n&&"color".concat($A(n)),a&&"edge".concat($A(a)),"size".concat($A(s))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},RT,t)})(g);return(0,$r.jsxs)(OT,Ne(Ne({id:u?m:d,className:Mk(x.root,s),centerRipple:!0,focusRipple:!l,disabled:o||u,ref:t},p),{},{ownerState:g,children:["boolean"===typeof u&&(0,$r.jsx)("span",{className:x.loadingWrapper,style:{display:"contents"},children:(0,$r.jsx)(BT,{className:x.loadingIndicator,ownerState:g,children:u&&f})}),a]}))}),qT=UT;function WT(e){return mA("MuiSvgIcon",e)}fA("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const HT=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],VT=qA("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"inherit"!==r.color&&t["color".concat($A(r.color))],t["fontSize".concat($A(r.fontSize))]]}})(HA(e=>{var t,r,n,a,s,i,o,l,c,d,u,h,p,m,f;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(r=t.create)||void 0===r?void 0:r.call(t,"fill",{duration:null===(n=(null!==(a=g.vars)&&void 0!==a?a:g).transitions)||void 0===n||null===(n=n.duration)||void 0===n?void 0:n.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(s=g.typography)||void 0===s||null===(i=s.pxToRem)||void 0===i?void 0:i.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(o=g.typography)||void 0===o||null===(l=o.pxToRem)||void 0===l?void 0:l.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=g.typography)||void 0===c||null===(d=c.pxToRem)||void 0===d?void 0:d.call(c,35))||"2.1875rem"}},...Object.entries((null!==(u=g.vars)&&void 0!==u?u:g).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{var t,r;let[n]=e;return{props:{color:n},style:{color:null===(t=(null!==(r=g.vars)&&void 0!==r?r:g).palette)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.main}}}),{props:{color:"action"},style:{color:null===(h=(null!==(p=g.vars)&&void 0!==p?p:g).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.active}},{props:{color:"disabled"},style:{color:null===(m=(null!==(f=g.vars)&&void 0!==f?f:g).palette)||void 0===m||null===(m=m.action)||void 0===m?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),KT=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiSvgIcon"}),{children:a,className:s,color:i="inherit",component:o="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:u,viewBox:h="0 0 24 24"}=n,p=ke(n,HT),m=t.isValidElement(a)&&"svg"===a.type,f=Ne(Ne({},n),{},{color:i,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:h,hasSvgAsChild:m}),g={};d||(g.viewBox=h);const x=(e=>{const{color:t,fontSize:r,classes:n}=e;return wA({root:["root","inherit"!==t&&"color".concat($A(t)),"fontSize".concat($A(r))]},WT,n)})(f);return(0,$r.jsxs)(VT,Ne(Ne(Ne(Ne({as:o,className:Mk(x.root,s),focusable:"false",color:c,"aria-hidden":!u||void 0,role:u?"img":void 0,ref:r},g),p),m&&a.props),{},{ownerState:f,children:[m?a.props.children:a,u?(0,$r.jsx)("title",{children:u}):null]}))});KT.muiName="SvgIcon";const GT=KT;function YT(e,r){function n(t,r){return(0,$r.jsx)(GT,Ne(Ne({"data-testid":void 0,ref:r},t),{},{children:e}))}return n.muiName=GT.muiName,t.memo(t.forwardRef(n))}const $T=YT((0,$r.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),JT=YT((0,$r.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),XT=YT((0,$r.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),QT=YT((0,$r.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),ZT=YT((0,$r.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),eL=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],tL=qA(ED,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["".concat(r.variant).concat($A(r.color||r.severity))]]}})(HA(e=>{let{theme:t}=e;const r="light"===t.palette.mode?t.darken:t.lighten,n="light"===t.palette.mode?t.lighten:t.darken;return Ne(Ne({},t.typography.body2),{},{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(JA(["light"])).map(e=>{let[a]=e;return{props:{colorSeverity:a,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(a,"StandardBg")]:n(t.palette[a].light,.9),["& .".concat(KD.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}}}}),...Object.entries(t.palette).filter(JA(["light"])).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(n,"Color")]:r(t.palette[n].light,.6),border:"1px solid ".concat((t.vars||t).palette[n].light),["& .".concat(KD.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(n,"IconColor")]}:{color:t.palette[n].main}}}}),...Object.entries(t.palette).filter(JA(["dark"])).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:Ne({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(r,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(r,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}})]})})),rL=qA("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),nL=qA("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),aL=qA("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),sL={success:(0,$r.jsx)($T,{fontSize:"inherit"}),warning:(0,$r.jsx)(JT,{fontSize:"inherit"}),error:(0,$r.jsx)(XT,{fontSize:"inherit"}),info:(0,$r.jsx)(QT,{fontSize:"inherit"})},iL=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiAlert"}),{action:n,children:a,className:s,closeText:i="Close",color:o,components:l={},componentsProps:c={},icon:d,iconMapping:u=sL,onClose:h,role:p="alert",severity:m="success",slotProps:f={},slots:g={},variant:x="standard"}=r,b=ke(r,eL),v=Ne(Ne({},r),{},{color:o,severity:m,variant:x,colorSeverity:o||m}),y=(e=>{const{variant:t,color:r,severity:n,classes:a}=e;return wA({root:["root","color".concat($A(r||n)),"".concat(t).concat($A(r||n)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},VD,a)})(v),w={slots:Ne({closeButton:l.CloseButton,closeIcon:l.CloseIcon},g),slotProps:Ne(Ne({},c),f)},[j,N]=HD("root",{ref:t,shouldForwardComponentProp:!0,className:Mk(y.root,s),elementType:tL,externalForwardedProps:Ne(Ne({},w),b),ownerState:v,additionalProps:{role:p,elevation:0}}),[k,S]=HD("icon",{className:y.icon,elementType:rL,externalForwardedProps:w,ownerState:v}),[C,_]=HD("message",{className:y.message,elementType:nL,externalForwardedProps:w,ownerState:v}),[P,A]=HD("action",{className:y.action,elementType:aL,externalForwardedProps:w,ownerState:v}),[D,T]=HD("closeButton",{elementType:qT,externalForwardedProps:w,ownerState:v}),[L,E]=HD("closeIcon",{elementType:ZT,externalForwardedProps:w,ownerState:v});return(0,$r.jsxs)(j,Ne(Ne({},N),{},{children:[!1!==d?(0,$r.jsx)(k,Ne(Ne({},S),{},{children:d||u[m]})):null,(0,$r.jsx)(C,Ne(Ne({},_),{},{children:a})),null!=n?(0,$r.jsx)(P,Ne(Ne({},A),{},{children:n})):null,null==n&&h?(0,$r.jsx)(P,Ne(Ne({},A),{},{children:(0,$r.jsx)(D,Ne(Ne({size:"small","aria-label":i,title:i,color:"inherit",onClick:h},T),{},{children:(0,$r.jsx)(L,Ne({fontSize:"small"},E))}))})):null]}))}),oL=iL,lL=YT((0,$r.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),cL=e=>{let{message:t="An error occurred"}=e;return(0,$r.jsx)(vA,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 70px)",py:4},children:(0,$r.jsxs)(ED,{elevation:3,sx:{p:3,maxWidth:"600px",width:"100%",borderRadius:2},children:[(0,$r.jsx)(oL,{severity:"error",icon:(0,$r.jsx)(lL,{fontSize:"inherit"}),sx:{mb:2},children:"Error"}),(0,$r.jsx)(CD,{variant:"body1",color:"text.secondary",children:t})]})})},dL=e=>{let{pickupCoordinates:r,dropoffCoordinates:n,pickupLocation:a,dropoffLocation:s}=e;const[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),d=(0,t.useRef)(null),u=(0,t.useRef)(null),h=(0,t.useRef)([]),p=()=>{if(window.google&&r&&n)try{const e=new window.google.maps.LatLng(r.lat,r.lng),t=new window.google.maps.LatLng(n.lat,n.lng),i=new window.google.maps.Map(d.current,{center:e,zoom:12,mapTypeId:window.google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{style:window.google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:window.google.maps.ControlPosition.TOP_RIGHT},fullscreenControl:!0,streetViewControl:!0,zoomControl:!0});u.current=i;const l=new window.google.maps.LatLngBounds;l.extend(e),l.extend(t);const c=new window.google.maps.Marker({position:e,map:i,title:"Pickup Location",label:"P",animation:window.google.maps.Animation.DROP,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#4CAF50",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF"}}),p=new window.google.maps.Marker({position:t,map:i,title:"Dropoff Location",label:"D",animation:window.google.maps.Animation.DROP,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#F44336",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF"}});h.current=[c,p];const m=new window.google.maps.InfoWindow({content:'\n          <div style="padding: 8px;">\n            <strong>Pickup Location</strong><br/>\n            '.concat(a||"Unknown location","\n          </div>\n        ")}),f=new window.google.maps.InfoWindow({content:'\n          <div style="padding: 8px;">\n            <strong>Dropoff Location</strong><br/>\n            '.concat(s||"Unknown location","\n          </div>\n        ")});if(c.addListener("click",()=>{f.close(),m.open(i,c)}),p.addListener("click",()=>{m.close(),f.open(i,p)}),window.google.maps.DirectionsService){const r=new window.google.maps.DirectionsService,n=new window.google.maps.DirectionsRenderer({map:i,suppressMarkers:!0,polylineOptions:{strokeColor:"#2196F3",strokeWeight:5,strokeOpacity:.7}});r.route({origin:e,destination:t,travelMode:window.google.maps.TravelMode.DRIVING},(r,a)=>{"OK"===a?n.setDirections(r):(console.warn("Directions request failed due to "+a),new window.google.maps.Polyline({path:[e,t],geodesic:!0,strokeColor:"#2196F3",strokeOpacity:.7,strokeWeight:5,map:i}))})}else new window.google.maps.Polyline({path:[e,t],geodesic:!0,strokeColor:"#2196F3",strokeOpacity:.7,strokeWeight:5,map:i});i.fitBounds(l);const g=()=>{const e=l.getNorthEast(),t=l.getSouthWest(),r=e.lat()-t.lat(),n=e.lng()-t.lng();l.extend(new window.google.maps.LatLng(e.lat()+.1*r,e.lng()+.1*n)),l.extend(new window.google.maps.LatLng(t.lat()-.1*r,t.lng()-.1*n)),i.fitBounds(l)};g();const x=15;window.google.maps.event.addListenerOnce(i,"bounds_changed",()=>{i.getZoom()>x&&i.setZoom(x)}),o(!0)}catch(lb){console.error("Error initializing map:",lb),c("Failed to initialize the map. Please try again later.")}else c("Map could not be loaded or coordinates are missing")};return(0,t.useEffect)(()=>{if(!r||!n)return void c("Pickup or dropoff coordinates are missing");if(window.google&&window.google.maps)return void p();const e=document.createElement("script");return e.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyBTln9AbQ0K-CTbVrcFNQc0LHlt3Y4J1Pc","&libraries=places"),e.async=!0,e.defer=!0,e.onload=p,e.onerror=()=>c("Failed to load Google Maps API"),document.head.appendChild(e),()=>{e.parentNode&&e.parentNode.removeChild(e)}},[r,n]),(0,t.useEffect)(()=>()=>{h.current&&h.current.forEach(e=>{e&&e.setMap(null)})},[]),l?(0,$r.jsx)("div",{className:"p-4 text-center h-full flex items-center justify-center bg-white shadow-sm rounded-lg border border-red-200",children:(0,$r.jsx)("p",{className:"text-red-500 font-medium",children:l})}):(0,$r.jsxs)("div",{className:"relative h-full w-full",children:[(0,$r.jsx)("div",{ref:d,className:"h-full w-full rounded-lg"}),!i&&(0,$r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/70 rounded-lg",children:(0,$r.jsx)("p",{className:"font-medium text-gray-600",children:"Loading map..."})}),(0,$r.jsxs)("div",{className:"absolute bottom-4 left-4 bg-white p-3 rounded-lg shadow-md border border-gray-100 max-w-[250px]",children:[(0,$r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2 shrink-0"}),(0,$r.jsxs)("div",{className:"overflow-hidden",children:[(0,$r.jsx)("span",{className:"font-bold text-xs mr-1 text-gray-800",children:"P:"}),(0,$r.jsx)("span",{className:"text-xs text-gray-500 truncate block",children:a||"Pickup"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-2 shrink-0"}),(0,$r.jsxs)("div",{className:"overflow-hidden",children:[(0,$r.jsx)("span",{className:"font-bold text-xs mr-1 text-gray-800",children:"D:"}),(0,$r.jsx)("span",{className:"text-xs text-gray-500 truncate block",children:s||"Dropoff"})]})]})]})]})},uL=()=>{const{id:e}=ue(),r=ce(),[n,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{i(!0);const t=localStorage.getItem("token");if(!t)return l("Authentication token missing. Please login again."),void i(!1);Vr.defaults.headers.common.Authorization="Bearer ".concat(t);const r=await Vr.get("/api/clients/deliveries/".concat(e));a(r.data)}catch(o){var t,r;console.error("Error fetching delivery details:",o),l((null===(t=o.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load delivery details")}finally{i(!1)}})()},[e]);return s?(0,$r.jsx)(_D,{}):o?(0,$r.jsx)(cL,{message:o}):n?(0,$r.jsxs)("div",{className:"w-full max-w-[1400px] mx-auto p-4 md:p-8 bg-slate-50 min-h-screen",children:[(0,$r.jsx)("div",{className:"mb-6",children:(0,$r.jsxs)("button",{onClick:()=>r.push("/client/deliveries"),className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 transition-colors font-medium",children:[(0,$r.jsx)(Wa,{})," Back to Deliveries"]})}),(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,$r.jsxs)("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Delivery Details"}),(0,$r.jsxs)("p",{className:"text-gray-500 text-sm font-mono",children:["ID: #",n.DeliveryID]})]}),(0,$r.jsxs)("div",{className:"px-4 py-2 rounded-full border text-sm font-bold uppercase tracking-wide flex items-center gap-2 ".concat((e=>{switch(e){case"pending":return"bg-amber-100 text-amber-700 border-amber-200";case"in-progress":return"bg-blue-100 text-blue-700 border-blue-200";case"completed":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}})(n.DeliveryStatus)),children:["completed"===n.DeliveryStatus&&(0,$r.jsx)(es,{}),"cancelled"===n.DeliveryStatus&&(0,$r.jsx)(Us,{}),"in-progress"===n.DeliveryStatus&&(0,$r.jsx)(Hs,{}),"pending"===n.DeliveryStatus&&(0,$r.jsx)(as,{}),n.DeliveryStatus]})]}),(0,$r.jsx)("div",{className:"p-6",children:(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 h-full",children:[(0,$r.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2 border-b border-gray-200 pb-3",children:[(0,$r.jsx)(Hs,{className:"text-blue-600"})," Truck Information"]}),(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{className:"text-gray-500 text-sm",children:"Truck ID"}),(0,$r.jsx)("span",{className:"font-medium text-gray-800",children:n.TruckID})]}),(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{className:"text-gray-500 text-sm",children:"Truck Plate"}),(0,$r.jsx)("span",{className:"font-medium text-gray-800",children:n.TruckPlate||"N/A"})]}),(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{className:"text-gray-500 text-sm",children:"Truck Type"}),(0,$r.jsx)("span",{className:"font-medium text-gray-800",children:n.TruckType||"N/A"})]}),n.DriverName&&(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{className:"text-gray-500 text-sm",children:"Driver"}),(0,$r.jsx)("span",{className:"font-medium text-gray-800",children:n.DriverName})]}),n.HelperName&&(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{className:"text-gray-500 text-sm",children:"Helper"}),(0,$r.jsx)("span",{className:"font-medium text-gray-800",children:n.HelperName})]})]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 h-full",children:[(0,$r.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2 border-b border-gray-200 pb-3",children:[(0,$r.jsx)($a,{className:"text-blue-600"})," Schedule & Cost"]}),(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{className:"text-gray-500 text-sm",children:"Scheduled For"}),(0,$r.jsx)("span",{className:"font-medium text-gray-800",children:(e=>{if(!e)return"N/A";const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)})(n.DeliveryDate)})]}),(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{className:"text-gray-500 text-sm",children:"Estimated Distance"}),(0,$r.jsx)("span",{className:"font-medium text-gray-800",children:n.DeliveryDistance?"".concat(n.DeliveryDistance," km"):"N/A"})]}),(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{className:"text-gray-500 text-sm",children:"Estimated Duration"}),(0,$r.jsx)("span",{className:"font-medium text-gray-800",children:n.EstimatedDuration?"".concat(n.EstimatedDuration," minutes"):"N/A"})]}),(0,$r.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 mt-2",children:[(0,$r.jsx)("span",{className:"text-gray-600 font-bold",children:"Total Cost"}),(0,$r.jsxs)("span",{className:"text-xl font-bold text-emerald-600 flex items-center gap-1",children:[(0,$r.jsx)(Cs,{className:"text-emerald-500 text-sm"}),"$",n.DeliveryRate||"N/A"]})]})]})]}),(0,$r.jsxs)("div",{className:"md:col-span-2 bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200 pb-3",children:[(0,$r.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,$r.jsx)(Ns,{className:"text-blue-600"})," Location Details"]}),(0,$r.jsxs)("button",{onClick:()=>{d(!c)},className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 transition-all shadow-sm flex items-center gap-2",children:[(0,$r.jsx)(Ss,{})," ",c?"Hide Map":"Show Map"]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-4",children:[(0,$r.jsxs)("div",{className:"relative pl-8 border-l-2 border-blue-200",children:[(0,$r.jsx)("div",{className:"absolute left-[-9px] top-0 w-4 h-4 rounded-full bg-blue-500 border-4 border-white shadow-sm"}),(0,$r.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Pickup Location"}),(0,$r.jsx)("p",{className:"text-gray-800 font-medium text-lg",children:n.PickupLocation||"N/A"})]}),(0,$r.jsxs)("div",{className:"relative pl-8 border-l-2 border-amber-200",children:[(0,$r.jsx)("div",{className:"absolute left-[-9px] top-0 w-4 h-4 rounded-full bg-amber-500 border-4 border-white shadow-sm"}),(0,$r.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Drop-off Location"}),(0,$r.jsx)("p",{className:"text-gray-800 font-medium text-lg",children:n.DeliveryAddress||"N/A"})]})]}),c&&(0,$r.jsx)("div",{className:"mt-6 rounded-xl overflow-hidden shadow-md border border-gray-200 h-[400px]",children:(0,$r.jsx)(dL,{pickupCoordinates:n.pickupCoordinates||n.PickupCoordinates,dropoffCoordinates:n.dropoffCoordinates||n.DropoffCoordinates,pickupLocation:n.PickupLocation,dropoffLocation:n.DeliveryAddress})})]}),(0,$r.jsxs)("div",{className:"md:col-span-2 bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[(0,$r.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-6 flex items-center gap-2",children:[(0,$r.jsx)(as,{className:"text-blue-600"})," Delivery Progress"]}),(()=>{let e=0,t="",r="bg-blue-600",a="text-blue-600";switch(n.DeliveryStatus){case"pending":e=25,t="Your delivery is scheduled and pending pickup",r="bg-amber-500",a="text-amber-600";break;case"in-progress":e=75,t="Your delivery is currently in transit",r="bg-blue-600",a="text-blue-600";break;case"completed":e=100,t="Your delivery has been completed successfully",r="bg-emerald-500",a="text-emerald-600";break;case"cancelled":e=100,t="This delivery has been cancelled",r="bg-red-500",a="text-red-600";break;default:e=0,t="Unknown status"}return(0,$r.jsxs)("div",{className:"w-full",children:[(0,$r.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-4 mb-4 overflow-hidden",children:(0,$r.jsx)("div",{className:"h-4 rounded-full transition-all duration-1000 ease-out ".concat(r),style:{width:"".concat(e,"%")}})}),(0,$r.jsxs)("div",{className:"text-center font-medium ".concat(a," flex items-center justify-center gap-2"),children:["completed"===n.DeliveryStatus?(0,$r.jsx)(es,{}):(0,$r.jsx)(Hs,{}),t]})]})})()]})]})})]})]}):(0,$r.jsx)(cL,{message:"Delivery not found"})},hL=()=>{const e=ce(),[r,n]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[i,o]=(0,t.useState)(""),[l,c]=(0,t.useState)("all");(0,t.useEffect)(()=>{d()},[]);const d=async()=>{try{const t=localStorage.getItem("token");if(!t)return void e.push("/login");Vr.defaults.headers.common.Authorization="Bearer ".concat(t);const r=await Vr.get("/api/clients/deliveries");n(r.data),s(!1)}catch(lb){console.error("Error fetching deliveries:",lb),s(!1)}},u=r.filter(e=>{var t,r,n;const a=(null===(t=e.DeliveryID)||void 0===t?void 0:t.toString().includes(i))||(null===(r=e.PickupLocation)||void 0===r?void 0:r.toLowerCase().includes(i.toLowerCase()))||(null===(n=e.DeliveryAddress)||void 0===n?void 0:n.toLowerCase().includes(i.toLowerCase())),s="all"===l||e.DeliveryStatus===l;return a&&s});return a?(0,$r.jsx)(ri,{}):(0,$r.jsxs)("div",{className:"w-full max-w-[1400px] mx-auto p-4 md:p-8 bg-slate-50 min-h-screen",children:[(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 pb-4 border-b border-gray-200 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-3",children:[(0,$r.jsx)(Hs,{className:"text-blue-600"})," My Deliveries"]}),(0,$r.jsx)("p",{className:"text-gray-500 mt-1",children:"View and manage all your delivery requests"})]}),(0,$r.jsx)(be,{to:"/client/profile",className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-bold shadow-md shadow-blue-500/20 transition-all hover:-translate-y-0.5",children:"Book New Delivery"})]}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-6",children:(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,$r.jsx)(Es,{className:"text-gray-400"})}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by ID or Location...",value:i,onChange:e=>{o(e.target.value)},className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,$r.jsx)(gs,{className:"text-gray-400"})}),(0,$r.jsxs)("select",{value:l,onChange:e=>{c(e.target.value)},className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all appearance-none bg-white cursor-pointer",children:[(0,$r.jsx)("option",{value:"all",children:"All Statuses"}),(0,$r.jsx)("option",{value:"pending",children:"Pending"}),(0,$r.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,$r.jsx)("option",{value:"completed",children:"Completed"}),(0,$r.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,$r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400",children:(0,$r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,$r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full border-collapse",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100 text-left",children:[(0,$r.jsx)("th",{className:"p-4 pl-6 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"ID"}),(0,$r.jsx)("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Date"}),(0,$r.jsx)("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Locations"}),(0,$r.jsx)("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,$r.jsx)("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Truck"}),(0,$r.jsx)("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Price"}),(0,$r.jsx)("th",{className:"p-4 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,$r.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[u.map(t=>{return(0,$r.jsxs)("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[(0,$r.jsx)("td",{className:"p-4 pl-6 whitespace-nowrap",children:(0,$r.jsxs)("span",{className:"font-mono text-xs font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded border border-blue-100",children:["#",t.DeliveryID]})}),(0,$r.jsx)("td",{className:"p-4 whitespace-nowrap",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,$r.jsx)($a,{className:"text-gray-400"}),(0,$r.jsx)("span",{className:"text-sm font-medium",children:(n=t.DeliveryDate,n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")})]})}),(0,$r.jsx)("td",{className:"p-4 min-w-[250px]",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,$r.jsx)(Ns,{className:"text-blue-500 flex-shrink-0"}),(0,$r.jsx)("span",{className:"truncate max-w-[200px]",title:t.PickupLocation,children:t.PickupLocation})]}),(0,$r.jsx)("div",{className:"ml-1 border-l-2 border-gray-200 pl-3 py-0.5 text-xs text-gray-400",children:"to"}),(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,$r.jsx)(Ns,{className:"text-amber-500 flex-shrink-0"}),(0,$r.jsx)("span",{className:"truncate max-w-[200px]",title:t.DeliveryAddress,children:t.DeliveryAddress})]})]})}),(0,$r.jsx)("td",{className:"p-4 whitespace-nowrap",children:(0,$r.jsx)(cf,{status:t.DeliveryStatus})}),(0,$r.jsx)("td",{className:"p-4 whitespace-nowrap",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,$r.jsx)(Hs,{className:"text-gray-400"}),(0,$r.jsx)("span",{className:"text-sm",children:t.TruckPlate||"N/A"})]})}),(0,$r.jsx)("td",{className:"p-4 whitespace-nowrap",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,$r.jsx)(Cs,{className:"text-emerald-500"}),(0,$r.jsx)("span",{className:"text-sm font-bold text-emerald-700",children:t.Price?(r=t.Price,new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(r)):"N/A"})]})}),(0,$r.jsx)("td",{className:"p-4 pr-6 text-center whitespace-nowrap",children:(0,$r.jsx)("button",{onClick:()=>e.push("/client/deliveries/".concat(t.DeliveryID)),className:"inline-flex items-center justify-center w-8 h-8 rounded-lg bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600 border border-transparent hover:border-blue-200 transition-all",title:"View Details",children:(0,$r.jsx)(ps,{})})})]},t.DeliveryID);var r,n}),0===u.length&&(0,$r.jsx)("tr",{children:(0,$r.jsx)("td",{colSpan:"7",className:"p-12 text-center text-gray-500",children:(0,$r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,$r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,$r.jsx)(Ga,{className:"text-2xl text-gray-300"})}),(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-700 mb-1",children:"No deliveries found"}),(0,$r.jsx)("p",{className:"text-sm text-gray-400",children:"Try adjusting your search or filters"})]})})})]})]})}),(0,$r.jsx)("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50 flex items-center justify-between",children:(0,$r.jsxs)("span",{className:"text-xs font-medium text-gray-500",children:["Showing ",u.length," of ",r.length," ","deliveries"]})})]})]})},pL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function mL(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const fL={date:mL({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:mL({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:mL({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},gL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function xL(e){return(t,r)=>{let n;if("formatting"===(null!==r&&void 0!==r&&r.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=null!==r&&void 0!==r&&r.width?String(r.width):t;n=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=null!==r&&void 0!==r&&r.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function bL(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(o,e=>e.test(i)):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(o,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}var vL;const yL={code:"en-US",formatDistance:(e,t,r)=>{let n;const a=pL[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:fL,formatRelative:(e,t,r,n)=>gL[e],localize:{ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:xL({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:xL({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:xL({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:xL({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:xL({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(vL={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.match(vL.matchPattern);if(!r)return null;const n=r[0],a=e.match(vL.parsePattern);if(!a)return null;let s=vL.valueCallback?vL.valueCallback(a[0]):a[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(n.length)}}),era:bL({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:bL({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:bL({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:bL({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:bL({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let wL={};function jL(){return wL}Math.pow(10,8);const NL=6048e5,kL=Symbol.for("constructDateFrom");function SL(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&kL in e?e[kL](t):e instanceof Date?new e.constructor(t):new Date(t)}function CL(e,t){return SL(t||e,e)}function _L(e){const t=CL(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function PL(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=SL.bind(null,e||r.find(e=>"object"===typeof e));return r.map(a)}function AL(e,t){const r=CL(e,null===t||void 0===t?void 0:t.in);return r.setHours(0,0,0,0),r}function DL(e,t,r){const[n,a]=PL(null===r||void 0===r?void 0:r.in,e,t),s=AL(n),i=AL(a),o=+s-_L(s),l=+i-_L(i);return Math.round((o-l)/864e5)}function TL(e,t){const r=CL(e,null===t||void 0===t?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function LL(e,t){const r=CL(e,null===t||void 0===t?void 0:t.in);return DL(r,TL(r))+1}function EL(e,t){var r,n,a,s,i,o;const l=jL(),c=null!==(r=null!==(n=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==a?a:l.weekStartsOn)&&void 0!==n?n:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==r?r:0,d=CL(e,null===t||void 0===t?void 0:t.in),u=d.getDay(),h=(u<c?7:0)+u-c;return d.setDate(d.getDate()-h),d.setHours(0,0,0,0),d}function IL(e,t){return EL(e,Ne(Ne({},t),{},{weekStartsOn:1}))}function ML(e,t){const r=CL(e,null===t||void 0===t?void 0:t.in),n=r.getFullYear(),a=SL(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=IL(a),i=SL(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=IL(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function RL(e,t){const r=ML(e,t),n=SL((null===t||void 0===t?void 0:t.in)||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),IL(n)}function FL(e,t){const r=CL(e,null===t||void 0===t?void 0:t.in),n=+IL(r)-+RL(r);return Math.round(n/NL)+1}function zL(e,t){var r,n,a,s,i,o;const l=CL(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),d=jL(),u=null!==(r=null!==(n=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:d.firstWeekContainsDate)&&void 0!==n?n:null===(o=d.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:1,h=SL((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,u),h.setHours(0,0,0,0);const p=EL(h,t),m=SL((null===t||void 0===t?void 0:t.in)||e,0);m.setFullYear(c,0,u),m.setHours(0,0,0,0);const f=EL(m,t);return+l>=+p?c+1:+l>=+f?c:c-1}function OL(e,t){var r,n,a,s,i,o;const l=jL(),c=null!==(r=null!==(n=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:l.firstWeekContainsDate)&&void 0!==n?n:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:1,d=zL(e,t),u=SL((null===t||void 0===t?void 0:t.in)||e,0);u.setFullYear(d,0,c),u.setHours(0,0,0,0);return EL(u,t)}function BL(e,t){const r=CL(e,null===t||void 0===t?void 0:t.in),n=+EL(r,t)-+OL(r,t);return Math.round(n/NL)+1}function UL(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const qL={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return UL("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):UL(r+1,2)},d:(e,t)=>UL(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>UL(e.getHours()%12||12,t.length),H:(e,t)=>UL(e.getHours(),t.length),m:(e,t)=>UL(e.getMinutes(),t.length),s:(e,t)=>UL(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return UL(Math.trunc(n*Math.pow(10,r-3)),t.length)}},WL="midnight",HL="noon",VL="morning",KL="afternoon",GL="evening",YL="night",$L={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return qL.y(e,t)},Y:function(e,t,r,n){const a=zL(e,n),s=a>0?a:1-a;if("YY"===t){return UL(s%100,2)}return"Yo"===t?r.ordinalNumber(s,{unit:"year"}):UL(s,t.length)},R:function(e,t){return UL(ML(e),t.length)},u:function(e,t){return UL(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return UL(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return UL(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return qL.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return UL(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=BL(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):UL(a,t.length)},I:function(e,t,r){const n=FL(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):UL(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):qL.d(e,t)},D:function(e,t,r){const n=LL(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):UL(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return UL(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return UL(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return UL(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(a=12===n?HL:0===n?WL:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(a=n>=17?GL:n>=12?KL:n>=4?VL:YL,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return qL.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):qL.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):UL(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):UL(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):qL.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):qL.s(e,t)},S:function(e,t){return qL.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return XL(n);case"XXXX":case"XX":return QL(n);default:return QL(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return XL(n);case"xxxx":case"xx":return QL(n);default:return QL(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+JL(n,":");default:return"GMT"+QL(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+JL(n,":");default:return"GMT"+QL(n,":")}},t:function(e,t,r){return UL(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return UL(+e,t.length)}};function JL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return 0===s?r+String(a):r+String(a)+t+UL(s,2)}function XL(e,t){if(e%60===0){return(e>0?"-":"+")+UL(Math.abs(e)/60,2)}return QL(e,t)}function QL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e);return r+UL(Math.trunc(n/60),2)+t+UL(n%60,2)}const ZL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},eE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},tE={p:eE,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return ZL(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",ZL(n,t)).replace("{{time}}",eE(a,t))}},rE=/^D+$/,nE=/^Y+$/,aE=["D","DD","YY","YYYY"];function sE(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function iE(e){return!(!sE(e)&&"number"!==typeof e||isNaN(+CL(e)))}const oE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cE=/^'([^]*?)'?$/,dE=/''/g,uE=/[a-zA-Z]/;function hE(e,t,r){var n,a,s,i,o,l,c,d,u,h,p,m,f,g;const x=jL(),b=null!==(n=null!==(a=null===r||void 0===r?void 0:r.locale)&&void 0!==a?a:x.locale)&&void 0!==n?n:yL,v=null!==(s=null!==(i=null!==(o=null!==(l=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==l?l:null===r||void 0===r||null===(c=r.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:x.firstWeekContainsDate)&&void 0!==i?i:null===(d=x.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:1,y=null!==(u=null!==(h=null!==(p=null!==(m=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==m?m:null===r||void 0===r||null===(f=r.locale)||void 0===f||null===(f=f.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==p?p:x.weekStartsOn)&&void 0!==h?h:null===(g=x.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==u?u:0,w=CL(e,null===r||void 0===r?void 0:r.in);if(!iE(w))throw new RangeError("Invalid time value");let j=t.match(lE).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,tE[t])(e,b.formatLong)}return e}).join("").match(oE).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:pE(e)};if($L[t])return{isToken:!0,value:e};if(t.match(uE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});b.localize.preprocessor&&(j=b.localize.preprocessor(w,j));const N={firstWeekContainsDate:v,weekStartsOn:y,locale:b};return j.map(n=>{if(!n.isToken)return n.value;const a=n.value;(null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!function(e){return nE.test(e)}(a))&&(null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!function(e){return rE.test(e)}(a))||function(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(n," to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,r);if(console.warn(n),aE.includes(e))throw new RangeError(n)}(a,t,String(e));return(0,$L[a[0]])(w,a,b.localize,N)}).join("")}function pE(e){const t=e.match(cE);return t?t[1].replace(dE,"'"):e}const mE=()=>{var e;const r=ce(),{authUser:n}=(0,t.useContext)(wa)||{authUser:null},[a,s]=(0,t.useState)(null),[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(1),[b,v]=(0,t.useState)(""),[y,w]=(0,t.useState)({show:!1,type:"info",message:""}),[j,N]=(0,t.useState)("all"),[k,S]=(0,t.useState)([]),[C,_]=(0,t.useState)(!1),[P,A]=(0,t.useState)(null),[D,T]=(0,t.useState)({referenceNumber:"",notes:""}),[L,E]=(0,t.useState)(!1),[I,M]=(0,t.useState)({cardNumber:"",expiryMonth:"",expiryYear:"",cvc:"",cardholderName:""}),[R,F]=(0,t.useState)({email:"",phone:"",name:""});(0,t.useEffect)(()=>{O();const e=z();e&&F({email:e.email||"",phone:e.phone||"",name:e.name||""})},[n]);const z=()=>{if(n)return{id:n.id||n.clientId,email:n.email,phone:n.phone,name:n.clientName||n.username||n.name};const e=localStorage.getItem("token");if(e)try{const t=JSON.parse(atob(e.split(".")[1]));return{id:t.id||t.clientId||t.sub,email:t.email,phone:t.phone,name:t.clientName||t.username||t.name}}catch(_q){console.error("Error parsing token:",_q)}return null},O=async()=>{try{o(!0);const e=localStorage.getItem("token");if(!e)return void c("Authentication token missing. Please login again.");Vr.defaults.headers.common.Authorization="Bearer ".concat(e);const t=z();if(!t||!t.id)return void c("Unable to identify client. Please login again.");const r=await Vr.get("/api/payments/client/".concat(t.id));s(r.data.data)}catch(l){var e,t;console.error("Error fetching payment summary:",l),c((null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load payment information")}finally{o(!1)}},B=e=>{v(e),x(2)},U=(e,t)=>{let r=t;if(!("cardNumber"===e&&(r=t.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim(),r.length>19))){if("expiryMonth"===e||"expiryYear"===e){if(r=t.replace(/\D/g,""),"expiryMonth"===e&&r.length>2)return;if("expiryYear"===e&&r.length>4)return}"cvc"===e&&(r=t.replace(/\D/g,""),r.length>4)||M(t=>Ne(Ne({},t),{},{[e]:r}))}},q=()=>{"card"===b?(async()=>{try{f(!0);const{cardNumber:e,expiryMonth:t,expiryYear:r,cvc:n,cardholderName:a}=I;if(!e||!t||!r||!n||!a)throw new Error("Please fill in all card details");const s=localStorage.getItem("token"),i=z(),o=await Vr.post("/api/payments/process-card",{deliveryId:d.id,cardDetails:{number:e.replace(/\s/g,""),exp_month:t,exp_year:r,cvc:n},billingDetails:{name:a,email:R.email||(null===i||void 0===i?void 0:i.email),phone:R.phone||(null===i||void 0===i?void 0:i.phone)}},{headers:{Authorization:"Bearer ".concat(s)}});if(!o.data.success)throw new Error(o.data.error||"Payment failed");x(3),await O()}catch(l){var e,t;console.error("Payment error:",l),w({show:!0,type:"error",message:(null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||l.message||"Payment failed"})}finally{f(!1)}})():["gcash","grab_pay","paymaya"].includes(b)&&(async()=>{try{f(!0);const e=localStorage.getItem("token"),t=z(),r=await Vr.post("/api/payments/process-ewallet",{deliveryId:d.id,paymentMethod:b,billingDetails:{name:R.name||(null===t||void 0===t?void 0:t.name),email:R.email||(null===t||void 0===t?void 0:t.email),phone:R.phone||(null===t||void 0===t?void 0:t.phone)}},{headers:{Authorization:"Bearer ".concat(e)}});if(!r.data.success||!r.data.data.checkoutUrl)throw new Error(r.data.error||"Failed to initiate e-wallet payment");window.location.href=r.data.data.checkoutUrl}catch(l){var e,t;console.error("E-Wallet error:",l),w({show:!0,type:"error",message:(null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||l.message||"E-wallet payment failed"}),f(!1)}})()},W=()=>null!==a&&void 0!==a&&a.pendingPayments?"all"===j?a.pendingPayments:a.pendingPayments.filter(e=>{if(!e.dueDate)return!1;const t=new Date(e.dueDate),[r,n]=j.split("-");return t.getFullYear()===parseInt(r)&&t.getMonth()===parseInt(n)-1}):[],H=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e),V=e=>{let t="bg-gray-100 text-gray-600";"paid"===e&&(t="bg-emerald-100 text-emerald-700"),"pending"===e&&(t="bg-amber-100 text-amber-700"),"overdue"===e&&(t="bg-red-100 text-red-700"),"pending_verification"===e&&(t="bg-blue-100 text-blue-700"),"rejected"===e&&(t="bg-red-100 text-red-700");const r="pending_verification"===e?"Pending Verification":e;return(0,$r.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase ".concat(t),children:r})};return i?(0,$r.jsx)(ri,{}):(0,$r.jsxs)("div",{className:"w-full max-w-[1400px] mx-auto p-4 md:p-8 bg-slate-50 min-h-screen",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,$r.jsx)("button",{onClick:()=>r.push("/client/dashboard"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,$r.jsx)(Wa,{className:"text-gray-500"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,$r.jsx)(Cs,{className:"text-blue-600"})," Payment Management"]}),(0,$r.jsx)("p",{className:"text-gray-500 text-sm",children:"Manage your billing and payments"})]})]}),l&&(0,$r.jsxs)("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl border border-red-200 mb-6 flex items-center gap-3",children:[(0,$r.jsx)(us,{}),l]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[(0,$r.jsx)("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:(0,$r.jsx)(Cs,{size:100})}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium mb-1",children:"Total Outstanding"}),(0,$r.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:H((null===a||void 0===a?void 0:a.totalOutstanding)||0)})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[(0,$r.jsx)("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:(0,$r.jsx)(es,{size:100,className:"text-emerald-500"})}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium mb-1",children:"Total Paid"}),(0,$r.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:H((null===a||void 0===a?void 0:a.totalPaid)||0)})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[(0,$r.jsx)("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:(0,$r.jsx)(xs,{size:100,className:"text-blue-500"})}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium mb-1",children:"Last Payment"}),(0,$r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:null!==a&&void 0!==a&&a.lastPaymentDate?hE(new Date(a.lastPaymentDate),"MMM dd, yyyy"):"No payments yet"})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-8 overflow-hidden",children:[(0,$r.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-amber-50 flex justify-between items-center",children:[(0,$r.jsxs)("h3",{className:"font-bold text-amber-800 flex items-center gap-2",children:[(0,$r.jsx)(as,{className:"text-amber-600"})," Pending Payments"]}),(0,$r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)(gs,{className:"text-gray-400"}),(0,$r.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",children:[(0,$r.jsx)("option",{value:"all",children:"All Months"}),(()=>{if(null===a||void 0===a||!a.pendingPayments)return[];const e=new Set;return a.pendingPayments.forEach(t=>{if(t.dueDate){const r=new Date(t.dueDate),n="".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"));e.add(n)}}),Array.from(e).sort().reverse()})().map(e=>{const[t,r]=e.split("-"),n=hE(new Date(t,parseInt(r)-1),"MMMM yyyy");return(0,$r.jsx)("option",{value:e,children:n},e)})]})]}),k.length>0&&(0,$r.jsxs)("button",{onClick:()=>{0!==k.length?_(!0):w({show:!0,type:"error",message:"Please select at least one delivery to pay"})},className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-1.5 rounded-lg text-sm font-bold transition-colors shadow-sm flex items-center gap-2",children:[(0,$r.jsx)(Vs,{})," Upload Payment Proof (",k.length,")"]})]})]}),(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,$r.jsx)("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase font-bold",children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{className:"p-4",children:(0,$r.jsx)("input",{type:"checkbox",checked:W().length>0&&k.length===W().length,onChange:e=>(e=>{if(e){const e=W().filter(e=>"pending_verification"!==e.status&&"rejected"!==e.status);S(e.map(e=>e.id))}else S([])})(e.target.checked),className:"w-4 h-4 accent-blue-600"})}),(0,$r.jsx)("th",{className:"p-4",children:"Delivery ID"}),(0,$r.jsx)("th",{className:"p-4",children:"Due Date"}),(0,$r.jsx)("th",{className:"p-4",children:"Amount"}),(0,$r.jsx)("th",{className:"p-4",children:"Status"}),(0,$r.jsx)("th",{className:"p-4 text-center",children:"Action"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:W().length>0?W().map(e=>(0,$r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,$r.jsx)("td",{className:"p-4",children:(0,$r.jsx)("input",{type:"checkbox",checked:k.includes(e.id),onChange:()=>{return t=e.id,void S(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-4 h-4 accent-blue-600",disabled:"pending_verification"===e.status||"rejected"===e.status})}),(0,$r.jsxs)("td",{className:"p-4 font-mono text-sm",children:["#",e.id.substring(0,8)]}),(0,$r.jsx)("td",{className:"p-4 text-sm text-gray-600",children:e.dueDate?hE(new Date(e.dueDate),"MMM dd, yyyy"):"N/A"}),(0,$r.jsx)("td",{className:"p-4 font-bold text-gray-800",children:H(e.amount)}),(0,$r.jsx)("td",{className:"p-4",children:V(e.status)}),(0,$r.jsx)("td",{className:"p-4 text-center",children:"pending_verification"===e.status?(0,$r.jsx)("span",{className:"text-blue-600 text-sm font-medium",children:"Awaiting Approval"}):"rejected"===e.status?(0,$r.jsx)("span",{className:"text-red-600 text-sm font-medium",children:"Contact Admin"}):(0,$r.jsx)("button",{onClick:()=>(e=>{u(e),p(!0),x(1),v("")})(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors shadow-sm",children:"Pay Now"})})]},e.id)):(0,$r.jsx)("tr",{children:(0,$r.jsx)("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"No pending payments. You're all caught up!"})})})]})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,$r.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,$r.jsxs)("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,$r.jsx)(xs,{className:"text-gray-400"})," Payment History"]})}),(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,$r.jsx)("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase font-bold",children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{className:"p-4",children:"Transaction ID"}),(0,$r.jsx)("th",{className:"p-4",children:"Date"}),(0,$r.jsx)("th",{className:"p-4",children:"Method"}),(0,$r.jsx)("th",{className:"p-4",children:"Amount"}),(0,$r.jsx)("th",{className:"p-4",children:"Status"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:(null===a||void 0===a||null===(e=a.recentTransactions)||void 0===e?void 0:e.length)>0?a.recentTransactions.map(e=>(0,$r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,$r.jsxs)("td",{className:"p-4 font-mono text-sm",children:["#",e.id.substring(0,8)]}),(0,$r.jsx)("td",{className:"p-4 text-sm text-gray-600",children:hE(new Date(e.createdAt),"MMM dd, yyyy HH:mm")}),(0,$r.jsx)("td",{className:"p-4 text-sm text-gray-600 capitalize",children:e.method.replace("_"," ")}),(0,$r.jsx)("td",{className:"p-4 font-bold text-gray-800",children:H(e.amount)}),(0,$r.jsx)("td",{className:"p-4",children:V(e.status)})]},e.id)):(0,$r.jsx)("tr",{children:(0,$r.jsx)("td",{colSpan:"5",className:"p-8 text-center text-gray-500",children:"No payment history found."})})})]})})]}),h&&(0,$r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-fade-in",children:[(0,$r.jsxs)("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[(0,$r.jsx)("h3",{className:"font-bold text-gray-800",children:"Complete Payment"}),(0,$r.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:(0,$r.jsx)(qs,{})})]}),(0,$r.jsxs)("div",{className:"p-6",children:[1===g&&(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,$r.jsxs)("button",{onClick:()=>B("card"),className:"p-4 border rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all flex flex-col items-center gap-2 group",children:[(0,$r.jsx)(ss,{className:"text-2xl text-gray-400 group-hover:text-blue-500"}),(0,$r.jsx)("span",{className:"font-bold text-gray-700 group-hover:text-blue-700",children:"Credit Card"})]}),(0,$r.jsxs)("button",{onClick:()=>B("gcash"),className:"p-4 border rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all flex flex-col items-center gap-2 group",children:[(0,$r.jsx)(Ys,{className:"text-2xl text-gray-400 group-hover:text-blue-500"}),(0,$r.jsx)("span",{className:"font-bold text-gray-700 group-hover:text-blue-700",children:"GCash"})]}),(0,$r.jsxs)("button",{onClick:()=>B("grab_pay"),className:"p-4 border rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all flex flex-col items-center gap-2 group",children:[(0,$r.jsx)(Ys,{className:"text-2xl text-gray-400 group-hover:text-blue-500"}),(0,$r.jsx)("span",{className:"font-bold text-gray-700 group-hover:text-blue-700",children:"GrabPay"})]}),(0,$r.jsxs)("button",{onClick:()=>B("paymaya"),className:"p-4 border rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all flex flex-col items-center gap-2 group",children:[(0,$r.jsx)(Ys,{className:"text-2xl text-gray-400 group-hover:text-blue-500"}),(0,$r.jsx)("span",{className:"font-bold text-gray-700 group-hover:text-blue-700",children:"Maya"})]})]}),2===g&&"card"===b&&(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Cardholder Name"}),(0,$r.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",value:I.cardholderName,onChange:e=>U("cardholderName",e.target.value),placeholder:"John Doe"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Card Number"}),(0,$r.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",value:I.cardNumber,onChange:e=>U("cardNumber",e.target.value),placeholder:"0000 0000 0000 0000"})]}),(0,$r.jsxs)("div",{className:"flex gap-4",children:[(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Expiry Date"}),(0,$r.jsxs)("div",{className:"flex gap-2",children:[(0,$r.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",value:I.expiryMonth,onChange:e=>U("expiryMonth",e.target.value),placeholder:"MM"}),(0,$r.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",value:I.expiryYear,onChange:e=>U("expiryYear",e.target.value),placeholder:"YYYY"})]})]}),(0,$r.jsxs)("div",{className:"w-1/3",children:[(0,$r.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"CVC"}),(0,$r.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",value:I.cvc,onChange:e=>U("cvc",e.target.value),placeholder:"123"})]})]}),(0,$r.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,$r.jsx)("button",{onClick:()=>x(1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Back"}),(0,$r.jsx)("button",{onClick:q,disabled:m,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-lg shadow-md disabled:opacity-50",children:m?"Processing...":"Pay ".concat(H((null===d||void 0===d?void 0:d.amount)||0))})]})]}),2===g&&"card"!==b&&(0,$r.jsxs)("div",{className:"text-center py-6",children:[(0,$r.jsxs)("p",{className:"text-gray-600 mb-6",children:["You will be redirected to"," ","gcash"===b?"GCash":"grab_pay"===b?"GrabPay":"Maya"," ","to complete your payment securely."]}),(0,$r.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,$r.jsx)("button",{onClick:()=>x(1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Back"}),(0,$r.jsx)("button",{onClick:q,disabled:m,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg shadow-md disabled:opacity-50",children:m?"Redirecting...":"Proceed to Payment"})]})]}),3===g&&(0,$r.jsxs)("div",{className:"text-center py-6",children:[(0,$r.jsx)("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,$r.jsx)(es,{className:"text-3xl text-emerald-500"})}),(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Payment Successful!"}),(0,$r.jsx)("p",{className:"text-gray-500 mb-6",children:"Your payment has been processed successfully."}),(0,$r.jsx)("button",{onClick:()=>p(!1),className:"bg-gray-800 text-white px-6 py-2 rounded-lg font-bold hover:bg-gray-900",children:"Close"})]}),y.show&&(0,$r.jsx)("div",{className:"mt-4 p-3 rounded-lg text-sm ".concat("error"===y.type?"bg-red-50 text-red-700":"bg-blue-50 text-blue-700"),children:y.message})]})]})}),C&&(0,$r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-fade-in",children:[(0,$r.jsxs)("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-emerald-50",children:[(0,$r.jsxs)("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,$r.jsx)(Vs,{className:"text-emerald-600"})," Upload Payment Proof"]}),(0,$r.jsx)("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:(0,$r.jsx)(qs,{})})]}),(0,$r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,$r.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[(0,$r.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,$r.jsx)("strong",{children:"Selected Deliveries:"})," ",k.length]}),(0,$r.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Upload proof for batch payment"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Payment Proof File *"}),(0,$r.jsx)("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void w({show:!0,type:"error",message:"File size must be less than 5MB"});A(t)}},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none text-sm"}),P&&(0,$r.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[(0,$r.jsx)(ms,{className:"text-emerald-600"}),(0,$r.jsx)("span",{className:"font-medium",children:P.name}),(0,$r.jsxs)("span",{className:"text-xs text-gray-400",children:["(",(P.size/1024).toFixed(1)," KB)"]})]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted: JPG, PNG, PDF (max 5MB)"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Reference Number"}),(0,$r.jsx)("input",{type:"text",value:D.referenceNumber,onChange:e=>T(Ne(Ne({},D),{},{referenceNumber:e.target.value})),placeholder:"e.g., Bank transaction reference",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none text-sm"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes (Optional)"}),(0,$r.jsx)("textarea",{value:D.notes,onChange:e=>T(Ne(Ne({},D),{},{notes:e.target.value})),placeholder:"Additional information...",rows:"3",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none text-sm resize-none"})]}),y.show&&(0,$r.jsx)("div",{className:"p-3 rounded-lg text-sm ".concat("error"===y.type?"bg-red-50 text-red-700 border border-red-200":"bg-blue-50 text-blue-700 border border-blue-200"),children:y.message}),(0,$r.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,$r.jsx)("button",{onClick:()=>_(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium",disabled:L,children:"Cancel"}),(0,$r.jsx)("button",{onClick:async()=>{if(P)try{E(!0);const e=localStorage.getItem("token"),t=new FileReader;t.readAsDataURL(P),t.onload=async()=>{try{var r;const n=t.result,a=await Vr.post("/api/payments/upload-proof",{file:{data:n,name:P.name,type:P.type,size:P.size},deliveryIds:k,referenceNumber:D.referenceNumber,notes:D.notes,clientId:null===(r=z())||void 0===r?void 0:r.id},{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});a.data.success&&(w({show:!0,type:"success",message:a.data.message}),_(!1),A(null),T({referenceNumber:"",notes:""}),S([]),await O())}catch(l){var n,a;console.error("Error uploading proof:",l),w({show:!0,type:"error",message:(null===(n=l.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to upload payment proof"})}finally{E(!1)}},t.onerror=()=>{w({show:!0,type:"error",message:"Failed to read the file. Please try again."}),E(!1)}}catch(l){var e,t;console.error("Error uploading proof:",l),w({show:!0,type:"error",message:(null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to upload payment proof"}),E(!1)}else w({show:!0,type:"error",message:"Please select a file to upload"})},disabled:L||!P,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 rounded-lg shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:L?"Uploading...":"Upload Proof"})]})]})]})})]})},fE=()=>{const{authUser:e}=(0,t.useContext)(wa),{showSuccess:r,showError:n}=Da(),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[b,v]=(0,t.useState)(""),[y,w]=(0,t.useState)("all"),[j,N]=(0,t.useState)("name"),[k,S]=(0,t.useState)(!1),[C,_]=(0,t.useState)(!1),[P,A]=(0,t.useState)({name:"",address:"",coordinates:null,category:"business",notes:"",contactPerson:"",contactNumber:"",operatingHours:"",accessInstructions:"",isDefault:!1}),D=[{value:"business",label:"Business",icon:Ya,color:"#3b82f6"},{value:"residential",label:"Residential",icon:bs,color:"#10b981"},{value:"commercial",label:"Commercial",icon:Os,color:"#f59e0b"},{value:"industrial",label:"Industrial",icon:vs,color:"#ef4444"}];(0,t.useEffect)(()=>{T()},[e]),(0,t.useEffect)(()=>{L()},[a,b,y,j]);const T=async()=>{try{c(!0);const e=localStorage.getItem("token"),t=await fetch("".concat(Gr,"/api/client/pinned-locations"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to load pinned locations");{const e=await t.json();s(e.locations||[])}}catch(lb){console.error("Error loading pinned locations:",lb),n("Failed to load saved locations","Unable to retrieve your saved locations. Please try again."),s([])}finally{c(!1)}},L=()=>{let e=[...a];b&&(e=e.filter(e=>{var t;return e.name.toLowerCase().includes(b.toLowerCase())||e.address.toLowerCase().includes(b.toLowerCase())||(null===(t=e.notes)||void 0===t?void 0:t.toLowerCase().includes(b.toLowerCase()))})),"all"!==y&&(e=e.filter(e=>e.category===y)),e.sort((e,t)=>{switch(j){case"name":return e.name.localeCompare(t.name);case"category":return e.category.localeCompare(t.category);case"lastUsed":return new Date(t.lastUsed||0)-new Date(e.lastUsed||0);case"usageCount":return(t.usageCount||0)-(e.usageCount||0);default:return 0}}),o(e)},E=()=>{A({name:"",address:"",coordinates:null,category:"business",notes:"",contactPerson:"",contactNumber:"",operatingHours:"",accessInstructions:"",isDefault:!1})},I=()=>{E(),u(!0)},M=e=>{const t=D.find(t=>t.value===e);return t?t.color:"#6b7280"};if(l)return(0,$r.jsx)(ri,{message:"Loading your saved locations..."});const R="flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-base transition-all duration-300 border shadow-sm hover:-translate-y-px",F="".concat(R," bg-gradient-to-br from-primary-500 to-primary-700 text-white border-transparent hover:shadow-lg shadow-primary-500/30"),z="".concat(R," bg-gray-50 text-gray-600 border-gray-200 hover:bg-gray-200 hover:border-gray-300"),O="".concat(R," bg-gradient-to-br from-danger-500 to-danger-600 text-white border-transparent hover:shadow-lg shadow-danger-500/30"),B="w-8 h-8 flex items-center justify-center rounded-md border-none cursor-pointer text-sm transition-all duration-200 text-white hover:scale-110 shadow-sm",U="w-full px-4 py-3.5 border-2 border-gray-200 rounded-lg text-base bg-gray-50 transition-all duration-300 focus:outline-none focus:border-primary-500 focus:bg-white focus:shadow-[0_0_0_3px_rgba(59,130,246,0.1)]",q="block font-semibold text-gray-700 text-sm mb-2";return(0,$r.jsxs)("div",{className:"w-full h-full animate-fade-in block overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 pb-4 border-b border-gray-200",children:[(0,$r.jsxs)("h1",{className:"flex items-center gap-3 text-3xl font-bold text-primary-500 m-0",children:[(0,$r.jsx)(ks,{className:"text-primary-300"}),"Pinned Locations",(0,$r.jsxs)("span",{className:"bg-gradient-to-br from-primary-500 to-primary-700 text-white px-4 py-1 rounded-full text-sm font-semibold shadow-md ml-4",children:[a.length," saved"]})]}),(0,$r.jsx)("div",{className:"flex gap-4 mt-4 md:mt-0",children:(0,$r.jsxs)("button",{className:F,onClick:I,children:[(0,$r.jsx)(Ps,{})," Add Location"]})})]}),(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm mb-6 relative",children:[(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,$r.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,$r.jsx)(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search locations by name, address...",value:b,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,$r.jsx)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(k?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>S(!k),children:[(0,$r.jsx)(gs,{size:14}),"Filters",("all"!==y||"name"!==j)&&(0,$r.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:["all"!==y,"name"!==j].filter(Boolean).length})]})})]}),(0,$r.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium",children:["Showing ",i.length," of ",a.length," locations"]}),k&&(0,$r.jsxs)("div",{className:"absolute top-full mt-2 right-4 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-[360px] max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$r.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,$r.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>S(!1),children:(0,$r.jsx)(qs,{size:16})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Category"}),(0,$r.jsxs)("select",{value:y,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Categories"}),D.map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Sort By"}),(0,$r.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"name",children:"Sort by Name"}),(0,$r.jsx)("option",{value:"category",children:"Sort by Category"})]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{v(""),w("all"),N("name"),S(!1)},children:"Reset"}),(0,$r.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>S(!1),children:"Apply Filters"})]})]})]}),(0,$r.jsx)("div",{className:"bg-white rounded-2xl p-8 w-full shadow-card border border-white/20",children:0===i.length?(0,$r.jsxs)("div",{className:"text-center py-16 px-8 text-gray-500",children:[(0,$r.jsx)(Ns,{className:"text-6xl text-gray-300 mb-6 mx-auto"}),(0,$r.jsx)("h3",{className:"text-2xl font-semibold text-gray-600 mb-2",children:"No saved locations"}),(0,$r.jsx)("p",{className:"text-base mb-8 max-w-lg mx-auto leading-relaxed",children:b||"all"!==y?"No locations match your search criteria.":"Start by adding your frequently used pickup and dropoff locations."}),!b&&"all"===y&&(0,$r.jsxs)("button",{className:"".concat(F," mx-auto"),onClick:I,children:[(0,$r.jsx)(Ps,{})," Add Your First Location"]})]}):(0,$r.jsx)("div",{className:"w-full overflow-x-auto overflow-y-auto max-h-[calc(100vh-350px)]",children:(0,$r.jsxs)("table",{className:"w-full border-separate border-spacing-0 min-w-[800px]",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gradient-to-br from-gray-50 to-gray-200",children:[(0,$r.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 rounded-tl-xl whitespace-nowrap",children:"Name"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 whitespace-nowrap",children:"Category"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 whitespace-nowrap",children:"Address"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 whitespace-nowrap",children:"Contact"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 rounded-tr-xl whitespace-nowrap",children:"Actions"})]})}),(0,$r.jsx)("tbody",{children:i.map(e=>{var t;const r=(e=>{const t=D.find(t=>t.value===e);return t?t.icon:Ns})(e.category);return(0,$r.jsxs)("tr",{className:"bg-white transition-all duration-200 border-b border-gray-100 hover:bg-gray-50 hover:shadow-sm",children:[(0,$r.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle first:rounded-bl-xl",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("span",{className:"font-semibold text-base text-gray-800 flex items-center gap-2",children:[e.name,e.isDefault&&(0,$r.jsx)(Fs,{className:"text-warning-500 text-sm",title:"Default location"})]}),e.notes&&(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 italic",children:[(0,$r.jsx)(zs,{className:"text-gray-400"}),(0,$r.jsx)("span",{children:e.notes})]})]})}),(0,$r.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50/50 rounded-lg w-fit",children:[(0,$r.jsx)(r,{style:{color:M(e.category)},className:"text-base"}),(0,$r.jsx)("span",{className:"font-semibold text-xs",children:(null===(t=D.find(t=>t.value===e.category))||void 0===t?void 0:t.label)||e.category})]})}),(0,$r.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle",children:(0,$r.jsxs)("div",{className:"flex items-start gap-2 text-gray-600 max-w-[300px]",children:[(0,$r.jsx)(Ns,{className:"text-gray-500 mt-1 shrink-0 text-sm"}),(0,$r.jsx)("span",{children:e.address})]})}),(0,$r.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle",children:e.contactPerson?(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("div",{className:"font-medium text-gray-800",children:e.contactPerson}),e.contactNumber&&(0,$r.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[(0,$r.jsx)(_s,{className:"text-xs"}),e.contactNumber]})]}):(0,$r.jsx)("span",{className:"text-gray-300 italic",children:"-"})}),(0,$r.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle last:rounded-br-xl",children:(0,$r.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,$r.jsx)("button",{className:"".concat(B," bg-gradient-to-br from-warning-500 to-warning-600"),onClick:()=>(e=>{x(e),A({name:e.name||"",address:e.address||"",coordinates:e.coordinates||null,category:e.category||"business",notes:e.notes||"",contactPerson:e.contactPerson||"",contactNumber:e.contactNumber||"",operatingHours:e.operatingHours||"",accessInstructions:e.accessInstructions||"",isDefault:e.isDefault||!1}),p(!0)})(e),title:"Edit location",children:(0,$r.jsx)(ls,{})}),(0,$r.jsx)("button",{className:"".concat(B," bg-gradient-to-br from-danger-500 to-danger-600"),onClick:()=>(e=>{x(e),f(!0)})(e),title:"Delete location",children:(0,$r.jsx)(Ws,{})})]})})]},e.id)})})]})})}),(d||h)&&(0,$r.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[10000] p-4",onClick:()=>{u(!1),p(!1),E()},children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-[700px] max-h-[90vh] overflow-hidden flex flex-col shadow-modal",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center px-8 py-6 border-b border-gray-200 bg-gradient-to-br from-gray-50 to-gray-200",children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:h?"Edit Location":"Add New Location"}),(0,$r.jsx)("button",{className:"w-9 h-9 border-none bg-gray-100 rounded-lg cursor-pointer flex items-center justify-center text-gray-500 transition-all duration-300 hover:bg-gray-200 hover:text-gray-600",onClick:()=>{u(!1),p(!1),E()},children:(0,$r.jsx)(qs,{})})]}),(0,$r.jsx)("div",{className:"p-8 flex-1 overflow-y-auto",children:(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-2",children:[(0,$r.jsx)("label",{className:q,children:"Location Name *"}),(0,$r.jsx)("input",{type:"text",value:P.name,onChange:e=>A(t=>Ne(Ne({},t),{},{name:e.target.value})),placeholder:"e.g., Main Office, Home, Warehouse A",className:U})]}),(0,$r.jsxs)("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-2",children:[(0,$r.jsx)("label",{className:q,children:"Address *"}),(0,$r.jsxs)("div",{className:"flex gap-2 flex-col md:flex-row",children:[(0,$r.jsx)("input",{type:"text",className:"".concat(U," flex-1"),value:P.address,onChange:e=>A(t=>Ne(Ne({},t),{},{address:e.target.value})),placeholder:"Enter address or click map to select"}),(0,$r.jsxs)("button",{type:"button",className:"px-4 py-3.5 bg-gradient-to-br from-primary-500 to-primary-700 text-white border-none rounded-lg cursor-pointer flex items-center gap-2 font-semibold transition-all duration-300 hover:-translate-y-px shadow-sm whitespace-nowrap justify-center",onClick:()=>{ff.init({locationType:"location",initialAddress:P.address,title:"Select Location",onSelectCallback:(e,t)=>{A(r=>Ne(Ne({},r),{},{address:e,coordinates:t}))}})},children:[(0,$r.jsx)(Ns,{})," Map"]})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{className:q,children:"Category"}),(0,$r.jsx)("select",{value:P.category,onChange:e=>A(t=>Ne(Ne({},t),{},{category:e.target.value})),className:U,children:D.map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{className:q,children:"Contact Person"}),(0,$r.jsx)("input",{type:"text",value:P.contactPerson,onChange:e=>A(t=>Ne(Ne({},t),{},{contactPerson:e.target.value})),placeholder:"Contact person name",className:U})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{className:q,children:"Contact Number"}),(0,$r.jsx)("input",{type:"tel",value:P.contactNumber,onChange:e=>A(t=>Ne(Ne({},t),{},{contactNumber:e.target.value})),placeholder:"+63 912 345 6789",className:U})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{className:q,children:"Operating Hours"}),(0,$r.jsx)("input",{type:"text",value:P.operatingHours,onChange:e=>A(t=>Ne(Ne({},t),{},{operatingHours:e.target.value})),placeholder:"e.g., 8AM-6PM Mon-Fri",className:U})]}),(0,$r.jsxs)("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-2",children:[(0,$r.jsx)("label",{className:q,children:"Notes"}),(0,$r.jsx)("textarea",{value:P.notes,onChange:e=>A(t=>Ne(Ne({},t),{},{notes:e.target.value})),placeholder:"Additional notes about this location...",rows:"3",className:U})]}),(0,$r.jsxs)("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-2",children:[(0,$r.jsx)("label",{className:q,children:"Access Instructions"}),(0,$r.jsx)("textarea",{value:P.accessInstructions,onChange:e=>A(t=>Ne(Ne({},t),{},{accessInstructions:e.target.value})),placeholder:"Special instructions for accessing this location...",rows:"2",className:U})]}),(0,$r.jsx)("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-2",children:(0,$r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer font-medium text-gray-700",children:[(0,$r.jsx)("input",{type:"checkbox",className:"w-[18px] h-[18px] cursor-pointer accent-primary-500",checked:P.isDefault,onChange:e=>A(t=>Ne(Ne({},t),{},{isDefault:e.target.checked}))}),(0,$r.jsx)("span",{children:"Set as default location"})]})})]})}),(0,$r.jsxs)("div",{className:"flex justify-end gap-4 px-8 py-6 border-t border-gray-200 bg-gray-50",children:[(0,$r.jsx)("button",{className:z,onClick:()=>{u(!1),p(!1),E()},children:"Cancel"}),(0,$r.jsx)("button",{className:F,onClick:async()=>{try{if(!P.name.trim())return void n("Validation Error","Please enter a location name");if(!P.address.trim())return void n("Validation Error","Please enter or select an address");_(!0);const e=localStorage.getItem("token"),t=h?"".concat(Gr,"/api/client/pinned-locations/").concat(g.id):"".concat(Gr,"/api/client/pinned-locations"),a=h?"PUT":"POST",s=await fetch(t,{method:a,headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(P)});if(!s.ok)throw new Error("Failed to save location");await s.json(),r(h?"Location Updated":"Location Saved",h?"Your location has been updated successfully!":"Your location has been saved successfully!"),await T(),u(!1),p(!1),E()}catch(lb){console.error("Error saving location:",lb),n("Save Failed","Unable to save location. Please try again.")}finally{_(!1)}},disabled:C,children:C?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,$r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,$r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})," ",h?"Updating...":"Saving..."]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(ts,{})," ",h?"Update Location":"Save Location"]})})]})]})}),m&&g&&(0,$r.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[10000] p-4",onClick:()=>f(!1),children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-[400px] flex flex-col shadow-modal",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center px-6 py-5 border-b border-gray-100 bg-gray-50 rounded-t-2xl",children:[(0,$r.jsx)("h2",{className:"text-xl font-bold text-gray-800 m-0",children:"Delete Location"}),(0,$r.jsx)("button",{className:"w-8 h-8 border-none bg-gray-200 rounded-full cursor-pointer flex items-center justify-center text-gray-500 hover:bg-gray-300",onClick:()=>f(!1),children:(0,$r.jsx)(qs,{})})]}),(0,$r.jsxs)("div",{className:"p-6",children:[(0,$r.jsxs)("p",{className:"text-base text-gray-600 mb-2",children:["Are you sure you want to delete"," ",(0,$r.jsx)("strong",{children:g.name}),"?"]}),(0,$r.jsx)("p",{className:"text-danger-600 text-sm italic m-0",children:"This action cannot be undone."})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 px-6 py-5 bg-gray-50 rounded-b-2xl",children:[(0,$r.jsx)("button",{className:z,onClick:()=>f(!1),children:"Cancel"}),(0,$r.jsxs)("button",{className:O,onClick:async()=>{try{const e=localStorage.getItem("token");if(!(await fetch("".concat(Gr,"/api/client/pinned-locations/").concat(g.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})).ok)throw new Error("Failed to delete location");r("Location Deleted","Your location has been deleted successfully!"),await T(),f(!1),x(null)}catch(lb){console.error("Error deleting location:",lb),n("Delete Failed","Unable to delete location. Please try again.")}},children:[(0,$r.jsx)(Ws,{})," Delete Location"]})]})]})})]})},gE=e=>{let{isOpen:t,onClose:r,bookingDetails:n,trucks:a,routeDetails:s,estimatedCost:i}=e;if(!t)return null;return(0,$r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&r()},children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-300",children:[(0,$r.jsxs)("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 p-6 text-white relative",children:[(0,$r.jsx)("button",{onClick:r,className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors p-1",children:(0,$r.jsx)(qs,{size:20})}),(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"bg-white/20 rounded-full p-4",children:(0,$r.jsx)(es,{size:32})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold",children:"Booking Confirmed!"}),(0,$r.jsx)("p",{className:"text-white/80 text-sm mt-1",children:"Your truck rental has been successfully booked"})]})]})]}),(0,$r.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[(0,$r.jsxs)("div",{className:"mb-6",children:[(0,$r.jsxs)("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[(0,$r.jsx)(Hs,{className:"text-blue-600"})," Booked Trucks (",(null===a||void 0===a?void 0:a.length)||0,")"]}),(0,$r.jsx)("div",{className:"space-y-2",children:null===a||void 0===a?void 0:a.map((e,t)=>(0,$r.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-100",children:(0,$r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"font-bold text-gray-800",children:e.PlateNumber||e.plateNumber||e.TruckID}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:e.VehicleType||e.vehicleType||e.TruckType||"Truck"})]}),(0,$r.jsxs)("div",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[e.Capacity||e.capacity||e.TruckCapacity||"N/A"," ","tons"]})]})},e.TruckID||t))})]}),(0,$r.jsxs)("div",{className:"mb-6",children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Delivery Details"}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200 space-y-3",children:[(0,$r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,$r.jsx)("div",{className:"bg-emerald-100 rounded-full p-2 mt-0.5",children:(0,$r.jsx)(Ns,{className:"text-emerald-600",size:14})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Pickup"}),(0,$r.jsx)("p",{className:"text-sm text-gray-800 font-medium",children:(null===n||void 0===n?void 0:n.pickupLocation)||"Not specified"})]})]}),(0,$r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,$r.jsx)("div",{className:"bg-red-100 rounded-full p-2 mt-0.5",children:(0,$r.jsx)(Ns,{className:"text-red-600",size:14})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Drop-off"}),(0,$r.jsx)("p",{className:"text-sm text-gray-800 font-medium",children:(null===n||void 0===n?void 0:n.dropoffLocation)||"Not specified"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-6 pt-2 border-t border-gray-200",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)($a,{className:"text-blue-600",size:14}),(0,$r.jsx)("span",{className:"text-sm text-gray-700 font-medium",children:(null===n||void 0===n?void 0:n.deliveryDate)||"Not set"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)(as,{className:"text-blue-600",size:14}),(0,$r.jsx)("span",{className:"text-sm text-gray-700 font-medium",children:(null===n||void 0===n?void 0:n.deliveryTime)||"Not set"})]})]})]})]}),(s||i)&&(0,$r.jsxs)("div",{className:"mb-6",children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Route & Cost"}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[((null===s||void 0===s?void 0:s.distance)||(null===s||void 0===s?void 0:s.distanceText))&&(0,$r.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-100",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,$r.jsx)(Ts,{className:"text-purple-600",size:14}),(0,$r.jsx)("span",{className:"text-xs font-bold text-purple-600 uppercase",children:"Distance"})]}),(0,$r.jsx)("p",{className:"text-lg font-bold text-gray-800",children:s.distance||s.distanceText})]}),((null===s||void 0===s?void 0:s.duration)||(null===s||void 0===s?void 0:s.durationText))&&(0,$r.jsxs)("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-100",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,$r.jsx)(as,{className:"text-orange-600",size:14}),(0,$r.jsx)("span",{className:"text-xs font-bold text-orange-600 uppercase",children:"Travel Time"})]}),(0,$r.jsx)("p",{className:"text-lg font-bold text-gray-800",children:s.duration||s.durationText})]})]}),i&&(0,$r.jsx)("div",{className:"mt-3 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl p-4 border border-emerald-200",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)(Cs,{className:"text-emerald-600",size:18}),(0,$r.jsx)("span",{className:"text-sm font-bold text-gray-700",children:"Estimated Total"})]}),(0,$r.jsxs)("span",{className:"text-2xl font-extrabold text-emerald-600",children:["\u20b1",i]})]})})]})]}),(0,$r.jsx)("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:(0,$r.jsx)("button",{onClick:r,className:"w-full py-3 px-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-blue-500/20",children:"Done"})})]})})},xE=()=>{const{authUser:e}=(0,t.useContext)(wa)||{authUser:null},r=ce(),[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)({pickupLocation:"",pickupCoordinates:null,dropoffLocation:"",dropoffCoordinates:null,weight:"",deliveryDate:"",deliveryTime:"",selectedTrucks:[],pickupContactPerson:"",pickupContactNumber:"",dropoffContactPerson:"",dropoffContactNumber:""}),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[w,j]=(0,t.useState)(!1),[N,k]=(0,t.useState)([]),[S,C]=(0,t.useState)(null),[_,P]=(0,t.useState)([]),[A,D]=(0,t.useState)([]),[T,L]=(0,t.useState)(!1),[E,I]=(0,t.useState)(!1),{modalState:M,hideModal:R,showWarning:F,showError:z,showSuccess:O,showInfo:B,showConfirm:U}=gf(),{toasts:q,removeToast:W,showSuccess:H,showError:V}=Da();(0,t.useEffect)(()=>{const e=localStorage.getItem("token");e&&(Vr.defaults.headers.common.Authorization="Bearer ".concat(e))},[]),(0,t.useEffect)(()=>{K()},[]),(0,t.useEffect)(()=>{const e=new Date;e.setDate(e.getDate()+1);const t=e.toISOString().split("T")[0];h(e=>Ne(Ne({},e),{},{deliveryDate:t,deliveryTime:"12:00"}))},[]),(0,t.useEffect)(()=>()=>{ff.clearUsedLocations()},[]),(0,t.useEffect)(()=>{u.deliveryDate&&G(u.deliveryDate)},[u.deliveryDate]);const K=async()=>{try{d(!0);try{const e=await Vr.get("/api/clients/profile/trucks");a(e.data||[])}catch(e){console.error("Error fetching trucks:",e),a([])}try{const e=await Vr.get("/api/clients/profile/deliveries");i(e.data||[])}catch(t){console.error("Error fetching deliveries:",t),i([])}try{const e=await Vr.get("/api/clients/vehicle-rates");e.data.success&&l(e.data.data||[])}catch(r){console.error("Error fetching vehicle rates:",r),l([])}d(!1)}catch(lb){console.error("Error fetching data:",lb),d(!1)}},G=async e=>{try{L(!0),I(!1);const t=await Vr.get("/api/clients/trucks/availability?date=".concat(e));t.data.success&&P(t.data.availableTruckIds||[]),I(!0)}catch(lb){console.error("Error checking availability:",lb),P(n.map(e=>e.TruckID)),I(!0)}finally{L(!1)}},Y=async e=>{let t=n.filter(e=>{var t,r;const n=(null===(t=e.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(r=e.OperationalStatus)||void 0===r?void 0:r.toLowerCase());return"maintenance"!==n&&"broken"!==n});u.deliveryDate&&E&&(t=t.filter(e=>_.includes(e.TruckID)));const r=t.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0);if(r<e)return F("Insufficient Truck Capacity","Your cargo (".concat(e," tons) exceeds available capacity (").concat(r.toFixed(1)," tons).")),void m([]);const a=$(t,e);if(a.length>0){m(a);const e=a.map(e=>e.TruckID);h(t=>Ne(Ne({},t),{},{selectedTrucks:e}))}else m([]),F("No Suitable Combination","Unable to find a suitable truck combination.")},$=(e,t)=>{if(!e||0===e.length)return[];const r=[...e].sort((e,t)=>(parseFloat(e.TruckCapacity)||0)-(parseFloat(t.TruckCapacity)||0));let n=null,a=1/0;for(const l of r){const e=parseFloat(l.TruckCapacity)||0;if(e>=t){const r=e-t;r<a&&(a=r,n=l)}}if(n)return[n];let s=[],i=1/0;const o=Math.min(Math.pow(2,r.length),1e3);for(let l=1;l<o;l++){const e=[];let n=0;for(let t=0;t<r.length;t++)l&1<<t&&(e.push(r[t]),n+=parseFloat(r[t].TruckCapacity)||0);if(n>=t){const r=n-t;(r<i||r===i&&e.length<s.length)&&(i=r,s=e)}}return s},J=e=>{const t="pickup"===e?u.dropoffLocation:u.pickupLocation,r="pickup"===e?u.dropoffCoordinates:u.pickupCoordinates;ff.open({onSelect:(t,r,n)=>{h("pickup"===e?e=>Ne(Ne({},e),{},{pickupLocation:t,pickupCoordinates:r,pickupContactPerson:(null===n||void 0===n?void 0:n.contactPerson)||e.pickupContactPerson,pickupContactNumber:(null===n||void 0===n?void 0:n.contactNumber)||e.pickupContactNumber}):e=>Ne(Ne({},e),{},{dropoffLocation:t,dropoffCoordinates:r,dropoffContactPerson:(null===n||void 0===n?void 0:n.contactPerson)||e.dropoffContactPerson,dropoffContactNumber:(null===n||void 0===n?void 0:n.contactNumber)||e.dropoffContactNumber}))},initialLocation:"pickup"===e?u.pickupCoordinates:u.dropoffCoordinates,title:"pickup"===e?"Select Pickup Location":"Select Drop-off Location",locationType:e,otherSelectedLocation:t?{address:t,coordinates:r}:null})},X=e=>{C(e)},Q=()=>{if(!S||!u.selectedTrucks.length)return 0;const e=n.find(e=>u.selectedTrucks.includes(e.TruckID));if(!e)return 0;const t=e.TruckType||"mini truck",r=S.distanceValue||0,a=o.find(e=>e.vehicleType===t);if(a){return((parseFloat(a.baseRate)||0)+r*(parseFloat(a.ratePerKm)||0)).toFixed(2)}return(500+15*r).toFixed(2)},Z=()=>((parseFloat(Q())||0)*u.selectedTrucks.length).toFixed(2);if(c)return(0,$r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const ee=(()=>{let e=n.filter(e=>{var t,r;const n=(null===(t=e.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(r=e.OperationalStatus)||void 0===r?void 0:r.toLowerCase());return"maintenance"!==n&&"broken"!==n});return u.deliveryDate&&E&&(e=e.filter(e=>_.includes(e.TruckID))),e})();return(0,$r.jsxs)("div",{className:"h-screen overflow-y-auto bg-gray-50 py-8 px-4 pb-20",children:[(0,$r.jsx)(uf,{isOpen:M.isOpen,onClose:R,title:M.title,message:M.message,type:M.type,onConfirm:M.onConfirm,confirmText:M.confirmText,cancelText:M.cancelText}),(0,$r.jsx)(vf,{toasts:q,removeToast:W}),(0,$r.jsx)(gE,{isOpen:w,onClose:()=>{j(!1),r.push("/client/profile?tab=trucks")},bookingDetails:u,trucks:N,routeDetails:S,estimatedCost:S?Z():null}),x&&(0,$r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>b(!1),children:(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"bg-[#1e3a5f] p-4 text-white relative",children:[(0,$r.jsx)("button",{onClick:()=>b(!1),className:"absolute top-3 right-3 text-white/80 hover:text-white transition-colors p-1",children:(0,$r.jsx)(qs,{size:16})}),(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"bg-white/20 rounded-full p-2",children:(0,$r.jsx)(Hs,{className:"text-xl text-white"})}),(0,$r.jsx)("h3",{className:"text-lg font-bold",children:"Confirm Booking"})]})]}),(0,$r.jsxs)("div",{className:"p-5 space-y-4 max-h-[60vh] overflow-y-auto",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:["Selected Trucks (",u.selectedTrucks.length,")"]}),(0,$r.jsx)("div",{className:"space-y-2",children:n.filter(e=>u.selectedTrucks.includes(e.TruckID)).map(e=>(0,$r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)(Hs,{className:"text-blue-600"}),(0,$r.jsx)("span",{className:"font-medium",children:e.TruckPlate||e.PlateNumber||e.TruckID}),(0,$r.jsx)("span",{className:"text-gray-500 text-sm",children:e.TruckType||e.VehicleType||e.vehicleType||"Truck"})]}),(0,$r.jsxs)("span",{className:"text-sm bg-blue-100 text-blue-700 px-2 py-1 rounded",children:[e.TruckCapacity||e.Capacity||e.capacity||"N/A"," tons"]})]},e.TruckID))})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:"Delivery Route"}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,$r.jsx)(Ns,{className:"text-green-500 mt-1"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500",children:"Pickup"}),(0,$r.jsx)("p",{className:"text-gray-700 text-sm",children:u.pickupLocation})]})]}),(0,$r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,$r.jsx)(Ns,{className:"text-red-500 mt-1"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500",children:"Drop-off"}),(0,$r.jsx)("p",{className:"text-gray-700 text-sm",children:u.dropoffLocation})]})]})]})]}),(0,$r.jsxs)("div",{className:"flex gap-4",children:[(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-1",children:"Date"}),(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,$r.jsx)($a,{className:"text-blue-600"}),(0,$r.jsx)("span",{children:u.deliveryDate})]})]}),(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-1",children:"Time"}),(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,$r.jsx)(as,{className:"text-blue-600"}),(0,$r.jsx)("span",{children:u.deliveryTime})]})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-1",children:"Cargo Weight"}),(0,$r.jsxs)("p",{className:"text-gray-700 font-medium",children:[u.weight," tons"]})]}),S&&(0,$r.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-gray-500",children:"Distance:"}),(0,$r.jsx)("span",{className:"ml-2 font-medium",children:S.distanceText})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-gray-500",children:"Duration:"}),(0,$r.jsx)("span",{className:"ml-2 font-medium",children:S.durationText})]}),(0,$r.jsxs)("div",{className:"col-span-2",children:[(0,$r.jsx)("span",{className:"text-gray-500",children:"Est. Cost:"}),(0,$r.jsxs)("span",{className:"ml-2 font-bold text-blue-600",children:["\u20b1",Z()]})]})]})})]}),(0,$r.jsxs)("div",{className:"px-5 pb-5 flex justify-end gap-3 border-t pt-4",children:[(0,$r.jsx)("button",{className:"px-5 py-2 border border-gray-300 text-gray-700 hover:bg-gray-100 font-medium rounded-lg transition-colors",onClick:()=>b(!1),children:"Cancel"}),(0,$r.jsx)("button",{className:"px-5 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold rounded-lg transition-colors flex items-center gap-2",onClick:async()=>{y(!0);try{if((await Vr.post("/api/clients/truck-rental",{pickupLocation:u.pickupLocation,pickupCoordinates:u.pickupCoordinates,dropoffLocation:u.dropoffLocation,dropoffCoordinates:u.dropoffCoordinates,deliveryDate:u.deliveryDate,deliveryTime:u.deliveryTime,selectedTrucks:u.selectedTrucks,weight:parseFloat(u.weight)||0,pickupContactPerson:u.pickupContactPerson,pickupContactNumber:u.pickupContactNumber,dropoffContactPerson:u.dropoffContactPerson,dropoffContactNumber:u.dropoffContactNumber,deliveryDistance:(null===S||void 0===S?void 0:S.distanceValue)||null,estimatedDuration:(null===S||void 0===S?void 0:S.durationValue)||null})).data.success){y(!1),b(!1);const e=n.filter(e=>u.selectedTrucks.includes(e.TruckID));k(e),j(!0)}}catch(lb){var e,t;console.error("Booking error:",lb),y(!1),b(!1),z("Booking Failed",(null===(e=lb.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to create booking. Please try again.")}},disabled:v,children:v?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Processing..."]}):"Confirm Booking"})]})]})}),(0,$r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,$r.jsxs)("div",{className:"mb-6",children:[(0,$r.jsxs)(be,{to:"/client/profile?tab=trucks",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium mb-4",children:[(0,$r.jsx)(Wa,{})," Back to My Trucks"]}),(0,$r.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-3",children:[(0,$r.jsx)(Hs,{className:"text-blue-600"}),"Book Truck Rental"]}),(0,$r.jsx)("p",{className:"text-gray-500 mt-1",children:"Fill in the details below to book trucks for your delivery"})]}),(0,$r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:(0,$r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!u.pickupLocation||!u.dropoffLocation)return void z("Missing Information","Please select both pickup and drop-off locations.");if(!u.pickupContactNumber||!u.dropoffContactNumber)return void z("Missing Information","Please provide contact numbers for pickup and drop-off.");if(0===u.selectedTrucks.length)return void z("No Trucks Selected","Please select at least one truck for booking.");if((new Date("".concat(u.deliveryDate,"T").concat(u.deliveryTime||"00:00"))-new Date)/36e5<24)return void z("Booking Too Soon","Bookings must be made at least 24 hours before the delivery date and time. Please select a later date or time.");const t=parseFloat(u.weight)||0;if(t>0){const e=u.selectedTrucks.map(e=>n.find(t=>t.TruckID===e)).filter(e=>e).reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0);if(e<t)return void z("Insufficient Truck Capacity","Your cargo weighs ".concat(t," tons but the selected truck(s) can only carry ").concat(e," tons. Please select additional trucks or reduce your cargo weight."))}b(!0)},className:"flex flex-col gap-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{htmlFor:"weight",className:"text-sm font-bold text-gray-700",children:"Cargo Weight (tons)"}),(0,$r.jsxs)("div",{className:"flex gap-2",children:[(0,$r.jsx)("input",{type:"number",id:"weight",name:"weight",value:u.weight,onChange:async e=>{const t=parseFloat(e.target.value);h(t=>Ne(Ne({},t),{},{weight:e.target.value})),!isNaN(t)&&t>0?await Y(t):(m([]),h(e=>Ne(Ne({},e),{},{selectedTrucks:[]})))},className:"flex-1 w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,min:"0.1",step:"0.1",placeholder:"Enter cargo weight in tons"}),(0,$r.jsx)("button",{type:"button",className:"px-5 py-3 rounded-xl font-bold text-white transition-all shadow-md ".concat(!u.weight||parseFloat(u.weight)<=0?"bg-gray-400 cursor-not-allowed":"bg-emerald-500 hover:bg-emerald-600 shadow-emerald-500/20"),onClick:()=>{const e=parseFloat(u.weight);e&&e>0&&Y(e)},disabled:!u.weight||parseFloat(u.weight)<=0,children:"\ud83d\ude80 Smart Book"})]}),(0,$r.jsx)("small",{className:"text-xs text-gray-500",children:'Enter cargo weight and click "Smart Book" to automatically find the optimal truck combination'})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(Ns,{className:"inline mr-1"})," Pickup Location"]}),(0,$r.jsxs)("div",{className:"flex gap-2",children:[(0,$r.jsx)("input",{type:"text",value:u.pickupLocation,onChange:e=>h(t=>Ne(Ne({},t),{},{pickupLocation:e.target.value})),className:"flex-1 w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"Enter pickup address"}),(0,$r.jsxs)("button",{type:"button",className:"px-4 py-3 border border-gray-200 text-gray-600 bg-white hover:bg-gray-50 rounded-xl font-medium transition-colors flex items-center gap-2",onClick:()=>J("pickup"),children:[(0,$r.jsx)(Es,{})," Map"]})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(Ns,{className:"inline mr-1"})," Drop-off Location"]}),(0,$r.jsxs)("div",{className:"flex gap-2",children:[(0,$r.jsx)("input",{type:"text",value:u.dropoffLocation,onChange:e=>h(t=>Ne(Ne({},t),{},{dropoffLocation:e.target.value})),className:"flex-1 w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"Enter delivery address"}),(0,$r.jsxs)("button",{type:"button",className:"px-4 py-3 border border-gray-200 text-gray-600 bg-white hover:bg-gray-50 rounded-xl font-medium transition-colors flex items-center gap-2",onClick:()=>J("dropoff"),children:[(0,$r.jsx)(Es,{})," Map"]})]})]}),(0,$r.jsx)("div",{className:"flex justify-center",children:(0,$r.jsxs)("button",{type:"button",className:"px-4 py-2 border border-blue-200 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-xl font-bold flex items-center gap-2 transition-colors",onClick:()=>{g(!f)},disabled:!u.pickupCoordinates||!u.dropoffCoordinates,children:[(0,$r.jsx)(Ts,{})," ",f?"Hide Route Preview":"Show Route Preview"]})}),u.pickupCoordinates&&u.dropoffCoordinates&&(0,$r.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-100",children:[(0,$r.jsx)("h4",{className:"text-sm font-bold text-blue-800 mb-3 flex items-center gap-2",children:"\ud83d\ude9b Delivery Route Information"}),(0,$r.jsx)("div",{style:{display:"none"},children:(0,$r.jsx)(pf,{pickupCoordinates:u.pickupCoordinates,dropoffCoordinates:u.dropoffCoordinates,pickupAddress:u.pickupLocation,dropoffAddress:u.dropoffLocation,onRouteCalculated:X})}),S&&(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-blue-100",children:[(0,$r.jsx)("div",{className:"text-xs text-gray-500 font-bold uppercase",children:"Distance"}),(0,$r.jsx)("div",{className:"text-lg font-bold text-gray-800",children:S.distanceText})]}),(0,$r.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-blue-100",children:[(0,$r.jsx)("div",{className:"text-xs text-gray-500 font-bold uppercase",children:"Travel Time"}),(0,$r.jsx)("div",{className:"text-lg font-bold text-gray-800",children:S.durationText})]})]})]}),f&&(0,$r.jsxs)("div",{className:"border rounded-xl overflow-hidden shadow-md",children:[(0,$r.jsx)("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:(0,$r.jsx)("h4",{className:"text-sm font-bold text-gray-700 m-0",children:"Delivery Route Map Preview"})}),(0,$r.jsx)("div",{className:"h-64 w-full",children:(0,$r.jsx)(pf,{pickupCoordinates:u.pickupCoordinates,dropoffCoordinates:u.dropoffCoordinates,pickupAddress:u.pickupLocation,dropoffAddress:u.dropoffLocation,onRouteCalculated:X})})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)($a,{className:"inline mr-1"})," Delivery Date"]}),(0,$r.jsx)("input",{type:"date",value:u.deliveryDate,onChange:e=>{const t=e.target.value,r=new Date,n=new Date(r.getTime()+864e5);new Date(t+"T00:00:00")<new Date(n.toISOString().split("T")[0]+"T00:00:00")?z("Invalid Date","Bookings must be made at least 24 hours in advance. Please select a later date."):(h(e=>Ne(Ne({},e),{},{deliveryDate:t,selectedTrucks:[]})),m([]))},className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,min:(()=>{const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]})(),disabled:T}),T&&(0,$r.jsx)("small",{className:"text-xs text-blue-600 animate-pulse font-medium",children:"\ud83d\udd0d Checking truck availability..."}),u.deliveryDate&&E&&_.length>0&&(0,$r.jsxs)("small",{className:"text-xs text-emerald-600 font-medium",children:["\u2705 ",_.length," truck(s) available on this date"]}),u.deliveryDate&&E&&0===_.length&&(0,$r.jsx)("small",{className:"text-xs text-red-600 font-medium",children:"\u274c No trucks available on this date \u2014 all are booked. Please select a different date."})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"Delivery Time"}),(0,$r.jsx)("input",{type:"time",value:u.deliveryTime,onChange:e=>h(t=>Ne(Ne({},t),{},{deliveryTime:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,$r.jsxs)("div",{className:"bg-blue-50 text-blue-700 p-3 rounded-xl border border-blue-200 text-sm flex items-start gap-2",children:[(0,$r.jsx)("span",{className:"text-lg",children:"\ud83d\udca1"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("strong",{children:"Tip:"})," If you select a saved location, contact info will be auto-filled"]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[(0,$r.jsx)("h5",{className:"text-sm font-bold text-blue-800 uppercase tracking-wider mb-4 border-b border-gray-200 pb-2",children:"\ud83d\udccd Pickup Contact Information"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(Ks,{className:"inline mr-1"})," Contact Person"," ",(0,$r.jsx)("span",{className:"text-gray-400 font-normal text-xs",children:"(Optional)"})]}),(0,$r.jsx)("input",{type:"text",value:u.pickupContactPerson||"",onChange:e=>h(t=>Ne(Ne({},t),{},{pickupContactPerson:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Person at pickup"})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(_s,{className:"inline mr-1"})," Contact Number"," ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"tel",value:u.pickupContactNumber||"",onChange:e=>h(t=>Ne(Ne({},t),{},{pickupContactNumber:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"e.g., 09605877964"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[(0,$r.jsx)("h5",{className:"text-sm font-bold text-blue-800 uppercase tracking-wider mb-4 border-b border-gray-200 pb-2",children:"\ud83d\udccd Dropoff Contact Information"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(Ks,{className:"inline mr-1"})," Contact Person"," ",(0,$r.jsx)("span",{className:"text-gray-400 font-normal text-xs",children:"(Optional)"})]}),(0,$r.jsx)("input",{type:"text",value:u.dropoffContactPerson||"",onChange:e=>h(t=>Ne(Ne({},t),{},{dropoffContactPerson:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Person at dropoff"})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,$r.jsx)(_s,{className:"inline mr-1"})," Contact Number"," ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"tel",value:u.dropoffContactNumber||"",onChange:e=>h(t=>Ne(Ne({},t),{},{dropoffContactNumber:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"e.g., 09605877964"})]})]})]}),u.selectedTrucks.length>0&&S&&(0,$r.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-200 shadow-sm",children:[(0,$r.jsx)("h4",{className:"text-base font-bold text-blue-900 mb-3 pb-2 border-b border-blue-200 flex items-center gap-2",children:"\ud83e\uddee Estimated Cost"}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,$r.jsx)("span",{className:"text-gray-600 font-medium",children:"Distance:"}),(0,$r.jsx)("span",{className:"font-bold text-gray-800",children:S.distanceText})]}),(0,$r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,$r.jsx)("span",{className:"text-gray-600 font-medium",children:"Selected Trucks:"}),(0,$r.jsxs)("span",{className:"font-bold text-gray-800",children:[u.selectedTrucks.length," truck",1!==u.selectedTrucks.length?"s":""]})]}),(0,$r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,$r.jsx)("span",{className:"text-gray-600 font-medium",children:"Estimated Cost per Truck:"}),(0,$r.jsxs)("span",{className:"font-bold text-blue-700",children:["\u20b1",Q()]})]}),(0,$r.jsxs)("div",{className:"flex justify-between items-center pt-2 mt-1 border-t border-blue-200/50",children:[(0,$r.jsx)("span",{className:"text-base font-bold text-blue-900",children:"Total Estimated Cost:"}),(0,$r.jsxs)("span",{className:"text-xl font-extrabold text-blue-700",children:["\u20b1",((parseFloat(Q())||0)*u.selectedTrucks.length).toFixed(2)]})]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 italic mt-2",children:"Note: Rate may change on the delivery day."})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,$r.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"Select Trucks for Booking"}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 m-0",children:"\ud83d\udccb Only trucks allocated to your account can be booked. Contact your account manager if you need additional trucks."}),u.weight&&p.length>0&&(0,$r.jsxs)("div",{className:"bg-emerald-50 text-emerald-800 p-3 rounded-xl border border-emerald-200 mb-3 flex items-start gap-2 text-sm",children:[(0,$r.jsx)("span",{className:"text-lg",children:"\u2699\ufe0f"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("strong",{children:"Smart Recommendation:"})," ",p.length," truck",1!==p.length?"s":""," recommended for"," ",u.weight," tons cargo"]})]}),ee.length>0?(0,$r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto pr-1",children:ee.map(e=>{const t=p.some(t=>t.TruckID===e.TruckID),r=u.selectedTrucks.includes(e.TruckID),n=parseFloat(e.TruckCapacity)||0,a=parseFloat(u.weight)||0;let s=0;if(r&&a>0){const e=u.selectedTrucks.map(e=>ee.find(t=>t.TruckID===e)).filter(e=>e),t=e.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0);if(t>0){s=n/t*a/n*100}}return(0,$r.jsxs)("div",{className:"relative border rounded-xl p-3 cursor-pointer transition-all hover:translate-y-[-2px] hover:shadow-md ".concat(r?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":t?"border-amber-400 bg-amber-50":"border-gray-200 bg-white hover:bg-gray-50"),onClick:()=>{return t=e.TruckID,void h(e=>{const r=e.selectedTrucks.includes(t);return Ne(Ne({},e),{},{selectedTrucks:r?e.selectedTrucks.filter(e=>e!==t):[...e.selectedTrucks,t]})});var t},children:[t&&(0,$r.jsx)("div",{className:"absolute top-2 right-2 bg-amber-400 text-white text-[10px] font-extrabold px-2 py-0.5 rounded shadow-sm z-10",children:"RECOMMENDED"}),(0,$r.jsxs)("div",{className:"flex gap-3 items-center mb-2",children:[(0,$r.jsx)("div",{className:"p-2 rounded-lg ".concat(r?"bg-blue-200 text-blue-700":"bg-gray-100 text-gray-500"),children:(0,$r.jsx)(Hs,{className:"text-xl"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"font-bold text-gray-800 text-sm",children:e.TruckPlate}),(0,$r.jsx)("div",{className:"text-xs text-gray-500 uppercase font-medium",children:e.TruckType})]})]}),(0,$r.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[e.TruckCapacity," tons capacity"]}),(0,$r.jsx)("div",{className:"absolute top-2 right-2",children:r&&(0,$r.jsx)("span",{className:"text-blue-600 font-bold text-lg",children:"\u2713"})}),(0,$r.jsx)("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:(0,$r.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(s>100?"bg-red-500":"bg-emerald-500"),style:{width:"".concat(Math.min(100,s),"%")}})}),(0,$r.jsxs)("div",{className:"text-[10px] text-gray-500 mt-1 text-right font-medium",children:[s.toFixed(0),"% utilized"]})]},e.TruckID)})}):(0,$r.jsxs)("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-xl p-6 text-center text-gray-500",children:[(0,$r.jsx)("p",{className:"m-0 font-medium",children:"No available trucks for booking."}),(0,$r.jsx)("p",{className:"m-0 text-sm mt-1",children:"All trucks are currently in use or contact your account manager to get trucks allocated."})]}),(0,$r.jsxs)("small",{className:"text-xs text-gray-500 mt-2 block",children:[u.selectedTrucks.length," truck",1!==u.selectedTrucks.length?"s":""," selected",u.selectedTrucks.length>0&&(0,$r.jsxs)("span",{className:"font-medium text-gray-700",children:[" ","\u2022 Total capacity:"," ",u.selectedTrucks.map(e=>n.find(t=>t.TruckID===e)).filter(e=>e).reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0)," ","tons"]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,$r.jsx)("button",{type:"button",className:"px-6 py-3 border border-gray-200 rounded-xl text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",onClick:()=>r.push("/client/profile?tab=trucks"),children:"Cancel"}),(0,$r.jsxs)("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",disabled:0===u.selectedTrucks.length,children:["Book ",u.selectedTrucks.length," Truck",1!==u.selectedTrucks.length?"s":""]})]})]})})]})]})},bE=e=>{var r;let{documents:n,truckPlate:a}=e;const[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),p=(e,t)=>{if(t&&(t.fullPath||t.filename))try{console.log("\ud83d\udcc4 handleFileDownload called"),console.log("Document object:",t),console.log("docType:",e);let r=t.filename;if(!r&&t.fullPath){const e=t.fullPath.split(/[\\\/]/);r=e[e.length-1]}console.log("\u2705 Using filename:",r);let n="";const a=e.toLowerCase();a.includes("or")||a.includes("cr")?n="OR-CR-Files":a.includes("insurance")?n="Insurance-Papers":a.includes("idphoto")||"id-photos"===a?n="ID-Photos":a.includes("license")&&!a.includes("nbi")?n="Licenses":a.includes("medical")?n="Medical-Certificates":a.includes("nbi")?n="NBI-Clearances":(a.includes("permit")||"business-permits"===a)&&(n="Business-Permits");let s="";s=t.fullPath?t.fullPath.includes("Truck-Documents")?"Truck-Documents":t.fullPath.includes("Driver-Documents")?"Driver-Documents":t.fullPath.includes("Helper-Documents")?"Helper-Documents":t.fullPath.includes("Client-Documents")?"Client-Documents":t.fullPath.includes("Staff-Documents")?"Staff-Documents":"Driver-Documents":"Driver-Documents";const i=(n?"".concat(s,"/").concat(n,"/").concat(r):"".concat(s,"/").concat(r)).split("/").map(e=>encodeURIComponent(e)).join("/"),o="/api/documents/view/".concat(i);console.log("\ud83d\udd17 API URL:",o),console.log("\ud83d\udcc1 Main folder:",s),console.log("\ud83d\udcc2 Subfolder:",n),console.log("\ud83d\udcc4 Filename:",r);/\.(jpg|jpeg|png|gif|webp)$/i.test(r)?(d(o),h(!0)):window.open(o,"_blank")}catch(lb){console.error("Error opening file:",lb),alert("Error opening the document. Please try again.")}},m=e=>{switch(e.toLowerCase()){case"orDocument":case"or-cr-files":return"\ud83d\udcc4";case"crDocument":return"\ud83d\udccb";case"insuranceDocument":case"insurance-papers":return"\ud83d\udee1\ufe0f";case"licenseRequirement":return"\ud83d\ude97";case"id-photos":return"\ud83e\udeaa";case"licenses":return"\ud83d\udcdc";case"medical-certificates":return"\ud83c\udfe5";case"nbi-clearances":return"\ud83d\udc6e";case"business-permits":return"\ud83d\udcd1";default:return"\ud83d\udcce"}},f=e=>{switch(e.toLowerCase()){case"orDocument":case"or-cr-files":return"OR/CR Files";case"crDocument":return"Certificate of Registration";case"insuranceDocument":case"insurance-papers":return"Insurance Papers";case"licenseRequirement":return"License Requirement";case"id-photos":return"ID Photos";case"licenses":return"Licenses";case"medical-certificates":return"Medical Certificates";case"nbi-clearances":return"NBI Clearances";case"business-permits":return"Business Permits";default:return e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}},g=()=>{l(!1),i(null)};return n&&0!==Object.keys(n).length?(0,$r.jsxs)("div",{className:"file-viewer",children:[(0,$r.jsx)("div",{className:"documents-simple-list",children:Object.entries(n).map(e=>{let[t,r]=e;return r&&r.fullPath?(0,$r.jsxs)("div",{className:"document-simple-item",children:[(0,$r.jsxs)("div",{className:"document-simple-info",children:[(0,$r.jsx)("span",{className:"document-simple-icon",children:m(t)}),(0,$r.jsxs)("div",{className:"document-simple-text",children:[(0,$r.jsx)("span",{className:"document-simple-label",children:f(t)}),(0,$r.jsx)("span",{className:"document-simple-name",children:r.originalName||r.filename})]})]}),(0,$r.jsx)("button",{className:"document-view-btn",onClick:()=>p(t,r),title:"View Document",children:"View"})]},t):null})}),o&&s&&(0,$r.jsx)("div",{className:"file-modal-overlay",onClick:g,children:(0,$r.jsxs)("div",{className:"file-modal",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"file-modal-header",children:[(0,$r.jsxs)("h3",{children:["\ud83d\udcc4 ",f(s.docType)]}),(0,$r.jsx)("button",{className:"modal-close",onClick:g,children:"\u2715"})]}),(0,$r.jsxs)("div",{className:"file-modal-content",children:[(0,$r.jsx)("div",{className:"file-preview",children:(e=>{var t;const r=null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase();return["png","jpg","jpeg","gif","webp"].includes(r)})(s.document.filename)?(0,$r.jsxs)("div",{className:"image-preview",children:[(0,$r.jsx)("img",{src:"file://".concat(s.document.fullPath),alt:s.document.filename,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,$r.jsxs)("div",{className:"image-fallback",style:{display:"none"},children:[(0,$r.jsx)("div",{className:"fallback-icon",children:"\ud83d\uddbc\ufe0f"}),(0,$r.jsx)("p",{children:"Image Preview Unavailable"}),(0,$r.jsxs)("p",{className:"fallback-text",children:["File: ",s.document.filename]})]})]}):(0,$r.jsxs)("div",{className:"file-icon-preview",children:[(0,$r.jsx)("div",{className:"large-file-icon",children:(e=>{var t;switch(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()){case"pdf":return"\ud83d\udcc4";case"png":case"jpg":case"jpeg":case"gif":case"webp":return"\ud83d\uddbc\ufe0f";case"doc":case"docx":return"\ud83d\udcdd";case"xls":case"xlsx":return"\ud83d\udcca";default:return"\ud83d\udcce"}})(s.document.filename)}),(0,$r.jsxs)("p",{className:"file-type-text",children:[null===(r=s.document.filename.split(".").pop())||void 0===r?void 0:r.toUpperCase()," ","File"]})]})}),(0,$r.jsxs)("div",{className:"file-details",children:[(0,$r.jsxs)("div",{className:"detail-section",children:[(0,$r.jsx)("h4",{children:"\ud83d\udccb File Information"}),(0,$r.jsxs)("div",{className:"detail-grid",children:[(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"Document Type:"}),(0,$r.jsx)("span",{className:"detail-value",children:f(s.docType)})]}),(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"File Name:"}),(0,$r.jsx)("span",{className:"detail-value",children:s.document.filename})]}),(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"File Size:"}),(0,$r.jsx)("span",{className:"detail-value",children:(e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(s.document.fileSize)})]}),(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"Upload Date:"}),(0,$r.jsx)("span",{className:"detail-value",children:new Date(s.document.uploadDate).toLocaleString()})]}),(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"Last Modified:"}),(0,$r.jsx)("span",{className:"detail-value",children:new Date(s.document.lastModified).toLocaleString()})]}),(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"MIME Type:"}),(0,$r.jsx)("span",{className:"detail-value",children:s.document.mimeType})]})]})]}),(0,$r.jsxs)("div",{className:"detail-section",children:[(0,$r.jsx)("h4",{children:"\ud83d\udcc1 File Location"}),(0,$r.jsxs)("div",{className:"file-path-display",children:[(0,$r.jsx)("p",{className:"path-label",children:"Full Path:"}),(0,$r.jsx)("p",{className:"path-value",children:s.document.fullPath}),(0,$r.jsx)("p",{className:"path-label",children:"Relative Path:"}),(0,$r.jsx)("p",{className:"path-value",children:s.document.relativePath})]})]})]})]}),(0,$r.jsxs)("div",{className:"file-modal-footer",children:[(0,$r.jsx)("button",{className:"btn-primary",onClick:()=>p(s.docType,s.document),children:"\ud83d\udcc4 View Document"}),(0,$r.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{if(e&&e.fullPath)try{const t=e.fullPath.substring(0,e.fullPath.lastIndexOf("\\"));navigator.platform.includes("Win")?alert("Opening folder: ".concat(t,"\n\nIf the folder doesn't open automatically, please:\n1. Press Win + R\n2. Type: explorer \"").concat(t,'"\n3. Press Enter')):alert("File location: ".concat(e.fullPath))}catch(lb){console.error("Error opening folder:",lb),alert("File location: ".concat(e.fullPath))}})(s.document),children:"\ud83d\udccd Show Location"}),(0,$r.jsx)("button",{className:"btn-close",onClick:g,children:"Close"})]})]})}),u&&c&&(0,$r.jsx)("div",{className:"modal-overlay",children:(0,$r.jsxs)("div",{className:"image-modal",children:[(0,$r.jsxs)("div",{className:"image-modal-header",children:[(0,$r.jsx)("h3",{children:"Document Preview"}),(0,$r.jsx)("button",{className:"close-button",onClick:()=>{h(!1),d(null)},children:"\u2715"})]}),(0,$r.jsx)("div",{className:"image-modal-content",children:(0,$r.jsx)("img",{src:c,alt:"Document Preview",style:{maxWidth:"100%",maxHeight:"80vh"}})})]})})]}):(0,$r.jsx)("div",{className:"file-viewer",children:(0,$r.jsx)("p",{className:"no-documents",children:"No documents uploaded yet"})})},vE=e=>{var r;let{currentUser:n}=e;const a=Gr,{isWithinTimeframe:s,getFormattedDateRange:i}=La(),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(!0),[x,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),[w,j]=(0,t.useState)("all"),[N,k]=(0,t.useState)("all"),[S,C]=(0,t.useState)("all"),[_,P]=(0,t.useState)("all"),[A,D]=(0,t.useState)("all"),[T,L]=(0,t.useState)("all"),[E,I]=(0,t.useState)(""),M=[w,_,A,T,S,N].filter(e=>e&&"all"!==e).length,[R,F]=(0,t.useState)({}),[z,O]=(0,t.useState)(null),[B,U]=(0,t.useState)(!1),[q,W]=(0,t.useState)("table"),[H,V]=(0,t.useState)("TruckPlate"),[K,G]=(0,t.useState)("asc"),[Y,$]=(0,t.useState)(1),J=e=>{O(e),U(!0)},X=()=>{U(!1),O(null)},Q=e=>{H===e?G("asc"===K?"desc":"asc"):(V(e),G("asc"))},Z=Math.ceil(c.length/20);(0,t.useEffect)(()=>{(async()=>{try{g(!0);const[e,t,r]=await Promise.all([Vr.get("".concat(a,"/api/trucks/actual-documents")),Vr.get("".concat(a,"/api/deliveries")).catch(e=>(console.warn("Failed to fetch deliveries:",e),{data:[]})),Vr.get("".concat(a,"/api/admin/allocations")).catch(e=>(console.warn("Failed to fetch allocations:",e),{data:[]}))]);console.log("Raw API response (trucks with actual documents):",e.data),console.log("Raw API response (deliveries):",t.data),console.log("Raw API response (allocations):",r.data);const n=Array.isArray(t.data)?t.data:[];h(n),console.log("\ud83d\udce6 Loaded ".concat(n.length," deliveries for truck status validation"));const s=Array.isArray(r.data)?r.data:[];m(s),console.log("\ud83d\udd17 Loaded ".concat(s.length," allocations for truck status validation"));const i=Array.isArray(e.data)?e.data:e.data.trucks;if(i&&i.length>0){const e=i.filter(e=>{const t=e.id||e.TruckID;return!(!t||20!==t.length||/document/i.test(t))||(console.warn("\u26a0\ufe0f Skipping truck with invalid ID: ".concat(t),e),!1)});console.log("\ud83d\udcca Filtered ".concat(i.length-e.length," invalid trucks"));const t=e.map(e=>{const t=e.id||e.TruckID,r=n.some(r=>{const n=r.TruckID||r.truckId,a=(r.DeliveryStatus||r.deliveryStatus||"").toLowerCase(),s=n===t&&("pending"===a||"in-progress"===a);return s&&console.log("\ud83d\ude9b Truck ".concat(e.truckPlate||t," has active delivery (").concat(a,")")),s}),a=s.some(r=>{const n=r.truckId||r.TruckID,a=(r.status||"").toLowerCase(),s=n===t&&"active"===a;return s&&console.log("\ud83d\udd17 Truck ".concat(e.truckPlate||t," has active allocation (Client: ").concat(r.clientId||"Unknown",")")),s});return console.log("Processing truck ".concat(e.truckPlate||t,": hasActiveDelivery=").concat(r,", hasActiveAllocation=").concat(a)),{TruckID:t,TruckPlate:e.truckPlate||e.TruckPlate,TruckType:e.truckType||e.TruckType,TruckCapacity:e.truckCapacity||e.TruckCapacity,TruckBrand:e.truckBrand||e.TruckBrand||"Unknown",ModelYear:e.modelYear||e.ModelYear||null,registrationDate:e.registrationDate,registrationExpiryDate:e.registrationExpiryDate,registrationExpiryWarning:e.registrationExpiryWarning||!1,registrationExpiryDaysRemaining:e.registrationExpiryDaysRemaining||null,TruckStatus:e.truckStatus||e.TruckStatus||"unknown",TotalKilometers:e.TotalKilometers||e.totalKilometers||0,TotalDeliveries:e.TotalDeliveries||e.totalCompletedDeliveries||0,AverageKmPerDelivery:e.averageKmPerDelivery||0,LastOdometerUpdate:e.lastOdometerUpdate,DateAdded:e.dateAdded||e.created_at,AllocationStatus:a?"allocated":"available",OperationalStatus:e.operationalStatus||"active",AvailabilityStatus:e.availabilityStatus||"free",StatusSummary:r?"On Delivery":a?"Allocated":e.statusSummary||"Available",IsAvailable:!r&&!a&&!1!==e.isAvailable,IsAllocated:a,IsInUse:r,NeedsMaintenance:!0===e.needsMaintenance,documents:e.documents||{},documentCompliance:(()=>{const t=e.documents||{},r=["orDocument","crDocument","insuranceDocument"].filter(e=>t[e]).length,n=["licenseRequirement"].filter(e=>t[e]).length;let a="incomplete";return 3===r?a="complete":r>0&&(a="partial"),{documentCount:r+n,requiredDocumentCount:r,optionalDocumentCount:n,overallStatus:a}})(),licenseRequirements:e.licenseRequirements||null}});console.log("Trucks with documents and delivery status:",t),l(t)}else console.warn("Invalid response format:",e.data),l([])}catch(e){console.error("Error fetching data:",e),y("Failed to load data: ".concat(e.message)),l([])}finally{g(!1)}})()},[]);const ee=e=>[...new Set(o.map(t=>t[e]).filter(Boolean))].sort();o.length,o.filter(e=>"active"===e.OperationalStatus).length,o.filter(e=>e.IsAllocated).length,o.filter(e=>e.IsInUse).length,o.filter(e=>!0===e.NeedsMaintenance||"maintenance"===e.OperationalStatus).length;(0,t.useEffect)(()=>{let e=[...o];if(s&&(e=e.filter(e=>!e.CreatedAt&&!e.createdAt||s(e.CreatedAt||e.createdAt))),"all"!==w&&(e=e.filter(e=>{switch(w){case"available":return e.IsAvailable&&!e.IsAllocated&&!e.IsInUse;case"allocated":return e.IsAllocated;case"on-delivery":return e.IsInUse;case"maintenance":return e.NeedsMaintenance;case"scheduled":return"scheduled"===e.AvailabilityStatus;default:return!0}})),"all"!==N&&(e=e.filter(e=>{var t;return(null===(t=e.AllocationStatus)||void 0===t?void 0:t.toLowerCase())===N})),"all"!==S&&(e=e.filter(e=>{var t;return(null===(t=e.OperationalStatus)||void 0===t?void 0:t.toLowerCase())===S})),"all"!==_&&(e=e.filter(e=>e.TruckType===_)),"all"!==A&&(e=e.filter(e=>e.TruckBrand===A)),"all"!==T&&(e=e.filter(e=>(console.log("Filtering truck by compliance:",e,"filter:",T),e&&e.documentCompliance&&e.documentCompliance.overallStatus?e.documentCompliance.overallStatus===T:"incomplete"===T))),E.trim()){const t=E.toLowerCase().trim();e=e.filter(e=>{var r,n,a,s;return(null===(r=e.TruckPlate)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(n=e.TruckType)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.TruckBrand)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(s=e.TruckID)||void 0===s?void 0:s.toLowerCase().includes(t))})}d(e)},[o,w,N,S,_,A,T,E,s]);const te=e=>{const t="px-2.5 py-0.5 rounded-full text-xs font-bold capitalize border";switch(null===e||void 0===e?void 0:e.toLowerCase()){case"available":case"active":case"free":return"".concat(t," bg-emerald-100 text-emerald-700 border-emerald-200");case"allocated":case"reserved":return"".concat(t," bg-blue-100 text-blue-700 border-blue-200");case"on-delivery":case"busy":return"".concat(t," bg-amber-100 text-amber-700 border-amber-200");case"maintenance":return"".concat(t," bg-red-100 text-red-700 border-red-200");case"out-of-service":return"".concat(t," bg-gray-600 text-white border-gray-600");case"scheduled":case"standby":return"".concat(t," bg-purple-100 text-purple-700 border-purple-200");case"registration-expiring":return"".concat(t," bg-amber-50 text-amber-600 border-amber-200");case"registration-expired":return"".concat(t," bg-red-50 text-red-600 border-red-200");default:return"".concat(t," bg-gray-100 text-gray-700 border-gray-200")}},re=e=>e?e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "):"Unknown",ne=e=>"registration-expired"===e.OperationalStatus||"registration-expiring"===e.OperationalStatus?"Inactive":re(e.OperationalStatus)||"Active";return f?(0,$r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin"}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading trucks data..."})]})}):v?(0,$r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$r.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center max-w-md w-full",children:[(0,$r.jsx)("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4 text-red-500",children:(0,$r.jsx)(ln,{size:32})}),(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Error Loading Data"}),(0,$r.jsx)("p",{className:"text-gray-500 mb-6",children:v}),(0,$r.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"Retry"})]})}):(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,$r.jsx)(sf,{currentUser:n}),(0,$r.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-1 mb-8",children:[(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Truck Management"}),(0,$r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your fleet vehicles, track documents, and monitor compliance status"})]}),(0,$r.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-xs font-medium text-gray-600 shadow-sm",children:[(0,$r.jsx)(vn,{size:14,className:"text-gray-400"}),(0,$r.jsxs)("span",{children:["Showing data for: ",i()]})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600",children:(0,$r.jsx)(ha,{size:24})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),(0,$r.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Total Trucks"}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium text-emerald-600 mt-1",children:[(0,$r.jsx)(hn,{size:12}),(0,$r.jsx)("span",{children:"+2.1%"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-600",children:(0,$r.jsx)(jn,{size:24})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.filter(e=>"active"===e.OperationalStatus).length}),(0,$r.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Available"}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium text-emerald-600 mt-1",children:[(0,$r.jsx)(hn,{size:12}),(0,$r.jsx)("span",{children:"+1.5%"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-purple-50 rounded-full flex items-center justify-center text-purple-600",children:(0,$r.jsx)(An,{size:24})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.filter(e=>!0===e.IsAllocated).length}),(0,$r.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Allocated"}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium text-gray-500 mt-1",children:[(0,$r.jsx)(on,{size:12}),(0,$r.jsx)("span",{children:"0.0%"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-red-50 rounded-full flex items-center justify-center text-red-600",children:(0,$r.jsx)(oa,{size:24})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.filter(e=>!0===e.NeedsMaintenance||"maintenance"===e.OperationalStatus).length}),(0,$r.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Maintenance"}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium text-red-600 mt-1",children:[(0,$r.jsx)(dn,{size:12}),(0,$r.jsx)("span",{children:"-0.8%"})]})]})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm mb-6 relative",children:[(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,$r.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,$r.jsx)(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",placeholder:"Search trucks by plate, brand, or type...",value:E,onChange:e=>I(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(x?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>b(!x),children:[(0,$r.jsx)(Un,{size:18}),"Filters",M>0&&(0,$r.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:M})]}),(0,$r.jsxs)("div",{className:"flex items-center bg-gray-100 p-1 rounded-lg border border-gray-200",children:[(0,$r.jsx)("button",{onClick:()=>W("table"),className:"p-2 rounded-md transition-all ".concat("table"===q?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Table View",children:(0,$r.jsx)(Yn,{size:18})}),(0,$r.jsx)("button",{onClick:()=>W("cards"),className:"p-2 rounded-md transition-all ".concat("cards"===q?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Card View",children:(0,$r.jsx)(Gn,{size:18})})]})]})]}),(0,$r.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium",children:["Showing ",c.length," of ",o.length," trucks"]}),x&&(0,$r.jsxs)("div",{className:"absolute top-full mt-2 right-0 md:left-0 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-[480px] max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$r.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,$r.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>b(!1),children:(0,$r.jsx)(ga,{size:20})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Type"}),(0,$r.jsxs)("select",{value:_,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Types"}),ee("TruckType").map(e=>(0,$r.jsx)("option",{value:e,children:e},e))]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Brand"}),(0,$r.jsxs)("select",{value:A,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Brands"}),ee("TruckBrand").map(e=>(0,$r.jsx)("option",{value:e,children:e},e))]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Compliance"}),(0,$r.jsxs)("select",{value:T,onChange:e=>L(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Compliance"}),(0,$r.jsx)("option",{value:"complete",children:"Complete"}),(0,$r.jsx)("option",{value:"incomplete",children:"Incomplete"}),(0,$r.jsx)("option",{value:"expired",children:"Expired"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,$r.jsxs)("select",{value:w,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Status"}),(0,$r.jsx)("option",{value:"available",children:"Available"}),(0,$r.jsx)("option",{value:"allocated",children:"Allocated"}),(0,$r.jsx)("option",{value:"on-delivery",children:"On Delivery"}),(0,$r.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,$r.jsx)("option",{value:"scheduled",children:"Scheduled"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5 col-span-2",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Operational"}),(0,$r.jsxs)("select",{value:S,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Operational"}),(0,$r.jsx)("option",{value:"active",children:"Active"}),(0,$r.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,$r.jsx)("option",{value:"out-of-service",children:"Out of Service"}),(0,$r.jsx)("option",{value:"standby",children:"Standby"})]})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{j("all"),k("all"),C("all"),P("all"),D("all"),L("all"),I("")},children:[(0,$r.jsx)(Bn,{size:16})," Reset"]}),(0,$r.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>b(!1),children:"Apply Filters"})]})]})]}),0===c.length?(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,$r.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-400",children:(0,$r.jsx)(ha,{size:40})}),(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No trucks found"}),(0,$r.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:"No trucks match your current filters. Try adjusting your search criteria or add a new truck."}),(0,$r.jsxs)(be,{to:"/admin/trucks/add",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl shadow-sm shadow-blue-200 transition-colors",children:[(0,$r.jsx)(na,{size:20}),"Add Your First Truck"]})]}):"table"===q?(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,$r.jsxs)("th",{onClick:()=>Q("TruckPlate"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Plate Number"," ","TruckPlate"===H&&("asc"===K?"\u2191":"\u2193")]}),(0,$r.jsxs)("th",{onClick:()=>Q("TruckType"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Type"," ","TruckType"===H&&("asc"===K?"\u2191":"\u2193")]}),(0,$r.jsxs)("th",{onClick:()=>Q("TruckBrand"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Brand"," ","TruckBrand"===H&&("asc"===K?"\u2191":"\u2193")]}),(0,$r.jsxs)("th",{onClick:()=>Q("ModelYear"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Year"," ","ModelYear"===H&&("asc"===K?"\u2191":"\u2193")]}),(0,$r.jsxs)("th",{onClick:()=>Q("OperationalStatus"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Status"," ","OperationalStatus"===H&&("asc"===K?"\u2191":"\u2193")]}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Registration Status"}),(0,$r.jsxs)("th",{onClick:()=>Q("documentCompliance"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Compliance"," ","documentCompliance"===H&&("asc"===K?"\u2191":"\u2193")]}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-50 border-t border-gray-100",children:(()=>{let e=[...c];e.sort((e,t)=>{let r=e[H],n=t[H];var a,s;"documentCompliance"===H&&(r=(null===(a=e.documentCompliance)||void 0===a?void 0:a.requiredDocumentCount)||0,n=(null===(s=t.documentCompliance)||void 0===s?void 0:s.requiredDocumentCount)||0);return r<n?"asc"===K?-1:1:r>n?"asc"===K?1:-1:0});const t=20*(Y-1),r=t+20;return e.slice(t,r)})().map(e=>{var t;return(0,$r.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,$r.jsx)(ha,{size:16})}),(0,$r.jsx)("span",{className:"font-medium text-gray-900 line-clamp-1",children:e.TruckPlate})]})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-700 capitalize",children:e.TruckType||"N/A"})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.TruckBrand||"Unknown"}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.ModelYear||"N/A"}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsx)(cf,{status:ne(e)})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:e.registrationExpiryWarning?(0,$r.jsx)("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat("registration-expired"===e.OperationalStatus?"bg-red-50 text-red-700 border-red-200":"bg-amber-50 text-amber-700 border-amber-200"),children:"registration-expired"===e.OperationalStatus?(0,$r.jsxs)("span",{children:[(0,$r.jsx)(ln,{size:14,className:"inline mr-1"}),"Expired"]}):(0,$r.jsxs)("span",{children:[(0,$r.jsx)(An,{size:14,className:"inline mr-1"}),"Expires in"," ",e.registrationExpiryDaysRemaining," days"]})}):(0,$r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-50 text-emerald-700 border border-emerald-200",children:"Active"})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"text-lg",children:se(e)}),(0,$r.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,"/3"]})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,$r.jsx)("button",{onClick:()=>J(e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,$r.jsx)(Mn,{size:18})}),(0,$r.jsx)(be,{to:"/admin/trucks/edit/".concat(e.TruckID),className:"p-1.5 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Edit Truck",children:(0,$r.jsx)(In,{size:18})})]})})]},e.TruckID)})})]})}),Z>1&&(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50/50",children:[(0,$r.jsx)("button",{onClick:()=>$(e=>Math.max(1,e-1)),disabled:1===Y,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm font-medium",children:"\u2190 Previous"}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:["Page ",Y," of ",Z," (",c.length," ","trucks)"]}),(0,$r.jsx)("button",{onClick:()=>$(e=>Math.min(Z,e+1)),disabled:Y===Z,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm font-medium",children:"Next \u2192"})]})]}):(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map(e=>{var t;null===(r=e.TruckType)||void 0===r||r.toLowerCase();var r;(e=>{const t="px-2.5 py-0.5 rounded-full text-xs font-bold capitalize border";e.NeedsMaintenance?"".concat(t," bg-red-100 text-red-700 border-red-200"):e.IsInUse?"".concat(t," bg-amber-100 text-amber-700 border-amber-200"):e.IsAllocated?"".concat(t," bg-blue-100 text-blue-700 border-blue-200"):e.IsAvailable?"".concat(t," bg-emerald-100 text-emerald-700 border-emerald-200"):"".concat(t," bg-gray-100 text-gray-700 border-gray-200")})(e);return(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow group",children:[(0,$r.jsxs)("div",{className:"p-5 border-b border-gray-50 flex justify-between items-start gap-3",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,$r.jsx)(ha,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"font-bold text-gray-900",children:e.TruckPlate}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-medium bg-gray-100 px-2 py-0.5 rounded mt-1 inline-block capitalize",children:e.TruckType})]})]}),(0,$r.jsx)("div",{className:"flex flex-col items-end gap-1",children:(0,$r.jsx)(cf,{status:ne(e)})})]}),(0,$r.jsxs)("div",{className:"p-5 space-y-4",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 uppercase font-semibold block mb-1",children:"Brand"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.TruckBrand||"Unknown"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 uppercase font-semibold block mb-1",children:"Year"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.ModelYear||"-"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 uppercase font-semibold block mb-1",children:"Total KM"}),(0,$r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[e.TotalKilometers||0," km"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 uppercase font-semibold block mb-1",children:"Deliveries"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.TotalDeliveries||0})]})]}),(0,$r.jsx)("div",{className:"pt-4 border-t border-gray-50",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,$r.jsx)("span",{className:"text-gray-500",children:"Allocation:"}),(0,$r.jsx)("span",{className:"font-medium text-gray-700",children:re(e.AllocationStatus)})]})})]}),(0,$r.jsxs)("div",{className:"px-5 py-3 border-t flex items-center justify-between ".concat(ae(e).includes("complete")?"bg-emerald-50/50 border-emerald-100":"bg-gray-50/50 border-gray-100"),children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"text-lg",children:se(e)}),(0,$r.jsxs)("div",{className:"text-xs",children:[(0,$r.jsx)("div",{className:"font-medium ".concat(ae(e).includes("complete")?"text-emerald-700":"text-gray-600"),children:ie(e)}),(0,$r.jsxs)("div",{className:"text-gray-500",children:[(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,"/3 documents"]})]})]}),(0,$r.jsxs)("div",{className:"text-xs font-medium text-gray-500 bg-white px-2 py-1 rounded border border-gray-200 shadow-sm",children:[Object.keys(e.documents||{}).length," files"]})]}),(0,$r.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-100 grid grid-cols-2 gap-3",children:[(0,$r.jsxs)(be,{to:"/admin/trucks/edit/".concat(e.TruckID),className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all text-sm font-medium shadow-sm",children:[(0,$r.jsx)(In,{size:16}),"Edit"]}),(0,$r.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all text-sm font-medium shadow-sm",onClick:()=>J(e),children:[(0,$r.jsx)(Mn,{size:16}),"Details"]}),(0,$r.jsxs)("button",{className:"col-span-2 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all shadow-sm ".concat(R[e.TruckID]?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-200"),onClick:()=>(async e=>{try{F(t=>Ne(Ne({},t),{},{[e]:!0}));const[t,r,n]=await Promise.all([Vr.get("".concat(a,"/api/trucks/actual-documents")),Vr.get("".concat(a,"/api/deliveries")).catch(e=>(console.warn("Failed to fetch deliveries:",e),{data:u})),Vr.get("".concat(a,"/api/admin/allocations")).catch(e=>(console.warn("Failed to fetch allocations:",e),{data:p}))]),s=Array.isArray(r.data)?r.data:[];h(s);const i=Array.isArray(n.data)?n.data:[];m(i);const o=Array.isArray(t.data)?t.data:t.data.trucks;if(o&&o.length>0){const e=o.map(e=>{const t=e.id||e.TruckID,r=s.some(e=>{const r=e.TruckID||e.truckId,n=(e.DeliveryStatus||e.deliveryStatus||"").toLowerCase();return r===t&&("pending"===n||"in-progress"===n)}),n=i.some(e=>{const r=e.truckId||e.TruckID,n=(e.status||"").toLowerCase();return r===t&&"active"===n});return{TruckID:t,TruckPlate:e.truckPlate||e.TruckPlate,TruckType:e.truckType||e.TruckType,TruckCapacity:e.truckCapacity||e.TruckCapacity,TruckBrand:e.truckBrand||e.TruckBrand||"Unknown",ModelYear:e.modelYear||e.ModelYear||null,registrationDate:e.registrationDate,registrationExpiryDate:e.registrationExpiryDate,registrationExpiryWarning:e.registrationExpiryWarning||!1,registrationExpiryDaysRemaining:e.registrationExpiryDaysRemaining||null,TruckStatus:e.truckStatus||e.TruckStatus||"unknown",TotalKilometers:e.TotalKilometers||e.totalKilometers||0,TotalDeliveries:e.TotalDeliveries||e.totalCompletedDeliveries||0,AverageKmPerDelivery:e.averageKmPerDelivery||0,LastOdometerUpdate:e.lastOdometerUpdate,DateAdded:e.dateAdded||e.created_at,AllocationStatus:n?"allocated":"available",OperationalStatus:e.operationalStatus||"active",AvailabilityStatus:e.availabilityStatus||"free",StatusSummary:r?"On Delivery":n?"Allocated":e.statusSummary||"Available",IsAvailable:!r&&!n&&!1!==e.isAvailable,IsAllocated:n,IsInUse:r,NeedsMaintenance:!0===e.needsMaintenance,documents:e.documents||{},documentCompliance:(()=>{const t=e.documents||{},r=["orDocument","crDocument","insuranceDocument"].filter(e=>t[e]).length,n=["licenseRequirement"].filter(e=>t[e]).length;let a="incomplete";return 3===r?a="complete":r>0&&(a="partial"),{documentCount:r+n,requiredDocumentCount:r,optionalDocumentCount:n,overallStatus:a}})(),licenseRequirements:e.licenseRequirements||null}});l(e)}}catch(t){console.error("Error recalculating kilometers:",t),y("Failed to recalculate kilometers: ".concat(t.message))}finally{F(t=>Ne(Ne({},t),{},{[e]:!1}))}})(e.TruckID,e.TruckPlate),disabled:R[e.TruckID],children:[R[e.TruckID]?(0,$r.jsx)(An,{size:16,className:"animate-spin"}):(0,$r.jsx)(on,{size:16}),R[e.TruckID]?"Recalculating...":"Recalculate KM"]})]})]},e.TruckID)})}),B&&z&&(0,$r.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:X,children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center",children:(0,$r.jsx)(ha,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:[z.TruckPlate," Details"]}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:"View complete truck information and documents"})]})]}),(0,$r.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:X,children:(0,$r.jsx)(ga,{size:24})})]}),(0,$r.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udccb Basic Information"}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Truck ID"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:z.TruckID})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Plate Number"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:z.TruckPlate})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Type"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900 capitalize",children:z.TruckType})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Brand"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:z.TruckBrand||"Unknown"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Model Year"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:z.ModelYear||"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Capacity"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:z.TruckCapacity||"N/A"})]})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcca Performance Metrics"}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Total Kilometers"}),(0,$r.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[(null===(r=z.TotalKilometers)||void 0===r?void 0:r.toLocaleString())||0," ","km"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Completed Deliveries"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:z.TotalDeliveries||0})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Avg KM/Delivery"}),(0,$r.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[z.AverageKmPerDelivery||0," km"]})]})]})]})]}),(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udea6 Status Information"}),(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Operational Status"}),(0,$r.jsx)("span",{className:te(z.OperationalStatus),children:re(z.OperationalStatus)})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Allocation Status"}),(0,$r.jsx)("span",{className:te(z.AllocationStatus),children:re(z.AllocationStatus)})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Maintenance"}),(0,$r.jsx)("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold border ".concat(z.NeedsMaintenance?"bg-red-100 text-red-700 border-red-200":"bg-emerald-100 text-emerald-700 border-emerald-200"),children:z.NeedsMaintenance?"Yes":"No"})]})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcc4 Document Compliance"}),(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:"Overall Status:"}),(0,$r.jsx)("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold capitalize ".concat(ae(z).includes("complete")?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"),children:ie(z)})]}),(0,$r.jsx)("div",{className:"space-y-2",children:["orDocument","crDocument","insuranceDocument"].map(e=>{var t,r;return(0,$r.jsxs)("div",{className:"flex items-center justify-between p-2 rounded hover:bg-gray-50 border border-transparent hover:border-gray-100",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600 capitalize",children:e.replace("Document","").toUpperCase()}),(0,$r.jsx)("span",{className:"flex items-center gap-1.5 text-xs font-medium px-2 py-0.5 rounded-full ".concat(null!==(t=z.documents)&&void 0!==t&&t[e]?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"),children:null!==(r=z.documents)&&void 0!==r&&r[e]?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(jn,{size:12})," Complete"]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(ga,{size:12})," Missing"]})})]},e)})})]})]})]})]}),(0,$r.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4",children:"\ud83d\udcc1 Documents"}),z.documents&&Object.keys(z.documents).length>0?(0,$r.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,$r.jsx)(bE,{documents:z.documents,truckPlate:z.TruckPlate})}):(0,$r.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-dashed border-gray-200 text-gray-400",children:[(0,$r.jsx)(On,{size:32,className:"mx-auto mb-2 opacity-50"}),(0,$r.jsx)("p",{children:"No documents have been uploaded for this truck yet."})]})]})]}),(0,$r.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3 rounded-b-2xl",children:[(0,$r.jsxs)(be,{to:"/admin/trucks/edit/".concat(z.TruckID),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl shadow-sm shadow-blue-200 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,$r.jsx)(In,{size:16})," Edit Truck"]}),(0,$r.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors text-sm font-medium shadow-sm",onClick:X,children:"Close"})]})]})})]})]});function ae(e){try{if(console.log("getComplianceClass called with truck:",e),!e||!e.documentCompliance||!e.documentCompliance.overallStatus)return"compliance-incomplete";const{overallStatus:t}=e.documentCompliance;return"compliance-".concat(t)}catch(v){return console.error("Error in getComplianceClass:",v,"truck:",e),"compliance-incomplete"}}function se(e){try{if(console.log("getComplianceIcon called with truck:",e),!e||!e.documentCompliance||!e.documentCompliance.overallStatus)return"\u26a0";const{overallStatus:t}=e.documentCompliance;switch(t){case"complete":return"\u2713";case"expired":return"\u2717";case"optional":return"\u2139";default:return"\u26a0"}}catch(v){return console.error("Error in getComplianceIcon:",v,"truck:",e),"\u26a0"}}function ie(e){try{if(console.log("getComplianceStatus called with truck:",e),!e||!e.documentCompliance||!e.documentCompliance.overallStatus)return"Incomplete";const{overallStatus:t}=e.documentCompliance;return"string"!==typeof t?"Incomplete":t.charAt(0).toUpperCase()+t.slice(1)}catch(v){return console.error("Error in getComplianceStatus:",v,"truck:",e),"Incomplete"}}},yE=()=>{const{id:e}=ue(),r=ce(),n=Boolean(e),a=Gr,[s,i]=(0,t.useState)({TruckPlate:"",TruckType:"mini truck",TruckCapacity:"2",TruckBrand:"Toyota",ModelYear:(new Date).getFullYear(),registrationDate:"",registrationExpiryDate:"",TruckStatus:"available",AllocationStatus:"available",OperationalStatus:"active",AvailabilityStatus:"free",MaintenanceScheduled:!1,StatusReason:""}),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(n),[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)(null),[x,b]=(0,t.useState)(""),[v,y]=(0,t.useState)({orDocument:null,crDocument:null,insuranceDocument:null,licenseRequirement:null}),[w,j]=(0,t.useState)({}),[N,k]=(0,t.useState)({}),[S,C]=(0,t.useState)(!1),[_,P]=(0,t.useState)(null);(0,t.useEffect)(()=>{console.log("\ud83d\udd04 uploadedFiles state changed:",v)},[v]);const A=e=>{switch(e){case"mini truck":default:return"2";case"4 wheeler":return"3";case"6 wheeler":return"4";case"8 wheeler":return"6";case"10 wheeler":return"10"}};(0,t.useEffect)(()=>{(async()=>{if(n)try{const t=(await Vr.get("".concat(a,"/api/trucks/").concat(e))).data,r=t.truckBrand||"Toyota",n=!["Toyota","Isuzu","Mitsubishi","Hyundai","Foton","Hino","Nissan","Ford","Suzuki","Kia"].includes(r);i({TruckPlate:t.truckPlate||"",TruckType:t.truckType||"mini truck",TruckCapacity:t.truckCapacity||"2",TruckBrand:n?"Other":r,ModelYear:t.modelYear||(new Date).getFullYear(),registrationDate:t.registrationDate?t.registrationDate.substring(0,10):"",registrationExpiryDate:t.registrationExpiryDate?t.registrationExpiryDate.substring(0,10):"",TruckStatus:t.truckStatus||"available",AllocationStatus:t.allocationStatus||"available",OperationalStatus:t.operationalStatus||"active",AvailabilityStatus:t.availabilityStatus||"free",MaintenanceScheduled:!0===t.maintenanceScheduled||"true"===t.maintenanceScheduled,StatusReason:t.lastStatusReason||""}),n&&(l(!0),d(r)),t.documents&&k(t.documents),h(!1)}catch(s){var t,r;console.error("Error fetching truck:",s),g("Failed to load truck data: ".concat((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||s.message)),h(!1)}else h(!1)})()},[e,n,a]);const D=e=>{const{name:t,value:r,type:n,checked:a}=e.target;"TruckType"===t?i(e=>Ne(Ne({},e),{},{[t]:r,TruckCapacity:A(r)})):"TruckBrand"===t?("Other"===r?(l(!0),d("")):(l(!1),d("")),i(e=>Ne(Ne({},e),{},{[t]:r}))):i("checkbox"===n?e=>Ne(Ne({},e),{},{[t]:a}):e=>Ne(Ne({},e),{},{[t]:r}))},T=(e,t,r)=>(0,$r.jsxs)("div",{className:"flex items-start gap-3 mb-6 border-b border-gray-100 pb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary-50 text-primary-600 flex items-center justify-center flex-shrink-0",children:e}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:r})]})]}),L=function(e,t,r,n){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,$r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:border-primary-300 transition-all",children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t," ",s&&(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"file",id:e,accept:".pdf,.jpg,.jpeg,.png",onChange:e=>((e,t)=>{const r=e.target.files[0];if(r){if(r.size>26214400)return void j(e=>Ne(Ne({},e),{},{[t]:"File size must be less than 25MB"}));if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(r.type))return void j(e=>Ne(Ne({},e),{},{[t]:"Only PDF, JPG, and PNG files are allowed"}));j(e=>Ne(Ne({},e),{},{[t]:null})),y(e=>Ne(Ne({},e),{},{[t]:r}))}})(e,r),className:"hidden"}),!v[r]&&!N[r]&&(0,$r.jsxs)("div",{onClick:()=>document.getElementById(e).click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 hover:border-primary-400 transition-colors",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-3",children:(0,$r.jsx)(pa,{size:24})}),(0,$r.jsx)("span",{className:"text-sm font-medium text-primary-600 mb-1",children:"Click to upload"}),(0,$r.jsx)("span",{className:"text-xs text-gray-500",children:"PDF, JPG, PNG up to 25MB"})]}),w[r]&&(0,$r.jsxs)("div",{className:"mt-2 p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[(0,$r.jsx)(cn,{size:16}),w[r]]}),v[r]&&(0,$r.jsxs)("div",{className:"mt-2 bg-gray-50 border border-gray-200 rounded-lg p-3 flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded bg-gray-200 flex items-center justify-center text-gray-500",children:n}),(0,$r.jsx)("div",{className:"text-sm truncate max-w-[150px] font-medium text-gray-700",children:v[r].name})]}),(0,$r.jsx)("button",{onClick:()=>{return e=r,y(t=>Ne(Ne({},t),{},{[e]:null})),void j(t=>Ne(Ne({},t),{},{[e]:null}));var e},className:"text-red-500 hover:text-red-700 p-1",children:(0,$r.jsx)(da,{size:18})})]}),N[r]&&!v[r]&&(0,$r.jsxs)("div",{className:"mt-2 bg-green-50 border border-green-100 rounded-lg p-3",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-green-700",children:[(0,$r.jsx)(jn,{size:16}),(0,$r.jsx)("span",{className:"text-sm font-medium",children:"Uploaded"})]}),(0,$r.jsxs)("div",{className:"flex gap-1",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>(e=>{const t=N[e];if(t)try{const r=t.filename;let n="";"orDocument"===e||"crDocument"===e?n="OR-CR-Files":"insuranceDocument"===e?n="Insurance-Papers":"licenseRequirement"===e&&(n="License-Documents");const s=(n?"Truck-Documents/".concat(n,"/").concat(r):"Truck-Documents/".concat(r)).split("/").map(e=>encodeURIComponent(e)).join("/"),i="".concat(a,"/api/documents/view/").concat(s),o=/\.(jpg|jpeg|png|gif|webp)$/i.test(r);P({url:i,filename:r,type:e,isImage:o}),C(!0)}catch(f){g("Failed to view document. Please try again.")}})(r),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:(0,$r.jsx)(Mn,{size:18})}),(0,$r.jsx)("button",{type:"button",onClick:()=>(e=>{y(t=>Ne(Ne({},t),{},{[e]:null})),j(t=>Ne(Ne({},t),{},{[e]:null})),k(t=>Ne(Ne({},t),{},{[e]:null}));const t=document.getElementById(e);t&&t.click()})(r),className:"p-1.5 text-orange-600 hover:bg-orange-50 rounded",title:"Replace",children:(0,$r.jsx)(pa,{size:18})})]})]}),(0,$r.jsx)("div",{className:"text-xs text-green-600 truncate",children:N[r].originalName})]})]})};return u?(0,$r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,$r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-fade-in",children:[(0,$r.jsxs)("div",{className:"mb-8",children:[(0,$r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,$r.jsx)(ha,{className:"text-primary-600",size:32}),n?"Edit Truck":"Add New Truck"]}),(0,$r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n?"Update truck information and documents":"Register a new truck with required documentation"})]}),f&&(0,$r.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[(0,$r.jsx)(cn,{className:"text-red-500 mt-0.5",size:20}),(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,$r.jsx)("p",{className:"text-sm text-red-700 mt-1",children:f}),(0,$r.jsxs)("div",{className:"mt-3 flex gap-3",children:[(0,$r.jsx)("button",{onClick:()=>g(null),className:"text-xs font-medium text-red-600 hover:text-red-800",children:"Dismiss"}),(0,$r.jsx)("button",{onClick:()=>window.location.reload(),className:"text-xs font-medium text-red-600 hover:text-red-800",children:"Refresh Page"})]})]})]}),x&&(0,$r.jsxs)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[(0,$r.jsx)(jn,{className:"text-green-500",size:20}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Success"}),(0,$r.jsx)("p",{className:"text-sm text-green-700",children:x})]})]}),(0,$r.jsx)("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-100",children:(0,$r.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{if(o&&!c.trim())return void g('Please enter a custom brand name when "Other" is selected');if(!n){const e=["orDocument","crDocument","insuranceDocument"].filter(e=>!v[e]);if(e.length>0)return void g("Please upload all required documents: ".concat(e.map(e=>e.replace("Document","").toUpperCase()).join(", ")))}m(!0);const t=new FormData;t.append("truckPlate",s.TruckPlate),t.append("truckType",s.TruckType),t.append("truckCapacity",s.TruckCapacity),t.append("truckBrand",o&&c.trim()?c.trim():s.TruckBrand),t.append("modelYear",s.ModelYear),t.append("registrationDate",s.registrationDate),t.append("registrationExpiryDate",s.registrationExpiryDate),t.append("truckStatus",s.TruckStatus),t.append("allocationStatus",s.AllocationStatus),t.append("operationalStatus",s.OperationalStatus),t.append("availabilityStatus",s.AvailabilityStatus),t.append("maintenanceScheduled",s.MaintenanceScheduled),t.append("lastStatusReason",s.StatusReason),Object.entries(v).forEach(e=>{let[r,n]=e;n&&t.append(r,n)}),n&&Object.entries(N).forEach(e=>{let[r,n]=e;n&&!v[r]&&t.append("existing_".concat(r),JSON.stringify(n))});const u=n?"".concat(a,"/api/admin/trucks/").concat(e):"".concat(a,"/api/admin/trucks"),h=n?"put":"post";await Vr[h](u,t,{headers:{}}),b(n?"Truck updated successfully!":"Truck added successfully!"),g(null),n||(i({TruckPlate:"",TruckType:"mini truck",TruckCapacity:"2",TruckBrand:"Toyota",ModelYear:(new Date).getFullYear(),registrationDate:"",registrationExpiryDate:"",TruckStatus:"available",AllocationStatus:"available",OperationalStatus:"active",AvailabilityStatus:"free",MaintenanceScheduled:!1,StatusReason:""}),y({orDocument:null,crDocument:null,insuranceDocument:null,licenseRequirement:null}),j({}),l(!1),d("")),setTimeout(()=>r.push("/admin/trucks"),1500)}catch(p){var u,h;console.error("Error saving truck:",p),null!==(u=p.response)&&void 0!==u&&null!==(h=u.data)&&void 0!==h&&h.errors&&Array.isArray(p.response.data.errors)?g(p.response.data.errors.join(", ")):p.response?g("Server error (".concat(p.response.status,"): ").concat(p.response.data.sqlMessage||p.response.data.message)):g("Request error: ".concat(p.message))}finally{m(!1)}},className:"p-8",children:[(0,$r.jsxs)("section",{className:"mb-10",children:[T((0,$r.jsx)(ha,{size:24}),"Basic Information","Enter the truck's basic identification and specifications"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Plate Number ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"text",name:"TruckPlate",value:s.TruckPlate,onChange:D,required:!0,maxLength:"20",placeholder:"e.g. ABC-1234",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Truck Type ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{name:"TruckType",value:s.TruckType,onChange:D,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",children:[(0,$r.jsx)("option",{value:"mini truck",children:"Mini Truck"}),(0,$r.jsx)("option",{value:"4 wheeler",children:"4 Wheeler"}),(0,$r.jsx)("option",{value:"6 wheeler",children:"6 Wheeler"}),(0,$r.jsx)("option",{value:"8 wheeler",children:"8 Wheeler"}),(0,$r.jsx)("option",{value:"10 wheeler",children:"10 Wheeler"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),(0,$r.jsx)("input",{type:"text",value:"".concat(s.TruckCapacity," tons"),disabled:!0,className:"w-full px-4 py-2.5 bg-gray-100 border border-gray-200 rounded-xl text-gray-500 cursor-not-allowed"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Brand ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("select",{name:"TruckBrand",value:s.TruckBrand,onChange:D,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",children:["Toyota","Isuzu","Mitsubishi","Hyundai","Foton","Hino","Nissan","Ford","Suzuki","Kia","Other"].map(e=>(0,$r.jsx)("option",{value:e,children:"Other"===e?"Other (Enter custom)":e},e))}),o&&(0,$r.jsx)("input",{type:"text",value:c,onChange:e=>{d(e.target.value)},placeholder:"Enter brand name",required:!0,maxLength:"50",className:"mt-3 w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model Year"}),(0,$r.jsx)("input",{type:"number",name:"ModelYear",value:s.ModelYear,onChange:D,min:"1990",max:(new Date).getFullYear()+1,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[T((0,$r.jsx)(Rn,{size:24}),"Registration Information","Track truck registration dates and expiry"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Date"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"date",name:"registrationDate",value:s.registrationDate,onChange:D,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Expiry Date ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"date",name:"registrationExpiryDate",value:s.registrationExpiryDate,onChange:D,required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]}),(0,$r.jsxs)("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-xl flex items-start gap-3",children:[(0,$r.jsx)(cn,{className:"text-yellow-600 mt-0.5",size:20}),(0,$r.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,$r.jsx)("strong",{children:"Registration Monitoring:"})," System automatically blocks trucks with expiring registrations (within 30 days) from new allocations."]})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[T((0,$r.jsx)(wn,{size:24}),"Status Management","Configure operational and allocation status"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Allocation Status ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{name:"AllocationStatus",value:s.AllocationStatus,onChange:D,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",children:[(0,$r.jsx)("option",{value:"available",children:"Available"}),(0,$r.jsx)("option",{value:"allocated",children:"Allocated"}),(0,$r.jsx)("option",{value:"reserved",children:"Reserved"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Operational Status ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{name:"OperationalStatus",value:s.OperationalStatus,onChange:D,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",children:[(0,$r.jsx)("option",{value:"active",children:"Active"}),(0,$r.jsx)("option",{value:"maintenance",children:"Under Maintenance"}),(0,$r.jsx)("option",{value:"out-of-service",children:"Out of Service"}),(0,$r.jsx)("option",{value:"standby",children:"Standby"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Availability Status ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{name:"AvailabilityStatus",value:s.AvailabilityStatus,onChange:D,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",children:[(0,$r.jsx)("option",{value:"free",children:"Free"}),(0,$r.jsx)("option",{value:"busy",children:"Busy"}),(0,$r.jsx)("option",{value:"scheduled",children:"Scheduled"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Legacy Status ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{name:"TruckStatus",value:s.TruckStatus,onChange:D,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",children:[(0,$r.jsx)("option",{value:"available",children:"Available"}),(0,$r.jsx)("option",{value:"allocated",children:"Allocated"}),(0,$r.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,$r.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,$r.jsx)("option",{value:"on-delivery",children:"On Delivery"})]})]})]}),(0,$r.jsxs)("div",{className:"mt-6 flex flex-col md:flex-row gap-6",children:[(0,$r.jsx)("div",{className:"flex-1",children:(0,$r.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-xl bg-gray-50 cursor-pointer hover:bg-white hover:border-primary-300 transition-all",children:[(0,$r.jsx)("input",{type:"checkbox",name:"MaintenanceScheduled",checked:s.MaintenanceScheduled,onChange:D,className:"w-5 h-5 text-primary-600 rounded focus:ring-primary-500 border-gray-300"}),(0,$r.jsx)("span",{className:"font-medium text-gray-700",children:"Maintenance Scheduled"})]})}),(0,$r.jsx)("div",{className:"flex-[2]",children:(0,$r.jsx)("textarea",{name:"StatusReason",value:s.StatusReason,onChange:D,placeholder:"Optional reason for status...",rows:"1",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})})]})]}),(0,$r.jsxs)("section",{className:"mb-10 bg-blue-50/50 rounded-xl p-6 border border-blue-100",children:[(0,$r.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded bg-blue-100 text-blue-600 flex items-center justify-center flex-shrink-0",children:(0,$r.jsx)(Vn,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"License Requirements"}),(0,$r.jsxs)("p",{className:"text-sm text-gray-500",children:["Requirements for ",s.TruckType]})]})]}),(()=>{const e=(e=>{const t={"mini truck":{driverLicense:"Class C",helpers:1,helperRequirements:["Valid ID","Barangay Clearance"]},"4 wheeler":{driverLicense:"Class C",helpers:1,helperRequirements:["Valid ID","Barangay Clearance"]},"6 wheeler":{driverLicense:"Class CE",helpers:2,helperRequirements:["Valid ID","Barangay Clearance"]},"8 wheeler":{driverLicense:"Class CE",helpers:2,helperRequirements:["Valid ID","Barangay Clearance"]},"10 wheeler":{driverLicense:"Class CE",helpers:3,helperRequirements:["Valid ID","Barangay Clearance"]}};return t[e]||t["mini truck"]})(s.TruckType);return(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-blue-100 shadow-sm",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-blue-700 font-medium",children:[(0,$r.jsx)(ca,{size:18})," Driver License"]}),(0,$r.jsx)("div",{className:"text-sm text-gray-600",children:e.driverLicense})]}),(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-blue-100 shadow-sm",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-blue-700 font-medium",children:[(0,$r.jsx)(fa,{size:18})," Helpers"]}),(0,$r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.helpers," Required"]})]}),(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-blue-100 shadow-sm",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-blue-700 font-medium",children:[(0,$r.jsx)(Pn,{size:18})," Helper Docs"]}),(0,$r.jsx)("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:e.helperRequirements.map((e,t)=>(0,$r.jsx)("li",{children:e},t))})]})]})})()]}),(0,$r.jsxs)("section",{className:"mb-8",children:[T((0,$r.jsx)(On,{size:24}),"Required Documents","Upload legal documents (OR/CR, Insurance)"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[L("orDocument","Original Receipt (OR)","orDocument",(0,$r.jsx)(On,{}),!0),L("crDocument","Certificate of Registration (CR)","crDocument",(0,$r.jsx)(On,{}),!0),L("insuranceDocument","Insurance Policy","insuranceDocument",(0,$r.jsx)(On,{}),!0),L("licenseRequirement","Additional License Docs (Optional)","licenseRequirement",(0,$r.jsx)(On,{}))]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-gray-100",children:[(0,$r.jsxs)("button",{type:"button",onClick:()=>r.push("/admin/trucks"),className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-all flex items-center gap-2",children:[(0,$r.jsx)(un,{size:18})," Cancel"]}),(0,$r.jsx)("button",{type:"submit",disabled:p,className:"px-6 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 rounded-xl shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transition-all flex items-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:p?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})," Saving..."]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(Ln,{size:18})," ",n?"Update Truck":"Save Truck"]})})]})]})}),S&&_&&(0,$r.jsx)("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>C(!1),children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl overflow-hidden max-w-4xl w-full max-h-[90vh] flex flex-col shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[(0,$r.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[(0,$r.jsx)(Mn,{size:20,className:"text-primary-600"}),_.filename]}),(0,$r.jsx)("button",{onClick:()=>C(!1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-gray-600 transition-colors",children:(0,$r.jsx)(ga,{size:18})})]}),(0,$r.jsx)("div",{className:"p-4 bg-gray-100 flex-1 overflow-auto flex items-center justify-center",style:{minHeight:"60vh"},children:_.isImage?(0,$r.jsx)("img",{src:_.url,alt:"Document Preview",className:"max-w-full max-h-full object-contain shadow-lg rounded-lg"}):(0,$r.jsx)("iframe",{src:_.url,title:"Document Preview",className:"w-full h-full rounded-lg shadow-lg bg-white",style:{minHeight:"60vh"}})})]})})]})},wE=()=>{const{id:e}=ue(),r=ce(),n=Boolean(e),a=Gr,[s,i]=(0,t.useState)({DriverName:"",DriverAddress:"",DriverNumber:"",DriverEmploymentDate:"",DriverDocuments:"",DriverUserName:"",DriverPassword:"",DriverStatus:"active",licenseType:"Class C",licenseNumber:"",licenseExpiryDate:"",licenseRegistrationDate:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:""}),[o,l]=(0,t.useState)(n),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[p,m]=(0,t.useState)(""),[f,g]=(0,t.useState)({licenseDocument:null,medicalCertificate:null,idPhoto:null,nbiClearance:null}),[x,b]=(0,t.useState)({}),[v,y]=(0,t.useState)({}),[w,j]=(0,t.useState)({}),[N,k]=(0,t.useState)(!1),[S,C]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{if(n)try{l(!0);const t=localStorage.getItem("token"),r=t?{headers:{Authorization:"Bearer ".concat(t)}}:{},n=(await Vr.get("".concat(a,"/api/admin/drivers/").concat(e),r)).data,s=e=>{if(!e)return"";try{if(void 0!==e._seconds)return new Date(1e3*e._seconds).toISOString().split("T")[0];const t=new Date(e);return isNaN(t.getTime())?"":t.toISOString().split("T")[0]}catch(u){return""}};i({DriverName:n.DriverName||"",DriverAddress:n.DriverAddress||"",DriverNumber:n.DriverNumber||"",DriverEmploymentDate:s(n.DriverEmploymentDate),DriverDocuments:n.DriverDocuments||"",DriverUserName:n.DriverUserName||"",DriverPassword:"",DriverStatus:n.DriverStatus||"active",licenseType:n.licenseType||"Class C",licenseNumber:n.licenseNumber||"",licenseExpiryDate:s(n.licenseExpiryDate),licenseRegistrationDate:s(n.licenseRegistrationDate),emergencyContactName:n.emergencyContactName||"",emergencyContactPhone:n.emergencyContactPhone||"",emergencyContactRelationship:n.emergencyContactRelationship||""}),n.documents&&(y(n.documents),j(n.documents))}catch(t){t.response?h("Server error (".concat(t.response.status,"): ").concat(t.response.data.sqlMessage||t.response.data.message)):t.request?h("No response received from server. Please check your API connection."):h("Request error: ".concat(t.message))}finally{l(!1)}})()},[e,n,a]);const _=e=>{const{name:t,value:r}=e.target;i(e=>Ne(Ne({},e),{},{[t]:r}))},P=(e,t,r)=>(0,$r.jsxs)("div",{className:"flex items-start gap-3 mb-6 border-b border-gray-100 pb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary-50 text-primary-600 flex items-center justify-center flex-shrink-0",children:e}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:r})]})]}),A=function(e,t,r,n){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,$r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:border-primary-300 transition-all",children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t," ",s&&(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"file",id:e,accept:".pdf,.jpg,.jpeg,.png",onChange:e=>((e,t)=>{const r=e.target.files[0];if(r){if(r.size>26214400)return void b(e=>Ne(Ne({},e),{},{[t]:"File size must be less than 25MB"}));if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(r.type))return void b(e=>Ne(Ne({},e),{},{[t]:"Only PDF, JPG, and PNG files are allowed"}));b(e=>Ne(Ne({},e),{},{[t]:null})),g(e=>Ne(Ne({},e),{},{[t]:r}))}})(e,r),className:"hidden"}),!f[r]&&!v[r]&&(0,$r.jsxs)("div",{onClick:()=>document.getElementById(e).click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 hover:border-primary-400 transition-colors",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-3",children:(0,$r.jsx)(pa,{size:24})}),(0,$r.jsx)("span",{className:"text-sm font-medium text-primary-600 mb-1",children:"Click to upload"}),(0,$r.jsx)("span",{className:"text-xs text-gray-500",children:"PDF, JPG, PNG up to 25MB"})]}),x[r]&&(0,$r.jsxs)("div",{className:"mt-2 p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[(0,$r.jsx)(cn,{size:16}),x[r]]}),f[r]&&(0,$r.jsxs)("div",{className:"mt-2 bg-gray-50 border border-gray-200 rounded-lg p-3 flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded bg-gray-200 flex items-center justify-center text-gray-500",children:n}),(0,$r.jsx)("div",{className:"text-sm truncate max-w-[150px] font-medium text-gray-700",children:f[r].name})]}),(0,$r.jsx)("button",{onClick:()=>{return e=r,g(t=>Ne(Ne({},t),{},{[e]:null})),void b(t=>Ne(Ne({},t),{},{[e]:null}));var e},className:"text-red-500 hover:text-red-700 p-1",children:(0,$r.jsx)(da,{size:18})})]}),v[r]&&!f[r]&&(0,$r.jsxs)("div",{className:"mt-2 bg-green-50 border border-green-100 rounded-lg p-3",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-green-700",children:[(0,$r.jsx)(jn,{size:16}),(0,$r.jsx)("span",{className:"text-sm font-medium",children:"Uploaded"})]}),(0,$r.jsxs)("div",{className:"flex gap-1",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>(e=>{const t=v[e];if(t)try{const r=t.filename;let n="";"licenseDocument"===e?n="Licenses":"medicalCertificate"===e?n="Medical-Certificates":"idPhoto"===e?n="ID-Photos":"nbiClearance"===e&&(n="NBI-Clearances");const s=(n?"Driver-Documents/".concat(n,"/").concat(r):"Driver-Documents/".concat(r)).split("/").map(e=>encodeURIComponent(e)).join("/"),i="".concat(a,"/api/documents/view/").concat(s),o=/\.(jpg|jpeg|png|gif|webp)$/i.test(r);C({url:i,filename:r,type:e,isImage:o}),k(!0)}catch(u){h("Failed to view document. Please try again.")}})(r),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:(0,$r.jsx)(Mn,{size:18})}),(0,$r.jsx)("button",{type:"button",onClick:()=>(e=>{g(t=>Ne(Ne({},t),{},{[e]:null})),b(t=>Ne(Ne({},t),{},{[e]:null})),y(t=>Ne(Ne({},t),{},{[e]:null}));const t=document.getElementById(e);t&&t.click()})(r),className:"p-1.5 text-orange-600 hover:bg-orange-50 rounded",title:"Replace",children:(0,$r.jsx)(pa,{size:18})})]})]}),(0,$r.jsx)("div",{className:"text-xs text-green-600 truncate",children:v[r].originalName})]})]})};return o?(0,$r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,$r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-fade-in",children:[(0,$r.jsxs)("div",{className:"mb-8",children:[(0,$r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,$r.jsx)(ma,{className:"text-primary-600",size:32}),n?"Edit Driver":"Add New Driver"]}),(0,$r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n?"Update driver information and documents":"Register a new driver with required documentation"})]}),u&&(0,$r.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[(0,$r.jsx)(cn,{className:"text-red-500 mt-0.5",size:20}),(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,$r.jsx)("p",{className:"text-sm text-red-700 mt-1",children:u}),(0,$r.jsxs)("div",{className:"mt-3 flex gap-3",children:[(0,$r.jsx)("button",{onClick:()=>h(null),className:"text-xs font-medium text-red-600 hover:text-red-800",children:"Dismiss"}),(0,$r.jsx)("button",{onClick:()=>window.location.reload(),className:"text-xs font-medium text-red-600 hover:text-red-800",children:"Refresh Page"})]})]})]}),p&&(0,$r.jsxs)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[(0,$r.jsx)(jn,{className:"text-green-500",size:20}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Success"}),(0,$r.jsx)("p",{className:"text-sm text-green-700",children:p})]})]}),(0,$r.jsx)("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-100",children:(0,$r.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{if(!n){const e=["licenseDocument","medicalCertificate","idPhoto"].filter(e=>!f[e]);if(e.length>0)return void h("Please upload all required documents: ".concat(e.map(e=>e.replace("Document","").replace("Certificate","").toUpperCase()).join(", ")))}d(!0);const t=new FormData;Object.keys(s).forEach(e=>{t.append(e,s[e])}),Object.entries(f).forEach(e=>{let[r,n]=e;n&&t.append(r,n)}),n&&Object.entries(w).forEach(e=>{let[r,n]=e;!f[r]&&n&&t.append("existing_".concat(r),JSON.stringify(n))});const o=n?"".concat(a,"/api/admin/drivers/").concat(e):"".concat(a,"/api/admin/drivers"),l=n?"put":"post",c=localStorage.getItem("token"),u={headers:Ne({"Content-Type":"multipart/form-data"},c&&{Authorization:"Bearer ".concat(c)})};await Vr[l](o,t,u),m(n?"Driver updated successfully!":"Driver added successfully!"),h(null),n||(i({DriverName:"",DriverAddress:"",DriverNumber:"",DriverEmploymentDate:"",DriverDocuments:"",DriverUserName:"",DriverPassword:"",DriverStatus:"active",licenseType:"Class C",licenseNumber:"",licenseExpiryDate:"",licenseRegistrationDate:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:""}),g({licenseDocument:null,medicalCertificate:null,idPhoto:null,nbiClearance:null}),b({})),setTimeout(()=>r.push("/admin/drivers"),1500)}catch(c){var o,l;null!==(o=c.response)&&void 0!==o&&null!==(l=o.data)&&void 0!==l&&l.errors&&Array.isArray(c.response.data.errors)?h(c.response.data.errors.join(", ")):c.response?h("Server error (".concat(c.response.status,"): ").concat(c.response.data.sqlMessage||c.response.data.message)):h("Request error: ".concat(c.message))}finally{d(!1)}},className:"p-8",children:[(0,$r.jsxs)("section",{className:"mb-10",children:[P((0,$r.jsx)(ma,{size:24}),"Basic Information","Enter the driver's personal and contact information"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"DriverName",value:s.DriverName,onChange:_,required:!0,maxLength:"100",placeholder:"e.g. Juan Dela Cruz",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"DriverNumber",value:s.DriverNumber,onChange:_,required:!0,maxLength:"20",placeholder:"e.g. +63 912 345 6789",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(Zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"DriverAddress",value:s.DriverAddress,onChange:_,required:!0,maxLength:"255",placeholder:"e.g. 123 Main St, Barangay Sample, City, Province",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[P((0,$r.jsx)(fn,{size:24}),"Employment Information","Employment details and current status"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Employment Date ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"date",name:"DriverEmploymentDate",value:s.DriverEmploymentDate,onChange:_,required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Employment Status ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{name:"DriverStatus",value:s.DriverStatus,onChange:_,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",children:[(0,$r.jsx)("option",{value:"active",children:"Active"}),(0,$r.jsx)("option",{value:"inactive",children:"Inactive"}),(0,$r.jsx)("option",{value:"on-delivery",children:"On Delivery"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Documents Notes (Optional)"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(On,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"DriverDocuments",value:s.DriverDocuments,onChange:_,maxLength:"255",placeholder:"Additional notes",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[P((0,$r.jsx)(Jn,{size:24}),"Account Credentials",n?"View and update driver username":"Set up driver login credentials for the mobile app"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Username ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"DriverUserName",value:s.DriverUserName,onChange:_,required:!n,maxLength:"50",placeholder:"e.g. driver.juandelacruz",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),n&&s.DriverUserName&&(0,$r.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Current username: ",(0,$r.jsx)("span",{className:"font-medium",children:s.DriverUserName})]})]}),!n&&(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"password",name:"DriverPassword",value:s.DriverPassword,onChange:_,required:!0,minLength:6,placeholder:"Minimum 6 characters",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),n&&(0,$r.jsx)("div",{className:"flex items-center",children:(0,$r.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Password cannot be changed by admin. Drivers must update their own password through the mobile app."})})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[P((0,$r.jsx)(Vn,{size:24}),"License Information","Driver license details and qualifications"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["License Type ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{name:"licenseType",value:s.licenseType,onChange:_,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",children:[(0,$r.jsx)("option",{value:"Class C",children:"Class C"}),(0,$r.jsx)("option",{value:"Class CE",children:"Class CE"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Class C"===s.licenseType?"Can drive mini trucks and 4 wheelers only":"Can drive all truck types"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number"}),(0,$r.jsx)("input",{type:"text",name:"licenseNumber",value:s.licenseNumber,onChange:_,placeholder:"Enter license number",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Date"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"date",name:"licenseRegistrationDate",value:s.licenseRegistrationDate,onChange:_,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"date",name:"licenseExpiryDate",value:s.licenseExpiryDate,onChange:_,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[P((0,$r.jsx)(la,{size:24}),"Emergency Contact","Contact person in case of emergency"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"emergencyContactName",value:s.emergencyContactName,onChange:_,placeholder:"e.g. Maria Dela Cruz",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"emergencyContactPhone",value:s.emergencyContactPhone,onChange:_,placeholder:"e.g. +63 900 000 0000",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relationship"}),(0,$r.jsx)("input",{type:"text",name:"emergencyContactRelationship",value:s.emergencyContactRelationship,onChange:_,placeholder:"e.g. Spouse, Parent",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]}),(0,$r.jsxs)("section",{className:"mb-8",children:[P((0,$r.jsx)(On,{size:24}),"Required Documents","Upload legal documents"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[A("licenseDocument","Driver License","licenseDocument",(0,$r.jsx)(Vn,{}),!0),A("medicalCertificate","Medical Certificate","medicalCertificate",(0,$r.jsx)(Wn,{}),!0),A("idPhoto","ID Photo (2x2)","idPhoto",(0,$r.jsx)(yn,{}),!0),A("nbiClearance","NBI Clearance (Optional)","nbiClearance",(0,$r.jsx)(la,{}))]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-gray-100",children:[(0,$r.jsxs)("button",{type:"button",onClick:()=>r.push("/admin/drivers"),className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-all flex items-center gap-2",children:[(0,$r.jsx)(un,{size:18})," Cancel"]}),(0,$r.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 rounded-xl shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transition-all flex items-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:c?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})," Saving..."]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(Ln,{size:18})," ",n?"Update Driver":"Save Driver"]})})]})]})}),N&&S&&(0,$r.jsx)("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>k(!1),children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl overflow-hidden max-w-4xl w-full max-h-[90vh] flex flex-col shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[(0,$r.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[(0,$r.jsx)(Mn,{size:20,className:"text-primary-600"}),S.filename]}),(0,$r.jsx)("button",{onClick:()=>k(!1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-gray-600 transition-colors",children:(0,$r.jsx)(ga,{size:18})})]}),(0,$r.jsx)("div",{className:"p-4 bg-gray-100 flex-1 overflow-auto flex items-center justify-center",style:{minHeight:"60vh"},children:S.isImage?(0,$r.jsx)("img",{src:S.url,alt:"Document Preview",className:"max-w-full max-h-full object-contain shadow-lg rounded-lg"}):(0,$r.jsx)("iframe",{src:S.url,title:"Document Preview",className:"w-full h-full rounded-lg shadow-lg bg-white",style:{minHeight:"60vh"}})})]})})]})},jE=e=>{let{activeTab:t}=e;const r=[{id:"drivers",label:"Drivers",icon:ma,link:"/admin/drivers/driverslist",description:"Manage drivers & licenses"},{id:"helpers",label:"Helpers",icon:qn,link:"/admin/helpers/helperslist",description:"Manage helpers & assistants"},{id:"staff",label:"Staff",icon:fa,link:"/admin/staffs/stafflist",description:"Office & support staff"},{id:"clients",label:"Clients",icon:fn,link:"/admin/clients/clientlist",description:"Clients & allocations"}];return(0,$r.jsx)("div",{className:"bg-white border-b border-gray-200 mb-6",children:(0,$r.jsx)("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-8",children:(0,$r.jsx)("div",{className:"flex space-x-8",children:r.map(e=>{const r=e.icon,n=t===e.id;return(0,$r.jsxs)(be,{to:e.link,className:"\n                  group flex items-center gap-2 py-4 border-b-2 transition-all duration-200\n                  ".concat(n?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                "),children:[(0,$r.jsx)("div",{className:"\n                  p-1.5 rounded-lg transition-colors\n                  ".concat(n?"bg-blue-50 text-blue-600":"bg-gray-100/50 text-gray-400 group-hover:bg-gray-100 group-hover:text-gray-500","\n                "),children:(0,$r.jsx)(r,{size:18})}),(0,$r.jsxs)("div",{className:"flex flex-col",children:[(0,$r.jsx)("span",{className:"text-sm font-semibold leading-none ".concat(n?"text-blue-900":"text-gray-700"),children:e.label}),(0,$r.jsx)("span",{className:"text-[10px] text-gray-400 font-medium mt-0.5 hidden sm:block",children:e.description})]})]},e.id)})})})})},NE=e=>{var r,n,a,s,i;let{currentUser:o}=e;const{isWithinTimeframe:l,getFormattedDateRange:c}=La(),{updateExportData:d}=(()=>{const e=(0,t.useContext)(Fa);if(!e)throw new Error("useExportData must be used within an ExportDataProvider");return e})(),[u,h]=(0,t.useState)([]),[p,m]=(0,t.useState)(!0),[f,g]=(0,t.useState)([]),[x,b]=(0,t.useState)(null),[v,y]=(0,t.useState)("all"),[w,j]=(0,t.useState)(""),[N,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(!1),[_,P]=(0,t.useState)(!1),A=["all"!==v?v:null].filter(Boolean).length,[D,T]=(0,t.useState)("table"),[L,E]=(0,t.useState)("name"),[I,M]=(0,t.useState)("asc"),[R,F]=(0,t.useState)(1),z=Gr,O=e=>{if(!e)return{documentCount:0,requiredDocumentCount:0,optionalDocumentCount:0,overallStatus:"pending"};const t=["licenseDocument","medicalCertificate","idPhoto"].filter(t=>e[t]).length,r=["nbiClearance"].filter(t=>e[t]).length;let n="pending";return 3===t?n="complete":t>0&&(n="incomplete"),{documentCount:t+r,requiredDocumentCount:t,optionalDocumentCount:r,overallStatus:n}};(0,t.useEffect)(()=>{q()},[]);const B=e=>{L===e?M("asc"===I?"desc":"asc"):(E(e),M("asc"))},U=Math.ceil(f.length/20),q=async()=>{try{m(!0);const i=localStorage.getItem("token"),o=i?{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"}:{},l=await fetch("".concat(z,"/api/admin/drivers"),{headers:o});if(l.ok){var e,t,r,n,a,s;const i=await l.json();console.log("\u2705 Fetched drivers from admin endpoint:",i.length),console.log("\ud83d\udccb First driver data:",i[0]),console.log("\ud83d\udd0d Raw emergency contact from API:",{name:null===(e=i[0])||void 0===e?void 0:e.emergencyContactName,phone:null===(t=i[0])||void 0===t?void 0:t.emergencyContactPhone,relationship:null===(r=i[0])||void 0===r?void 0:r.emergencyContactRelationship});const o=i.map(e=>{const t={id:e.DriverID||e.id,name:e.DriverName,contactNumber:e.DriverNumber,address:e.DriverAddress,status:e.DriverStatus||"active",employmentDate:e.DriverEmploymentDate,licenseType:e.licenseType,licenseNumber:e.licenseNumber,licenseExpiryDate:e.licenseExpiryDate,licenseRegistrationDate:e.licenseRegistrationDate,emergencyContactName:e.emergencyContactName,emergencyContactPhone:e.emergencyContactPhone,emergencyContactRelationship:e.emergencyContactRelationship,documents:e.documents||{},documentCompliance:O(e.documents||{})};return t.id||console.error("\u26a0\ufe0f Driver missing ID:",e),t});console.log("\u2705 Transformed drivers:",o.length),console.log("\ud83d\udccb First transformed driver:",o[0]),console.log("\ud83d\udea8 First driver emergency contact:",{name:null===(n=o[0])||void 0===n?void 0:n.emergencyContactName,phone:null===(a=o[0])||void 0===a?void 0:a.emergencyContactPhone,relationship:null===(s=o[0])||void 0===s?void 0:s.emergencyContactRelationship}),h(o)}else console.error("Error fetching drivers:",l.statusText),await W()}catch(x){console.error("Error fetching drivers:",x),await W()}finally{m(!1)}},W=async()=>{try{const e=localStorage.getItem("token"),t=e?{headers:{Authorization:"Bearer ".concat(e)}}:{},r=await Vr.get("".concat(z,"/api/drivers"),t),n=(r.data||[]).map(e=>({id:e.DriverID||e.id,name:e.DriverName,contactNumber:e.DriverNumber,address:e.DriverAddress,status:e.DriverStatus||"active",employmentDate:e.DriverEmploymentDate,licenseType:e.licenseType,licenseNumber:e.licenseNumber,licenseExpiryDate:e.licenseExpiryDate,licenseRegistrationDate:e.licenseRegistrationDate,emergencyContactName:e.emergencyContactName,emergencyContactPhone:e.emergencyContactPhone,emergencyContactRelationship:e.emergencyContactRelationship,documents:e.documents||{},documentCompliance:O(e.documents||{})}));h(n)}catch(x){console.error("Error fetching basic drivers:",x),alert("Error fetching drivers")}},H=async e=>{try{const t=localStorage.getItem("token"),r=t?{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}:{},n=await fetch("".concat(z,"/api/admin/drivers/").concat(e.id),{headers:r});if(n.ok){const e=await n.json();console.log("\ud83d\udd0d Fresh driver data from API:",e),console.log("\ud83d\udea8 Emergency contact from API:",{name:e.emergencyContactName,phone:e.emergencyContactPhone,relationship:e.emergencyContactRelationship});const t={id:e.DriverID||e.id,name:e.DriverName,contactNumber:e.DriverNumber,address:e.DriverAddress,status:e.DriverStatus||"active",employmentDate:e.DriverEmploymentDate,licenseType:e.licenseType,licenseNumber:e.licenseNumber,licenseExpiryDate:e.licenseExpiryDate,licenseRegistrationDate:e.licenseRegistrationDate,emergencyContactName:e.emergencyContactName,emergencyContactPhone:e.emergencyContactPhone,emergencyContactRelationship:e.emergencyContactRelationship,documents:e.documents||{},documentCompliance:O(e.documents||{})};console.log("\u2705 Transformed driver for modal:",t),console.log("\u2705 Emergency contacts in transformed:",{name:t.emergencyContactName,phone:t.emergencyContactPhone,relationship:t.emergencyContactRelationship}),k(t),C(!0)}else console.error("Error fetching driver details"),k(e),C(!0)}catch(x){console.error("Error fetching driver details:",x),k(e),C(!0)}},V=()=>{C(!1),k(null)};u.length,u.filter(e=>"Active"===e.status).length,u.filter(e=>"Inactive"===e.status).length,u.filter(e=>"On Leave"===e.status).length,u.filter(e=>"Terminated"===e.status).length;(0,t.useEffect)(()=>{let e=[...u];if(l&&(e=e.filter(e=>!(e.employmentDate||e.createdAt||e.CreatedAt)||l(e.employmentDate||e.createdAt||e.CreatedAt))),"all"!==v&&(e=e.filter(e=>{var t;return(null===(t=e.status)||void 0===t?void 0:t.toLowerCase().replace(/[\s-]/g,""))===v.toLowerCase().replace(/[\s-]/g,"")})),w.trim()){const t=w.toLowerCase().trim();e=e.filter(e=>{var r,n,a,s;return(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(n=e.contactNumber)||void 0===n?void 0:n.includes(t))||(null===(a=e.licenseType)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(s=e.address)||void 0===s?void 0:s.toLowerCase().includes(t))})}g(e)},[u,v,w,l]),(0,t.useEffect)(()=>{const e={total:f.length,active:f.filter(e=>"Active"===e.status).length,inactive:f.filter(e=>"Inactive"===e.status).length,onLeave:f.filter(e=>"On Leave"===e.status).length,terminated:f.filter(e=>"Terminated"===e.status).length};d({data:f,columns:[{key:"name",label:"Name",type:"text"},{key:"status",label:"Status",type:"status"},{key:"contactNumber",label:"Contact",type:"text"},{key:"licenseType",label:"License Type",type:"text"},{key:"address",label:"Address",type:"text"}],summary:e,entityType:"drivers",title:"Drivers Management Report"})},[f,d]);const K=e=>{const t="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold border";switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":case"available":return"".concat(t," bg-emerald-100 text-emerald-700 border-emerald-200");case"inactive":default:return"".concat(t," bg-gray-100 text-gray-700 border-gray-200");case"on leave":return"".concat(t," bg-amber-100 text-amber-700 border-amber-200");case"on-delivery":case"on_delivery":case"on delivery":return"".concat(t," bg-blue-100 text-blue-700 border-blue-200");case"terminated":case"license-expired":return"".concat(t," bg-red-100 text-red-700 border-red-200");case"license-expiring":return"".concat(t," bg-orange-100 text-orange-700 border-orange-200")}},G=e=>{var t,r;return"license-expired"===e.status?"bg-red-50 border-red-200 text-red-700":"license-expiring"===e.status?"bg-amber-50 border-amber-200 text-amber-700":"complete"===(null===(t=e.documentCompliance)||void 0===t?void 0:t.overallStatus)?"bg-emerald-50 border-emerald-200 text-emerald-700":"incomplete"===(null===(r=e.documentCompliance)||void 0===r?void 0:r.overallStatus)?"bg-amber-50 border-amber-200 text-amber-700":"bg-gray-50 border-gray-200 text-gray-700"},Y=e=>{var t,r;return"license-expired"===e.status?(0,$r.jsx)(ga,{className:"text-red-600",size:16}):"license-expiring"===e.status?(0,$r.jsx)(ln,{className:"text-amber-600",size:16}):"complete"===(null===(t=e.documentCompliance)||void 0===t?void 0:t.overallStatus)?(0,$r.jsx)(jn,{className:"text-emerald-600",size:16}):"incomplete"===(null===(r=e.documentCompliance)||void 0===r?void 0:r.overallStatus)?(0,$r.jsx)(ln,{className:"text-amber-600",size:16}):(0,$r.jsx)(on,{className:"text-gray-400",size:16})},$=e=>{var t,r;return"license-expired"===e.status?"License Expired":"license-expiring"===e.status?"License Expiring Soon":"complete"===(null===(t=e.documentCompliance)||void 0===t?void 0:t.overallStatus)?"Ready to Drive":"incomplete"===(null===(r=e.documentCompliance)||void 0===r?void 0:r.overallStatus)?"Compliance Incomplete":"Compliance Pending"},J=e=>{var t,r,n;const a=(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,s=(null===(r=e.documentCompliance)||void 0===r?void 0:r.optionalDocumentCount)||0,i=(null===(n=e.documentCompliance)||void 0===n?void 0:n.overallStatus)||"Incomplete";let o=[];return a>0&&o.push("".concat(a," required")),s>0&&o.push("".concat(s," optional")),"complete"===i?o.push("Overall: Complete"):"incomplete"===i?o.push("Overall: Incomplete"):o.push("Overall: Pending"),o.join(", ")},X=e=>{if("license-expired"===e.status)return(0,$r.jsxs)("span",{className:"flex items-center gap-1 text-red-600 font-medium",children:[(0,$r.jsx)(ga,{size:14})," License Expired"]});if("license-expiring"===e.status&&void 0!==e.licenseExpiryDaysRemaining){const t=e.licenseExpiryDaysRemaining;return(0,$r.jsxs)("span",{className:"flex items-center gap-1 text-amber-600 font-medium",children:[(0,$r.jsx)(ln,{size:14})," Expires in ",t," day",1!==t?"s":""]})}return null},Q=e=>"license-expired"===e.status||"license-expiring"===e.status?"On Leave":e.status||"Active";return p?(0,$r.jsx)("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading drivers..."})]})}):(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,$r.jsx)(sf,{currentUser:o}),(0,$r.jsx)(jE,{activeTab:"drivers"}),(0,$r.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,$r.jsxs)("div",{className:"mb-8",children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Drivers Management"}),(0,$r.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage drivers, licenses, and driving credentials"}),(0,$r.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 shadow-sm",children:[(0,$r.jsx)(vn,{size:16,className:"text-gray-400"}),(0,$r.jsxs)("span",{children:["Showing data for:"," ",(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:c()})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(ma,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(hn,{size:12}),"+3.2%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Total Drivers"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(jn,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(hn,{size:12}),"+2.1%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.filter(e=>{var t;return"active"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Active"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-indigo-50 text-indigo-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(ha,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(on,{size:12}),"0.0%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.filter(e=>{var t;return"ondelivery"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase().replace(/[\s-]/g,""))}).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"On Delivery"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-red-50 text-red-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(On,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-red-600 bg-red-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(dn,{size:12}),"-1.2%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.filter(e=>e.licenseExpiryDate&&new Date(e.licenseExpiryDate)<new Date).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Expired Licenses"})]})]})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between mb-6",children:[(0,$r.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,$r.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:(0,$r.jsx)(ia,{size:20})}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by name, contact, license...",value:w,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(_?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>P(!_),children:[(0,$r.jsx)(Un,{size:18}),"Filters",A>0&&(0,$r.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:A})]}),(0,$r.jsxs)("div",{className:"flex items-center bg-gray-100 p-1 rounded-lg border border-gray-200",children:[(0,$r.jsx)("button",{onClick:()=>T("table"),className:"p-2 rounded-md transition-all ".concat("table"===D?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Table View",children:(0,$r.jsx)(Yn,{size:18})}),(0,$r.jsx)("button",{onClick:()=>T("cards"),className:"p-2 rounded-md transition-all ".concat("cards"===D?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Card View",children:(0,$r.jsx)(Gn,{size:18})})]})]})]}),(0,$r.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium mb-6",children:["Showing ",f.length," of ",u.length," drivers"]}),(0,$r.jsx)("div",{className:"relative mb-6",children:_&&(0,$r.jsxs)("div",{className:"absolute top-0 right-0 md:left-0 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-80 max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$r.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,$r.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>P(!1),children:(0,$r.jsx)(ga,{size:20})})]}),(0,$r.jsx)("div",{className:"space-y-4 mb-6",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,$r.jsxs)("select",{value:v,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Status"}),(0,$r.jsx)("option",{value:"Active",children:"Active"}),(0,$r.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,$r.jsx)("option",{value:"On Leave",children:"On Leave"}),(0,$r.jsx)("option",{value:"On Delivery",children:"On Delivery"}),(0,$r.jsx)("option",{value:"Terminated",children:"Terminated"})]})]})}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{y("all"),j("")},children:[(0,$r.jsx)(Bn,{size:16})," Reset"]}),(0,$r.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>P(!1),children:"Apply Filters"})]})]})}),0===f.length?(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,$r.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-400",children:(0,$r.jsx)(ma,{size:40})}),(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No drivers found"}),(0,$r.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:"No drivers match your current filters. Try adjusting your search criteria or add a new driver."}),(0,$r.jsxs)(be,{to:"/admin/drivers/add",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl shadow-sm shadow-blue-200 transition-colors",children:[(0,$r.jsx)(na,{size:20})," Add Your First Driver"]})]}):"table"===D?(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,$r.jsx)("th",{onClick:()=>B("name"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Driver Name"," ","name"===L&&("asc"===I?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]})}),(0,$r.jsx)("th",{onClick:()=>B("contactNumber"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Contact"," ","contactNumber"===L&&("asc"===I?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]})}),(0,$r.jsx)("th",{onClick:()=>B("licenseType"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["License Type"," ","licenseType"===L&&("asc"===I?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]})}),(0,$r.jsx)("th",{onClick:()=>B("licenseNumber"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["License #"," ","licenseNumber"===L&&("asc"===I?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]})}),(0,$r.jsx)("th",{onClick:()=>B("status"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Status"," ","status"===L&&("asc"===I?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]})}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"License Status"}),(0,$r.jsxs)("th",{onClick:()=>B("documentCompliance"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Compliance"," ","documentCompliance"===L&&("asc"===I?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:(()=>{let e=[...f];e.sort((e,t)=>{let r=e[L],n=t[L];var a,s;"documentCompliance"===L&&(r=(null===(a=e.documentCompliance)||void 0===a?void 0:a.requiredDocumentCount)||0,n=(null===(s=t.documentCompliance)||void 0===s?void 0:s.requiredDocumentCount)||0);return r<n?"asc"===I?-1:1:r>n?"asc"===I?1:-1:0});const t=20*(R-1),r=t+20;return e.slice(t,r)})().map(e=>{var t;return(0,$r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-9 h-9 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center font-bold text-sm shrink-0",children:e.name.charAt(0)}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,$r.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.id]})]})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.contactNumber||"N/A"}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsx)("span",{className:"px-2.5 py-0.5 rounded-lg bg-gray-100 text-gray-700 text-xs font-semibold border border-gray-200",children:e.licenseType||"N/A"})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-gray-600",children:e.licenseNumber||"N/A"}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsx)(cf,{status:Q(e)})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm",children:X(e)?X(e):(0,$r.jsxs)("span",{className:"flex items-center gap-1 text-emerald-600 font-medium text-xs",children:[(0,$r.jsx)(jn,{size:14})," Valid"]})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"text-lg",children:Y(e)}),(0,$r.jsx)("div",{className:"flex flex-col",children:(0,$r.jsxs)("span",{className:"text-xs font-medium text-gray-900",children:[(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,"/3"]})})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,$r.jsx)("button",{onClick:()=>H(e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,$r.jsx)(Mn,{size:18})}),(0,$r.jsx)(be,{to:"/admin/drivers/edit/".concat(e.id),className:"p-1.5 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit Driver",children:(0,$r.jsx)(In,{size:18})})]})})]},e.id)})})]})}),U>1&&(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50",children:[(0,$r.jsx)("button",{onClick:()=>F(e=>Math.max(1,e-1)),disabled:1===R,className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium shadow-sm",children:"\u2190 Previous"}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:["Page ",R," of ",U," (",f.length," ","drivers)"]}),(0,$r.jsx)("button",{onClick:()=>F(e=>Math.min(U,e+1)),disabled:R===U,className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium shadow-sm",children:"Next \u2192"})]})]}):(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:f.map(e=>{var t;K(e.status);return(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow group",children:[(0,$r.jsxs)("div",{className:"p-5 border-b border-gray-50 flex justify-between items-start gap-3",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,$r.jsx)(ma,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"font-bold text-gray-900",children:e.name}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-medium bg-gray-100 px-2 py-0.5 rounded mt-1 inline-block capitalize",children:e.licenseType||"No License"})]})]}),(0,$r.jsx)("div",{className:"flex flex-col items-end gap-1",children:(0,$r.jsx)(cf,{status:Q(e)})})]}),(0,$r.jsxs)("div",{className:"p-5 space-y-4",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"Contact"}),(0,$r.jsx)("span",{className:"font-medium text-gray-900 truncate block text-sm",title:e.contactNumber,children:e.contactNumber||"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"License #"}),(0,$r.jsx)("span",{className:"font-mono text-xs font-semibold text-gray-700 bg-gray-50 px-2 py-1 rounded border border-gray-200 block w-fit",children:e.licenseNumber||"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"Expiry"}),(0,$r.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.licenseExpiryDate?new Date(e.licenseExpiryDate).toLocaleDateString():"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"Hired"}),(0,$r.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.employmentDate?new Date(e.employmentDate).toLocaleDateString():"N/A"})]})]}),(0,$r.jsx)("div",{className:"p-3 rounded-xl border ".concat(G(e)),children:(0,$r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,$r.jsx)("div",{className:"mt-0.5 shrink-0",children:Y(e)}),(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("div",{className:"text-sm font-bold opacity-90 mb-0.5",children:$(e)}),(0,$r.jsx)("div",{className:"text-xs opacity-75",children:J(e)}),(0,$r.jsxs)("div",{className:"mt-2 text-xs flex items-center justify-between border-t border-black/5 pt-2",children:[(0,$r.jsxs)("span",{className:"font-medium flex items-center gap-1 opacity-80",children:[(0,$r.jsx)(On,{size:12}),Object.keys(e.documents||{}).length," files"]}),(0,$r.jsxs)("span",{className:"font-medium opacity-80",children:[(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,"/3 required"]})]})]})]})})]}),(0,$r.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-100 grid grid-cols-2 gap-3",children:[e.id?(0,$r.jsxs)(be,{to:"/admin/drivers/edit/".concat(e.id),className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all text-sm font-medium shadow-sm",children:[(0,$r.jsx)(In,{size:16}),"Edit"]}):(0,$r.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 border border-gray-200 text-gray-400 rounded-lg cursor-not-allowed text-sm font-medium shadow-sm",disabled:!0,title:"Driver ID missing",children:[(0,$r.jsx)(In,{size:16}),"Edit"]}),(0,$r.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all text-sm font-medium shadow-sm shadow-blue-200",onClick:()=>H(e),children:[(0,$r.jsx)(Mn,{size:16}),"Details"]})]})]},e.id)})}),S&&N&&(0,$r.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:V,children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center",children:(0,$r.jsx)(ma,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:[N.name," Details"]}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:"View complete driver information and documents"})]})]}),(0,$r.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:V,children:(0,$r.jsx)(ga,{size:24})})]}),(0,$r.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,$r.jsxs)("div",{className:"space-y-8",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udc64 Personal Information"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Full Name"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.name})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Contact Number"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.contactNumber||"N/A"})]}),(0,$r.jsxs)("div",{className:"sm:col-span-2",children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Address"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.address||"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Current Status"}),(0,$r.jsx)("span",{className:K(N.status),children:N.status})]})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcbc Employment Information"}),(0,$r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Employment Date"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.employmentDate?new Date(N.employmentDate).toLocaleDateString():"N/A"})]})})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udea8 Emergency Contact"}),(0,$r.jsx)("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-red-500 block mb-1 font-medium",children:"Contact Name"}),(0,$r.jsx)("span",{className:"text-sm font-bold text-red-900",children:N.emergencyContactName||"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-red-500 block mb-1 font-medium",children:"Relationship"}),(0,$r.jsx)("span",{className:"text-sm font-bold text-red-900",children:N.emergencyContactRelationship||"N/A"})]}),(0,$r.jsxs)("div",{className:"sm:col-span-2",children:[(0,$r.jsx)("span",{className:"text-xs text-red-500 block mb-1 font-medium",children:"Contact Phone"}),(0,$r.jsx)("span",{className:"text-sm font-bold text-red-900",children:N.emergencyContactPhone||"N/A"})]})]})})]})]}),(0,$r.jsxs)("div",{className:"space-y-8",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcdc License Information"}),(0,$r.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"License Type"}),(0,$r.jsx)("span",{className:"text-sm font-bold text-gray-900",children:N.licenseType||"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"License Number"}),(0,$r.jsx)("span",{className:"text-sm font-mono font-bold text-gray-700 bg-white px-2 py-1 rounded border border-gray-200 inline-block",children:N.licenseNumber||"N/A"})]}),(0,$r.jsxs)("div",{className:"sm:col-span-2",children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Expiry Date"}),(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.licenseExpiryDate?new Date(N.licenseExpiryDate).toLocaleDateString():"N/A"}),X(N)]})]})]})})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcc4 Compliance Status"}),(0,$r.jsx)("div",{className:"p-4 rounded-xl border mb-6 ".concat(G(N)),children:(0,$r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,$r.jsx)("div",{className:"mt-0.5",children:Y(N)}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"font-bold text-sm mb-1",children:$(N)}),(0,$r.jsx)("div",{className:"text-xs opacity-80",children:J(N)})]})]})}),(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-700",children:"License Document"}),null!==(r=N.documents)&&void 0!==r&&r.licenseDocument?(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,$r.jsx)(jn,{size:12})," Complete"]}):(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-red-600 bg-red-50 px-2.5 py-1 rounded-full border border-red-100",children:[(0,$r.jsx)(ga,{size:12})," Missing"]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-700",children:"Medical Certificate"}),null!==(n=N.documents)&&void 0!==n&&n.medicalCertificate?(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,$r.jsx)(jn,{size:12})," Complete"]}):(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-red-600 bg-red-50 px-2.5 py-1 rounded-full border border-red-100",children:[(0,$r.jsx)(ga,{size:12})," Missing"]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-700",children:"ID Photo"}),null!==(a=N.documents)&&void 0!==a&&a.idPhoto?(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,$r.jsx)(jn,{size:12})," Complete"]}):(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-red-600 bg-red-50 px-2.5 py-1 rounded-full border border-red-100",children:[(0,$r.jsx)(ga,{size:12})," Missing"]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-700",children:"NBI Clearance"}),null!==(s=N.documents)&&void 0!==s&&s.nbiClearance?(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,$r.jsx)(jn,{size:12})," Complete"]}):(0,$r.jsx)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-500 bg-gray-100 px-2.5 py-1 rounded-full border border-gray-200",children:"Optional"})]})]})]})]})]}),(0,$r.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[(0,$r.jsxs)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 flex items-center justify-between",children:[(0,$r.jsx)("span",{children:"\ud83d\udcc1 Uploaded Documents"}),(0,$r.jsxs)("span",{className:"text-xs font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:[(null===(i=N.documentCompliance)||void 0===i?void 0:i.documentCount)||0," ","files uploaded"]})]}),N.documents&&Object.keys(N.documents).length>0?(0,$r.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,$r.jsx)(bE,{documents:N.documents,entityType:"driver",entityName:N.name})}):(0,$r.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-dashed border-gray-200 text-gray-400",children:[(0,$r.jsx)(On,{size:32,className:"mx-auto mb-2 opacity-50"}),(0,$r.jsx)("p",{className:"mb-4",children:"No documents have been uploaded for this driver yet."}),(0,$r.jsxs)(be,{to:"/admin/drivers/edit/".concat(N.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:[(0,$r.jsx)(In,{size:16})," Upload Documents"]})]})]})]}),(0,$r.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3 rounded-b-2xl",children:[(0,$r.jsxs)(be,{to:"/admin/drivers/edit/".concat(N.id),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl shadow-sm shadow-blue-200 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,$r.jsx)(In,{size:16})," Edit Driver"]}),(0,$r.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors text-sm font-medium shadow-sm",onClick:V,children:"Close"})]})]})})]})]})},kE=e=>{let{currentUser:r}=e;const[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)("all"),[p,m]=(0,t.useState)(""),[f,g]=(0,t.useState)(""),[x,b]=(0,t.useState)("DeliveryID"),[v,y]=(0,t.useState)("desc"),[w,j]=(0,t.useState)(1),{showAlert:N}=(0,t.useContext)(Sa),[k,S]=(0,t.useState)(null),[C,_]=(0,t.useState)(null),[P,A]=(0,t.useState)(!1),[D,T]=(0,t.useState)(!1),L=["all"!==u?u:null,p,f].filter(Boolean).length;(0,t.useEffect)(()=>{E()},[]);const E=async()=>{try{const e=await Vr.get("/api/deliveries");a(e.data),i(e.data),l(!1)}catch(lb){console.error("Error fetching deliveries:",lb),N("Error fetching delivery data","danger"),l(!1)}};(0,t.useEffect)(()=>{let e=[...n];if("all"!==u&&(e=e.filter(e=>{var t;return(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())===u.toLowerCase()})),c.trim()){const t=c.toLowerCase().trim();e=e.filter(e=>{var r,n,a,s,i;return(null===(r=e.DeliveryID)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(n=e.ClientName)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.DriverName)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(s=e.HelperName)||void 0===s?void 0:s.toLowerCase().includes(t))||(null===(i=e.TruckPlate)||void 0===i?void 0:i.toLowerCase().includes(t))})}(p||f)&&(e=e.filter(e=>{const t=e.created_at||e.CreatedAt||e.deliveryDate||e.DeliveryDate;if(!t)return!0;const r=new Date(t),n=p?new Date(p):null,a=f?new Date(f):null;return n&&n.setHours(0,0,0,0),a&&a.setHours(23,59,59,999),n&&a?r>=n&&r<=a:n?r>=n:!a||r<=a})),i(e)},[n,u,c,p,f]);const I=e=>{x===e?y("asc"===v?"desc":"asc"):(b(e),y("asc"))},M=Math.ceil(s.length/20),R=(e,t)=>{if(!e||"unknown"===e)return"Unknown";switch(e.toLowerCase()){case"awaiting_approval":return"Awaiting Approval";case"accepted":return"Accepted";case"in_progress":case"in progress":return"In Progress";case"delivered":return"Delivered";case"completed":return"Completed";case"cancelled":return"Cancelled";case"assigned":return"approved"===t?"Approved":"Assigned";case"awaiting_driver":return"Awaiting";default:return"Unknown"}},F=(e,t)=>{if(!e||"unknown"===e)return"Unknown";switch(e.toLowerCase()){case"awaiting_approval":return"Awaiting Approval";case"accepted":return"Accepted";case"in_progress":case"in progress":return"In Progress";case"delivered":return"Delivered";case"completed":return"Completed";case"cancelled":return"Cancelled";case"assigned":return"approved"===t?"Approved":"Assigned";case"awaiting_helper":return"Awaiting";default:return"Unknown"}};return o?(0,$r.jsx)(ri,{}):(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,$r.jsx)(sf,{currentUser:r}),(0,$r.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,$r.jsxs)("div",{className:"mb-8",children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Delivery Management"}),(0,$r.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage delivery schedules, track status, and monitor progress"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-50 flex items-center justify-center text-red-500",children:(0,$r.jsx)(ga,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Cancelled"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:n.filter(e=>{var t;return"cancelled"===(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())}).length})]})]}),(0,$r.jsxs)("div",{className:"flex items-center text-xs font-semibold text-gray-400 bg-gray-50 px-2 py-1 rounded-full",children:[(0,$r.jsx)(dn,{size:12,className:"mr-0.5"})," 0%"]})]}),(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-amber-50 flex items-center justify-center text-amber-500",children:(0,$r.jsx)(An,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:n.filter(e=>{var t;return"pending"===(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())}).length})]})]}),(0,$r.jsxs)("div",{className:"flex items-center text-xs font-semibold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[(0,$r.jsx)(hn,{size:12,className:"mr-0.5"})," +3.1%"]})]}),(0,$r.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-500",children:(0,$r.jsx)(on,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:n.filter(e=>{var t;return["in-progress","in progress","accepted"].includes(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())}).length})]})]})}),(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-50 flex items-center justify-center text-green-500",children:(0,$r.jsx)(jn,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Delivered"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:n.filter(e=>{var t;return["delivered","completed"].includes(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())}).length})]})]}),(0,$r.jsxs)("div",{className:"flex items-center text-xs font-semibold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[(0,$r.jsx)(hn,{size:12,className:"mr-0.5"})," +2.8%"]})]})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6 items-center justify-between bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[(0,$r.jsxs)("div",{className:"relative w-full md:w-96",children:[(0,$r.jsx)(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by ID, client, driver...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",value:c,onChange:e=>d(e.target.value)})]}),(0,$r.jsxs)("div",{className:"relative flex items-center gap-2 w-full md:w-auto",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium border transition-all ".concat(D||L>0?"bg-blue-50 text-blue-600 border-blue-200":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"),onClick:()=>T(!D),children:[(0,$r.jsx)(Un,{size:18}),(0,$r.jsx)("span",{children:"Filters"}),L>0&&(0,$r.jsx)("span",{className:"ml-1 px-1.5 py-0.5 bg-blue-600 text-white text-xs rounded-full",children:L})]}),D&&(0,$r.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-xl shadow-xl border border-gray-100 p-4 z-20 animate-fade-in-up",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-100",children:[(0,$r.jsx)("h4",{className:"font-semibold text-sm text-gray-800",children:"Filter Options"}),(0,$r.jsx)("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:(0,$r.jsx)(ga,{size:16})})]}),(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Status"}),(0,$r.jsxs)("select",{className:"w-full p-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-blue-500",value:u,onChange:e=>h(e.target.value),children:[(0,$r.jsx)("option",{value:"all",children:"All Statuses"}),(0,$r.jsx)("option",{value:"Pending",children:"Pending"}),(0,$r.jsx)("option",{value:"Accepted",children:"Accepted"}),(0,$r.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,$r.jsx)("option",{value:"Delivered",children:"Delivered"}),(0,$r.jsx)("option",{value:"Completed",children:"Completed"}),(0,$r.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Date Range"}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,$r.jsx)("input",{type:"date",className:"w-full p-2 border border-gray-200 rounded-lg text-xs focus:outline-none focus:border-blue-500",value:p,onChange:e=>m(e.target.value)}),(0,$r.jsx)("input",{type:"date",className:"w-full p-2 border border-gray-200 rounded-lg text-xs focus:outline-none focus:border-blue-500",value:f,onChange:e=>g(e.target.value)})]})]})]}),(0,$r.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-100 flex justify-end gap-2",children:[(0,$r.jsx)("button",{className:"px-3 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700",onClick:()=>{h("all"),m(""),g(""),d("")},children:"Reset"}),(0,$r.jsx)("button",{className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-700",onClick:()=>T(!1),children:"Apply"})]})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.length>0?(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[(0,$r.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("DeliveryID"),children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Delivery ID"," ","DeliveryID"===x&&("asc"===v?(0,$r.jsx)(hn,{size:12}):(0,$r.jsx)(dn,{size:12}))]})}),(0,$r.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("ClientName"),children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Client"," ","ClientName"===x&&("asc"===v?(0,$r.jsx)(hn,{size:12}):(0,$r.jsx)(dn,{size:12}))]})}),(0,$r.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("DriverName"),children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Driver"," ","DriverName"===x&&("asc"===v?(0,$r.jsx)(hn,{size:12}):(0,$r.jsx)(dn,{size:12}))]})}),(0,$r.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("HelperName"),children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Helper"," ","HelperName"===x&&("asc"===v?(0,$r.jsx)(hn,{size:12}):(0,$r.jsx)(dn,{size:12}))]})}),(0,$r.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("TruckPlate"),children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Truck"," ","TruckPlate"===x&&("asc"===v?(0,$r.jsx)(hn,{size:12}):(0,$r.jsx)(dn,{size:12}))]})}),(0,$r.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("DeliveryStatus"),children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Status"," ","DeliveryStatus"===x&&("asc"===v?(0,$r.jsx)(hn,{size:12}):(0,$r.jsx)(dn,{size:12}))]})}),(0,$r.jsx)("th",{className:"px-6 py-4 text-center",children:"Actions"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:(()=>{let e=[...s];e.sort((e,t)=>{let r=e[x],n=t[x];return r<n?"asc"===v?-1:1:r>n?"asc"===v?1:-1:0});const t=20*(w-1),r=t+20;return e.slice(t,r)})().map(e=>(0,$r.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600",children:(0,$r.jsx)(ua,{size:16})}),(0,$r.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.DeliveryID?e.DeliveryID.substring(0,12):"N/A"})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 font-medium",children:e.ClientName||"N/A"}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.DriverName||"Not Assigned"}),(0,$r.jsx)("span",{className:"text-xs text-gray-400 capitalize",children:R(e.DriverStatus,e.DriverApprovalStatus)})]})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.HelperName||"Not Assigned"}),(0,$r.jsx)("span",{className:"text-xs text-gray-400 capitalize",children:F(e.HelperStatus,e.HelperApprovalStatus)})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 font-mono",children:e.TruckPlate||"N/A"}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsx)(cf,{status:e.DeliveryStatus||"unknown"})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,$r.jsx)(be,{to:"/admin/deliveries/".concat(e.DeliveryID||"","/view"),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,$r.jsx)(Mn,{size:18})}),(0,$r.jsx)("button",{onClick:()=>{const t=e.TruckPlate||e.TruckID;t?(S(e.DeliveryID),_(t),window.currentDeliveryData=e,A(!0)):N("No truck assigned to this delivery","warning")},className:"p-1.5 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Track Live GPS",children:(0,$r.jsx)(Zn,{size:18})})]})})]},e.DeliveryID))})]})}):(0,$r.jsxs)("div",{className:"p-12 flex flex-col items-center justify-center text-center",children:[(0,$r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-4",children:(0,$r.jsx)(ta,{size:32})}),(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"No deliveries found"}),(0,$r.jsx)("p",{className:"text-gray-500 max-w-sm",children:"No delivery records match your current criteria. Try adjusting your filters."}),(0,$r.jsx)("button",{onClick:()=>{h("all"),d(""),m(""),g("")},className:"mt-6 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Clear All Filters"})]}),M>1&&(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50/30",children:[(0,$r.jsxs)("span",{className:"text-sm text-gray-500",children:["Page"," ",(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:w})," ","of"," ",(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:M})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("button",{onClick:()=>j(e=>Math.max(1,e-1)),disabled:1===w,className:"p-2 border border-gray-200 rounded-lg bg-white text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,$r.jsx)(kn,{size:16})}),(0,$r.jsx)("button",{onClick:()=>j(e=>Math.min(M,e+1)),disabled:w===M,className:"p-2 border border-gray-200 rounded-lg bg-white text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,$r.jsx)(Sn,{size:16})})]})]})]})]}),P&&k&&(0,$r.jsx)(Lk,{deliveryId:k,truckId:C,onClose:()=>{A(!1),S(null),_(null)}})]})},SE=e=>{let{currentUser:r}=e;const{id:n}=ue(),a=ce(),{showAlert:s}=(0,t.useContext)(Sa),i=Boolean(n),o=Gr,[l,c]=(0,t.useState)({deliveryDate:(new Date).toISOString().split("T")[0],deliveryStatus:"pending",deliveryAddress:"",deliveryDistance:"",deliveryRate:"",clientId:"",truckId:"",driverId:"",helperId:"",notes:""}),[d,u]=(0,t.useState)(i),[h,p]=(0,t.useState)([]),[m,f]=(0,t.useState)([]),[g,x]=(0,t.useState)([]),[b,v]=(0,t.useState)([]),[y,w]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{if(i)try{u(!0);const e=(await Vr.get("".concat(o,"/api/deliveries/").concat(n))).data;e.deliveryDate&&(e.deliveryDate=new Date(e.deliveryDate).toISOString().split("T")[0]),c({deliveryDate:e.deliveryDate||(new Date).toISOString().split("T")[0],deliveryStatus:e.deliveryStatus||"pending",deliveryAddress:e.deliveryAddress||"",deliveryDistance:e.deliveryDistance||"",deliveryRate:e.deliveryRate||"",clientId:e.clientId||"",truckId:e.truckId||"",driverId:e.driverId||"",helperId:e.helperId||"",notes:e.notes||""}),u(!1)}catch(e){w("Error loading delivery data"),console.error("Error fetching delivery:",e),u(!1)}})()},[n,i,o]),(0,t.useEffect)(()=>{(async()=>{try{const e=await Vr.get("".concat(o,"/api/clients"));p(e.data);const t=await Vr.get("".concat(o,"/api/trucks"));f(t.data);const r=await Vr.get("".concat(o,"/api/drivers"));x(r.data);const n=await Vr.get("".concat(o,"/api/helpers"));v(n.data)}catch(e){w("Error loading reference data"),console.error("Error fetching reference data:",e)}})()},[o]);const j=e=>{const{name:t,value:r}=e.target;c(Ne(Ne({},l),{},{[t]:r}))};return d?(0,$r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,$r.jsx)("div",{className:"w-10 h-10 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin"}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading delivery data..."})]})}):(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,$r.jsx)(sf,{currentUser:r}),(0,$r.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-4xl mx-auto w-full",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,$r.jsx)("button",{onClick:()=>a.push("/admin/deliveries"),className:"p-2 rounded-lg hover:bg-white hover:shadow-sm text-gray-500 hover:text-gray-900 transition-all border border-transparent hover:border-gray-200",children:(0,$r.jsx)(kn,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:i?"Edit Delivery":"New Delivery"}),(0,$r.jsxs)("p",{className:"text-sm text-gray-500",children:["Fill in the details below to"," ",i?"update the":"create a new"," shipment."]})]})]}),y&&(0,$r.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"font-bold",children:"Error:"})," ",y]}),(0,$r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{i?(await Vr.put("".concat(o,"/api/deliveries/").concat(n),l),s("Delivery updated successfully","success")):(await Vr.post("".concat(o,"/api/deliveries"),l),s("Delivery created successfully","success")),a.push("/admin/deliveries")}catch(t){w("Error saving delivery"),console.error("Error saving delivery:",t),s("Error saving delivery","danger")}},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 lg:p-8",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,$r.jsx)("div",{className:"md:col-span-2",children:(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Basic Information"})}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("label",{htmlFor:"clientId",className:"block text-sm font-medium text-gray-700",children:["Client ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{id:"clientId",name:"clientId",value:l.clientId,onChange:j,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm",children:[(0,$r.jsx)("option",{value:"",children:"Select Client"}),h.map(e=>(0,$r.jsx)("option",{value:e.ClientID,children:e.ClientName},e.ClientID))]})]}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("label",{htmlFor:"deliveryDate",className:"block text-sm font-medium text-gray-700",children:["Delivery Date ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"date",id:"deliveryDate",name:"deliveryDate",value:l.deliveryDate,onChange:j,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm"})]}),(0,$r.jsx)("div",{className:"md:col-span-2 mt-2",children:(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Resource Assignment"})}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("label",{htmlFor:"truckId",className:"block text-sm font-medium text-gray-700",children:["Truck ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{id:"truckId",name:"truckId",value:l.truckId,onChange:j,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm",children:[(0,$r.jsx)("option",{value:"",children:"Select Truck"}),m.map(e=>(0,$r.jsxs)("option",{value:e.TruckID||e.id,children:[e.TruckPlate," - ",e.TruckType]},e.TruckID||e.id))]})]}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("label",{htmlFor:"driverId",className:"block text-sm font-medium text-gray-700",children:["Driver ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{id:"driverId",name:"driverId",value:l.driverId,onChange:j,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm",children:[(0,$r.jsx)("option",{value:"",children:"Select Driver"}),g.map(e=>(0,$r.jsx)("option",{value:e.DriverID||e.id,children:e.DriverName},e.DriverID||e.id))]})]}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsx)("label",{htmlFor:"helperId",className:"block text-sm font-medium text-gray-700",children:"Helper (Optional)"}),(0,$r.jsxs)("select",{id:"helperId",name:"helperId",value:l.helperId,onChange:j,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm",children:[(0,$r.jsx)("option",{value:"",children:"Select Helper"}),b.map(e=>(0,$r.jsx)("option",{value:e.HelperID||e.id,children:e.HelperName},e.HelperID||e.id))]})]}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("label",{htmlFor:"deliveryStatus",className:"block text-sm font-medium text-gray-700",children:["Status ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{id:"deliveryStatus",name:"deliveryStatus",value:l.deliveryStatus,onChange:j,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm",children:[(0,$r.jsx)("option",{value:"pending",children:"Pending"}),(0,$r.jsx)("option",{value:"accepted",children:"Accepted"}),(0,$r.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,$r.jsx)("option",{value:"delivered",children:"Delivered"}),(0,$r.jsx)("option",{value:"completed",children:"Completed"}),(0,$r.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,$r.jsx)("div",{className:"md:col-span-2 mt-2",children:(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Delivery Details"})}),(0,$r.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,$r.jsxs)("label",{htmlFor:"deliveryAddress",className:"block text-sm font-medium text-gray-700",children:["Delivery Address ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"text",id:"deliveryAddress",name:"deliveryAddress",value:l.deliveryAddress,onChange:j,required:!0,placeholder:"Enter full delivery address",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm"})]}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("label",{htmlFor:"deliveryDistance",className:"block text-sm font-medium text-gray-700",children:["Distance (km) ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"number",id:"deliveryDistance",name:"deliveryDistance",value:l.deliveryDistance,onChange:j,required:!0,min:"0",step:"0.1",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm"})]}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("label",{htmlFor:"deliveryRate",className:"block text-sm font-medium text-gray-700",children:["Rate (\u20b1) ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"number",id:"deliveryRate",name:"deliveryRate",value:l.deliveryRate,onChange:j,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm"})]}),(0,$r.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,$r.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes (Optional)"}),(0,$r.jsx)("textarea",{id:"notes",name:"notes",value:l.notes,onChange:j,rows:"3",placeholder:"Any additional instructions or notes...",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm resize-none"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-100",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>a.push("/admin/deliveries"),className:"px-6 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all shadow-sm",children:"Cancel"}),(0,$r.jsxs)("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2.5 text-sm font-bold text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-blue-500/20",children:[(0,$r.jsx)(Ln,{size:18}),i?"Update Delivery":"Create Delivery"]})]})]})]})]})},CE=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(e),_E=e=>{var r;let{currentUser:n}=e;const{id:a}=ue(),{showAlert:s}=(0,t.useContext)(Sa),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(!1);(0,t.useEffect)(()=>{h()},[]);const h=async()=>{try{const e=await Vr.get("/api/deliveries/".concat(a));o(e.data),c(!1)}catch(lb){console.error("Error fetching delivery details:",lb),s("Error loading delivery details","danger"),c(!1)}},p=e=>{var t;const r=null===(t=i.DeliveryStatus)||void 0===t?void 0:t.toLowerCase();switch(e){case"created":return"completed";case"pending":return"pending"===r?"active":(["in-progress","in_progress","on-delivery","on_delivery","completed","cancelled"].includes(r),"completed");case"in-progress":return["in-progress","in_progress","on-delivery","on_delivery"].includes(r)?"active":["completed","cancelled"].includes(r)?"completed":"pending";case"completed":return"completed"===r?"active":"pending";default:return"pending"}};if(l)return(0,$r.jsx)(ri,{});if(!i)return(0,$r.jsx)("div",{className:"delivery-view-container",children:(0,$r.jsxs)("div",{className:"delivery-view-card",children:[(0,$r.jsxs)("div",{className:"delivery-view-header",children:[(0,$r.jsx)("h2",{children:"Delivery Not Found"}),(0,$r.jsxs)(be,{to:"/admin/deliveries",className:"btn btn-secondary btn-sm",children:[(0,$r.jsx)(Wa,{})," Back to List"]})]}),(0,$r.jsx)("div",{className:"delivery-view-body",children:(0,$r.jsx)("p",{children:"The requested delivery could not be found."})})]})});const m=i.pickupCoordinates&&i.dropoffCoordinates||i.PickupCoordinates&&i.DropoffCoordinates,f="cancelled"===(null===(r=i.DeliveryStatus)||void 0===r?void 0:r.toLowerCase());return(0,$r.jsx)("div",{className:"delivery-view-container",children:(0,$r.jsxs)("div",{className:"delivery-view-card",children:[(0,$r.jsxs)("div",{className:"delivery-view-header",children:[(0,$r.jsxs)("div",{className:"header-left",children:[(0,$r.jsxs)("h2",{children:["Delivery #",i.DeliveryID]}),(0,$r.jsxs)("div",{className:"delivery-status-header",children:[(0,$r.jsx)(cf,{status:i.DeliveryStatus}),(0,$r.jsx)("span",{className:"delivery-date",children:(e=>{if(!e)return"Not available";try{let t;return t="string"===typeof e?new Date(e):e.toDate&&"function"===typeof e.toDate?e.toDate():new Date(e),isNaN(t.getTime())?"Invalid date":(e=>new Date(e).toLocaleDateString())(t)}catch(lb){return console.error("Date formatting error:",lb),"Date error"}})(i.DeliveryDate)})]})]}),(0,$r.jsx)("div",{className:"header-actions",children:(0,$r.jsxs)(be,{to:"/admin/deliveries",className:"btn btn-secondary btn-sm",children:[(0,$r.jsx)(Wa,{})," Back"]})})]}),(0,$r.jsxs)("div",{className:"delivery-view-body",children:[(0,$r.jsxs)("div",{className:"timeline-tracker",children:[(0,$r.jsxs)("div",{className:"timeline-step ".concat(p("created")),children:[(0,$r.jsx)("div",{className:"step-icon",children:"\ud83d\udcdd"}),(0,$r.jsx)("div",{className:"step-label",children:"Created"})]}),(0,$r.jsx)("div",{className:"timeline-connector"}),(0,$r.jsxs)("div",{className:"timeline-step ".concat(p("pending")),children:[(0,$r.jsx)("div",{className:"step-icon",children:"\u23f3"}),(0,$r.jsx)("div",{className:"step-label",children:"Pending"})]}),(0,$r.jsx)("div",{className:"timeline-connector"}),(0,$r.jsxs)("div",{className:"timeline-step ".concat(p("in-progress")),children:[(0,$r.jsx)("div",{className:"step-icon",children:"\ud83d\ude9a"}),(0,$r.jsx)("div",{className:"step-label",children:"In Transit"})]}),(0,$r.jsx)("div",{className:"timeline-connector"}),f?(0,$r.jsxs)("div",{className:"timeline-step cancelled active",children:[(0,$r.jsx)("div",{className:"step-icon",children:"\u274c"}),(0,$r.jsx)("div",{className:"step-label",children:"Cancelled"})]}):(0,$r.jsxs)("div",{className:"timeline-step ".concat(p("completed")),children:[(0,$r.jsx)("div",{className:"step-icon",children:"\u2705"}),(0,$r.jsx)("div",{className:"step-label",children:"Completed"})]})]}),(0,$r.jsxs)("div",{className:"metrics-row",children:[(0,$r.jsxs)("div",{className:"metric-item",children:[(0,$r.jsx)("span",{className:"metric-icon",children:"\ud83d\udccf"}),(0,$r.jsx)("span",{className:"metric-value",children:(g=i.DeliveryDistance,"".concat(parseFloat(g).toFixed(2)," km"))}),(0,$r.jsx)("span",{className:"metric-label",children:"Distance"})]}),i.EstimatedDuration&&(0,$r.jsxs)("div",{className:"metric-item",children:[(0,$r.jsx)("span",{className:"metric-icon",children:"\u23f1\ufe0f"}),(0,$r.jsxs)("span",{className:"metric-value",children:[Math.round(i.EstimatedDuration)," min"]}),(0,$r.jsx)("span",{className:"metric-label",children:"Duration"})]}),i.deliveryBaseRate||i.DeliveryBaseRate?(0,$r.jsxs)("div",{className:"metric-item",children:[(0,$r.jsx)("span",{className:"metric-icon",children:"\ud83c\udff7\ufe0f"}),(0,$r.jsx)("span",{className:"metric-value",children:CE(i.deliveryBaseRate||i.DeliveryBaseRate)}),(0,$r.jsx)("span",{className:"metric-label",children:"Base Price"})]}):null,i.deliveryRatePerKm||i.DeliveryRatePerKm?(0,$r.jsxs)("div",{className:"metric-item",children:[(0,$r.jsx)("span",{className:"metric-icon",children:"\ufffd"}),(0,$r.jsxs)("span",{className:"metric-value",children:[CE(i.deliveryRatePerKm||i.DeliveryRatePerKm),"/km"]}),(0,$r.jsx)("span",{className:"metric-label",children:"Rate/KM"})]}):(0,$r.jsxs)("div",{className:"metric-item",children:[(0,$r.jsx)("span",{className:"metric-icon",children:"\ufffd\ud83d\udcb0"}),(0,$r.jsx)("span",{className:"metric-value",children:CE(i.DeliveryRate)}),(0,$r.jsx)("span",{className:"metric-label",children:"Rate"})]}),(0,$r.jsxs)("div",{className:"metric-item highlight",children:[(0,$r.jsx)("span",{className:"metric-icon",children:"\ud83d\udcb5"}),(0,$r.jsx)("span",{className:"metric-value",children:CE(i.TotalAmount&&i.TotalAmount>0?i.TotalAmount:i.DeliveryRate&&i.DeliveryRate>0?i.DeliveryRate:0)}),(0,$r.jsx)("span",{className:"metric-label",children:"Total"})]})]}),d&&m&&(0,$r.jsx)("div",{className:"route-section",children:(0,$r.jsx)("div",{className:"route-map",children:(0,$r.jsx)(pf,{pickupCoordinates:i.pickupCoordinates||i.PickupCoordinates,dropoffCoordinates:i.dropoffCoordinates||i.DropoffCoordinates,pickupAddress:i.PickupLocation,dropoffAddress:i.DeliveryAddress,onRouteCalculated:()=>{}})})}),(0,$r.jsxs)("div",{className:"content-grid",children:[(0,$r.jsxs)("div",{className:"route-row ".concat(m?"clickable":""),onClick:m?()=>{u(!d)}:void 0,title:m?"Click to view route map":"Route map not available",children:[(0,$r.jsxs)("div",{className:"route-from",children:[(0,$r.jsx)("span",{className:"route-label",children:"\ud83d\udccd FROM"}),(0,$r.jsx)("span",{className:"route-address",children:i.PickupLocation||"Not specified"})]}),(0,$r.jsx)("div",{className:"route-arrow",children:"\u2192"}),(0,$r.jsxs)("div",{className:"route-to",children:[(0,$r.jsx)("span",{className:"route-label",children:"\ud83c\udfaf TO"}),(0,$r.jsx)("span",{className:"route-address",children:i.DeliveryAddress||"Not specified"})]}),m&&(0,$r.jsx)("div",{className:"route-action",children:(0,$r.jsx)("span",{className:"map-icon",children:d?"\ud83d\uddfa\ufe0f Hide Map":"\ud83d\uddfa\ufe0f View Map"})}),(i.CargoWeight||i.TotalCargoWeight)&&(0,$r.jsxs)("div",{className:"cargo-badge",children:["\ud83d\udce6 ",i.CargoWeight||0," tons"]})]}),(0,$r.jsxs)("div",{className:"details-grid",children:[(0,$r.jsxs)("div",{className:"detail-cell",children:[(0,$r.jsx)("span",{className:"detail-label",children:"CLIENT"}),(0,$r.jsx)("span",{className:"detail-value",children:i.ClientName})]}),(0,$r.jsxs)("div",{className:"detail-cell",children:[(0,$r.jsx)("span",{className:"detail-label",children:"TRUCK"}),(0,$r.jsxs)("span",{className:"detail-value truck-badge",children:["\ud83d\ude9b ",i.TruckPlate," \u2022 ",i.TruckType]})]}),(0,$r.jsxs)("div",{className:"detail-cell",children:[(0,$r.jsx)("span",{className:"detail-label",children:"DRIVER"}),(0,$r.jsxs)("div",{className:"detail-value-row",children:[(0,$r.jsx)("span",{className:"detail-value",children:i.DriverName||"Not Assigned"}),"awaiting_approval"===i.DriverStatus&&(0,$r.jsx)("span",{className:"status-tag pending",children:"\u23f3 Pending"})]}),(0,$r.jsx)("span",{className:"detail-price",children:"\ud83d\udcb0 \u20b11,050.00"})]}),(0,$r.jsxs)("div",{className:"detail-cell",children:[(0,$r.jsx)("span",{className:"detail-label",children:"HELPER"}),(0,$r.jsxs)("div",{className:"detail-value-row",children:[(0,$r.jsx)("span",{className:"detail-value",children:i.HelperName||"Not Assigned"}),"awaiting_approval"===i.HelperStatus&&(0,$r.jsx)("span",{className:"status-tag pending",children:"\u23f3 Pending"})]}),(0,$r.jsx)("span",{className:"detail-price",children:"\ud83d\udcb0 \u20b1750.00"})]})]})]})]})]})});var g},PE=e=>{var r;let{currentUser:n}=e;const{isWithinTimeframe:a,getFormattedDateRange:s}=La(),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)("all"),[g,x]=(0,t.useState)(null),[b,v]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)("table"),[k,S]=(0,t.useState)("ClientName"),[C,_]=(0,t.useState)("asc"),[P,A]=(0,t.useState)(1),D=["all"!==m?m:null].filter(Boolean).length,[T,L]=(0,t.useState)({}),E=()=>{v(!1),x(null)};(0,t.useEffect)(()=>{(async()=>{try{c(!0),u(null),console.log("Fetching clients from API...");const e=Gr;console.log("API Base URL:",e);const t=await Vr.get("".concat(e,"/api/clients"));if(console.log("API Response:",t.data),t.data&&Array.isArray(t.data)){const e=t.data.map(e=>({ClientID:e.id||e.ClientID,ClientName:e.clientName||e.ClientName,ClientEmail:e.clientEmail||e.ClientEmail,ClientNumber:e.clientNumber||e.ClientNumber,ClientStatus:e.clientStatus||e.ClientStatus||"active",ClientCreationDate:e.clientCreationDate||e.ClientCreationDate,UserID:e.userId||e.UserID}));o(e),console.log("Clients loaded:",e.length),(async e=>{try{const r=localStorage.getItem("token"),n=Gr,a={};for(const s of e)try{const e=(await Vr.get("".concat(n,"/api/payments/client/").concat(s.ClientID),{headers:{Authorization:"Bearer ".concat(r)}})).data.payments||[],t=new Date,i=e.filter(e=>{const r=new Date(e.dueDate);return t>r&&"paid"!==e.status});a[s.ClientID]={overdueCount:i.length,overdueAmount:i.reduce((e,t)=>e+(t.amount||0),0),hasOverdueRisk:i.length>=3},console.log("Client ".concat(s.ClientName,": ").concat(i.length," overdue payments"))}catch(t){console.warn("Failed to fetch payments for client ".concat(s.ClientID,":"),t.message)}L(a)}catch(d){console.error("Error fetching client payments:",d)}})(e)}else console.warn("API returned unexpected data format:",t.data),o([]);c(!1)}catch(t){if(console.error("Error fetching clients:",t),"ERR_NETWORK"===t.code)u("Network error. Please check your connection and try again.");else if(t.response)if(404===t.response.status)u("Client data not found. The API endpoint may not be configured properly.");else if(500===t.response.status)u("Server error. Please try again later.");else{var e;u("Server error (".concat(t.response.status,"): ").concat((null===(e=t.response.data)||void 0===e?void 0:e.message)||"Unknown error"))}else t.request?u("No response received from server. Please check if the backend is running."):u("Request error: ".concat(t.message));c(!1),o([])}})()},[]);const I=(0,t.useMemo)(()=>{let e=i;return a&&(e=e.filter(e=>!(e.CreatedAt||e.createdAt||e.registrationDate)||a(e.CreatedAt||e.createdAt||e.registrationDate))),"all"!==m&&(e=e.filter(e=>{var t;return(null===(t=e.ClientStatus)||void 0===t?void 0:t.toLowerCase())===m.toLowerCase()})),h&&(e=e.filter(e=>{var t,r,n;return(null===(t=e.ClientName)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(r=e.ClientEmail)||void 0===r?void 0:r.toLowerCase().includes(h.toLowerCase()))||(null===(n=e.ClientNumber)||void 0===n?void 0:n.includes(h))})),e},[i,h,m,a]),M=Math.ceil(I.length/20),R=((()=>{const e=i.length,t=i.filter(e=>{var t;return"active"===(null===(t=e.ClientStatus)||void 0===t?void 0:t.toLowerCase())}).length,r=i.filter(e=>{var t;return"inactive"===(null===(t=e.ClientStatus)||void 0===t?void 0:t.toLowerCase())}).length,n=i.filter(e=>{var t;return"pending"===(null===(t=e.ClientStatus)||void 0===t?void 0:t.toLowerCase())}).length})(),[...new Set(i.map(e=>e.ClientStatus).filter(Boolean))]),F=()=>{u(null)},z=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Unknown";return l?(0,$r.jsx)("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading clients data..."})]})}):(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,$r.jsx)(sf,{currentUser:null}),(0,$r.jsx)(jE,{activeTab:"clients"}),(0,$r.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,$r.jsxs)("div",{className:"mb-8",children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Clients Management"}),(0,$r.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage client accounts, contracts, and business relationships"}),(0,$r.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 shadow-sm",children:[(0,$r.jsx)(vn,{size:16,className:"text-gray-400"}),(0,$r.jsxs)("span",{children:["Showing data for:"," ",(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:s()})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(xn,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(hn,{size:12}),"+4.1%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Total Clients"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(jn,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(hn,{size:12}),"+2.4%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.filter(e=>"active"===e.ClientStatus).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Active"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-gray-50 text-gray-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(An,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(on,{size:12}),"0.0%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.filter(e=>"inactive"===e.ClientStatus).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Inactive"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(ln,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(hn,{size:12}),"+1.2%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.filter(e=>"pending"===e.ClientStatus).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Pending"})]})]})]})]}),d&&(0,$r.jsxs)("div",{className:"error-message",children:[d,(0,$r.jsxs)("div",{style:{marginTop:"10px"},children:[(0,$r.jsx)("button",{onClick:F,className:"btn btn-secondary btn-sm",style:{marginRight:"10px"},children:"Dismiss"}),(0,$r.jsx)("button",{onClick:()=>{u(null),c(!0);(async()=>{try{const e=Gr,t=await Vr.get("".concat(e,"/api/clients"));if(t.data&&Array.isArray(t.data)){const e=t.data.map(e=>({ClientID:e.id||e.ClientID,ClientName:e.clientName||e.ClientName,ClientEmail:e.clientEmail||e.ClientEmail,ClientNumber:e.clientNumber||e.ClientNumber,ClientStatus:e.clientStatus||e.ClientStatus||"active",ClientCreationDate:e.clientCreationDate||e.ClientCreationDate,UserID:e.userId||e.UserID}));o(e)}else o([]);c(!1)}catch(e){console.error("Retry failed:",e),u("Retry failed. Please check your connection and try again."),c(!1)}})()},className:"btn btn-primary btn-sm",children:"Retry"})]}),(0,$r.jsx)("button",{onClick:F,className:"close-btn",children:"\xd7"})]}),(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between mb-6",children:[(0,$r.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,$r.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:(0,$r.jsx)(ia,{size:20})}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by name, email, or phone...",value:h,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(y?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>w(!y),children:[(0,$r.jsx)(Un,{size:18}),"Filters",D>0&&(0,$r.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:D})]}),(0,$r.jsxs)("div",{className:"flex items-center bg-gray-100 p-1 rounded-lg border border-gray-200",children:[(0,$r.jsx)("button",{onClick:()=>N("table"),className:"p-2 rounded-md transition-all ".concat("table"===j?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Table View",children:(0,$r.jsx)(Yn,{size:18})}),(0,$r.jsx)("button",{onClick:()=>N("cards"),className:"p-2 rounded-md transition-all ".concat("cards"===j?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Card View",children:(0,$r.jsx)(Gn,{size:18})})]})]})]}),(0,$r.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium mb-6",children:["Showing ",I.length," of ",i.length," clients"]}),y&&(0,$r.jsx)("div",{className:"relative mb-6",children:(0,$r.jsxs)("div",{className:"absolute top-0 right-0 md:left-0 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-80 max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$r.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,$r.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>w(!1),children:(0,$r.jsx)(ga,{size:20})})]}),(0,$r.jsx)("div",{className:"space-y-4 mb-6",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,$r.jsxs)("select",{value:m,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Status"}),R.map(e=>(0,$r.jsx)("option",{value:e,children:z(e)},e))]})]})}),(0,$r.jsx)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:(0,$r.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{p(""),f("all")},children:"Clear All Filters"})})]})}),0!==I.length||l?(0,$r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden mb-6",children:[(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Client Name"}),(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Email"}),(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Created"}),(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:(()=>{let e=[...I];e.sort((e,t)=>{let r=e[k],n=t[k];return r<n?"asc"===C?-1:1:r>n?"asc"===C?1:-1:0});const t=20*(P-1),r=t+20;return e.slice(t,r)})().map(e=>{const t=T[e.ClientID]||{},r=t.hasOverdueRisk||!1,n=t.overdueCount||0;return(0,$r.jsxs)("tr",{className:"hover:bg-gray-50/80 transition-colors group ".concat(r?"bg-red-50/50 border-l-4 border-red-500":""),title:r?"\u26a0\ufe0f ".concat(n," overdue payments"):"",children:[(0,$r.jsx)("td",{className:"py-4 px-6",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-9 h-9 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center",children:(0,$r.jsx)(xn,{size:18})}),(0,$r.jsx)("div",{className:"flex flex-col",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"font-semibold text-gray-900",children:e.ClientName}),r&&(0,$r.jsx)("span",{className:"text-red-500",title:"".concat(n," overdue payments"),children:(0,$r.jsx)(ln,{size:16})})]})})]})}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm text-gray-600",children:e.ClientEmail||"N/A"}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm text-gray-600",children:e.ClientNumber||"N/A"}),(0,$r.jsx)("td",{className:"py-4 px-6 text-sm text-gray-600",children:e.ClientCreationDate?new Date(e.ClientCreationDate).toLocaleDateString():"N/A"}),(0,$r.jsx)("td",{className:"py-4 px-6",children:(0,$r.jsx)(cf,{status:e.ClientStatus||"Active"})}),(0,$r.jsx)("td",{className:"py-4 px-6 text-right",children:(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,$r.jsx)("button",{onClick:()=>(e=>{x(e),v(!0)})(e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,$r.jsx)(Mn,{size:18})}),(0,$r.jsx)(be,{to:"/admin/clients/edit/".concat(e.ClientID),className:"p-1.5 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Edit Client",children:(0,$r.jsx)(In,{size:18})})]})})]},e.ClientID)})})]})}),M>1&&(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50/50",children:[(0,$r.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing"," ",(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:P})," ","of"," ",(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:M})," ","pages"]}),(0,$r.jsxs)("div",{className:"flex gap-2",children:[(0,$r.jsx)("button",{onClick:()=>A(e=>Math.max(1,e-1)),disabled:1===P,className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:bg-white hover:text-blue-600 hover:border-blue-200 disabled:opacity-50 disabled:hover:bg-transparent disabled:hover:text-gray-600 transition-all",children:"Previous"}),(0,$r.jsx)("button",{onClick:()=>A(e=>Math.min(M,e+1)),disabled:P===M,className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:bg-white hover:text-blue-600 hover:border-blue-200 disabled:opacity-50 disabled:hover:bg-transparent disabled:hover:text-gray-600 transition-all",children:"Next"})]})]})]}):(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,$r.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-400",children:(0,$r.jsx)(xn,{size:40})}),(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No clients found"}),(0,$r.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:h||"all"!==m?"No clients match your current filters. Try adjusting your search criteria.":"No client records found. Add your first client to get started."}),(0,$r.jsxs)(be,{to:"/admin/clients/add",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-all shadow-sm shadow-blue-200",children:[(0,$r.jsx)(ma,{size:20}),"Add Your First Client"]})]}),b&&g&&(0,$r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",onClick:E,children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[85vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gradient-to-r from-primary-50 to-blue-50 flex-shrink-0",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-11 h-11 rounded-xl bg-primary-100 text-primary-600 flex items-center justify-center shadow-sm",children:(0,$r.jsx)(xn,{size:22})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:g.ClientName}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Client Details"})]})]}),(0,$r.jsx)("button",{onClick:E,className:"w-8 h-8 rounded-full bg-white/80 hover:bg-gray-200 flex items-center justify-center text-gray-500 transition-colors shadow-sm",children:(0,$r.jsx)(ga,{size:18})})]}),(0,$r.jsxs)("div",{className:"p-6 overflow-y-auto space-y-4 flex-1",children:[(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100 space-y-3",children:[(0,$r.jsxs)("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-1.5",children:[(0,$r.jsx)(ma,{size:14})," Basic Information"]}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 last:border-0",children:[(0,$r.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Client ID"}),(0,$r.jsxs)("span",{className:"text-xs font-mono text-gray-700 bg-gray-100 px-2 py-0.5 rounded",children:[null===(r=g.ClientID)||void 0===r?void 0:r.substring(0,12),"..."]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 last:border-0",children:[(0,$r.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Name"}),(0,$r.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:g.ClientName})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 last:border-0",children:[(0,$r.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Email"}),(0,$r.jsx)("span",{className:"text-sm text-gray-700",children:g.ClientEmail||"Not provided"})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 last:border-0",children:[(0,$r.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Phone"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:g.ClientNumber||"Not provided"})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between py-1.5",children:[(0,$r.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"User ID"}),(0,$r.jsx)("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full ".concat(g.UserID?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"),children:g.UserID?"Linked":"Not linked"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100 space-y-3",children:[(0,$r.jsxs)("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-1.5",children:[(0,$r.jsx)(on,{size:14})," Status Information"]}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100",children:[(0,$r.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Current Status"}),(0,$r.jsx)(cf,{status:g.ClientStatus||"Active"})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between py-1.5",children:[(0,$r.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Account Created"}),(0,$r.jsxs)("span",{className:"text-sm text-gray-700 flex items-center gap-1.5",children:[(0,$r.jsx)(vn,{size:14,className:"text-gray-400"}),g.ClientCreationDate?new Date(g.ClientCreationDate).toLocaleDateString():"Unknown"]})]})]})]})]}),(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50 flex items-center justify-end gap-2 flex-shrink-0",children:[(0,$r.jsx)("button",{onClick:E,className:"px-4 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Close"}),(0,$r.jsxs)(be,{to:"/admin/clients/edit/".concat(g.ClientID),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-1.5 shadow-sm",children:[(0,$r.jsx)(In,{size:16})," Edit Client"]}),(0,$r.jsxs)(be,{to:"/admin/clients/".concat(g.ClientID,"/trucks"),className:"px-4 py-2 text-sm font-semibold text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-1.5 shadow-sm",children:[(0,$r.jsx)(ha,{size:16})," Manage Trucks"]})]})]})})]})]})},AE=()=>{const{id:e}=ue(),r=ce(),n=Boolean(e),[a,s]=(0,t.useState)({businessName:"",contactPerson:"",contactNumber:"",email:"",address:"",businessType:"",registrationDate:"",status:"Active",username:"",password:"",businessPermit:null,validId:null,serviceContract:null,taxCertificate:null}),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(n),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)({}),g=Gr;(0,t.useEffect)(()=>{(async()=>{if(n)try{console.log("Fetching client data for ID: ".concat(e));const t=await Vr.get("".concat(g,"/api/clients/").concat(e));console.log("Client data fetched:",t.data);const r=t.data;s({businessName:r.businessName||r.ClientName||"",contactPerson:r.contactPerson||r.ContactPerson||"",contactNumber:r.contactNumber||r.ContactNumber||"",email:r.email||r.Email||"",address:r.address||r.Address||"",businessType:r.businessType||r.BusinessType||"",registrationDate:r.registrationDate||r.RegistrationDate||"",status:r.status||r.Status||"Active",username:r.ClientUserName||r.username||"",password:"",businessPermit:null,validId:null,serviceContract:null,taxCertificate:null}),c(!1)}catch(t){console.error("Error fetching client:",t),u("Failed to load client data"),c(!1)}else c(!1)})()},[e,n,g]);const x=e=>{const{name:t,value:r}=e.target;s(e=>Ne(Ne({},e),{},{[t]:r}))},b=(e,t,r)=>(0,$r.jsxs)("div",{className:"flex items-start gap-3 mb-6 border-b border-gray-100 pb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary-50 text-primary-600 flex items-center justify-center flex-shrink-0",children:e}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:t}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:r})]})]}),v=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,$r.jsxs)("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-4 hover:border-primary-300 transition-colors",children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t," ",r&&(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),m[e]?(0,$r.jsxs)("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg px-3 py-2",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[(0,$r.jsx)(jn,{size:16}),(0,$r.jsx)("span",{className:"truncate max-w-[180px]",children:m[e]})]}),(0,$r.jsx)("button",{type:"button",onClick:()=>(e=>{s(t=>Ne(Ne({},t),{},{[e]:null})),f(t=>{const r=Ne({},t);return delete r[e],r})})(e),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,$r.jsx)(da,{size:16})})]}):(0,$r.jsxs)("label",{className:"flex flex-col items-center gap-2 cursor-pointer py-3",children:[(0,$r.jsx)(pa,{size:24,className:"text-gray-400"}),(0,$r.jsx)("span",{className:"text-xs text-gray-500",children:"Click to upload"}),(0,$r.jsx)("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:t=>((e,t)=>{const r=e.target.files[0];r&&(s(e=>Ne(Ne({},e),{},{[t]:r})),f(e=>Ne(Ne({},e),{},{[t]:r.name})))})(t,e),required:r&&!n})]})]})};return l?(0,$r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,$r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-fade-in",children:[(0,$r.jsxs)("div",{className:"mb-8",children:[(0,$r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,$r.jsx)(fn,{className:"text-primary-600",size:32}),n?"Edit Client":"Add New Client"]}),(0,$r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n?"Update client information and documents":"Register a new client with business details"})]}),d&&(0,$r.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[(0,$r.jsx)(cn,{className:"text-red-500 mt-0.5",size:20}),(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,$r.jsx)("p",{className:"text-sm text-red-700 mt-1",children:d}),(0,$r.jsx)("div",{className:"mt-3 flex gap-3",children:(0,$r.jsx)("button",{onClick:()=>u(null),className:"text-xs font-medium text-red-600 hover:text-red-800",children:"Dismiss"})})]})]}),h&&(0,$r.jsxs)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[(0,$r.jsx)(jn,{className:"text-green-500",size:20}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Success"}),(0,$r.jsx)("p",{className:"text-sm text-green-700",children:h})]})]}),(0,$r.jsx)("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-100",children:(0,$r.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0),u(null);try{const t={clientName:a.businessName,clientNumber:a.contactNumber,clientEmail:a.email,clientStatus:a.status,clientCreationDate:n?void 0:(new Date).toISOString().split("T")[0],username:a.username};n||(t.password=a.password),n?(await Vr.put("".concat(g,"/api/clients/").concat(e),t),p("Client updated successfully!")):(await Vr.post("".concat(g,"/api/clients"),t),p("Client created successfully!")),setTimeout(()=>{r.push("/admin/clients")},1500)}catch(d){console.error("Error saving client:",d),u("Error saving client. Please try again.")}finally{o(!1)}},className:"p-8",children:[(0,$r.jsxs)("section",{className:"mb-10",children:[b((0,$r.jsx)(xn,{size:24}),"Business Information","Enter the basic business and contact information"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Name ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"businessName",value:a.businessName,onChange:x,required:!0,placeholder:"Enter business name",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"businessType",value:a.businessType,onChange:x,placeholder:"Enter business type",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contact Person ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"contactPerson",value:a.contactPerson,onChange:x,required:!0,placeholder:"Enter contact person name",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contact Number ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"tel",name:"contactNumber",value:a.contactNumber,onChange:x,required:!0,placeholder:"Enter contact number",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(Qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"email",name:"email",value:a.email,onChange:x,placeholder:"Enter email address",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Date"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"date",name:"registrationDate",value:a.registrationDate,onChange:x,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]}),(0,$r.jsxs)("div",{className:"mb-6",children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(Zn,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,$r.jsx)("textarea",{name:"address",value:a.address,onChange:x,placeholder:"Enter complete business address",rows:"3",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none resize-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,$r.jsxs)("select",{name:"status",value:a.status,onChange:x,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none max-w-xs",children:[(0,$r.jsx)("option",{value:"Active",children:"Active"}),(0,$r.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,$r.jsx)("option",{value:"Suspended",children:"Suspended"}),(0,$r.jsx)("option",{value:"Terminated",children:"Terminated"})]})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[b((0,$r.jsx)(Jn,{size:24}),"Account Credentials",n?"Username for client login access":"Create login credentials for the client"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Username ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"username",value:a.username,onChange:x,required:!0,placeholder:"Enter username for login",autoComplete:"username",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Client will use this username to log into the system"})]}),!n&&(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"password",name:"password",value:a.password,onChange:x,required:!0,minLength:"6",placeholder:"Enter secure password",autoComplete:"new-password",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Minimum 6 characters. Client can change this later."})]}),n&&(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,$r.jsxs)("div",{className:"flex items-start gap-3 bg-amber-50 border border-amber-200 rounded-xl p-4",children:[(0,$r.jsx)(Jn,{className:"text-amber-500 mt-0.5 flex-shrink-0",size:20}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-amber-800",children:"Password cannot be changed by admin"}),(0,$r.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"For security reasons, clients must change their own password through their account settings."})]})]})]})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[b((0,$r.jsx)(On,{size:24}),"Required Documents","Upload required business documents for verification"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v("businessPermit","Business Permit",!0),v("validId","Valid ID",!0)]})]}),(0,$r.jsxs)("section",{className:"mb-8",children:[b((0,$r.jsx)(la,{size:24}),"Optional Documents","Additional documents that may be helpful"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v("serviceContract","Service Contract"),v("taxCertificate","Tax Certificate")]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between gap-4 pt-6 border-t border-gray-100",children:[(0,$r.jsx)("div",{children:n&&(0,$r.jsxs)("button",{type:"button",onClick:async()=>{if(n&&window.confirm("Are you sure you want to delete this client?"))try{await Vr.delete("".concat(g,"/api/clients/").concat(e)),p("Client deleted successfully!"),setTimeout(()=>{r.push("/admin/clients")},1500)}catch(d){console.error("Error deleting client:",d),u("Error deleting client. Please try again.")}},disabled:i,className:"px-5 py-2.5 text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded-xl hover:bg-red-100 transition-all flex items-center gap-2",children:[(0,$r.jsx)(da,{size:18})," Delete Client"]})}),(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsxs)("button",{type:"button",onClick:()=>r.push("/admin/clients/clientlist"),className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-all flex items-center gap-2",children:[(0,$r.jsx)(un,{size:18})," Cancel"]}),(0,$r.jsxs)("button",{type:"submit",disabled:i,className:"px-6 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 rounded-xl shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transition-all flex items-center gap-2 disabled:opacity-50",children:[(0,$r.jsx)(Ln,{size:18})," ",i?"Saving...":n?"Update Client":"Save Client"]})]})]})]})})]})},DE=()=>{const{id:e}=ue(),r=ce(),n=Gr,[a,s]=(0,t.useState)(null),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)([]),[h,p]=(0,t.useState)(!0),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[b,v]=(0,t.useState)(null),[y,w]=(0,t.useState)(""),[j,N]=(0,t.useState)("individual"),[k,S]=(0,t.useState)([]),[C,_]=(0,t.useState)(""),[P,A]=(0,t.useState)(1),[D,T]=(0,t.useState)("all"),[L,E]=(0,t.useState)("all");(0,t.useEffect)(()=>{(async()=>{try{p(!0),v(null),console.log("\ud83d\udd04 Fetching client data...");const t=await Vr.get("".concat(n,"/api/clients/").concat(e));console.log("\u2705 Client data:",t.data),s(t.data),console.log("\ud83d\udd04 Fetching allocated trucks...");const r=await Vr.get("".concat(n,"/api/clients/").concat(e,"/trucks"));console.log("\u2705 Allocated trucks:",r.data),o(r.data),console.log("\ud83d\udd04 Fetching available trucks...");const a=await Vr.get("".concat(n,"/api/trucks/available"));console.log("\u2705 Available trucks:",a.data),c(a.data);const i=[...r.data,...a.data],l=[...new Set(i.map(e=>e.truckType||e.TruckType))];S(l),l.length>0&&_(l[0]),p(!1)}catch(t){console.error("\u274c Error fetching data:",t),v("Failed to load data. Please try again."),p(!1)}})()},[e,n]);const I=(0,t.useMemo)(()=>{const e=i.map(e=>e.id||e.TruckID);let t=l.filter(t=>{const r=t.id||t.TruckID;return!e.includes(r)});return"all"!==D&&(t=t.filter(e=>(e.truckStatus||e.TruckStatus)===D)),"all"!==L&&(t=t.filter(e=>(e.truckType||e.TruckType)===L)),t},[l,i,D,L]),M=e=>{const t=i.map(e=>e.id||e.TruckID);return l.filter(r=>{const n=r.id||r.TruckID;return(r.truckType||r.TruckType)===e&&!t.includes(n)}).length},R=async()=>{if("individual"!==j||0!==d.length)if("byType"!==j||C&&!(P<=0))try{let t;if(f(!0),v(null),"individual"===j)t=d;else{const e=i.map(e=>e.id||e.TruckID),r=l.filter(t=>{const r=t.id||t.TruckID;return(t.truckType||t.TruckType)===C&&!e.includes(r)}).map(e=>e.id||e.TruckID),n=Math.min(r.length,P);if(n<P&&v("Only ".concat(n,' trucks of type "').concat(C,'" are available. Allocating all available.')),t=r.slice(0,n),0===t.length)return v('No trucks of type "'.concat(C,'" are available for allocation.')),void f(!1)}console.log("\ud83d\udd04 Allocating trucks:",t),console.log("\ud83d\udd04 Client ID:",e);const r=await Vr.post("".concat(n,"/api/clients/").concat(e,"/allocate-trucks"),{truckIds:t});console.log("\u2705 Allocation response:",r.data),r.data.failedAllocations&&r.data.failedAllocations.length>0&&(console.warn("\u26a0\ufe0f Some allocations failed:",r.data.failedAllocations),v("Some trucks could not be allocated. ".concat(r.data.failedAllocations.map(e=>e.reason).join(", ")))),await F(),u([]),A(1);const a=r.data.successfulAllocations&&r.data.successfulAllocations.length?"".concat(r.data.successfulAllocations.length," trucks allocated successfully!"):"Trucks allocated successfully!";w(a),setTimeout(()=>w(""),3e3),f(!1)}catch(a){var t,r;console.error("\u274c Error allocating trucks:",a),v("Failed to allocate trucks. Please try again. "+((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||a.message)),f(!1)}else v("Please select a truck type and specify a valid quantity");else v("Please select at least one truck to allocate")},F=async()=>{const[t,r]=await Promise.all([Vr.get("".concat(n,"/api/clients/").concat(e,"/trucks")),Vr.get("".concat(n,"/api/trucks/available"))]);o(t.data),c(r.data);const a=[...t.data,...r.data],s=[...new Set(a.map(e=>e.truckType||e.TruckType))];S(s)},z=e=>e?e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "):"Unknown",O=(()=>{const e=(()=>{const e={};return i.forEach(t=>{const r=t.truckType||t.TruckType||"Unknown";e[r]=(e[r]||0)+1}),Object.entries(e).sort((e,t)=>e[0].localeCompare(t[0]))})(),t=i.length,r=i.map(e=>e.id||e.TruckID);return{totalAllocated:t,totalAvailable:l.filter(e=>{const t=e.id||e.TruckID;return!r.includes(t)}).length,allocatedByType:e}})(),B=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"available":return"bg-green-100 text-green-700 border-green-200";case"allocated":return"bg-blue-100 text-blue-700 border-blue-200";case"on-delivery":return"bg-orange-100 text-orange-700 border-orange-200";case"maintenance":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"active":return"bg-emerald-100 text-emerald-700 border-emerald-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return h&&!a?(0,$r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,$r.jsx)($n,{className:"animate-spin text-primary-600",size:40}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading truck allocation data..."})]})}):b&&!a?(0,$r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md text-center",children:[(0,$r.jsx)(cn,{className:"text-red-500 mx-auto mb-4",size:48}),(0,$r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load"}),(0,$r.jsx)("p",{className:"text-gray-500 mb-6",children:b}),(0,$r.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-2.5 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors font-medium",children:"Retry"})]})}):(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,$r.jsx)("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:(0,$r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h1",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,$r.jsx)(ha,{className:"text-primary-600",size:24}),"Truck Allocation"]}),(0,$r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Client: ",(0,$r.jsx)("span",{className:"font-semibold text-gray-800",children:(null===a||void 0===a?void 0:a.clientName)||(null===a||void 0===a?void 0:a.name)||"\u2014"})]})]}),(0,$r.jsxs)("button",{onClick:()=>r.push("/admin/clients/clientlist"),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 transition-all flex items-center gap-2",children:[(0,$r.jsx)(un,{size:16})," Back to Clients"]})]}),(0,$r.jsx)("p",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1",children:"\u2139\ufe0f Trucks can be shared across multiple clients. Booking restrictions apply by date."})]})}),(0,$r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6 space-y-6",children:[b&&(0,$r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700",children:[(0,$r.jsx)(cn,{size:20}),(0,$r.jsx)("span",{className:"text-sm font-medium flex-1",children:b}),(0,$r.jsx)("button",{onClick:()=>v(null),className:"text-red-400 hover:text-red-600",children:(0,$r.jsx)(ga,{size:18})})]}),y&&(0,$r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-xl text-green-700",children:[(0,$r.jsx)(Cn,{size:20}),(0,$r.jsx)("span",{className:"text-sm font-medium flex-1",children:y}),(0,$r.jsx)("button",{onClick:()=>w(""),className:"text-green-400 hover:text-green-600",children:(0,$r.jsx)(ga,{size:18})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,$r.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center",children:(0,$r.jsx)(ha,{size:22})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:O.totalAllocated}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"Allocated Trucks"})]})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-green-100 text-green-600 flex items-center justify-center",children:(0,$r.jsx)(jn,{size:22})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:O.totalAvailable}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"Available Trucks"})]})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center",children:(0,$r.jsx)(Un,{size:22})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:k.length}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"Truck Types"})]})]})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,$r.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,$r.jsx)("h2",{className:"text-base font-semibold text-gray-900",children:"Allocated Trucks"})}),0===i.length?(0,$r.jsxs)("div",{className:"p-12 text-center",children:[(0,$r.jsx)(ha,{className:"mx-auto text-gray-300 mb-3",size:48}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium",children:"No trucks allocated to this client yet."}),(0,$r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Use the section below to allocate trucks."})]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[(0,$r.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Summary by Type"}),(0,$r.jsx)("div",{className:"flex flex-wrap gap-2",children:O.allocatedByType.map(t=>{let[r,a]=t;return(0,$r.jsxs)("div",{className:"flex items-center gap-2 bg-white rounded-lg border border-gray-200 px-3 py-1.5",children:[(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:r}),(0,$r.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-bold",children:a}),(0,$r.jsx)("button",{onClick:()=>(async t=>{const r=i.filter(e=>(e.truckType||e.TruckType)===t);if(0!==r.length){if(window.confirm("Are you sure you want to deallocate all ".concat(r.length,' truck(s) of type "').concat(t,'"?')))try{x("type-".concat(t));const a=r.map(t=>Vr.delete("".concat(n,"/api/clients/").concat(e,"/trucks/").concat(t.id||t.TruckID)));await Promise.all(a),await F(),w("".concat(r.length,' truck(s) of type "').concat(t,'" deallocated successfully!')),setTimeout(()=>w(""),3e3),x(null)}catch(a){console.error("Error deallocating trucks:",a),v("Failed to deallocate trucks. Please try again."),x(null)}}else alert('No trucks of type "'.concat(t,'" are allocated to this client.'))})(r),disabled:g==="type-".concat(r),className:"text-red-400 hover:text-red-600 hover:bg-red-50 rounded p-0.5 transition-colors disabled:opacity-50",title:"Deallocate all ".concat(r),children:g==="type-".concat(r)?(0,$r.jsx)($n,{className:"animate-spin",size:14}):(0,$r.jsx)(da,{size:14})})]},r)})})]}),(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50 text-left",children:[(0,$r.jsx)("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Plate"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Type"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Capacity"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Action"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:i.map(t=>{const r=t.id||t.TruckID;return(0,$r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,$r.jsx)("td",{className:"px-6 py-3",children:(0,$r.jsx)("span",{className:"font-mono text-sm font-semibold text-gray-800",children:t.truckPlate||t.TruckPlate})}),(0,$r.jsx)("td",{className:"px-6 py-3 text-sm text-gray-600",children:t.truckType||t.TruckType}),(0,$r.jsxs)("td",{className:"px-6 py-3 text-sm text-gray-600",children:[t.truckCapacity||t.TruckCapacity," tons"]}),(0,$r.jsx)("td",{className:"px-6 py-3",children:(0,$r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat(B(t.truckStatus||t.TruckStatus)),children:z(t.truckStatus||t.TruckStatus)})}),(0,$r.jsx)("td",{className:"px-6 py-3 text-right",children:(0,$r.jsxs)("button",{onClick:()=>(async t=>{if(window.confirm("Are you sure you want to deallocate this truck?"))try{x(t),await Vr.delete("".concat(n,"/api/clients/").concat(e,"/trucks/").concat(t)),await F(),w("Truck deallocated successfully!"),setTimeout(()=>w(""),3e3),x(null)}catch(r){console.error("Error deallocating truck:",r),v("Failed to deallocate truck. Please try again."),x(null)}})(r),disabled:g===r,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors disabled:opacity-50",children:[g===r?(0,$r.jsx)($n,{className:"animate-spin",size:14}):(0,$r.jsx)(da,{size:14}),g===r?"Removing...":"Remove"]})})]},r)})})]})})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,$r.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,$r.jsxs)("h2",{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[(0,$r.jsx)(na,{size:18,className:"text-primary-600"})," Allocate New Trucks"]})}),(0,$r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,$r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer px-4 py-2 rounded-lg border text-sm font-medium transition-all ".concat("individual"===j?"bg-primary-50 border-primary-300 text-primary-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),children:[(0,$r.jsx)("input",{type:"radio",value:"individual",checked:"individual"===j,onChange:e=>N(e.target.value),className:"sr-only"}),(0,$r.jsx)(jn,{size:16})," Select Individual Trucks"]}),(0,$r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer px-4 py-2 rounded-lg border text-sm font-medium transition-all ".concat("byType"===j?"bg-primary-50 border-primary-300 text-primary-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),children:[(0,$r.jsx)("input",{type:"radio",value:"byType",checked:"byType"===j,onChange:e=>N(e.target.value),className:"sr-only"}),(0,$r.jsx)(Un,{size:16})," Allocate by Type"]})]}),"byType"===j&&(0,$r.jsxs)("div",{className:"flex flex-wrap items-end gap-4",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Truck Type"}),(0,$r.jsx)("select",{value:C,onChange:e=>_(e.target.value),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 min-w-[200px]",children:k.map(e=>(0,$r.jsxs)("option",{value:e,children:[e," (",M(e)," available)"]},e))})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,$r.jsx)("input",{type:"number",min:"1",max:M(C),value:P,onChange:e=>A(parseInt(e.target.value)||1),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 w-24"})]}),(0,$r.jsx)("button",{onClick:R,disabled:m||!C||P<=0,className:"px-5 py-2 bg-primary-600 text-white rounded-lg text-sm font-semibold hover:bg-primary-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:m?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)($n,{className:"animate-spin",size:16})," Allocating..."]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(na,{size:16})," Allocate ",P," Truck(s)"]})})]}),"individual"===j&&(0,$r.jsxs)("div",{className:"flex flex-wrap items-end gap-3",children:[(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,$r.jsxs)("select",{value:D,onChange:e=>T(e.target.value),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 min-w-[180px]",children:[(0,$r.jsx)("option",{value:"all",children:"All Status"}),(0,$r.jsx)("option",{value:"available",children:"Available"}),(0,$r.jsx)("option",{value:"active",children:"Active"}),(0,$r.jsx)("option",{value:"maintenance",children:"Maintenance"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Type"}),(0,$r.jsxs)("select",{value:L,onChange:e=>E(e.target.value),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 min-w-[160px]",children:[(0,$r.jsx)("option",{value:"all",children:"All Types"}),k.map(e=>(0,$r.jsx)("option",{value:e,children:e},e))]})]}),("all"!==D||"all"!==L)&&(0,$r.jsxs)("button",{onClick:()=>{T("all"),E("all")},className:"px-3 py-2 text-sm text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center gap-1.5 transition-colors",children:[(0,$r.jsx)(Bn,{size:16})," Clear"]}),(0,$r.jsx)("button",{onClick:R,disabled:m||0===d.length,className:"px-5 py-2 bg-primary-600 text-white rounded-lg text-sm font-semibold hover:bg-primary-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm ml-auto",children:m?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)($n,{className:"animate-spin",size:16})," Allocating..."]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(na,{size:16})," Allocate Selected (",d.length,")"]})})]})]}),"individual"===j&&(0,$r.jsx)($r.Fragment,{children:0===I.length?(0,$r.jsxs)("div",{className:"p-12 text-center",children:[(0,$r.jsx)(ha,{className:"mx-auto text-gray-300 mb-3",size:40}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium",children:"No available trucks matching filters."})]}):(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50 text-left",children:[(0,$r.jsx)("th",{className:"px-6 py-3 w-12",children:(0,$r.jsx)("input",{type:"checkbox",checked:d.length===I.length&&I.length>0,onChange:e=>{e.target.checked?u(I.map(e=>e.id||e.TruckID)):u([])},className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),(0,$r.jsx)("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Plate"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Type"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Capacity"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:I.map(e=>{const t=e.id||e.TruckID,r=d.includes(t);return(0,$r.jsxs)("tr",{onClick:()=>(e=>{u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(t),className:"cursor-pointer transition-colors ".concat(r?"bg-primary-50":"hover:bg-gray-50"),children:[(0,$r.jsx)("td",{className:"px-6 py-3",children:(0,$r.jsx)("input",{type:"checkbox",checked:r,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500 pointer-events-none"})}),(0,$r.jsx)("td",{className:"px-6 py-3",children:(0,$r.jsx)("span",{className:"font-mono text-sm font-semibold text-gray-800",children:e.truckPlate||e.TruckPlate})}),(0,$r.jsx)("td",{className:"px-6 py-3 text-sm text-gray-600",children:e.truckType||e.TruckType}),(0,$r.jsxs)("td",{className:"px-6 py-3 text-sm text-gray-600",children:[e.truckCapacity||e.TruckCapacity," tons"]}),(0,$r.jsx)("td",{className:"px-6 py-3",children:(0,$r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat(B(e.truckStatus||e.TruckStatus)),children:z(e.truckStatus||e.TruckStatus)})})]},t)})})]})})})]})]})]})},TE=e=>{var r;let{currentUser:n}=e;const[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)("all"),[m,f]=(0,t.useState)("all"),[g,x]=(0,t.useState)(null),[b,v]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)("table"),[k,S]=(0,t.useState)("StaffName"),[C,_]=(0,t.useState)("asc"),[P,A]=(0,t.useState)(1),D=20*P,T=D-20,L=(ce(),["all"!==h?h:null,"all"!==m?m:null].filter(Boolean).length);(0,t.useEffect)(()=>{(async()=>{try{o(!0),console.log("Fetching staff from API...");const e=Gr;console.log("API Base URL:",e);const t=await Vr.get("".concat(e,"/api/staffs"));console.log("API Response:",t),t.data&&Array.isArray(t.data)?(s(t.data),console.log("Staff loaded:",t.data.length)):(console.warn("API returned unexpected data format:",t.data),s([])),o(!1)}catch(t){var e;if(console.error("Error fetching staff:",t),t.response)c("Server error (".concat(t.response.status,"): ").concat((null===(e=t.response.data)||void 0===e?void 0:e.message)||"Unknown error"));else t.request?c("No response received from server. Please check your API connection."):c("Request error: ".concat(t.message));o(!1),s([])}})()},[]);const E=()=>{v(!1),x(null)},I=a.filter(e=>{var t,r,n,a,s,i;const o=!d||(null===(t=e.StaffName)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(r=e.StaffUserName)||void 0===r?void 0:r.toLowerCase().includes(d.toLowerCase()))||(null===(n=e.StaffNumber)||void 0===n?void 0:n.includes(d))||(null===(a=e.StaffDepartment)||void 0===a?void 0:a.toLowerCase().includes(d.toLowerCase())),l="all"===h||(null===(s=e.StaffStatus)||void 0===s?void 0:s.toLowerCase())===h.toLowerCase(),c="all"===m||(null===(i=e.StaffDepartment)||void 0===i?void 0:i.toLowerCase())===m.toLowerCase();return o&&l&&c}),M=Math.ceil(I.length/20),R=(new Set(a.map(e=>e.StaffStatus).filter(Boolean)),[...new Set(a.map(e=>e.StaffDepartment).filter(Boolean))]);(()=>{const e=a.length,t=a.filter(e=>{var t;return"active"===(null===(t=e.StaffStatus)||void 0===t?void 0:t.toLowerCase())}).length,r=a.filter(e=>{var t;return"inactive"===(null===(t=e.StaffStatus)||void 0===t?void 0:t.toLowerCase())}).length})();return(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,$r.jsx)(sf,{currentUser:null}),(0,$r.jsx)(jE,{activeTab:"staff"}),(0,$r.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,$r.jsxs)("div",{className:"mb-8",children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),(0,$r.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage staff members, departments, and administrative roles"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(ma,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(hn,{size:12}),"+1.9%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:a.length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Total Staff"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(jn,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(hn,{size:12}),"+1.2%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:a.filter(e=>"active"===e.status).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Active"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-gray-50 text-gray-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(An,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(on,{size:12}),"0.0%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:a.filter(e=>"inactive"===e.status).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Inactive"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-purple-50 text-purple-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(On,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(hn,{size:12}),"+0.5%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:a.filter(e=>"admin"===e.role).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Administrators"})]})]})]})]}),l&&(0,$r.jsxs)("div",{className:"error-message",children:[l,(0,$r.jsx)("div",{style:{marginTop:"10px",fontSize:"12px"},children:(0,$r.jsx)("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})})]}),(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between mb-6",children:[(0,$r.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,$r.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:(0,$r.jsx)(ia,{size:20})}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by name, department...",value:d,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(y?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>w(!y),children:[(0,$r.jsx)(Un,{size:18}),"Filters",L>0&&(0,$r.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:L})]}),(0,$r.jsxs)("div",{className:"flex items-center bg-gray-100 p-1 rounded-lg border border-gray-200",children:[(0,$r.jsx)("button",{onClick:()=>N("table"),className:"p-2 rounded-md transition-all ".concat("table"===j?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Table View",children:(0,$r.jsx)(Yn,{size:18})}),(0,$r.jsx)("button",{onClick:()=>N("cards"),className:"p-2 rounded-md transition-all ".concat("cards"===j?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Card View",children:(0,$r.jsx)(Gn,{size:18})})]})]})]}),i?(0,$r.jsxs)("div",{className:"modern-loading",children:[(0,$r.jsx)("div",{className:"loading-spinner"}),"Loading staff data..."]}):(0,$r.jsx)($r.Fragment,{children:0===I.length?(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,$r.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-400",children:(0,$r.jsx)(ma,{size:40})}),(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No staff found"}),(0,$r.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:d||"all"!==h||"all"!==m?"No staff members match your current filters. Try adjusting your search criteria.":"No staff records found. Add your first staff member to get started."}),(0,$r.jsxs)(be,{to:"/admin/staffs/add",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-all shadow-sm shadow-blue-200",children:[(0,$r.jsx)(na,{size:20}),"Add New Staff"]})]}):(0,$r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden mb-6",children:[(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider w-20",children:"ID"}),(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Staff Member"}),(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Department"}),(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,$r.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:(()=>{let e=[...I];e.sort((e,t)=>{let r=e[k],n=t[k];return r<n?"asc"===C?-1:1:r>n?"asc"===C?1:-1:0});const t=20*(P-1),r=t+20;return e.slice(t,r)})().map(e=>{var t;return(0,$r.jsxs)("tr",{className:"hover:bg-gray-50/80 transition-colors group",children:[(0,$r.jsxs)("td",{className:"py-4 px-6 text-sm text-gray-500 font-mono",children:["#",e.StaffID]}),(0,$r.jsx)("td",{className:"py-4 px-6",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-9 h-9 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center text-sm font-bold",children:(null===(t=e.StaffName)||void 0===t?void 0:t.charAt(0))||"S"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"font-semibold text-gray-900",children:e.StaffName}),(0,$r.jsxs)("div",{className:"text-xs text-gray-400",children:["@",e.StaffUserName]})]})]})}),(0,$r.jsx)("td",{className:"py-4 px-6",children:(0,$r.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-gray-100 text-gray-600 text-xs font-medium border border-gray-200",children:[(0,$r.jsx)(fn,{size:14,className:"text-gray-400"}),e.StaffDepartment||"Unassigned"]})}),(0,$r.jsx)("td",{className:"py-4 px-6",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-1",children:[e.StaffNumber&&(0,$r.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[(0,$r.jsx)(ra,{size:14,className:"text-gray-400"}),e.StaffNumber]}),e.email&&(0,$r.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[(0,$r.jsx)(Qn,{size:14,className:"text-gray-400"}),e.email]})]})}),(0,$r.jsx)("td",{className:"py-4 px-6",children:(0,$r.jsx)(cf,{status:e.StaffStatus||"Active"})}),(0,$r.jsx)("td",{className:"py-4 px-6 text-right",children:(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,$r.jsx)("button",{onClick:()=>(x(e),void v(!0)),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,$r.jsx)(Mn,{size:18})}),(0,$r.jsx)(be,{to:"/admin/staffs/edit/".concat(e.StaffID),className:"p-1.5 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Edit Staff",children:(0,$r.jsx)(In,{size:18})})]})})]},e._id||e.id)})})]})}),M>1&&(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50/50",children:[(0,$r.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing"," ",(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:T+1})," ","to"," ",(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:Math.min(D,I.length)})," ","of"," ",(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:I.length})," ","entries"]}),(0,$r.jsxs)("div",{className:"flex gap-2",children:[(0,$r.jsx)("button",{onClick:()=>handlePageChange(P-1),disabled:1===P,className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:bg-white hover:text-blue-600 hover:border-blue-200 disabled:opacity-50 disabled:hover:bg-transparent disabled:hover:text-gray-600 transition-all",children:"Previous"}),(0,$r.jsx)("div",{className:"flex gap-1",children:[...Array(M)].map((e,t)=>(0,$r.jsx)("button",{onClick:()=>handlePageChange(t+1),className:"w-8 h-8 rounded-lg text-sm font-medium transition-all ".concat(P===t+1?"bg-blue-600 text-white shadow-sm shadow-blue-200":"text-gray-600 hover:bg-white hover:text-blue-600 border border-transparent hover:border-gray-200"),children:t+1},t+1))}),(0,$r.jsx)("button",{onClick:()=>handlePageChange(P+1),disabled:P===M,className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:bg-white hover:text-blue-600 hover:border-blue-200 disabled:opacity-50 disabled:hover:bg-transparent disabled:hover:text-gray-600 transition-all",children:"Next"})]})]})]})}),b&&g&&(0,$r.jsx)("div",{className:"modal-overlay",onClick:E,children:(0,$r.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"modal-header",children:[(0,$r.jsxs)("h2",{children:["\ud83d\udc68\u200d\ud83d\udcbc ",g.StaffName," Details"]}),(0,$r.jsx)("button",{className:"modal-close-btn",onClick:E,children:"\u2715"})]}),(0,$r.jsx)("div",{className:"modal-body",children:(0,$r.jsxs)("div",{className:"details-grid",children:[(0,$r.jsxs)("div",{className:"details-section",children:[(0,$r.jsx)("h3",{children:"\ud83d\udccb Basic Information"}),(0,$r.jsxs)("div",{className:"details-items",children:[(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"Staff ID:"}),(0,$r.jsx)("span",{className:"detail-value",children:g.StaffID})]}),(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"Full Name:"}),(0,$r.jsx)("span",{className:"detail-value",children:g.StaffName})]}),(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"Username:"}),(0,$r.jsxs)("span",{className:"detail-value",children:["@",g.StaffUserName]})]}),(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"Phone Number:"}),(0,$r.jsx)("span",{className:"detail-value",children:g.StaffNumber||"Not provided"})]}),(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"Address:"}),(0,$r.jsx)("span",{className:"detail-value",children:g.StaffAddress||"Not provided"})]})]})]}),(0,$r.jsxs)("div",{className:"details-section",children:[(0,$r.jsx)("h3",{children:"\ud83d\udcbc Employment Information"}),(0,$r.jsxs)("div",{className:"details-items",children:[(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"Department:"}),(0,$r.jsx)("span",{className:"detail-value",children:g.StaffDepartment||"Not assigned"})]}),(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"Employment Date:"}),(0,$r.jsx)("span",{className:"detail-value",children:g.StaffEmploymentDate?new Date(g.StaffEmploymentDate).toLocaleDateString():"Unknown"})]}),(0,$r.jsxs)("div",{className:"detail-item",children:[(0,$r.jsx)("span",{className:"detail-label",children:"Status:"}),(0,$r.jsx)("span",{className:"detail-badge status-".concat((null===(r=g.StaffStatus)||void 0===r?void 0:r.toLowerCase())||"unknown"),children:(F=g.StaffStatus,F?F.charAt(0).toUpperCase()+F.slice(1):"Unknown")})]})]})]})]})}),(0,$r.jsxs)("div",{className:"modal-footer",children:[(0,$r.jsx)(be,{to:"/admin/staffs/edit/".concat(g.StaffID),className:"modern-btn modern-btn-primary",children:"\u270e Edit Staff"}),(0,$r.jsx)("button",{className:"modern-btn modern-btn-secondary",onClick:E,children:"Close"})]})]})})]})]});var F},LE=()=>{const{id:e}=ue(),r=ce(),n=Boolean(e),a=Gr,[s,i]=(0,t.useState)({StaffName:"",StaffAddress:"",StaffNumber:"",StaffDepartment:"",StaffEmploymentDate:"",StaffDocuments:"",StaffUserName:"",StaffPassword:"",StaffStatus:"active"}),[o,l]=(0,t.useState)(n),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[p,m]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{if(n)try{l(!0),console.log("Fetching staff member with ID: ".concat(e)),console.log("API Base URL:",a);const t=await Vr.get("".concat(a,"/api/staffs/").concat(e));console.log("API Response:",t);const r=t.data;r.StaffEmploymentDate&&(r.StaffEmploymentDate=new Date(r.StaffEmploymentDate).toISOString().split("T")[0]),i(r)}catch(t){console.error("Error fetching staff member:",t),t.response?h("Server error (".concat(t.response.status,"): ").concat(t.response.data.sqlMessage||t.response.data.message)):t.request?h("No response received from server. Please check your API connection."):h("Request error: ".concat(t.message))}finally{l(!1)}})()},[e,n,a]);const f=e=>{const{name:t,value:r}=e.target;i(e=>Ne(Ne({},e),{},{[t]:r}))},g=(e,t,r)=>(0,$r.jsxs)("div",{className:"flex items-start gap-3 mb-6 border-b border-gray-100 pb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary-50 text-primary-600 flex items-center justify-center flex-shrink-0",children:e}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:t}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:r})]})]});return o?(0,$r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,$r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-fade-in",children:[(0,$r.jsxs)("div",{className:"mb-8",children:[(0,$r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,$r.jsx)(fa,{className:"text-primary-600",size:32}),n?"Edit Staff Member":"Add New Staff Member"]}),(0,$r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n?"Update staff member information and credentials":"Register a new staff member with department details"})]}),u&&(0,$r.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[(0,$r.jsx)(cn,{className:"text-red-500 mt-0.5",size:20}),(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,$r.jsx)("p",{className:"text-sm text-red-700 mt-1",children:u}),(0,$r.jsxs)("div",{className:"mt-3 flex gap-3",children:[(0,$r.jsx)("button",{onClick:()=>h(null),className:"text-xs font-medium text-red-600 hover:text-red-800",children:"Dismiss"}),(0,$r.jsx)("button",{onClick:()=>window.location.reload(),className:"text-xs font-medium text-red-600 hover:text-red-800",children:"Refresh Page"})]})]})]}),p&&(0,$r.jsxs)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[(0,$r.jsx)(jn,{className:"text-green-500",size:20}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Success"}),(0,$r.jsx)("p",{className:"text-sm text-green-700",children:p})]})]}),(0,$r.jsx)("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-100",children:(0,$r.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{d(!0),console.log("Form submission:",n?"UPDATE":"CREATE",s);const t=n?"".concat(a,"/api/staffs/").concat(e):"".concat(a,"/api/staffs"),o=n?"put":"post",l=await Vr[o](t,s);console.log(n?"Update response:":"Create response:",l),m(n?"Staff member updated successfully!":"Staff member added successfully!"),h(null),n||i({StaffName:"",StaffAddress:"",StaffNumber:"",StaffDepartment:"",StaffEmploymentDate:"",StaffDocuments:"",StaffUserName:"",StaffPassword:"",StaffStatus:"active"}),setTimeout(()=>{r.push("/admin/staffs")},1500)}catch(o){console.error("Error saving staff member:",o),o.response?h("Server error (".concat(o.response.status,"): ").concat(o.response.data.sqlMessage||o.response.data.message)):o.request?h("No response received from server. Please check your API connection."):h("Request error: ".concat(o.message))}finally{d(!1)}},className:"p-8",children:[(0,$r.jsxs)("section",{className:"mb-10",children:[g((0,$r.jsx)(ma,{size:24}),"Basic Information","Enter the staff member's personal and contact information"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"StaffName",value:s.StaffName,onChange:f,required:!0,maxLength:"100",placeholder:"e.g. John Doe",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the staff member's complete legal name"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"StaffNumber",value:s.StaffNumber,onChange:f,required:!0,maxLength:"20",placeholder:"e.g. +63 912 345 6789",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Primary contact number for the staff member"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(Zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"StaffAddress",value:s.StaffAddress,onChange:f,required:!0,maxLength:"255",placeholder:"e.g. 123 Main St, Barangay Sample, City, Province",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Complete residential address"})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[g((0,$r.jsx)(fn,{size:24}),"Employment Information","Department assignment and employment details"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Department ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"StaffDepartment",value:s.StaffDepartment,onChange:f,required:!0,maxLength:"50",placeholder:"e.g. Operations, Admin, HR",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Department or division assignment"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Employment Date ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"date",name:"StaffEmploymentDate",value:s.StaffEmploymentDate,onChange:f,required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Date when the staff member was hired"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Employment Status ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{name:"StaffStatus",value:s.StaffStatus,onChange:f,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",children:[(0,$r.jsx)("option",{value:"active",children:"Active"}),(0,$r.jsx)("option",{value:"inactive",children:"Inactive"}),(0,$r.jsx)("option",{value:"suspended",children:"Suspended"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Current employment status"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Documents Notes (Optional)"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(On,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"StaffDocuments",value:s.StaffDocuments||"",onChange:f,maxLength:"255",placeholder:"Additional document notes",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Optional notes about staff documents"})]})]}),(0,$r.jsxs)("section",{className:"mb-8",children:[g((0,$r.jsx)(Jn,{size:24}),"Account Credentials","Login credentials for the staff portal"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Username ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"StaffUserName",value:s.StaffUserName,onChange:f,required:!0,maxLength:"50",placeholder:"e.g. jdoe",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Unique username for system login"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",!n&&(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",Ne(Ne({type:"password",name:"StaffPassword",value:s.StaffPassword||"",onChange:f},!n&&{required:!0}),{},{maxLength:"255",placeholder:n?"Leave blank to keep current password":"Minimum 6 characters",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"}))]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:n?"Leave blank to keep current password":"Secure password for staff portal access"})]})]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-gray-100",children:[(0,$r.jsxs)("button",{type:"button",onClick:()=>r.push("/admin/staffs/stafflist"),className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-all flex items-center gap-2",children:[(0,$r.jsx)(un,{size:18})," Cancel"]}),(0,$r.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 rounded-xl shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transition-all flex items-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:c?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})," Saving..."]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(Ln,{size:18})," ",n?"Update Staff Member":"Save Staff Member"]})})]})]})})]})},EE=e=>{var r,n,a,s,i;let{currentUser:o}=e;const l=Gr,{isWithinTimeframe:c,getFormattedDateRange:d}=La(),[u,h]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(!0),[x,b]=(0,t.useState)(null),[v,y]=(0,t.useState)("all"),[w,j]=(0,t.useState)(""),[N,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(!1),[_,P]=(0,t.useState)("table"),[A,D]=(0,t.useState)("name"),[T,L]=(0,t.useState)("asc"),[E,I]=(0,t.useState)(1),[M,R]=(0,t.useState)(!1),F=["all"!==v?v:null].filter(Boolean).length,z=e=>{k(e),C(!0)},O=()=>{C(!1),k(null)},B=e=>{A===e?L("asc"===T?"desc":"asc"):(D(e),L("asc"))},U=Math.ceil(p.length/20);(0,t.useEffect)(()=>{(async()=>{try{g(!0);const e=await Vr.get("".concat(l,"/api/simple-files/helpers-with-documents"));console.log("Raw API response (helpers with actual documents):",e.data);const t=Array.isArray(e.data)?e.data:e.data.helpers;if(t&&t.length>0){const e=t.map(e=>(console.log("Processing helper data:",e),console.log("\ud83d\udcca Document Compliance:",e.documentCompliance),console.log("\ud83d\udcc1 Documents:",e.documents),{id:e.id||e.HelperID,name:e.name||e.HelperName,contactNumber:e.contactNumber||e.HelperNumber,address:e.address||e.HelperAddress,status:e.status||e.HelperStatus||"Active",employmentDate:e.employmentDate||e.HelperEmploymentDate,licenseType:e.licenseType||"Class C",licenseNumber:e.licenseNumber||"",licenseExpiryDate:e.licenseExpiryDate||"",documents:e.documents||{},documentCompliance:(()=>{const t=e.documents||{},r=["validId","barangayClearance"].filter(e=>t[e]).length,n=["medicalCertificate","helperLicense"].filter(e=>t[e]).length;let a="pending";return 2===r?a="complete":r>0&&(a="incomplete"),{documentCount:r+n,requiredDocumentCount:r,optionalDocumentCount:n,overallStatus:a}})()}));h(e)}else console.log("No helpers data received, setting empty array"),h([])}catch(e){console.error("Error fetching helpers:",e),b("Failed to fetch helpers: ".concat(e.message)),h([])}finally{g(!1)}})()},[l]);u.length,u.filter(e=>"Active"===e.status).length,u.filter(e=>"Inactive"===e.status).length,u.filter(e=>"On Leave"===e.status).length,u.filter(e=>"Terminated"===e.status).length;(0,t.useEffect)(()=>{let e=[...u];if(c&&(e=e.filter(e=>!e.employmentDate||c(e.employmentDate))),"all"!==v&&(e=e.filter(e=>{var t;return(null===(t=e.status)||void 0===t?void 0:t.toLowerCase().replace(/[\s-]/g,""))===v.toLowerCase().replace(/[\s-]/g,"")})),w.trim()){const t=w.toLowerCase().trim();e=e.filter(e=>{var r,n,a,s;return(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(n=e.contactNumber)||void 0===n?void 0:n.includes(t))||(null===(a=e.licenseType)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(s=e.address)||void 0===s?void 0:s.toLowerCase().includes(t))})}m(e)},[u,v,w,c]);const q=e=>{if(!e.documentCompliance)return"bg-gray-50 border-gray-200 text-gray-700";const t=e.documentCompliance.overallStatus;return"complete"===t?"bg-emerald-50 border-emerald-200 text-emerald-700":"incomplete"===t?"bg-amber-50 border-amber-200 text-amber-700":"bg-gray-50 border-gray-200 text-gray-700"},W=e=>{if(!e.documentCompliance)return(0,$r.jsx)(ln,{className:"text-gray-400",size:16});const t=e.documentCompliance.overallStatus;return"complete"===t?(0,$r.jsx)(jn,{className:"text-emerald-600",size:16}):"incomplete"===t?(0,$r.jsx)(ln,{className:"text-amber-600",size:16}):(0,$r.jsx)(ln,{className:"text-gray-400",size:16})},H=e=>{if(!e.documentCompliance)return"Compliance Pending";const t=e.documentCompliance.overallStatus;return"complete"===t?"Compliance Complete":"incomplete"===t?"Compliance Incomplete":"Compliance Pending"},V=e=>{if(!e.documentCompliance)return"No compliance data";const{requiredDocumentCount:t=0,optionalDocumentCount:r=0,overallStatus:n="pending"}=e.documentCompliance;return"".concat(t," required, ").concat(r," optional - ").concat(n)};return f?(0,$r.jsx)("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,$r.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading helpers..."})]})}):(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,$r.jsx)(sf,{currentUser:o}),(0,$r.jsx)(jE,{activeTab:"helpers"}),(0,$r.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,$r.jsxs)("div",{className:"mb-8",children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Helpers Management"}),(0,$r.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage helpers, assistant drivers, and support personnel"}),(0,$r.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 shadow-sm",children:[(0,$r.jsx)(vn,{size:16,className:"text-gray-400"}),(0,$r.jsxs)("span",{children:["Showing data for:"," ",(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:d()})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(ma,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(hn,{size:12}),"+2.5%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Total Helpers"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(jn,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(hn,{size:12}),"+1.8%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.filter(e=>{var t;return"active"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Active"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-indigo-50 text-indigo-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(ha,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(on,{size:12}),"0.0%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.filter(e=>{var t;return"ondelivery"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase().replace(/[\s-]/g,""))}).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"On Delivery"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-red-50 text-red-600 rounded-xl flex items-center justify-center",children:(0,$r.jsx)(On,{size:22})}),(0,$r.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-red-600 bg-red-50 px-2 py-1 rounded-lg",children:[(0,$r.jsx)(dn,{size:12}),"-0.3%"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.filter(e=>e.licenseExpiryDate&&new Date(e.licenseExpiryDate)<new Date).length}),(0,$r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Expired Licenses"})]})]})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between mb-6",children:[(0,$r.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,$r.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:(0,$r.jsx)(ia,{size:20})}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by name, contact, license...",value:w,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,$r.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(M?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>R(!M),children:[(0,$r.jsx)(Un,{size:18}),"Filters",F>0&&(0,$r.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:F})]}),(0,$r.jsxs)("div",{className:"flex items-center bg-gray-100 p-1 rounded-lg border border-gray-200",children:[(0,$r.jsx)("button",{onClick:()=>P("table"),className:"p-2 rounded-md transition-all ".concat("table"===_?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Table View",children:(0,$r.jsx)(Yn,{size:18})}),(0,$r.jsx)("button",{onClick:()=>P("cards"),className:"p-2 rounded-md transition-all ".concat("cards"===_?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Card View",children:(0,$r.jsx)(Gn,{size:18})})]})]})]}),(0,$r.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium mb-6",children:["Showing ",p.length," of ",u.length," helpers"]}),(0,$r.jsx)("div",{className:"relative mb-6",children:M&&(0,$r.jsxs)("div",{className:"absolute top-0 right-0 md:left-0 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-80 max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$r.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,$r.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>R(!1),children:(0,$r.jsx)(ga,{size:20})})]}),(0,$r.jsx)("div",{className:"space-y-4 mb-6",children:(0,$r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,$r.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,$r.jsxs)("select",{value:v,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,$r.jsx)("option",{value:"all",children:"All Status"}),(0,$r.jsx)("option",{value:"Active",children:"Active"}),(0,$r.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,$r.jsx)("option",{value:"On Leave",children:"On Leave"}),(0,$r.jsx)("option",{value:"On Delivery",children:"On Delivery"}),(0,$r.jsx)("option",{value:"Terminated",children:"Terminated"})]})]})}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,$r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{y("all"),j("")},children:[(0,$r.jsx)(Bn,{size:16})," Reset"]}),(0,$r.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>R(!1),children:"Apply Filters"})]})]})}),0===p.length?(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,$r.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-400",children:(0,$r.jsx)(ma,{size:40})}),(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No helpers found"}),(0,$r.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:"No helpers match your current filters. Try adjusting your search criteria or add a new helper."}),(0,$r.jsxs)(be,{to:"/admin/helpers/add",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl shadow-sm shadow-blue-200 transition-colors",children:[(0,$r.jsx)(na,{size:20})," Add Your First Helper"]})]}):"table"===_?(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,$r.jsx)("th",{onClick:()=>B("name"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Helper Name"," ","name"===A&&("asc"===T?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]})}),(0,$r.jsx)("th",{onClick:()=>B("contactNumber"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Contact"," ","contactNumber"===A&&("asc"===T?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]})}),(0,$r.jsx)("th",{onClick:()=>B("licenseType"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["License Type"," ","licenseType"===A&&("asc"===T?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]})}),(0,$r.jsx)("th",{onClick:()=>B("licenseNumber"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["License #"," ","licenseNumber"===A&&("asc"===T?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]})}),(0,$r.jsx)("th",{onClick:()=>B("status"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-center gap-1",children:["Status"," ","status"===A&&("asc"===T?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]})}),(0,$r.jsxs)("th",{onClick:()=>B("documentCompliance"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Compliance"," ","documentCompliance"===A&&("asc"===T?(0,$r.jsx)(hn,{size:14}):(0,$r.jsx)(dn,{size:14}))]}),(0,$r.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:(()=>{let e=[...p];e.sort((e,t)=>{let r=e[A],n=t[A];var a,s;"documentCompliance"===A&&(r=(null===(a=e.documentCompliance)||void 0===a?void 0:a.requiredDocumentCount)||0,n=(null===(s=t.documentCompliance)||void 0===s?void 0:s.requiredDocumentCount)||0);return r<n?"asc"===T?-1:1:r>n?"asc"===T?1:-1:0});const t=20*(E-1),r=t+20;return e.slice(t,r)})().map(e=>{var t,r;return(0,$r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-9 h-9 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center font-bold text-sm shrink-0",children:(null===(t=e.name)||void 0===t?void 0:t.charAt(0))||"H"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,$r.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.id]})]})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.contactNumber||"N/A"}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsx)("span",{className:"px-2.5 py-0.5 rounded-lg bg-gray-100 text-gray-700 text-xs font-semibold border border-gray-200",children:e.licenseType||"N/A"})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-gray-600",children:e.licenseNumber||"N/A"}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsx)(cf,{status:e.status||"Active"})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$r.jsx)("span",{className:"text-lg",children:W(e)}),(0,$r.jsx)("div",{className:"flex flex-col",children:(0,$r.jsxs)("span",{className:"text-xs font-medium text-gray-900",children:[(null===(r=e.documentCompliance)||void 0===r?void 0:r.requiredDocumentCount)||0,"/2"]})})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,$r.jsx)("button",{onClick:()=>z(e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,$r.jsx)(Mn,{size:18})}),(0,$r.jsx)(be,{to:"/admin/helpers/edit/".concat(e.id),className:"p-1.5 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit Helper",children:(0,$r.jsx)(In,{size:18})})]})})]},e.id)})})]})}),U>1&&(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50",children:[(0,$r.jsx)("button",{onClick:()=>I(e=>Math.max(1,e-1)),disabled:1===E,className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium shadow-sm",children:"\u2190 Previous"}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:["Page ",E," of ",U," (",p.length," ","helpers)"]}),(0,$r.jsx)("button",{onClick:()=>I(e=>Math.min(U,e+1)),disabled:E===U,className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium shadow-sm",children:"Next \u2192"})]})]}):(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:p.map(e=>{var t;return(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow group",children:[(0,$r.jsxs)("div",{className:"p-5 border-b border-gray-50 flex justify-between items-start gap-3",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,$r.jsx)(ma,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"font-bold text-gray-900",children:e.name}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 font-medium bg-gray-100 px-2 py-0.5 rounded mt-1 inline-block capitalize",children:e.licenseType||"No License"})]})]}),(0,$r.jsx)("div",{className:"flex flex-col items-end gap-1",children:(0,$r.jsx)(cf,{status:e.status||"Active"})})]}),(0,$r.jsxs)("div",{className:"p-5 space-y-4",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"Contact"}),(0,$r.jsx)("span",{className:"font-medium text-gray-900 truncate block text-sm",title:e.contactNumber,children:e.contactNumber||"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"License #"}),(0,$r.jsx)("span",{className:"font-mono text-xs font-semibold text-gray-700 bg-gray-50 px-2 py-1 rounded border border-gray-200 block w-fit",children:e.licenseNumber||"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"Expiry"}),(0,$r.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.licenseExpiryDate?new Date(e.licenseExpiryDate).toLocaleDateString():"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"Hired"}),(0,$r.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.employmentDate?new Date(e.employmentDate).toLocaleDateString():"N/A"})]})]}),(0,$r.jsx)("div",{className:"p-3 rounded-xl border ".concat(q(e)),children:(0,$r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,$r.jsx)("div",{className:"mt-0.5 shrink-0",children:W(e)}),(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("div",{className:"text-sm font-bold opacity-90 mb-0.5",children:H(e)}),(0,$r.jsx)("div",{className:"text-xs opacity-75",children:V(e)}),(0,$r.jsxs)("div",{className:"mt-2 text-xs flex items-center justify-between border-t border-black/5 pt-2",children:[(0,$r.jsxs)("span",{className:"font-medium flex items-center gap-1 opacity-80",children:[(0,$r.jsx)(On,{size:12}),Object.keys(e.documents||{}).length," files"]}),(0,$r.jsxs)("span",{className:"font-medium opacity-80",children:[(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,"/2 required"]})]})]})]})})]}),(0,$r.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-100 grid grid-cols-2 gap-3",children:[e.id?(0,$r.jsxs)(be,{to:"/admin/helpers/edit/".concat(e.id),className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all text-sm font-medium shadow-sm",children:[(0,$r.jsx)(In,{size:16}),"Edit"]}):(0,$r.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 border border-gray-200 text-gray-400 rounded-lg cursor-not-allowed text-sm font-medium shadow-sm",disabled:!0,title:"Helper ID missing",children:[(0,$r.jsx)(In,{size:16}),"Edit"]}),(0,$r.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all text-sm font-medium shadow-sm shadow-blue-200",onClick:()=>z(e),children:[(0,$r.jsx)(Mn,{size:16}),"Details"]})]})]},e.id)})}),S&&N&&(0,$r.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:O,children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center",children:(0,$r.jsx)(ma,{size:20})}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:[N.name," Details"]}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:"View complete helper information and documents"})]})]}),(0,$r.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:O,children:(0,$r.jsx)(ga,{size:24})})]}),(0,$r.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,$r.jsxs)("div",{className:"space-y-8",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udc64 Personal Information"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Full Name"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.name})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Contact Number"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.contactNumber||"N/A"})]}),(0,$r.jsxs)("div",{className:"sm:col-span-2",children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Address"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.address||"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Current Status"}),(0,$r.jsx)(cf,{status:N.status||"Active"})]})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcbc Employment Information"}),(0,$r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Employment Date"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.employmentDate?new Date(N.employmentDate).toLocaleDateString():"N/A"})]})})]})]}),(0,$r.jsxs)("div",{className:"space-y-8",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcdc License Information"}),(0,$r.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"License Type"}),(0,$r.jsx)("span",{className:"text-sm font-bold text-gray-900",children:N.licenseType||"N/A"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"License Number"}),(0,$r.jsx)("span",{className:"text-sm font-mono font-bold text-gray-700 bg-white px-2 py-1 rounded border border-gray-200 inline-block",children:N.licenseNumber||"N/A"})]}),(0,$r.jsxs)("div",{className:"sm:col-span-2",children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Expiry Date"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.licenseExpiryDate?new Date(N.licenseExpiryDate).toLocaleDateString():"N/A"})]})]})})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcc4 Compliance Status"}),(0,$r.jsx)("div",{className:"p-4 rounded-xl border mb-6 ".concat(q(N)),children:(0,$r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,$r.jsx)("div",{className:"mt-0.5",children:W(N)}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"font-bold text-sm mb-1",children:H(N)}),(0,$r.jsx)("div",{className:"text-xs opacity-80",children:V(N)})]})]})}),(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-700",children:"Valid ID"}),null!==(r=N.documents)&&void 0!==r&&r.validId?(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,$r.jsx)(jn,{size:12})," Complete"]}):(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-red-600 bg-red-50 px-2.5 py-1 rounded-full border border-red-100",children:[(0,$r.jsx)(ga,{size:12})," Missing"]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-700",children:"Barangay Clearance"}),null!==(n=N.documents)&&void 0!==n&&n.barangayClearance?(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,$r.jsx)(jn,{size:12})," Complete"]}):(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-red-600 bg-red-50 px-2.5 py-1 rounded-full border border-red-100",children:[(0,$r.jsx)(ga,{size:12})," Missing"]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-700",children:"Medical Certificate"}),null!==(a=N.documents)&&void 0!==a&&a.medicalCertificate?(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,$r.jsx)(jn,{size:12})," Complete"]}):(0,$r.jsx)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-500 bg-gray-100 px-2.5 py-1 rounded-full border border-gray-200",children:"Optional"})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-700",children:"Helper License"}),null!==(s=N.documents)&&void 0!==s&&s.helperLicense?(0,$r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,$r.jsx)(jn,{size:12})," Complete"]}):(0,$r.jsx)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-500 bg-gray-100 px-2.5 py-1 rounded-full border border-gray-200",children:"Optional"})]})]})]})]})]}),(0,$r.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[(0,$r.jsxs)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 flex items-center justify-between",children:[(0,$r.jsx)("span",{children:"\ud83d\udcc1 Uploaded Documents"}),(0,$r.jsxs)("span",{className:"text-xs font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:[(null===(i=N.documentCompliance)||void 0===i?void 0:i.documentCount)||0," ","files uploaded"]})]}),N.documents&&Object.keys(N.documents).length>0?(0,$r.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,$r.jsx)(bE,{documents:N.documents,entityType:"helper",entityName:N.name})}):(0,$r.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-dashed border-gray-200 text-gray-400",children:[(0,$r.jsx)(On,{size:32,className:"mx-auto mb-2 opacity-50"}),(0,$r.jsx)("p",{className:"mb-4",children:"No documents have been uploaded for this helper yet."}),(0,$r.jsxs)(be,{to:"/admin/helpers/edit/".concat(N.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:[(0,$r.jsx)(In,{size:16})," Upload Documents"]})]})]})]}),(0,$r.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3 rounded-b-2xl",children:[(0,$r.jsxs)(be,{to:"/admin/helpers/edit/".concat(N.id),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl shadow-sm shadow-blue-200 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,$r.jsx)(In,{size:16})," Edit Helper"]}),(0,$r.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors text-sm font-medium shadow-sm",onClick:O,children:"Close"})]})]})})]})]})},IE=()=>{const{id:e}=ue(),r=ce(),n=Boolean(e),a=Gr,[s,i]=(0,t.useState)({name:"",contactNumber:"",address:"",dateHired:"",status:"Active",HelperDocuments:"",HelperUserName:"",HelperPassword:"",licenseType:"Class C",licenseNumber:"",licenseRegistrationDate:"",licenseExpiryDate:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:""}),[o,l]=(0,t.useState)(n),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[p,m]=(0,t.useState)(""),[f,g]=(0,t.useState)({validId:null,barangayClearance:null,medicalCertificate:null,helperLicense:null}),[x,b]=(0,t.useState)({}),[v,y]=(0,t.useState)({}),[w,j]=(0,t.useState)({}),[N,k]=(0,t.useState)(!1),[S,C]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{if(n)try{l(!0),console.log("Fetching helper with ID: ".concat(e)),console.log("API Base URL:",a);const t=await Vr.get("".concat(a,"/api/admin/helpers/").concat(e));console.log("API Response:",t);const r=t.data,n=e=>{if(!e)return"";try{if(void 0!==e._seconds)return new Date(1e3*e._seconds).toISOString().split("T")[0];const t=new Date(e);return isNaN(t.getTime())?"":t.toISOString().split("T")[0]}catch(u){return""}};i({name:r.name||r.HelperName||"",contactNumber:r.contactNumber||r.HelperNumber||"",address:r.address||r.HelperAddress||"",dateHired:n(r.dateHired||r.HelperEmploymentDate),status:r.status||r.HelperStatus||"Active",HelperDocuments:r.HelperDocuments||"",HelperUserName:r.HelperUserName||"",HelperPassword:"",licenseType:r.licenseType||"Class C",licenseNumber:r.licenseNumber||"",licenseRegistrationDate:n(r.licenseRegistrationDate),licenseExpiryDate:n(r.licenseExpiryDate),emergencyContactName:r.emergencyContactName||r.emergencyContact||"",emergencyContactPhone:r.emergencyContactPhone||r.emergencyContactNumber||"",emergencyContactRelationship:r.emergencyContactRelationship||""}),r.documents&&(y(r.documents),j(r.documents))}catch(t){console.error("Error fetching helper:",t),t.response?h("Server error (".concat(t.response.status,"): ").concat(t.response.data.sqlMessage||t.response.data.message)):t.request?h("No response received from server. Please check your API connection."):h("Request error: ".concat(t.message))}finally{l(!1)}})()},[e,n,a]);const _=e=>{const{name:t,value:r}=e.target;i(e=>Ne(Ne({},e),{},{[t]:r}))},P=(e,t,r)=>(0,$r.jsxs)("div",{className:"flex items-start gap-3 mb-6 border-b border-gray-100 pb-4",children:[(0,$r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary-50 text-primary-600 flex items-center justify-center flex-shrink-0",children:e}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:r})]})]}),A=function(e,t,r,n){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,$r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:border-primary-300 transition-all",children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t," ",s&&(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsx)("input",{type:"file",id:e,accept:".pdf,.jpg,.jpeg,.png",onChange:e=>((e,t)=>{const r=e.target.files[0];if(r){if(r.size>26214400)return void b(e=>Ne(Ne({},e),{},{[t]:"File size must be less than 25MB"}));if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(r.type))return void b(e=>Ne(Ne({},e),{},{[t]:"Only PDF, JPG, and PNG files are allowed"}));b(e=>Ne(Ne({},e),{},{[t]:null})),g(e=>Ne(Ne({},e),{},{[t]:r}))}})(e,r),className:"hidden"}),!f[r]&&!v[r]&&(0,$r.jsxs)("div",{onClick:()=>document.getElementById(e).click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 hover:border-primary-400 transition-colors",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-3",children:(0,$r.jsx)(pa,{size:24})}),(0,$r.jsx)("span",{className:"text-sm font-medium text-primary-600 mb-1",children:"Click to upload"}),(0,$r.jsx)("span",{className:"text-xs text-gray-500",children:"PDF, JPG, PNG up to 25MB"})]}),x[r]&&(0,$r.jsxs)("div",{className:"mt-2 p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[(0,$r.jsx)(cn,{size:16}),x[r]]}),f[r]&&(0,$r.jsxs)("div",{className:"mt-2 bg-gray-50 border border-gray-200 rounded-lg p-3 flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded bg-gray-200 flex items-center justify-center text-gray-500",children:n}),(0,$r.jsx)("div",{className:"text-sm truncate max-w-[150px] font-medium text-gray-700",children:f[r].name})]}),(0,$r.jsx)("button",{onClick:()=>{return e=r,g(t=>Ne(Ne({},t),{},{[e]:null})),void b(t=>Ne(Ne({},t),{},{[e]:null}));var e},className:"text-red-500 hover:text-red-700 p-1",children:(0,$r.jsx)(da,{size:18})})]}),v[r]&&!f[r]&&(0,$r.jsxs)("div",{className:"mt-2 bg-green-50 border border-green-100 rounded-lg p-3",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-2 text-green-700",children:[(0,$r.jsx)(jn,{size:16}),(0,$r.jsx)("span",{className:"text-sm font-medium",children:"Uploaded"})]}),(0,$r.jsxs)("div",{className:"flex gap-1",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>(e=>{const t=v[e];if(t)try{const r=t.filename;let n="";"validId"===e?n="Valid-IDs":"barangayClearance"===e?n="Barangay-Clearances":"medicalCertificate"===e?n="Medical-Certificates":"helperLicense"===e&&(n="Helper-Licenses");const s=(n?"Helper-Documents/".concat(n,"/").concat(r):"Helper-Documents/".concat(r)).split("/").map(e=>encodeURIComponent(e)).join("/"),i="".concat(a,"/api/documents/view/").concat(s),o=/\.(jpg|jpeg|png|gif|webp)$/i.test(r);C({url:i,filename:r,type:e,isImage:o}),k(!0)}catch(u){h("Failed to view document. Please try again.")}})(r),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:(0,$r.jsx)(Mn,{size:18})}),(0,$r.jsx)("button",{type:"button",onClick:()=>(e=>{g(t=>Ne(Ne({},t),{},{[e]:null})),b(t=>Ne(Ne({},t),{},{[e]:null})),y(t=>Ne(Ne({},t),{},{[e]:null}));const t=document.getElementById(e);t&&t.click()})(r),className:"p-1.5 text-orange-600 hover:bg-orange-50 rounded",title:"Replace",children:(0,$r.jsx)(pa,{size:18})})]})]}),(0,$r.jsx)("div",{className:"text-xs text-green-600 truncate",children:v[r].originalName})]})]})};return o?(0,$r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,$r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-fade-in",children:[(0,$r.jsxs)("div",{className:"mb-8",children:[(0,$r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,$r.jsx)(ma,{className:"text-primary-600",size:32}),n?"Edit Helper":"Add New Helper"]}),(0,$r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n?"Update helper information and documents":"Register a new helper with required documentation"})]}),u&&(0,$r.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[(0,$r.jsx)(cn,{className:"text-red-500 mt-0.5",size:20}),(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,$r.jsx)("p",{className:"text-sm text-red-700 mt-1",children:u}),(0,$r.jsxs)("div",{className:"mt-3 flex gap-3",children:[(0,$r.jsx)("button",{onClick:()=>h(null),className:"text-xs font-medium text-red-600 hover:text-red-800",children:"Dismiss"}),(0,$r.jsx)("button",{onClick:()=>window.location.reload(),className:"text-xs font-medium text-red-600 hover:text-red-800",children:"Refresh Page"})]})]})]}),p&&(0,$r.jsxs)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[(0,$r.jsx)(jn,{className:"text-green-500",size:20}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Success"}),(0,$r.jsx)("p",{className:"text-sm text-green-700",children:p})]})]}),(0,$r.jsx)("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-100",children:(0,$r.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{d(!0);const t=new FormData;t.append("name",s.name),t.append("helperName",s.name),t.append("contactNumber",s.contactNumber),t.append("address",s.address),t.append("dateHired",s.dateHired),t.append("status",s.status),t.append("HelperDocuments",s.HelperDocuments||""),t.append("HelperUserName",s.HelperUserName),s.HelperPassword&&t.append("HelperPassword",s.HelperPassword),t.append("licenseType",s.licenseType),t.append("licenseNumber",s.licenseNumber||""),t.append("licenseRegistrationDate",s.licenseRegistrationDate||""),t.append("licenseExpiryDate",s.licenseExpiryDate||""),t.append("emergencyContactName",s.emergencyContactName||""),t.append("emergencyContactPhone",s.emergencyContactPhone||""),t.append("emergencyContactRelationship",s.emergencyContactRelationship||""),Object.entries(f).forEach(e=>{let[r,n]=e;n&&t.append(r,n)}),n&&Object.entries(w).forEach(e=>{let[r,n]=e;!f[r]&&n&&t.append("existing_".concat(r),JSON.stringify(n))});const o=n?"".concat(a,"/api/admin/helpers/").concat(e):"".concat(a,"/api/admin/helpers"),l=n?"put":"post",c=localStorage.getItem("token"),u={headers:Ne({"Content-Type":"multipart/form-data"},c&&{Authorization:"Bearer ".concat(c)})};await Vr[l](o,t,u),m(n?"Helper updated successfully!":"Helper added successfully!"),h(null),n||(i({name:"",contactNumber:"",address:"",dateHired:"",status:"Active",HelperDocuments:"",HelperUserName:"",HelperPassword:"",licenseType:"Class C",licenseNumber:"",licenseRegistrationDate:"",licenseExpiryDate:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:""}),g({validId:null,barangayClearance:null,medicalCertificate:null,helperLicense:null}),b({})),setTimeout(()=>r.push("/admin/helpers"),1500)}catch(c){var o,l;null!==(o=c.response)&&void 0!==o&&null!==(l=o.data)&&void 0!==l&&l.errors&&Array.isArray(c.response.data.errors)?h(c.response.data.errors.join(", ")):c.response?h("Server error (".concat(c.response.status,"): ").concat(c.response.data.message||c.response.data.error||"Unknown error")):h("Request error: ".concat(c.message))}finally{d(!1)}},className:"p-8",children:[(0,$r.jsxs)("section",{className:"mb-10",children:[P((0,$r.jsx)(ma,{size:24}),"Basic Information","Enter the helper's personal and contact information"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"name",value:s.name,onChange:_,required:!0,maxLength:"100",placeholder:"e.g. Juan Dela Cruz",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"contactNumber",value:s.contactNumber,onChange:_,required:!0,maxLength:"20",placeholder:"e.g. +63 912 345 6789",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(Zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"address",value:s.address,onChange:_,required:!0,maxLength:"255",placeholder:"e.g. 123 Main St, Barangay Sample, City, Province",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[P((0,$r.jsx)(fn,{size:24}),"Employment Information","Employment details and current status"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Employment Date ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"date",name:"dateHired",value:s.dateHired,onChange:_,required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Employment Status ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{name:"status",value:s.status,onChange:_,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",children:[(0,$r.jsx)("option",{value:"Active",children:"Active"}),(0,$r.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,$r.jsx)("option",{value:"On Leave",children:"On Leave"}),(0,$r.jsx)("option",{value:"Terminated",children:"Terminated"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Documents Notes (Optional)"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(On,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"HelperDocuments",value:s.HelperDocuments,onChange:_,maxLength:"255",placeholder:"Additional notes",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[P((0,$r.jsx)(Jn,{size:24}),"Account Credentials",n?"View and update helper username":"Set up helper login credentials for the mobile app"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Username ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"HelperUserName",value:s.HelperUserName,onChange:_,required:!n,maxLength:"50",placeholder:"e.g. helper.juandelacruz",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]}),n&&s.HelperUserName&&(0,$r.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Current username: ",(0,$r.jsx)("span",{className:"font-medium",children:s.HelperUserName})]})]}),!n&&(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"password",name:"HelperPassword",value:s.HelperPassword||"",onChange:_,required:!0,minLength:6,placeholder:"Minimum 6 characters",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),n&&(0,$r.jsx)("div",{className:"flex items-center",children:(0,$r.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Password cannot be changed by admin. Helpers must update their own password through the mobile app."})})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[P((0,$r.jsx)(Vn,{size:24}),"License Information","Helper license details and qualifications"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["License Type ",(0,$r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$r.jsxs)("select",{name:"licenseType",value:s.licenseType,onChange:_,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",children:[(0,$r.jsx)("option",{value:"Class C",children:"Class C"}),(0,$r.jsx)("option",{value:"Class CE",children:"Class CE"})]}),(0,$r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Class C"===s.licenseType?"Can assist with mini trucks and 4 wheelers only":"Can assist with all truck types"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number"}),(0,$r.jsx)("input",{type:"text",name:"licenseNumber",value:s.licenseNumber,onChange:_,placeholder:"Enter license number",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Date"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"date",name:"licenseRegistrationDate",value:s.licenseRegistrationDate,onChange:_,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"date",name:"licenseExpiryDate",value:s.licenseExpiryDate,onChange:_,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]})]}),(0,$r.jsxs)("section",{className:"mb-10",children:[P((0,$r.jsx)(la,{size:24}),"Emergency Contact","Contact person in case of emergency"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"emergencyContactName",value:s.emergencyContactName,onChange:_,placeholder:"e.g. Maria Dela Cruz",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",name:"emergencyContactPhone",value:s.emergencyContactPhone,onChange:_,placeholder:"e.g. +63 900 000 0000",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relationship"}),(0,$r.jsx)("input",{type:"text",name:"emergencyContactRelationship",value:s.emergencyContactRelationship,onChange:_,placeholder:"e.g. Spouse, Parent",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none"})]})]})]}),(0,$r.jsxs)("section",{className:"mb-8",children:[P((0,$r.jsx)(On,{size:24}),"Required Documents","Upload legal documents"),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[A("validId","Valid ID","validId",(0,$r.jsx)(Vn,{}),!0),A("barangayClearance","Barangay Clearance","barangayClearance",(0,$r.jsx)(la,{}),!0),A("medicalCertificate","Medical Certificate","medicalCertificate",(0,$r.jsx)(Wn,{})),A("helperLicense","Helper License","helperLicense",(0,$r.jsx)(On,{}))]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-gray-100",children:[(0,$r.jsxs)("button",{type:"button",onClick:()=>r.push("/admin/helpers"),className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-all flex items-center gap-2",children:[(0,$r.jsx)(un,{size:18})," Cancel"]}),(0,$r.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 rounded-xl shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transition-all flex items-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:c?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})," Saving..."]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(Ln,{size:18})," ",n?"Update Helper":"Save Helper"]})})]})]})}),N&&S&&(0,$r.jsx)("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>k(!1),children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl overflow-hidden max-w-4xl w-full max-h-[90vh] flex flex-col shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[(0,$r.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[(0,$r.jsx)(Mn,{size:20,className:"text-primary-600"}),S.filename]}),(0,$r.jsx)("button",{onClick:()=>k(!1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-gray-600 transition-colors",children:(0,$r.jsx)(ga,{size:18})})]}),(0,$r.jsx)("div",{className:"p-4 bg-gray-100 flex-1 overflow-auto flex items-center justify-center",style:{minHeight:"60vh"},children:S.isImage?(0,$r.jsx)("img",{src:S.url,alt:"Document Preview",className:"max-w-full max-h-full object-contain shadow-lg rounded-lg"}):(0,$r.jsx)("iframe",{src:S.url,title:"Document Preview",className:"w-full h-full rounded-lg shadow-lg bg-white",style:{minHeight:"60vh"}})})]})})]})},ME=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)("all");ce();(0,t.useEffect)(()=>{(async()=>{try{a(!0),i(null),console.log("Fetching operators from API...");const e=Gr;console.log("API Base URL:",e);const t=await Vr.get("".concat(e,"/api/operators"));console.log("API Response:",t),t.data&&Array.isArray(t.data)?(r(t.data),console.log("Operators loaded:",t.data.length)):(console.warn("API returned unexpected data format:",t.data),r([])),a(!1)}catch(t){var e;if(console.error("Error fetching operators:",t),t.response)i("Server error (".concat(t.response.status,"): ").concat((null===(e=t.response.data)||void 0===e?void 0:e.message)||"Unknown error"));else t.request?i("No response received from server. Please check your API connection."):i("Request error: ".concat(t.message));a(!1),r([])}})()},[]);const u=(0,t.useMemo)(()=>{let t=e;return"all"!==c&&(t=t.filter(e=>{var t;return(null===(t=e.OperatorStatus)||void 0===t?void 0:t.toLowerCase())===c.toLowerCase()})),o&&(t=t.filter(e=>{var t,r,n,a;return(null===(t=e.OperatorName)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(r=e.OperatorUserName)||void 0===r?void 0:r.toLowerCase().includes(o.toLowerCase()))||(null===(n=e.OperatorNumber)||void 0===n?void 0:n.includes(o))||(null===(a=e.OperatorAddress)||void 0===a?void 0:a.toLowerCase().includes(o.toLowerCase()))})),t},[e,o,c]),h=((()=>{const t=e.length,r=e.filter(e=>{var t;return"active"===(null===(t=e.OperatorStatus)||void 0===t?void 0:t.toLowerCase())}).length,n=e.filter(e=>{var t;return"inactive"===(null===(t=e.OperatorStatus)||void 0===t?void 0:t.toLowerCase())}).length,a=e.filter(e=>{var t;return"pending"===(null===(t=e.OperatorStatus)||void 0===t?void 0:t.toLowerCase())}).length})(),[...new Set(e.map(e=>e.OperatorStatus).filter(Boolean))]),p=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Unknown",m=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":return"status-active";case"inactive":return"status-inactive";case"pending":return"status-pending";default:return"status-unknown"}};return n?(0,$r.jsx)("div",{className:"loading",children:"Loading operators data..."}):(0,$r.jsxs)("div",{className:"admin-page-container",children:[(0,$r.jsx)(sf,{currentUser:null}),(0,$r.jsxs)("div",{className:"admin-content",children:[(0,$r.jsxs)("div",{className:"greeting-section",children:[(0,$r.jsx)("h2",{className:"greeting-text",children:"Operators Management"}),(0,$r.jsx)("p",{className:"greeting-subtitle",children:"Manage operator accounts and status"}),(0,$r.jsxs)("div",{className:"summary-cards",children:[(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"card-icon",children:(0,$r.jsx)(ma,{size:24})}),(0,$r.jsxs)("div",{className:"card-content",children:[(0,$r.jsx)("div",{className:"card-value",children:e.length}),(0,$r.jsx)("div",{className:"card-label",children:"Total Operators"}),(0,$r.jsxs)("div",{className:"card-change positive",children:[(0,$r.jsx)(hn,{size:12}),"+2.3%"]})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"card-icon",children:(0,$r.jsx)(jn,{size:24})}),(0,$r.jsxs)("div",{className:"card-content",children:[(0,$r.jsx)("div",{className:"card-value",children:e.filter(e=>"active"===e.status).length}),(0,$r.jsx)("div",{className:"card-label",children:"Active"}),(0,$r.jsxs)("div",{className:"card-change positive",children:[(0,$r.jsx)(hn,{size:12}),"+1.7%"]})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"card-icon",children:(0,$r.jsx)(An,{size:24})}),(0,$r.jsxs)("div",{className:"card-content",children:[(0,$r.jsx)("div",{className:"card-value",children:e.filter(e=>"inactive"===e.status).length}),(0,$r.jsx)("div",{className:"card-label",children:"Inactive"}),(0,$r.jsxs)("div",{className:"card-change neutral",children:[(0,$r.jsx)(on,{size:12}),"0.0%"]})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"card-icon",children:(0,$r.jsx)(On,{size:24})}),(0,$r.jsxs)("div",{className:"card-content",children:[(0,$r.jsx)("div",{className:"card-value",children:e.filter(e=>"dispatcher"===e.role).length}),(0,$r.jsx)("div",{className:"card-label",children:"Dispatchers"}),(0,$r.jsxs)("div",{className:"card-change positive",children:[(0,$r.jsx)(hn,{size:12}),"+0.8%"]})]})]})]})]}),s&&(0,$r.jsxs)("div",{className:"error-message",children:[s,(0,$r.jsx)("div",{style:{marginTop:"10px",fontSize:"12px"},children:(0,$r.jsx)("button",{onClick:()=>window.location.reload(),className:"btn btn-secondary btn-sm",children:"Refresh Page"})}),(0,$r.jsx)("button",{onClick:()=>i(null),className:"close-btn",children:"\xd7"})]}),(0,$r.jsxs)("div",{className:"modern-filters",children:[(0,$r.jsxs)("div",{className:"filters-header",children:[(0,$r.jsx)("div",{className:"filters-header-icon",children:"\ud83d\udd0d"}),(0,$r.jsx)("h3",{children:"Search & Filter"})]}),(0,$r.jsxs)("div",{className:"filters-grid",children:[(0,$r.jsxs)("div",{className:"search-container",children:[(0,$r.jsx)("label",{className:"search-label",children:"Search"}),(0,$r.jsxs)("div",{className:"search-input-wrapper",children:[(0,$r.jsx)("div",{className:"search-icon",children:"\ud83d\udd0d"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by name, username, phone, or address...",value:o,onChange:e=>l(e.target.value),className:"modern-search-input"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{className:"filter-label",children:"Status"}),(0,$r.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"modern-filter-select",children:[(0,$r.jsx)("option",{value:"all",children:"All Status"}),h.map(e=>(0,$r.jsx)("option",{value:e,children:p(e)},e))]})]})]}),(0,$r.jsxs)("div",{className:"filter-actions",children:[(0,$r.jsx)("button",{className:"btn btn-secondary",onClick:()=>{l(""),d("all")},children:"Clear All Filters"}),(0,$r.jsxs)("div",{className:"filter-summary",children:["Showing ",u.length," of ",e.length," operators"]})]})]}),0!==u.length||n?(0,$r.jsx)("div",{className:"table-responsive",children:(0,$r.jsxs)("table",{className:"data-table",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{children:"Operator ID"}),(0,$r.jsx)("th",{children:"Name"}),(0,$r.jsx)("th",{children:"Username"}),(0,$r.jsx)("th",{children:"Address"}),(0,$r.jsx)("th",{children:"Phone Number"}),(0,$r.jsx)("th",{children:"Employment Date"}),(0,$r.jsx)("th",{children:"Status"}),(0,$r.jsx)("th",{children:"Actions"})]})}),(0,$r.jsx)("tbody",{children:u.map(t=>(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("td",{children:t.OperatorID}),(0,$r.jsx)("td",{children:t.OperatorName}),(0,$r.jsx)("td",{children:t.OperatorUserName}),(0,$r.jsx)("td",{children:t.OperatorAddress}),(0,$r.jsx)("td",{children:t.OperatorNumber}),(0,$r.jsx)("td",{children:t.OperatorEmploymentDate?new Date(t.OperatorEmploymentDate).toLocaleDateString():"-"}),(0,$r.jsx)("td",{children:(0,$r.jsx)("span",{className:"status-badge ".concat(m(t.OperatorStatus)),children:p(t.OperatorStatus)})}),(0,$r.jsxs)("td",{className:"actions-cell",children:[(0,$r.jsx)(be,{to:"/admin/operators/edit/".concat(t.OperatorID),className:"action-btn edit-btn",title:"Edit Operator",children:"Edit"}),(0,$r.jsx)("button",{onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this operator? This action cannot be undone."))try{const n=Gr;await Vr.delete("".concat(n,"/api/operators/").concat(t)),r(e.filter(e=>e.OperatorID!==t))}catch(n){console.error("Error deleting operator:",n),alert("Failed to delete operator. Please try again.")}})(t.OperatorID),className:"action-btn delete-btn",title:"Delete Operator",children:"Delete"})]})]},t.OperatorID))})]})}):(0,$r.jsxs)("div",{className:"no-data",children:[o||"all"!==c?"No operators found matching the current filters.":"No operator records found. Add a new operator to get started.",!s&&!o&&"all"===c&&(0,$r.jsx)("div",{style:{marginTop:"10px",fontSize:"12px",color:"#666"},children:"If you believe this is an error, check console for API debugging information."})]})]})]})},RE=()=>{const{id:e}=ue(),r=ce(),n=Boolean(e),a=Gr,[s,i]=(0,t.useState)({OperatorName:"",OperatorAddress:"",OperatorNumber:"",OperatorEmploymentDate:"",OperatorDocuments:"",OperatorUserName:"",OperatorPassword:"",OperatorStatus:"active"}),[o,l]=(0,t.useState)(n),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[p,m]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{if(n)try{l(!0),console.log("Fetching operator with ID: ".concat(e)),console.log("API Base URL:",a);const t=await Vr.get("".concat(a,"/api/operators/").concat(e));console.log("API Response:",t);const r=t.data;r.OperatorEmploymentDate&&(r.OperatorEmploymentDate=new Date(r.OperatorEmploymentDate).toISOString().split("T")[0]),i(r)}catch(t){console.error("Error fetching operator:",t),t.response?h("Server error (".concat(t.response.status,"): ").concat(t.response.data.sqlMessage||t.response.data.message)):t.request?h("No response received from server. Please check your API connection."):h("Request error: ".concat(t.message))}finally{l(!1)}})()},[e,n,a]);const f=e=>{const{name:t,value:r}=e.target;i(e=>Ne(Ne({},e),{},{[t]:r}))};return o?(0,$r.jsx)("div",{className:"loading",children:"Loading operator data..."}):(0,$r.jsxs)("div",{className:"form-container",children:[(0,$r.jsx)("div",{className:"page-header",children:(0,$r.jsx)("h1",{children:n?"Edit Operator":"Add New Operator"})}),u&&(0,$r.jsxs)("div",{className:"error-message",children:[u,(0,$r.jsxs)("div",{style:{marginTop:"10px",fontSize:"12px"},children:[(0,$r.jsx)("button",{onClick:()=>h(null),children:"Dismiss"}),(0,$r.jsx)("button",{onClick:()=>window.location.reload(),style:{marginLeft:"10px"},children:"Refresh Page"})]})]}),p&&(0,$r.jsx)("div",{className:"success-message",children:p}),(0,$r.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{d(!0),console.log("Form submission:",n?"UPDATE":"CREATE",s);const t=n?"".concat(a,"/api/operators/").concat(e):"".concat(a,"/api/operators"),o=n?"put":"post",l=await Vr[o](t,s);console.log(n?"Update response:":"Create response:",l),m(n?"Operator updated successfully!":"Operator added successfully!"),h(null),n||i({OperatorName:"",OperatorAddress:"",OperatorNumber:"",OperatorEmploymentDate:"",OperatorDocuments:"",OperatorUserName:"",OperatorPassword:"",OperatorStatus:"active"}),setTimeout(()=>{r.push("/admin/operators")},1500)}catch(o){console.error("Error saving operator:",o),o.response?h("Server error (".concat(o.response.status,"): ").concat(o.response.data.sqlMessage||o.response.data.message)):o.request?h("No response received from server. Please check your API connection."):h("Request error: ".concat(o.message))}finally{d(!1)}},className:"data-form",children:[(0,$r.jsxs)("div",{className:"form-group",children:[(0,$r.jsx)("label",{htmlFor:"OperatorName",children:"Operator Name"}),(0,$r.jsx)("input",{type:"text",id:"OperatorName",name:"OperatorName",value:s.OperatorName,onChange:f,required:!0,maxLength:"100"})]}),(0,$r.jsxs)("div",{className:"form-group",children:[(0,$r.jsx)("label",{htmlFor:"OperatorAddress",children:"Address"}),(0,$r.jsx)("input",{type:"text",id:"OperatorAddress",name:"OperatorAddress",value:s.OperatorAddress,onChange:f,required:!0,maxLength:"255"})]}),(0,$r.jsxs)("div",{className:"form-group",children:[(0,$r.jsx)("label",{htmlFor:"OperatorNumber",children:"Phone Number"}),(0,$r.jsx)("input",{type:"text",id:"OperatorNumber",name:"OperatorNumber",value:s.OperatorNumber,onChange:f,required:!0,maxLength:"20"})]}),(0,$r.jsxs)("div",{className:"form-group",children:[(0,$r.jsx)("label",{htmlFor:"OperatorEmploymentDate",children:"Employment Date"}),(0,$r.jsx)("input",{type:"date",id:"OperatorEmploymentDate",name:"OperatorEmploymentDate",value:s.OperatorEmploymentDate,onChange:f,required:!0})]}),(0,$r.jsxs)("div",{className:"form-group",children:[(0,$r.jsx)("label",{htmlFor:"OperatorDocuments",children:"Documents (Optional)"}),(0,$r.jsx)("input",{type:"text",id:"OperatorDocuments",name:"OperatorDocuments",value:s.OperatorDocuments||"",onChange:f,maxLength:"255"})]}),(0,$r.jsxs)("div",{className:"form-group",children:[(0,$r.jsx)("label",{htmlFor:"OperatorUserName",children:"Username"}),(0,$r.jsx)("input",{type:"text",id:"OperatorUserName",name:"OperatorUserName",value:s.OperatorUserName,onChange:f,required:!0,maxLength:"50"})]}),(0,$r.jsxs)("div",{className:"form-group",children:[(0,$r.jsx)("label",{htmlFor:"OperatorPassword",children:n?"Password (Leave blank to keep current)":"Password"}),(0,$r.jsx)("input",Ne(Ne({type:"password",id:"OperatorPassword",name:"OperatorPassword",value:s.OperatorPassword||"",onChange:f},!n&&{required:!0}),{},{maxLength:"255"}))]}),(0,$r.jsxs)("div",{className:"form-group",children:[(0,$r.jsx)("label",{htmlFor:"OperatorStatus",children:"Status"}),(0,$r.jsxs)("select",{id:"OperatorStatus",name:"OperatorStatus",value:s.OperatorStatus,onChange:f,required:!0,children:[(0,$r.jsx)("option",{value:"active",children:"Active"}),(0,$r.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-gray-100 mt-6",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>r.push("/admin/operators"),className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-all flex items-center gap-2",children:"Cancel"}),(0,$r.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 rounded-xl shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transition-all flex items-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:c?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})," Saving..."]}):n?"Update Operator":"Add Operator"})]})]})]})},FE=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),o=async()=>{try{a(!0),i(null);const e=await Vr.get("/api/audit/debug/logout");r(e.data.events||[]),a(!1)}catch(e){console.error("Error fetching logout events:",e),i("Failed to load logout events: "+e.message),a(!1)}};return(0,$r.jsxs)("div",{style:{padding:"20px"},children:[(0,$r.jsx)("h1",{children:"Audit Trail Diagnostic"}),(0,$r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,$r.jsx)("button",{onClick:async()=>{try{a(!0),i(null);const e=await Vr.get("/api/audit/debug");r(e.data),a(!1)}catch(e){console.error("Error fetching audit data:",e),i("Failed to load audit data: "+e.message),a(!1)}},disabled:n,style:{marginRight:"10px",padding:"8px 16px"},children:"Fetch All Audit Events"}),(0,$r.jsx)("button",{onClick:o,disabled:n,style:{marginRight:"10px",padding:"8px 16px"},children:"Fetch Only Logout Events"}),(0,$r.jsx)("button",{onClick:async()=>{try{a(!0),i(null);if(!JSON.parse(localStorage.getItem("currentUser")||"{}").id)return i("No user found in localStorage"),void a(!1);const e=localStorage.getItem("token");await Vr.post("/api/auth/logout",{},{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});a(!1),alert("Logout event created! Check logs for details."),o()}catch(e){console.error("Error creating logout event:",e),i("Failed to create logout event: "+e.message),a(!1)}},disabled:n,style:{padding:"8px 16px",backgroundColor:"#f0ad4e",color:"white",border:"none"},children:"Create Test Logout Event"})]}),n&&(0,$r.jsx)("p",{children:"Loading..."}),s&&(0,$r.jsxs)("div",{style:{backgroundColor:"#f8d7da",padding:"15px",borderRadius:"5px",marginBottom:"20px"},children:[(0,$r.jsx)("strong",{children:"Error:"})," ",s]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h2",{children:["Found ",Array.isArray(e)?e.length:"Unknown"," Events"]}),Array.isArray(e)&&e.length>0?(0,$r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{style:{backgroundColor:"#f5f5f5"},children:[(0,$r.jsx)("th",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:"Timestamp"}),(0,$r.jsx)("th",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:"User"}),(0,$r.jsx)("th",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:"Action"}),(0,$r.jsx)("th",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:"Details"})]})}),(0,$r.jsx)("tbody",{children:e.map((e,t)=>(0,$r.jsxs)("tr",{style:{backgroundColor:"logout"===e.action?"#d4edda":"white"},children:[(0,$r.jsx)("td",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:"string"===typeof e.timestamp?new Date(e.timestamp).toLocaleString():"Unknown"}),(0,$r.jsx)("td",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:e.username}),(0,$r.jsx)("td",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:e.action}),(0,$r.jsx)("td",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:(0,$r.jsx)("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:JSON.stringify(e,null,2)})})]},t))})]}):(0,$r.jsx)("p",{children:"No audit data found."})]})]})};function zE(e,r){var n,a;return t.isValidElement(e)&&-1!==r.indexOf(null!==(n=e.type.muiName)&&void 0!==n?n:null===(a=e.type)||void 0===a||null===(a=a._payload)||void 0===a||null===(a=a.value)||void 0===a?void 0:a.muiName)}const OE=RA();function BE(e){let{props:t,name:r,defaultTheme:n,themeId:a}=e,s=B_(n);return a&&(s=s[a]||s),function(e){const{theme:t,name:r,props:n}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?VA(t.components[r].defaultProps,n):n}({theme:s,name:r,props:t})}const UE=(e,t,r)=>{const n=e.keys[0];if(Array.isArray(t))t.forEach((t,n)=>{r((t,r)=>{n<=e.keys.length-1&&(0===n?Object.assign(t,r):t[e.up(e.keys[n])]=r)},t)});else if(t&&"object"===typeof t){const i=Object.keys(t).length>e.keys.length?e.keys:(a=e.keys,s=Object.keys(t),a.filter(e=>s.includes(e)));i.forEach(a=>{if(e.keys.includes(a)){const s=t[a];void 0!==s&&r((t,r)=>{n===a?Object.assign(t,r):t[e.up(a)]=r},s)}})}else"number"!==typeof t&&"string"!==typeof t||r((e,t)=>{Object.assign(e,t)},t);var a,s};function qE(e){return"--Grid-".concat(e,"Spacing")}function WE(e){return"--Grid-parent-".concat(e,"Spacing")}const HE="--Grid-columns",VE="--Grid-parent-columns",KE=e=>{let{theme:t,ownerState:r}=e;const n={};return UE(t.breakpoints,r.size,(e,t)=>{let r={};"grow"===t&&(r={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"===typeof t&&(r={flexGrow:0,flexBasis:"auto",width:"calc(100% * ".concat(t," / var(").concat(VE,") - (var(").concat(VE,") - ").concat(t,") * (var(").concat(WE("column"),") / var(").concat(VE,")))")}),e(n,r)}),n},GE=e=>{let{theme:t,ownerState:r}=e;const n={};return UE(t.breakpoints,r.offset,(e,t)=>{let r={};"auto"===t&&(r={marginLeft:"auto"}),"number"===typeof t&&(r={marginLeft:0===t?"0px":"calc(100% * ".concat(t," / var(").concat(VE,") + var(").concat(WE("column"),") * ").concat(t," / var(").concat(VE,"))")}),e(n,r)}),n},YE=e=>{let{theme:t,ownerState:r}=e;if(!r.container)return{};const n={[HE]:12};return UE(t.breakpoints,r.columns,(e,t)=>{const r=null!==t&&void 0!==t?t:12;e(n,{[HE]:r,"> *":{[VE]:r}})}),n},$E=e=>{let{theme:t,ownerState:r}=e;if(!r.container)return{};const n={};return UE(t.breakpoints,r.rowSpacing,(e,r)=>{var a;const s="string"===typeof r?r:null===(a=t.spacing)||void 0===a?void 0:a.call(t,r);e(n,{[qE("row")]:s,"> *":{[WE("row")]:s}})}),n},JE=e=>{let{theme:t,ownerState:r}=e;if(!r.container)return{};const n={};return UE(t.breakpoints,r.columnSpacing,(e,r)=>{var a;const s="string"===typeof r?r:null===(a=t.spacing)||void 0===a?void 0:a.call(t,r);e(n,{[qE("column")]:s,"> *":{[WE("column")]:s}})}),n},XE=e=>{let{theme:t,ownerState:r}=e;if(!r.container)return{};const n={};return UE(t.breakpoints,r.direction,(e,t)=>{e(n,{flexDirection:t})}),n},QE=e=>{let{ownerState:t}=e;return Ne({minWidth:0,boxSizing:"border-box"},t.container&&Ne(Ne({display:"flex",flexWrap:"wrap"},t.wrap&&"wrap"!==t.wrap&&{flexWrap:t.wrap}),{},{gap:"var(".concat(qE("row"),") var(").concat(qE("column"),")")}))},ZE=e=>{const t=[];return Object.entries(e).forEach(e=>{let[r,n]=e;!1!==n&&void 0!==n&&t.push("grid-".concat(r,"-").concat(String(n)))}),t},eI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xs";function r(e){return void 0!==e&&("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e&&e>0)}if(r(e))return["spacing-".concat(t,"-").concat(String(e))];if("object"===typeof e&&!Array.isArray(e)){const t=[];return Object.entries(e).forEach(e=>{let[n,a]=e;r(a)&&t.push("spacing-".concat(n,"-").concat(String(a)))}),t}return[]},tI=e=>void 0===e?[]:"object"===typeof e?Object.entries(e).map(e=>{let[t,r]=e;return"direction-".concat(t,"-").concat(r)}):["direction-xs-".concat(String(e))];const rI=["className","children","columns","container","component","direction","wrap","size","offset","spacing","rowSpacing","columnSpacing","unstable_level"],nI=F_(),aI=OE("div",{name:"MuiGrid",slot:"Root"});function sI(e){return BE({props:e,name:"MuiGrid",defaultTheme:nI})}const iI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:r=aI,useThemeProps:n=sI,useTheme:a=B_,componentName:s="MuiGrid"}=e;function i(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;const n={};return null===e||(Array.isArray(e)?e.forEach((e,a)=>{null!==e&&r(e)&&t.keys[a]&&(n[t.keys[a]]=e)}):"object"===typeof e?Object.keys(e).forEach(t=>{const a=e[t];null!==a&&void 0!==a&&r(a)&&(n[t]=a)}):n[t.keys[0]]=e),n}const o=r(YE,JE,$E,KE,XE,QE,GE),l=t.forwardRef(function(e,r){var l,c,d,u,h,p;const m=a(),f=D_(n(e));!function(e,t){const r=[];void 0!==e.item&&(delete e.item,r.push("item")),void 0!==e.zeroMinWidth&&(delete e.zeroMinWidth,r.push("zeroMinWidth")),t.keys.forEach(t=>{void 0!==e[t]&&(r.push(t),delete e[t])})}(f,m.breakpoints);const{className:g,children:x,columns:b=12,container:v=!1,component:y="div",direction:w="row",wrap:j="wrap",size:N={},offset:k={},spacing:S=0,rowSpacing:C=S,columnSpacing:_=S,unstable_level:P=0}=f,A=ke(f,rI),D=i(N,m.breakpoints,e=>!1!==e),T=i(k,m.breakpoints),L=null!==(l=e.columns)&&void 0!==l?l:P?void 0:b,E=null!==(c=e.spacing)&&void 0!==c?c:P?void 0:S,I=null!==(d=null!==(u=e.rowSpacing)&&void 0!==u?u:e.spacing)&&void 0!==d?d:P?void 0:C,M=null!==(h=null!==(p=e.columnSpacing)&&void 0!==p?p:e.spacing)&&void 0!==h?h:P?void 0:_,R=Ne(Ne({},f),{},{level:P,columns:L,container:v,direction:w,wrap:j,spacing:E,rowSpacing:I,columnSpacing:M,size:D,offset:T}),F=((e,t)=>{const{container:r,direction:n,spacing:a,wrap:i,size:o}=e;return wA({root:["root",r&&"container","wrap"!==i&&"wrap-xs-".concat(String(i)),...tI(n),...ZE(o),...r?eI(a,t.breakpoints.keys[0]):[]]},e=>mA(s,e),{})})(R,m);return(0,$r.jsx)(o,Ne(Ne({ref:r,as:y,ownerState:R,className:Mk(F.root,g)},A),{},{children:t.Children.map(x,e=>{var r,n;return t.isValidElement(e)&&zE(e,["Grid"])&&v&&e.props.container?t.cloneElement(e,{unstable_level:null!==(r=null===(n=e.props)||void 0===n?void 0:n.unstable_level)&&void 0!==r?r:P+1}):e})}))});return l.muiName="Grid",l}({createStyledComponent:qA("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>YA({props:e,name:"MuiGrid"}),useTheme:PD});const oI=iI;function lI(e){return mA("MuiCard",e)}fA("MuiCard",["root"]);const cI=["className","raised"],dI=qA(ED,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),uI=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiCard"}),{className:n,raised:a=!1}=r,s=ke(r,cI),i=Ne(Ne({},r),{},{raised:a}),o=(e=>{const{classes:t}=e;return wA({root:["root"]},lI,t)})(i);return(0,$r.jsx)(dI,Ne({className:Mk(o.root,n),elevation:a?8:void 0,ref:t,ownerState:i},s))}),hI=uI;function pI(e){return mA("MuiCardContent",e)}fA("MuiCardContent",["root"]);const mI=["className","component"],fI=qA("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),gI=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiCardContent"}),{className:n,component:a="div"}=r,s=ke(r,mI),i=Ne(Ne({},r),{},{component:a}),o=(e=>{const{classes:t}=e;return wA({root:["root"]},pI,t)})(i);return(0,$r.jsx)(fI,Ne({as:a,className:Mk(o.root,n),ownerState:i,ref:t},s))}),xI=gI;function bI(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function vI(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(bI(e.value)&&""!==e.value||t&&bI(e.defaultValue)&&""!==e.defaultValue)}const yI=zE;const wI=t.createContext(void 0);function jI(e){return mA("MuiFormControl",e)}fA("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const NI=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],kI=qA("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t["margin".concat($A(r.margin))],r.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),SI=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiFormControl"}),{children:a,className:s,color:i="primary",component:o="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:u=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:f="medium",variant:g="outlined"}=n,x=ke(n,NI),b=Ne(Ne({},n),{},{color:i,component:o,disabled:l,error:c,fullWidth:u,hiddenLabel:h,margin:p,required:m,size:f,variant:g}),v=(e=>{const{classes:t,margin:r,fullWidth:n}=e;return wA({root:["root","none"!==r&&"margin".concat($A(r)),n&&"fullWidth"]},jI,t)})(b),[y,w]=t.useState(()=>{let e=!1;return a&&t.Children.forEach(a,t=>{if(!yI(t,["Input","Select"]))return;const r=yI(t,["Select"])?t.props.input:t;r&&r.props.startAdornment&&(e=!0)}),e}),[j,N]=t.useState(()=>{let e=!1;return a&&t.Children.forEach(a,t=>{yI(t,["Input","Select"])&&(vI(t.props,!0)||vI(t.props.inputProps,!0))&&(e=!0)}),e}),[k,S]=t.useState(!1);l&&k&&S(!1);const C=void 0===d||l?k:d;let _;t.useRef(!1);const P=t.useCallback(()=>{N(!0)},[]),A=t.useCallback(()=>{N(!1)},[]),D=t.useMemo(()=>({adornedStart:y,setAdornedStart:w,color:i,disabled:l,error:c,filled:j,focused:C,fullWidth:u,hiddenLabel:h,size:f,onBlur:()=>{S(!1)},onFocus:()=>{S(!0)},onEmpty:A,onFilled:P,registerEffect:_,required:m,variant:g}),[y,i,l,c,j,C,u,h,_,A,P,m,f,g]);return(0,$r.jsx)(wI.Provider,{value:D,children:(0,$r.jsx)(kI,Ne(Ne({as:o,ownerState:b,className:Mk(v.root,s),ref:r},x),{},{children:a}))})}),CI=SI;function _I(e){let{props:t,states:r,muiFormControl:n}=e;return r.reduce((e,r)=>(e[r]=t[r],n&&"undefined"===typeof t[r]&&(e[r]=n[r]),e),{})}function PI(){return t.useContext(wI)}function AI(e){return mA("MuiFormLabel",e)}const DI=fA("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),TI=["children","className","color","component","disabled","error","filled","focused","required"],LI=qA("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"secondary"===r.color&&t.colorSecondary,r.filled&&t.filled]}})(HA(e=>{let{theme:t}=e;return Ne(Ne({color:(t.vars||t).palette.text.secondary},t.typography.body1),{},{lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(JA()).map(e=>{let[r]=e;return{props:{color:r},style:{["&.".concat(DI.focused)]:{color:(t.vars||t).palette[r].main}}}}),{props:{},style:{["&.".concat(DI.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(DI.error)]:{color:(t.vars||t).palette.error.main}}}]})})),EI=qA("span",{name:"MuiFormLabel",slot:"Asterisk"})(HA(e=>{let{theme:t}=e;return{["&.".concat(DI.error)]:{color:(t.vars||t).palette.error.main}}})),II=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiFormLabel"}),{children:n,className:a,color:s,component:i="label",disabled:o,error:l,filled:c,focused:d,required:u}=r,h=ke(r,TI),p=_I({props:r,muiFormControl:PI(),states:["color","required","focused","disabled","error","filled"]}),m=Ne(Ne({},r),{},{color:p.color||"primary",component:i,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required}),f=(e=>{const{classes:t,color:r,focused:n,disabled:a,error:s,filled:i,required:o}=e;return wA({root:["root","color".concat($A(r)),a&&"disabled",s&&"error",i&&"filled",n&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]},AI,t)})(m);return(0,$r.jsxs)(LI,Ne(Ne({as:i,ownerState:m,className:Mk(f.root,a),ref:t},h),{},{children:[n,p.required&&(0,$r.jsxs)(EI,{ownerState:m,"aria-hidden":!0,className:f.asterisk,children:["\u2009","*"]})]}))}),MI=II;function RI(e){return mA("MuiInputLabel",e)}fA("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const FI=["disableAnimation","margin","shrink","variant","className"],zI=qA(MI,{shouldForwardProp:e=>UA(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{["& .".concat(DI.asterisk)]:t.asterisk},t.root,r.formControl&&t.formControl,"small"===r.size&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(HA(e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:r}=e;return"filled"===t&&r.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:r,size:n}=e;return"filled"===t&&r.shrink&&"small"===n},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:r}=e;return"outlined"===t&&r.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}})),OI=t.forwardRef(function(e,t){const r=YA({name:"MuiInputLabel",props:e}),{disableAnimation:n=!1,margin:a,shrink:s,variant:i,className:o}=r,l=ke(r,FI),c=PI();let d=s;"undefined"===typeof d&&c&&(d=c.filled||c.focused||c.adornedStart);const u=_I({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),h=Ne(Ne({},r),{},{disableAnimation:n,formControl:c,shrink:d,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),p=(e=>{const{classes:t,formControl:r,size:n,shrink:a,disableAnimation:s,variant:i,required:o}=e,l=wA({root:["root",r&&"formControl",!s&&"animated",a&&"shrink",n&&"medium"!==n&&"size".concat($A(n)),i],asterisk:[o&&"asterisk"]},RI,t);return Ne(Ne({},t),l)})(h);return(0,$r.jsx)(zI,Ne(Ne({"data-shrink":d,ref:t,className:Mk(p.root,o)},l),{},{ownerState:h,classes:p}))}),BI=OI;function UI(e){var r;return parseInt(t.version,10)>=19?(null===e||void 0===e||null===(r=e.props)||void 0===r?void 0:r.ref)||null:(null===e||void 0===e?void 0:e.ref)||null}function qI(e){return e&&e.ownerDocument||document}const WI=qI;const HI=t.createContext();const VI=()=>{const e=t.useContext(HI);return null!==e&&void 0!==e&&e},KI=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const GI=function(e){var t;const{elementType:r,externalSlotProps:n,ownerState:a,skipResolvingSlotProps:s=!1}=e,i=ke(e,KI),o=s?{}:FD(n,a),{props:l,internalRef:c}=BD(Ne(Ne({},i),{},{externalSlotProps:o})),d=ID(c,null===o||void 0===o?void 0:o.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return RD(r,Ne(Ne({},l),{},{ref:d}),a)};const YI=t.createContext({});function $I(e){return mA("MuiList",e)}fA("MuiList",["root","padding","dense","subheader"]);const JI=["children","className","component","dense","disablePadding","subheader"],XI=qA("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),QI=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiList"}),{children:a,className:s,component:i="ul",dense:o=!1,disablePadding:l=!1,subheader:c}=n,d=ke(n,JI),u=t.useMemo(()=>({dense:o}),[o]),h=Ne(Ne({},n),{},{component:i,dense:o,disablePadding:l}),p=(e=>{const{classes:t,disablePadding:r,dense:n,subheader:a}=e;return wA({root:["root",!r&&"padding",n&&"dense",a&&"subheader"]},$I,t)})(h);return(0,$r.jsx)(YI.Provider,{value:u,children:(0,$r.jsxs)(XI,Ne(Ne({as:i,className:Mk(p.root,s),ref:r,ownerState:h},d),{},{children:[c,a]}))})}),ZI=QI;const eM=function(e){let t=e.activeElement;for(;null!=(null===(r=t)||void 0===r||null===(r=r.shadowRoot)||void 0===r?void 0:r.activeElement);){var r;t=t.shadowRoot.activeElement}return t};function tM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const rM=tM,nM=ZD;function aM(e){return qI(e).defaultView||window}const sM=aM,iM=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function oM(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function lM(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function cM(e,t){if(void 0===t)return!0;let r=e.innerText;return void 0===r&&(r=e.textContent),r=r.trim().toLowerCase(),0!==r.length&&(t.repeating?r[0]===t.keys[0]:r.startsWith(t.keys.join("")))}function dM(e,t,r,n,a,s){let i=!1,o=a(e,t,!!t&&r);for(;o;){if(o===e.firstChild){if(i)return!1;i=!0}const t=!n&&(o.disabled||"true"===o.getAttribute("aria-disabled"));if(o.hasAttribute("tabindex")&&cM(o,s)&&!t)return o.focus(),!0;o=a(e,o,r)}return!1}const uM=t.forwardRef(function(e,r){const{actions:n,autoFocus:a=!1,autoFocusItem:s=!1,children:i,className:o,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:u="selectedMenu"}=e,h=ke(e,iM),p=t.useRef(null),m=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});nM(()=>{a&&p.current.focus()},[a]),t.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:r}=t;const n=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&n){const t="".concat(rM(sM(e)),"px");p.current.style["rtl"===r?"paddingLeft":"paddingRight"]=t,p.current.style.width="calc(100% + ".concat(t,")")}return p.current}}),[]);const f=QD(p,r);let g=-1;t.Children.forEach(i,(e,r)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===u&&e.props.selected||-1===g)&&(g=r),g===r&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=i.length&&(g=-1))):g===r&&(g+=1,g>=i.length&&(g=-1))});const x=t.Children.map(i,(e,r)=>{if(r===g){const r={};return s&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===u&&(r.tabIndex=0),t.cloneElement(e,r)}return e});return(0,$r.jsx)(ZI,Ne(Ne({role:"menu",ref:f,className:o,onKeyDown:e=>{const t=p.current,r=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(d&&d(e));const n=eM(WI(t));if("ArrowDown"===r)e.preventDefault(),dM(t,n,c,l,oM);else if("ArrowUp"===r)e.preventDefault(),dM(t,n,c,l,lM);else if("Home"===r)e.preventDefault(),dM(t,null,c,l,oM);else if("End"===r)e.preventDefault(),dM(t,null,c,l,lM);else if(1===r.length){const a=m.current,s=r.toLowerCase(),i=performance.now();a.keys.length>0&&(i-a.lastTime>500?(a.keys=[],a.repeating=!0,a.previousKeyMatched=!0):a.repeating&&s!==a.keys[0]&&(a.repeating=!1)),a.lastTime=i,a.keys.push(s);const o=n&&!a.repeating&&cM(n,a);a.previousKeyMatched&&(o||dM(t,n,!1,l,oM,a))?e.preventDefault():a.previousKeyMatched=!1}d&&d(e)},tabIndex:a?0:-1},h),{},{children:x}))}),hM=uM;function pM(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];clearTimeout(t),t=setTimeout(()=>{e.apply(this,a)},r)}return n.clear=()=>{clearTimeout(t)},n}const mM=pM,fM=!1;var gM="unmounted",xM="exited",bM="entering",vM="entered",yM="exiting",wM=function(e){function r(t,r){var n;n=e.call(this,t,r)||this;var a,s=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?s?(a=xM,n.appearStatus=bM):a=vM:a=t.unmountOnExit||t.mountOnEnter?gM:xM,n.state={status:a},n.nextCallback=null,n}i(r,e),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===gM?{status:xM}:null};var n=r.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==bM&&r!==vM&&(t=bM):r!==bM&&r!==vM||(t=yM)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===bM){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xM&&this.setState({status:gM})},n.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,s=this.props.nodeRef?[n]:[a.findDOMNode(this),n],i=s[0],o=s[1],l=this.getTimeouts(),c=n?l.appear:l.enter;!e&&!r||fM?this.safeSetState({status:vM},function(){t.props.onEntered(i)}):(this.props.onEnter(i,o),this.safeSetState({status:bM},function(){t.props.onEntering(i,o),t.onTransitionEnd(c,function(){t.safeSetState({status:vM},function(){t.props.onEntered(i,o)})})}))},n.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!fM?(this.props.onExit(n),this.safeSetState({status:yM},function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:xM},function(){e.props.onExited(n)})})})):this.safeSetState({status:xM},function(){e.props.onExited(n)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=s[0],o=s[1];this.props.addEndListener(i,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===gM)return null;var r=this.props,n=r.children,a=(r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef,O(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(sT.Provider,{value:null},"function"===typeof n?n(e,a):t.cloneElement(t.Children.only(n),a))},r}(t.Component);function jM(){}wM.contextType=sT,wM.propTypes={},wM.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jM,onEntering:jM,onEntered:jM,onExit:jM,onExiting:jM,onExited:jM},wM.UNMOUNTED=gM,wM.EXITED=xM,wM.ENTERING=bM,wM.ENTERED=vM,wM.EXITING=yM;const NM=wM,kM=e=>e.scrollTop;function SM(e,t){var r,n;const{timeout:a,easing:s,style:i={}}=e;return{duration:null!==(r=i.transitionDuration)&&void 0!==r?r:"number"===typeof a?a:a[t.mode]||0,easing:null!==(n=i.transitionTimingFunction)&&void 0!==n?n:"object"===typeof s?s[t.mode]:s,delay:i.transitionDelay}}const CM=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],_M=["ownerState"];function PM(e){return"scale(".concat(e,", ").concat(e**2,")")}const AM={entering:{opacity:1,transform:PM(1)},entered:{opacity:1,transform:"none"}},DM="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),TM=t.forwardRef(function(e,r){const{addEndListener:n,appear:a=!0,children:s,easing:i,in:o,onEnter:l,onEntered:c,onEntering:d,onExit:u,onExited:h,onExiting:p,style:m,timeout:f="auto",TransitionComponent:g=NM}=e,x=ke(e,CM),b=mT(),v=t.useRef(),y=PD(),w=t.useRef(null),j=QD(w,UI(s),r),N=e=>t=>{if(e){const r=w.current;void 0===t?e(r):e(r,t)}},k=N(d),S=N((e,t)=>{kM(e);const{duration:r,delay:n,easing:a}=SM({style:m,timeout:f,easing:i},{mode:"enter"});let s;"auto"===f?(s=y.transitions.getAutoHeightDuration(e.clientHeight),v.current=s):s=r,e.style.transition=[y.transitions.create("opacity",{duration:s,delay:n}),y.transitions.create("transform",{duration:DM?s:.666*s,delay:n,easing:a})].join(","),l&&l(e,t)}),C=N(c),_=N(p),P=N(e=>{const{duration:t,delay:r,easing:n}=SM({style:m,timeout:f,easing:i},{mode:"exit"});let a;"auto"===f?(a=y.transitions.getAutoHeightDuration(e.clientHeight),v.current=a):a=t,e.style.transition=[y.transitions.create("opacity",{duration:a,delay:r}),y.transitions.create("transform",{duration:DM?a:.666*a,delay:DM?r:r||.333*a,easing:n})].join(","),e.style.opacity=0,e.style.transform=PM(.75),u&&u(e)}),A=N(h);return(0,$r.jsx)(g,Ne(Ne({appear:a,in:o,nodeRef:w,onEnter:S,onEntered:C,onEntering:k,onExit:P,onExited:A,onExiting:_,addEndListener:e=>{"auto"===f&&b.start(v.current||0,e),n&&n(w.current,e)},timeout:"auto"===f?null:f},x),{},{children:(e,r)=>{let{ownerState:n}=r,a=ke(r,_M);return t.cloneElement(s,Ne({style:Ne(Ne(Ne({opacity:0,transform:PM(.75),visibility:"exited"!==e||o?void 0:"hidden"},AM[e]),m),s.props.style),ref:j},a))}}))});TM&&(TM.muiSupportAuto=!0);const LM=TM,EM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function IM(e){const t=[],r=[];return Array.from(e.querySelectorAll(EM)).forEach((e,n)=>{const a=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==a&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let r=t('[name="'.concat(e.name,'"]:checked'));return r||(r=t('[name="'.concat(e.name,'"]'))),r!==e}(e))}(e)&&(0===a?t.push(e):r.push({documentOrder:n,tabIndex:a,node:e}))}),r.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function MM(){return!0}const RM=function(e){const{children:r,disableAutoFocus:n=!1,disableEnforceFocus:a=!1,disableRestoreFocus:s=!1,getTabbable:i=IM,isEnabled:o=MM,open:l}=e,c=t.useRef(!1),d=t.useRef(null),u=t.useRef(null),h=t.useRef(null),p=t.useRef(null),m=t.useRef(!1),f=t.useRef(null),g=ID(UI(r),f),x=t.useRef(null);t.useEffect(()=>{l&&f.current&&(m.current=!n)},[n,l]),t.useEffect(()=>{if(!l||!f.current)return;const e=qI(f.current),t=eM(e);return f.current.contains(t)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),m.current&&f.current.focus()),()=>{s||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[l]),t.useEffect(()=>{if(!l||!f.current)return;const e=qI(f.current),t=t=>{if(x.current=t,a||!o()||"Tab"!==t.key)return;eM(e)===f.current&&t.shiftKey&&(c.current=!0,u.current&&u.current.focus())},r=()=>{const t=f.current;if(null===t)return;const r=eM(e);if(!e.hasFocus()||!o()||c.current)return void(c.current=!1);if(t.contains(r))return;if(a&&r!==d.current&&r!==u.current)return;if(r!==p.current)p.current=null;else if(null!==p.current)return;if(!m.current)return;let n=[];if(r!==d.current&&r!==u.current||(n=i(f.current)),n.length>0){var s,l;const e=Boolean((null===(s=x.current)||void 0===s?void 0:s.shiftKey)&&"Tab"===(null===(l=x.current)||void 0===l?void 0:l.key)),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",r),e.addEventListener("keydown",t,!0);const n=setInterval(()=>{const t=eM(e);t&&"BODY"===t.tagName&&r()},50);return()=>{clearInterval(n),e.removeEventListener("focusin",r),e.removeEventListener("keydown",t,!0)}},[n,a,s,o,l,i]);const b=e=>{null===h.current&&(h.current=e.relatedTarget),m.current=!0};return(0,$r.jsxs)(t.Fragment,{children:[(0,$r.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:d,"data-testid":"sentinelStart"}),t.cloneElement(r,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),m.current=!0,p.current=e.target;const t=r.props.onFocus;t&&t(e)}}),(0,$r.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:u,"data-testid":"sentinelEnd"})]})};function FM(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const zM=t.forwardRef(function(e,r){const{children:n,container:s,disablePortal:i=!1}=e,[o,l]=t.useState(null),c=ID(t.isValidElement(n)?UI(n):null,r);if(ZD(()=>{i||l(function(e){return"function"===typeof e?e():e}(s)||document.body)},[s,i]),ZD(()=>{if(o&&!i)return FM(r,o),()=>{FM(r,null)}},[r,o,i]),i){if(t.isValidElement(n)){const e={ref:c};return t.cloneElement(n,e)}return n}return o?a.createPortal(n,o):o}),OM=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],BM=["ownerState"],UM={entering:{opacity:1},entered:{opacity:1}},qM=t.forwardRef(function(e,r){const n=PD(),a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:i=!0,children:o,easing:l,in:c,onEnter:d,onEntered:u,onEntering:h,onExit:p,onExited:m,onExiting:f,style:g,timeout:x=a,TransitionComponent:b=NM}=e,v=ke(e,OM),y=t.useRef(null),w=QD(y,UI(o),r),j=e=>t=>{if(e){const r=y.current;void 0===t?e(r):e(r,t)}},N=j(h),k=j((e,t)=>{kM(e);const r=SM({style:g,timeout:x,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),d&&d(e,t)}),S=j(u),C=j(f),_=j(e=>{const t=SM({style:g,timeout:x,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)}),P=j(m);return(0,$r.jsx)(b,Ne(Ne({appear:i,in:c,nodeRef:y,onEnter:k,onEntered:S,onEntering:N,onExit:_,onExited:P,onExiting:C,addEndListener:e=>{s&&s(y.current,e)},timeout:x},v),{},{children:(e,r)=>{let{ownerState:n}=r,a=ke(r,BM);return t.cloneElement(o,Ne({style:Ne(Ne(Ne({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},UM[e]),g),o.props.style),ref:w},a))}}))}),WM=qM;function HM(e){return mA("MuiBackdrop",e)}fA("MuiBackdrop",["root","invisible"]);const VM=["children","className","component","invisible","open","components","componentsProps","slotProps","slots","TransitionComponent","transitionDuration"],KM=qA("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),GM=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiBackdrop"}),{children:n,className:a,component:s="div",invisible:i=!1,open:o,components:l={},componentsProps:c={},slotProps:d={},slots:u={},TransitionComponent:h,transitionDuration:p}=r,m=ke(r,VM),f=Ne(Ne({},r),{},{component:s,invisible:i}),g=(e=>{const{classes:t,invisible:r}=e;return wA({root:["root",r&&"invisible"]},HM,t)})(f),x={component:s,slots:Ne({transition:h,root:l.Root},u),slotProps:Ne(Ne({},c),d)},[b,v]=HD("root",{elementType:KM,externalForwardedProps:x,className:Mk(g.root,a),ownerState:f}),[y,w]=HD("transition",{elementType:WM,externalForwardedProps:x,ownerState:f});return(0,$r.jsx)(y,Ne(Ne(Ne({in:o,timeout:p},m),w),{},{children:(0,$r.jsx)(b,Ne(Ne({"aria-hidden":!0},v),{},{ref:t,children:n}))}))}),YM=GM;function $M(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t)=>null==t?e:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];e.apply(this,n),t.apply(this,n)},()=>{})}function JM(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function XM(e){return parseFloat(aM(e).getComputedStyle(e).paddingRight)||0}function QM(e,t,r,n,a){const s=[t,r,...n];[].forEach.call(e.children,e=>{const t=!s.includes(e),r=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||r}(e);t&&r&&JM(e,a)})}function ZM(e,t){let r=-1;return e.some((e,n)=>!!t(e)&&(r=n,!0)),r}function eR(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(function(e){const t=qI(e);return t.body===e?aM(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(n)){const e=tM(aM(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight="".concat(XM(n)+e,"px");const t=qI(n).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{r.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(XM(t)+e,"px")})}let e;if(n.parentNode instanceof DocumentFragment)e=qI(n).body;else{const t=n.parentElement,r=aM(n);e="HTML"===(null===t||void 0===t?void 0:t.nodeName)&&"scroll"===r.getComputedStyle(t).overflowY?t:n}r.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{r.forEach(e=>{let{value:t,el:r,property:n}=e;t?r.style.setProperty(n,t):r.style.removeProperty(n)})}}const tR=()=>{},rR=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(-1!==r)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&JM(e.modalRef,!1);const n=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);QM(t,e.mount,e.modalRef,n,!0);const a=ZM(this.containers,e=>e.container===t);return-1!==a?(this.containers[a].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:n}),r)}mount(e,t){const r=ZM(this.containers,t=>t.modals.includes(e)),n=this.containers[r];n.restore||(n.restore=eR(n,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=this.modals.indexOf(e);if(-1===r)return r;const n=ZM(this.containers,t=>t.modals.includes(e)),a=this.containers[n];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(r,1),0===a.modals.length)a.restore&&a.restore(),e.modalRef&&JM(e.modalRef,t),QM(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(n,1);else{const e=a.modals[a.modals.length-1];e.modalRef&&JM(e.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const nR=function(e){const{container:r,disableEscapeKeyDown:n=!1,disableScrollLock:a=!1,closeAfterTransition:s=!1,onTransitionEnter:i,onTransitionExited:o,children:l,onClose:c,open:d,rootRef:u}=e,h=t.useRef({}),p=t.useRef(null),m=t.useRef(null),f=ID(m,u),[g,x]=t.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let v=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(v=!1);const y=()=>(h.current.modalRef=m.current,h.current.mount=p.current,h.current),w=()=>{rR.mount(y(),{disableScrollLock:a}),m.current&&(m.current.scrollTop=0)},j=eT(()=>{const e=function(e){return"function"===typeof e?e():e}(r)||qI(p.current).body;rR.add(y(),e),m.current&&w()}),N=()=>rR.isTopModal(y()),k=eT(e=>{p.current=e,e&&(d&&N()?w():m.current&&JM(m.current,v))}),S=t.useCallback(()=>{rR.remove(y(),v)},[v]);t.useEffect(()=>()=>{S()},[S]),t.useEffect(()=>{d?j():b&&s||S()},[d,S,b,s,j]);const C=e=>t=>{var r;null===(r=e.onKeyDown)||void 0===r||r.call(e,t),"Escape"===t.key&&229!==t.which&&N()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},_=e=>t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=zD(e);delete r.onTransitionEnter,delete r.onTransitionExited;const n=Ne(Ne({},r),t);return Ne(Ne({role:"presentation"},n),{},{onKeyDown:C(n),ref:f})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ne(Ne({"aria-hidden":!0},e),{},{onClick:_(e),open:d})},getTransitionProps:()=>{var e,t;return{onEnter:$M(()=>{x(!1),i&&i()},null!==(e=null===l||void 0===l?void 0:l.props.onEnter)&&void 0!==e?e:tR),onExited:$M(()=>{x(!0),o&&o(),s&&S()},null!==(t=null===l||void 0===l?void 0:l.props.onExited)&&void 0!==t?t:tR)}},rootRef:f,portalRef:k,isTopModal:N,exited:g,hasTransition:b}};function aR(e){return mA("MuiModal",e)}fA("MuiModal",["root","hidden","backdrop"]);const sR=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],iR=qA("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(HA(e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}})),oR=qA(YM,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),lR=t.forwardRef(function(e,r){const n=YA({name:"MuiModal",props:e}),{BackdropComponent:a=oR,BackdropProps:s,classes:i,className:o,closeAfterTransition:l=!1,children:c,container:d,component:u,components:h={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:f=!1,disableEscapeKeyDown:g=!1,disablePortal:x=!1,disableRestoreFocus:b=!1,disableScrollLock:v=!1,hideBackdrop:y=!1,keepMounted:w=!1,onClose:j,onTransitionEnter:N,onTransitionExited:k,open:S,slotProps:C={},slots:_={},theme:P}=n,A=ke(n,sR),D=Ne(Ne({},n),{},{closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:f,disableEscapeKeyDown:g,disablePortal:x,disableRestoreFocus:b,disableScrollLock:v,hideBackdrop:y,keepMounted:w}),{getRootProps:T,getBackdropProps:L,getTransitionProps:E,portalRef:I,isTopModal:M,exited:R,hasTransition:F}=nR(Ne(Ne({},D),{},{rootRef:r})),z=Ne(Ne({},D),{},{exited:R}),O=(e=>{const{open:t,exited:r,classes:n}=e;return wA({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},aR,n)})(z),B={};if(void 0===c.props.tabIndex&&(B.tabIndex="-1"),F){const{onEnter:e,onExited:t}=E();B.onEnter=e,B.onExited=t}const U={slots:Ne({root:h.Root,backdrop:h.Backdrop},_),slotProps:Ne(Ne({},p),C)},[q,W]=HD("root",{ref:r,elementType:iR,externalForwardedProps:Ne(Ne(Ne({},U),A),{},{component:u}),getSlotProps:T,ownerState:z,className:Mk(o,null===O||void 0===O?void 0:O.root,!z.open&&z.exited&&(null===O||void 0===O?void 0:O.hidden))}),[H,V]=HD("backdrop",{ref:null===s||void 0===s?void 0:s.ref,elementType:a,externalForwardedProps:U,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:e=>L(Ne(Ne({},e),{},{onClick:t=>{null!==e&&void 0!==e&&e.onClick&&e.onClick(t)}})),className:Mk(null===s||void 0===s?void 0:s.className,null===O||void 0===O?void 0:O.backdrop),ownerState:z});return w||S||F&&!R?(0,$r.jsx)(zM,{ref:I,container:d,disablePortal:x,children:(0,$r.jsxs)(q,Ne(Ne({},W),{},{children:[!y&&a?(0,$r.jsx)(H,Ne({},V)):null,(0,$r.jsx)(RM,{disableEnforceFocus:f,disableAutoFocus:m,disableRestoreFocus:b,isEnabled:M,open:S,children:t.cloneElement(c,B)})]}))}):null}),cR=lR;function dR(e){return mA("MuiPopover",e)}fA("MuiPopover",["root","paper"]);function uR(e,t){if(!e)return t;function r(e,t){const r={};return Object.keys(t).forEach(n=>{(function(e,t){const r=e.charCodeAt(2);return"o"===e[0]&&"n"===e[1]&&r>=65&&r<=90&&"function"===typeof t})(n,t[n])&&"function"===typeof e[n]&&(r[n]=function(){e[n](...arguments),t[n](...arguments)})}),r}if("function"===typeof e||"function"===typeof t)return n=>{const a="function"===typeof t?t(n):t,s="function"===typeof e?e(Ne(Ne({},n),a)):e,i=Mk(null===n||void 0===n?void 0:n.className,null===a||void 0===a?void 0:a.className,null===s||void 0===s?void 0:s.className),o=r(s,a);return Ne(Ne(Ne(Ne(Ne(Ne({},a),s),o),!!i&&{className:i}),(null===a||void 0===a?void 0:a.style)&&(null===s||void 0===s?void 0:s.style)&&{style:Ne(Ne({},a.style),s.style)}),(null===a||void 0===a?void 0:a.sx)&&(null===s||void 0===s?void 0:s.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(s.sx)?s.sx:[s.sx]]})};const n=t,a=r(e,n),s=Mk(null===n||void 0===n?void 0:n.className,null===e||void 0===e?void 0:e.className);return Ne(Ne(Ne(Ne(Ne(Ne({},t),e),a),!!s&&{className:s}),(null===n||void 0===n?void 0:n.style)&&(null===e||void 0===e?void 0:e.style)&&{style:Ne(Ne({},n.style),e.style)}),(null===n||void 0===n?void 0:n.sx)&&(null===e||void 0===e?void 0:e.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]})}const hR=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],pR=["slots","slotProps"];function mR(e,t){let r=0;return"number"===typeof t?r=t:"center"===t?r=e.height/2:"bottom"===t&&(r=e.height),r}function fR(e,t){let r=0;return"number"===typeof t?r=t:"center"===t?r=e.width/2:"right"===t&&(r=e.width),r}function gR(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?"".concat(e,"px"):e).join(" ")}function xR(e){return"function"===typeof e?e():e}const bR=qA(cR,{name:"MuiPopover",slot:"Root"})({}),vR=qA(ED,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),yR=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiPopover"}),{action:a,anchorEl:s,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:l="anchorEl",children:c,className:d,container:u,elevation:h=8,marginThreshold:p=16,open:m,PaperProps:f={},slots:g={},slotProps:x={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:v,transitionDuration:y="auto",TransitionProps:w={},disableScrollLock:j=!1}=n,N=ke(n,hR),k=t.useRef(),S=Ne(Ne({},n),{},{anchorOrigin:i,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:b,TransitionComponent:v,transitionDuration:y,TransitionProps:w}),C=(e=>{const{classes:t}=e;return wA({root:["root"],paper:["paper"]},dR,t)})(S),_=t.useCallback(()=>{if("anchorPosition"===l)return o;const e=xR(s),t=(e&&1===e.nodeType?e:WI(k.current).body).getBoundingClientRect();return{top:t.top+mR(t,i.vertical),left:t.left+fR(t,i.horizontal)}},[s,i.horizontal,i.vertical,o,l]),P=t.useCallback(e=>({vertical:mR(e,b.vertical),horizontal:fR(e,b.horizontal)}),[b.horizontal,b.vertical]),A=t.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},r=P(t);if("none"===l)return{top:null,left:null,transformOrigin:gR(r)};const n=_();let a=n.top-r.vertical,i=n.left-r.horizontal;const o=a+t.height,c=i+t.width,d=sM(xR(s)),u=d.innerHeight-p,h=d.innerWidth-p;if(null!==p&&a<p){const e=a-p;a-=e,r.vertical+=e}else if(null!==p&&o>u){const e=o-u;a-=e,r.vertical+=e}if(null!==p&&i<p){const e=i-p;i-=e,r.horizontal+=e}else if(c>h){const e=c-h;i-=e,r.horizontal+=e}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:gR(r)}},[s,l,_,P,p]),[D,T]=t.useState(m),L=t.useCallback(()=>{const e=k.current;if(!e)return;const t=A(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,T(!0)},[A]);t.useEffect(()=>(j&&window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)),[s,j,L]);t.useEffect(()=>{m&&L()}),t.useImperativeHandle(a,()=>m?{updatePosition:()=>{L()}}:null,[m,L]),t.useEffect(()=>{if(!m)return;const e=mM(()=>{L()}),t=sM(xR(s));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[s,m,L]);let E=y;const I={slots:Ne({transition:v},g),slotProps:Ne({transition:w,paper:f},x)},[M,R]=HD("transition",{elementType:LM,externalForwardedProps:I,ownerState:S,getSlotProps:e=>Ne(Ne({},e),{},{onEntering:(t,r)=>{var n;null===(n=e.onEntering)||void 0===n||n.call(e,t,r),L()},onExited:t=>{var r;null===(r=e.onExited)||void 0===r||r.call(e,t),T(!1)}}),additionalProps:{appear:!0,in:m}});"auto"!==y||M.muiSupportAuto||(E=void 0);const F=u||(s?WI(xR(s)).body:void 0),[z,O]=HD("root",{ref:r,elementType:bR,externalForwardedProps:Ne(Ne({},I),N),shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:g.backdrop},slotProps:{backdrop:uR("function"===typeof x.backdrop?x.backdrop(S):x.backdrop,{invisible:!0})},container:F,open:m},ownerState:S,className:Mk(C.root,d)}),{slots:B,slotProps:U}=O,q=ke(O,pR),[W,H]=HD("paper",{ref:k,className:C.paper,elementType:vR,externalForwardedProps:I,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:D?void 0:{opacity:0}},ownerState:S});return(0,$r.jsx)(z,Ne(Ne(Ne({},q),!MD(z)&&{slots:B,slotProps:U,disableScrollLock:j}),{},{children:(0,$r.jsx)(M,Ne(Ne({},R),{},{timeout:E,children:(0,$r.jsx)(W,Ne(Ne({},H),{},{children:c}))}))}))}),wR=yR;function jR(e){return mA("MuiMenu",e)}fA("MuiMenu",["root","paper","list"]);const NR=["onEntering"],kR=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],SR={vertical:"top",horizontal:"right"},CR={vertical:"top",horizontal:"left"},_R=qA(wR,{shouldForwardProp:e=>UA(e)||"classes"===e,name:"MuiMenu",slot:"Root"})({}),PR=qA(vR,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),AR=qA(hM,{name:"MuiMenu",slot:"List"})({outline:0}),DR=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:i,disableAutoFocusItem:o=!1,MenuListProps:l={},onClose:c,open:d,PaperProps:u={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m}={},variant:f="selectedMenu",slots:g={},slotProps:x={}}=n,b=ke(n.TransitionProps,NR),v=ke(n,kR),y=VI(),w=Ne(Ne({},n),{},{autoFocus:a,disableAutoFocusItem:o,MenuListProps:l,onEntering:m,PaperProps:u,transitionDuration:p,TransitionProps:b,variant:f}),j=(e=>{const{classes:t}=e;return wA({root:["root"],paper:["paper"],list:["list"]},jR,t)})(w),N=a&&!o&&d,k=t.useRef(null);let S=-1;t.Children.map(s,(e,r)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===f&&e.props.selected||-1===S)&&(S=r))});const C={slots:g,slotProps:Ne({list:l,transition:b,paper:u},x)},_=GI({elementType:g.root,externalSlotProps:x.root,ownerState:w,className:[j.root,i]}),[P,A]=HD("paper",{className:j.paper,elementType:PR,externalForwardedProps:C,shouldForwardComponentProp:!0,ownerState:w}),[D,T]=HD("list",{className:Mk(j.list,l.className),elementType:AR,shouldForwardComponentProp:!0,externalForwardedProps:C,getSlotProps:e=>Ne(Ne({},e),{},{onKeyDown:t=>{var r;(e=>{"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))})(t),null===(r=e.onKeyDown)||void 0===r||r.call(e,t)}}),ownerState:w}),L="function"===typeof C.slotProps.transition?C.slotProps.transition(w):C.slotProps.transition;return(0,$r.jsx)(_R,Ne(Ne({onClose:c,anchorOrigin:{vertical:"bottom",horizontal:y?"right":"left"},transformOrigin:y?SR:CR,slots:Ne({root:g.root,paper:P,backdrop:g.backdrop},g.transition&&{transition:g.transition}),slotProps:{root:_,paper:A,backdrop:"function"===typeof x.backdrop?x.backdrop(w):x.backdrop,transition:Ne(Ne({},L),{},{onEntering:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];((e,t)=>{k.current&&k.current.adjustStyleForScrollbar(e,{direction:y?"rtl":"ltr"}),m&&m(e,t)})(...r),null===L||void 0===L||null===(e=L.onEntering)||void 0===e||e.call(L,...r)}})},open:d,ref:r,transitionDuration:p,ownerState:w},v),{},{classes:h,children:(0,$r.jsx)(D,Ne(Ne({actions:k,autoFocus:a&&(-1===S||o),autoFocusItem:N,variant:f},T),{},{children:s}))}))}),TR=DR;function LR(e){return mA("MuiNativeSelect",e)}const ER=fA("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),IR=["className","disabled","error","IconComponent","inputRef","variant"],MR=qA("select",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},["&.".concat(ER.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}}),RR=qA(MR,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:UA,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{["&.".concat(ER.multiple)]:t.multiple}]}})({}),FR=qA("svg",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,["&.".concat(ER.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}}),zR=qA(FR,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t["icon".concat($A(r.variant))],r.open&&t.iconOpen]}})({}),OR=t.forwardRef(function(e,r){const{className:n,disabled:a,error:s,IconComponent:i,inputRef:o,variant:l="standard"}=e,c=ke(e,IR),d=Ne(Ne({},e),{},{disabled:a,variant:l,error:s}),u=(e=>{const{classes:t,variant:r,disabled:n,multiple:a,open:s,error:i}=e;return wA({select:["select",r,n&&"disabled",a&&"multiple",i&&"error"],icon:["icon","icon".concat($A(r)),s&&"iconOpen",n&&"disabled"]},LR,t)})(d);return(0,$r.jsxs)(t.Fragment,{children:[(0,$r.jsx)(RR,Ne({ownerState:d,className:Mk(u.select,n),disabled:a,ref:o||r},c)),e.multiple?null:(0,$r.jsx)(zR,{as:i,ownerState:d,className:u.icon})]})}),BR=OR;const UR=function(e){const{controlled:r,default:n,name:a,state:s="value"}=e,{current:i}=t.useRef(void 0!==r),[o,l]=t.useState(n);return[i?r:o,t.useCallback(e=>{i||l(e)},[])]};function qR(e){return mA("MuiSelect",e)}const WR=fA("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),HR=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onKeyDown","onMouseDown","onOpen","open","readOnly","renderValue","required","SelectDisplayProps","tabIndex","type","value","variant"];var VR;const KR=qA(MR,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{["&.".concat(WR.select)]:t.select},{["&.".concat(WR.select)]:t[r.variant]},{["&.".concat(WR.error)]:t.error},{["&.".concat(WR.multiple)]:t.multiple}]}})({["&.".concat(WR.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),GR=qA(FR,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t["icon".concat($A(r.variant))],r.open&&t.iconOpen]}})({}),YR=qA("input",{shouldForwardProp:e=>BA(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function $R(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function JR(e){return null==e||"string"===typeof e&&!e.trim()}const XR=t.forwardRef(function(e,r){var n,a,s,i;const{"aria-describedby":o,"aria-label":l,autoFocus:c,autoWidth:d,children:u,className:h,defaultOpen:p,defaultValue:m,disabled:f,displayEmpty:g,error:x=!1,IconComponent:b,inputRef:v,labelId:y,MenuProps:w={},multiple:j,name:N,onBlur:k,onChange:S,onClose:C,onFocus:_,onKeyDown:P,onMouseDown:A,onOpen:D,open:T,readOnly:L,renderValue:E,required:I,SelectDisplayProps:M={},tabIndex:R,type:F,value:z,variant:O="standard"}=e,B=ke(e,HR),[U,q]=UR({controlled:z,default:m,name:"Select"}),[W,H]=UR({controlled:T,default:p,name:"Select"}),V=t.useRef(null),K=t.useRef(null),[G,Y]=t.useState(null),{current:$}=t.useRef(null!=T),[J,X]=t.useState(),Q=QD(r,v),Z=t.useCallback(e=>{K.current=e,e&&Y(e)},[]),ee=null===G||void 0===G?void 0:G.parentNode;t.useImperativeHandle(Q,()=>({focus:()=>{K.current.focus()},node:V.current,value:U}),[U]);const te=null!==G&&W;t.useEffect(()=>{if(!te||!ee||d)return;if("undefined"===typeof ResizeObserver)return;const e=new ResizeObserver(()=>{X(ee.clientWidth)});return e.observe(ee),()=>{e.disconnect()}},[te,ee,d]),t.useEffect(()=>{p&&W&&G&&!$&&(X(d?null:ee.clientWidth),K.current.focus())},[G,d]),t.useEffect(()=>{c&&K.current.focus()},[c]),t.useEffect(()=>{if(!y)return;const e=WI(K.current).getElementById(y);if(e){const t=()=>{getSelection().isCollapsed&&K.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[y]);const re=(e,t)=>{e?D&&D(t):C&&C(t),$||(X(d?null:ee.clientWidth),H(e))},ne=t.Children.toArray(u),ae=e=>t=>{let r;if(t.currentTarget.hasAttribute("tabindex")){if(j){r=Array.isArray(U)?U.slice():[];const t=U.indexOf(e.props.value);-1===t?r.push(e.props.value):r.splice(t,1)}else r=e.props.value;if(e.props.onClick&&e.props.onClick(t),U!==r&&(q(r),S)){const n=t.nativeEvent||t,a=new n.constructor(n.type,n);Object.defineProperty(a,"target",{writable:!0,value:{value:r,name:N}}),S(a,e)}j||re(!1,t)}};let se,ie;delete B["aria-invalid"];const oe=[];let le=!1,ce=!1;(vI({value:U})||g)&&(E?se=E(U):le=!0);const de=ne.map(e=>{if(!t.isValidElement(e))return null;let r;if(j){if(!Array.isArray(U))throw new Error(wC(2));r=U.some(t=>$R(t,e.props.value)),r&&le&&oe.push(e.props.children)}else r=$R(U,e.props.value),r&&le&&(ie=e.props.children);return r&&(ce=!0),t.cloneElement(e,{"aria-selected":r?"true":"false",onClick:ae(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:r,value:void 0,"data-value":e.props.value})});le&&(se=j?0===oe.length?null:oe.reduce((e,t,r)=>(e.push(t),r<oe.length-1&&e.push(", "),e),[]):ie);let ue,he=J;!d&&$&&G&&(he=ee.clientWidth),ue="undefined"!==typeof R?R:f?null:0;const pe=M.id||(N?"mui-component-select-".concat(N):void 0),me=Ne(Ne({},e),{},{variant:O,value:U,open:te,error:x}),fe=(e=>{const{classes:t,variant:r,disabled:n,multiple:a,open:s,error:i}=e;return wA({select:["select",r,n&&"disabled",a&&"multiple",i&&"error"],icon:["icon","icon".concat($A(r)),s&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]},qR,t)})(me),ge=Ne(Ne({},w.PaperProps),"function"===typeof(null===(n=w.slotProps)||void 0===n?void 0:n.paper)?w.slotProps.paper(me):null===(a=w.slotProps)||void 0===a?void 0:a.paper),xe=Ne(Ne({},w.MenuListProps),"function"===typeof(null===(s=w.slotProps)||void 0===s?void 0:s.list)?w.slotProps.list(me):null===(i=w.slotProps)||void 0===i?void 0:i.list),be=$D();return(0,$r.jsxs)(t.Fragment,{children:[(0,$r.jsx)(KR,Ne(Ne({as:"div",ref:Z,tabIndex:ue,role:"combobox","aria-controls":te?be:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":te?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[y,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":o,"aria-required":I?"true":void 0,"aria-invalid":x?"true":void 0,onKeyDown:e=>{if(!L){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),re(!0,e)),null===P||void 0===P||P(e)}},onMouseDown:f||L?null:e=>{null===A||void 0===A||A(e),0===e.button&&(e.preventDefault(),K.current.focus(),re(!0,e))},onBlur:e=>{!te&&k&&(Object.defineProperty(e,"target",{writable:!0,value:{value:U,name:N}}),k(e))},onFocus:_},M),{},{ownerState:me,className:Mk(M.className,fe.select,h),id:pe,children:JR(se)?VR||(VR=(0,$r.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):se})),(0,$r.jsx)(YR,Ne(Ne({"aria-invalid":x,value:Array.isArray(U)?U.join(","):U,name:N,ref:V,"aria-hidden":!0,onChange:e=>{const t=ne.find(t=>t.props.value===e.target.value);void 0!==t&&(q(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:f,className:fe.nativeInput,autoFocus:c,required:I},B),{},{ownerState:me})),(0,$r.jsx)(GR,{as:b,className:fe.icon,ownerState:me}),(0,$r.jsx)(TR,Ne(Ne({id:"menu-".concat(N||""),anchorEl:ee,open:te,onClose:e=>{re(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w),{},{slotProps:Ne(Ne({},w.slotProps),{},{list:Ne({"aria-labelledby":y,role:"listbox","aria-multiselectable":j?"true":void 0,disableListWrap:!0,id:be},xe),paper:Ne(Ne({},ge),{},{style:Ne({minWidth:he},null!=ge?ge.style:null)})}),children:de}))]})}),QR=XR,ZR=YT((0,$r.jsx)("path",{d:"M7 10l5 5 5-5z"})),eF=["onChange","maxRows","minRows","style","value"];function tF(e){return parseInt(e,10)||0}const rF={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function nF(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const aF=t.forwardRef(function(e,r){const{onChange:n,maxRows:a,minRows:s=1,style:i,value:o}=e,l=ke(e,eF),{current:c}=t.useRef(null!=o),d=t.useRef(null),u=ID(r,d),h=t.useRef(null),p=t.useRef(null),m=t.useCallback(()=>{const t=d.current,r=p.current;if(!t||!r)return;const n=aM(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const i=n.boxSizing,o=tF(n.paddingBottom)+tF(n.paddingTop),l=tF(n.borderBottomWidth)+tF(n.borderTopWidth),c=r.scrollHeight;r.value="x";const u=r.scrollHeight;let h=c;s&&(h=Math.max(Number(s)*u,h)),a&&(h=Math.min(Number(a)*u,h)),h=Math.max(h,u);return{outerHeightStyle:h+("border-box"===i?o+l:0),overflowing:Math.abs(h-c)<=1}},[a,s,e.placeholder]),f=eT(()=>{const e=d.current,t=m();if(!e||!t||nF(t))return!1;const r=t.outerHeightStyle;return null!=h.current&&h.current!==r}),g=t.useCallback(()=>{const e=d.current,t=m();if(!e||!t||nF(t))return;const r=t.outerHeightStyle;h.current!==r&&(h.current=r,e.style.height="".concat(r,"px")),e.style.overflow=t.overflowing?"hidden":""},[m]),x=t.useRef(-1);ZD(()=>{const e=pM(g),t=null===d||void 0===d?void 0:d.current;if(!t)return;const r=aM(t);let n;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(n=new ResizeObserver(()=>{f()&&(n.unobserve(t),cancelAnimationFrame(x.current),g(),x.current=requestAnimationFrame(()=>{n.observe(t)}))}),n.observe(t)),()=>{e.clear(),cancelAnimationFrame(x.current),r.removeEventListener("resize",e),n&&n.disconnect()}},[m,g,f]),ZD(()=>{g()});return(0,$r.jsxs)(t.Fragment,{children:[(0,$r.jsx)("textarea",Ne({value:o,onChange:e=>{c||g();const t=e.target,r=t.value.length,a=t.value.endsWith("\n"),s=t.selectionStart===r;a&&s&&t.setSelectionRange(r,r),n&&n(e)},ref:u,rows:s,style:i},l)),(0,$r.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:Ne(Ne(Ne({},rF),i),{},{paddingTop:0,paddingBottom:0})})]})}),sF=aF;function iF(e){return mA("MuiInputBase",e)}const oF=fA("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),lF=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"];var cF;const dF=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,"small"===r.size&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t["color".concat($A(r.color))],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},uF=(e,t)=>{const{ownerState:r}=e;return[t.input,"small"===r.size&&t.inputSizeSmall,r.multiline&&t.inputMultiline,"search"===r.type&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},hF=qA("div",{name:"MuiInputBase",slot:"Root",overridesResolver:dF})(HA(e=>{let{theme:t}=e;return Ne(Ne({},t.typography.body1),{},{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(oF.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:r}=e;return t.multiline&&"small"===r},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]})})),pF=qA("input",{name:"MuiInputBase",slot:"Input",overridesResolver:uF})(HA(e=>{let{theme:t}=e;const r="light"===t.palette.mode,n=Ne(Ne({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5}),{},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),a={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(oF.formControl," &")]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},["&.".concat(oF.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),mF=function(e){return function(t){return(0,$r.jsx)(xD,{styles:"function"===typeof e?r=>e(Ne({theme:r},t)):e})}}({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),fF=t.forwardRef(function(e,r){var n;const a=YA({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:i,autoFocus:o,className:l,color:c,components:d={},componentsProps:u={},defaultValue:h,disabled:p,disableInjectingGlobalStyles:m,endAdornment:f,error:g,fullWidth:x=!1,id:b,inputComponent:v="input",inputProps:y={},inputRef:w,margin:j,maxRows:N,minRows:k,multiline:S=!1,name:C,onBlur:_,onChange:P,onClick:A,onFocus:D,onKeyDown:T,onKeyUp:L,placeholder:E,readOnly:I,renderSuffix:M,rows:R,size:F,slotProps:z={},slots:O={},startAdornment:B,type:U="text",value:q}=a,W=ke(a,lF),H=null!=y.value?y.value:q,{current:V}=t.useRef(null!=H),K=t.useRef(),G=t.useCallback(e=>{0},[]),Y=QD(K,w,y.ref,G),[$,J]=t.useState(!1),X=PI();const Q=_I({props:a,muiFormControl:X,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Q.focused=X?X.focused:$,t.useEffect(()=>{!X&&p&&$&&(J(!1),_&&_())},[X,p,$,_]);const Z=X&&X.onFilled,ee=X&&X.onEmpty,te=t.useCallback(e=>{vI(e)?Z&&Z():ee&&ee()},[Z,ee]);nM(()=>{V&&te({value:H})},[H,te,V]);t.useEffect(()=>{te(K.current)},[]);let re=v,ne=y;S&&"input"===re&&(ne=Ne(R?{type:void 0,minRows:R,maxRows:R}:{type:void 0,maxRows:N,minRows:k},ne),re=sF);t.useEffect(()=>{X&&X.setAdornedStart(Boolean(B))},[X,B]);const ae=Ne(Ne({},a),{},{color:Q.color||"primary",disabled:Q.disabled,endAdornment:f,error:Q.error,focused:Q.focused,formControl:X,fullWidth:x,hiddenLabel:Q.hiddenLabel,multiline:S,size:Q.size,startAdornment:B,type:U}),se=(e=>{const{classes:t,color:r,disabled:n,error:a,endAdornment:s,focused:i,formControl:o,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:u,size:h,startAdornment:p,type:m}=e;return wA({root:["root","color".concat($A(r)),n&&"disabled",a&&"error",l&&"fullWidth",i&&"focused",o&&"formControl",h&&"medium"!==h&&"size".concat($A(h)),d&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",u&&"readOnly"],input:["input",n&&"disabled","search"===m&&"inputTypeSearch",d&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",u&&"readOnly"]},iF,t)})(ae),ie=O.root||d.Root||hF,oe=z.root||u.root||{},le=O.input||d.Input||pF;return ne=Ne(Ne({},ne),null!==(n=z.input)&&void 0!==n?n:u.input),(0,$r.jsxs)(t.Fragment,{children:[!m&&"function"===typeof mF&&(cF||(cF=(0,$r.jsx)(mF,{}))),(0,$r.jsxs)(ie,Ne(Ne(Ne(Ne({},oe),{},{ref:r,onClick:e=>{K.current&&e.currentTarget===e.target&&K.current.focus(),A&&A(e)}},W),!MD(ie)&&{ownerState:Ne(Ne({},ae),oe.ownerState)}),{},{className:Mk(se.root,oe.className,l,I&&"MuiInputBase-readOnly"),children:[B,(0,$r.jsx)(wI.Provider,{value:null,children:(0,$r.jsx)(le,Ne(Ne(Ne({"aria-invalid":Q.error,"aria-describedby":s,autoComplete:i,autoFocus:o,defaultValue:h,disabled:Q.disabled,id:b,onAnimationStart:e=>{te("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:C,placeholder:E,readOnly:I,required:Q.required,rows:R,value:H,onKeyDown:T,onKeyUp:L,type:U},ne),!MD(le)&&{as:re,ownerState:Ne(Ne({},ae),ne.ownerState)}),{},{ref:Y,className:Mk(se.input,ne.className,I&&"MuiInputBase-readOnly"),onBlur:e=>{_&&_(e),y.onBlur&&y.onBlur(e),X&&X.onBlur?X.onBlur(e):J(!1)},onChange:function(e){if(!V){const t=e.target||K.current;if(null==t)throw new Error(wC(1));te({value:t.value})}for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];y.onChange&&y.onChange(e,...r),P&&P(e,...r)},onFocus:e=>{D&&D(e),y.onFocus&&y.onFocus(e),X&&X.onFocus?X.onFocus(e):J(!0)}}))}),f,M?M(Ne(Ne({},Q),{},{startAdornment:B})):null]}))]})}),gF=fF;function xF(e){return mA("MuiInput",e)}const bF=Ne(Ne({},oF),fA("MuiInput",["root","underline","input"])),vF=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],yF=qA(hF,{shouldForwardProp:e=>UA(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...dF(e,t),!r.disableUnderline&&t.underline]}})(HA(e=>{let{theme:t}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(bF.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(bF.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(bF.disabled,", .").concat(bF.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(bF.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(JA()).map(e=>{let[r]=e;return{props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[r].main)}}}})]}})),wF=qA(pF,{name:"MuiInput",slot:"Input",overridesResolver:uF})({}),jF=t.forwardRef(function(e,t){var r,n,a,s;const i=YA({props:e,name:"MuiInput"}),{disableUnderline:o=!1,components:l={},componentsProps:c,fullWidth:d=!1,inputComponent:u="input",multiline:h=!1,slotProps:p,slots:m={},type:f="text"}=i,g=ke(i,vF),x=(e=>{const{classes:t,disableUnderline:r}=e,n=wA({root:["root",!r&&"underline"],input:["input"]},xF,t);return Ne(Ne({},t),n)})(i),b={root:{ownerState:{disableUnderline:o}}},v=(null!==p&&void 0!==p?p:c)?CC(null!==p&&void 0!==p?p:c,b):b,y=null!==(r=null!==(n=m.root)&&void 0!==n?n:l.Root)&&void 0!==r?r:yF,w=null!==(a=null!==(s=m.input)&&void 0!==s?s:l.Input)&&void 0!==a?a:wF;return(0,$r.jsx)(gF,Ne(Ne({slots:{root:y,input:w},slotProps:v,fullWidth:d,inputComponent:u,multiline:h,ref:t,type:f},g),{},{classes:x}))});jF.muiName="Input";const NF=jF;function kF(e){return mA("MuiFilledInput",e)}const SF=Ne(Ne({},oF),fA("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])),CF=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],_F=qA(hF,{shouldForwardProp:e=>UA(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...dF(e,t),!r.disableUnderline&&t.underline]}})(HA(e=>{let{theme:t}=e;const r="light"===t.palette.mode,n=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(SF.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(SF.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(SF.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(SF.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(SF.disabled,", .").concat(SF.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(SF.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(JA()).map(e=>{var r;let[n]=e;return{props:{disableUnderline:!1,color:n},style:{"&::after":{borderBottom:"2px solid ".concat(null===(r=(t.vars||t).palette[n])||void 0===r?void 0:r.main)}}}}),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:r}=e;return t.multiline&&"small"===r},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}})),PF=qA(pF,{name:"MuiFilledInput",slot:"Input",overridesResolver:uF})(HA(e=>{let{theme:t}=e;return Ne(Ne(Ne({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]})})),AF=t.forwardRef(function(e,t){var r,n,a,s;const i=YA({props:e,name:"MuiFilledInput"}),{disableUnderline:o=!1,components:l={},componentsProps:c,fullWidth:d=!1,hiddenLabel:u,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:f={},type:g="text"}=i,x=ke(i,CF),b=Ne(Ne({},i),{},{disableUnderline:o,fullWidth:d,inputComponent:h,multiline:p,type:g}),v=(e=>{const{classes:t,disableUnderline:r,startAdornment:n,endAdornment:a,size:s,hiddenLabel:i,multiline:o}=e,l=wA({root:["root",!r&&"underline",n&&"adornedStart",a&&"adornedEnd","small"===s&&"size".concat($A(s)),i&&"hiddenLabel",o&&"multiline"],input:["input"]},kF,t);return Ne(Ne({},t),l)})(i),y={root:{ownerState:b},input:{ownerState:b}},w=(null!==m&&void 0!==m?m:c)?CC(y,null!==m&&void 0!==m?m:c):y,j=null!==(r=null!==(n=f.root)&&void 0!==n?n:l.Root)&&void 0!==r?r:_F,N=null!==(a=null!==(s=f.input)&&void 0!==s?s:l.Input)&&void 0!==a?a:PF;return(0,$r.jsx)(gF,Ne(Ne({slots:{root:j,input:N},slotProps:w,fullWidth:d,inputComponent:h,multiline:p,ref:t,type:g},x),{},{classes:v}))});AF.muiName="Input";const DF=AF,TF=["children","classes","className","label","notched"];var LF;const EF=qA("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:UA})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),IF=qA("legend",{name:"MuiNotchedOutlined",shouldForwardProp:UA})(HA(e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}}));function MF(e){return mA("MuiOutlinedInput",e)}const RF=Ne(Ne({},oF),fA("MuiOutlinedInput",["root","notchedOutline","input"])),FF=["components","fullWidth","inputComponent","label","multiline","notched","slots","slotProps","type"],zF=qA(hF,{shouldForwardProp:e=>UA(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:dF})(HA(e=>{let{theme:t}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(RF.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(RF.notchedOutline)]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):r}},["&.".concat(RF.focused," .").concat(RF.notchedOutline)]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(JA()).map(e=>{let[r]=e;return{props:{color:r},style:{["&.".concat(RF.focused," .").concat(RF.notchedOutline)]:{borderColor:(t.vars||t).palette[r].main}}}}),{props:{},style:{["&.".concat(RF.error," .").concat(RF.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(RF.disabled," .").concat(RF.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:r}=e;return t.multiline&&"small"===r},style:{padding:"8.5px 14px"}}]}})),OF=qA(function(e){const{children:t,classes:r,className:n,label:a,notched:s}=e,i=ke(e,TF),o=null!=a&&""!==a,l=Ne(Ne({},e),{},{notched:s,withLabel:o});return(0,$r.jsx)(EF,Ne(Ne({"aria-hidden":!0,className:n,ownerState:l},i),{},{children:(0,$r.jsx)(IF,{ownerState:l,children:o?(0,$r.jsx)("span",{children:a}):LF||(LF=(0,$r.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline"})(HA(e=>{let{theme:t}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):r}})),BF=qA(pF,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:uF})(HA(e=>{let{theme:t}=e;return Ne(Ne(Ne({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]})})),UF=t.forwardRef(function(e,r){var n,a,s,i;const o=YA({props:e,name:"MuiOutlinedInput"}),{components:l={},fullWidth:c=!1,inputComponent:d="input",label:u,multiline:h=!1,notched:p,slots:m={},slotProps:f={},type:g="text"}=o,x=ke(o,FF),b=(e=>{const{classes:t}=e,r=wA({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},MF,t);return Ne(Ne({},t),r)})(o),v=PI(),y=_I({props:o,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=Ne(Ne({},o),{},{color:y.color||"primary",disabled:y.disabled,error:y.error,focused:y.focused,formControl:v,fullWidth:c,hiddenLabel:y.hiddenLabel,multiline:h,size:y.size,type:g}),j=null!==(n=null!==(a=m.root)&&void 0!==a?a:l.Root)&&void 0!==n?n:zF,N=null!==(s=null!==(i=m.input)&&void 0!==i?i:l.Input)&&void 0!==s?s:BF,[k,S]=HD("notchedOutline",{elementType:OF,className:b.notchedOutline,shouldForwardComponentProp:!0,ownerState:w,externalForwardedProps:{slots:m,slotProps:f},additionalProps:{label:null!=u&&""!==u&&y.required?(0,$r.jsxs)(t.Fragment,{children:[u,"\u2009","*"]}):u}});return(0,$r.jsx)(gF,Ne(Ne({slots:{root:j,input:N},slotProps:f,renderSuffix:e=>(0,$r.jsx)(k,Ne(Ne({},S),{},{notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)})),fullWidth:c,inputComponent:d,multiline:h,ref:r,type:g},x),{},{classes:Ne(Ne({},b),{},{notchedOutline:null})}))});UF.muiName="Input";const qF=UF,WF=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],HF=["root"],VF={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>UA(e)&&"variant"!==e},KF=qA(NF,VF)(""),GF=qA(qF,VF)(""),YF=qA(DF,VF)(""),$F=t.forwardRef(function(e,r){const n=YA({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:s,classes:i={},className:o,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=ZR,id:u,input:h,inputProps:p,label:m,labelId:f,MenuProps:g,multiple:x=!1,native:b=!1,onClose:v,onOpen:y,open:w,renderValue:j,SelectDisplayProps:N,variant:k="outlined"}=n,S=ke(n,WF),C=b?BR:QR,_=_I({props:n,muiFormControl:PI(),states:["variant","error"]}),P=_.variant||k,A=Ne(Ne({},n),{},{variant:P,classes:i}),D=(e=>{const{classes:t}=e,r=wA({root:["root"]},qR,t);return Ne(Ne({},t),r)})(A),{root:T}=D,L=ke(D,HF),E=h||{standard:(0,$r.jsx)(KF,{ownerState:A}),outlined:(0,$r.jsx)(GF,{label:m,ownerState:A}),filled:(0,$r.jsx)(YF,{ownerState:A})}[P],I=QD(r,UI(E));return(0,$r.jsx)(t.Fragment,{children:t.cloneElement(E,Ne(Ne(Ne({inputComponent:C,inputProps:Ne(Ne(Ne({children:s,error:_.error,IconComponent:d,variant:P,type:void 0,multiple:x},b?{id:u}:{autoWidth:a,defaultOpen:l,displayEmpty:c,labelId:f,MenuProps:g,onClose:v,onOpen:y,open:w,renderValue:j,SelectDisplayProps:Ne({id:u},N)}),p),{},{classes:p?CC(L,p.classes):L},h?h.props.inputProps:{})},(x&&b||c)&&"outlined"===P?{notched:!0}:{}),{},{ref:I,className:Mk(E.props.className,o,D.root)},!h&&{variant:P}),S))})});$F.muiName="Select";const JF=$F;const XF=fA("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const QF=fA("MuiListItemIcon",["root","alignItemsFlexStart"]);const ZF=fA("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function ez(e){return mA("MuiMenuItem",e)}const tz=fA("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),rz=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],nz=qA(MT,{shouldForwardProp:e=>UA(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})(HA(e=>{let{theme:t}=e;return Ne(Ne({},t.typography.body1),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(tz.selected)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),["&.".concat(tz.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}},["&.".concat(tz.selected,":hover")]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity)),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},["&.".concat(tz.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(tz.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(XF.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(XF.inset)]:{marginLeft:52},["& .".concat(ZF.root)]:{marginTop:0,marginBottom:0},["& .".concat(ZF.inset)]:{paddingLeft:36},["& .".concat(QF.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:Ne(Ne({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2),{},{["& .".concat(QF.root," svg")]:{fontSize:"1.25rem"}})}]})})),az=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiMenuItem"}),{autoFocus:a=!1,component:s="li",dense:i=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:u,className:h}=n,p=ke(n,rz),m=t.useContext(YI),f=t.useMemo(()=>({dense:i||m.dense||!1,disableGutters:l}),[m.dense,i,l]),g=t.useRef(null);nM(()=>{a&&g.current&&g.current.focus()},[a]);const x=Ne(Ne({},n),{},{dense:f.dense,divider:o,disableGutters:l}),b=(e=>{const{disabled:t,dense:r,divider:n,disableGutters:a,selected:s,classes:i}=e,o=wA({root:["root",r&&"dense",t&&"disabled",!a&&"gutters",n&&"divider",s&&"selected"]},ez,i);return Ne(Ne({},i),o)})(n),v=QD(g,r);let y;return n.disabled||(y=void 0!==u?u:-1),(0,$r.jsx)(YI.Provider,{value:f,children:(0,$r.jsx)(nz,Ne(Ne({ref:v,role:d,tabIndex:y,component:s,focusVisibleClassName:Mk(b.focusVisible,c),className:Mk(b.root,h)},p),{},{ownerState:x,classes:b}))})}),sz=az;function iz(e){return mA("MuiFormHelperText",e)}const oz=fA("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),lz=["children","className","component","disabled","error","filled","focused","margin","required","variant"];var cz;const dz=qA("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t["size".concat($A(r.size))],r.contained&&t.contained,r.filled&&t.filled]}})(HA(e=>{let{theme:t}=e;return Ne(Ne({color:(t.vars||t).palette.text.secondary},t.typography.caption),{},{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(oz.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(oz.error)]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]})})),uz=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiFormHelperText"}),{children:n,className:a,component:s="p",disabled:i,error:o,filled:l,focused:c,margin:d,required:u,variant:h}=r,p=ke(r,lz),m=_I({props:r,muiFormControl:PI(),states:["variant","size","disabled","error","filled","focused","required"]}),f=Ne(Ne({},r),{},{component:s,contained:"filled"===m.variant||"outlined"===m.variant,variant:m.variant,size:m.size,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required});delete f.ownerState;const g=(e=>{const{classes:t,contained:r,size:n,disabled:a,error:s,filled:i,focused:o,required:l}=e;return wA({root:["root",a&&"disabled",s&&"error",n&&"size".concat($A(n)),r&&"contained",o&&"focused",i&&"filled",l&&"required"]},iz,t)})(f);return(0,$r.jsx)(dz,Ne(Ne({as:s,className:Mk(g.root,a),ref:t},p),{},{ownerState:f,children:" "===n?cz||(cz=(0,$r.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):n}))}),hz=uz;function pz(e){return mA("MuiTextField",e)}fA("MuiTextField",["root"]);const mz=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","slots","slotProps","type","value","variant"],fz={standard:NF,filled:DF,outlined:qF},gz=qA(CI,{name:"MuiTextField",slot:"Root"})({}),xz=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiTextField"}),{autoComplete:n,autoFocus:a=!1,children:s,className:i,color:o="primary",defaultValue:l,disabled:c=!1,error:d=!1,FormHelperTextProps:u,fullWidth:h=!1,helperText:p,id:m,InputLabelProps:f,inputProps:g,InputProps:x,inputRef:b,label:v,maxRows:y,minRows:w,multiline:j=!1,name:N,onBlur:k,onChange:S,onFocus:C,placeholder:_,required:P=!1,rows:A,select:D=!1,SelectProps:T,slots:L={},slotProps:E={},type:I,value:M,variant:R="outlined"}=r,F=ke(r,mz),z=Ne(Ne({},r),{},{autoFocus:a,color:o,disabled:c,error:d,fullWidth:h,multiline:j,required:P,select:D,variant:R}),O=(e=>{const{classes:t}=e;return wA({root:["root"]},pz,t)})(z);const B=$D(m),U=p&&B?"".concat(B,"-helper-text"):void 0,q=v&&B?"".concat(B,"-label"):void 0,W=fz[R],H={slots:L,slotProps:Ne({input:x,inputLabel:f,htmlInput:g,formHelperText:u,select:T},E)},V={},K=H.slotProps.inputLabel;"outlined"===R&&(K&&"undefined"!==typeof K.shrink&&(V.notched=K.shrink),V.label=v),D&&(T&&T.native||(V.id=void 0),V["aria-describedby"]=void 0);const[G,Y]=HD("root",{elementType:gz,shouldForwardComponentProp:!0,externalForwardedProps:Ne(Ne({},H),F),ownerState:z,className:Mk(O.root,i),ref:t,additionalProps:{disabled:c,error:d,fullWidth:h,required:P,color:o,variant:R}}),[$,J]=HD("input",{elementType:W,externalForwardedProps:H,additionalProps:V,ownerState:z}),[X,Q]=HD("inputLabel",{elementType:BI,externalForwardedProps:H,ownerState:z}),[Z,ee]=HD("htmlInput",{elementType:"input",externalForwardedProps:H,ownerState:z}),[te,re]=HD("formHelperText",{elementType:hz,externalForwardedProps:H,ownerState:z}),[ne,ae]=HD("select",{elementType:JF,externalForwardedProps:H,ownerState:z}),se=(0,$r.jsx)($,Ne({"aria-describedby":U,autoComplete:n,autoFocus:a,defaultValue:l,fullWidth:h,multiline:j,name:N,rows:A,maxRows:y,minRows:w,type:I,value:M,id:B,inputRef:b,onBlur:k,onChange:S,onFocus:C,placeholder:_,inputProps:ee,slots:{input:L.htmlInput?Z:void 0}},J));return(0,$r.jsxs)(G,Ne(Ne({},Y),{},{children:[null!=v&&""!==v&&(0,$r.jsx)(X,Ne(Ne({htmlFor:B,id:q},Q),{},{children:v})),D?(0,$r.jsx)(ne,Ne(Ne({"aria-describedby":U,id:B,labelId:q,value:M,input:se},ae),{},{children:s})):se,p&&(0,$r.jsx)(te,Ne(Ne({id:U},re),{},{children:p}))]}))}),bz=xz;function vz(e){return mA("MuiButton",e)}const yz=fA("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const wz=t.createContext({});const jz=t.createContext(void 0),Nz=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","id","loading","loadingIndicator","loadingPosition","size","startIcon","type","variant"],kz=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Sz=qA(MT,{shouldForwardProp:e=>UA(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["".concat(r.variant).concat($A(r.color))],t["size".concat($A(r.size))],t["".concat(r.variant,"Size").concat($A(r.size))],"inherit"===r.color&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(HA(e=>{let{theme:t}=e;const r="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],n="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return Ne(Ne({},t.typography.button),{},{minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},["&.".concat(yz.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},["&.".concat(yz.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]},["&.".concat(yz.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",["&.".concat(yz.disabled)]:{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(JA()).map(e=>{let[r]=e;return{props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}}}),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:r,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(yz.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(yz.disabled)]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),["&.".concat(yz.loading)]:{color:"transparent"}}}]})})),Cz=qA("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t["iconSize".concat($A(r.size))]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...kz]}}),_z=qA("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t["iconSize".concat($A(r.size))]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...kz]}}),Pz=qA("span",{name:"MuiButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}}),Az=qA("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Dz=t.forwardRef(function(e,r){const n=t.useContext(wz),a=t.useContext(jz),s=YA({props:VA(n,e),name:"MuiButton"}),{children:i,color:o="primary",component:l="button",className:c,disabled:d=!1,disableElevation:u=!1,disableFocusRipple:h=!1,endIcon:p,focusVisibleClassName:m,fullWidth:f=!1,id:g,loading:x=null,loadingIndicator:b,loadingPosition:v="center",size:y="medium",startIcon:w,type:j,variant:N="text"}=s,k=ke(s,Nz),S=JD(g),C=null!==b&&void 0!==b?b:(0,$r.jsx)(pD,{"aria-labelledby":S,color:"inherit",size:16}),_=Ne(Ne({},s),{},{color:o,component:l,disabled:d,disableElevation:u,disableFocusRipple:h,fullWidth:f,loading:x,loadingIndicator:C,loadingPosition:v,size:y,type:j,variant:N}),P=(e=>{const{color:t,disableElevation:r,fullWidth:n,size:a,variant:s,loading:i,loadingPosition:o,classes:l}=e,c=wA({root:["root",i&&"loading",s,"".concat(s).concat($A(t)),"size".concat($A(a)),"".concat(s,"Size").concat($A(a)),"color".concat($A(t)),r&&"disableElevation",n&&"fullWidth",i&&"loadingPosition".concat($A(o))],startIcon:["icon","startIcon","iconSize".concat($A(a))],endIcon:["icon","endIcon","iconSize".concat($A(a))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},vz,l);return Ne(Ne({},l),c)})(_),A=(w||x&&"start"===v)&&(0,$r.jsx)(Cz,{className:P.startIcon,ownerState:_,children:w||(0,$r.jsx)(Az,{className:P.loadingIconPlaceholder,ownerState:_})}),D=(p||x&&"end"===v)&&(0,$r.jsx)(_z,{className:P.endIcon,ownerState:_,children:p||(0,$r.jsx)(Az,{className:P.loadingIconPlaceholder,ownerState:_})}),T=a||"",L="boolean"===typeof x?(0,$r.jsx)("span",{className:P.loadingWrapper,style:{display:"contents"},children:x&&(0,$r.jsx)(Pz,{className:P.loadingIndicator,ownerState:_,children:C})}):null;return(0,$r.jsxs)(Sz,Ne(Ne({ownerState:_,className:Mk(n.className,P.root,c,T),component:l,disabled:d||x,focusRipple:!h,focusVisibleClassName:Mk(P.focusVisible,m),ref:r,type:j,id:x?S:g},k),{},{classes:P,children:[A,"end"!==v&&L,i,"end"===v&&L,D]}))}),Tz=Dz;function Lz(e){return mA("MuiTableContainer",e)}fA("MuiTableContainer",["root"]);const Ez=["className","component"],Iz=qA("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),Mz=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiTableContainer"}),{className:n,component:a="div"}=r,s=ke(r,Ez),i=Ne(Ne({},r),{},{component:a}),o=(e=>{const{classes:t}=e;return wA({root:["root"]},Lz,t)})(i);return(0,$r.jsx)(Iz,Ne({ref:t,as:a,className:Mk(o.root,n),ownerState:i},s))}),Rz=Mz;const Fz=t.createContext();function zz(e){return mA("MuiTable",e)}fA("MuiTable",["root","stickyHeader"]);const Oz=["className","component","padding","size","stickyHeader"],Bz=qA("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(HA(e=>{let{theme:t}=e;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Ne(Ne({},t.typography.body2),{},{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"}),variants:[{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{borderCollapse:"separate"}}]}})),Uz="table",qz=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiTable"}),{className:a,component:s=Uz,padding:i="normal",size:o="medium",stickyHeader:l=!1}=n,c=ke(n,Oz),d=Ne(Ne({},n),{},{component:s,padding:i,size:o,stickyHeader:l}),u=(e=>{const{classes:t,stickyHeader:r}=e;return wA({root:["root",r&&"stickyHeader"]},zz,t)})(d),h=t.useMemo(()=>({padding:i,size:o,stickyHeader:l}),[i,o,l]);return(0,$r.jsx)(Fz.Provider,{value:h,children:(0,$r.jsx)(Bz,Ne({as:s,role:s===Uz?null:"table",ref:r,className:Mk(u.root,a),ownerState:d},c))})}),Wz=qz;const Hz=t.createContext();function Vz(e){return mA("MuiTableHead",e)}fA("MuiTableHead",["root"]);const Kz=["className","component"],Gz=qA("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),Yz={variant:"head"},$z="thead",Jz=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiTableHead"}),{className:n,component:a=$z}=r,s=ke(r,Kz),i=Ne(Ne({},r),{},{component:a}),o=(e=>{const{classes:t}=e;return wA({root:["root"]},Vz,t)})(i);return(0,$r.jsx)(Hz.Provider,{value:Yz,children:(0,$r.jsx)(Gz,Ne({as:a,className:Mk(o.root,n),ref:t,role:a===$z?null:"rowgroup",ownerState:i},s))})}),Xz=Jz;function Qz(e){return mA("MuiTableRow",e)}const Zz=fA("MuiTableRow",["root","selected","hover","head","footer"]),eO=["className","component","hover","selected"],tO=qA("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(HA(e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(Zz.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(Zz.selected)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity))}}}})),rO="tr",nO=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiTableRow"}),{className:a,component:s=rO,hover:i=!1,selected:o=!1}=n,l=ke(n,eO),c=t.useContext(Hz),d=Ne(Ne({},n),{},{component:s,hover:i,selected:o,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),u=(e=>{const{classes:t,selected:r,hover:n,head:a,footer:s}=e;return wA({root:["root",r&&"selected",n&&"hover",a&&"head",s&&"footer"]},Qz,t)})(d);return(0,$r.jsx)(tO,Ne({as:s,ref:r,className:Mk(u.root,a),role:s===rO?null:"row",ownerState:d},l))}),aO=nO;function sO(e){return mA("MuiTableCell",e)}const iO=fA("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),oO=["align","className","component","padding","scope","size","sortDirection","variant"],lO=qA("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["size".concat($A(r.size))],"normal"!==r.padding&&t["padding".concat($A(r.padding))],"inherit"!==r.align&&t["align".concat($A(r.align))],r.stickyHeader&&t.stickyHeader]}})(HA(e=>{let{theme:t}=e;return Ne(Ne({},t.typography.body2),{},{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)),textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",["&.".concat(iO.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]})})),cO=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiTableCell"}),{align:a="inherit",className:s,component:i,padding:o,scope:l,size:c,sortDirection:d,variant:u}=n,h=ke(n,oO),p=t.useContext(Fz),m=t.useContext(Hz),f=m&&"head"===m.variant;let g;g=i||(f?"th":"td");let x=l;"td"===g?x=void 0:!x&&f&&(x="col");const b=u||m&&m.variant,v=Ne(Ne({},n),{},{align:a,component:g,padding:o||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:d,stickyHeader:"head"===b&&p&&p.stickyHeader,variant:b}),y=(e=>{const{classes:t,variant:r,align:n,padding:a,size:s,stickyHeader:i}=e;return wA({root:["root",r,i&&"stickyHeader","inherit"!==n&&"align".concat($A(n)),"normal"!==a&&"padding".concat($A(a)),"size".concat($A(s))]},sO,t)})(v);let w=null;return d&&(w="asc"===d?"ascending":"descending"),(0,$r.jsx)(lO,Ne({as:g,ref:r,className:Mk(y.root,s),"aria-sort":w,scope:x,ownerState:v},h))}),dO=cO;function uO(e){return mA("MuiTableBody",e)}fA("MuiTableBody",["root"]);const hO=["className","component"],pO=qA("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),mO={variant:"body"},fO="tbody",gO=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiTableBody"}),{className:n,component:a=fO}=r,s=ke(r,hO),i=Ne(Ne({},r),{},{component:a}),o=(e=>{const{classes:t}=e;return wA({root:["root"]},uO,t)})(i);return(0,$r.jsx)(Hz.Provider,{value:mO,children:(0,$r.jsx)(pO,Ne({className:Mk(o.root,n),as:a,ref:t,role:a===fO?null:"rowgroup",ownerState:i},s))})}),xO=gO,bO=YT((0,$r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function vO(e){return mA("MuiChip",e)}const yO=fA("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),wO=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled","slots","slotProps"],jO=qA("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,iconColor:a,clickable:s,onDelete:i,size:o,variant:l}=r;return[{["& .".concat(yO.avatar)]:t.avatar},{["& .".concat(yO.avatar)]:t["avatar".concat($A(o))]},{["& .".concat(yO.avatar)]:t["avatarColor".concat($A(n))]},{["& .".concat(yO.icon)]:t.icon},{["& .".concat(yO.icon)]:t["icon".concat($A(o))]},{["& .".concat(yO.icon)]:t["iconColor".concat($A(a))]},{["& .".concat(yO.deleteIcon)]:t.deleteIcon},{["& .".concat(yO.deleteIcon)]:t["deleteIcon".concat($A(o))]},{["& .".concat(yO.deleteIcon)]:t["deleteIconColor".concat($A(n))]},{["& .".concat(yO.deleteIcon)]:t["deleteIcon".concat($A(l),"Color").concat($A(n))]},t.root,t["size".concat($A(o))],t["color".concat($A(n))],s&&t.clickable,s&&"default"!==n&&t["clickableColor".concat($A(n))],i&&t.deletable,i&&"default"!==n&&t["deletableColor".concat($A(n))],t[l],t["".concat(l).concat($A(n))]]}})(HA(e=>{let{theme:t}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(yO.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(yO.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},["& .".concat(yO.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(yO.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(yO.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(yO.icon)]:{marginLeft:5,marginRight:-6},["& .".concat(yO.deleteIcon)]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,["& .".concat(yO.icon)]:{fontSize:18,marginLeft:4,marginRight:-4},["& .".concat(yO.deleteIcon)]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(JA(["contrastText"])).map(e=>{let[r]=e;return{props:{color:r},style:{backgroundColor:(t.vars||t).palette[r].main,color:(t.vars||t).palette[r].contrastText,["& .".concat(yO.deleteIcon)]:{color:t.alpha((t.vars||t).palette[r].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].contrastText}}}}}),{props:e=>e.iconColor===e.color,style:{["& .".concat(yO.icon)]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:r}}},{props:e=>e.iconColor===e.color&&"default"!==e.color,style:{["& .".concat(yO.icon)]:{color:"inherit"}}},{props:{onDelete:!0},style:{["&.".concat(yO.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}}},...Object.entries(t.palette).filter(JA(["dark"])).map(e=>{let[r]=e;return{props:{color:r,onDelete:!0},style:{["&.".concat(yO.focusVisible)]:{background:(t.vars||t).palette[r].dark}}}}),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity))},["&.".concat(yO.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(JA(["dark"])).map(e=>{let[r]=e;return{props:{color:r,clickable:!0},style:{["&:hover, &.".concat(yO.focusVisible)]:{backgroundColor:(t.vars||t).palette[r].dark}}}}),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(yO.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(yO.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(yO.avatar)]:{marginLeft:4},["& .".concat(yO.avatarSmall)]:{marginLeft:2},["& .".concat(yO.icon)]:{marginLeft:4},["& .".concat(yO.iconSmall)]:{marginLeft:2},["& .".concat(yO.deleteIcon)]:{marginRight:5},["& .".concat(yO.deleteIconSmall)]:{marginRight:3}}},...Object.entries(t.palette).filter(JA()).map(e=>{let[r]=e;return{props:{variant:"outlined",color:r},style:{color:(t.vars||t).palette[r].main,border:"1px solid ".concat(t.alpha((t.vars||t).palette[r].main,.7)),["&.".concat(yO.clickable,":hover")]:{backgroundColor:t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)},["&.".concat(yO.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.focusOpacity)},["& .".concat(yO.deleteIcon)]:{color:t.alpha((t.vars||t).palette[r].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].main}}}}})]}})),NO=qA("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t["label".concat($A(n))]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function kO(e){return"Backspace"===e.key||"Delete"===e.key}const SO=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiChip"}),{avatar:a,className:s,clickable:i,color:o="default",component:l,deleteIcon:c,disabled:d=!1,icon:u,label:h,onClick:p,onDelete:m,onKeyDown:f,onKeyUp:g,size:x="medium",variant:b="filled",tabIndex:v,skipFocusWhenDisabled:y=!1,slots:w={},slotProps:j={}}=n,N=ke(n,wO),k=t.useRef(null),S=QD(k,r),C=e=>{e.stopPropagation(),m&&m(e)},_=!(!1===i||!p)||i,P=_||m?MT:l||"div",A=Ne(Ne({},n),{},{component:P,disabled:d,size:x,color:o,iconColor:t.isValidElement(u)&&u.props.color||o,onDelete:!!m,clickable:_,variant:b}),D=(e=>{const{classes:t,disabled:r,size:n,color:a,iconColor:s,onDelete:i,clickable:o,variant:l}=e;return wA({root:["root",l,r&&"disabled","size".concat($A(n)),"color".concat($A(a)),o&&"clickable",o&&"clickableColor".concat($A(a)),i&&"deletable",i&&"deletableColor".concat($A(a)),"".concat(l).concat($A(a))],label:["label","label".concat($A(n))],avatar:["avatar","avatar".concat($A(n)),"avatarColor".concat($A(a))],icon:["icon","icon".concat($A(n)),"iconColor".concat($A(s))],deleteIcon:["deleteIcon","deleteIcon".concat($A(n)),"deleteIconColor".concat($A(a)),"deleteIcon".concat($A(l),"Color").concat($A(a))]},vO,t)})(A),T=P===MT?Ne({component:l||"div",focusVisibleClassName:D.focusVisible},m&&{disableRipple:!0}):{};let L=null;m&&(L=c&&t.isValidElement(c)?t.cloneElement(c,{className:Mk(c.props.className,D.deleteIcon),onClick:C}):(0,$r.jsx)(bO,{className:D.deleteIcon,onClick:C}));let E=null;a&&t.isValidElement(a)&&(E=t.cloneElement(a,{className:Mk(D.avatar,a.props.className)}));let I=null;u&&t.isValidElement(u)&&(I=t.cloneElement(u,{className:Mk(D.icon,u.props.className)}));const M={slots:w,slotProps:j},[R,F]=HD("root",{elementType:jO,externalForwardedProps:Ne(Ne({},M),N),ownerState:A,shouldForwardComponentProp:!0,ref:S,className:Mk(D.root,s),additionalProps:Ne({disabled:!(!_||!d)||void 0,tabIndex:y&&d?-1:v},T),getSlotProps:e=>Ne(Ne({},e),{},{onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),null===p||void 0===p||p(t)},onKeyDown:t=>{var r;null===(r=e.onKeyDown)||void 0===r||r.call(e,t),(e=>{e.currentTarget===e.target&&kO(e)&&e.preventDefault(),f&&f(e)})(t)},onKeyUp:t=>{var r;null===(r=e.onKeyUp)||void 0===r||r.call(e,t),(e=>{e.currentTarget===e.target&&m&&kO(e)&&m(e),g&&g(e)})(t)}})}),[z,O]=HD("label",{elementType:NO,externalForwardedProps:M,ownerState:A,className:D.label});return(0,$r.jsxs)(R,Ne(Ne({as:P},F),{},{children:[E||I,(0,$r.jsx)(z,Ne(Ne({},O),{},{children:h})),L]}))}),CO=SO;function _O(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function PO(e){return e instanceof _O(e).Element||e instanceof Element}function AO(e){return e instanceof _O(e).HTMLElement||e instanceof HTMLElement}function DO(e){return"undefined"!==typeof ShadowRoot&&(e instanceof _O(e).ShadowRoot||e instanceof ShadowRoot)}var TO=Math.max,LO=Math.min,EO=Math.round;function IO(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function MO(){return!/^((?!chrome|android).)*safari/i.test(IO())}function RO(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),a=1,s=1;t&&AO(e)&&(a=e.offsetWidth>0&&EO(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&EO(n.height)/e.offsetHeight||1);var i=(PO(e)?_O(e):window).visualViewport,o=!MO()&&r,l=(n.left+(o&&i?i.offsetLeft:0))/a,c=(n.top+(o&&i?i.offsetTop:0))/s,d=n.width/a,u=n.height/s;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function FO(e){var t=_O(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function zO(e){return e?(e.nodeName||"").toLowerCase():null}function OO(e){return((PO(e)?e.ownerDocument:e.document)||window.document).documentElement}function BO(e){return RO(OO(e)).left+FO(e).scrollLeft}function UO(e){return _O(e).getComputedStyle(e)}function qO(e){var t=UO(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function WO(e,t,r){void 0===r&&(r=!1);var n=AO(t),a=AO(t)&&function(e){var t=e.getBoundingClientRect(),r=EO(t.width)/e.offsetWidth||1,n=EO(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),s=OO(t),i=RO(e,a,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&(("body"!==zO(t)||qO(s))&&(o=function(e){return e!==_O(e)&&AO(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:FO(e);var t}(t)),AO(t)?((l=RO(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=BO(s))),{x:i.left+o.scrollLeft-l.x,y:i.top+o.scrollTop-l.y,width:i.width,height:i.height}}function HO(e){var t=RO(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function VO(e){return"html"===zO(e)?e:e.assignedSlot||e.parentNode||(DO(e)?e.host:null)||OO(e)}function KO(e){return["html","body","#document"].indexOf(zO(e))>=0?e.ownerDocument.body:AO(e)&&qO(e)?e:KO(VO(e))}function GO(e,t){var r;void 0===t&&(t=[]);var n=KO(e),a=n===(null==(r=e.ownerDocument)?void 0:r.body),s=_O(n),i=a?[s].concat(s.visualViewport||[],qO(n)?n:[]):n,o=t.concat(i);return a?o:o.concat(GO(VO(i)))}function YO(e){return["table","td","th"].indexOf(zO(e))>=0}function $O(e){return AO(e)&&"fixed"!==UO(e).position?e.offsetParent:null}function JO(e){for(var t=_O(e),r=$O(e);r&&YO(r)&&"static"===UO(r).position;)r=$O(r);return r&&("html"===zO(r)||"body"===zO(r)&&"static"===UO(r).position)?t:r||function(e){var t=/firefox/i.test(IO());if(/Trident/i.test(IO())&&AO(e)&&"fixed"===UO(e).position)return null;var r=VO(e);for(DO(r)&&(r=r.host);AO(r)&&["html","body"].indexOf(zO(r))<0;){var n=UO(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var XO="top",QO="bottom",ZO="right",eB="left",tB="auto",rB=[XO,QO,ZO,eB],nB="start",aB="end",sB="viewport",iB="popper",oB=rB.reduce(function(e,t){return e.concat([t+"-"+nB,t+"-"+aB])},[]),lB=[].concat(rB,[tB]).reduce(function(e,t){return e.concat([t,t+"-"+nB,t+"-"+aB])},[]),cB=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function dB(e){var t=new Map,r=new Set,n=[];function a(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!r.has(e)){var n=t.get(e);n&&a(n)}}),n.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){r.has(e.name)||a(e)}),n}function uB(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}var hB={placement:"bottom",modifiers:[],strategy:"absolute"};function pB(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function mB(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,a=t.defaultOptions,s=void 0===a?hB:a;return function(e,t,r){void 0===r&&(r=s);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},hB,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],o=!1,l={state:a,setOptions:function(r){var o="function"===typeof r?r(a.options):r;c(),a.options=Object.assign({},s,a.options,o),a.scrollParents={reference:PO(e)?GO(e):e.contextElement?GO(e.contextElement):[],popper:GO(t)};var d=function(e){var t=dB(e);return cB.reduce(function(e,r){return e.concat(t.filter(function(e){return e.phase===r}))},[])}(function(e){var t=e.reduce(function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(n,a.options.modifiers)));return a.orderedModifiers=d.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,s=e.effect;if("function"===typeof s){var o=s({state:a,name:t,instance:l,options:n}),c=function(){};i.push(o||c)}}),l.update()},forceUpdate:function(){if(!o){var e=a.elements,t=e.reference,r=e.popper;if(pB(t,r)){a.rects={reference:WO(t,JO(r),"fixed"===a.options.strategy),popper:HO(r)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var s=a.orderedModifiers[n],i=s.fn,c=s.options,d=void 0===c?{}:c,u=s.name;"function"===typeof i&&(a=i({state:a,options:d,name:u,instance:l})||a)}else a.reset=!1,n=-1}}},update:uB(function(){return new Promise(function(e){l.forceUpdate(),e(a)})}),destroy:function(){c(),o=!0}};if(!pB(e,t))return l;function c(){i.forEach(function(e){return e()}),i=[]}return l.setOptions(r).then(function(e){!o&&r.onFirstUpdate&&r.onFirstUpdate(e)}),l}}var fB={passive:!0};function gB(e){return e.split("-")[0]}function xB(e){return e.split("-")[1]}function bB(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function vB(e){var t,r=e.reference,n=e.element,a=e.placement,s=a?gB(a):null,i=a?xB(a):null,o=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(s){case XO:t={x:o,y:r.y-n.height};break;case QO:t={x:o,y:r.y+r.height};break;case ZO:t={x:r.x+r.width,y:l};break;case eB:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=s?bB(s):null;if(null!=c){var d="y"===c?"height":"width";switch(i){case nB:t[c]=t[c]-(r[d]/2-n[d]/2);break;case aB:t[c]=t[c]+(r[d]/2-n[d]/2)}}return t}var yB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wB(e){var t,r=e.popper,n=e.popperRect,a=e.placement,s=e.variation,i=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,h=i.x,p=void 0===h?0:h,m=i.y,f=void 0===m?0:m,g="function"===typeof d?d({x:p,y:f}):{x:p,y:f};p=g.x,f=g.y;var x=i.hasOwnProperty("x"),b=i.hasOwnProperty("y"),v=eB,y=XO,w=window;if(c){var j=JO(r),N="clientHeight",k="clientWidth";if(j===_O(r)&&"static"!==UO(j=OO(r)).position&&"absolute"===o&&(N="scrollHeight",k="scrollWidth"),a===XO||(a===eB||a===ZO)&&s===aB)y=QO,f-=(u&&j===w&&w.visualViewport?w.visualViewport.height:j[N])-n.height,f*=l?1:-1;if(a===eB||(a===XO||a===QO)&&s===aB)v=ZO,p-=(u&&j===w&&w.visualViewport?w.visualViewport.width:j[k])-n.width,p*=l?1:-1}var S,C=Object.assign({position:o},c&&yB),_=!0===d?function(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:EO(r*a)/a||0,y:EO(n*a)/a||0}}({x:p,y:f},_O(r)):{x:p,y:f};return p=_.x,f=_.y,l?Object.assign({},C,((S={})[y]=b?"0":"",S[v]=x?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",S)):Object.assign({},C,((t={})[y]=b?f+"px":"",t[v]=x?p+"px":"",t.transform="",t))}const jB={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},a=t.elements[e];AO(a)&&zO(a)&&(Object.assign(a.style,r),Object.keys(n).forEach(function(e){var t=n[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(e){var n=t.elements[e],a=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce(function(e,t){return e[t]="",e},{});AO(n)&&zO(n)&&(Object.assign(n.style,s),Object.keys(a).forEach(function(e){n.removeAttribute(e)}))})}},requires:["computeStyles"]};const NB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,a=r.offset,s=void 0===a?[0,0]:a,i=lB.reduce(function(e,r){return e[r]=function(e,t,r){var n=gB(e),a=[eB,XO].indexOf(n)>=0?-1:1,s="function"===typeof r?r(Object.assign({},t,{placement:e})):r,i=s[0],o=s[1];return i=i||0,o=(o||0)*a,[eB,ZO].indexOf(n)>=0?{x:o,y:i}:{x:i,y:o}}(r,t.rects,s),e},{}),o=i[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=i}};var kB={left:"right",right:"left",bottom:"top",top:"bottom"};function SB(e){return e.replace(/left|right|bottom|top/g,function(e){return kB[e]})}var CB={start:"end",end:"start"};function _B(e){return e.replace(/start|end/g,function(e){return CB[e]})}function PB(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&DO(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function AB(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function DB(e,t,r){return t===sB?AB(function(e,t){var r=_O(e),n=OO(e),a=r.visualViewport,s=n.clientWidth,i=n.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;var c=MO();(c||!c&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o+BO(e),y:l}}(e,r)):PO(t)?function(e,t){var r=RO(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):AB(function(e){var t,r=OO(e),n=FO(e),a=null==(t=e.ownerDocument)?void 0:t.body,s=TO(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=TO(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-n.scrollLeft+BO(e),l=-n.scrollTop;return"rtl"===UO(a||r).direction&&(o+=TO(r.clientWidth,a?a.clientWidth:0)-s),{width:s,height:i,x:o,y:l}}(OO(e)))}function TB(e,t,r,n){var a="clippingParents"===t?function(e){var t=GO(VO(e)),r=["absolute","fixed"].indexOf(UO(e).position)>=0&&AO(e)?JO(e):e;return PO(r)?t.filter(function(e){return PO(e)&&PB(e,r)&&"body"!==zO(e)}):[]}(e):[].concat(t),s=[].concat(a,[r]),i=s[0],o=s.reduce(function(t,r){var a=DB(e,r,n);return t.top=TO(a.top,t.top),t.right=LO(a.right,t.right),t.bottom=LO(a.bottom,t.bottom),t.left=TO(a.left,t.left),t},DB(e,i,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function LB(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function EB(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}function IB(e,t){void 0===t&&(t={});var r=t,n=r.placement,a=void 0===n?e.placement:n,s=r.strategy,i=void 0===s?e.strategy:s,o=r.boundary,l=void 0===o?"clippingParents":o,c=r.rootBoundary,d=void 0===c?sB:c,u=r.elementContext,h=void 0===u?iB:u,p=r.altBoundary,m=void 0!==p&&p,f=r.padding,g=void 0===f?0:f,x=LB("number"!==typeof g?g:EB(g,rB)),b=h===iB?"reference":iB,v=e.rects.popper,y=e.elements[m?b:h],w=TB(PO(y)?y:y.contextElement||OO(e.elements.popper),l,d,i),j=RO(e.elements.reference),N=vB({reference:j,element:v,strategy:"absolute",placement:a}),k=AB(Object.assign({},v,N)),S=h===iB?k:j,C={top:w.top-S.top+x.top,bottom:S.bottom-w.bottom+x.bottom,left:w.left-S.left+x.left,right:S.right-w.right+x.right},_=e.modifiersData.offset;if(h===iB&&_){var P=_[a];Object.keys(C).forEach(function(e){var t=[ZO,QO].indexOf(e)>=0?1:-1,r=[XO,QO].indexOf(e)>=0?"y":"x";C[e]+=P[r]*t})}return C}const MB={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,s=void 0===a||a,i=r.altAxis,o=void 0===i||i,l=r.fallbackPlacements,c=r.padding,d=r.boundary,u=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=void 0===p||p,f=r.allowedAutoPlacements,g=t.options.placement,x=gB(g),b=l||(x===g||!m?[SB(g)]:function(e){if(gB(e)===tB)return[];var t=SB(e);return[_B(e),t,_B(t)]}(g)),v=[g].concat(b).reduce(function(e,r){return e.concat(gB(r)===tB?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,a=r.boundary,s=r.rootBoundary,i=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?lB:l,d=xB(n),u=d?o?oB:oB.filter(function(e){return xB(e)===d}):rB,h=u.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=u);var p=h.reduce(function(t,r){return t[r]=IB(e,{placement:r,boundary:a,rootBoundary:s,padding:i})[gB(r)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:r,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:f}):r)},[]),y=t.rects.reference,w=t.rects.popper,j=new Map,N=!0,k=v[0],S=0;S<v.length;S++){var C=v[S],_=gB(C),P=xB(C)===nB,A=[XO,QO].indexOf(_)>=0,D=A?"width":"height",T=IB(t,{placement:C,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),L=A?P?ZO:eB:P?QO:XO;y[D]>w[D]&&(L=SB(L));var E=SB(L),I=[];if(s&&I.push(T[_]<=0),o&&I.push(T[L]<=0,T[E]<=0),I.every(function(e){return e})){k=C,N=!1;break}j.set(C,I)}if(N)for(var M=function(e){var t=v.find(function(t){var r=j.get(t);if(r)return r.slice(0,e).every(function(e){return e})});if(t)return k=t,"break"},R=m?3:1;R>0;R--){if("break"===M(R))break}t.placement!==k&&(t.modifiersData[n]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function RB(e,t,r){return TO(e,LO(t,r))}const FB={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,s=void 0===a||a,i=r.altAxis,o=void 0!==i&&i,l=r.boundary,c=r.rootBoundary,d=r.altBoundary,u=r.padding,h=r.tether,p=void 0===h||h,m=r.tetherOffset,f=void 0===m?0:m,g=IB(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),x=gB(t.placement),b=xB(t.placement),v=!b,y=bB(x),w="x"===y?"y":"x",j=t.modifiersData.popperOffsets,N=t.rects.reference,k=t.rects.popper,S="function"===typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,C="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(j){if(s){var A,D="y"===y?XO:eB,T="y"===y?QO:ZO,L="y"===y?"height":"width",E=j[y],I=E+g[D],M=E-g[T],R=p?-k[L]/2:0,F=b===nB?N[L]:k[L],z=b===nB?-k[L]:-N[L],O=t.elements.arrow,B=p&&O?HO(O):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=U[D],W=U[T],H=RB(0,N[L],B[L]),V=v?N[L]/2-R-H-q-C.mainAxis:F-H-q-C.mainAxis,K=v?-N[L]/2+R+H+W+C.mainAxis:z+H+W+C.mainAxis,G=t.elements.arrow&&JO(t.elements.arrow),Y=G?"y"===y?G.clientTop||0:G.clientLeft||0:0,$=null!=(A=null==_?void 0:_[y])?A:0,J=E+K-$,X=RB(p?LO(I,E+V-$-Y):I,E,p?TO(M,J):M);j[y]=X,P[y]=X-E}if(o){var Q,Z="x"===y?XO:eB,ee="x"===y?QO:ZO,te=j[w],re="y"===w?"height":"width",ne=te+g[Z],ae=te-g[ee],se=-1!==[XO,eB].indexOf(x),ie=null!=(Q=null==_?void 0:_[w])?Q:0,oe=se?ne:te-N[re]-k[re]-ie+C.altAxis,le=se?te+N[re]+k[re]-ie-C.altAxis:ae,ce=p&&se?function(e,t,r){var n=RB(e,t,r);return n>r?r:n}(oe,te,le):RB(p?oe:ne,te,p?le:ae);j[w]=ce,P[w]=ce-te}t.modifiersData[n]=P}},requiresIfExists:["offset"]};const zB={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,a=e.options,s=r.elements.arrow,i=r.modifiersData.popperOffsets,o=gB(r.placement),l=bB(o),c=[eB,ZO].indexOf(o)>=0?"height":"width";if(s&&i){var d=function(e,t){return LB("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:EB(e,rB))}(a.padding,r),u=HO(s),h="y"===l?XO:eB,p="y"===l?QO:ZO,m=r.rects.reference[c]+r.rects.reference[l]-i[l]-r.rects.popper[c],f=i[l]-r.rects.reference[l],g=JO(s),x=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=m/2-f/2,v=d[h],y=x-u[c]-d[p],w=x/2-u[c]/2+b,j=RB(v,w,y),N=l;r.modifiersData[n]=((t={})[N]=j,t.centerOffset=j-w,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!==typeof n||(n=t.elements.popper.querySelector(n)))&&PB(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function OB(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function BB(e){return[XO,ZO,QO,eB].some(function(t){return e[t]>=0})}var UB=mB({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,s=void 0===a||a,i=n.resize,o=void 0===i||i,l=_O(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(e){e.addEventListener("scroll",r.update,fB)}),o&&l.addEventListener("resize",r.update,fB),function(){s&&c.forEach(function(e){e.removeEventListener("scroll",r.update,fB)}),o&&l.removeEventListener("resize",r.update,fB)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=vB({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=void 0===n||n,s=r.adaptive,i=void 0===s||s,o=r.roundOffsets,l=void 0===o||o,c={placement:gB(t.placement),variation:xB(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,wB(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,wB(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},jB,NB,MB,FB,zB,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,i=IB(t,{elementContext:"reference"}),o=IB(t,{altBoundary:!0}),l=OB(i,n),c=OB(o,a,s),d=BB(l),u=BB(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]});function qB(e){return mA("MuiPopper",e)}fA("MuiPopper",["root"]);const WB=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],HB=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function VB(e){return"function"===typeof e?e():e}function KB(e){return void 0!==e.nodeType}const GB={},YB=t.forwardRef(function(e,r){var n;const{anchorEl:a,children:s,direction:i,disablePortal:o,modifiers:l,open:c,placement:d,popperOptions:u,popperRef:h,slotProps:p={},slots:m={},TransitionProps:f,ownerState:g}=e,x=ke(e,WB),b=t.useRef(null),v=ID(b,r),y=t.useRef(null),w=ID(y,h),j=t.useRef(w);ZD(()=>{j.current=w},[w]),t.useImperativeHandle(h,()=>y.current,[]);const N=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(d,i),[k,S]=t.useState(N),[C,_]=t.useState(VB(a));t.useEffect(()=>{y.current&&y.current.forceUpdate()}),t.useEffect(()=>{a&&_(VB(a))},[a]),ZD(()=>{if(!C||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;S(t.placement)}}];null!=l&&(e=e.concat(l)),u&&null!=u.modifiers&&(e=e.concat(u.modifiers));const t=UB(C,b.current,Ne(Ne({placement:N},u),{},{modifiers:e}));return j.current(t),()=>{t.destroy(),j.current(null)}},[C,o,l,c,u,N]);const P={placement:k};null!==f&&(P.TransitionProps=f);const A=(e=>{const{classes:t}=e;return wA({root:["root"]},qB,t)})(e),D=null!==(n=m.root)&&void 0!==n?n:"div",T=GI({elementType:D,externalSlotProps:p.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:A.root});return(0,$r.jsx)(D,Ne(Ne({},T),{},{children:"function"===typeof s?s(P):s}))}),$B=t.forwardRef(function(e,r){const{anchorEl:n,children:a,container:s,direction:i="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:c,open:d,placement:u="bottom",popperOptions:h=GB,popperRef:p,style:m,transition:f=!1,slotProps:g={},slots:x={}}=e,b=ke(e,HB),[v,y]=t.useState(!0);if(!l&&!d&&(!f||v))return null;let w;if(s)w=s;else if(n){const e=VB(n);w=e&&KB(e)?qI(e).body:qI(null).body}const j=d||!l||f&&!v?void 0:"none",N=f?{in:d,onEnter:()=>{y(!1)},onExited:()=>{y(!0)}}:void 0;return(0,$r.jsx)(zM,{disablePortal:o,container:w,children:(0,$r.jsx)(YB,Ne(Ne({anchorEl:n,direction:i,disablePortal:o,modifiers:c,ref:r,open:f?!v:d,placement:u,popperOptions:h,popperRef:p,slotProps:g,slots:x},b),{},{style:Ne({position:"fixed",top:0,left:0,display:j},m),TransitionProps:N,children:a}))})}),JB=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],XB=qA($B,{name:"MuiPopper",slot:"Root"})({}),QB=t.forwardRef(function(e,t){var r;const n=VI(),a=YA({props:e,name:"MuiPopper"}),{anchorEl:s,component:i,components:o,componentsProps:l,container:c,disablePortal:d,keepMounted:u,modifiers:h,open:p,placement:m,popperOptions:f,popperRef:g,transition:x,slots:b,slotProps:v}=a,y=ke(a,JB),w=null!==(r=null===b||void 0===b?void 0:b.root)&&void 0!==r?r:null===o||void 0===o?void 0:o.Root,j=Ne({anchorEl:s,container:c,disablePortal:d,keepMounted:u,modifiers:h,open:p,placement:m,popperOptions:f,popperRef:g,transition:x},y);return(0,$r.jsx)(XB,Ne(Ne({as:i,direction:n?"rtl":"ltr",slots:{root:w},slotProps:null!==v&&void 0!==v?v:l},j),{},{ref:t}))}),ZB=QB;function eU(e){return mA("MuiTooltip",e)}const tU=fA("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),rU=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const nU=qA(ZB,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(HA(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInteractive},style:{pointerEvents:"auto"}},{props:e=>{let{open:t}=e;return!t},style:{pointerEvents:"none"}},{props:e=>{let{ownerState:t}=e;return t.arrow},style:{['&[data-popper-placement*="bottom"] .'.concat(tU.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(tU.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(tU.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},['&[data-popper-placement*="left"] .'.concat(tU.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(tU.arrow)]:{left:0,marginLeft:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(tU.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(tU.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(tU.arrow)]:{left:0,marginLeft:"-0.71em"}}}]}})),aU=qA("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t["tooltipPlacement".concat($A(r.placement.split("-")[0]))]]}})(HA(e=>{let{theme:t}=e;return{backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[".".concat(tU.popper,'[data-popper-placement*="left"] &')]:{transformOrigin:"right center"},[".".concat(tU.popper,'[data-popper-placement*="right"] &')]:{transformOrigin:"left center"},[".".concat(tU.popper,'[data-popper-placement*="top"] &')]:{transformOrigin:"center bottom",marginBottom:"14px"},[".".concat(tU.popper,'[data-popper-placement*="bottom"] &')]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:e=>{let{ownerState:t}=e;return t.arrow},style:{position:"relative",margin:0}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat((r=16/14,Math.round(1e5*r)/1e5),"em"),fontWeight:t.typography.fontWeightRegular}},{props:e=>{let{ownerState:t}=e;return!t.isRtl},style:{[".".concat(tU.popper,'[data-popper-placement*="left"] &')]:{marginRight:"14px"},[".".concat(tU.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"14px"}}},{props:e=>{let{ownerState:t}=e;return!t.isRtl&&t.touch},style:{[".".concat(tU.popper,'[data-popper-placement*="left"] &')]:{marginRight:"24px"},[".".concat(tU.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"24px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl},style:{[".".concat(tU.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"14px"},[".".concat(tU.popper,'[data-popper-placement*="right"] &')]:{marginRight:"14px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl&&t.touch},style:{[".".concat(tU.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"24px"},[".".concat(tU.popper,'[data-popper-placement*="right"] &')]:{marginRight:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(tU.popper,'[data-popper-placement*="top"] &')]:{marginBottom:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(tU.popper,'[data-popper-placement*="bottom"] &')]:{marginTop:"24px"}}}]};var r})),sU=qA("span",{name:"MuiTooltip",slot:"Arrow"})(HA(e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let iU=!1;const oU=new pT;let lU={x:0,y:0};function cU(e,t){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];t&&t(r,...a),e(r,...a)}}const dU=t.forwardRef(function(e,r){var n,a,s;const i=YA({props:e,name:"MuiTooltip"}),{arrow:o=!1,children:l,classes:c,components:d={},componentsProps:u={},describeChild:h=!1,disableFocusListener:p=!1,disableHoverListener:m=!1,disableInteractive:f=!1,disableTouchListener:g=!1,enterDelay:x=100,enterNextDelay:b=0,enterTouchDelay:v=700,followCursor:y=!1,id:w,leaveDelay:j=0,leaveTouchDelay:N=1500,onClose:k,onOpen:S,open:C,placement:_="bottom",PopperComponent:P,PopperProps:A={},slotProps:D={},slots:T={},title:L,TransitionComponent:E,TransitionProps:I}=i,M=ke(i,rU),R=t.isValidElement(l)?l:(0,$r.jsx)("span",{children:l}),F=PD(),z=VI(),[O,B]=t.useState(),[U,q]=t.useState(null),W=t.useRef(!1),H=f||y,V=mT(),K=mT(),G=mT(),Y=mT(),[$,J]=UR({controlled:C,default:!1,name:"Tooltip",state:"open"});let X=$;const Q=JD(w),Z=t.useRef(),ee=tT(()=>{void 0!==Z.current&&(document.body.style.WebkitUserSelect=Z.current,Z.current=void 0),Y.clear()});t.useEffect(()=>ee,[ee]);const te=e=>{oU.clear(),iU=!0,J(!0),S&&!X&&S(e)},re=tT(e=>{oU.start(800+j,()=>{iU=!1}),J(!1),k&&X&&k(e),V.start(F.transitions.duration.shortest,()=>{W.current=!1})}),ne=e=>{W.current&&"touchstart"!==e.type||(O&&O.removeAttribute("title"),K.clear(),G.clear(),x||iU&&b?K.start(iU?b:x,()=>{te(e)}):te(e))},ae=e=>{K.clear(),G.start(j,()=>{re(e)})},[,se]=t.useState(!1),ie=e=>{XD(e.target)||(se(!1),ae(e))},oe=e=>{O||B(e.currentTarget),XD(e.target)&&(se(!0),ne(e))},le=e=>{W.current=!0;const t=R.props;t.onTouchStart&&t.onTouchStart(e)},ce=e=>{le(e),G.clear(),V.clear(),ee(),Z.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Y.start(v,()=>{document.body.style.WebkitUserSelect=Z.current,ne(e)})},de=e=>{R.props.onTouchEnd&&R.props.onTouchEnd(e),ee(),G.start(N,()=>{re(e)})};t.useEffect(()=>{if(X)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&re(e)}},[re,X]);const ue=QD(UI(R),B,r);L||0===L||(X=!1);const he=t.useRef(),pe={},me="string"===typeof L;h?(pe.title=X||!me||m?null:L,pe["aria-describedby"]=X?Q:null):(pe["aria-label"]=me?L:null,pe["aria-labelledby"]=X&&!me?Q:null);const fe=Ne(Ne(Ne(Ne({},pe),M),R.props),{},{className:Mk(M.className,R.props.className),onTouchStart:le,ref:ue},y?{onMouseMove:e=>{const t=R.props;t.onMouseMove&&t.onMouseMove(e),lU={x:e.clientX,y:e.clientY},he.current&&he.current.update()}}:{});const ge={};g||(fe.onTouchStart=ce,fe.onTouchEnd=de),m||(fe.onMouseOver=cU(ne,fe.onMouseOver),fe.onMouseLeave=cU(ae,fe.onMouseLeave),H||(ge.onMouseOver=ne,ge.onMouseLeave=ae)),p||(fe.onFocus=cU(oe,fe.onFocus),fe.onBlur=cU(ie,fe.onBlur),H||(ge.onFocus=oe,ge.onBlur=ie));const xe=Ne(Ne({},i),{},{isRtl:z,arrow:o,disableInteractive:H,placement:_,PopperComponentProp:P,touch:W.current}),be="function"===typeof D.popper?D.popper(xe):D.popper,ve=t.useMemo(()=>{var e,t;let r=[{name:"arrow",enabled:Boolean(U),options:{element:U,padding:4}}];return null!==(e=A.popperOptions)&&void 0!==e&&e.modifiers&&(r=r.concat(A.popperOptions.modifiers)),null!==be&&void 0!==be&&null!==(t=be.popperOptions)&&void 0!==t&&t.modifiers&&(r=r.concat(be.popperOptions.modifiers)),Ne(Ne(Ne({},A.popperOptions),null===be||void 0===be?void 0:be.popperOptions),{},{modifiers:r})},[U,A.popperOptions,null===be||void 0===be?void 0:be.popperOptions]),ye=(e=>{const{classes:t,disableInteractive:r,arrow:n,touch:a,placement:s}=e;return wA({popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",a&&"touch","tooltipPlacement".concat($A(s.split("-")[0]))],arrow:["arrow"]},eU,t)})(xe),we="function"===typeof D.transition?D.transition(xe):D.transition,je={slots:Ne({popper:d.Popper,transition:null!==(n=d.Transition)&&void 0!==n?n:E,tooltip:d.Tooltip,arrow:d.Arrow},T),slotProps:{arrow:null!==(a=D.arrow)&&void 0!==a?a:u.arrow,popper:Ne(Ne({},A),null!==be&&void 0!==be?be:u.popper),tooltip:null!==(s=D.tooltip)&&void 0!==s?s:u.tooltip,transition:Ne(Ne({},I),null!==we&&void 0!==we?we:u.transition)}},[Se,Ce]=HD("popper",{elementType:nU,externalForwardedProps:je,ownerState:xe,className:Mk(ye.popper,null===A||void 0===A?void 0:A.className)}),[_e,Pe]=HD("transition",{elementType:LM,externalForwardedProps:je,ownerState:xe}),[Ae,De]=HD("tooltip",{elementType:aU,className:ye.tooltip,externalForwardedProps:je,ownerState:xe}),[Te,Le]=HD("arrow",{elementType:sU,className:ye.arrow,externalForwardedProps:je,ownerState:xe,ref:q});return(0,$r.jsxs)(t.Fragment,{children:[t.cloneElement(R,fe),(0,$r.jsx)(Se,Ne(Ne(Ne({as:null!==P&&void 0!==P?P:ZB,placement:_,anchorEl:y?{getBoundingClientRect:()=>({top:lU.y,left:lU.x,right:lU.x,bottom:lU.y,width:0,height:0})}:O,popperRef:he,open:!!O&&X,id:Q,transition:!0},ge),Ce),{},{popperOptions:ve,children:e=>{let{TransitionProps:t}=e;return(0,$r.jsx)(_e,Ne(Ne(Ne({timeout:F.transitions.duration.shorter},t),Pe),{},{children:(0,$r.jsxs)(Ae,Ne(Ne({},De),{},{children:[L,o?(0,$r.jsx)(Te,Ne({},Le)):null]}))}))}}))]})}),uU=dU;function hU(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const pU=["onChange"],mU={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const fU=YT((0,$r.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),gU=YT((0,$r.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function xU(e){return mA("MuiTabScrollButton",e)}const bU=fA("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),vU=["className","slots","slotProps","direction","orientation","disabled"],yU=qA(MT,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.orientation&&t[r.orientation]]}})({width:40,flexShrink:0,opacity:.8,["&.".concat(bU.disabled)]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),wU=t.forwardRef(function(e,t){var r,n;const a=YA({props:e,name:"MuiTabScrollButton"}),{className:s,slots:i={},slotProps:o={},direction:l,orientation:c,disabled:d}=a,u=ke(a,vU),h=VI(),p=Ne({isRtl:h},a),m=(e=>{const{classes:t,orientation:r,disabled:n}=e;return wA({root:["root",r,n&&"disabled"]},xU,t)})(p),f=null!==(r=i.StartScrollButtonIcon)&&void 0!==r?r:fU,g=null!==(n=i.EndScrollButtonIcon)&&void 0!==n?n:gU,x=GI({elementType:f,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),b=GI({elementType:g,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return(0,$r.jsx)(yU,Ne(Ne({component:"div",className:Mk(m.root,s),ref:t,role:null,ownerState:p,tabIndex:null},u),{},{style:Ne(Ne({},u.style),"vertical"===c&&{"--TabScrollButton-svgRotate":"rotate(".concat(h?-90:90,"deg)")}),children:"left"===l?(0,$r.jsx)(f,Ne({},x)):(0,$r.jsx)(g,Ne({},b))}))}),jU=wU;function NU(e){return mA("MuiTabs",e)}const kU=fA("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),SU=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],CU=["onChange"],_U=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,PU=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,AU=(e,t,r)=>{let n=!1,a=r(e,t);for(;a;){if(a===e.firstChild){if(n)return;n=!0}const t=a.disabled||"true"===a.getAttribute("aria-disabled");if(a.hasAttribute("tabindex")&&!t)return void a.focus();a=r(e,a)}},DU=qA("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{["& .".concat(kU.scrollButtons)]:t.scrollButtons},{["& .".concat(kU.scrollButtons)]:r.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,r.vertical&&t.vertical]}})(HA(e=>{let{theme:t}=e;return{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.scrollButtonsHideMobile},style:{["& .".concat(kU.scrollButtons)]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}})),TU=qA("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.scroller,r.fixed&&t.fixed,r.hideScrollbar&&t.hideScrollbar,r.scrollableX&&t.scrollableX,r.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:e=>{let{ownerState:t}=e;return t.fixed},style:{overflowX:"hidden",width:"100%"}},{props:e=>{let{ownerState:t}=e;return t.hideScrollbar},style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:e=>{let{ownerState:t}=e;return t.scrollableX},style:{overflowX:"auto",overflowY:"hidden"}},{props:e=>{let{ownerState:t}=e;return t.scrollableY},style:{overflowY:"auto",overflowX:"hidden"}}]}),LU=qA("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.list,t.flexContainer,r.vertical&&t.flexContainerVertical,r.centered&&t.centered]}})({display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.centered},style:{justifyContent:"center"}}]}),EU=qA("span",{name:"MuiTabs",slot:"Indicator"})(HA(e=>{let{theme:t}=e;return{position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:e=>{let{ownerState:t}=e;return t.vertical},style:{height:"100%",width:2,right:0}}]}})),IU=qA(function(e){const{onChange:r}=e,n=ke(e,pU),a=t.useRef(),s=t.useRef(null),i=()=>{a.current=s.current.offsetHeight-s.current.clientHeight};return nM(()=>{const e=mM(()=>{const e=a.current;i(),e!==a.current&&r(a.current)}),t=sM(s.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[r]),t.useEffect(()=>{i(),r(a.current)},[r]),(0,$r.jsx)("div",Ne(Ne({style:mU},n),{},{ref:s}))})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),MU={};const RU=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiTabs"}),a=PD(),s=VI(),{"aria-label":i,"aria-labelledby":o,action:l,centered:c=!1,children:d,className:u,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:m="primary",onChange:f,orientation:g="horizontal",ScrollButtonComponent:x,scrollButtons:b="auto",selectionFollowsFocus:v,slots:y={},slotProps:w={},TabIndicatorProps:j={},TabScrollButtonProps:N={},textColor:k="primary",value:S,variant:C="standard",visibleScrollbar:_=!1}=n,P=ke(n,SU),A="scrollable"===C,D="vertical"===g,T=D?"scrollTop":"scrollLeft",L=D?"top":"left",E=D?"bottom":"right",I=D?"clientHeight":"clientWidth",M=D?"height":"width",R=Ne(Ne({},n),{},{component:h,allowScrollButtonsMobile:p,indicatorColor:m,orientation:g,vertical:D,scrollButtons:b,textColor:k,variant:C,visibleScrollbar:_,fixed:!A,hideScrollbar:A&&!_,scrollableX:A&&!D,scrollableY:A&&D,centered:c&&!A,scrollButtonsHideMobile:!p}),F=(e=>{const{vertical:t,fixed:r,hideScrollbar:n,scrollableX:a,scrollableY:s,centered:i,scrollButtonsHideMobile:o,classes:l}=e;return wA({root:["root",t&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",a&&"scrollableX",s&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},NU,l)})(R),z=GI({elementType:y.StartScrollButtonIcon,externalSlotProps:w.startScrollButtonIcon,ownerState:R}),O=GI({elementType:y.EndScrollButtonIcon,externalSlotProps:w.endScrollButtonIcon,ownerState:R});const[B,U]=t.useState(!1),[q,W]=t.useState(MU),[H,V]=t.useState(!1),[K,G]=t.useState(!1),[Y,$]=t.useState(!1),[J,X]=t.useState({overflow:"hidden",scrollbarWidth:0}),Q=new Map,Z=t.useRef(null),ee=t.useRef(null),te={slots:y,slotProps:Ne({indicator:j,scrollButtons:N},w)},re=()=>{const e=Z.current;let t,r;if(e){const r=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(e&&!1!==S){const e=ee.current.children;if(e.length>0){const t=e[Q.get(S)];0,r=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:r}},ne=tT(()=>{const{tabsMeta:e,tabMeta:t}=re();let r,n=0;D?(r="top",t&&e&&(n=t.top-e.top+e.scrollTop)):(r=s?"right":"left",t&&e&&(n=(s?-1:1)*(t[r]-e[r]+e.scrollLeft)));const a={[r]:n,[M]:t?t[M]:0};if("number"!==typeof q[r]||"number"!==typeof q[M])W(a);else{const e=Math.abs(q[r]-a[r]),t=Math.abs(q[M]-a[M]);(e>=1||t>=1)&&W(a)}}),ae=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:s=hU,duration:i=300}=n;let o=null;const l=t[e];let c=!1;const d=()=>{c=!0},u=n=>{if(c)return void a(new Error("Animation cancelled"));null===o&&(o=n);const d=Math.min(1,(n-o)/i);t[e]=s(d)*(r-l)+l,d>=1?requestAnimationFrame(()=>{a(null)}):requestAnimationFrame(u)};l===r?a(new Error("Element already at target position")):requestAnimationFrame(u)}(T,Z.current,e,{duration:a.transitions.duration.standard}):Z.current[T]=e},se=e=>{let t=Z.current[T];t+=D?e:e*(s?-1:1),ae(t)},ie=()=>{const e=Z.current[I];let t=0;const r=Array.from(ee.current.children);for(let n=0;n<r.length;n+=1){const a=r[n];if(t+a[I]>e){0===n&&(t=e);break}t+=a[I]}return t},oe=()=>{se(-1*ie())},le=()=>{se(ie())},[ce,de]=HD("scrollbar",{className:Mk(F.scrollableX,F.hideScrollbar),elementType:IU,shouldForwardComponentProp:!0,externalForwardedProps:te,ownerState:R}),{onChange:ue}=de,he=ke(de,CU),pe=t.useCallback(e=>{null===ue||void 0===ue||ue(e),X({overflow:null,scrollbarWidth:e})},[ue]),[me,fe]=HD("scrollButtons",{className:Mk(F.scrollButtons,N.className),elementType:jU,externalForwardedProps:te,ownerState:R,additionalProps:{orientation:g,slots:{StartScrollButtonIcon:y.startScrollButtonIcon||y.StartScrollButtonIcon,EndScrollButtonIcon:y.endScrollButtonIcon||y.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:z,endScrollButtonIcon:O}}}),ge=tT(e=>{const{tabsMeta:t,tabMeta:r}=re();if(r&&t)if(r[L]<t[L]){const n=t[T]+(r[L]-t[L]);ae(n,{animation:e})}else if(r[E]>t[E]){const n=t[T]+(r[E]-t[E]);ae(n,{animation:e})}}),xe=tT(()=>{A&&!1!==b&&$(!Y)});t.useEffect(()=>{const e=mM(()=>{Z.current&&ne()});let t;const r=r=>{r.forEach(e=>{e.removedNodes.forEach(e=>{var r;null===(r=t)||void 0===r||r.unobserve(e)}),e.addedNodes.forEach(e=>{var r;null===(r=t)||void 0===r||r.observe(e)})}),e(),xe()},n=sM(Z.current);let a;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach(e=>{t.observe(e)})),"undefined"!==typeof MutationObserver&&(a=new MutationObserver(r),a.observe(ee.current,{childList:!0})),()=>{var r,s;e.clear(),n.removeEventListener("resize",e),null===(r=a)||void 0===r||r.disconnect(),null===(s=t)||void 0===s||s.disconnect()}},[ne,xe]),t.useEffect(()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&A&&!1!==b){const r=e[0],n=e[t-1],a={root:Z.current,threshold:.99},s=new IntersectionObserver(e=>{V(!e[0].isIntersecting)},a);s.observe(r);const i=new IntersectionObserver(e=>{G(!e[0].isIntersecting)},a);return i.observe(n),()=>{s.disconnect(),i.disconnect()}}},[A,b,Y,null===d||void 0===d?void 0:d.length]),t.useEffect(()=>{U(!0)},[]),t.useEffect(()=>{ne()}),t.useEffect(()=>{ge(MU!==q)},[ge,q]),t.useImperativeHandle(l,()=>({updateIndicator:ne,updateScrollButtons:xe}),[ne,xe]);const[be,ve]=HD("indicator",{className:Mk(F.indicator,j.className),elementType:EU,externalForwardedProps:te,ownerState:R,additionalProps:{style:q}}),ye=(0,$r.jsx)(be,Ne({},ve));let we=0;const je=t.Children.map(d,e=>{if(!t.isValidElement(e))return null;const r=void 0===e.props.value?we:e.props.value;Q.set(r,we);const n=r===S;return we+=1,t.cloneElement(e,Ne({fullWidth:"fullWidth"===C,indicator:n&&!B&&ye,selected:n,selectionFollowsFocus:v,onChange:f,textColor:k,value:r},1!==we||!1!==S||e.props.tabIndex?{}:{tabIndex:0}))}),Se=(()=>{const e={};e.scrollbarSizeListener=A?(0,$r.jsx)(ce,Ne(Ne({},he),{},{onChange:pe})):null;const t=A&&("auto"===b&&(H||K)||!0===b);return e.scrollButtonStart=t?(0,$r.jsx)(me,Ne({direction:s?"right":"left",onClick:oe,disabled:!H},fe)):null,e.scrollButtonEnd=t?(0,$r.jsx)(me,Ne({direction:s?"left":"right",onClick:le,disabled:!K},fe)):null,e})(),[Ce,_e]=HD("root",{ref:r,className:Mk(F.root,u),elementType:DU,externalForwardedProps:Ne(Ne(Ne({},te),P),{},{component:h}),ownerState:R}),[Pe,Ae]=HD("scroller",{ref:Z,className:F.scroller,elementType:TU,externalForwardedProps:te,ownerState:R,additionalProps:{style:{overflow:J.overflow,[D?"margin".concat(s?"Left":"Right"):"marginBottom"]:_?void 0:-J.scrollbarWidth}}}),[De,Te]=HD("list",{ref:ee,className:Mk(F.list,F.flexContainer),elementType:LU,externalForwardedProps:te,ownerState:R,getSlotProps:e=>Ne(Ne({},e),{},{onKeyDown:t=>{var r;(e=>{if(e.altKey||e.shiftKey||e.ctrlKey||e.metaKey)return;const t=ee.current,r=eM(WI(t));if("tab"!==(null===r||void 0===r?void 0:r.getAttribute("role")))return;let n="horizontal"===g?"ArrowLeft":"ArrowUp",a="horizontal"===g?"ArrowRight":"ArrowDown";switch("horizontal"===g&&s&&(n="ArrowRight",a="ArrowLeft"),e.key){case n:e.preventDefault(),AU(t,r,PU);break;case a:e.preventDefault(),AU(t,r,_U);break;case"Home":e.preventDefault(),AU(t,null,_U);break;case"End":e.preventDefault(),AU(t,null,PU)}})(t),null===(r=e.onKeyDown)||void 0===r||r.call(e,t)}})});return(0,$r.jsxs)(Ce,Ne(Ne({},_e),{},{children:[Se.scrollButtonStart,Se.scrollbarSizeListener,(0,$r.jsxs)(Pe,Ne(Ne({},Ae),{},{children:[(0,$r.jsx)(De,Ne(Ne({"aria-label":i,"aria-labelledby":o,"aria-orientation":"vertical"===g?"vertical":null,role:"tablist"},Te),{},{children:je})),B&&ye]})),Se.scrollButtonEnd]}))}),FU=RU;function zU(e){return mA("MuiTab",e)}const OU=fA("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),BU=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],UU=qA(MT,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.label&&r.icon&&t.labelIcon,t["textColor".concat($A(r.textColor))],r.fullWidth&&t.fullWidth,r.wrapped&&t.wrapped,{["& .".concat(OU.iconWrapper)]:t.iconWrapper},{["& .".concat(OU.icon)]:t.icon}]}})(HA(e=>{let{theme:t}=e;return Ne(Ne({},t.typography.button),{},{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:e=>{let{ownerState:t}=e;return t.label&&("top"===t.iconPosition||"bottom"===t.iconPosition)},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.label&&"top"!==t.iconPosition&&"bottom"!==t.iconPosition},style:{flexDirection:"row"}},{props:e=>{let{ownerState:t}=e;return t.icon&&t.label},style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:e=>{let{ownerState:t,iconPosition:r}=e;return t.icon&&t.label&&"top"===r},style:{["& > .".concat(OU.icon)]:{marginBottom:6}}},{props:e=>{let{ownerState:t,iconPosition:r}=e;return t.icon&&t.label&&"bottom"===r},style:{["& > .".concat(OU.icon)]:{marginTop:6}}},{props:e=>{let{ownerState:t,iconPosition:r}=e;return t.icon&&t.label&&"start"===r},style:{["& > .".concat(OU.icon)]:{marginRight:t.spacing(1)}}},{props:e=>{let{ownerState:t,iconPosition:r}=e;return t.icon&&t.label&&"end"===r},style:{["& > .".concat(OU.icon)]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,["&.".concat(OU.selected)]:{opacity:1},["&.".concat(OU.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,["&.".concat(OU.selected)]:{color:(t.vars||t).palette.primary.main},["&.".concat(OU.disabled)]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,["&.".concat(OU.selected)]:{color:(t.vars||t).palette.secondary.main},["&.".concat(OU.disabled)]:{color:(t.vars||t).palette.text.disabled}}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:e=>{let{ownerState:t}=e;return t.wrapped},style:{fontSize:t.typography.pxToRem(12)}}]})})),qU=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiTab"}),{className:a,disabled:s=!1,disableFocusRipple:i=!1,fullWidth:o,icon:l,iconPosition:c="top",indicator:d,label:u,onChange:h,onClick:p,onFocus:m,selected:f,selectionFollowsFocus:g,textColor:x="inherit",value:b,wrapped:v=!1}=n,y=ke(n,BU),w=Ne(Ne({},n),{},{disabled:s,disableFocusRipple:i,selected:f,icon:!!l,iconPosition:c,label:!!u,fullWidth:o,textColor:x,wrapped:v}),j=(e=>{const{classes:t,textColor:r,fullWidth:n,wrapped:a,icon:s,label:i,selected:o,disabled:l}=e;return wA({root:["root",s&&i&&"labelIcon","textColor".concat($A(r)),n&&"fullWidth",a&&"wrapped",o&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]},zU,t)})(w),N=l&&u&&t.isValidElement(l)?t.cloneElement(l,{className:Mk(j.icon,l.props.className)}):l;return(0,$r.jsxs)(UU,Ne(Ne({focusRipple:!i,className:Mk(j.root,a),ref:r,role:"tab","aria-selected":f,disabled:s,onClick:e=>{!f&&h&&h(e,b),p&&p(e)},onFocus:e=>{g&&!f&&h&&h(e,b),m&&m(e)},ownerState:w,tabIndex:f?0:-1},y),{},{children:["top"===c||"start"===c?(0,$r.jsxs)(t.Fragment,{children:[N,u]}):(0,$r.jsxs)(t.Fragment,{children:[u,N]}),d]}))}),WU=qU;function HU(e){return mA("MuiDialog",e)}const VU=fA("MuiDialog",["root","backdrop","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const KU=t.createContext({}),GU=["aria-describedby","aria-labelledby","aria-modal","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onClick","onClose","open","PaperComponent","PaperProps","scroll","slots","slotProps","TransitionComponent","transitionDuration","TransitionProps"],YU=qA(YM,{name:"MuiDialog",slot:"Backdrop"})({zIndex:-1}),$U=qA(cR,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),JU=qA("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t["scroll".concat($A(r.scroll))]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),XU=qA(ED,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t["scrollPaper".concat($A(r.scroll))],t["paperWidth".concat($A(String(r.maxWidth)))],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(HA(e=>{let{theme:t}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:e=>{let{ownerState:t}=e;return!t.maxWidth},style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(VU.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>"xs"!==e).map(e=>({props:{maxWidth:e},style:{maxWidth:"".concat(t.breakpoints.values[e]).concat(t.breakpoints.unit),["&.".concat(VU.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"calc(100% - 64px)"}},{props:e=>{let{ownerState:t}=e;return t.fullScreen},style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(VU.paperScrollBody)]:{margin:0,maxWidth:"100%"}}}]}})),QU=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiDialog"}),a=PD(),s={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":o,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:d,children:u,className:h,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:f=!1,maxWidth:g="sm",onClick:x,onClose:b,open:v,PaperComponent:y=ED,PaperProps:w={},scroll:j="paper",slots:N={},slotProps:k={},TransitionComponent:S=WM,transitionDuration:C=s,TransitionProps:_}=n,P=ke(n,GU),A=Ne(Ne({},n),{},{disableEscapeKeyDown:p,fullScreen:m,fullWidth:f,maxWidth:g,scroll:j}),D=(e=>{const{classes:t,scroll:r,maxWidth:n,fullWidth:a,fullScreen:s}=e;return wA({root:["root"],backdrop:["backdrop"],container:["container","scroll".concat($A(r))],paper:["paper","paperScroll".concat($A(r)),"paperWidth".concat($A(String(n))),a&&"paperFullWidth",s&&"paperFullScreen"]},HU,t)})(A),T=t.useRef(),L=$D(o),E=t.useMemo(()=>({titleId:L}),[L]),I={slots:Ne({transition:S},N),slotProps:Ne({transition:_,paper:w,backdrop:d},k)},[M,R]=HD("root",{elementType:$U,shouldForwardComponentProp:!0,externalForwardedProps:I,ownerState:A,className:Mk(D.root,h),ref:r}),[F,z]=HD("backdrop",{elementType:YU,shouldForwardComponentProp:!0,externalForwardedProps:I,ownerState:A,className:D.backdrop}),[O,B]=HD("paper",{elementType:XU,shouldForwardComponentProp:!0,externalForwardedProps:I,ownerState:A,className:Mk(D.paper,w.className)}),[U,q]=HD("container",{elementType:JU,externalForwardedProps:I,ownerState:A,className:D.container}),[W,H]=HD("transition",{elementType:WM,externalForwardedProps:I,ownerState:A,additionalProps:{appear:!0,in:v,timeout:C,role:"presentation"}});return(0,$r.jsx)(M,Ne(Ne(Ne({closeAfterTransition:!0,slots:{backdrop:F},slotProps:{backdrop:Ne({transitionDuration:C,as:c},z)},disableEscapeKeyDown:p,onClose:b,open:v,onClick:e=>{x&&x(e),T.current&&(T.current=null,b&&b(e,"backdropClick"))}},R),P),{},{children:(0,$r.jsx)(W,Ne(Ne({},H),{},{children:(0,$r.jsx)(U,Ne(Ne({onMouseDown:e=>{T.current=e.target===e.currentTarget}},q),{},{children:(0,$r.jsx)(O,Ne(Ne({as:y,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":L,"aria-modal":l},B),{},{children:(0,$r.jsx)(KU.Provider,{value:E,children:u})}))}))}))}))}),ZU=QU;function eq(e){return mA("MuiDialogTitle",e)}const tq=fA("MuiDialogTitle",["root"]),rq=["className","id"],nq=qA(CD,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),aq=t.forwardRef(function(e,r){const n=YA({props:e,name:"MuiDialogTitle"}),{className:a,id:s}=n,i=ke(n,rq),o=n,l=(e=>{const{classes:t}=e;return wA({root:["root"]},eq,t)})(o),{titleId:c=s}=t.useContext(KU);return(0,$r.jsx)(nq,Ne({component:"h2",className:Mk(l.root,a),ownerState:o,ref:r,variant:"h6",id:null!==s&&void 0!==s?s:c},i))}),sq=aq;function iq(e){return mA("MuiDialogContent",e)}fA("MuiDialogContent",["root","dividers"]);const oq=["className","dividers"],lq=qA("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(HA(e=>{let{theme:t}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:e=>{let{ownerState:t}=e;return t.dividers},style:{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return!t.dividers},style:{[".".concat(tq.root," + &")]:{paddingTop:0}}}]}})),cq=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiDialogContent"}),{className:n,dividers:a=!1}=r,s=ke(r,oq),i=Ne(Ne({},r),{},{dividers:a}),o=(e=>{const{classes:t,dividers:r}=e;return wA({root:["root",r&&"dividers"]},iq,t)})(i);return(0,$r.jsx)(lq,Ne({className:Mk(o.root,n),ownerState:i,ref:t},s))}),dq=cq;function uq(e){return mA("MuiDialogActions",e)}fA("MuiDialogActions",["root","spacing"]);const hq=["className","disableSpacing"],pq=qA("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),mq=t.forwardRef(function(e,t){const r=YA({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:a=!1}=r,s=ke(r,hq),i=Ne(Ne({},r),{},{disableSpacing:a}),o=(e=>{const{classes:t,disableSpacing:r}=e;return wA({root:["root",!r&&"spacing"]},uq,t)})(i);return(0,$r.jsx)(pq,Ne({className:Mk(o.root,n),ownerState:i,ref:t},s))}),fq=mq,gq=YT((0,$r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),xq=YT((0,$r.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),bq=YT((0,$r.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"})),vq=YT((0,$r.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}));function yq(e,t,r){const[n,a]=PL(null===r||void 0===r?void 0:r.in,e,t),s=wq(n,a),i=Math.abs(DL(n,a));n.setDate(n.getDate()-s*i);const o=s*(i-Number(wq(n,a)===-s));return 0===o?0:o}function wq(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}const jq=()=>{ce();const[e,r]=(0,t.useState)(0),[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)({status:"",clientId:"",searchTerm:""}),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)({totalPayments:0,totalAmount:0,pendingPayments:0,overduePayments:0,paidPayments:0,totalPaid:0,totalOutstanding:0});(0,t.useEffect)(()=>{w()},[e,u]);const w=async()=>{try{l(!0);const t=localStorage.getItem("token");if(!t)return void d("Authentication token missing. Please login again.");if(Vr.defaults.headers.common.Authorization="Bearer ".concat(t),0===e){const e=new URLSearchParams;u.status&&e.append("status",u.status),u.clientId&&e.append("clientId",u.clientId);let t=(await Vr.get("/api/payments?".concat(e.toString()))).data.data;u.searchTerm&&(t=t.filter(e=>{var t,r;return e.deliveryId.toLowerCase().includes(u.searchTerm.toLowerCase())||(null===(t=e.metadata)||void 0===t||null===(r=t.clientName)||void 0===r?void 0:r.toLowerCase().includes(u.searchTerm.toLowerCase()))})),a(t),j(t)}else if(1===e){const e=await Vr.get("/api/payments/overdue");i(e.data.data)}}catch(c){var t,r;console.error("Error fetching payment data:",c),d((null===(t=c.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load payment data")}finally{l(!1)}},j=e=>{const t=e.reduce((e,t)=>(e.totalPayments++,e.totalAmount+=t.amount,"pending"===t.status?(e.pendingPayments++,e.totalOutstanding+=t.amount):"overdue"===t.status?(e.overduePayments++,e.totalOutstanding+=t.amount):"paid"===t.status&&(e.paidPayments++,e.totalPaid+=t.amount),e),{totalPayments:0,totalAmount:0,pendingPayments:0,overduePayments:0,paidPayments:0,totalPaid:0,totalOutstanding:0});y(t)},N=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e),k=e=>e?hE(new Date(e),"MMM dd, yyyy"):"N/A",S=(e,t)=>{if("paid"===e)return"success";if("overdue"===e)return"error";if("failed"===e)return"error";if("pending"===e&&t){if(yq(new Date(t),new Date)<=5)return"warning"}return"default"},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,$r.jsx)(Rz,{component:ED,children:(0,$r.jsxs)(Wz,{children:[(0,$r.jsx)(Xz,{children:(0,$r.jsxs)(aO,{sx:{backgroundColor:"#f5f5f5"},children:[(0,$r.jsx)(dO,{children:"Payment ID"}),(0,$r.jsx)(dO,{children:"Client"}),(0,$r.jsx)(dO,{children:"Delivery ID"}),(0,$r.jsx)(dO,{children:"Amount"}),(0,$r.jsx)(dO,{children:"Due Date"}),(0,$r.jsx)(dO,{children:"Status"}),t&&(0,$r.jsx)(dO,{children:"Days Overdue"}),(0,$r.jsx)(dO,{children:"Actions"})]})}),(0,$r.jsx)(xO,{children:e.map(e=>{var r,n,a,s;const i=(o=e.dueDate)?yq(new Date(o),new Date):null;var o;return(0,$r.jsxs)(aO,{children:[(0,$r.jsx)(dO,{children:(0,$r.jsx)(CD,{variant:"body2",fontWeight:"bold",children:e.id})}),(0,$r.jsx)(dO,{children:(0,$r.jsx)(CD,{variant:"body2",children:(null===(r=e.metadata)||void 0===r?void 0:r.clientName)||(null===(n=e.client)||void 0===n?void 0:n.clientName)||"N/A"})}),(0,$r.jsxs)(dO,{children:[(0,$r.jsx)(CD,{variant:"body2",fontWeight:"bold",children:e.deliveryId}),(0,$r.jsxs)(CD,{variant:"caption",color:"textSecondary",children:[(null===(a=e.metadata)||void 0===a?void 0:a.pickupLocation)||"N/A"," \u2192 ",(null===(s=e.metadata)||void 0===s?void 0:s.deliveryAddress)||"N/A"]})]}),(0,$r.jsxs)(dO,{children:[(0,$r.jsx)(CD,{variant:"body1",fontWeight:"bold",children:N(e.amount)}),e.transactionFee>0&&(0,$r.jsxs)(CD,{variant:"caption",color:"textSecondary",children:["Net: ",N(e.netAmount)]})]}),(0,$r.jsxs)(dO,{children:[(0,$r.jsx)(CD,{variant:"body2",children:k(e.dueDate)}),(0,$r.jsxs)(CD,{variant:"caption",color:"textSecondary",children:["Delivery: ",k(e.deliveryDate)]})]}),(0,$r.jsx)(dO,{children:(0,$r.jsx)(CO,{label:e.status.charAt(0).toUpperCase()+e.status.slice(1),color:S(e.status,e.dueDate),size:"small"})}),t&&(0,$r.jsx)(dO,{children:(0,$r.jsxs)(CD,{variant:"body2",color:"error",children:[e.daysPastDue||Math.abs(i)," days"]})}),(0,$r.jsx)(dO,{children:(0,$r.jsxs)(vA,{sx:{display:"flex",gap:1},children:[(0,$r.jsx)(uU,{title:"View Details",children:(0,$r.jsx)(qT,{size:"small",onClick:()=>{m(e),g(!0)},children:(0,$r.jsx)(bq,{})})}),("pending"===e.status||"overdue"===e.status)&&(0,$r.jsx)(uU,{title:"Create Payment Link",children:(0,$r.jsx)(qT,{size:"small",onClick:()=>(async e=>{try{b(!0);const t=await Vr.post("/api/payments/".concat(e,"/create-link")),{paymentLinkUrl:r}=t.data.data;navigator.clipboard.writeText(r),alert("Payment link copied to clipboard!")}catch(c){var t,r;console.error("Error creating payment link:",c),d((null===(t=c.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to create payment link")}finally{b(!1)}})(e.id),disabled:x,color:"primary",children:(0,$r.jsx)(vq,{})})}),(0,$r.jsx)(uU,{title:"Update Client Status",children:(0,$r.jsx)(qT,{size:"small",onClick:()=>(async e=>{try{b(!0),await Vr.post("/api/payments/update-client-status/".concat(e)),w()}catch(c){var t,r;console.error("Error updating client status:",c),d((null===(t=c.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update client status")}finally{b(!1)}})(e.clientId),disabled:x,children:(0,$r.jsx)(xq,{})})})]})})]},e.id)})})]})})};return o?(0,$r.jsx)(vA,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,$r.jsx)(pD,{})}):(0,$r.jsxs)(vA,{p:3,children:[(0,$r.jsx)(CD,{variant:"h4",component:"h1",gutterBottom:!0,children:"Payment Management"}),c&&(0,$r.jsx)(oL,{severity:"error",sx:{mb:3},children:c}),(0,$r.jsxs)(oI,{container:!0,spacing:3,sx:{mb:4},children:[(0,$r.jsx)(oI,{item:!0,xs:12,md:2,children:(0,$r.jsx)(hI,{children:(0,$r.jsxs)(xI,{children:[(0,$r.jsx)(CD,{color:"textSecondary",gutterBottom:!0,children:"Total Payments"}),(0,$r.jsx)(CD,{variant:"h5",component:"h2",children:v.totalPayments}),(0,$r.jsx)(CD,{variant:"body2",children:N(v.totalAmount)})]})})}),(0,$r.jsx)(oI,{item:!0,xs:12,md:2,children:(0,$r.jsx)(hI,{children:(0,$r.jsxs)(xI,{children:[(0,$r.jsx)(CD,{color:"textSecondary",gutterBottom:!0,children:"Pending"}),(0,$r.jsx)(CD,{variant:"h5",component:"h2",color:"warning.main",children:v.pendingPayments}),(0,$r.jsx)(CD,{variant:"body2",children:"Awaiting payment"})]})})}),(0,$r.jsx)(oI,{item:!0,xs:12,md:2,children:(0,$r.jsx)(hI,{children:(0,$r.jsxs)(xI,{children:[(0,$r.jsx)(CD,{color:"textSecondary",gutterBottom:!0,children:"Overdue"}),(0,$r.jsx)(CD,{variant:"h5",component:"h2",color:"error",children:v.overduePayments}),(0,$r.jsx)(CD,{variant:"body2",color:"error",children:"Requires action"})]})})}),(0,$r.jsx)(oI,{item:!0,xs:12,md:2,children:(0,$r.jsx)(hI,{children:(0,$r.jsxs)(xI,{children:[(0,$r.jsx)(CD,{color:"textSecondary",gutterBottom:!0,children:"Paid"}),(0,$r.jsx)(CD,{variant:"h5",component:"h2",color:"success.main",children:v.paidPayments}),(0,$r.jsx)(CD,{variant:"body2",children:"Completed"})]})})}),(0,$r.jsx)(oI,{item:!0,xs:12,md:2,children:(0,$r.jsx)(hI,{children:(0,$r.jsxs)(xI,{children:[(0,$r.jsx)(CD,{color:"textSecondary",gutterBottom:!0,children:"Outstanding"}),(0,$r.jsx)(CD,{variant:"h5",component:"h2",color:"error",children:N(v.totalOutstanding)}),(0,$r.jsx)(CD,{variant:"body2",children:"Due amount"})]})})}),(0,$r.jsx)(oI,{item:!0,xs:12,md:2,children:(0,$r.jsx)(hI,{children:(0,$r.jsxs)(xI,{children:[(0,$r.jsx)(CD,{color:"textSecondary",gutterBottom:!0,children:"Collected"}),(0,$r.jsx)(CD,{variant:"h5",component:"h2",color:"success.main",children:N(v.totalPaid)}),(0,$r.jsx)(CD,{variant:"body2",children:"Paid amount"})]})})})]}),(0,$r.jsx)(hI,{children:(0,$r.jsxs)(xI,{children:[(0,$r.jsxs)(FU,{value:e,onChange:(e,t)=>r(t),children:[(0,$r.jsx)(WU,{label:"All Payments"}),(0,$r.jsx)(WU,{label:"Overdue Payments"})]}),(0,$r.jsxs)(vA,{sx:{mt:3},children:[0===e&&(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)(oI,{container:!0,spacing:2,sx:{mb:3},children:[(0,$r.jsx)(oI,{item:!0,xs:12,md:3,children:(0,$r.jsxs)(CI,{fullWidth:!0,children:[(0,$r.jsx)(BI,{children:"Status"}),(0,$r.jsxs)(JF,{value:u.status,onChange:e=>h(Ne(Ne({},u),{},{status:e.target.value})),label:"Status",children:[(0,$r.jsx)(sz,{value:"",children:"All"}),(0,$r.jsx)(sz,{value:"pending",children:"Pending"}),(0,$r.jsx)(sz,{value:"overdue",children:"Overdue"}),(0,$r.jsx)(sz,{value:"paid",children:"Paid"}),(0,$r.jsx)(sz,{value:"failed",children:"Failed"})]})]})}),(0,$r.jsx)(oI,{item:!0,xs:12,md:3,children:(0,$r.jsx)(bz,{fullWidth:!0,label:"Search",value:u.searchTerm,onChange:e=>h(Ne(Ne({},u),{},{searchTerm:e.target.value})),placeholder:"Delivery ID, Client...",InputProps:{startAdornment:(0,$r.jsx)(gq,{})}})}),(0,$r.jsx)(oI,{item:!0,xs:12,md:3,children:(0,$r.jsx)(Tz,{variant:"outlined",onClick:w,startIcon:(0,$r.jsx)(xq,{}),disabled:o,children:"Refresh"})})]}),C(n)]}),1===e&&(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)(oL,{severity:"error",sx:{mb:3},children:[(0,$r.jsx)(CD,{variant:"h6",children:"Overdue Payments Alert"}),"These payments are past their due date and require immediate attention."]}),C(s,!0)]})]})]})}),(0,$r.jsxs)(ZU,{open:f,onClose:()=>g(!1),maxWidth:"md",fullWidth:!0,children:[(0,$r.jsx)(sq,{children:"Payment Details"}),(0,$r.jsx)(dq,{children:p&&(0,$r.jsxs)(oI,{container:!0,spacing:2,children:[(0,$r.jsxs)(oI,{item:!0,xs:6,children:[(0,$r.jsx)(CD,{variant:"subtitle2",children:"Payment ID:"}),(0,$r.jsx)(CD,{variant:"body2",children:p.id})]}),(0,$r.jsxs)(oI,{item:!0,xs:6,children:[(0,$r.jsx)(CD,{variant:"subtitle2",children:"Delivery ID:"}),(0,$r.jsx)(CD,{variant:"body2",children:p.deliveryId})]}),(0,$r.jsxs)(oI,{item:!0,xs:6,children:[(0,$r.jsx)(CD,{variant:"subtitle2",children:"Amount:"}),(0,$r.jsx)(CD,{variant:"body2",children:N(p.amount)})]}),(0,$r.jsxs)(oI,{item:!0,xs:6,children:[(0,$r.jsx)(CD,{variant:"subtitle2",children:"Status:"}),(0,$r.jsx)(CO,{label:p.status,color:S(p.status,p.dueDate),size:"small"})]}),(0,$r.jsxs)(oI,{item:!0,xs:6,children:[(0,$r.jsx)(CD,{variant:"subtitle2",children:"Due Date:"}),(0,$r.jsx)(CD,{variant:"body2",children:k(p.dueDate)})]}),(0,$r.jsxs)(oI,{item:!0,xs:6,children:[(0,$r.jsx)(CD,{variant:"subtitle2",children:"Created:"}),(0,$r.jsx)(CD,{variant:"body2",children:k(p.createdAt)})]}),p.paidAt&&(0,$r.jsxs)(oI,{item:!0,xs:6,children:[(0,$r.jsx)(CD,{variant:"subtitle2",children:"Paid Date:"}),(0,$r.jsx)(CD,{variant:"body2",children:k(p.paidAt)})]}),p.paymentMethod&&(0,$r.jsxs)(oI,{item:!0,xs:6,children:[(0,$r.jsx)(CD,{variant:"subtitle2",children:"Payment Method:"}),(0,$r.jsx)(CD,{variant:"body2",children:p.paymentMethod})]})]})}),(0,$r.jsx)(fq,{children:(0,$r.jsx)(Tz,{onClick:()=>g(!1),children:"Close"})})]})]})},Nq=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)("all"),[u,h]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{i(!0),l(null);const e=localStorage.getItem("token");e&&(Vr.defaults.headers.common.Authorization="Bearer ".concat(e));const t=await Vr.get("/api/payments");t.data&&t.data.data?(r(t.data.data),a(t.data.data)):(r([]),a([])),i(!1)}catch(n){var e,t;console.error("Error fetching payments:",n),l((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load payment records"),i(!1)}})()},[]),(0,t.useEffect)(()=>{let t=e;"all"!==c&&(t=t.filter(e=>e.status===c)),u&&(t=t.filter(e=>{var t,r,n;return(null===(t=e.deliveryId)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(r=e.metadata)||void 0===r||null===(n=r.clientName)||void 0===n?void 0:n.toLowerCase().includes(u.toLowerCase()))||e.id.toLowerCase().includes(u.toLowerCase())})),a(t)},[e,c,u]);const p=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",m=e=>{switch(e){case"paid":return"status-paid";case"pending":return"status-pending";case"overdue":return"status-overdue";case"failed":return"status-failed";default:return"status-unknown"}};e.length,e.filter(e=>"paid"===e.status).length,e.filter(e=>"pending"===e.status).length,e.filter(e=>"overdue"===e.status).length,e.filter(e=>"failed"===e.status).length;return s?(0,$r.jsx)("div",{className:"loading",children:"Loading payment records..."}):o?(0,$r.jsx)("div",{className:"error-container",children:(0,$r.jsxs)("div",{className:"error-message",children:[o,(0,$r.jsx)("div",{style:{marginTop:"10px"},children:(0,$r.jsx)("button",{onClick:()=>window.location.reload(),children:"Retry"})})]})}):(0,$r.jsxs)("div",{className:"admin-page-container",children:[(0,$r.jsx)(sf,{currentUser:null}),(0,$r.jsxs)("div",{className:"admin-content",children:[(0,$r.jsxs)("div",{className:"greeting-section",children:[(0,$r.jsx)("h2",{className:"greeting-text",children:"Payment Records"}),(0,$r.jsx)("p",{className:"greeting-subtitle",children:"Track and manage payment transactions and financial records"}),(0,$r.jsxs)("div",{className:"summary-cards",children:[(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"card-icon",children:(0,$r.jsx)(Dn,{size:24})}),(0,$r.jsxs)("div",{className:"card-content",children:[(0,$r.jsx)("div",{className:"card-value",children:e.length}),(0,$r.jsx)("div",{className:"card-label",children:"Total Payments"}),(0,$r.jsxs)("div",{className:"card-change positive",children:[(0,$r.jsx)(hn,{size:12}),"+3.7%"]})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"card-icon",children:(0,$r.jsx)(jn,{size:24})}),(0,$r.jsxs)("div",{className:"card-content",children:[(0,$r.jsx)("div",{className:"card-value",children:e.filter(e=>"completed"===e.status).length}),(0,$r.jsx)("div",{className:"card-label",children:"Completed"}),(0,$r.jsxs)("div",{className:"card-change positive",children:[(0,$r.jsx)(hn,{size:12}),"+2.9%"]})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"card-icon",children:(0,$r.jsx)(An,{size:24})}),(0,$r.jsxs)("div",{className:"card-content",children:[(0,$r.jsx)("div",{className:"card-value",children:e.filter(e=>"pending"===e.status).length}),(0,$r.jsx)("div",{className:"card-label",children:"Pending"}),(0,$r.jsxs)("div",{className:"card-change neutral",children:[(0,$r.jsx)(on,{size:12}),"0.0%"]})]})]}),(0,$r.jsxs)("div",{className:"summary-card",children:[(0,$r.jsx)("div",{className:"card-icon",children:(0,$r.jsx)(On,{size:24})}),(0,$r.jsxs)("div",{className:"card-content",children:[(0,$r.jsx)("div",{className:"card-value",children:e.filter(e=>"failed"===e.status).length}),(0,$r.jsx)("div",{className:"card-label",children:"Failed"}),(0,$r.jsxs)("div",{className:"card-change negative",children:[(0,$r.jsx)(dn,{size:12}),"-0.2%"]})]})]})]})]}),(0,$r.jsxs)("div",{className:"modern-filters",children:[(0,$r.jsxs)("div",{className:"filters-header",children:[(0,$r.jsx)("div",{className:"filters-header-icon",children:"\ud83d\udd0d"}),(0,$r.jsx)("h3",{children:"Search & Filter"})]}),(0,$r.jsxs)("div",{className:"filters-grid",children:[(0,$r.jsxs)("div",{className:"search-container",children:[(0,$r.jsx)("label",{className:"search-label",children:"Search"}),(0,$r.jsxs)("div",{className:"search-input-wrapper",children:[(0,$r.jsx)("div",{className:"search-icon",children:"\ud83d\udd0d"}),(0,$r.jsx)("input",{type:"text",placeholder:"Search by Payment ID, Client, or Delivery ID",value:u,onChange:e=>h(e.target.value),className:"modern-search-input"})]})]}),(0,$r.jsxs)("div",{className:"filter-group",children:[(0,$r.jsx)("label",{className:"filter-label",children:"Status"}),(0,$r.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"modern-filter-select",children:[(0,$r.jsx)("option",{value:"all",children:"All Status"}),(0,$r.jsx)("option",{value:"paid",children:"Paid"}),(0,$r.jsx)("option",{value:"pending",children:"Pending"}),(0,$r.jsx)("option",{value:"overdue",children:"Overdue"}),(0,$r.jsx)("option",{value:"failed",children:"Failed"})]})]}),(0,$r.jsx)("div",{className:"filter-actions",children:(0,$r.jsx)("button",{onClick:()=>{d("all"),h("")},className:"modern-btn modern-btn-secondary",children:"Clear All Filters"})})]})]}),(0,$r.jsx)("div",{className:"table-container",children:(0,$r.jsxs)("table",{className:"records-table",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{children:"Payment ID"}),(0,$r.jsx)("th",{children:"Client"}),(0,$r.jsx)("th",{children:"Delivery ID"}),(0,$r.jsx)("th",{children:"Amount"}),(0,$r.jsx)("th",{children:"Status"}),(0,$r.jsx)("th",{children:"Due Date"}),(0,$r.jsx)("th",{children:"Payment Method"}),(0,$r.jsx)("th",{children:"Created Date"}),(0,$r.jsx)("th",{children:"Actions"})]})}),(0,$r.jsx)("tbody",{children:n.length>0?n.map(e=>{var t,r,n;return(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("td",{children:(0,$r.jsx)("span",{className:"payment-id",children:e.id})}),(0,$r.jsx)("td",{children:(0,$r.jsx)("span",{className:"client-name",children:(null===(t=e.metadata)||void 0===t?void 0:t.clientName)||"Unknown Client"})}),(0,$r.jsx)("td",{children:(0,$r.jsx)("span",{className:"delivery-id",children:e.deliveryId||"N/A"})}),(0,$r.jsx)("td",{children:(0,$r.jsx)("span",{className:"amount",children:(n=e.amount,new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(n))})}),(0,$r.jsx)("td",{children:(0,$r.jsx)("span",{className:"status-badge ".concat(m(e.status)),children:e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"Unknown"})}),(0,$r.jsx)("td",{children:(0,$r.jsx)("span",{className:"due-date",children:p(e.dueDate)})}),(0,$r.jsx)("td",{children:(0,$r.jsx)("span",{className:"payment-method",children:(null===(r=e.metadata)||void 0===r?void 0:r.paymentMethod)||e.paymentMethod||"N/A"})}),(0,$r.jsx)("td",{children:(0,$r.jsx)("span",{className:"created-date",children:p(e.createdAt)})}),(0,$r.jsx)("td",{children:(0,$r.jsx)("div",{className:"actions",children:(0,$r.jsx)(be,{to:"/admin/payments/".concat(e.id),className:"btn btn-sm btn-view",children:"View"})})})]},e.id)}):(0,$r.jsx)("tr",{children:(0,$r.jsx)("td",{colSpan:"9",className:"no-records",children:"No payment records found"})})})]})}),(0,$r.jsx)("div",{className:"table-footer",children:(0,$r.jsxs)("p",{children:["Showing ",n.length," of ",e.length," payment records"]})})]})]})},kq=e=>{var r;let{currentUser:n}=e;const{isWithinTimeframe:a}=La(),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)({show:!1,type:"info",message:""}),[w,j]=(0,t.useState)(!1),[N,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(!1),[_,P]=(0,t.useState)(!1),[A,D]=(0,t.useState)(!1),[T,L]=(0,t.useState)(""),[E,I]=(0,t.useState)("all"),[M,R]=(0,t.useState)(""),[F,z]=(0,t.useState)(""),[O,B]=(0,t.useState)(""),[U,q]=(0,t.useState)(0),[W,H]=(0,t.useState)(10),[V,K]=(0,t.useState)(!1),[G,Y]=(0,t.useState)({totalPayments:0,totalAmount:0,pendingPayments:0,overduePayments:0,paidPayments:0,pendingVerificationPayments:0,pendingAmount:0,overdueAmount:0,paidAmount:0,pendingVerificationAmount:0}),$=["all"!==E,F,O].filter(Boolean).length;(0,t.useEffect)(()=>{J()},[]),(0,t.useEffect)(()=>{X()},[s,E,M,F,O,a]),(0,t.useEffect)(()=>{Q()},[o]);const J=async()=>{try{d(!0);const e=localStorage.getItem("token");if(!e)throw new Error("Authentication token missing");const t=await Vr.get("/api/payments/all",{headers:{Authorization:"Bearer ".concat(e)}});i(t.data.data||[]),h(null)}catch(r){var e,t;console.error("Error fetching payments:",r),h((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load payments")}finally{d(!1)}},X=()=>{let e=[...s];if(e=e.filter(e=>{const t=e.dueDate||e.createdAt||e.created_at||e.deliveryDate;return a(t)}),"all"!==E&&(e=e.filter(e=>e.status===E)),M.trim()){const t=M.toLowerCase();e=e.filter(e=>{var r,n,a,s,i;return(null===(r=e.deliveryId)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(n=e.clientName)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.clientId)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(s=e.metadata)||void 0===s||null===(i=s.truckPlate)||void 0===i?void 0:i.toLowerCase().includes(t))})}(F||O)&&(e=e.filter(e=>{const t=e.dueDate||e.createdAt||e.created_at||e.deliveryDate;if(!t)return!0;const r=new Date(t),n=F?new Date(F):null,a=O?new Date(O):null;return n&&n.setHours(0,0,0,0),a&&a.setHours(23,59,59,999),n&&a?r>=n&&r<=a:n?r>=n:!a||r<=a})),l(e),q(0)},Q=()=>{const e={totalPayments:o.length,totalAmount:0,pendingPayments:0,overduePayments:0,paidPayments:0,pendingVerificationPayments:0,pendingAmount:0,overdueAmount:0,paidAmount:0,pendingVerificationAmount:0};o.forEach(t=>{e.totalAmount+=t.amount||0,"paid"===t.status?(e.paidPayments++,e.paidAmount+=t.amount||0):"overdue"===t.status?(e.overduePayments++,e.overdueAmount+=t.amount||0):"pending"===t.status?(e.pendingPayments++,e.pendingAmount+=t.amount||0):"pending_verification"===t.status&&(e.pendingVerificationPayments++,e.pendingVerificationAmount+=t.amount||0)}),Y(e)},Z=async()=>{if(null!==N&&void 0!==N&&N.id)try{C(!0);const e=localStorage.getItem("token");await Vr.post("/api/payments/approve-proof",{proofId:N.id},{headers:{Authorization:"Bearer ".concat(e)}}),y({show:!0,type:"success",message:"Payment approved!"}),j(!1),await J()}catch(e){y({show:!0,type:"error",message:"Failed to approve proof"})}finally{C(!1)}},ee=()=>{L(""),D(!0)},te=async e=>{try{const t=localStorage.getItem("token"),r=await Vr.get("/api/payments/receipt/".concat(e.proofId),{headers:{Authorization:"Bearer ".concat(t)},responseType:"blob"}),n=r.headers["content-type"]||"application/pdf",a=new Blob([r.data],{type:n}),s=window.URL.createObjectURL(a);window.open(s,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(s),1e4)}catch(t){console.error("Error fetching receipt:",t),y({show:!0,type:"error",message:"Failed to load receipt. The receipt may not have been generated yet."})}},re=e=>"\u20b1".concat(new Intl.NumberFormat("en-US",{minimumFractionDigits:2}).format(e)),ne=e=>{switch(e){case"paid":return"bg-green-100 text-green-800 border-green-200";case"overdue":case"rejected":return"bg-red-100 text-red-800 border-red-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"pending_verification":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return(0,$r.jsxs)("div",{className:"min-h-screen bg-gray-50/50",children:[(0,$r.jsx)(sf,{currentUser:n}),(0,$r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,$r.jsxs)("div",{className:"mb-8",children:[(0,$r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Billing Management"}),(0,$r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and track all payment records"})]}),v.show&&(0,$r.jsxs)("div",{className:"mb-6 p-4 rounded-xl border flex items-center gap-3 ".concat("error"===v.type?"bg-red-50 border-red-200 text-red-700":"success"===v.type?"bg-green-50 border-green-200 text-green-700":"bg-blue-50 border-blue-200 text-blue-700"),children:["error"===v.type?(0,$r.jsx)(cn,{size:20}):(0,$r.jsx)(jn,{size:20}),(0,$r.jsx)("span",{className:"text-sm font-medium",children:v.message}),(0,$r.jsx)("button",{onClick:()=>y(Ne(Ne({},v),{},{show:!1})),className:"ml-auto hover:opacity-75",children:(0,$r.jsx)(ga,{size:18})})]}),G.pendingVerificationPayments>0&&(0,$r.jsx)("div",{className:"mb-6 p-5 rounded-2xl border-2 border-blue-300 bg-gradient-to-r from-blue-50 to-indigo-50 shadow-sm",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,$r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,$r.jsx)("div",{className:"p-3 bg-blue-500 text-white rounded-xl shadow-md animate-pulse",children:(0,$r.jsx)(aa,{size:28})}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h3",{className:"text-lg font-bold text-blue-900 flex items-center gap-2",children:["Payment Proofs Awaiting Review",(0,$r.jsx)("span",{className:"inline-flex items-center justify-center w-7 h-7 text-sm font-bold bg-blue-600 text-white rounded-full",children:G.pendingVerificationPayments})]}),(0,$r.jsxs)("p",{className:"text-sm text-blue-700 mt-0.5",children:["Total amount:"," ",(0,$r.jsx)("span",{className:"font-semibold",children:re(G.pendingVerificationAmount)})," ","requires your verification"]})]})]}),(0,$r.jsxs)("button",{onClick:()=>I("pending_verification"),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl shadow-md transition-all duration-200 hover:shadow-lg",children:[(0,$r.jsx)(Mn,{size:20}),"Review Now"]})]})}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-xl",children:(0,$r.jsx)(zn,{size:24})}),(0,$r.jsx)("span",{className:"text-xs font-medium text-gray-400 bg-gray-50 px-2 py-1 rounded-full",children:"Total"})]}),(0,$r.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:G.totalPayments}),(0,$r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Total Billings"}),(0,$r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-50",children:(0,$r.jsx)("span",{className:"text-sm font-semibold text-indigo-600",children:re(G.totalAmount)})})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("div",{className:"p-3 bg-red-50 text-red-600 rounded-xl",children:(0,$r.jsx)(cn,{size:24})}),(0,$r.jsx)("span",{className:"text-xs font-medium text-red-600 bg-red-50 px-2 py-1 rounded-full",children:"Overdue"})]}),(0,$r.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:G.overduePayments}),(0,$r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Overdue Payments"}),(0,$r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-50",children:(0,$r.jsx)("span",{className:"text-sm font-semibold text-red-600",children:re(G.overdueAmount)})})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("div",{className:"p-3 bg-yellow-50 text-yellow-600 rounded-xl",children:(0,$r.jsx)(An,{size:24})}),(0,$r.jsx)("span",{className:"text-xs font-medium text-yellow-600 bg-yellow-50 px-2 py-1 rounded-full",children:"Pending"})]}),(0,$r.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:G.pendingPayments}),(0,$r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Pending Payments"}),(0,$r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-50",children:(0,$r.jsx)("span",{className:"text-sm font-semibold text-yellow-600",children:re(G.pendingAmount)})})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("div",{className:"p-3 bg-green-50 text-green-600 rounded-xl",children:(0,$r.jsx)(jn,{size:24})}),(0,$r.jsx)("span",{className:"text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full",children:"Paid"})]}),(0,$r.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:G.paidPayments}),(0,$r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Completed Payments"}),(0,$r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-50",children:(0,$r.jsx)("span",{className:"text-sm font-semibold text-green-600",children:re(G.paidAmount)})})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 mb-6 flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,$r.jsxs)("div",{className:"relative w-full md:max-w-md",children:[(0,$r.jsx)(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",placeholder:"Search delivery ID, client, or truck...",value:M,onChange:e=>R(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none transition-all"})]}),(0,$r.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,$r.jsxs)("button",{onClick:()=>K(!V),className:"flex items-center gap-2 px-4 py-2 rounded-lg border text-sm font-medium transition-all ".concat(V||$>0?"bg-primary-50 border-primary-200 text-primary-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),children:[(0,$r.jsx)(Un,{size:18}),"Filters",$>0&&(0,$r.jsx)("span",{className:"bg-primary-600 text-white text-xs px-1.5 py-0.5 rounded-full ml-1",children:$})]}),$>0&&(0,$r.jsxs)("button",{onClick:()=>{R(""),I("all"),z(""),B("")},className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 text-gray-600 bg-white hover:bg-gray-50 text-sm font-medium transition-all",children:[(0,$r.jsx)(Bn,{size:18})," Reset"]})]})]}),V&&(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-6 grid grid-cols-1 md:grid-cols-3 gap-6 animate-fade-in-down",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,$r.jsxs)("select",{value:E,onChange:e=>I(e.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none",children:[(0,$r.jsx)("option",{value:"all",children:"All Status"}),(0,$r.jsx)("option",{value:"pending",children:"Pending"}),(0,$r.jsx)("option",{value:"pending_verification",children:"Pending Verification"}),(0,$r.jsx)("option",{value:"rejected",children:"Rejected"}),(0,$r.jsx)("option",{value:"overdue",children:"Overdue"}),(0,$r.jsx)("option",{value:"paid",children:"Paid"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,$r.jsx)("input",{type:"date",value:F,onChange:e=>z(e.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,$r.jsx)("input",{type:"date",value:O,onChange:e=>B(e.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none"})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[c?(0,$r.jsx)("div",{className:"p-12 flex justify-center",children:(0,$r.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary-600"})}):0===o.length?(0,$r.jsxs)("div",{className:"p-12 text-center",children:[(0,$r.jsx)("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300",children:(0,$r.jsx)(aa,{size:32})}),(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No records found"}),(0,$r.jsx)("p",{className:"text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full",children:[(0,$r.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Delivery ID"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Client"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Due Date"}),(0,$r.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:o.slice(U*W,U*W+W).map(e=>{var t,r,n,a;return(0,$r.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsx)("span",{className:"font-medium text-gray-900 block",children:e.deliveryId||"N/A"})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold",children:(null===(t=e.clientName)||void 0===t?void 0:t.charAt(0).toUpperCase())||"C"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.clientName||"Unknown Client"}),(0,$r.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",null===(r=e.clientId)||void 0===r?void 0:r.substring(0,8),"..."]})]})]})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsx)("span",{className:"font-semibold text-gray-900",children:re(e.amount)})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat(ne(e.status)),children:(a=e.status,a.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "))})}),(0,$r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(n=e.dueDate,n?hE(new Date(n),"MMM dd, yyyy"):"N/A")}),(0,$r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,$r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[e.proofId&&(0,$r.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),r=await Vr.get("/api/payments/".concat(e.id,"/proof"),{headers:{Authorization:"Bearer ".concat(t)}});r.data.success&&(k(Ne(Ne({},r.data.data),{},{payment:e})),j(!0))}catch(t){y({show:!0,type:"error",message:"Failed to load proof"})}})(e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-transparent hover:border-blue-100",title:"View Proof",children:(0,$r.jsx)(Mn,{size:18})}),"paid"!==e.status&&(0,$r.jsx)("button",{onClick:()=>(e=>{m(e),g(!0)})(e),className:"p-1.5 text-green-600 hover:bg-green-50 rounded-lg transition-colors border border-transparent hover:border-green-100",title:"Mark as Paid",children:(0,$r.jsx)(jn,{size:18})}),"paid"===e.status&&e.proofId&&(0,$r.jsx)("button",{onClick:()=>te(e),className:"p-1.5 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors border border-transparent hover:border-purple-100",title:"View Receipt",children:(0,$r.jsx)(En,{size:18})})]})})]},e.id)})})]})}),!c&&o.length>0&&(0,$r.jsxs)("div",{className:"bg-white px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing"," ",(0,$r.jsx)("span",{className:"font-medium",children:U*W+1})," to"," ",(0,$r.jsx)("span",{className:"font-medium",children:Math.min((U+1)*W,o.length)})," ","of"," ",(0,$r.jsx)("span",{className:"font-medium",children:o.length})," ","results"]}),(0,$r.jsxs)("div",{className:"flex gap-2",children:[(0,$r.jsx)("button",{onClick:()=>q(Math.max(0,U-1)),disabled:0===U,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,$r.jsx)(kn,{size:18})}),(0,$r.jsx)("button",{onClick:()=>q(U+1),disabled:(U+1)*W>=o.length,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,$r.jsx)(Sn,{size:18})})]})]})]})]}),f&&p&&(0,$r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl animate-scale-up",children:[(0,$r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mark as Paid?"}),(0,$r.jsxs)("p",{className:"text-gray-500 mb-6",children:["Are you sure you want to mark this payment of"," ",(0,$r.jsx)("span",{className:"font-semibold text-gray-900",children:re(p.amount)})," ","as paid?"]}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,$r.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),(0,$r.jsx)("button",{onClick:async()=>{if(p)try{b(!0);const e=localStorage.getItem("token");await Vr.put("/api/payments/".concat(p.id,"/status"),{status:"paid"},{headers:{Authorization:"Bearer ".concat(e)}}),y({show:!0,type:"success",message:"Payment updated successfully"}),await J(),g(!1)}catch(r){var e,t;y({show:!0,type:"error",message:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Update failed"})}finally{b(!1)}},disabled:x,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-lg shadow-green-500/30 transition-all flex items-center gap-2",children:x?"Updating...":"Confirm Payment"})]})]})}),w&&N&&(0,$r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>j(!1),children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] flex flex-col shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,$r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[(0,$r.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,$r.jsx)(Mn,{className:"text-primary-600"}),"Payment Proof"]}),(0,$r.jsx)("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:(0,$r.jsx)(ga,{})})]}),(0,$r.jsx)("div",{className:"flex-1 overflow-auto bg-gray-100 p-4 flex items-center justify-center",children:N.proofUrl?"application/pdf"===N.proofFileType?(0,$r.jsx)("embed",{src:N.proofUrl,type:"application/pdf",className:"w-full h-[60vh] rounded-lg shadow-lg"}):(0,$r.jsx)("img",{src:N.proofUrl,alt:"Proof",className:"max-w-full max-h-full object-contain shadow-lg rounded-lg"}):(0,$r.jsxs)("div",{className:"text-gray-500 flex flex-col items-center gap-2",children:[(0,$r.jsx)(cn,{size:32}),"No proof image available"]})}),(0,$r.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-white",children:[N.referenceNumber&&(0,$r.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:[(0,$r.jsx)("span",{className:"font-medium text-gray-700",children:"Ref #:"})," ",N.referenceNumber,N.clientName&&(0,$r.jsxs)("span",{className:"ml-4",children:[(0,$r.jsx)("span",{className:"font-medium text-gray-700",children:"Client:"})," ",N.clientName]}),N.totalAmount&&(0,$r.jsxs)("span",{className:"ml-4",children:[(0,$r.jsx)("span",{className:"font-medium text-gray-700",children:"Amount:"})," ",re(N.totalAmount)]})]}),(0,$r.jsx)("div",{className:"flex justify-end gap-3",children:"pending"===N.status?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("button",{onClick:ee,disabled:S||_,className:"px-4 py-2 text-red-600 border border-red-200 hover:bg-red-50 rounded-lg transition-all font-medium",children:"Reject Proof"}),(0,$r.jsx)("button",{onClick:Z,disabled:S||_,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-lg shadow-green-500/30 transition-all font-medium flex items-center gap-2",children:S?"Approving...":(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(jn,{})," Approve Payment"]})})]}):"approved"===N.status?(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-green-100 text-green-800 rounded-full text-sm font-medium border border-green-200",children:[(0,$r.jsx)(jn,{size:16})," Approved"]}),(null===(r=N.payment)||void 0===r?void 0:r.proofId)&&(0,$r.jsxs)("button",{onClick:()=>{j(!1),te(N.payment)},className:"px-4 py-2 text-purple-600 border border-purple-200 hover:bg-purple-50 rounded-lg transition-all font-medium flex items-center gap-2",children:[(0,$r.jsx)(En,{size:16})," View Receipt"]})]}):"rejected"===N.status?(0,$r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$r.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-red-100 text-red-800 rounded-full text-sm font-medium border border-red-200",children:[(0,$r.jsx)(ga,{size:16})," Rejected"]}),N.rejectionReason&&(0,$r.jsxs)("span",{className:"text-sm text-gray-500",children:["Reason: ",N.rejectionReason]})]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("button",{onClick:ee,disabled:S||_,className:"px-4 py-2 text-red-600 border border-red-200 hover:bg-red-50 rounded-lg transition-all font-medium",children:"Reject Proof"}),(0,$r.jsx)("button",{onClick:Z,disabled:S||_,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-lg shadow-green-500/30 transition-all font-medium flex items-center gap-2",children:S?"Approving...":(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(jn,{})," Approve Payment"]})})]})})]})]})}),A&&(0,$r.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl animate-scale-up",children:[(0,$r.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-2 text-red-600 flex items-center gap-2",children:[(0,$r.jsx)(cn,{})," Reject Proof"]}),(0,$r.jsx)("p",{className:"text-gray-500 mb-4 text-sm",children:"Please provide a reason for rejecting this payment proof. The client will be notified."}),(0,$r.jsx)("textarea",{value:T,onChange:e=>L(e.target.value),placeholder:"Enter rejection reason...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 outline-none min-h-[100px] mb-4 text-sm"}),(0,$r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,$r.jsx)("button",{onClick:()=>D(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),(0,$r.jsx)("button",{onClick:async()=>{if(null!==N&&void 0!==N&&N.id&&T.trim())try{P(!0);const e=localStorage.getItem("token");await Vr.post("/api/payments/reject-proof",{proofId:N.id,rejectionReason:T.trim()},{headers:{Authorization:"Bearer ".concat(e)}}),y({show:!0,type:"info",message:"Proof rejected"}),D(!1),j(!1),await J()}catch(e){y({show:!0,type:"error",message:"Failed to reject proof"})}finally{P(!1)}},disabled:_,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg shadow-lg shadow-red-500/30 transition-all",children:_?"Rejecting...":"Confirm Rejection"})]})]})})]})};const Sq=function(){return(0,$r.jsx)(Xr,{children:(0,$r.jsx)(Aa,{children:(0,$r.jsx)(Ea,{children:(0,$r.jsx)(Ra,{children:(0,$r.jsx)(za,{children:(0,$r.jsxs)(he,{children:[(0,$r.jsx)(_a,{}),(0,$r.jsxs)(oe,{children:[(0,$r.jsx)(te,{path:"/login",component:Qs}),(0,$r.jsx)(te,{path:"/logout",component:Zs}),(0,$r.jsx)(te,{path:"/home",component:ei}),(0,$r.jsx)(te,{exact:!0,path:"/",render:()=>(0,$r.jsx)(X,{to:"/home"})}),(0,$r.jsx)(te,{exact:!0,path:"/staff/reports",component:oi}),(0,$r.jsx)(ka,{path:"/profile",component:ni}),(0,$r.jsx)(ka,{path:"/staff/vehicle-rates",component:li,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/dashboard",component:of,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/trucks/trucklist",component:vE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/trucks",exact:!0,component:vE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/trucks/add",component:yE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/trucks/edit/:id",component:yE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/drivers/driverslist",component:NE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/drivers",exact:!0,component:NE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/drivers/add",component:wE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/drivers/edit/:id",component:wE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/deliveries/deliverylist",component:kE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/deliveries",exact:!0,component:kE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/deliveries/add",component:SE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/deliveries/:id/view",component:_E,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/deliveries/edit/:id",component:SE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/clients/clientlist",component:PE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/clients",exact:!0,component:PE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/clients/add",component:AE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/clients/edit/:id",component:AE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/clients/:id/trucks",component:DE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/staffs/stafflist",component:TE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/staffs",exact:!0,component:TE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/staffs/add",component:LE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/staffs/edit/:id",component:LE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/helpers/helperslist",component:EE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/helpers",exact:!0,component:EE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/helpers/add",component:IE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/helpers/edit/:id",component:IE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/operators/operatorlist",component:ME,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/operators",exact:!0,component:ME,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/operators/add",component:RE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/operators/edit/:id",component:RE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/audit-test",component:FE,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/payments",exact:!0,component:Nq,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/admin/billings",exact:!0,component:kq,showSidebar:!1}),(0,$r.jsx)(ka,{path:"/client/profile",children:(0,$r.jsx)(Xs,{children:(0,$r.jsx)(wf,{})})}),(0,$r.jsx)(ka,{path:"/client/delivery-tracker",children:(0,$r.jsx)(Xs,{children:(0,$r.jsx)(Ek,{})})}),(0,$r.jsx)(ka,{path:"/client/deliveries/:id",children:(0,$r.jsx)(Xs,{children:(0,$r.jsx)(uL,{})})}),(0,$r.jsx)(ka,{path:"/client/deliveries",exact:!0,children:(0,$r.jsx)(Xs,{children:(0,$r.jsx)(hL,{})})}),(0,$r.jsx)(ka,{path:"/client/locations",children:(0,$r.jsx)(Xs,{children:(0,$r.jsx)(fE,{})})}),(0,$r.jsx)(ka,{path:"/client/book-truck",children:(0,$r.jsx)(Xs,{children:(0,$r.jsx)(xE,{})})}),(0,$r.jsx)(ka,{path:"/client/landing",children:(0,$r.jsx)(X,{to:"/client/profile"})}),(0,$r.jsx)(ka,{path:"/client/dashboard",exact:!0,children:(0,$r.jsx)(X,{to:"/client/profile"})}),(0,$r.jsx)(ka,{path:"/staff/dashboard",component:lf}),(0,$r.jsx)(ka,{path:"/driver/dashboard",component:jf}),(0,$r.jsx)(ka,{path:"/helper/dashboard",component:Nf}),(0,$r.jsx)(ka,{path:"/operator/dashboard",component:kf}),(0,$r.jsx)(ka,{path:"/client/payment-management",children:(0,$r.jsx)(Xs,{children:(0,$r.jsx)(mE,{})})}),(0,$r.jsx)(ka,{path:"/admin/payments/payments-dashboard",component:jq}),(0,$r.jsx)(te,{path:"/upload-test",component:si}),(0,$r.jsx)(te,{path:"/enhanced-upload-test",component:ii}),(0,$r.jsx)(te,{component:ti})]})]})})})})})})},Cq=e=>{e&&e instanceof Function&&r.e(488).then(r.bind(r,2488)).then(t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:s,getTTFB:i}=t;r(e),n(e),a(e),s(e),i(e)})};a.render((0,$r.jsx)(t.StrictMode,{children:(0,$r.jsx)(Ca,{children:(0,$r.jsx)(ja,{children:(0,$r.jsx)(Sq,{})})})}),document.getElementById("root")),Cq()})()})();
//# sourceMappingURL=main.b39dd136.js.map