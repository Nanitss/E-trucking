/*! For license information please see main.33bfe9ac.js.LICENSE.txt */
(()=>{var e={219(e,t,n){"use strict";var r=n(3763),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?i:o[e.$$typeof]||a}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=i;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(m){var a=p(n);a&&a!==m&&e(t,a,r)}var i=d(n);u&&(i=i.concat(u(n)));for(var o=l(t),f=l(n),g=0;g<i.length;++g){var x=i[g];if(!s[x]&&(!r||!r[x])&&(!f||!f[x])&&(!o||!o[x])){var v=h(n,x);try{c(t,x,v)}catch(b){}}}}return t}},4983(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,x=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case s:case o:case i:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case f:case l:return e;default:return t}}case a:return t}}}function j(e){return w(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=f,t.Portal=a,t.Profiler=o,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return j(e)||w(e)===d},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===s},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===f},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===o},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===u||e===o||e===i||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===y||e.$$typeof===x)},t.typeOf=w},3763(e,t,n){"use strict";e.exports=n(4983)},1141(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},8123(e,t,n){var r=n(1141);e.exports=f,e.exports.parse=s,e.exports.compile=function(e,t){return c(s(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=m;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,r=[],s=0,o=0,l="",c=t&&t.delimiter||"/";null!=(n=a.exec(e));){var d=n[0],h=n[1],p=n.index;if(l+=e.slice(o,p),o=p+d.length,h)l+=h[1];else{var m=e[o],f=n[2],g=n[3],x=n[4],v=n[5],b=n[6],y=n[7];l&&(r.push(l),l="");var w=null!=f&&null!=m&&m!==f,j="+"===b||"*"===b,N="?"===b||"*"===b,k=f||c,S=x||v,C=f||("string"===typeof r[r.length-1]?r[r.length-1]:"");r.push({name:g||s++,prefix:f||"",delimiter:k,optional:N,repeat:j,partial:w,asterisk:!!y,pattern:S?u(S):y?".*":i(k,C)})}}return o<e.length&&(l+=e.substr(o)),l&&r.push(l),r}function i(e,t){return!t||t.indexOf(e)>-1?"[^"+d(e)+"]+?":d(t)+"|(?:(?!"+d(t)+")[^"+d(e)+"])+?"}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",p(t)));return function(t,a){for(var s="",i=t||{},c=(a||{}).pretty?o:encodeURIComponent,d=0;d<e.length;d++){var u=e[d];if("string"!==typeof u){var h,p=i[u.name];if(null==p){if(u.optional){u.partial&&(s+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var m=0;m<p.length;m++){if(h=c(p[m]),!n[d].test(h))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(h)+"`");s+=(0===m?u.prefix:u.delimiter)+h}}else{if(h=u.asterisk?l(p):c(p),!n[d].test(h))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+h+'"');s+=u.prefix+h}}else s+=u}return s}}function d(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function h(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function m(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,s=!1!==n.end,i="",o=0;o<e.length;o++){var l=e[o];if("string"===typeof l)i+=d(l);else{var c=d(l.prefix),u="(?:"+l.pattern+")";t.push(l),l.repeat&&(u+="(?:"+c+u+")*"),i+=u=l.optional?l.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")"}}var m=d(n.delimiter||"/"),f=i.slice(-m.length)===m;return a||(i=(f?i.slice(0,-m.length):i)+"(?:"+m+"(?=$))?"),i+=s?"$":a&&f?"":"(?="+m+"|$)",h(new RegExp("^"+i,p(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(f(e[a],t,n).source);return h(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return m(s(e,n),t,n)}(e,t,n)}},1497(e,t,n){"use strict";var r=n(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,i){if(i!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},5173(e,t,n){e.exports=n(1497)()},3218(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730(e,t,n){"use strict";var r=n(5043),a=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(m,e)||!u.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,v);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var E=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var M,F=Object.assign;function O(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function U(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var xe=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Se(e){if(e=ba(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Ce(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Pe(e,t){return e(t)}function Ae(){}var De=!1;function Te(e,t,n){if(De)return e(t,n);De=!0;try{return Pe(e,t,n)}finally{De=!1,(null!==Ne||null!==ke)&&(Ae(),_e())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ee=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Ee=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Ee=!1}function Re(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Me=!1,Fe=null,Oe=!1,ze=null,Be={onError:function(e){Me=!0,Fe=e}};function Ue(e,t,n,r,a,s,i,o,l){Me=!1,Fe=null,Re.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return He(a),e;if(i===r)return He(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Je=a.unstable_requestPaint,Xe=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=ut(o):0!==(s&=i)&&(r=ut(s))}else 0!==(i=n&~a)?r=ut(i):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,St,Ct=!1,_t=[],Pt=null,At=null,Dt=null,Tt=new Map,Lt=new Map,Et=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Mt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=va(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function zt(e,t,n){Ot(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Pt&&Ot(Pt)&&(Pt=null),null!==At&&Ot(At)&&(At=null),null!==Dt&&Ot(Dt)&&(Dt=null),Tt.forEach(zt),Lt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Ut(Pt,e),null!==At&&Ut(At,e),null!==Dt&&Ut(Dt,e),Tt.forEach(t),Lt.forEach(t),n=0;n<Et.length;n++)(r=Et[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Et.length&&null===(n=Et[0]).blockedOn;)Ft(n),null===n.blockedOn&&Et.shift()}var Wt=y.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var a=bt,s=Wt.transition;Wt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,Wt.transition=s}}function Gt(e,t,n,r){var a=bt,s=Wt.transition;Wt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,Wt.transition=s}}function Kt(e,t,n,r){if(Ht){var a=$t(e,t,n,r);if(null===a)Hr(e,t,r,Yt,n),Rt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Pt=Mt(Pt,e,t,n,r,a),!0;case"dragenter":return At=Mt(At,e,t,n,r,a),!0;case"mouseover":return Dt=Mt(Dt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Tt.set(s,Mt(Tt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Lt.set(s,Mt(Lt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==a;){var s=ba(a);if(null!==s&&wt(s),null===(s=$t(e,t,n,r))&&Hr(e,t,r,Yt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function $t(e,t,n,r){if(Yt=null,null!==(e=va(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=F({},cn,{view:0,detail:0}),hn=an(un),pn=F({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(pn),fn=an(F({},pn,{dataTransfer:0})),gn=an(F({},un,{relatedTarget:0})),xn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),yn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Sn(){return kn}var Cn=F({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(Cn),Pn=an(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Dn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Tn),En=[9,13,27,32],In=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var Mn=d&&"TextEvent"in window&&!Rn,Fn=d&&(!In||Rn&&8<Rn&&11>=Rn),On=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Or(e,0)}function $n(e){if(K(ya(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Qn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Kn)){var t=[];Vn(t,Kn,e,we(e)),Te(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function sr(e,t){if("click"===e)return $n(t)}function ir(e,t){if("input"===e||"change"===e)return $n(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=dr(n,s);var i=dr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,xr=null,vr=null,br=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(xr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},kr={};function Sr(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Cr=Sr("animationend"),_r=Sr("animationiteration"),Pr=Sr("animationstart"),Ar=Sr("transitionend"),Dr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Dr.set(e,t),l(t,[e])}for(var Er=0;Er<Tr.length;Er++){var Ir=Tr[Er];Lr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Lr(Cr,"onAnimationEnd"),Lr(_r,"onAnimationIteration"),Lr(Pr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(s(198));var d=Fe;Me=!1,Fe=null,Oe||(Oe=!0,ze=d)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Fr(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Fr(a,o,c),s=l}}}if(Oe)throw e=ze,Oe=!1,ze=null,e}function zr(e,t){var n=t[fa];void 0===n&&(n=t[fa]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Ur]){e[Ur]=!0,i.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Jt(t)){case 1:var a=Vt;break;case 4:a=Gt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Ee||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=va(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Te(function(){var r=s,a=we(n),i=[];e:{var o=Dr.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Cr:case _r:case Pr:l=xn;break;case Ar:l=Dn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Le(m,h))&&d.push(Vr(m,f,p)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[ma])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=mn,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Pn,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:ya(l),p=null==c?o:ya(c),(o=new d(f,m+"leave",l,n,a)).target=u,o.relatedTarget=p,f=null,va(a)===r&&((d=new d(h,m+"enter",c,n,a)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Kr(p))m++;for(p=0,f=h;f;f=Kr(f))p++;for(;0<m-p;)d=Kr(d),m--;for(;0<p-m;)h=Kr(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Kr(d),h=Kr(h)}d=null}else d=null;null!==l&&Yr(i,o,l,d,!1),null!==c&&null!==u&&Yr(i,u,c,d,!0)}if("select"===(l=(o=r?ya(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(Hn(o))if(Xn)g=ir;else{g=ar;var x=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Vn(i,g,n,a):(x&&x(e,o,r),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=r?ya(r):window,e){case"focusin":(Hn(x)||"true"===x.contentEditable)&&(gr=x,xr=r,vr=null);break;case"focusout":vr=xr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,yr(i,n,a);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(i,n,a)}var v;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(v=en()):(Qt="value"in(Xt=a)?Xt.value:Xt.textContent,qn=!0)),0<(x=Gr(r,b)).length&&(b=new yn(b,e,null,n,a),i.push({event:b,listeners:x}),v?b.data=v:null!==(v=Un(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,On);case"textInput":return(e=t.data)===On&&zn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!In&&Bn(e,t)?(e=en(),Zt=Qt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new yn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=v))}Or(i,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Le(e,n))&&r.unshift(Vr(e,s,a)),null!=(s=Le(e,t))&&r.push(Vr(e,s,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Le(n,s))&&i.unshift(Vr(n,l,o)):a||null!=(l=Le(n,s))&&i.push(Vr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var $r=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Jr,"")}function Qr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);qt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ha="__reactFiber$"+ua,pa="__reactProps$"+ua,ma="__reactContainer$"+ua,fa="__reactEvents$"+ua,ga="__reactListeners$"+ua,xa="__reactHandles$"+ua;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[ha])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[pa]||null}var ja=[],Na=-1;function ka(e){return{current:e}}function Sa(e){0>Na||(e.current=ja[Na],ja[Na]=null,Na--)}function Ca(e,t){Na++,ja[Na]=e.current,e.current=t}var _a={},Pa=ka(_a),Aa=ka(!1),Da=_a;function Ta(e,t){var n=e.type.contextTypes;if(!n)return _a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function La(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ea(){Sa(Aa),Sa(Pa)}function Ia(e,t,n){if(Pa.current!==_a)throw Error(s(168));Ca(Pa,t),Ca(Aa,n)}function Ra(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,W(e)||"Unknown",a));return F({},n,r)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Da=Pa.current,Ca(Pa,e),Ca(Aa,Aa.current),!0}function Fa(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ra(e,t,Da),r.__reactInternalMemoizedMergedChildContext=e,Sa(Aa),Sa(Pa),Ca(Pa,e)):Sa(Aa),Ca(Aa,n)}var Oa=null,za=!1,Ba=!1;function Ua(e){null===Oa?Oa=[e]:Oa.push(e)}function qa(){if(!Ba&&null!==Oa){Ba=!0;var e=0,t=bt;try{var n=Oa;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oa=null,za=!1}catch(a){throw null!==Oa&&(Oa=Oa.slice(e+1)),Ke(Ze,qa),a}finally{bt=t,Ba=!1}}return null}var Wa=[],Ha=0,Va=null,Ga=0,Ka=[],Ya=0,$a=null,Ja=1,Xa="";function Qa(e,t){Wa[Ha++]=Ga,Wa[Ha++]=Va,Va=e,Ga=t}function Za(e,t,n){Ka[Ya++]=Ja,Ka[Ya++]=Xa,Ka[Ya++]=$a,$a=e;var r=Ja;e=Xa;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ja=1<<32-it(t)+a|n<<a|r,Xa=s+e}else Ja=1<<s|n<<a|r,Xa=e}function es(e){null!==e.return&&(Qa(e,1),Za(e,1,0))}function ts(e){for(;e===Va;)Va=Wa[--Ha],Wa[Ha]=null,Ga=Wa[--Ha],Wa[Ha]=null;for(;e===$a;)$a=Ka[--Ya],Ka[Ya]=null,Xa=Ka[--Ya],Ka[Ya]=null,Ja=Ka[--Ya],Ka[Ya]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Ja,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function ps(){rs=ns=null,as=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var fs=y.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&vs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Ec(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ec(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case j:return(t=Fc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ic(t,e.mode,n,null)).return=e,t;xs(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?d(e,t,n,r):null;case L:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||R(n))return null!==a?null:u(e,t,n,r,null);xs(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case L:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||R(r))return u(t,e=e.get(n)||null,r,a,null);xs(t,r)}return null}function f(a,s,o,l){for(var c=null,d=null,u=s,f=s=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var x=p(a,u,o[f],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(a,u),s=i(x,s,f),null===d?c=x:d.sibling=x,d=x,u=g}if(f===o.length)return n(a,u),as&&Qa(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(a,o[f],l))&&(s=i(u,s,f),null===d?c=u:d.sibling=u,d=u);return as&&Qa(a,f),c}for(u=r(a,u);f<o.length;f++)null!==(g=m(u,a,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),s=i(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(a,e)}),as&&Qa(a,f),c}function g(a,o,l,c){var d=R(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=o,g=o=0,x=null,v=l.next();null!==f&&!v.done;g++,v=l.next()){f.index>g?(x=f,f=null):x=f.sibling;var b=p(a,f,v.value,c);if(null===b){null===f&&(f=x);break}e&&f&&null===b.alternate&&t(a,f),o=i(b,o,g),null===u?d=b:u.sibling=b,u=b,f=x}if(v.done)return n(a,f),as&&Qa(a,g),d;if(null===f){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(o=i(v,o,g),null===u?d=v:u.sibling=v,u=v);return as&&Qa(a,g),d}for(f=r(a,f);!v.done;g++,v=l.next())null!==(v=m(f,a,g,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),o=i(v,o,g),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach(function(e){return t(a,e)}),as&&Qa(a,g),d}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){n(r,d.sibling),(s=a(d,i.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&vs(c)===d.type){n(r,d.sibling),(s=a(d,i.props)).ref=gs(r,d,i),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}i.type===N?((s=Ic(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Ec(i.type,i.key,i.props,null,r.mode,l)).ref=gs(r,s,i),l.return=r,r=l)}return o(r);case j:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(i,r.mode,l)).return=r,r=s}return o(r);case L:return e(r,s,(d=i._init)(i._payload),l)}if(te(i))return f(r,s,i,l);if(R(i))return g(r,s,i,l);xs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Mc(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ys=bs(!0),ws=bs(!1),js=ka(null),Ns=null,ks=null,Ss=null;function Cs(){Ss=ks=Ns=null}function _s(e){var t=js.current;Sa(js),e._currentValue=t}function Ps(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function As(e,t){Ns=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ds(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ts=null;function Ls(e){null===Ts?Ts=[e]:Ts.push(e)}function Es(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ls(t)):(n.next=a.next,a.next=n),t.interleaved=n,Is(e,r)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Is(e,n)}return null===(a=r.interleaved)?(t.next=t,Ls(r)):(t.next=a.next,a.next=t),r.interleaved=t,Is(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var a=e.updateQueue;Rs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(i=0,d=c=l=null,o=s;;){var h=o.lane,p=o.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=n,f.tag){case 1:if("function"===typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(p,u,h):m)||void 0===h)break e;u=F({},u,h);break e;case 2:Rs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Rl|=i,e.lanes=i,e.memoizedState=u}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Hs={},Vs=ka(Hs),Gs=ka(Hs),Ks=ka(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function $s(e,t){switch(Ca(Ks,t),Ca(Gs,e),Ca(Vs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Vs),Ca(Vs,t)}function Js(){Sa(Vs),Sa(Gs),Sa(Ks)}function Xs(e){Ys(Ks.current);var t=Ys(Vs.current),n=le(t,e.type);t!==n&&(Ca(Gs,e),Ca(Vs,n))}function Qs(e){Gs.current===e&&(Sa(Vs),Sa(Gs))}var Zs=ka(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=y.ReactCurrentDispatcher,ai=y.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,hi=0;function pi(){throw Error(s(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function fi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Qi:Zi,e=n(r,a),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,a)}while(di)}if(ri.current=Xi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function gi(){var e=0!==ui;return ui=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function vi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function bi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=vi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=u,Rl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Rl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=vi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,t.memoizedState)||(bo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ji(){}function Ni(e,t){var n=ii,r=vi(),a=t(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,bo=!0),r=r.queue,Ri(Ci.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Di(9,Si.bind(null,n,r,a,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&si)||ki(n,t,a)}return a}function ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,r){t.value=n,t.getSnapshot=r,_i(t)&&Pi(e)}function Ci(e,t,n){return n(function(){_i(t)&&Pi(e)})}function _i(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Pi(e){var t=Is(e,1);null!==t&&tc(t,e,1,-1)}function Ai(e){var t=xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[t.memoizedState,e]}function Di(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ti(){return vi().memoizedState}function Li(e,t,n,r){var a=xi();ii.flags|=e,a.memoizedState=Di(1|t,n,void 0,void 0===r?null:r)}function Ei(e,t,n,r){var a=vi();r=void 0===r?null:r;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==r&&mi(r,i.deps))return void(a.memoizedState=Di(t,n,s,r))}ii.flags|=e,a.memoizedState=Di(1|t,n,s,r)}function Ii(e,t){return Li(8390656,8,e,t)}function Ri(e,t){return Ei(2048,8,e,t)}function Mi(e,t){return Ei(4,2,e,t)}function Fi(e,t){return Ei(4,4,e,t)}function Oi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ei(4,4,Oi.bind(null,t,e),n)}function Bi(){}function Ui(e,t){var n=vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qi(e,t){var n=vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=ft(),ii.lanes|=n,Rl|=n,e.baseState=!0),t)}function Hi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{bt=n,ai.transition=r}}function Vi(){return vi().memoizedState}function Gi(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yi(e))$i(t,n);else if(null!==(n=Es(e,t,n,r))){tc(n,e,r,Zl()),Ji(n,t,r)}}function Ki(e,t,n){var r=ec(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))$i(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(a.next=a,Ls(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Es(e,t,a,r))&&(tc(n,e,r,a=Zl()),Ji(n,t,r))}}function Yi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function $i(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ji(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xi={readContext:Ds,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Qi={readContext:Ds,useCallback:function(e,t){return xi().memoizedState=[e,void 0===t?null:t],e},useContext:Ds,useEffect:Ii,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Li(4194308,4,Oi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var n=xi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xi().memoizedState=e},useState:Ai,useDebugValue:Bi,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Ai(!1),t=e[0];return e=Hi.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=xi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&si)||ki(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Ii(Ci.bind(null,r,i,e),[e]),r.flags|=2048,Di(9,Si.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=xi(),t=Pl.identifierPrefix;if(as){var n=Xa;t=":"+t+"R"+(n=(Ja&~(1<<32-it(Ja)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ds,useCallback:Ui,useContext:Ds,useEffect:Ri,useImperativeHandle:zi,useInsertionEffect:Mi,useLayoutEffect:Fi,useMemo:qi,useReducer:yi,useRef:Ti,useState:function(){return yi(bi)},useDebugValue:Bi,useDeferredValue:function(e){return Wi(vi(),oi.memoizedState,e)},useTransition:function(){return[yi(bi)[0],vi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:Vi,unstable_isNewReconciler:!1},eo={readContext:Ds,useCallback:Ui,useContext:Ds,useEffect:Ri,useImperativeHandle:zi,useInsertionEffect:Mi,useLayoutEffect:Fi,useMemo:qi,useReducer:wi,useRef:Ti,useState:function(){return wi(bi)},useDebugValue:Bi,useDeferredValue:function(e){var t=vi();return null===oi?t.memoizedState=e:Wi(t,oi.memoizedState,e)},useTransition:function(){return[wi(bi)[0],vi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:Vi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),a=ec(e),s=Os(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,a))&&(tc(t,e,a,r),Bs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),a=ec(e),s=Os(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,a))&&(tc(t,e,a,r),Bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),a=Os(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=zs(e,a,r))&&(tc(t,e,r,n),Bs(t,e,r))}};function ao(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function so(e,t,n){var r=!1,a=_a,s=t.contextType;return"object"===typeof s&&null!==s?s=Ds(s):(a=La(t)?Da:Pa.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ta(e,a):_a),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ds(s):(s=La(t)?Da:Pa.current,a.context=Ta(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),qs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),uo(0,t)},n}function mo(e,t,n){(n=Os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vo=y.ReactCurrentOwner,bo=!1;function yo(e,t,n,r){t.child=null===e?ws(t,null,n,r):ys(t,e.child,n,r)}function wo(e,t,n,r,a){n=n.render;var s=t.ref;return As(t,a),r=fi(e,t,n,r,s,a),n=gi(),null===e||bo?(as&&n&&es(t),t.flags|=1,yo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function jo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ec(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,No(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Wo(e,t,a)}return t.flags|=1,(e=Lc(s,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Wo(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,r,a)}function ko(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Ll,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Ll,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ca(Ll,Tl),Tl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ca(Ll,Tl),Tl|=r;return yo(e,t,a,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,a){var s=La(n)?Da:Pa.current;return s=Ta(t,s),As(t,a),n=fi(e,t,n,r,s,a),r=gi(),null===e||bo?(as&&r&&es(t),t.flags|=1,yo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function _o(e,t,n,r,a){if(La(n)){var s=!0;Ma(t)}else s=!1;if(As(t,a),null===t.stateNode)qo(e,t),so(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ds(c):c=Ta(t,c=La(n)?Da:Pa.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),Rs=!1;var h=t.memoizedState;i.state=h,qs(t,r,i,a),l=t.memoizedState,o!==r||h!==l||Aa.current||Rs?("function"===typeof d&&(no(t,n,d,r),l=t.memoizedState),(o=Rs||ao(t,n,o,r,h,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Fs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ds(l):l=Ta(t,l=La(n)?Da:Pa.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||h!==l)&&io(t,i,r,l),Rs=!1,h=t.memoizedState,i.state=h,qs(t,r,i,a);var m=t.memoizedState;o!==u||h!==m||Aa.current||Rs?("function"===typeof p&&(no(t,n,p,r),m=t.memoizedState),(c=Rs||ao(t,n,c,r,h,m,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Po(e,t,n,r,s,a)}function Po(e,t,n,r,a,s){So(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Fa(t,n,!1),Wo(e,t,s);r=t.stateNode,vo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,o,s)):yo(e,t,o,s),t.memoizedState=r.state,a&&Fa(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),$s(e,t.containerInfo)}function Do(e,t,n,r,a){return ps(),ms(a),t.flags|=256,yo(e,t,n,r),t.child}var To,Lo,Eo,Io={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,a=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ca(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Rc(l,a,0,null),e=Ic(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(n),t.memoizedState=Io,e):Fo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Oo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(i=Ic(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ys(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=Io,i);if(0===(1&t.mode))return Oo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Oo(e,t,o,r=co(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Pl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Is(e,a),tc(r,e,a,-1))}return mc(),Oo(e,t,o,r=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ka[Ya++]=Ja,Ka[Ya++]=Xa,Ka[Ya++]=$a,Ja=e.id,Xa=e.overflow,$a=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Lc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Lc(r,o):(o=Ic(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Io,a}return e=(o=e.child).sibling,a=Lc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fo(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Oo(e,t,n,r){return null!==r&&ms(r),ys(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ps(e.return,t,n)}function Bo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Uo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(yo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bo(t,!0,n,null,s);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return La(t.type)&&Ea(),Vo(t),null;case 3:return r=t.stateNode,Js(),Sa(Aa),Sa(Pa),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(sc(ss),ss=null))),Vo(t),null;case 5:Qs(t);var a=Ys(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Lo(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Vo(t),null}if(e=Ys(Vs.current),us(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[pa]=i,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<Rr.length;a++)zr(Rr[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":J(r,i),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zr("invalid",r);break;case"textarea":ae(r,i),zr("invalid",r)}for(var l in ve(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":G(r),Z(r,i,!0);break;case"textarea":G(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[pa]=r,To(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Rr.length;a++)zr(Rr[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":J(e,r),a=$(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(i in ve(n,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&zr("scroll",e):null!=d&&b(e,i,d,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Eo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Ks.current),Ys(Vs.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Vo(t),null;case 13:if(Sa(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ps(),t.flags|=98560,i=!1;else if(i=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),i=!1}else null!==ss&&(sc(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===El&&(El=3):mc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Js(),null===e&&qr(t.stateNode.containerInfo),Vo(t),null;case 10:return _s(t.type._context),Vo(t),null;case 19:if(Sa(Zs),null===(i=t.memoizedState))return Vo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Ho(i,!1);else{if(0!==El||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Ul&&(t.flags|=128,r=!0,Ho(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Vo(t),null}else 2*Xe()-i.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Ca(Zs,r?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(ts(t),t.tag){case 1:return La(t.type)&&Ea(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Sa(Aa),Sa(Pa),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qs(t),null;case 13:if(Sa(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zs),null;case 4:return Js(),null;case 10:return _s(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}To=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ys(Vs.current);var s,i=null;switch(n){case"input":a=$(e,a),r=$(e,r),i=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in ve(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Eo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,$o=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Qo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function Zo(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&Zo(t,n,s)}a=a.next}while(a!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[pa],delete t[fa],delete t[ga],delete t[xa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,dl=!1;function ul(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:$o||Qo(n,t);case 6:var r=cl,a=dl;cl=null,ul(e,t,n),dl=a,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),qt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=dl,cl=n.stateNode.containerInfo,dl=!0,ul(e,t,n),cl=r,dl=a;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&Zo(n,t,i),a=a.next}while(a!==r)}ul(e,t,n);break;case 1:if(!$o&&(Qo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nc(n,t,o)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,ul(e,t,n),$o=r):ul(e,t,n);break;default:ul(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));hl(i,o,a),cl=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){Nc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(g){Nc(e,e.return,g)}try{tl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Qo(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Qo(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Nc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(a,i),be(l,o);var d=be(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(a,h):"dangerouslySetInnerHTML"===u?ue(a,h):"children"===u?he(a,h):b(a,u,h,d)}switch(l){case"input":Q(a,i);break;case"textarea":se(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?ne(a,!!i.multiple,m,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[pa]=i}catch(g){Nc(e,e.return,g)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Nc(e,e.return,g)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Xe())),4&r&&pl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?($o=(d=$o)||u,ml(t,e),$o=d):ml(t,e),gl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(h=Xo=u;null!==Xo;){switch(m=(p=Xo).child,p.tag){case 0:case 11:case 14:case 15:tl(4,p,p.return);break;case 1:Qo(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){r=p,n=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Nc(r,n,g)}}break;case 5:Qo(p,p.return);break;case 22:if(null!==p.memoizedState){yl(h);continue}}null!==m?(m.return=p,Xo=m):yl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{a=h.stateNode,d?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),ll(e,il(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ol(e,il(e),i);break;default:throw Error(s(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){Xo=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var a=Xo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Yo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Yo;var c=$o;if(Yo=i,($o=l)&&!c)for(Xo=a;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?wl(a):null!==l?(l.return=i,Xo=l):wl(a);for(;null!==s;)Xo=s,vl(s,t,n),s=s.sibling;Xo=a,Yo=o,$o=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xo=s):bl(e)}}function bl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ws(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(s(163))}$o||512&t.flags&&rl(t)}catch(p){Nc(t,t.return,p)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function yl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Nc(t,a,l)}}var s=t.return;try{rl(t)}catch(l){Nc(t,s,l)}break;case 5:var i=t.return;try{rl(t)}catch(l){Nc(t,i,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var jl,Nl=Math.ceil,kl=y.ReactCurrentDispatcher,Sl=y.ReactCurrentOwner,Cl=y.ReactCurrentBatchConfig,_l=0,Pl=null,Al=null,Dl=0,Tl=0,Ll=ka(0),El=0,Il=null,Rl=0,Ml=0,Fl=0,Ol=null,zl=null,Bl=0,Ul=1/0,ql=null,Wl=!1,Hl=null,Vl=null,Gl=!1,Kl=null,Yl=0,$l=0,Jl=null,Xl=-1,Ql=0;function Zl(){return 0!==(6&_l)?Xe():-1!==Xl?Xl:Xl=Xe()}function ec(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Dl?Dl&-Dl:null!==fs.transition?(0===Ql&&(Ql=ft()),Ql):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function tc(e,t,n,r){if(50<$l)throw $l=0,Jl=null,Error(s(185));xt(e,n,r),0!==(2&_l)&&e===Pl||(e===Pl&&(0===(2&_l)&&(Ml|=n),4===El&&ic(e,Dl)),nc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(Ul=Xe()+500,za&&qa()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Pl?Dl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){za=!0,Ua(e)}(oc.bind(null,e)):Ua(oc.bind(null,e)),ia(function(){0===(6&_l)&&qa()}),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xl=-1,Ql=0,0!==(6&_l))throw Error(s(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=fc(e,r);else{t=r;var a=_l;_l|=2;var i=pc();for(Pl===e&&Dl===t||(ql=null,Ul=Xe()+500,uc(e,t));;)try{xc();break}catch(l){hc(e,l)}Cs(),kl.current=i,_l=a,null!==Al?t=0:(Pl=null,Dl=0,t=El)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=ac(e,a))),1===t)throw n=Il,uc(e,0),ic(e,r),nc(e,Xe()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=fc(e,r))&&(0!==(i=mt(e))&&(r=i,t=ac(e,i))),1===t))throw n=Il,uc(e,0),ic(e,r),nc(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:yc(e,zl,ql);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(yc.bind(null,e,zl,ql),t);break}yc(e,zl,ql);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ra(yc.bind(null,e,zl,ql),r);break}yc(e,zl,ql);break;default:throw Error(s(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Ol;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ic(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&_l))throw Error(s(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=fc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Il,uc(e,0),ic(e,t),nc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,zl,ql),nc(e,Xe()),null}function lc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Ul=Xe()+500,za&&qa())}}function cc(e){null!==Kl&&0===Kl.tag&&0===(6&_l)&&wc();var t=_l;_l|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(_l=t))&&qa()}}function dc(){Tl=Ll.current,Sa(Ll)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ea();break;case 3:Js(),Sa(Aa),Sa(Pa),ni();break;case 5:Qs(r);break;case 4:Js();break;case 13:case 19:Sa(Zs);break;case 10:_s(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,Al=e=Lc(e.current,null),Dl=Tl=t,El=0,Il=null,Fl=Ml=Rl=0,zl=Ol=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Ts=null}return e}function hc(e,t){for(;;){var n=Al;try{if(Cs(),ri.current=Xi,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,li=oi=ii=null,di=!1,ui=0,Sl.current=null,null===n||null===n.return){El=1,Il=t,Al=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,xo(m,o,l,0,t),1&m.mode&&fo(i,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(i,d,t),mc();break e}c=Error(s(426))}else if(as&&1&l.mode){var x=go(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,t),ms(lo(c,l));break e}}i=c=lo(c,l),4!==El&&(El=2),null===Ol?Ol=[i]:Ol.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Us(i,po(0,c,t));break e;case 1:l=c;var v=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Us(i,mo(i,l,t));break e}}i=i.return}while(null!==i)}bc(n)}catch(y){t=y,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Xi,null===e?Xi:e}function mc(){0!==El&&3!==El&&2!==El||(El=4),null===Pl||0===(268435455&Rl)&&0===(268435455&Ml)||ic(Pl,Dl)}function fc(e,t){var n=_l;_l|=2;var r=pc();for(Pl===e&&Dl===t||(ql=null,uc(e,t));;)try{gc();break}catch(a){hc(e,a)}if(Cs(),_l=n,kl.current=r,null!==Al)throw Error(s(261));return Pl=null,Dl=0,El}function gc(){for(;null!==Al;)vc(Al)}function xc(){for(;null!==Al&&!$e();)vc(Al)}function vc(e){var t=jl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?bc(e):Al=t,Sl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Tl)))return void(Al=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return El=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===El&&(El=5)}function yc(e,t,n){var r=bt,a=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Kl);if(0!==(6&_l))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===Pl&&(Al=Pl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Pc(tt,function(){return wc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=_l;_l|=4,Sl.current=null,function(e,t){if(ea=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++d===a&&(l=o),p===i&&++u===r&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,x=f.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}f=el,el=!1}(e,n),fl(n,e),mr(ta),Ht=!!ea,ta=ea=null,e.current=n,xl(n,e,a),Je(),_l=l,bt=o,Cl.transition=i}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Yl=a),i=e.pendingLanes,0===i&&(Vl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Jl?$l++:($l=0,Jl=e):$l=0,qa()}(e,t,n,r)}finally{Cl.transition=a,bt=r}return null}function wc(){if(null!==Kl){var e=yt(Yl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&_l))throw Error(s(331));var a=_l;for(_l|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:tl(8,u,i)}var h=u.child;if(null!==h)h.return=u,Xo=h;else for(;null!==Xo;){var p=(u=Xo).sibling,m=u.return;if(al(u),u===d){Xo=null;break}if(null!==p){p.return=m,Xo=p;break}Xo=m}}}var f=i.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Xo=v;break e}Xo=i.return}}var b=e.current;for(Xo=b;null!==Xo;){var y=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Xo=y;else e:for(o=b;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){Nc(l,l.return,j)}if(l===o){Xo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xo=w;break e}Xo=l.return}}if(_l=a,qa(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(j){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function jc(e,t,n){e=zs(e,t=po(0,t=lo(n,t),1),1),t=Zl(),null!==e&&(xt(e,1,t),nc(e,t))}function Nc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=zs(t,e=mo(t,e=lo(n,e),1),1),e=Zl(),null!==t&&(xt(t,1,e),nc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Dl&n)===n&&(4===El||3===El&&(130023424&Dl)===Dl&&500>Xe()-Bl?uc(e,0):Fl|=n),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=Zl();null!==(e=Is(e,t))&&(xt(e,t,n),nc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Sc(e,n)}function Pc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ac(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ec(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Ic(n.children,a,i,t);case k:o=8,a|=8;break;case S:return(e=Dc(12,n,t,2|a)).elementType=S,e.lanes=i,e;case A:return(e=Dc(13,n,t,a)).elementType=A,e.lanes=i,e;case D:return(e=Dc(19,n,t,a)).elementType=D,e.lanes=i,e;case E:return Rc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case _:o=9;break e;case P:o=11;break e;case T:o=14;break e;case L:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ic(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=E,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,s,i,o,l){return e=new Oc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Bc(e){if(!e)return _a;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(La(n))return Ra(e,n,t)}return t}function Uc(e,t,n,r,a,s,i,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Bc(null),n=e.current,(s=Os(r=Zl(),a=ec(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,a),e.current.lanes=a,xt(e,a,r),nc(e,r),e}function qc(e,t,n,r){var a=t.current,s=Zl(),i=ec(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(a,t,i))&&(tc(e,a,i,s),Bs(e,a,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),ps();break;case 5:Xs(t);break;case 1:La(t.type)&&Ma(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(js,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ca(Zs,1&Zs.current),null!==(e=Wo(e,t,n))?e.sibling:null);Ca(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,as&&0!==(1048576&t.flags)&&Za(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var a=Ta(t,Pa.current);As(t,n),a=fi(null,t,r,e,a,n);var i=gi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(r)?(i=!0,Ma(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ms(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Po(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),yo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===T)return 14}return 2}(r),e=to(r,e),a){case 0:t=Co(null,t,r,e,n);break e;case 1:t=_o(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=jo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,_o(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Fs(e,t),qs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Do(e,t,r,n,a=lo(Error(s(423)),t));break e}if(r!==a){t=Do(e,t,r,n,a=lo(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===a){t=Wo(e,t,n);break e}yo(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==i&&na(r,i)&&(t.flags|=32),So(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ys(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ca(js,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!Aa.current){t=Wo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Os(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ps(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ps(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}yo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,As(t,n),r=r(a=Ds(a)),t.flags|=1,yo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),jo(e,t,r,a=to(r.type,a),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),qo(e,t),t.tag=1,La(r)?(e=!0,Ma(t)):e=!1,As(t,n),so(t,r,a),oo(t,r,a,n),Po(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Qc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Wc(i);o.call(e)}}qc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Wc(i);s.call(e)}}var i=Uc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[ma]=i.current,qr(8===e.nodeType?e.parentNode:e),cc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[ma]=l.current,qr(8===e.nodeType?e.parentNode:e),cc(function(){qc(t,l,n,r)}),l}(n,t,e,a,r);return Wc(i)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){qc(null,e,null,null)}),t[ma]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Et.length&&0!==t&&t<Et[n].priority;n++);Et.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),nc(t,Xe()),0===(6&_l)&&(Ul=Xe()+500,qa()))}break;case 13:cc(function(){var t=Is(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}}),Vc(e,1)}},jt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Vc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=ec(e),n=Is(e,t);if(null!==n)tc(n,e,t,Zl());Vc(e,t)}},kt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},je=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));K(r),Q(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=lc,Ae=cc;var Zc={usingClientEntryPoint:!1,Events:[ba,ya,wa,Ce,_e,lc]},ed={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:ed.bundleType,version:ed.version,rendererPackageName:ed.rendererPackageName,rendererConfig:ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:ed.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(td),st=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,qr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,a,0,i,o),e[ma]=t.current,qr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(cc(function(){Qc(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Qc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},7950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},528(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case i:case s:case d:case u:case m:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case o:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===i||e===s||e===d||e===u||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===o||e.$$typeof===c||e.$$typeof===f||void 0!==e.getModuleId)}},9005(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,x=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case s:case o:case i:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case f:case l:return e;default:return t}}case a:return t}}}function j(e){return w(e)===u}},7681(e,t,n){"use strict";n(9005)},1153(e,t,n){"use strict";var r=n(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},4202(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=x.prototype;var y=b.prototype=new v;y.constructor=b,f(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+P(l,0):s,w(i)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),A(i,t,a,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+P(o=e[c],c);l+=A(o,t,a,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=A(o=o.value,t,a,d=s+P(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function D(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",function(e){return t.call(n,e,a++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},E={transition:null},I={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:E,ReactCurrentOwner:N};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.transition;E.transition={};try{e()}finally{E.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},5043(e,t,n){"use strict";e.exports=n(4202)},579(e,t,n){"use strict";e.exports=n(1153)},7234(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,n))c<a&&0>s(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,y(e),!f)if(null!==r(c))f=!0,E(j);else{var t=r(d);null!==t&&I(w,t.startTime-e)}}function j(e,n){f=!1,g&&(g=!1,v(C),C=-1),m=!0;var s=p;try{for(y(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var i=h.callback;if("function"===typeof i){h.callback=null,p=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),y(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&I(w,u.startTime-n),l=!1}return l}finally{h=null,p=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,_=5,P=-1;function A(){return!(t.unstable_now()-P<_)}function D(){if(null!==S){var e=t.unstable_now();P=e;var n=!0;try{n=S(!0,e)}finally{n?N():(k=!1,S=null)}}else k=!1}if("function"===typeof b)N=function(){b(D)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,L=T.port2;T.port1.onmessage=D,N=function(){L.postMessage(null)}}else N=function(){x(D,0)};function E(e){S=e,k||(k=!0,N())}function I(e,n){C=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,E(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(g?(v(C),C=-1):g=!0,I(w,s-i))):(e.sortIndex=o,n(c,e),f||m||(f=!0,E(j))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853(e,t,n){"use strict";e.exports=n(7234)},4467(e,t,n){"use strict";n.d(t,{A:()=>a});var r=n(816);function a(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},816(e,t,n){"use strict";n.d(t,{A:()=>a});var r=n(2284);function a(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=(0,r.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},2284(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{239:"8c242f8f",455:"5effdb1a",488:"3bc38ef8",977:"cd7e494f"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="trucking-web-client:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,s,[i,o,l]=r,c=0;if(i.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunktrucking_web_client=self.webpackChunktrucking_web_client||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>At,hasStandardBrowserEnv:()=>Tt,hasStandardBrowserWebWorkerEnv:()=>Lt,navigator:()=>Dt,origin:()=>Et});var t=n(5043),r=n.t(t,2),a=n(7950);function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}var o=n(5173),l=n.n(o);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}function d(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}const h=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&d(e),i=t&&d(t),o=s||i;if(e&&d(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var c=0,h=a.length;h>=0;h--){var p=a[h];"."===p?u(a,h):".."===p?(u(a,h),c++):c&&(u(a,h),c--)}if(!o)for(;c--;c)a.unshift("..");!o||""===a[0]||a[0]&&d(a[0])||a.unshift("");var m=a.join("/");return n&&"/"!==m.substr(-1)&&(m+="/"),m};function p(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const m=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});if("object"===typeof t||"object"===typeof n){var r=p(t),a=p(n);return r!==t||a!==n?e(r,a):Object.keys(Object.assign({},t,n)).every(function(r){return e(t[r],n[r])})}return!1};var f="Invariant failed";function g(e,t){if(!e)throw new Error(f)}function x(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function b(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function w(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function j(e,t,n,r){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=c({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=h(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function N(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var s="function"===typeof e?e(t,n):e;"string"===typeof s?"function"===typeof r?r(s,a):a(!0):a(!1!==s)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}var k=!("undefined"===typeof window||!window.document||!window.document.createElement);function S(e,t){t(window.confirm(e))}var C="popstate",_="hashchange";function P(){try{return window.history.state||{}}catch(e){return{}}}function A(e){void 0===e&&(e={}),k||g(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,s=a.forceRefresh,i=void 0!==s&&s,o=a.getUserConfirmation,l=void 0===o?S:o,d=a.keyLength,u=void 0===d?6:d,h=e.basename?y(x(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,a=window.location,s=a.pathname+a.search+a.hash;return h&&(s=b(s,h)),j(s,r,n)}function m(){return Math.random().toString(36).substr(2,u)}var f=N();function v(e){c(B,e),B.length=t.length,f.notifyListeners(B.location,B.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||L(p(e.state))}function D(){L(p(P()))}var T=!1;function L(e){if(T)T=!1,v();else{f.confirmTransitionTo(e,"POP",l,function(t){t?v({action:"POP",location:e}):function(e){var t=B.location,n=I.indexOf(t.key);-1===n&&(n=0);var r=I.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(T=!0,M(a))}(e)})}}var E=p(P()),I=[E.key];function R(e){return h+w(e)}function M(e){t.go(e)}var F=0;function O(e){1===(F+=e)&&1===e?(window.addEventListener(C,A),r&&window.addEventListener(_,D)):0===F&&(window.removeEventListener(C,A),r&&window.removeEventListener(_,D))}var z=!1;var B={length:t.length,action:"POP",location:E,createHref:R,push:function(e,r){var a="PUSH",s=j(e,r,m(),B.location);f.confirmTransitionTo(s,a,l,function(e){if(e){var r=R(s),o=s.key,l=s.state;if(n)if(t.pushState({key:o,state:l},null,r),i)window.location.href=r;else{var c=I.indexOf(B.location.key),d=I.slice(0,c+1);d.push(s.key),I=d,v({action:a,location:s})}else window.location.href=r}})},replace:function(e,r){var a="REPLACE",s=j(e,r,m(),B.location);f.confirmTransitionTo(s,a,l,function(e){if(e){var r=R(s),o=s.key,l=s.state;if(n)if(t.replaceState({key:o,state:l},null,r),i)window.location.replace(r);else{var c=I.indexOf(B.location.key);-1!==c&&(I[c]=s.key),v({action:a,location:s})}else window.location.replace(r)}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return z||(O(1),z=!0),function(){return z&&(z=!1,O(-1)),t()}},listen:function(e){var t=f.appendListener(e);return O(1),function(){O(-1),t()}}};return B}var D="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:x},slash:{encodePath:x,decodePath:x}};function L(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function I(e){window.location.replace(L(window.location.href)+"#"+e)}function R(e){void 0===e&&{},k||g(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,a=void 0===r?S:r,s=n.hashType,i=void 0===s?"slash":s,o=e.basename?y(x(e.basename)):"",l=T[i],d=l.encodePath,u=l.decodePath;function h(){var e=u(E());return o&&b(e,o),j(e)}var p=N();function m(e){c(B,e),B.length=t.length,p.notifyListeners(B.location,B.action)}var f=!1,v=null;function C(){var e=E(),t=d(e);if(e!==t)I(t);else{var n=h(),r=B.location;if(!f&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(v===w(n))return;(function(e){if(f)m();else{var t="POP";p.confirmTransitionTo(e,t,a,function(n){n?m({action:t,location:e}):function(e){var t=B.location,n=R.lastIndexOf(w(t));-1===n&&0;var r=R.lastIndexOf(w(e));-1===r&&0;var a=n-r;a&&M(a)}(e)})}})(n)}}var _=E(),P=d(_);_!==P&&I(P);var A=h(),R=[w(A)];function M(e){t.go(e)}var F=0;function O(e){1===(F+=e)&&1===e?window.addEventListener(D,C):0===F&&window.removeEventListener(D,C)}var z=!1;var B={length:t.length,action:"POP",location:A,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&L(window.location.href),n+"#"+d(o+w(e))},push:function(e,t){var n="PUSH",r=j(e,void 0,void 0,B.location);p.confirmTransitionTo(r,n,a,function(e){if(e){var t=w(r),a=d(o+t);if(E()!==a){(function(e){window.location.hash=e})(a);var s=R.lastIndexOf(w(B.location)),i=R.slice(0,s+1);i.push(t),m({action:n,location:r})}else m()}})},replace:function(e,t){var n="REPLACE",r=j(e,void 0,void 0,B.location);p.confirmTransitionTo(r,n,a,function(e){if(e){var t=w(r),a=d(o+t);E()!==a&&I(a);var s=R.indexOf(w(B.location));-1!==s&&(R[s]=t),m({action:n,location:r})}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=p.setPrompt(e);return z||(O(1),!0),function(){return z&&O(-1),t()}},listen:function(e){var t=p.appendListener(e);return O(1),function(){O(-1),t()}}};return B}function M(e,t,n){return Math.min(Math.max(e,t),n)}var F=n(8123),O=n.n(F);n(7681);function z(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n(219);var B=1073741823,U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var q=t.createContext||function(e,n){var r,a,s="__create-react-context-"+function(){var e="__global_unique_id__";return U[e]=(U[e]||0)+1}()+"__",o=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(t.props.value),t}i(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,a=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,a)?(t="function"===typeof n?n(r,a):B,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[s]=l().object.isRequired,r);var c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}i(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?B:t},r.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?B:e},r.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},r.getValue=function(){return this.context[s]?this.context[s].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return c.contextTypes=((a={})[s]=l().object,a),{Provider:o,Consumer:c}},W=function(e){var t=q();return t.displayName=e,t},H=W("Router-History"),V=W("Router"),G=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._pendingLocation=e})),n}i(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(t){e._isMounted&&e.setState({location:t})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(V.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(H.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var K=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var Y={},$=0;function J(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(Y[e])return Y[e];var t=O().compile(e);return $<1e4&&(Y[e]=t,$++),t}(e)(t,{pretty:!0})}function X(e){var n=e.computedMatch,r=e.to,a=e.push,s=void 0!==a&&a;return t.createElement(V.Consumer,null,function(e){e||g(!1);var a=e.history,i=e.staticContext,o=s?a.push:a.replace,l=j(n?"string"===typeof r?J(r,n.params):c({},r,{pathname:J(r.pathname,n.params)}):r);return i?(o(l),null):t.createElement(K,{onMount:function(){o(l)},onUpdate:function(e,t){var n=j(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&m(e.state,t.state)})(n,c({},l,{key:n.key}))||o(l)},to:r})})}var Q={},Z=0;function ee(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,a=n.exact,s=void 0!==a&&a,i=n.strict,o=void 0!==i&&i,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Q[n]||(Q[n]={});if(r[e])return r[e];var a=[],s={regexp:O()(e,a,t),keys:a};return Z<1e4&&(r[e]=s,Z++),s}(n,{end:s,strict:o,sensitive:c}),a=r.regexp,i=r.keys,l=a.exec(e);if(!l)return null;var d=l[0],u=l.slice(1),h=e===d;return s&&!h?null:{path:n,url:"/"===n&&""===d?"/":d,isExact:h,params:i.reduce(function(e,t,n){return e[t.name]=u[n],e},{})}},null)}var te=function(e){function n(){return e.apply(this,arguments)||this}return i(n,e),n.prototype.render=function(){var e=this;return t.createElement(V.Consumer,null,function(n){n||g(!1);var r=e.props.location||n.location,a=c({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ee(r.pathname,e.props):n.match}),s=e.props,i=s.children,o=s.component,l=s.render;return Array.isArray(i)&&function(e){return 0===t.Children.count(e)}(i)&&(i=null),t.createElement(V.Provider,{value:a},a.match?i?"function"===typeof i?i(a):i:o?t.createElement(o,a):l?l(a):null:"function"===typeof i?i(a):null)})},n}(t.Component);function ne(e){return"/"===e.charAt(0)?e:"/"+e}function re(e,t){if(!e)return t;var n=ne(e);return 0!==t.pathname.indexOf(n)?t:c({},t,{pathname:t.pathname.substr(n.length)})}function ae(e){return"string"===typeof e?e:w(e)}function se(e){return function(){g(!1)}}function ie(){}t.Component;var oe=function(e){function n(){return e.apply(this,arguments)||this}return i(n,e),n.prototype.render=function(){var e=this;return t.createElement(V.Consumer,null,function(n){n||g(!1);var r,a,s=e.props.location||n.location;return t.Children.forEach(e.props.children,function(e){if(null==a&&t.isValidElement(e)){r=e;var i=e.props.path||e.props.from;a=i?ee(s.pathname,c({},e.props,{path:i})):n.match}}),a?t.cloneElement(r,{location:s,computedMatch:a}):null})},n}(t.Component);var le=t.useContext;function ce(){return le(H)}function de(){return le(V).location}function ue(){var e=le(V).match;return e?e.params:{}}var he=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=A(t.props),t}return i(n,e),n.prototype.render=function(){return t.createElement(G,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var pe=function(e,t){return"function"===typeof e?e(t):e},me=function(e,t){return"string"===typeof e?j(e,null,null,t):e},fe=function(e){return e},ge=t.forwardRef;"undefined"===typeof ge&&(ge=fe);var xe=ge(function(e,n){var r=e.innerRef,a=e.navigate,s=e.onClick,i=z(e,["innerRef","navigate","onClick"]),o=i.target,l=c({},i,{onClick:function(e){try{s&&s(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),a())}});return l.ref=fe!==ge&&n||r,t.createElement("a",l)});var ve=ge(function(e,n){var r=e.component,a=void 0===r?xe:r,s=e.replace,i=e.to,o=e.innerRef,l=z(e,["component","replace","to","innerRef"]);return t.createElement(V.Consumer,null,function(e){e||g(!1);var r=e.history,d=me(pe(i,e.location),e.location),u=d?r.createHref(d):"",h=c({},l,{href:u,navigate:function(){var t=pe(i,e.location),n=w(e.location)===w(me(t));(s||n?r.replace:r.push)(t)}});return fe!==ge?h.ref=n||o:h.innerRef=o,t.createElement(a,h)})}),be=function(e){return e},ye=t.forwardRef;"undefined"===typeof ye&&(ye=be);ye(function(e,n){var r=e["aria-current"],a=void 0===r?"page":r,s=e.activeClassName,i=void 0===s?"active":s,o=e.activeStyle,l=e.className,d=e.exact,u=e.isActive,h=e.location,p=e.sensitive,m=e.strict,f=e.style,x=e.to,v=e.innerRef,b=z(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(V.Consumer,null,function(e){e||g(!1);var r=h||e.location,s=me(pe(x,r),r),y=s.pathname,w=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),j=w?ee(r.pathname,{path:w,exact:d,sensitive:p,strict:m}):null,N=!!(u?u(j,r):j),k="function"===typeof l?l(N):l,S="function"===typeof f?f(N):f;N&&(k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(k,i),S=c({},S,o));var C=c({"aria-current":N&&a||null,className:k,style:S,to:s},b);return be!==ye?C.ref=n||v:C.innerRef=v,t.createElement(ve,C)})});var we=n(4467);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach(function(t){(0,we.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ke(e,t){if(null==e)return{};var n,r,a=z(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Se(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ce}=Object.prototype,{getPrototypeOf:_e}=Object,{iterator:Pe,toStringTag:Ae}=Symbol,De=(e=>t=>{const n=Ce.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Te=e=>(e=e.toLowerCase(),t=>De(t)===e),Le=e=>t=>typeof t===e,{isArray:Ee}=Array,Ie=Le("undefined");function Re(e){return null!==e&&!Ie(e)&&null!==e.constructor&&!Ie(e.constructor)&&Oe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Me=Te("ArrayBuffer");const Fe=Le("string"),Oe=Le("function"),ze=Le("number"),Be=e=>null!==e&&"object"===typeof e,Ue=e=>{if("object"!==De(e))return!1;const t=_e(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ae in e)&&!(Pe in e)},qe=Te("Date"),We=Te("File"),He=Te("Blob"),Ve=Te("FileList"),Ge=Te("URLSearchParams"),[Ke,Ye,$e,Je]=["ReadableStream","Request","Response","Headers"].map(Te);function Xe(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ee(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(Re(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let i;for(n=0;n<s;n++)i=r[n],t.call(null,e[i],i,e)}}function Qe(e,t){if(Re(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Ze="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:n.g,et=e=>!Ie(e)&&e!==Ze;const tt=(nt="undefined"!==typeof Uint8Array&&_e(Uint8Array),e=>nt&&e instanceof nt);var nt;const rt=Te("HTMLFormElement"),at=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),st=Te("RegExp"),it=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Xe(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const ot=Te("AsyncFunction"),lt=(ct="function"===typeof setImmediate,dt=Oe(Ze.postMessage),ct?setImmediate:dt?((e,t)=>(Ze.addEventListener("message",n=>{let{source:r,data:a}=n;r===Ze&&a===e&&t.length&&t.shift()()},!1),n=>{t.push(n),Ze.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e));var ct,dt;const ut="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ze):"undefined"!==typeof process&&process.nextTick||lt,ht={isArray:Ee,isArrayBuffer:Me,isBuffer:Re,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Oe(e.append)&&("formdata"===(t=De(e))||"object"===t&&Oe(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Me(e.buffer),t},isString:Fe,isNumber:ze,isBoolean:e=>!0===e||!1===e,isObject:Be,isPlainObject:Ue,isEmptyObject:e=>{if(!Be(e)||Re(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:Ke,isRequest:Ye,isResponse:$e,isHeaders:Je,isUndefined:Ie,isDate:qe,isFile:We,isBlob:He,isRegExp:st,isFunction:Oe,isStream:e=>Be(e)&&Oe(e.pipe),isURLSearchParams:Ge,isTypedArray:tt,isFileList:Ve,forEach:Xe,merge:function e(){const{caseless:t,skipUndefined:n}=et(this)&&this||{},r={},a=(a,s)=>{const i=t&&Qe(r,s)||s;Ue(r[i])&&Ue(a)?r[i]=e(r[i],a):Ue(a)?r[i]=e({},a):Ee(a)?r[i]=a.slice():n&&Ie(a)||(r[i]=a)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Xe(arguments[s],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Xe(t,(t,r)=>{n&&Oe(t)?Object.defineProperty(e,r,{value:Se(t,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,r,{value:t,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,i;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],r&&!r(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&_e(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:De,kindOfTest:Te,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Ee(e))return e;let t=e.length;if(!ze(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Pe]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:rt,hasOwnProperty:at,hasOwnProp:at,reduceDescriptors:it,freezeMethods:e=>{it(e,(t,n)=>{if(Oe(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Oe(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Ee(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Qe,global:Ze,isContextDefined:et,isSpecCompliantForm:function(e){return!!(e&&Oe(e.append)&&"FormData"===e[Ae]&&e[Pe])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Be(e)){if(t.indexOf(e)>=0)return;if(Re(e))return e;if(!("toJSON"in e)){t[r]=e;const a=Ee(e)?[]:{};return Xe(e,(e,t)=>{const s=n(e,r+1);!Ie(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:ot,isThenable:e=>e&&(Be(e)||Oe(e))&&Oe(e.then)&&Oe(e.catch),setImmediate:lt,asap:ut,isIterable:e=>null!=e&&Oe(e[Pe])};class pt extends Error{static from(e,t,n,r,a,s){const i=new pt(e.message,t||e.code,n,r,a);return i.cause=e,i.name=e.name,s&&Object.assign(i,s),i}constructor(e,t,n,r,a){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ht.toJSONObject(this.config),code:this.code,status:this.status}}}pt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",pt.ERR_BAD_OPTION="ERR_BAD_OPTION",pt.ECONNABORTED="ECONNABORTED",pt.ETIMEDOUT="ETIMEDOUT",pt.ERR_NETWORK="ERR_NETWORK",pt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",pt.ERR_DEPRECATED="ERR_DEPRECATED",pt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",pt.ERR_BAD_REQUEST="ERR_BAD_REQUEST",pt.ERR_CANCELED="ERR_CANCELED",pt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",pt.ERR_INVALID_URL="ERR_INVALID_URL";const mt=pt;function ft(e){return ht.isPlainObject(e)||ht.isArray(e)}function gt(e){return ht.endsWith(e,"[]")?e.slice(0,-2):e}function xt(e,t,n){return e?e.concat(t).map(function(e,t){return e=gt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const vt=ht.toFlatObject(ht,{},null,function(e){return/^is[A-Z]/.test(e)});const bt=function(e,t,n){if(!ht.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=ht.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ht.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ht.isSpecCompliantForm(t);if(!ht.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ht.isDate(e))return e.toISOString();if(ht.isBoolean(e))return e.toString();if(!o&&ht.isBlob(e))throw new mt("Blob is not supported. Use a Buffer instead.");return ht.isArrayBuffer(e)||ht.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let o=e;if(e&&!a&&"object"===typeof e)if(ht.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(ht.isArray(e)&&function(e){return ht.isArray(e)&&!e.some(ft)}(e)||(ht.isFileList(e)||ht.endsWith(n,"[]"))&&(o=ht.toArray(e)))return n=gt(n),o.forEach(function(e,r){!ht.isUndefined(e)&&null!==e&&t.append(!0===i?xt([n],r,s):null===i?n:n+"[]",l(e))}),!1;return!!ft(e)||(t.append(xt(a,n,s),l(e)),!1)}const d=[],u=Object.assign(vt,{defaultVisitor:c,convertValue:l,isVisitable:ft});if(!ht.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!ht.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),ht.forEach(n,function(n,s){!0===(!(ht.isUndefined(n)||null===n)&&a.call(t,n,ht.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])}),d.pop()}}(e),t};function yt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function wt(e,t){this._pairs=[],e&&bt(e,this,t)}const jt=wt.prototype;jt.append=function(e,t){this._pairs.push([e,t])},jt.toString=function(e){const t=e?function(t){return e.call(this,t,yt)}:yt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Nt=wt;function kt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function St(e,t,n){if(!t)return e;const r=n&&n.encode||kt,a=ht.isFunction(n)?{serialize:n}:n,s=a&&a.serialize;let i;if(i=s?s(t,a):ht.isURLSearchParams(t)?t.toString():new Nt(t,a).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Ct=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ht.forEach(this.handlers,function(t){null!==t&&e(t)})}},_t={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Nt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},At="undefined"!==typeof window&&"undefined"!==typeof document,Dt="object"===typeof navigator&&navigator||void 0,Tt=At&&(!Dt||["ReactNative","NativeScript","NS"].indexOf(Dt.product)<0),Lt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Et=At&&window.location.href||"http://localhost",It=Ne(Ne({},e),Pt);const Rt=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=a>=e.length;if(s=!s&&ht.isArray(r)?r.length:s,o)return ht.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!i;r[s]&&ht.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&ht.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!i}if(ht.isFormData(e)&&ht.isFunction(e.entries)){const n={};return ht.forEachEntry(e,(e,r)=>{t(function(e){return ht.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Mt={transitional:_t,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=ht.isObject(e);a&&ht.isHTMLForm(e)&&(e=new FormData(e));if(ht.isFormData(e))return r?JSON.stringify(Rt(e)):e;if(ht.isArrayBuffer(e)||ht.isBuffer(e)||ht.isStream(e)||ht.isFile(e)||ht.isBlob(e)||ht.isReadableStream(e))return e;if(ht.isArrayBufferView(e))return e.buffer;if(ht.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return bt(e,new It.classes.URLSearchParams,Ne({visitor:function(e,t,n,r){return It.isNode&&ht.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=ht.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return bt(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(ht.isString(e))try{return(t||JSON.parse)(e),ht.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Mt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(ht.isResponse(e)||ht.isReadableStream(e))return e;if(e&&ht.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(n){if("SyntaxError"===a.name)throw mt.from(a,mt.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:It.classes.FormData,Blob:It.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ht.forEach(["delete","get","head","post","put","patch"],e=>{Mt.headers[e]={}});const Ft=Mt,Ot=ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zt=Symbol("internals");function Bt(e){return e&&String(e).trim().toLowerCase()}function Ut(e){return!1===e||null==e?e:ht.isArray(e)?e.map(Ut):String(e)}function qt(e,t,n,r,a){return ht.isFunction(r)?r.call(this,t,n):(a&&(t=n),ht.isString(t)?ht.isString(r)?-1!==t.indexOf(r):ht.isRegExp(r)?r.test(t):void 0:void 0)}class Wt{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=Bt(t);if(!a)throw new Error("header name must be a non-empty string");const s=ht.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Ut(e))}const s=(e,t)=>ht.forEach(e,(e,n)=>a(e,n,t));if(ht.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ht.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&Ot[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(ht.isObject(e)&&ht.isIterable(e)){let n,r,a={};for(const t of e){if(!ht.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?ht.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=Bt(e)){const n=ht.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(ht.isFunction(t))return t.call(this,e,n);if(ht.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Bt(e)){const n=ht.findKey(this,e);return!(!n||void 0===this[n]||t&&!qt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=Bt(e)){const a=ht.findKey(n,e);!a||t&&!qt(0,n[a],a,t)||(delete n[a],r=!0)}}return ht.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!qt(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return ht.forEach(this,(r,a)=>{const s=ht.findKey(n,a);if(s)return t[s]=Ut(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();i!==a&&delete t[a],t[i]=Ut(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ht.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&ht.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[zt]=this[zt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Bt(e);t[r]||(!function(e,t){const n=ht.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return ht.isArray(e)?e.forEach(r):r(e),this}}Wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ht.reduceDescriptors(Wt.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),ht.freezeMethods(Wt);const Ht=Wt;function Vt(e,t){const n=this||Ft,r=t||n,a=Ht.from(r.headers);let s=r.data;return ht.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Gt(e){return!(!e||!e.__CANCEL__)}const Kt=class extends mt{constructor(e,t,n){super(null==e?"canceled":e,mt.ERR_CANCELED,t,n),this.name="CanceledError",this.__CANCEL__=!0}};function Yt(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new mt("Request failed with status code "+n.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const $t=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[i];a||(a=l),n[s]=o,r[s]=l;let d=i,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Jt=function(e,t){let n,r,a=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(n=l,r||(r=setTimeout(()=>{r=null,i(n)},s-t)))},()=>n&&i(n)]},Xt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=$t(50,250);return Jt(n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,o=s-r,l=a(o);r=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Qt=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Zt=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ht.asap(()=>e(...n))},en=It.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,It.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(It.origin),It.navigator&&/(msie|trident)/i.test(It.navigator.userAgent)):()=>!0,tn=It.hasStandardBrowserEnv?{write(e,t,n,r,a,s,i){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];ht.isNumber(n)&&o.push("expires=".concat(new Date(n).toUTCString())),ht.isString(r)&&o.push("path=".concat(r)),ht.isString(a)&&o.push("domain=".concat(a)),!0===s&&o.push("secure"),ht.isString(i)&&o.push("SameSite=".concat(i)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function nn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const rn=e=>e instanceof Ht?Ne({},e):e;function an(e,t){t=t||{};const n={};function r(e,t,n,r){return ht.isPlainObject(e)&&ht.isPlainObject(t)?ht.merge.call({caseless:r},e,t):ht.isPlainObject(t)?ht.merge({},t):ht.isArray(t)?t.slice():t}function a(e,t,n,a){return ht.isUndefined(t)?ht.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!ht.isUndefined(t))return r(void 0,t)}function i(e,t){return ht.isUndefined(t)?ht.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>a(rn(e),rn(t),0,!0)};return ht.forEach(Object.keys(Ne(Ne({},e),t)),function(r){const s=l[r]||a,i=s(e[r],t[r],r);ht.isUndefined(i)&&s!==o||(n[r]=i)}),n}const sn=e=>{const t=an({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=Ht.from(i),t.url=St(nn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),ht.isFormData(n))if(It.hasStandardBrowserEnv||It.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(ht.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&i.set(n,r)})}if(It.hasStandardBrowserEnv&&(r&&ht.isFunction(r)&&(r=r(t)),r||!1!==r&&en(t.url))){const e=a&&s&&tn.read(s);e&&i.set(a,e)}return t},on="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=sn(e);let a=r.data;const s=Ht.from(r.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=r;function m(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=Ht.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Yt(function(e){t(e),m()},function(e){n(e),m()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new mt("Request aborted",mt.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new mt(r,mt.ERR_NETWORK,e,f);a.event=t||null,n(a),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||_t;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new mt(t,a.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,e,f)),f=null},void 0===a&&s.setContentType(null),"setRequestHeader"in f&&ht.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),ht.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),p&&([l,d]=Xt(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=Xt(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{f&&(n(!t||t.type?new Kt(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===It.protocols.indexOf(x)?n(new mt("Unsupported protocol "+x+":",mt.ERR_BAD_REQUEST,e)):f.send(a||null)})},ln=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof mt?t:new Kt(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new mt("timeout of ".concat(t,"ms exceeded"),mt.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=r;return o.unsubscribe=()=>ht.asap(i),o}};function cn(e,t){this.v=e,this.k=t}function dn(e){return function(){return new un(e.apply(this,arguments))}}function un(e){var t,n;function r(t,n){try{var s=e[t](n),i=s.value,o=i instanceof cn;Promise.resolve(o?i.v:i).then(function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}a(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(s,i){var o={key:e,arg:a,resolve:s,reject:i,next:null};n?n=n.next=o:(t=n=o,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function hn(e){return new cn(e,0)}function pn(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new cn(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function mn(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new fn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function fn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return fn=function(e){this.s=e,this.n=e.next},fn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new fn(e)}un.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},un.prototype.next=function(e){return this._invoke("next",e)},un.prototype.throw=function(e){return this._invoke("throw",e)},un.prototype.return=function(e){return this._invoke("return",e)};const gn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},xn=function(){var e=dn(function*(e,t){var n,r=!1,a=!1;try{for(var s,i=mn(vn(e));r=!(s=yield hn(i.next())).done;r=!1){const e=s.value;yield*pn(mn(gn(e,t)))}}catch(o){a=!0,n=o}finally{try{r&&null!=i.return&&(yield hn(i.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),vn=function(){var e=dn(function*(e){if(e[Symbol.asyncIterator])return void(yield*pn(mn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield hn(t.read());if(e)break;yield n}}finally{yield hn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),bn=(e,t,n,r)=>{const a=xn(e,t);let s,i=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},{isFunction:yn}=ht,wn=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(ht.global),{ReadableStream:jn,TextEncoder:Nn}=ht.global,kn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(a){return!1}},Sn=e=>{e=ht.merge.call({skipUndefined:!0},wn,e);const{fetch:t,Request:n,Response:r}=e,a=t?yn(t):"function"===typeof fetch,s=yn(n),i=yn(r);if(!a)return!1;const o=a&&yn(jn),l=a&&("function"===typeof Nn?(e=>t=>e.encode(t))(new Nn):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=s&&o&&kn(()=>{let e=!1;const t=new n(It.origin,{body:new jn,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=i&&o&&kn(()=>ht.isReadableStream(new r("").body)),u={stream:d&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!u[e]&&(u[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new mt("Response type '".concat(e,"' is not supported"),mt.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const r=ht.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(ht.isBlob(e))return e.size;if(ht.isSpecCompliantForm(e)){const t=new n(It.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ht.isArrayBufferView(e)||ht.isArrayBuffer(e)?e.byteLength:(ht.isURLSearchParams(e)&&(e+=""),ht.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:i,data:o,signal:l,cancelToken:p,timeout:m,onDownloadProgress:f,onUploadProgress:g,responseType:x,headers:v,withCredentials:b="same-origin",fetchOptions:y}=sn(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let j=ln([l,p&&p.toAbortSignal()],m),N=null;const k=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let S;try{if(g&&c&&"get"!==i&&"head"!==i&&0!==(S=await h(v,o))){let e,t=new n(a,{method:"POST",body:o,duplex:"half"});if(ht.isFormData(o)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=Qt(S,Xt(Zt(g)));o=bn(t.body,65536,e,n)}}ht.isString(b)||(b=b?"include":"omit");const t=s&&"credentials"in n.prototype,l=Ne(Ne({},y),{},{signal:j,method:i.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:t?b:void 0});N=s&&new n(a,l);let p=await(s?w(N,y):w(a,l));const m=d&&("stream"===x||"response"===x);if(d&&(f||m&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=p[t]});const t=ht.toFiniteNumber(p.headers.get("content-length")),[n,a]=f&&Qt(t,Xt(Zt(f),!0))||[];p=new r(bn(p.body,65536,n,()=>{a&&a(),k&&k()}),e)}x=x||"text";let C=await u[ht.findKey(u,x)||"text"](p,e);return!m&&k&&k(),await new Promise((t,n)=>{Yt(t,n,{data:C,headers:Ht.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:N})})}catch(C){if(k&&k(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new mt("Network Error",mt.ERR_NETWORK,e,N),{cause:C.cause||C});throw mt.from(C,C&&C.code,e,N)}}},Cn=new Map,_n=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,s=[r,a,n];let i,o,l=s.length,c=Cn;for(;l--;)i=s[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:Sn(t)),c=o;return o},Pn=(_n(),{http:null,xhr:on,fetch:{get:_n}});ht.forEach(Pn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const An=e=>"- ".concat(e),Dn=e=>ht.isFunction(e)||null===e||!1===e;const Tn={getAdapter:function(e,t){e=ht.isArray(e)?e:[e];const{length:n}=e;let r,a;const s={};for(let i=0;i<n;i++){let n;if(r=e[i],a=r,!Dn(r)&&(a=Pn[(n=String(r)).toLowerCase()],void 0===a))throw new mt("Unknown adapter '".concat(n,"'"));if(a&&(ht.isFunction(a)||(a=a.get(t))))break;s[n||"#"+i]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(An).join("\n"):" "+An(e[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a},adapters:Pn};function Ln(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kt(null,e)}function En(e){Ln(e),e.headers=Ht.from(e.headers),e.data=Vt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Tn.getAdapter(e.adapter||Ft.adapter,e)(e).then(function(t){return Ln(e),t.data=Vt.call(e,e.transformResponse,t),t.headers=Ht.from(t.headers),t},function(t){return Gt(t)||(Ln(e),t&&t.response&&(t.response.data=Vt.call(e,e.transformResponse,t.response),t.response.headers=Ht.from(t.response.headers))),Promise.reject(t)})}const In="1.13.4",Rn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Rn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Mn={};Rn.transitional=function(e,t,n){function r(e,t){return"[Axios v"+In+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new mt(r(a," has been removed"+(t?" in "+t:"")),mt.ERR_DEPRECATED);return t&&!Mn[a]&&(Mn[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},Rn.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Fn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new mt("option "+s+" must be "+n,mt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new mt("Unknown option "+s,mt.ERR_BAD_OPTION)}},validators:Rn},On=Fn.validators;class zn{constructor(e){this.defaults=e||{},this.interceptors={request:new Ct,response:new Ct}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=an(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&Fn.assertOptions(n,{silentJSONParsing:On.transitional(On.boolean),forcedJSONParsing:On.transitional(On.boolean),clarifyTimeoutError:On.transitional(On.boolean)},!1),null!=r&&(ht.isFunction(r)?t.paramsSerializer={serialize:r}:Fn.assertOptions(r,{encode:On.function,serialize:On.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Fn.assertOptions(t,{baseUrl:On.spelling("baseURL"),withXsrfToken:On.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ht.merge(a.common,a[t.method]);a&&ht.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Ht.concat(s,a);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[En.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(Bx){t.call(this,Bx);break}}try{c=En.call(this,h)}catch(Bx){return Promise.reject(Bx)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return St(nn((e=an(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}ht.forEach(["delete","get","head","options"],function(e){zn.prototype[e]=function(t,n){return this.request(an(n||{},{method:e,url:t,data:(n||{}).data}))}}),ht.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(an(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}zn.prototype[e]=t(),zn.prototype[e+"Form"]=t(!0)});const Bn=zn;class Un{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Kt(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Un(function(t){e=t});return{token:t,cancel:e}}}const qn=Un;const Wn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Wn).forEach(e=>{let[t,n]=e;Wn[n]=t});const Hn=Wn;const Vn=function e(t){const n=new Bn(t),r=Se(Bn.prototype.request,n);return ht.extend(r,Bn.prototype,n,{allOwnKeys:!0}),ht.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(an(t,n))},r}(Ft);Vn.Axios=Bn,Vn.CanceledError=Kt,Vn.CancelToken=qn,Vn.isCancel=Gt,Vn.VERSION=In,Vn.toFormData=bt,Vn.AxiosError=mt,Vn.Cancel=Vn.CanceledError,Vn.all=function(e){return Promise.all(e)},Vn.spread=function(e){return function(t){return e.apply(null,t)}},Vn.isAxiosError=function(e){return ht.isObject(e)&&!0===e.isAxiosError},Vn.mergeConfig=an,Vn.AxiosHeaders=Ht,Vn.formToJSON=e=>Rt(ht.isHTMLForm(e)?new FormData(e):e),Vn.getAdapter=Tn.getAdapter,Vn.HttpStatusCode=Hn,Vn.default=Vn;const Gn=Vn,Kn="undefined"!==typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),Yn=Kn?"http://localhost:5007":"",$n=e=>{const t=e.startsWith("/api")?e:"/api".concat(e);return"".concat(Yn).concat(t)};var Jn=n(579);const Xn=(0,t.createContext)(),Qn=e=>{let{children:n}=e;const[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(0),[o,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{c();const e=setInterval(c,6e4);return()=>clearInterval(e)},[]);const c=async()=>{try{let t=null;try{"undefined"!==typeof Storage&&"undefined"!==typeof localStorage&&(t=localStorage.getItem("token"))}catch(e){return console.warn("Cannot access localStorage for token:",e),void l(!1)}if(!t)return void l(!1);const n=await Gn.get("".concat(Yn,"/api/notifications"),{headers:{Authorization:"Bearer ".concat(t)}});a(n.data.notifications||[]),i(n.data.unreadCount||0),l(!1)}catch(Bx){console.warn("Error fetching notifications:",Bx),l(!1)}};return(0,Jn.jsx)(Xn.Provider,{value:{notifications:r,unreadCount:s,loading:o,fetchNotifications:c,markAsRead:async e=>{try{await Gn.put("/api/notifications/".concat(e,"/read")),a(t=>t.map(t=>t.id===e?Ne(Ne({},t),{},{read:!0}):t)),i(e=>Math.max(0,e-1))}catch(Bx){console.error("Error marking notification as read:",Bx)}},markAllAsRead:async()=>{try{await Gn.put("/api/notifications/read-all"),a(e=>e.map(e=>Ne(Ne({},e),{},{read:!0}))),i(0)}catch(Bx){console.error("Error marking all notifications as read:",Bx)}},addLocalNotification:e=>{const t=Ne(Ne({id:"local-".concat(Date.now())},e),{},{read:!1,local:!0,time:"Just now"});a(e=>[t,...e]),i(e=>e+1)}},children:n})};var Zn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},er=t.createContext&&t.createContext(Zn),tr=function(){return tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},tr.apply(this,arguments)},nr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function rr(e){return e&&e.map(function(e,n){return t.createElement(e.tag,tr({key:n},e.attr),rr(e.child))})}function ar(e){return function(n){return t.createElement(sr,tr({attr:tr({},e.attr)},n),rr(e.child))}}function sr(e){var n=function(n){var r,a=e.attr,s=e.size,i=e.title,o=nr(e,["attr","size","title"]),l=s||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",tr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,o,{className:r,style:tr(tr({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&t.createElement("title",null,i),e.children)};return void 0!==er?t.createElement(er.Consumer,null,function(e){return n(e)}):n(Zn)}function ir(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 12h4l3 8l4 -16l3 8h4"}}]})(e)}function or(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}},{tag:"path",attr:{d:"M12 8v4"}},{tag:"path",attr:{d:"M12 16h.01"}}]})(e)}function lr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 5l0 14"}},{tag:"path",attr:{d:"M18 13l-6 6"}},{tag:"path",attr:{d:"M6 13l6 6"}}]})(e)}function cr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 5l0 14"}},{tag:"path",attr:{d:"M18 11l-6 -6"}},{tag:"path",attr:{d:"M6 11l6 -6"}}]})(e)}function dr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"}},{tag:"path",attr:{d:"M9 17v1a3 3 0 0 0 6 0v-1"}}]})(e)}function ur(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}},{tag:"path",attr:{d:"M8 7v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2"}},{tag:"path",attr:{d:"M12 12l0 .01"}},{tag:"path",attr:{d:"M3 13a20 20 0 0 0 18 0"}}]})(e)}function hr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 21l18 0"}},{tag:"path",attr:{d:"M5 21v-14l8 -4v18"}},{tag:"path",attr:{d:"M19 21v-10l-6 -4"}},{tag:"path",attr:{d:"M9 9l0 .01"}},{tag:"path",attr:{d:"M9 12l0 .01"}},{tag:"path",attr:{d:"M9 15l0 .01"}},{tag:"path",attr:{d:"M9 18l0 .01"}}]})(e)}function pr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 21l18 0"}},{tag:"path",attr:{d:"M9 8l1 0"}},{tag:"path",attr:{d:"M9 12l1 0"}},{tag:"path",attr:{d:"M9 16l1 0"}},{tag:"path",attr:{d:"M14 8l1 0"}},{tag:"path",attr:{d:"M14 12l1 0"}},{tag:"path",attr:{d:"M14 16l1 0"}},{tag:"path",attr:{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16"}}]})(e)}function mr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z"}},{tag:"path",attr:{d:"M16 3v4"}},{tag:"path",attr:{d:"M8 3v4"}},{tag:"path",attr:{d:"M4 11h16"}},{tag:"path",attr:{d:"M11 15h1"}},{tag:"path",attr:{d:"M12 15v3"}}]})(e)}function fr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M5 12l5 5l10 -10"}}]})(e)}function gr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M6 9l6 6l6 -6"}}]})(e)}function xr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M15 6l-6 6l6 6"}}]})(e)}function vr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 6l6 6l-6 6"}}]})(e)}function br(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"}},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}}]})(e)}function yr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}},{tag:"path",attr:{d:"M12 7v5l3 3"}}]})(e)}function wr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2"}},{tag:"path",attr:{d:"M12 3v3m0 12v3"}}]})(e)}function jr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 13m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M13.45 11.55l2.05 -2.05"}},{tag:"path",attr:{d:"M6.4 20a9 9 0 1 1 11.2 0z"}}]})(e)}function Nr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}},{tag:"path",attr:{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M14 4l0 4l-6 0l0 -4"}}]})(e)}function kr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}},{tag:"path",attr:{d:"M7 11l5 5l5 -5"}},{tag:"path",attr:{d:"M12 4l0 12"}}]})(e)}function Sr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}},{tag:"path",attr:{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}},{tag:"path",attr:{d:"M16 5l3 3"}}]})(e)}function Cr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}},{tag:"path",attr:{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"}}]})(e)}function _r(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"}},{tag:"path",attr:{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}},{tag:"path",attr:{d:"M9 7l1 0"}},{tag:"path",attr:{d:"M9 13l6 0"}},{tag:"path",attr:{d:"M13 17l2 0"}}]})(e)}function Pr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"}},{tag:"path",attr:{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}},{tag:"path",attr:{d:"M9 9l1 0"}},{tag:"path",attr:{d:"M9 13l6 0"}},{tag:"path",attr:{d:"M9 17l6 0"}}]})(e)}function Ar(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M8 4h12v2.172a2 2 0 0 1 -.586 1.414l-3.914 3.914m-.5 3.5v4l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227"}},{tag:"path",attr:{d:"M3 3l18 18"}}]})(e)}function Dr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"}}]})(e)}function Tr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}}]})(e)}function Lr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 6l11 0"}},{tag:"path",attr:{d:"M9 12l11 0"}},{tag:"path",attr:{d:"M9 18l11 0"}},{tag:"path",attr:{d:"M5 6l0 .01"}},{tag:"path",attr:{d:"M5 12l0 .01"}},{tag:"path",attr:{d:"M5 18l0 .01"}}]})(e)}function Er(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}},{tag:"path",attr:{d:"M9 12h12l-3 -3"}},{tag:"path",attr:{d:"M18 15l3 -3"}}]})(e)}function Ir(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z"}},{tag:"path",attr:{d:"M3 7l9 6l9 -6"}}]})(e)}function Rr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}},{tag:"path",attr:{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z"}}]})(e)}function Mr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M8 9h8"}},{tag:"path",attr:{d:"M8 13h6"}},{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"}}]})(e)}function Fr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5"}},{tag:"path",attr:{d:"M12 12l8 -4.5"}},{tag:"path",attr:{d:"M12 12l0 9"}},{tag:"path",attr:{d:"M12 12l-8 -4.5"}},{tag:"path",attr:{d:"M16 5.25l-8 4.5"}}]})(e)}function Or(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"}}]})(e)}function zr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 5l0 14"}},{tag:"path",attr:{d:"M5 12l14 0"}}]})(e)}function Br(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16l-3 -2l-2 2l-2 -2l-2 2l-2 -2l-3 2m4 -14h6m-6 4h6m-2 4h2"}}]})(e)}function Ur(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"}},{tag:"path",attr:{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"}}]})(e)}function qr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}},{tag:"path",attr:{d:"M21 21l-6 -6"}}]})(e)}function Wr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}}]})(e)}function Hr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}},{tag:"path",attr:{d:"M12 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M12 14l0 7"}},{tag:"path",attr:{d:"M10 12l-6.75 -2"}},{tag:"path",attr:{d:"M14 12l6.75 -2"}}]})(e)}function Vr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M5 17h-2v-4m-1 -8h11v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"}},{tag:"path",attr:{d:"M3 9l4 0"}}]})(e)}function Gr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"}}]})(e)}function Kr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"}},{tag:"path",attr:{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}}]})(e)}function Yr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}},{tag:"path",attr:{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}},{tag:"path",attr:{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"}}]})(e)}function $r(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M18 6l-12 12"}},{tag:"path",attr:{d:"M6 6l12 12"}}]})(e)}const Jr=()=>{const e=de(),n=JSON.parse(localStorage.getItem("currentUser")||"{}"),[r,a]=(0,t.useState)({trucks:0,drivers:0,helpers:0,staff:0,clients:0,deliveries:0,pendingDeliveries:0,unreadNotifications:0,newAuditEntries:0,settingsUpdates:0}),s=(0,t.useCallback)(async()=>{try{const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{},n=Gn.create({headers:t}),r=[n.get("/api/trucks").catch(e=>({data:[]})),n.get("/api/drivers").catch(e=>({data:[]})),n.get("/api/helpers").catch(e=>({data:[]})),n.get("/api/staffs").catch(e=>({data:[]})),n.get("/api/clients").catch(e=>({data:[]})),n.get("/api/deliveries").catch(e=>({data:[]})),n.get("/api/deliveries/status/pending").catch(e=>({data:[]}))],[s,i,o,l,c,d,u]=await Promise.all(r);a({trucks:s.data.length||0,drivers:i.data.filter(e=>"active"===e.DriverStatus||"active"===e.driverStatus).length||0,helpers:o.data.filter(e=>"active"===e.HelperStatus||"active"===e.helperStatus).length||0,staff:l.data.filter(e=>"active"===e.StaffStatus||"active"===e.staffStatus).length||0,clients:c.data.filter(e=>"active"===e.ClientStatus||"active"===e.clientStatus).length||0,deliveries:d.data.length||0,pendingDeliveries:u.data.length||0,unreadNotifications:3})}catch(Bx){console.log("\u26a0\ufe0f Using cached counts due to fetch error")}},[]);(0,t.useEffect)(()=>{s();const e=setInterval(()=>{s()},3e4);return window.addEventListener("refreshSidebar",s),()=>{clearInterval(e),window.removeEventListener("refreshSidebar",s)}},[s]),(0,t.useEffect)(()=>{s()},[e.pathname,s]);const i=t=>{let{to:n,icon:r,label:a,count:s,countColor:i="bg-primary-500",hot:o=!1,activeText:l=""}=t;return(0,Jn.jsxs)(ve,{to:n,className:"group flex items-center justify-between px-6 py-3.5 text-sm font-medium transition-all duration-200 ".concat((c=n,e.pathname.startsWith(c)?"bg-sidebar-active text-sidebar-text-active border-r-4 border-primary-500":"text-sidebar-text hover:bg-sidebar-hover hover:text-white")),children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)(r,{size:20,className:e.pathname.startsWith(n)?"text-primary-400":"text-gray-400 group-hover:text-white"}),(0,Jn.jsx)("span",{children:a})]}),void 0!==s&&!l&&(0,Jn.jsxs)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full ".concat(o?"bg-danger-500 text-white animate-pulse":"bg-sidebar-border text-gray-300"),children:[o&&"Hot ",s]}),l&&(0,Jn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-success-500/20 text-success-400 border border-success-500/30",children:l})]});var c},o=e=>{let{label:t,count:n}=e;return(0,Jn.jsxs)("div",{className:"px-6 mt-8 mb-2 flex items-center justify-between text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[t,void 0!==n&&(0,Jn.jsx)("span",{className:"text-gray-600",children:n})]})};return(0,Jn.jsxs)("div",{className:"flex flex-col h-screen w-72 bg-sidebar-bg border-r border-sidebar-border shadow-sidebar fixed left-0 top-0 z-50 transition-all duration-300",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3 px-6 h-20 border-b border-sidebar-border bg-sidebar-bg/50 backdrop-blur-sm",children:[(0,Jn.jsx)("img",{src:"/images/logo.webp",alt:"Trucking Logo",className:"w-10 h-10 object-contain"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h1",{className:"text-lg font-bold text-white tracking-tight",children:"Trucking MS"}),(0,Jn.jsx)("p",{className:"text-xs text-sidebar-text",children:"Fleet Manager"})]})]}),(0,Jn.jsx)("div",{className:"px-6 py-4 border-b border-sidebar-border bg-sidebar-hover/30",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-full bg-sidebar-active flex items-center justify-center text-primary-400 font-bold border border-sidebar-border",children:n.username?n.username.charAt(0).toUpperCase():"A"}),(0,Jn.jsxs)("div",{className:"overflow-hidden",children:[(0,Jn.jsx)("h4",{className:"text-sm font-semibold text-white truncate",children:n.username||"Admin User"}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1.5 mt-0.5",children:[(0,Jn.jsx)("span",{className:"w-2 h-2 rounded-full bg-success-500"}),(0,Jn.jsx)("p",{className:"text-xs text-sidebar-text capitalize",children:n.role||"Administrator"})]})]})]})}),(0,Jn.jsxs)("div",{className:"flex-1 overflow-y-auto py-4 hide-scrollbar",children:[(0,Jn.jsx)(i,{to:"/admin/dashboard",icon:jr,label:"Dashboard"}),(0,Jn.jsx)(o,{label:"Fleet Management",count:r.trucks}),(0,Jn.jsx)(i,{to:"/admin/trucks/trucklist",icon:Gr,label:"Trucks",count:r.trucks}),(0,Jn.jsx)(i,{to:"/admin/deliveries/deliverylist",icon:Fr,label:"Deliveries",count:r.pendingDeliveries,hot:r.pendingDeliveries>0}),(0,Jn.jsx)(o,{label:"People",count:r.drivers+r.helpers+r.staff+r.clients}),(0,Jn.jsx)(i,{to:"/admin/drivers/driverslist",icon:Hr,label:"Drivers",activeText:"".concat(r.drivers," Active")}),(0,Jn.jsx)(i,{to:"/admin/helpers/helperslist",icon:Yr,label:"Helpers",count:r.helpers}),(0,Jn.jsx)(i,{to:"/admin/staffs/stafflist",icon:Kr,label:"Staff",count:r.staff}),(0,Jn.jsx)(i,{to:"/admin/clients/clientlist",icon:hr,label:"Clients",count:r.clients}),(0,Jn.jsx)(o,{label:"Finance"}),(0,Jn.jsx)(i,{to:"/admin/payments",icon:_r,label:"Payment Records"})]}),(0,Jn.jsx)("div",{className:"p-4 border-t border-sidebar-border bg-sidebar-bg",children:(0,Jn.jsxs)(ve,{to:"/logout",className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-sidebar-hover text-sidebar-text hover:bg-danger-500/10 hover:text-danger-500 hover:border-danger-500/20 border border-transparent transition-all duration-200 group",children:[(0,Jn.jsx)(Er,{size:20,className:"group-hover:text-danger-500 transition-colors"}),(0,Jn.jsx)("span",{className:"font-medium text-sm",children:"Sign Out"})]})})]})},Xr=e=>{try{const n=localStorage.getItem(e);if(!n)return null;if("token"===e)return n;try{return JSON.parse(n)}catch(t){return console.error("Error parsing item ".concat(e," from localStorage:"),t),localStorage.removeItem(e),null}}catch(Bx){return console.error("Error getting item ".concat(e," from localStorage:"),Bx),null}},Qr=(e,t)=>{try{return"token"===e?(localStorage.setItem(e,t),!0):(localStorage.setItem(e,JSON.stringify(t)),!0)}catch(Bx){return console.error("Error setting item ".concat(e," in localStorage:"),Bx),!1}},Zr=e=>{try{return localStorage.removeItem(e),!0}catch(Bx){return console.error("Error removing item ".concat(e," from localStorage:"),Bx),!1}},ea=(0,t.createContext)(),ta=e=>{let{children:n}=e;const[r,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=(()=>{try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})();h(e),e||console.warn("localStorage is not available. Login state will not persist.")},[]),(0,t.useEffect)(()=>{(async()=>{if(!u)return console.warn("Storage not available, cannot load user data"),void i(!1);try{const t=Xr("token");if(t){console.log("Found token in storage, setting in axios headers"),Gn.defaults.headers.common.Authorization="Bearer ".concat(t);const n=Xr("currentUser");if(n&&n.id)console.log("Loaded user data from localStorage"),a(n),d(!0);else{console.log("Token found but no valid user data, fetching user data...");try{const e=await Gn.get($n("/auth/current-user"));console.log("User data retrieved:",e.data),a(e.data),d(!0),u&&Qr("currentUser",e.data)}catch(e){console.error("Failed to retrieve user data with token:",e.message),p()}}}else console.log("No token found in storage")}catch(t){console.error("Error loading user data:",t),u&&(Zr("token"),Zr("currentUser"))}finally{i(!1)}})()},[u]);const p=()=>{if(console.log("AuthContext: Logging out user"),delete Gn.defaults.headers.common.Authorization,u)try{Zr("token"),Zr("currentUser");try{localStorage.removeItem("token"),localStorage.removeItem("currentUser"),localStorage.removeItem("userData")}catch(e){console.error("Direct localStorage removal failed:",e)}}catch(t){console.error("Error clearing localStorage during logout:",t)}a(null),d(!1),l(null),console.log("AuthContext: Logout complete, redirecting to login..."),window.location.href="/login"};return(0,Jn.jsx)(ea.Provider,{value:{currentUser:r,authUser:r,loading:s,error:o,isAuthenticated:c,login:async e=>{let{username:t,password:n}=e;i(!0),l(null);try{console.log("AuthContext: Attempting login with username:",t);const e=$n("/auth/login");console.log("AuthContext: Login URL:",e);const{data:i}=await Gn.post(e,{username:t.trim(),password:n});console.log("AuthContext: Login response received:",i);const{token:c,user:h}=i;if(!c)throw new Error("No token received from server");if(u)try{Qr("token",c),console.log("Token stored in localStorage"),h&&(Qr("currentUser",h),console.log("User data stored in localStorage"))}catch(v){console.error("Failed to store auth data:",v)}if(Gn.defaults.headers.common.Authorization="Bearer ".concat(c),console.log("AuthContext: Set Authorization header with token"),h)return console.log("Using user data from login response"),a(h),d(!0),{success:!0,role:h.role};try{console.log("AuthContext: Getting user data with token");const{data:e}=await Gn.get($n("/auth/current-user"));if(console.log("AuthContext: User data received:",e),u)try{Qr("currentUser",e)}catch(v){console.error("Failed to store user data:",v)}return a(e),d(!0),{success:!0,role:e.role}}catch(b){var r,s,o;return console.error("AuthContext: Error fetching user after login:",b),console.error("Details:",{message:b.message,status:null===(r=b.response)||void 0===r?void 0:r.status,statusText:null===(s=b.response)||void 0===s?void 0:s.statusText,data:null===(o=b.response)||void 0===o?void 0:o.data}),l("Authentication successful but failed to load user data."),{success:!1,message:"Authentication successful but failed to load user data."}}}catch(y){var c,h,p,m,f,g,x;console.error("AuthContext: Login error:",y),console.error("Details:",{message:y.message,status:null===(c=y.response)||void 0===c?void 0:c.status,statusText:null===(h=y.response)||void 0===h?void 0:h.statusText,data:null===(p=y.response)||void 0===p?void 0:p.data});let e="Login failed. Please check your credentials.";return null!==(m=y.response)&&void 0!==m&&null!==(f=m.data)&&void 0!==f&&f.message?e=y.response.data.message:400===(null===(g=y.response)||void 0===g?void 0:g.status)?e="Invalid username or password.":403===(null===(x=y.response)||void 0===x?void 0:x.status)?e="Account is inactive. Please contact administrator.":y.response||(e="Network error. Please check your connection."),l(e),{success:!1,message:e}}finally{i(!1)}},logout:p,hasRole:e=>{var t;return console.log("AuthContext: Checking role:",e,"Current user role:",null===r||void 0===r?void 0:r.role),(null===r||void 0===r||null===(t=r.role)||void 0===t?void 0:t.toLowerCase())===e.toLowerCase()}},children:n})},na=["component","showSidebar","requiredRole"],ra=e=>{let{component:n,showSidebar:r=!1,requiredRole:a=null}=e,s=ke(e,na);const[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(!0),{isAuthenticated:m,currentUser:f}=(0,t.useContext)(ea);ce();if((0,t.useEffect)(()=>{if(m&&f)return console.log("ProtectedRoute: Using auth from context:",f),u(f),c(!0),a&&f.role!==a&&(console.log("ProtectedRoute: User role ".concat(f.role," doesn't match required role ").concat(a)),p(!1)),void o(!1);console.log("ProtectedRoute: Checking localStorage for auth");const e=localStorage.getItem("token"),t=localStorage.getItem("currentUser");if(e&&t)try{const e=JSON.parse(t);console.log("ProtectedRoute: User found in localStorage:",e),u(e),c(!0),a&&e.role!==a&&(console.log("ProtectedRoute: User role ".concat(e.role," doesn't match required role ").concat(a)),p(!1))}catch(n){console.error("ProtectedRoute: Error parsing user from localStorage:",n)}else console.log("ProtectedRoute: No valid auth found in localStorage");o(!1)},[m,f,a]),i)return console.log("ProtectedRoute: Still loading..."),(0,Jn.jsx)("div",{className:"loader-container",children:(0,Jn.jsx)("div",{className:"loader"})});if(console.log("ProtectedRoute: Rendering route with auth status:",l),!l)return console.log("ProtectedRoute: Not authenticated, redirecting to login"),(0,Jn.jsx)(X,{to:"/login"});if(!h&&a){console.log("ProtectedRoute: Role requirement not met");const e=null===d||void 0===d?void 0:d.role;let t="/login";return"admin"===e?t="/admin/dashboard":"client"===e?t="/client/landing":"driver"===e?t="/driver/dashboard":"helper"===e?t="/helper/dashboard":"operator"===e?t="/operator/delivery-assignment":"staff"===e&&(t="/staff/dashboard"),console.log("ProtectedRoute: Redirecting to ".concat(t," based on role ").concat(e)),(0,Jn.jsx)(X,{to:t})}return(0,Jn.jsx)(te,Ne(Ne({},s),{},{render:e=>(0,Jn.jsxs)("div",{className:"app-container",children:[r&&(0,Jn.jsx)(Jr,{userRole:null===d||void 0===d?void 0:d.role}),(0,Jn.jsx)("div",{className:"content-container ".concat(r?"with-sidebar":"full-width"),children:r?(0,Jn.jsx)("div",{className:"content-body",children:(0,Jn.jsx)(n,Ne(Ne({},e),{},{currentUser:d}))}):(0,Jn.jsx)(n,Ne(Ne({},e),{},{currentUser:d}))})]})}))},aa=(0,t.createContext)(),sa=e=>{let{children:n}=e;const[r,a]=(0,t.useState)([]);return(0,Jn.jsx)(aa.Provider,{value:{alerts:r,showAlert:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const r=Date.now();a(n=>[...n,{id:r,message:e,type:t}]),setTimeout(()=>a(e=>e.filter(e=>e.id!==r)),n)},removeAlert:e=>a(t=>t.filter(t=>t.id!==e))},children:n})},ia=()=>{const{alerts:e,removeAlert:n}=(0,t.useContext)(aa);return e&&0!==e.length?(0,Jn.jsx)("div",{className:"alerts-container",children:e.map(e=>(0,Jn.jsxs)("div",{className:"alert alert-".concat(e.type),children:[e.message,(0,Jn.jsx)("button",{className:"btn-close",onClick:()=>n(e.id),"aria-label":"Close",children:"\xd7"})]},e.id))}):null},oa=(0,t.createContext)(),la=e=>{let{children:n}=e;const[r,a]=(0,t.useState)([]),s=(0,t.useCallback)(e=>{const t=Date.now()+Math.random(),n=Ne({id:t,isVisible:!0,duration:5e3},e);return a(e=>[...e,n]),n.duration>0&&setTimeout(()=>{i(t)},n.duration+500),t},[]),i=(0,t.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),o=(0,t.useCallback)((e,t)=>{a(n=>n.map(n=>n.id===e?Ne(Ne({},n),t):n))},[]),l=(0,t.useCallback)(function(e,t){return s(Ne({type:"success",title:e,message:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[s]),c=(0,t.useCallback)(function(e,t){return s(Ne({type:"error",title:e,message:t,duration:7e3},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[s]),d=(0,t.useCallback)(function(e,t){return s(Ne({type:"warning",title:e,message:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[s]),u=(0,t.useCallback)(function(e,t){return s(Ne({type:"info",title:e,message:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[s]),h=(0,t.useCallback)(function(e,t){return s(Ne({type:"delivery",title:e,message:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[s]),p=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={accepted:{title:"\u2705 Delivery Accepted",message:"Your delivery has been accepted by ".concat(t.driverName||"a driver"," and will begin soon."),type:"delivery"},started:{title:"\ud83d\ude9b Delivery Started",message:"Your delivery is now in progress. ".concat(t.driverName||"The driver"," is on the way to pick up your cargo."),type:"delivery"},"picked-up":{title:"\ud83d\udce6 Cargo Picked Up",message:"Your cargo has been picked up by ".concat(t.driverName||"the driver"," and is now in transit."),type:"delivery"},delivered:{title:"\ud83c\udfaf Delivery Completed",message:"Your delivery has been completed! Please confirm receipt when convenient.",type:"delivery",duration:0,actionButton:(0,Jn.jsx)("button",{className:"btn btn-primary",onClick:()=>{t.onConfirmReceipt&&t.onConfirmReceipt()},children:"Confirm Receipt"})}}[e];if(n)return s(Ne(Ne({},n),{},{data:Ne({deliveryId:t.deliveryId,truckPlate:t.truckPlate,driverName:t.driverName},t)}))},[s]),m={toasts:r,addToast:s,removeToast:i,updateToast:o,showSuccess:l,showError:c,showWarning:d,showInfo:u,showDelivery:h,showDeliveryUpdate:p};return(0,Jn.jsx)(oa.Provider,{value:m,children:n})},ca=()=>{const e=(0,t.useContext)(oa);if(!e)throw new Error("useModernToast must be used within a ModernToastProvider");return e},da=(0,t.createContext)(),ua=()=>{const e=(0,t.useContext)(da);if(!e)throw new Error("useTimeframe must be used within a TimeframeProvider");return e},ha=e=>{let{children:n}=e;const[r,a]=(0,t.useState)("All Time"),[s,i]=(0,t.useState)({start:null,end:null}),o=(()=>{const e=[],t=(new Date).getFullYear();for(let n=12;n>=1;n--){const r=new Date(t,n-1,1).toLocaleDateString("en-US",{month:"short"}),a=new Date(t,n,0).getDate();e.push({value:"".concat(r," ").concat(t),label:"".concat(r," ").concat(t),start:"".concat(t,"-").concat(n.toString().padStart(2,"0"),"-01"),end:"".concat(t,"-").concat(n.toString().padStart(2,"0"),"-").concat(a)})}for(let n=t-1;n>=t-5;n--)for(let t=12;t>=1;t--){const r=new Date(n,t-1,1).toLocaleDateString("en-US",{month:"short"}),a=new Date(n,t,0).getDate();e.push({value:"".concat(r," ").concat(n),label:"".concat(r," ").concat(n),start:"".concat(n,"-").concat(t.toString().padStart(2,"0"),"-01"),end:"".concat(n,"-").concat(t.toString().padStart(2,"0"),"-").concat(a)})}return e.push({value:"All Time",label:"All Time",start:null,end:null}),e})(),l=(0,t.useCallback)(e=>{if(!s.start||!s.end)return!0;if(!e)return!1;const t=new Date(e),n=new Date(s.start),r=new Date(s.end);return n.setHours(0,0,0,0),r.setHours(23,59,59,999),t>=n&&t<=r},[s]),c=(0,t.useCallback)(()=>s.start&&s.end?"".concat(s.start.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(s.end.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})):"All Time",[s]),d={timeframe:r,dateRange:s,timeframeOptions:o,updateTimeframe:e=>{a(e);const t=o.find(t=>t.value===e);t&&(t.start&&t.end?i({start:new Date(t.start),end:new Date(t.end)}):i({start:null,end:null}))},getDateRange:()=>s,isWithinTimeframe:l,getFormattedDateRange:c};return(0,Jn.jsx)(da.Provider,{value:d,children:n})},pa=e=>{let{message:n,type:r="success",duration:a=3e3,onClose:s}=e;const[i,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=setTimeout(()=>{o(!1),setTimeout(()=>{s&&s()},300)},a);return()=>clearTimeout(e)},[a,s]);return i?(0,Jn.jsx)("div",{className:"notification-popup ".concat((()=>{switch(r){case"success":default:return"notification-success";case"error":return"notification-error";case"download":return"notification-download";case"warning":return"notification-warning"}})()," ").concat(i?"show":"hide"),children:(0,Jn.jsxs)("div",{className:"notification-content",children:[(0,Jn.jsx)("div",{className:"notification-icon",children:(()=>{switch(r){case"success":default:return(0,Jn.jsx)(fr,{size:20});case"error":return(0,Jn.jsx)($r,{size:20});case"download":return(0,Jn.jsx)(kr,{size:20});case"warning":return(0,Jn.jsx)(or,{size:20})}})()}),(0,Jn.jsx)("div",{className:"notification-message",children:n}),(0,Jn.jsx)("button",{className:"notification-close",onClick:()=>{o(!1),setTimeout(()=>{s&&s()},300)},children:(0,Jn.jsx)($r,{size:16})})]})}):null};const ma=(0,t.createContext)(),fa=e=>{let{children:n}=e;const[r,a]=(0,t.useState)([]),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;const r=Date.now()+Math.random(),s={id:r,message:e,type:t,duration:n};return a(e=>[...e,s]),r},i=e=>{a(t=>t.filter(t=>t.id!==e))},o={showNotification:s,showSuccess:function(e){return s(e,"success",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},showError:function(e){return s(e,"error",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},showDownload:function(e){return s(e,"download",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},showWarning:function(e){return s(e,"warning",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},removeNotification:i};return(0,Jn.jsxs)(ma.Provider,{value:o,children:[n,r.map(e=>(0,Jn.jsx)(pa,{message:e.message,type:e.type,duration:e.duration,onClose:()=>i(e.id)},e.id))]})},ga=(0,t.createContext)(),xa=e=>{let{children:n}=e;const[r,a]=(0,t.useState)({data:[],columns:[],summary:{},entityType:"",title:""}),s={exportData:r,updateExportData:(0,t.useCallback)(e=>{a(e)},[]),clearExportData:(0,t.useCallback)(()=>{a({data:[],columns:[],summary:{},entityType:"",title:""})},[])};return(0,Jn.jsx)(ga.Provider,{value:s,children:n})};function va(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function ba(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function ya(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function wa(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function ja(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function Na(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function ka(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function Sa(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function Ca(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"}}]})(e)}function _a(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"}}]})(e)}function Pa(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function Aa(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm316 140c0-6.6-5.4-12-12-12h-60v-60c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v60h-60c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h60v60c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-60h60c6.6 0 12-5.4 12-12v-40z"}}]})(e)}function Da(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"}}]})(e)}function Ta(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(e)}function La(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(e)}function Ea(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function Ia(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function Ra(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function Ma(e){return ar({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(e)}function Fa(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function Oa(e){return ar({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"}}]})(e)}function za(e){return ar({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"}}]})(e)}function Ba(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Ua(e){return ar({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function qa(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function Wa(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function Ha(e){return ar({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function Va(e){return ar({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function Ga(e){return ar({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function Ka(e){return ar({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function Ya(e){return ar({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"}}]})(e)}function $a(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function Ja(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"}}]})(e)}function Xa(e){return ar({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function Qa(e){return ar({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64z"}}]})(e)}function Za(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"}}]})(e)}function es(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function ts(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function ns(e){return ar({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"}}]})(e)}function rs(e){return ar({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function as(e){return ar({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M112 316.94v156.69l22.02 33.02c4.75 7.12 15.22 7.12 19.97 0L176 473.63V316.94c-10.39 1.92-21.06 3.06-32 3.06s-21.61-1.14-32-3.06zM144 0C64.47 0 0 64.47 0 144s64.47 144 144 144 144-64.47 144-144S223.53 0 144 0zm0 76c-37.5 0-68 30.5-68 68 0 6.62-5.38 12-12 12s-12-5.38-12-12c0-50.73 41.28-92 92-92 6.62 0 12 5.38 12 12s-5.38 12-12 12z"}}]})(e)}function ss(e){return ar({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"}}]})(e)}function is(e){return ar({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(e)}function os(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function ls(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function cs(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"}}]})(e)}function ds(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function us(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function hs(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function ps(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"}}]})(e)}function ms(e){return ar({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H112C85.5 0 64 21.5 64 48v48H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h272c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H40c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H64v128c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}}]})(e)}function fs(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function gs(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(e)}function xs(e){return ar({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function vs(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"}}]})(e)}function bs(e){return ar({tag:"svg",attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"}}]})(e)}function ys(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(e)}function ws(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(e)}function js(e){return ar({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Ns(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function ks(e){return ar({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}}]})(e)}function Ss(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Cs(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function _s(e){return ar({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function Ps(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"}}]})(e)}const As=()=>{const e=de(),{authUser:n,logout:r}=(0,t.useContext)(ea)||{authUser:null,logout:()=>{}},[a,s]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(0),d=t=>e.pathname.startsWith(t);(0,t.useEffect)(()=>{const e=e=>{e.target.closest(".profile-dropdown-container")||s(!1),e.target.closest(".notifications-container")||o(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const u="flex items-center gap-2 px-4 py-2 text-gray-300 text-sm font-medium rounded-lg transition-all duration-200 hover:bg-white/10 hover:text-white",h="bg-white/20 text-white shadow-sm";return(0,Jn.jsx)("header",{className:"fixed top-0 left-0 right-0 h-[70px] bg-gradient-to-r from-primary-900 via-primary-800 to-secondary-700 shadow-lg z-50",children:(0,Jn.jsxs)("div",{className:"flex items-center justify-between h-full px-6 max-w-[1920px] mx-auto",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("img",{src:"/images/logo.webp",alt:"Logo",className:"h-14 w-auto object-contain"}),(0,Jn.jsx)("span",{className:"text-white text-lg font-bold",children:"Trucking MS"}),(0,Jn.jsx)("span",{className:"bg-secondary-500 text-white text-xs font-bold px-2 py-1 rounded-full ml-1",children:"Client"})]}),(0,Jn.jsxs)("nav",{className:"flex items-center gap-1",children:[(0,Jn.jsxs)(ve,{to:"/client/profile",className:"".concat(u," ").concat(d("/client/profile")&&!e.search?h:""),children:[(0,Jn.jsx)(La,{}),(0,Jn.jsx)("span",{children:"Overview"})]}),(0,Jn.jsxs)(ve,{to:"/client/profile?tab=transactions",className:"".concat(u," ").concat(e.search.includes("tab=transactions")?h:""),children:[(0,Jn.jsx)(Ja,{}),(0,Jn.jsx)("span",{children:"Bookings"})]}),(0,Jn.jsxs)(ve,{to:"/client/profile?tab=trucks",className:"".concat(u," ").concat(e.search.includes("tab=trucks")?h:""),children:[(0,Jn.jsx)(ks,{}),(0,Jn.jsx)("span",{children:"My Trucks"})]}),(0,Jn.jsxs)(ve,{to:"/client/profile?tab=billing",className:"".concat(u," ").concat(e.search.includes("tab=billing")?h:""),children:[(0,Jn.jsx)(Ya,{}),(0,Jn.jsx)("span",{children:"Billing"})]}),(0,Jn.jsxs)(ve,{to:"/client/locations",className:"".concat(u," ").concat(d("/client/locations")?h:""),children:[(0,Jn.jsx)(as,{}),(0,Jn.jsx)("span",{children:"Locations"})]}),(0,Jn.jsxs)(ve,{to:"/client/delivery-tracker",className:"".concat(u," ").concat(d("/client/delivery-tracker")?h:""),children:[(0,Jn.jsx)(Ga,{}),(0,Jn.jsx)("span",{children:"Track Orders"})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jn.jsxs)("div",{className:"notifications-container relative",children:[(0,Jn.jsxs)("button",{className:"flex items-center justify-center w-10 h-10 text-gray-300 rounded-lg transition-all duration-200 hover:bg-white/10 hover:text-white relative",onClick:()=>o(!i),children:[(0,Jn.jsx)(Sa,{className:"text-lg"}),l>0&&(0,Jn.jsx)("span",{className:"absolute -top-1 -right-1 bg-danger-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full",children:l})]}),i&&(0,Jn.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-modal border border-gray-200 overflow-hidden z-50",children:[(0,Jn.jsx)("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:(0,Jn.jsx)("h4",{className:"text-gray-800 font-semibold m-0",children:"Notifications"})}),(0,Jn.jsx)("div",{className:"max-h-80 overflow-y-auto",children:(0,Jn.jsx)("div",{className:"p-4 text-center",children:(0,Jn.jsx)("p",{className:"text-gray-500 text-sm",children:"No new notifications"})})})]})]}),(0,Jn.jsxs)("div",{className:"profile-dropdown-container relative",children:[(0,Jn.jsxs)("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-white/10",onClick:()=>s(!a),children:[(0,Jn.jsx)("div",{className:"w-9 h-9 bg-gradient-to-br from-secondary-400 to-secondary-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:null!==n&&void 0!==n&&n.username?n.username.charAt(0).toUpperCase():"C"}),(0,Jn.jsx)("span",{className:"text-white font-medium text-sm hidden md:block",children:(null===n||void 0===n?void 0:n.username)||"Client"}),(0,Jn.jsx)(Ra,{className:"text-gray-300 text-xs transition-transform duration-200 ".concat(a?"rotate-180":"")})]}),a&&(0,Jn.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-modal border border-gray-200 overflow-hidden z-50",children:[(0,Jn.jsxs)(ve,{to:"/client/profile?tab=profile",className:"flex items-center gap-3 px-4 py-3 text-gray-700 text-sm font-medium hover:bg-gray-50 transition-colors",children:[(0,Jn.jsx)(Cs,{className:"text-gray-400"}),(0,Jn.jsx)("span",{children:"My Profile"})]}),(0,Jn.jsx)("div",{className:"h-px bg-gray-200 mx-3"}),(0,Jn.jsxs)("button",{className:"flex items-center gap-3 w-full px-4 py-3 text-danger-600 text-sm font-medium hover:bg-danger-50 transition-colors",onClick:r,children:[(0,Jn.jsx)(fs,{}),(0,Jn.jsx)("span",{children:"Logout"})]})]})]})]})]})})},Ds=e=>{let{children:t}=e;return(0,Jn.jsxs)("div",{className:"h-screen bg-gray-50 overflow-hidden",children:[(0,Jn.jsx)(As,{}),(0,Jn.jsx)("div",{className:"mt-[70px] h-[calc(100vh-70px)] overflow-hidden bg-gray-50 flex flex-col items-center p-0",children:(0,Jn.jsx)("div",{className:"w-full max-w-[1400px] mx-auto p-8 box-border h-full overflow-hidden",children:t})})]})},Ts=()=>{const[e,n]=(0,t.useState)({username:"",password:""}),[r,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),c=ce(),{login:d}=(0,t.useContext)(ea),u=e=>{const{name:t,value:r}=e.target;n(e=>Ne(Ne({},e),{},{[t]:r}))};return(0,Jn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 font-sans",children:(0,Jn.jsxs)("div",{className:"flex w-full min-h-screen bg-white shadow-2xl overflow-hidden",children:[(0,Jn.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 relative bg-blue-900 items-center justify-center overflow-hidden",children:[(0,Jn.jsxs)("div",{className:"absolute inset-0",children:[(0,Jn.jsx)("img",{src:"".concat("","/images/truck-background.jpg"),alt:"Logistics Background",className:"w-full h-full object-cover opacity-30",onError:e=>{e.target.style.display="none",e.target.parentNode.style.backgroundColor="#1e3a8a"}}),(0,Jn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/90 to-black/60"})]}),(0,Jn.jsxs)("div",{className:"relative z-10 p-12 text-white max-w-lg",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3 mb-8 animate-fade-in-up",children:[(0,Jn.jsx)("img",{src:"".concat("","/images/logo.webp"),alt:"E-TRUCKING Logo",className:"h-20 w-auto object-contain"}),(0,Jn.jsx)("h2",{className:"text-3xl font-extrabold tracking-tight",children:"E-TRUCKING"})]}),(0,Jn.jsxs)("h1",{className:"text-5xl font-bold leading-tight mb-6 animate-fade-in-up animation-delay-150",children:["Manage Your ",(0,Jn.jsx)("span",{className:"text-blue-400",children:"Fleet"})," With Confidence"]}),(0,Jn.jsx)("p",{className:"text-lg text-blue-100 mb-8 leading-relaxed animate-fade-in-up animation-delay-300",children:"Access real-time tracking, automated dispatching, and comprehensive analytics all in one secure platform."}),(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-4 animate-fade-in-up animation-delay-450",children:[(0,Jn.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-xl border border-white/10",children:[(0,Jn.jsx)("div",{className:"text-2xl font-bold text-blue-300 mb-1",children:"500+"}),(0,Jn.jsx)("div",{className:"text-sm text-gray-300",children:"Trucks Managed"})]}),(0,Jn.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-xl border border-white/10",children:[(0,Jn.jsx)("div",{className:"text-2xl font-bold text-blue-300 mb-1",children:"10k+"}),(0,Jn.jsx)("div",{className:"text-sm text-gray-300",children:"Deliveries Completed"})]})]})]}),(0,Jn.jsx)("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),(0,Jn.jsx)("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"})]}),(0,Jn.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white relative",children:(0,Jn.jsxs)("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[(0,Jn.jsxs)("div",{className:"lg:hidden flex items-center justify-center gap-2 mb-8",children:[(0,Jn.jsx)("img",{src:"".concat("","/images/logo.webp"),alt:"E-TRUCKING Logo",className:"h-10 w-auto object-contain"}),(0,Jn.jsx)("span",{className:"text-2xl font-extrabold text-gray-900",children:"E-TRUCKING"})]}),(0,Jn.jsxs)("div",{className:"text-center lg:text-left",children:[(0,Jn.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"Welcome Back"}),(0,Jn.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Please sign in to access your dashboard"})]}),s&&(0,Jn.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md animate-pulse",children:(0,Jn.jsxs)("div",{className:"flex",children:[(0,Jn.jsx)("div",{className:"flex-shrink-0",children:(0,Jn.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Jn.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Jn.jsx)("div",{className:"ml-3",children:(0,Jn.jsx)("p",{className:"text-sm text-red-700",children:s})})]})}),(0,Jn.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),a(!0),i(null);try{var n;if(console.log("Attempting to log in with:",{username:e.username,passwordLength:(null===(n=e.password)||void 0===n?void 0:n.length)||0}),d){console.log("Using AuthContext login function");const t=await d({username:e.username,password:e.password});if(console.log("AuthContext login result:",t),t.success){const e=t.role;console.log("Login successful, role:",e),"admin"===e?c.push("/admin/dashboard"):"staff"===e?c.push("/staff/vehicle-rates"):"client"===e?c.push("/client/landing"):"driver"===e?c.push("/driver/dashboard"):"helper"===e?c.push("/helper/dashboard"):"operator"===e?c.push("/operator/delivery-assignment"):(i("Unknown role. Please contact support."),c.push("/login"))}else console.log("Login failed:",t.message),i(t.message||"Login failed. Please try again.")}else{console.log("AuthContext login function not available, using direct axios call");const t=await Gn({method:"POST",url:$n("/auth/login"),data:{username:e.username.trim(),password:e.password},headers:{"Content-Type":"application/json"},withCredentials:!1,cache:"no-cache"});console.log("Login response:",t.data);const{token:n}=t.data;if(!n)throw new Error("Invalid response from server");localStorage.setItem("token",n),Gn.defaults.headers.common.Authorization="Bearer ".concat(n),console.log("Getting user data with token");const r=await Gn.get($n("/auth/current-user"),{headers:{Authorization:"Bearer ".concat(n)}});console.log("User data response:",r.data);const a=r.data;localStorage.setItem("currentUser",JSON.stringify(a)),console.log("Redirecting based on role:",a.role),"admin"===a.role?c.push("/admin/dashboard"):"staff"===a.role?c.push("/staff/vehicle-rates"):"client"===a.role?c.push("/client/landing"):"driver"===a.role?c.push("/driver/dashboard"):"helper"===a.role?c.push("/helper/dashboard"):"operator"===a.role?c.push("/operator/delivery-assignment"):(i("Unknown role. Please contact support."),c.push("/login"))}}catch(p){var r,s,o,l,u,h;console.error("Login error:",p);let e="Login failed. Please try again.";null!==(r=p.response)&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&s.message?e=p.response.data.message:403===(null===(o=p.response)||void 0===o?void 0:o.status)?e="Account is inactive. Please contact administrator.":p.response||(e="Network error. Please check your connection."),console.error("Login error details:",{message:p.message,status:null===(l=p.response)||void 0===l?void 0:l.status,statusText:null===(u=p.response)||void 0===u?void 0:u.statusText,data:null===(h=p.response)||void 0===h?void 0:h.data}),i(e)}finally{a(!1)}},children:[(0,Jn.jsxs)("div",{className:"space-y-4",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,Jn.jsxs)("div",{className:"relative",children:[(0,Jn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Jn.jsx)(Cs,{className:"h-5 w-5 text-gray-400"})}),(0,Jn.jsx)("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all sm:text-sm bg-gray-50 focus:bg-white",placeholder:"Enter your username",value:e.username,onChange:u,disabled:r})]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,Jn.jsxs)("div",{className:"relative",children:[(0,Jn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Jn.jsx)(ts,{className:"h-5 w-5 text-gray-400"})}),(0,Jn.jsx)("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all sm:text-sm bg-gray-50 focus:bg-white",placeholder:"Enter your password",value:e.password,onChange:u,disabled:r}),(0,Jn.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",onClick:()=>l(!o),children:o?(0,Jn.jsx)(Va,{className:"h-5 w-5"}):(0,Jn.jsx)(Ga,{className:"h-5 w-5"})})]})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jn.jsxs)("div",{className:"flex items-center",children:[(0,Jn.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"}),(0,Jn.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900 cursor-pointer",children:"Remember me"})]}),(0,Jn.jsx)("div",{className:"text-sm",children:(0,Jn.jsx)("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Forgot password?"})})]}),(0,Jn.jsx)("div",{children:(0,Jn.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-lg text-white transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-md hover:shadow-lg transform active:scale-[0.98] ".concat(r?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:-translate-y-0.5"),children:r?(0,Jn.jsxs)("div",{className:"flex items-center",children:[(0,Jn.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Jn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Jn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})})]}),(0,Jn.jsxs)("div",{className:"mt-6 text-center",children:[(0,Jn.jsx)("p",{className:"text-xs text-gray-500",children:"\xa9 2025 E-Trucking Management System. All rights reserved."}),(0,Jn.jsx)(ve,{to:"/",className:"inline-block mt-4 text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:"\u2190 Back to Home"})]})]})})]})})},Ls=()=>{const{logout:e}=(0,t.useContext)(ea),n=ce();return(0,t.useEffect)(()=>{e(),n.push("/login")},[e,n]),null},Es=()=>{const[e,n]=(0,t.useState)(!1),[r,a]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{const e=()=>{n(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,Jn.jsxs)("div",{className:"font-sans text-gray-800 antialiased overflow-x-hidden",children:[(0,Jn.jsxs)("header",{className:"fixed w-full z-50 transition-all duration-300 ".concat(e?"bg-white/90 backdrop-blur-md shadow-md py-4":"bg-transparent py-6"),children:[(0,Jn.jsxs)("div",{className:"container mx-auto px-6 flex justify-between items-center",children:[(0,Jn.jsxs)(ve,{to:"/",className:"text-2xl font-extrabold tracking-tight flex items-center gap-2 ".concat(e?"text-blue-900":"text-white"),children:[(0,Jn.jsx)("img",{src:"/images/logo.webp",alt:"E-TRUCKING",className:"h-20 w-auto object-contain"}),(0,Jn.jsx)("span",{className:e?"text-blue-900":"text-white",children:"E-TRUCKING"})]}),(0,Jn.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[["Home","About","Features","Why Us","Stats","Contact"].map(t=>(0,Jn.jsx)("a",{href:"#".concat(t.toLowerCase().replace(" ","")),className:"text-sm font-medium transition-colors hover:text-blue-500 ".concat(e?"text-gray-700":"text-white/90 hover:text-white"),children:t},t)),(0,Jn.jsx)(ve,{to:"/login",className:"px-5 py-2.5 rounded-full font-semibold transition-all shadow-lg transform hover:-translate-y-0.5 ".concat(e?"bg-blue-600 text-white hover:bg-blue-700":"bg-white text-blue-900 hover:bg-gray-100"),children:"Login"})]}),(0,Jn.jsx)("button",{className:"md:hidden focus:outline-none ".concat(e?"text-gray-800":"text-white"),onClick:()=>a(!r),children:r?(0,Jn.jsx)(js,{size:24}):(0,Jn.jsx)(ka,{size:24})})]}),(0,Jn.jsxs)("div",{className:"fixed inset-0 z-40 bg-blue-900/95 backdrop-blur-xl transition-transform duration-300 ease-in-out flex flex-col items-center justify-center space-y-8 ".concat(r?"translate-x-0":"translate-x-full"),style:{top:"0",left:"0",height:"100vh",width:"100vw"},children:[(0,Jn.jsx)("button",{className:"absolute top-6 right-6 text-white/80 hover:text-white focus:outline-none",onClick:()=>a(!1),children:(0,Jn.jsx)(js,{size:32})}),["Home","About","Features","Why Us","Stats","Contact"].map(e=>(0,Jn.jsx)("a",{href:"#".concat(e.toLowerCase().replace(" ","")),className:"text-2xl font-bold text-white hover:text-blue-300 transition-colors",onClick:()=>a(!1),children:e},e)),(0,Jn.jsx)(ve,{to:"/login",className:"px-8 py-3 bg-white text-blue-900 rounded-full font-bold text-lg shadow-xl hover:bg-gray-100 transition-all",onClick:()=>a(!1),children:"Login to Portal"})]})]}),(0,Jn.jsxs)("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[(0,Jn.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,Jn.jsx)("img",{src:"".concat("","/images/truck-hero.jpg"),alt:"Background",className:"w-full h-full object-cover"}),(0,Jn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/90 to-black/60"})]}),(0,Jn.jsxs)("div",{className:"container relative z-10 px-6 text-center text-white max-w-4xl mx-auto mt-16",children:[(0,Jn.jsx)("span",{className:"inline-block py-1 px-3 rounded-full bg-blue-500/30 border border-blue-400/30 text-blue-200 text-sm font-semibold mb-6 backdrop-blur-sm animate-fade-in-up",children:"REVOLUTIONIZING LOGISTICS"}),(0,Jn.jsxs)("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight leading-tight mb-6 animate-fade-in-up animation-delay-150",children:["The Future of ",(0,Jn.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300",children:"Logistics"})," Is Here"]}),(0,Jn.jsx)("p",{className:"text-lg md:text-xl text-gray-200 mb-10 leading-relaxed max-w-2xl mx-auto animate-fade-in-up animation-delay-300",children:"Streamline your trucking operations with our intelligent management system. Real-time tracking, automated dispatch, and comprehensive analytics all in one platform."}),(0,Jn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-fade-in-up animation-delay-450",children:[(0,Jn.jsx)(ve,{to:"/login",className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold text-lg shadow-lg hover:shadow-blue-500/30 transition-all transform hover:-translate-y-1",children:"Get Started"}),(0,Jn.jsx)("a",{href:"#features",className:"px-8 py-4 bg-white/10 hover:bg-white/20 text-white border border-white/20 rounded-lg font-bold text-lg backdrop-blur-sm transition-all transform hover:-translate-y-1",children:"Learn More"})]})]}),(0,Jn.jsx)("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce",children:(0,Jn.jsx)(Na,{className:"text-white/50 rotate-90 text-2xl"})})]}),(0,Jn.jsx)("section",{id:"features",className:"py-24 bg-gray-50",children:(0,Jn.jsxs)("div",{className:"container mx-auto px-6",children:[(0,Jn.jsxs)("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[(0,Jn.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Powerful Features for Modern Fleets"}),(0,Jn.jsx)("p",{className:"text-gray-600 text-lg",children:"Everything you need to manage your logistics operation efficiently and effectively."})]}),(0,Jn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[{icon:(0,Jn.jsx)(ns,{}),title:"Real-Time Tracking",desc:"Monitor your entire fleet in real-time with our advanced GPS integration. Know exactly where your cargo is every second.",color:"bg-blue-100 text-blue-600"},{icon:(0,Jn.jsx)(La,{}),title:"Smart Analytics",desc:"Data-driven insights to optimize routes, reduce fuel consumption, and improve overall operational efficiency.",color:"bg-purple-100 text-purple-600"},{icon:(0,Jn.jsx)(ps,{}),title:"Secure & Reliable",desc:"Enterprise-grade security for your data, ensuring your business operations run smoothly and securely 24/7.",color:"bg-green-100 text-green-600"}].map((e,t)=>(0,Jn.jsxs)("div",{className:"group bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-blue-100 hover:-translate-y-1",children:[(0,Jn.jsx)("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center text-2xl mb-6 ".concat(e.color," group-hover:scale-110 transition-transform duration-300"),children:e.icon}),(0,Jn.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors",children:e.title}),(0,Jn.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e.desc})]},t))})]})}),(0,Jn.jsxs)("section",{id:"stats",className:"py-20 bg-blue-900 text-white relative overflow-hidden",children:[(0,Jn.jsx)("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),(0,Jn.jsx)("div",{className:"container mx-auto px-6 relative z-10",children:(0,Jn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8 text-center divide-x-0 md:divide-x divide-white/10",children:[{num:"400+",label:"Trucks Managed"},{num:"10k+",label:"Deliveries Completed"},{num:"98%",label:"On-Time Rate"}].map((e,t)=>(0,Jn.jsxs)("div",{className:"p-4",children:[(0,Jn.jsx)("div",{className:"text-4xl md:text-5xl font-extrabold text-blue-300 mb-2",children:e.num}),(0,Jn.jsx)("div",{className:"text-blue-100 font-medium",children:e.label})]},t))})})]}),(0,Jn.jsx)("section",{id:"showcase",className:"py-24 bg-white overflow-hidden",children:(0,Jn.jsx)("div",{className:"container mx-auto px-6",children:(0,Jn.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-16",children:[(0,Jn.jsxs)("div",{className:"lg:w-1/2",children:[(0,Jn.jsx)("span",{className:"text-blue-600 font-bold uppercase tracking-wider text-sm mb-2 block",children:"Why Choose Us"}),(0,Jn.jsx)("h2",{className:"text-3xl md:text-5xl font-extrabold text-gray-900 mb-6 leading-tight",children:"Complete Control Over Your Logistics"}),(0,Jn.jsx)("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed",children:"Our platform brings all your logistical needs into one intuitive dashboard. Say goodbye to spreadsheets and manual tracking, and hello to automated efficiency."}),(0,Jn.jsx)("div",{className:"space-y-4",children:["Automated Driver Assignment","Digital Document Management","Client Portal Access","Maintenance Scheduling"].map((e,t)=>(0,Jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-green-100 text-green-500 flex items-center justify-center",children:(0,Jn.jsx)(Ia,{size:12})}),(0,Jn.jsx)("span",{className:"text-gray-700 font-medium",children:e})]},t))})]}),(0,Jn.jsxs)("div",{className:"lg:w-1/2 relative",children:[(0,Jn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-600 to-purple-600 rounded-2xl transform rotate-3 scale-105 opacity-20 blur-lg"}),(0,Jn.jsx)("img",{src:"".concat("","/images/truck-hero.jpg"),alt:"Dashboard Preview",className:"relative rounded-2xl shadow-2xl border-4 border-white transform transition-transform hover:scale-[1.01]",onError:e=>{e.target.onerror=null,e.target.src="https://images.unsplash.com/photo-1586864387967-d02ef85d93e8?q=80&w=2070&auto=format&fit=crop"}})]})]})})}),(0,Jn.jsxs)("section",{id:"contact",className:"py-24 bg-gradient-to-br from-blue-700 to-blue-900 text-white text-center relative overflow-hidden",children:[(0,Jn.jsx)("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-80 h-80 bg-white/5 rounded-full blur-3xl"}),(0,Jn.jsx)("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 bg-white/5 rounded-full blur-3xl"}),(0,Jn.jsxs)("div",{className:"container mx-auto px-6 relative z-10",children:[(0,Jn.jsx)("h2",{className:"text-3xl md:text-5xl font-bold mb-6",children:"Ready to Optimize Your Fleet?"}),(0,Jn.jsx)("p",{className:"text-xl text-blue-100 mb-10 max-w-2xl mx-auto",children:"Join hundreds of logistics companies transforming their operations with E-Trucking."}),(0,Jn.jsx)(ve,{to:"/login",className:"inline-block px-10 py-5 bg-white text-blue-700 rounded-full font-bold text-lg shadow-xl hover:bg-blue-50 hover:scale-105 transition-all",children:"Start Your Free Trial"})]})]}),(0,Jn.jsx)("footer",{className:"bg-gray-900 text-gray-300 py-16 border-t border-gray-800",children:(0,Jn.jsxs)("div",{className:"container mx-auto px-6",children:[(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[(0,Jn.jsxs)("div",{className:"col-span-1 md:col-span-1",children:[(0,Jn.jsxs)(ve,{to:"/",className:"text-2xl font-bold text-white flex items-center gap-2 mb-6",children:[(0,Jn.jsx)("img",{src:"/images/logo.webp",alt:"E-TRUCKING",className:"h-10 w-auto object-contain"}),(0,Jn.jsx)("span",{className:"text-white",children:"E-TRUCKING"})]}),(0,Jn.jsx)("p",{className:"text-gray-400 leading-relaxed mb-6",children:"Empowering logistics companies with cutting-edge technology for better fleet management."}),(0,Jn.jsx)("div",{className:"flex gap-4",children:[va,wa,ya,ba].map((e,t)=>(0,Jn.jsx)("a",{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:(0,Jn.jsx)(e,{})},t))})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h4",{className:"text-lg font-semibold text-white mb-6",children:"Product"}),(0,Jn.jsx)("ul",{className:"space-y-3",children:["Features","Pricing","Case Studies","API"].map(e=>(0,Jn.jsx)("li",{children:(0,Jn.jsx)("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:e})},e))})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h4",{className:"text-lg font-semibold text-white mb-6",children:"Company"}),(0,Jn.jsx)("ul",{className:"space-y-3",children:["About Us","Careers","Blog","Contact"].map(e=>(0,Jn.jsx)("li",{children:(0,Jn.jsx)("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:e})},e))})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h4",{className:"text-lg font-semibold text-white mb-6",children:"Contact"}),(0,Jn.jsxs)("ul",{className:"space-y-3",children:[(0,Jn.jsxs)("li",{className:"flex items-start gap-3",children:[(0,Jn.jsx)("span",{className:"text-blue-500 mt-1",children:"\ud83d\udccd"}),(0,Jn.jsx)("span",{children:"123 Logistics Way, Suite 100, Transport City, TC 90210"})]}),(0,Jn.jsxs)("li",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("span",{className:"text-blue-500",children:"\ud83d\udce7"}),(0,Jn.jsx)("a",{href:"mailto:info@etrucking.com",className:"hover:text-blue-400",children:"info@etrucking.com"})]}),(0,Jn.jsxs)("li",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("span",{className:"text-blue-500",children:"\ud83d\udcde"}),(0,Jn.jsx)("span",{children:"(555) 123-4567"})]})]})]})]}),(0,Jn.jsxs)("div",{className:"pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-500",children:[(0,Jn.jsx)("p",{children:"\xa9 2025 E-Trucking Management System. All rights reserved."}),(0,Jn.jsxs)("div",{className:"flex gap-6",children:[(0,Jn.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),(0,Jn.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})]})]})]})})]})},Is=()=>(0,Jn.jsx)("div",{className:"not-found",children:(0,Jn.jsxs)("div",{className:"not-found-content",children:[(0,Jn.jsx)("div",{className:"not-found-icon",children:(0,Jn.jsx)(Ha,{})}),(0,Jn.jsx)("h1",{children:"404"}),(0,Jn.jsx)("h2",{children:"Page Not Found"}),(0,Jn.jsx)("p",{children:"The page you are looking for does not exist or has been moved."}),(0,Jn.jsxs)(ve,{to:"/",className:"btn btn-primary",children:[(0,Jn.jsx)(Xa,{})," Go to Home"]})]})}),Rs=e=>{let{documentType:n="general",subFolder:r="",identifier:a="",onUploadSuccess:s=()=>{},onUploadError:i=()=>{},showFileList:o=!0,allowMultiple:l=!0,acceptedTypes:c="*",maxFileSize:d=26214400}=e;const[u,h]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(!1),[x,v]=(0,t.useState)(""),[b,y]=(0,t.useState)([]),w=Yn;(0,t.useEffect)(()=>{o&&j()},[n,r]);const j=async()=>{try{const e=await Gn.get("".concat(w,"/api/upload/files/").concat(n,"/").concat(r));e.data.success&&y(e.data.files)}catch(Bx){console.error("Error fetching existing files:",Bx)}},N=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return(0,Jn.jsxs)("div",{className:"enhanced-file-upload",children:[(0,Jn.jsxs)("div",{className:"upload-section",children:[(0,Jn.jsx)("h3",{children:"File Upload"}),(0,Jn.jsx)("div",{className:"file-input-container",children:(0,Jn.jsx)("input",{id:"fileInput",type:"file",multiple:l,onChange:e=>{const t=Array.from(e.target.files);if(t.filter(e=>e.size>d).length>0)v("Some files are too large. Maximum size: ".concat(Math.round(d/1024/1024),"MB"));else{if("*"!==c){const e=c.split(",").map(e=>e.trim());if(t.filter(t=>{const n=t.type,r="."+t.name.split(".").pop().toLowerCase();return!e.some(e=>e.startsWith(".")?e===r:n.includes(e))}).length>0)return void v("Some files have invalid types. Allowed: ".concat(c))}h(t),v("")}},accept:"*"===c?void 0:c,style:{marginBottom:"10px"}})}),u.length>0&&(0,Jn.jsxs)("div",{className:"selected-files",children:[(0,Jn.jsx)("h4",{children:"Selected Files:"}),(0,Jn.jsx)("ul",{children:u.map((e,t)=>(0,Jn.jsxs)("li",{children:[e.name," (",N(e.size),")"]},t))})]}),(0,Jn.jsx)("div",{className:"upload-controls",children:(0,Jn.jsx)("button",{onClick:async()=>{if(0!==u.length){g(!0),v("");try{const e=new FormData;u.forEach(t=>{e.append("files",t)}),e.append("documentType",n),e.append("subFolder",r),a&&e.append("identifier",a),console.log("\ud83d\udce4 Uploading files:",u.map(e=>e.name)),console.log("\ud83d\udce4 Document Type:",n),console.log("\ud83d\udce4 Sub Folder:",r),console.log("\ud83d\udce4 Identifier:",a);const t=await Gn.post("".concat(w,"/api/upload/upload"),e,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("\u2705 Upload response:",t.data),t.data.success){v("Files uploaded successfully!"),m(t.data.files),h([]);const e=document.getElementById("fileInput");e&&(e.value=""),o&&j(),s(t.data.files)}else v("Upload failed: ".concat(t.data.message)),i(t.data)}catch(Bx){var e,t;console.error("\u274c Upload error:",Bx);const r=(null===(e=Bx.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||Bx.message;v("Upload failed: ".concat(r)),i(Bx)}finally{g(!1)}}else v("Please select files to upload")},disabled:f||0===u.length,className:"upload-btn",children:f?"Uploading...":"Upload Files"})}),x&&(0,Jn.jsx)("div",{className:"message ".concat(x.includes("successfully")?"success":"error"),children:x})]}),o&&(0,Jn.jsxs)("div",{className:"file-list-section",children:[(0,Jn.jsx)("h3",{children:"Existing Files"}),0===b.length?(0,Jn.jsx)("p",{children:"No files found"}):(0,Jn.jsx)("div",{className:"file-list",children:b.map((e,t)=>{return(0,Jn.jsxs)("div",{className:"file-item",children:[(0,Jn.jsxs)("div",{className:"file-info",children:[(0,Jn.jsx)("span",{className:"file-name",children:e.filename}),(0,Jn.jsx)("span",{className:"file-size",children:N(e.size)}),(0,Jn.jsx)("span",{className:"file-date",children:(n=e.modified,new Date(n).toLocaleDateString()+" "+new Date(n).toLocaleTimeString())})]}),(0,Jn.jsxs)("div",{className:"file-actions",children:[(0,Jn.jsx)("button",{onClick:()=>(e=>{const t="".concat(w,"/api/upload/serve/").concat(encodeURIComponent(e));window.open(t,"_blank")})(e.relativePath),className:"view-btn",children:"View"}),(0,Jn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this file?"))try{const t=await Gn.delete("".concat(w,"/api/upload/delete/").concat(encodeURIComponent(e)));t.data.success?(v("File deleted successfully"),j()):v("Delete failed: ".concat(t.data.message))}catch(Bx){var t,n;console.error("\u274c Delete error:",Bx),v("Delete failed: ".concat((null===(t=Bx.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||Bx.message))}})(e.relativePath),className:"delete-btn",children:"Delete"})]})]},t);var n})})]}),(0,Jn.jsx)("style",{jsx:!0,children:"\n        .enhanced-file-upload {\n          max-width: 800px;\n          margin: 20px auto;\n          padding: 20px;\n          border: 1px solid #ddd;\n          border-radius: 8px;\n          background: #f9f9f9;\n        }\n\n        .upload-section, .file-list-section {\n          margin-bottom: 30px;\n        }\n\n        .file-input-container {\n          margin-bottom: 15px;\n        }\n\n        .selected-files {\n          background: #e8f4fd;\n          padding: 10px;\n          border-radius: 4px;\n          margin-bottom: 15px;\n        }\n\n        .selected-files ul {\n          margin: 5px 0;\n          padding-left: 20px;\n        }\n\n        .upload-controls {\n          margin-bottom: 15px;\n        }\n\n        .upload-btn {\n          background: #007bff;\n          color: white;\n          border: none;\n          padding: 10px 20px;\n          border-radius: 4px;\n          cursor: pointer;\n        }\n\n        .upload-btn:disabled {\n          background: #ccc;\n          cursor: not-allowed;\n        }\n\n        .message {\n          padding: 10px;\n          border-radius: 4px;\n          margin-top: 10px;\n        }\n\n        .message.success {\n          background: #d4edda;\n          color: #155724;\n          border: 1px solid #c3e6cb;\n        }\n\n        .message.error {\n          background: #f8d7da;\n          color: #721c24;\n          border: 1px solid #f5c6cb;\n        }\n\n        .file-list {\n          max-height: 400px;\n          overflow-y: auto;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n        }\n\n        .file-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 10px;\n          border-bottom: 1px solid #eee;\n        }\n\n        .file-item:last-child {\n          border-bottom: none;\n        }\n\n        .file-info {\n          flex: 1;\n        }\n\n        .file-name {\n          font-weight: bold;\n          display: block;\n          margin-bottom: 2px;\n        }\n\n        .file-size, .file-date {\n          font-size: 0.9em;\n          color: #666;\n          margin-right: 10px;\n        }\n\n        .file-actions {\n          display: flex;\n          gap: 5px;\n        }\n\n        .view-btn, .delete-btn {\n          padding: 5px 10px;\n          border: none;\n          border-radius: 3px;\n          cursor: pointer;\n          font-size: 0.9em;\n        }\n\n        .view-btn {\n          background: #28a745;\n          color: white;\n        }\n\n        .delete-btn {\n          background: #dc3545;\n          color: white;\n        }\n\n        .view-btn:hover, .delete-btn:hover {\n          opacity: 0.8;\n        }\n      "})]})},Ms=()=>(0,Jn.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,Jn.jsx)("h1",{children:"Enhanced File Upload Test"}),(0,Jn.jsx)("p",{children:"This is now using the enhanced file upload system with better organization and file replacement."}),(0,Jn.jsx)(Rs,{documentType:"general",subFolder:"test-files",onUploadSuccess:e=>{console.log("Upload successful:",e),alert("Successfully uploaded ".concat(e.length," file(s)!"))},onUploadError:e=>{console.error("Upload error:",e),alert("Upload failed. Please check the console for details.")},showFileList:!0,allowMultiple:!0,acceptedTypes:"*",maxFileSize:26214400})]}),Fs=()=>{var e;const[n,r]=(0,t.useState)("general"),[a,s]=(0,t.useState)(""),[i,o]=(0,t.useState)("");return(0,Jn.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,Jn.jsx)("h1",{children:"Enhanced File Upload Test"}),(0,Jn.jsxs)("div",{style:{background:"#f8f9fa",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #dee2e6"},children:[(0,Jn.jsx)("h3",{children:"Upload Configuration"}),(0,Jn.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Jn.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Document Type:"}),(0,Jn.jsx)("select",{value:n,onChange:e=>{r(e.target.value),s("")},style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",width:"200px"},children:[{value:"general",label:"General Files"},{value:"Truck-Documents",label:"Truck Documents"},{value:"Driver-Documents",label:"Driver Documents"},{value:"Client-Documents",label:"Client Documents"},{value:"Helper-Documents",label:"Helper Documents"}].map(e=>(0,Jn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Jn.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Jn.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Sub Folder:"}),(0,Jn.jsxs)("select",{value:a,onChange:e=>s(e.target.value),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",width:"200px"},children:[(0,Jn.jsx)("option",{value:"",children:"Select subfolder..."}),null===(e={"Truck-Documents":["OR-CR-Files","Insurance-Papers","License-Documents"],"Driver-Documents":["ID-Photos","Licenses","Medical-Certificates","NBI-Clearances"],"Client-Documents":["Business-Permits","Contracts","Valid-IDs","Tax-Certificates"],"Helper-Documents":["ID-Photos","Licenses","Medical-Certificates","NBI-Clearances"],general:["documents","images","files"]}[n])||void 0===e?void 0:e.map(e=>(0,Jn.jsx)("option",{value:e,children:e},e))]})]}),(0,Jn.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Jn.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Identifier (for file replacement):"}),(0,Jn.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"e.g., truck123, driver456",style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",width:"200px"}}),(0,Jn.jsx)("small",{style:{display:"block",marginTop:"5px",color:"#666"},children:"Files with the same identifier will replace existing files"})]})]}),(0,Jn.jsx)(Rs,{documentType:n,subFolder:a,identifier:i,onUploadSuccess:e=>{console.log("Upload successful:",e),alert("Successfully uploaded ".concat(e.length," file(s)!"))},onUploadError:e=>{console.error("Upload error:",e),alert("Upload failed. Please check the console for details.")},showFileList:!0,allowMultiple:!0,acceptedTypes:"*",maxFileSize:26214400}),(0,Jn.jsxs)("div",{style:{background:"#e9ecef",padding:"15px",borderRadius:"8px",marginTop:"20px",fontSize:"14px"},children:[(0,Jn.jsx)("h4",{children:"How to use:"}),(0,Jn.jsxs)("ul",{children:[(0,Jn.jsxs)("li",{children:[(0,Jn.jsx)("strong",{children:"Document Type:"})," Select the main category for your files"]}),(0,Jn.jsxs)("li",{children:[(0,Jn.jsx)("strong",{children:"Sub Folder:"})," Choose a specific subfolder within the document type"]}),(0,Jn.jsxs)("li",{children:[(0,Jn.jsx)("strong",{children:"Identifier:"})," Optional. If provided, new files will replace existing files with the same identifier"]}),(0,Jn.jsxs)("li",{children:[(0,Jn.jsx)("strong",{children:"File Upload:"})," Select files and click upload"]}),(0,Jn.jsxs)("li",{children:[(0,Jn.jsx)("strong",{children:"File Management:"})," View existing files, download them, or delete them"]})]}),(0,Jn.jsx)("h4",{children:"Features:"}),(0,Jn.jsxs)("ul",{children:[(0,Jn.jsx)("li",{children:"\u2705 Files are saved to the correct uploads folder structure"}),(0,Jn.jsx)("li",{children:"\u2705 File replacement when using identifiers"}),(0,Jn.jsx)("li",{children:"\u2705 File viewing and downloading"}),(0,Jn.jsx)("li",{children:"\u2705 File deletion"}),(0,Jn.jsx)("li",{children:"\u2705 File size and type validation"}),(0,Jn.jsx)("li",{children:"\u2705 Organized folder structure"})]})]})]})};function Os(e){let{size:t="medium",message:n="Loading..."}=e;const r={small:"w-6 h-6 border-2",medium:"w-10 h-10 border-[3px]",large:"w-[60px] h-[60px] border-4"};return(0,Jn.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-[calc(100vh-70px)] w-full p-8 box-border",children:[(0,Jn.jsx)("div",{className:"".concat(r[t]||r.medium," border-gray-200 border-t-primary-500 rounded-full animate-spin")}),n&&(0,Jn.jsx)("p",{className:"mt-4 text-gray-600 text-sm font-medium",children:n})]})}const zs=()=>{const{showAlert:e}=(0,t.useContext)(aa),[n,r]=(0,t.useState)("client"),[a,s]=(0,t.useState)({startDate:"",endDate:""}),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)({totalDeliveries:0,totalDistance:0,totalRevenue:0,activeClients:0});(0,t.useEffect)(()=>{const e=new Date,t=new Date;t.setDate(e.getDate()-30),s({startDate:t.toISOString().split("T")[0],endDate:e.toISOString().split("T")[0]})},[]);const h=e=>{r(e),o(null)},p=e=>{const{name:t,value:n}=e.target;s(e=>Ne(Ne({},e),{},{[t]:n}))};return(0,Jn.jsx)("div",{className:"reports-page",children:(0,Jn.jsxs)("div",{className:"card",children:[(0,Jn.jsxs)("div",{className:"card-header",children:[(0,Jn.jsx)("h2",{className:"card-title",children:"Reports"}),(0,Jn.jsxs)(ve,{to:"/logout",className:"btn btn-secondary",children:[(0,Jn.jsx)(ja,{})," Logout"]})]}),(0,Jn.jsxs)("div",{className:"card-body",children:[(0,Jn.jsxs)("div",{className:"report-controls",children:[(0,Jn.jsxs)("div",{className:"report-type-selection",children:[(0,Jn.jsx)("h3",{children:"Report Type"}),(0,Jn.jsxs)("div",{className:"report-types",children:[(0,Jn.jsx)("button",{className:"btn ".concat("client"===n?"btn-primary":"btn-outline-primary"),onClick:()=>h("client"),children:"Client Report"}),(0,Jn.jsx)("button",{className:"btn ".concat("delivery"===n?"btn-primary":"btn-outline-primary"),onClick:()=>h("delivery"),children:"Delivery Report"}),(0,Jn.jsx)("button",{className:"btn ".concat("truck"===n?"btn-primary":"btn-outline-primary"),onClick:()=>h("truck"),children:"Truck Utilization"})]})]}),(0,Jn.jsxs)("div",{className:"date-range-selection",children:[(0,Jn.jsx)("h3",{children:"Date Range"}),(0,Jn.jsxs)("div",{className:"date-inputs",children:[(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),(0,Jn.jsx)("input",{type:"date",id:"startDate",name:"startDate",className:"form-control",value:a.startDate,onChange:p})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"endDate",children:"End Date"}),(0,Jn.jsx)("input",{type:"date",id:"endDate",name:"endDate",className:"form-control",value:a.endDate,onChange:p})]})]}),(0,Jn.jsxs)("div",{className:"report-actions",children:[(0,Jn.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(a.startDate&&a.endDate){c(!0);try{const e=await Gn.get("/api/staffs/reports/".concat(n),{params:a});o(e.data.data),u(e.data.summary)}catch(Bx){console.error("Error generating report:",Bx),e("Error generating report","danger")}finally{c(!1)}}else e("Please select both start and end dates","warning")},disabled:l,children:l?"Generating...":"Generate Report"}),i&&(0,Jn.jsxs)("button",{className:"btn btn-success",onClick:()=>{if(!i)return void e("No report data to download","warning");let t="";"client"===n?(t="Client ID,Client Name,Deliveries,Total Distance,Total Revenue\n",i.forEach(e=>{t+="".concat(e.ClientID,",").concat(e.ClientName,",").concat(e.DeliveryCount,",").concat(e.TotalDistance.toFixed(2),",").concat(e.TotalRevenue.toFixed(2),"\n")})):"delivery"===n?(t="Delivery ID,Client,Driver,Date,Status,Distance,Rate\n",i.forEach(e=>{const n=new Date(e.DeliveryDate).toLocaleDateString();t+="".concat(e.DeliveryID,",").concat(e.ClientName,",").concat(e.DriverName,",").concat(n,",").concat(e.DeliveryStatus,",").concat(e.DeliveryDistance,",").concat(e.DeliveryRate,"\n")})):"truck"===n&&(t="Truck ID,Plate,Type,Deliveries,Total Distance,Utilization (%)\n",i.forEach(e=>{t+="".concat(e.TruckID,",").concat(e.TruckPlate,",").concat(e.TruckType,",").concat(e.DeliveryCount,",").concat(e.TotalDistance.toFixed(2),",").concat(e.Utilization,"\n")}));const r=new Blob([t],{type:"text/csv"}),s=window.URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download="".concat(n,"_report_").concat(a.startDate,"_to_").concat(a.endDate,".csv"),document.body.appendChild(o),o.click(),document.body.removeChild(o),e("Report downloaded successfully","success")},children:[(0,Jn.jsx)(Ba,{})," Download Report"]})]})]})]}),(0,Jn.jsx)("div",{className:"report-content",children:l?(0,Jn.jsx)(Os,{}):i?"client"===n?(0,Jn.jsxs)("div",{className:"report-container",children:[(0,Jn.jsxs)("div",{className:"report-summary",children:[(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"summary-icon",children:(0,Jn.jsx)(Ta,{})}),(0,Jn.jsxs)("div",{className:"summary-data",children:[(0,Jn.jsx)("h3",{children:d.activeClients}),(0,Jn.jsx)("p",{children:"Active Clients"})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"summary-icon",children:(0,Jn.jsx)(Ta,{})}),(0,Jn.jsxs)("div",{className:"summary-data",children:[(0,Jn.jsx)("h3",{children:d.totalDeliveries}),(0,Jn.jsx)("p",{children:"Total Deliveries"})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"summary-icon",children:(0,Jn.jsx)(Fa,{})}),(0,Jn.jsxs)("div",{className:"summary-data",children:[(0,Jn.jsxs)("h3",{children:["$",d.totalRevenue.toFixed(2)]}),(0,Jn.jsx)("p",{children:"Total Revenue"})]})]})]}),(0,Jn.jsx)("div",{className:"table-container",children:(0,Jn.jsxs)("table",{className:"data-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"Client ID"}),(0,Jn.jsx)("th",{children:"Client Name"}),(0,Jn.jsx)("th",{children:"Deliveries"}),(0,Jn.jsx)("th",{children:"Total Distance"}),(0,Jn.jsx)("th",{children:"Total Revenue"})]})}),(0,Jn.jsx)("tbody",{children:i.map(e=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:e.ClientID}),(0,Jn.jsx)("td",{children:e.ClientName}),(0,Jn.jsx)("td",{children:e.DeliveryCount}),(0,Jn.jsxs)("td",{children:[e.TotalDistance.toFixed(2)," km"]}),(0,Jn.jsxs)("td",{children:["$",e.TotalRevenue.toFixed(2)]})]},e.ClientID))})]})})]}):"delivery"===n?(0,Jn.jsxs)("div",{className:"report-container",children:[(0,Jn.jsxs)("div",{className:"report-summary",children:[(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"summary-icon",children:(0,Jn.jsx)(Ta,{})}),(0,Jn.jsxs)("div",{className:"summary-data",children:[(0,Jn.jsx)("h3",{children:i.length}),(0,Jn.jsx)("p",{children:"Total Deliveries"})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"summary-icon",children:(0,Jn.jsx)(Ta,{})}),(0,Jn.jsxs)("div",{className:"summary-data",children:[(0,Jn.jsxs)("h3",{children:[d.totalDistance.toFixed(2)," km"]}),(0,Jn.jsx)("p",{children:"Total Distance"})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"summary-icon",children:(0,Jn.jsx)(Fa,{})}),(0,Jn.jsxs)("div",{className:"summary-data",children:[(0,Jn.jsxs)("h3",{children:["$",d.totalRevenue.toFixed(2)]}),(0,Jn.jsx)("p",{children:"Total Revenue"})]})]})]}),(0,Jn.jsx)("div",{className:"table-container",children:(0,Jn.jsxs)("table",{className:"data-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"Delivery ID"}),(0,Jn.jsx)("th",{children:"Client"}),(0,Jn.jsx)("th",{children:"Driver"}),(0,Jn.jsx)("th",{children:"Date"}),(0,Jn.jsx)("th",{children:"Status"}),(0,Jn.jsx)("th",{children:"Distance"}),(0,Jn.jsx)("th",{children:"Rate"})]})}),(0,Jn.jsx)("tbody",{children:i.map(e=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:e.DeliveryID}),(0,Jn.jsx)("td",{children:e.ClientName}),(0,Jn.jsx)("td",{children:e.DriverName}),(0,Jn.jsx)("td",{children:new Date(e.DeliveryDate).toLocaleDateString()}),(0,Jn.jsx)("td",{children:e.DeliveryStatus}),(0,Jn.jsxs)("td",{children:[e.DeliveryDistance," km"]}),(0,Jn.jsxs)("td",{children:["$",e.DeliveryRate]})]},e.DeliveryID))})]})})]}):"truck"===n?(0,Jn.jsxs)("div",{className:"report-container",children:[(0,Jn.jsxs)("div",{className:"report-summary",children:[(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"summary-icon",children:(0,Jn.jsx)(Ta,{})}),(0,Jn.jsxs)("div",{className:"summary-data",children:[(0,Jn.jsx)("h3",{children:i.length}),(0,Jn.jsx)("p",{children:"Active Trucks"})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"summary-icon",children:(0,Jn.jsx)(Ta,{})}),(0,Jn.jsxs)("div",{className:"summary-data",children:[(0,Jn.jsx)("h3",{children:d.totalDeliveries}),(0,Jn.jsx)("p",{children:"Total Deliveries"})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"summary-icon",children:(0,Jn.jsx)(Fa,{})}),(0,Jn.jsxs)("div",{className:"summary-data",children:[(0,Jn.jsxs)("h3",{children:[d.totalDistance.toFixed(2)," km"]}),(0,Jn.jsx)("p",{children:"Total Distance"})]})]})]}),(0,Jn.jsx)("div",{className:"table-container",children:(0,Jn.jsxs)("table",{className:"data-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"Truck ID"}),(0,Jn.jsx)("th",{children:"Plate"}),(0,Jn.jsx)("th",{children:"Type"}),(0,Jn.jsx)("th",{children:"Deliveries"}),(0,Jn.jsx)("th",{children:"Total Distance"}),(0,Jn.jsx)("th",{children:"Utilization"})]})}),(0,Jn.jsx)("tbody",{children:i.map(e=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:e.TruckID}),(0,Jn.jsx)("td",{children:e.TruckPlate}),(0,Jn.jsx)("td",{children:e.TruckType}),(0,Jn.jsx)("td",{children:e.DeliveryCount}),(0,Jn.jsxs)("td",{children:[e.TotalDistance.toFixed(2)," km"]}),(0,Jn.jsxs)("td",{children:[e.Utilization,"%"]})]},e.TruckID))})]})})]}):null:(0,Jn.jsxs)("div",{className:"report-placeholder",children:[(0,Jn.jsx)(Ta,{size:50}),(0,Jn.jsx)("p",{children:"Generate a report to view data"})]})})]})]})})};function Bs(){const{currentUser:e}=(0,t.useContext)(ea),{showSuccess:n,showError:r}=ca(),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)({vehicleType:"",ratePerKm:"",baseRate:"",description:""}),m=["mini truck","4 wheeler","6 wheeler","8 wheeler","10 wheeler"];(0,t.useEffect)(()=>{f()},[]);const f=async()=>{try{o(!0);const e=await Gn.get("/api/staffs/vehicle-rates",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.data.success)throw new Error(e.data.message||"Failed to fetch vehicle rates");s(e.data.data||[])}catch(Bx){console.error("Error fetching vehicle rates:",Bx),r("Error","Failed to load vehicle rates");const t=m.map((e,t)=>({id:"default-".concat(t),vehicleType:e,ratePerKm:g(e),baseRate:x(e),description:"Default rate for ".concat(e),isDefault:!0}));s(t)}finally{o(!1)}},g=e=>({"mini truck":15,"4 wheeler":20,"6 wheeler":25,"8 wheeler":30,"10 wheeler":35}[e]||20),x=e=>({"mini truck":100,"4 wheeler":150,"6 wheeler":200,"8 wheeler":250,"10 wheeler":300}[e]||150),v=async e=>{try{const t={vehicleType:e.vehicleType,ratePerKm:parseFloat(e.ratePerKm),baseRate:parseFloat(e.baseRate),description:e.description||"Rate for ".concat(e.vehicleType)};let r;if(r=e.id&&!e.isDefault?await Gn.put("/api/staffs/vehicle-rates/".concat(e.id),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}):await Gn.post("/api/staffs/vehicle-rates",t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),!r.data.success)throw new Error(r.data.message||"Failed to save rate");n("Success","Vehicle rate saved successfully"),f(),c(null),u(!1),p({vehicleType:"",ratePerKm:"",baseRate:"",description:""})}catch(Bx){var t,a;console.error("Error saving vehicle rate:",Bx),r("Error",(null===(t=Bx.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to save vehicle rate")}};return i?(0,Jn.jsxs)("div",{className:"loading-container",children:[(0,Jn.jsx)("div",{className:"loading-spinner"}),(0,Jn.jsx)("p",{children:"Loading vehicle rates..."})]}):(0,Jn.jsxs)("div",{className:"vehicle-rate-management",children:[(0,Jn.jsx)("div",{className:"page-header",children:(0,Jn.jsxs)("div",{className:"header-content",children:[(0,Jn.jsxs)("div",{className:"header-left",children:[(0,Jn.jsxs)("h1",{children:["Welcome, ",(null===e||void 0===e?void 0:e.username)||"Staff Member"]}),(0,Jn.jsx)("p",{className:"page-subtitle",children:"Vehicle Rate Management"})]}),(0,Jn.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("currentUser"),window.location.href="/login"},className:"btn btn-logout",children:[(0,Jn.jsx)(fs,{})," Logout"]})]})}),(0,Jn.jsxs)("div",{className:"page-content",children:[(0,Jn.jsx)("div",{className:"actions-bar",children:(0,Jn.jsxs)("button",{onClick:()=>u(!0),className:"btn btn-primary",disabled:d,children:[(0,Jn.jsx)(ls,{})," Add New Vehicle Rate"]})}),d&&(0,Jn.jsxs)("div",{className:"rate-form",children:[(0,Jn.jsx)("h3",{children:"Add New Vehicle Rate"}),(0,Jn.jsxs)("div",{className:"form-grid",children:[(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{children:"Vehicle Type"}),(0,Jn.jsxs)("select",{value:h.vehicleType,onChange:e=>p(Ne(Ne({},h),{},{vehicleType:e.target.value})),className:"form-control",children:[(0,Jn.jsx)("option",{value:"",children:"Select Vehicle Type"}),m.filter(e=>!a.some(t=>t.vehicleType===e&&!t.isDefault)).map(e=>(0,Jn.jsx)("option",{value:e,children:e},e))]})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{children:"Rate per KM (\u20b1)"}),(0,Jn.jsx)("input",{type:"number",step:"0.01",value:h.ratePerKm,onChange:e=>p(Ne(Ne({},h),{},{ratePerKm:e.target.value})),className:"form-control",placeholder:"0.00"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{children:"Base Rate (\u20b1)"}),(0,Jn.jsx)("input",{type:"number",step:"0.01",value:h.baseRate,onChange:e=>p(Ne(Ne({},h),{},{baseRate:e.target.value})),className:"form-control",placeholder:"0.00"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{children:"Description"}),(0,Jn.jsx)("input",{type:"text",value:h.description,onChange:e=>p(Ne(Ne({},h),{},{description:e.target.value})),className:"form-control",placeholder:"Optional description"})]})]}),(0,Jn.jsxs)("div",{className:"form-actions",children:[(0,Jn.jsxs)("button",{onClick:()=>v(h),className:"btn btn-success",disabled:!h.vehicleType||!h.ratePerKm||!h.baseRate,children:[(0,Jn.jsx)(us,{})," Save Rate"]}),(0,Jn.jsx)("button",{onClick:()=>{u(!1),p({vehicleType:"",ratePerKm:"",baseRate:"",description:""})},className:"btn btn-secondary",children:"Cancel"})]})]}),(0,Jn.jsxs)("div",{className:"rates-table",children:[(0,Jn.jsxs)("table",{className:"table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"Vehicle Type"}),(0,Jn.jsx)("th",{children:"Rate per KM"}),(0,Jn.jsx)("th",{children:"Base Rate"}),(0,Jn.jsx)("th",{children:"Description"}),(0,Jn.jsx)("th",{children:"Actions"})]})}),(0,Jn.jsx)("tbody",{children:a.map(e=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:(0,Jn.jsxs)("div",{className:"vehicle-type",children:[(0,Jn.jsx)(ks,{className:"vehicle-icon"}),e.vehicleType,e.isDefault&&(0,Jn.jsx)("span",{className:"default-badge",children:"Default"})]})}),(0,Jn.jsx)("td",{children:(null===l||void 0===l?void 0:l.id)===e.id?(0,Jn.jsx)("input",{type:"number",step:"0.01",value:l.ratePerKm,onChange:e=>c(Ne(Ne({},l),{},{ratePerKm:e.target.value})),className:"form-control-sm"}):"\u20b1".concat(e.ratePerKm)}),(0,Jn.jsx)("td",{children:(null===l||void 0===l?void 0:l.id)===e.id?(0,Jn.jsx)("input",{type:"number",step:"0.01",value:l.baseRate,onChange:e=>c(Ne(Ne({},l),{},{baseRate:e.target.value})),className:"form-control-sm"}):"\u20b1".concat(e.baseRate)}),(0,Jn.jsx)("td",{children:(null===l||void 0===l?void 0:l.id)===e.id?(0,Jn.jsx)("input",{type:"text",value:l.description,onChange:e=>c(Ne(Ne({},l),{},{description:e.target.value})),className:"form-control-sm"}):e.description}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("div",{className:"action-buttons",children:(null===l||void 0===l?void 0:l.id)===e.id?(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsx)("button",{onClick:()=>v(l),className:"btn btn-sm btn-success",children:(0,Jn.jsx)(us,{})}),(0,Jn.jsx)("button",{onClick:()=>c(null),className:"btn btn-sm btn-secondary",children:"Cancel"})]}):(0,Jn.jsx)("button",{onClick:()=>c(e),className:"btn btn-sm btn-primary",children:(0,Jn.jsx)(Ua,{})})})})]},e.id))})]}),0===a.length&&(0,Jn.jsxs)("div",{className:"empty-state",children:[(0,Jn.jsx)(ks,{}),(0,Jn.jsx)("p",{children:"No vehicle rates configured"}),(0,Jn.jsx)("p",{children:"Add vehicle rates to start managing pricing for different truck types."})]})]})]})]})}const Us=e=>{let{filters:t,onChange:n}=e;const r=(e,r)=>{n(Ne(Ne({},t),{},{[e]:r}))};return(0,Jn.jsxs)("div",{className:"filter-form-grid",children:[(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Brand/Manufacturer"}),(0,Jn.jsx)("input",{type:"text",placeholder:"e.g., Isuzu, Hino, Fuso",value:t.brand||"",onChange:e=>r("brand",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Truck Type"}),(0,Jn.jsxs)("select",{value:t.truckType||"",onChange:e=>r("truckType",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Types"}),(0,Jn.jsx)("option",{value:"Dump Truck",children:"Dump Truck"}),(0,Jn.jsx)("option",{value:"Flatbed",children:"Flatbed"}),(0,Jn.jsx)("option",{value:"Cargo Truck",children:"Cargo Truck"}),(0,Jn.jsx)("option",{value:"Refrigerated",children:"Refrigerated"}),(0,Jn.jsx)("option",{value:"Tanker",children:"Tanker"}),(0,Jn.jsx)("option",{value:"Box Truck",children:"Box Truck"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Status"}),(0,Jn.jsxs)("select",{value:t.status||"",onChange:e=>r("status",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Status"}),(0,Jn.jsx)("option",{value:"available",children:"Available"}),(0,Jn.jsx)("option",{value:"in-use",children:"In Use"}),(0,Jn.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,Jn.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Plate Number"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by plate number",value:t.plateNumber||"",onChange:e=>r("plateNumber",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Manufacture Date From"}),(0,Jn.jsx)("input",{type:"date",value:t.manufactureDateFrom||"",onChange:e=>r("manufactureDateFrom",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Manufacture Date To"}),(0,Jn.jsx)("input",{type:"date",value:t.manufactureDateTo||"",onChange:e=>r("manufactureDateTo",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Min Capacity (tons)"}),(0,Jn.jsx)("input",{type:"number",placeholder:"0",value:t.minCapacity||"",onChange:e=>r("minCapacity",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Max Capacity (tons)"}),(0,Jn.jsx)("input",{type:"number",placeholder:"100",value:t.maxCapacity||"",onChange:e=>r("maxCapacity",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Min Kilometers"}),(0,Jn.jsx)("input",{type:"number",placeholder:"0",value:t.minKilometers||"",onChange:e=>r("minKilometers",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Max Kilometers"}),(0,Jn.jsx)("input",{type:"number",placeholder:"1000000",value:t.maxKilometers||"",onChange:e=>r("maxKilometers",e.target.value)})]})]})},qs=e=>{let{filters:t,onChange:n}=e;const r=(e,r)=>{n(Ne(Ne({},t),{},{[e]:r}))};return(0,Jn.jsxs)("div",{className:"filter-form-grid",children:[(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Driver Name"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by name",value:t.name||"",onChange:e=>r("name",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Status"}),(0,Jn.jsxs)("select",{value:t.status||"",onChange:e=>r("status",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Status"}),(0,Jn.jsx)("option",{value:"active",children:"Active"}),(0,Jn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Jn.jsx)("option",{value:"on-leave",children:"On Leave"}),(0,Jn.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Assignment Status"}),(0,Jn.jsxs)("select",{value:t.assignmentStatus||"",onChange:e=>r("assignmentStatus",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All"}),(0,Jn.jsx)("option",{value:"assigned",children:"Assigned"}),(0,Jn.jsx)("option",{value:"unassigned",children:"Unassigned"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"License Type"}),(0,Jn.jsxs)("select",{value:t.licenseType||"",onChange:e=>r("licenseType",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Types"}),(0,Jn.jsx)("option",{value:"Professional",children:"Professional"}),(0,Jn.jsx)("option",{value:"Non-Professional",children:"Non-Professional"}),(0,Jn.jsx)("option",{value:"Restriction Code 1",children:"Restriction Code 1"}),(0,Jn.jsx)("option",{value:"Restriction Code 2",children:"Restriction Code 2"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"License Expiry From"}),(0,Jn.jsx)("input",{type:"date",value:t.licenseExpiryFrom||"",onChange:e=>r("licenseExpiryFrom",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"License Expiry To"}),(0,Jn.jsx)("input",{type:"date",value:t.licenseExpiryTo||"",onChange:e=>r("licenseExpiryTo",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Medical Certificate Status"}),(0,Jn.jsxs)("select",{value:t.medicalStatus||"",onChange:e=>r("medicalStatus",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All"}),(0,Jn.jsx)("option",{value:"valid",children:"Valid"}),(0,Jn.jsx)("option",{value:"expiring-soon",children:"Expiring Soon (30 days)"}),(0,Jn.jsx)("option",{value:"expired",children:"Expired"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Employment Date From"}),(0,Jn.jsx)("input",{type:"date",value:t.employmentDateFrom||"",onChange:e=>r("employmentDateFrom",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Employment Date To"}),(0,Jn.jsx)("input",{type:"date",value:t.employmentDateTo||"",onChange:e=>r("employmentDateTo",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Contact Number"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by contact",value:t.contact||"",onChange:e=>r("contact",e.target.value)})]})]})},Ws=e=>{let{filters:t,onChange:n}=e;const r=(e,r)=>{n(Ne(Ne({},t),{},{[e]:r}))};return(0,Jn.jsxs)("div",{className:"filter-form-grid",children:[(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Helper Name"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by name",value:t.name||"",onChange:e=>r("name",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Status"}),(0,Jn.jsxs)("select",{value:t.status||"",onChange:e=>r("status",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Status"}),(0,Jn.jsx)("option",{value:"active",children:"Active"}),(0,Jn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Jn.jsx)("option",{value:"on-leave",children:"On Leave"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Assignment Status"}),(0,Jn.jsxs)("select",{value:t.assignmentStatus||"",onChange:e=>r("assignmentStatus",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All"}),(0,Jn.jsx)("option",{value:"assigned",children:"Assigned"}),(0,Jn.jsx)("option",{value:"unassigned",children:"Unassigned"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"ID Type"}),(0,Jn.jsxs)("select",{value:t.idType||"",onChange:e=>r("idType",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Types"}),(0,Jn.jsx)("option",{value:"National ID",children:"National ID"}),(0,Jn.jsx)("option",{value:"Voter's ID",children:"Voter's ID"}),(0,Jn.jsx)("option",{value:"Passport",children:"Passport"}),(0,Jn.jsx)("option",{value:"Driver's License",children:"Driver's License"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"ID Expiry From"}),(0,Jn.jsx)("input",{type:"date",value:t.idExpiryFrom||"",onChange:e=>r("idExpiryFrom",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"ID Expiry To"}),(0,Jn.jsx)("input",{type:"date",value:t.idExpiryTo||"",onChange:e=>r("idExpiryTo",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Join Date From"}),(0,Jn.jsx)("input",{type:"date",value:t.joinDateFrom||"",onChange:e=>r("joinDateFrom",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Join Date To"}),(0,Jn.jsx)("input",{type:"date",value:t.joinDateTo||"",onChange:e=>r("joinDateTo",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Contact Number"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by contact",value:t.contact||"",onChange:e=>r("contact",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Age Range"}),(0,Jn.jsxs)("div",{className:"age-range",children:[(0,Jn.jsx)("input",{type:"number",placeholder:"Min",value:t.minAge||"",onChange:e=>r("minAge",e.target.value),style:{width:"48%"}}),(0,Jn.jsx)("input",{type:"number",placeholder:"Max",value:t.maxAge||"",onChange:e=>r("maxAge",e.target.value),style:{width:"48%"}})]})]})]})},Hs=e=>{let{filters:t,onChange:n}=e;const r=(e,r)=>{n(Ne(Ne({},t),{},{[e]:r}))};return(0,Jn.jsxs)("div",{className:"filter-form-grid",children:[(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Delivery Status"}),(0,Jn.jsxs)("select",{value:t.status||"",onChange:e=>r("status",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Status"}),(0,Jn.jsx)("option",{value:"pending",children:"Pending"}),(0,Jn.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,Jn.jsx)("option",{value:"completed",children:"Completed"}),(0,Jn.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Client Name"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by client",value:t.clientName||"",onChange:e=>r("clientName",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Truck Plate Number"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by truck",value:t.truckPlate||"",onChange:e=>r("truckPlate",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Driver Name"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by driver",value:t.driverName||"",onChange:e=>r("driverName",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Delivery Date From"}),(0,Jn.jsx)("input",{type:"date",value:t.deliveryDateFrom||"",onChange:e=>r("deliveryDateFrom",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Delivery Date To"}),(0,Jn.jsx)("input",{type:"date",value:t.deliveryDateTo||"",onChange:e=>r("deliveryDateTo",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Min Amount (\u20b1)"}),(0,Jn.jsx)("input",{type:"number",placeholder:"0",value:t.minAmount||"",onChange:e=>r("minAmount",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Max Amount (\u20b1)"}),(0,Jn.jsx)("input",{type:"number",placeholder:"100000",value:t.maxAmount||"",onChange:e=>r("maxAmount",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Min Distance (km)"}),(0,Jn.jsx)("input",{type:"number",placeholder:"0",value:t.minDistance||"",onChange:e=>r("minDistance",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Max Distance (km)"}),(0,Jn.jsx)("input",{type:"number",placeholder:"1000",value:t.maxDistance||"",onChange:e=>r("maxDistance",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Pickup Location"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by pickup location",value:t.pickupLocation||"",onChange:e=>r("pickupLocation",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Delivery Address"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by delivery address",value:t.deliveryAddress||"",onChange:e=>r("deliveryAddress",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Payment Status"}),(0,Jn.jsxs)("select",{value:t.paymentStatus||"",onChange:e=>r("paymentStatus",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All"}),(0,Jn.jsx)("option",{value:"paid",children:"Paid"}),(0,Jn.jsx)("option",{value:"pending",children:"Pending"}),(0,Jn.jsx)("option",{value:"partial",children:"Partial"}),(0,Jn.jsx)("option",{value:"overdue",children:"Overdue"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Cargo Weight (tons)"}),(0,Jn.jsxs)("div",{className:"range-inputs",children:[(0,Jn.jsx)("input",{type:"number",placeholder:"Min",value:t.minWeight||"",onChange:e=>r("minWeight",e.target.value),style:{width:"48%"}}),(0,Jn.jsx)("input",{type:"number",placeholder:"Max",value:t.maxWeight||"",onChange:e=>r("maxWeight",e.target.value),style:{width:"48%"}})]})]})]})},Vs=e=>{let{filters:t,onChange:n}=e;const r=(e,r)=>{n(Ne(Ne({},t),{},{[e]:r}))};return(0,Jn.jsxs)("div",{className:"filter-form-grid",children:[(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Client Name"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by name",value:t.name||"",onChange:e=>r("name",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Status"}),(0,Jn.jsxs)("select",{value:t.status||"",onChange:e=>r("status",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Status"}),(0,Jn.jsx)("option",{value:"active",children:"Active"}),(0,Jn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Jn.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Business Type"}),(0,Jn.jsxs)("select",{value:t.businessType||"",onChange:e=>r("businessType",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Types"}),(0,Jn.jsx)("option",{value:"Construction",children:"Construction"}),(0,Jn.jsx)("option",{value:"Manufacturing",children:"Manufacturing"}),(0,Jn.jsx)("option",{value:"Agriculture",children:"Agriculture"}),(0,Jn.jsx)("option",{value:"Retail",children:"Retail"}),(0,Jn.jsx)("option",{value:"Wholesale",children:"Wholesale"}),(0,Jn.jsx)("option",{value:"Logistics",children:"Logistics"}),(0,Jn.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Company Name"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by company",value:t.companyName||"",onChange:e=>r("companyName",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Registration Date From"}),(0,Jn.jsx)("input",{type:"date",value:t.registrationDateFrom||"",onChange:e=>r("registrationDateFrom",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Registration Date To"}),(0,Jn.jsx)("input",{type:"date",value:t.registrationDateTo||"",onChange:e=>r("registrationDateTo",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Min Total Deliveries"}),(0,Jn.jsx)("input",{type:"number",placeholder:"0",value:t.minDeliveries||"",onChange:e=>r("minDeliveries",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Max Total Deliveries"}),(0,Jn.jsx)("input",{type:"number",placeholder:"1000",value:t.maxDeliveries||"",onChange:e=>r("maxDeliveries",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Email"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by email",value:t.email||"",onChange:e=>r("email",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Contact Number"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by contact",value:t.contact||"",onChange:e=>r("contact",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"City/Municipality"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by location",value:t.city||"",onChange:e=>r("city",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Credit Status"}),(0,Jn.jsxs)("select",{value:t.creditStatus||"",onChange:e=>r("creditStatus",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All"}),(0,Jn.jsx)("option",{value:"good",children:"Good Standing"}),(0,Jn.jsx)("option",{value:"warning",children:"Warning"}),(0,Jn.jsx)("option",{value:"blocked",children:"Blocked"})]})]})]})},Gs=e=>{let{filters:t,onChange:n}=e;const r=(e,r)=>{n(Ne(Ne({},t),{},{[e]:r}))};return(0,Jn.jsxs)("div",{className:"filter-form-grid",children:[(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Staff Name"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by name",value:t.name||"",onChange:e=>r("name",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Status"}),(0,Jn.jsxs)("select",{value:t.status||"",onChange:e=>r("status",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Status"}),(0,Jn.jsx)("option",{value:"active",children:"Active"}),(0,Jn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Jn.jsx)("option",{value:"on-leave",children:"On Leave"}),(0,Jn.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Role/Position"}),(0,Jn.jsxs)("select",{value:t.role||"",onChange:e=>r("role",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Roles"}),(0,Jn.jsx)("option",{value:"Admin",children:"Admin"}),(0,Jn.jsx)("option",{value:"Operator",children:"Operator"}),(0,Jn.jsx)("option",{value:"Dispatcher",children:"Dispatcher"}),(0,Jn.jsx)("option",{value:"Accountant",children:"Accountant"}),(0,Jn.jsx)("option",{value:"HR",children:"HR"}),(0,Jn.jsx)("option",{value:"Maintenance",children:"Maintenance"}),(0,Jn.jsx)("option",{value:"Manager",children:"Manager"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Department"}),(0,Jn.jsxs)("select",{value:t.department||"",onChange:e=>r("department",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Departments"}),(0,Jn.jsx)("option",{value:"Operations",children:"Operations"}),(0,Jn.jsx)("option",{value:"Finance",children:"Finance"}),(0,Jn.jsx)("option",{value:"HR",children:"Human Resources"}),(0,Jn.jsx)("option",{value:"Logistics",children:"Logistics"}),(0,Jn.jsx)("option",{value:"Maintenance",children:"Maintenance"}),(0,Jn.jsx)("option",{value:"IT",children:"IT"}),(0,Jn.jsx)("option",{value:"Administration",children:"Administration"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Join Date From"}),(0,Jn.jsx)("input",{type:"date",value:t.joinDateFrom||"",onChange:e=>r("joinDateFrom",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Join Date To"}),(0,Jn.jsx)("input",{type:"date",value:t.joinDateTo||"",onChange:e=>r("joinDateTo",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Employment Type"}),(0,Jn.jsxs)("select",{value:t.employmentType||"",onChange:e=>r("employmentType",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Types"}),(0,Jn.jsx)("option",{value:"Full-time",children:"Full-time"}),(0,Jn.jsx)("option",{value:"Part-time",children:"Part-time"}),(0,Jn.jsx)("option",{value:"Contract",children:"Contract"}),(0,Jn.jsx)("option",{value:"Probationary",children:"Probationary"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Email"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by email",value:t.email||"",onChange:e=>r("email",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Contact Number"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by contact",value:t.contact||"",onChange:e=>r("contact",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Salary Range (\u20b1)"}),(0,Jn.jsxs)("div",{className:"range-inputs",children:[(0,Jn.jsx)("input",{type:"number",placeholder:"Min",value:t.minSalary||"",onChange:e=>r("minSalary",e.target.value),style:{width:"48%"}}),(0,Jn.jsx)("input",{type:"number",placeholder:"Max",value:t.maxSalary||"",onChange:e=>r("maxSalary",e.target.value),style:{width:"48%"}})]})]})]})},Ks=e=>{let{filters:t,onChange:n}=e;const r=(e,r)=>{n(Ne(Ne({},t),{},{[e]:r}))};return(0,Jn.jsxs)("div",{className:"filter-form-grid",children:[(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Payment Status"}),(0,Jn.jsxs)("select",{value:t.status||"",onChange:e=>r("status",e.target.value),children:[(0,Jn.jsx)("option",{value:"",children:"All Status"}),(0,Jn.jsx)("option",{value:"paid",children:"Paid"}),(0,Jn.jsx)("option",{value:"pending",children:"Pending"}),(0,Jn.jsx)("option",{value:"overdue",children:"Overdue"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Client Name"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by client name",value:t.name||"",onChange:e=>r("name",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Delivery Date From"}),(0,Jn.jsx)("input",{type:"date",value:t.dateFrom||"",onChange:e=>r("dateFrom",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Delivery Date To"}),(0,Jn.jsx)("input",{type:"date",value:t.dateTo||"",onChange:e=>r("dateTo",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Min Amount (\u20b1)"}),(0,Jn.jsx)("input",{type:"number",placeholder:"0",value:t.minAmount||"",onChange:e=>r("minAmount",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Max Amount (\u20b1)"}),(0,Jn.jsx)("input",{type:"number",placeholder:"100000",value:t.maxAmount||"",onChange:e=>r("maxAmount",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Due Date From"}),(0,Jn.jsx)("input",{type:"date",value:t.dueDateFrom||"",onChange:e=>r("dueDateFrom",e.target.value)})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{children:"Due Date To"}),(0,Jn.jsx)("input",{type:"date",value:t.dueDateTo||"",onChange:e=>r("dueDateTo",e.target.value)})]})]})};var Ys=n(2284),$s=Uint8Array,Js=Uint16Array,Xs=Int32Array,Qs=new $s([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zs=new $s([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ei=new $s([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ti=function(e,t){for(var n=new Js(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new Xs(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)a[s]=s-n[r]<<5|r;return{b:n,r:a}},ni=ti(Qs,2),ri=ni.b,ai=ni.r;ri[28]=258,ai[258]=28;for(var si=ti(Zs,0),ii=(si.b,si.r),oi=new Js(32768),li=0;li<32768;++li){var ci=(43690&li)>>1|(21845&li)<<1;ci=(61680&(ci=(52428&ci)>>2|(13107&ci)<<2))>>4|(3855&ci)<<4,oi[li]=((65280&ci)>>8|(255&ci)<<8)>>1}var di=function(e,t,n){for(var r=e.length,a=0,s=new Js(t);a<r;++a)e[a]&&++s[e[a]-1];var i,o=new Js(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;if(n){i=new Js(1<<t);var l=15-t;for(a=0;a<r;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],u=o[e[a]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)i[oi[u]>>l]=c}else for(i=new Js(r),a=0;a<r;++a)e[a]&&(i[a]=oi[o[e[a]-1]++]>>15-e[a]);return i},ui=new $s(288);for(li=0;li<144;++li)ui[li]=8;for(li=144;li<256;++li)ui[li]=9;for(li=256;li<280;++li)ui[li]=7;for(li=280;li<288;++li)ui[li]=8;var hi=new $s(32);for(li=0;li<32;++li)hi[li]=5;var pi=di(ui,9,0),mi=di(hi,5,0),fi=function(e){return(e+7)/8|0},gi=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new $s(e.subarray(t,n))},xi=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},vi=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},bi=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,s=n.slice();if(!a)return{t:Ci,l:0};if(1==a){var i=new $s(n[0].s+1);return i[n[0].s]=1,{t:i,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,d=1,u=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=n[n[c].f<n[u].f?c++:u++],l=n[c!=d&&n[c].f<n[u].f?c++:u++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};var h=s[0].s;for(r=1;r<a;++r)s[r].s>h&&(h=s[r].s);var p=new Js(h+1),m=yi(n[d-1],p,0);if(m>t){r=0;var f=0,g=m-t,x=1<<g;for(s.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<a;++r){var v=s[r].s;if(!(p[v]>t))break;f+=x-(1<<m-p[v]),p[v]=t}for(f>>=g;f>0;){var b=s[r].s;p[b]<t?f-=1<<t-p[b]++-1:++r}for(;r>=0&&f;--r){var y=s[r].s;p[y]==t&&(--p[y],++f)}m=t}return{t:new $s(p),l:m}},yi=function(e,t,n){return-1==e.s?Math.max(yi(e.l,t,n+1),yi(e.r,t,n+1)):t[e.s]=n},wi=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Js(++t),r=0,a=e[0],s=1,i=function(e){n[r++]=e},o=1;o<=t;++o)if(e[o]==a&&o!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[o]}return{c:n.subarray(0,r),n:t}},ji=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Ni=function(e,t,n){var r=n.length,a=fi(t+2);e[a]=255&r,e[a+1]=r>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var s=0;s<r;++s)e[a+s+4]=n[s];return 8*(a+4+r)},ki=function(e,t,n,r,a,s,i,o,l,c,d){xi(t,d++,n),++a[256];for(var u=bi(a,15),h=u.t,p=u.l,m=bi(s,15),f=m.t,g=m.l,x=wi(h),v=x.c,b=x.n,y=wi(f),w=y.c,j=y.n,N=new Js(19),k=0;k<v.length;++k)++N[31&v[k]];for(k=0;k<w.length;++k)++N[31&w[k]];for(var S=bi(N,7),C=S.t,_=S.l,P=19;P>4&&!C[ei[P-1]];--P);var A,D,T,L,E=c+5<<3,I=ji(a,ui)+ji(s,hi)+i,R=ji(a,h)+ji(s,f)+i+14+3*P+ji(N,C)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&E<=I&&E<=R)return Ni(t,d,e.subarray(l,l+c));if(xi(t,d,1+(R<I)),d+=2,R<I){A=di(h,p,0),D=h,T=di(f,g,0),L=f;var M=di(C,_,0);xi(t,d,b-257),xi(t,d+5,j-1),xi(t,d+10,P-4),d+=14;for(k=0;k<P;++k)xi(t,d+3*k,C[ei[k]]);d+=3*P;for(var F=[v,w],O=0;O<2;++O){var z=F[O];for(k=0;k<z.length;++k){var B=31&z[k];xi(t,d,M[B]),d+=C[B],B>15&&(xi(t,d,z[k]>>5&127),d+=z[k]>>12)}}}else A=pi,D=ui,T=mi,L=hi;for(k=0;k<o;++k){var U=r[k];if(U>255){vi(t,d,A[(B=U>>18&31)+257]),d+=D[B+257],B>7&&(xi(t,d,U>>23&31),d+=Qs[B]);var q=31&U;vi(t,d,T[q]),d+=L[q],q>3&&(vi(t,d,U>>5&8191),d+=Zs[q])}else vi(t,d,A[U]),d+=D[U]}return vi(t,d,A[256]),d+D[256]},Si=new Xs([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ci=new $s(0),_i=function(e,t,n,r,a,s){var i=s.z||e.length,o=new $s(r+i+5*(1+Math.ceil(i/7e3))+a),l=o.subarray(r,o.length-a),c=s.l,d=7&(s.r||0);if(t){d&&(l[0]=s.r>>3);for(var u=Si[t-1],h=u>>13,p=8191&u,m=(1<<n)-1,f=s.p||new Js(32768),g=s.h||new Js(m+1),x=Math.ceil(n/3),v=2*x,b=function(t){return(e[t]^e[t+1]<<x^e[t+2]<<v)&m},y=new Xs(25e3),w=new Js(288),j=new Js(32),N=0,k=0,S=s.i||0,C=0,_=s.w||0,P=0;S+2<i;++S){var A=b(S),D=32767&S,T=g[A];if(f[D]=T,g[A]=D,_<=S){var L=i-S;if((N>7e3||C>24576)&&(L>423||!c)){d=ki(e,l,0,y,w,j,k,C,P,S-P,d),C=N=k=0,P=S;for(var E=0;E<286;++E)w[E]=0;for(E=0;E<30;++E)j[E]=0}var I=2,R=0,M=p,F=D-T&32767;if(L>2&&A==b(S-F))for(var O=Math.min(h,L)-1,z=Math.min(32767,S),B=Math.min(258,L);F<=z&&--M&&D!=T;){if(e[S+I]==e[S+I-F]){for(var U=0;U<B&&e[S+U]==e[S+U-F];++U);if(U>I){if(I=U,R=F,U>O)break;var q=Math.min(F,U-2),W=0;for(E=0;E<q;++E){var H=S-F+E&32767,V=H-f[H]&32767;V>W&&(W=V,T=H)}}}F+=(D=T)-(T=f[D])&32767}if(R){y[C++]=268435456|ai[I]<<18|ii[R];var G=31&ai[I],K=31&ii[R];k+=Qs[G]+Zs[K],++w[257+G],++j[K],_=S+I,++N}else y[C++]=e[S],++w[e[S]]}}for(S=Math.max(S,_);S<i;++S)y[C++]=e[S],++w[e[S]];d=ki(e,l,c,y,w,j,k,C,P,S-P,d),c||(s.r=7&d|l[d/8|0]<<3,d-=7,s.h=g,s.p=f,s.i=S,s.w=_)}else{for(S=s.w||0;S<i+c;S+=65535){var Y=S+65535;Y>=i&&(l[d/8|0]=c,Y=i),d=Ni(l,d+1,e.subarray(S,Y))}s.i=i}return gi(o,0,r+fi(d)+a)},Pi=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,s=0|n.length,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=r+=n[i];r=(65535&r)+15*(r>>16),a=(65535&a)+15*(a>>16)}e=r,t=a},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Ai=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),i=new $s(s.length+e.length);i.set(s),i.set(e,s.length),e=i,a.w=s.length}return _i(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,a)},Di=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Ti=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Pi();a.p(t.dictionary),Di(e,2,a.d())}};function Li(e,t){t||(t={});var n=Pi();n.p(e);var r=Ai(e,t,t.dictionary?6:2,4);return Ti(r,t),Di(r,r.length-4,n.d()),r}var Ei="undefined"!=typeof TextDecoder&&new TextDecoder;try{Ei.decode(Ci,{stream:!0})}catch(Oq){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ii(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ii(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const Fi=new TextEncoder;const Oi=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),zi={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Bi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,we.A)(this,"buffer",void 0),(0,we.A)(this,"byteLength",void 0),(0,we.A)(this,"byteOffset",void 0),(0,we.A)(this,"length",void 0),(0,we.A)(this,"offset",void 0),(0,we.A)(this,"lastWrittenByte",void 0),(0,we.A)(this,"littleEndian",void 0),(0,we.A)(this,"_data",void 0),(0,we.A)(this,"_mark",void 0),(0,we.A)(this,"_marks",void 0);let n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,a=e.byteLength-r;let s=r;(ArrayBuffer.isView(e)||e instanceof Bi)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+r),e=e.buffer),this.lastWrittenByte=n?a:0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const n=zi[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+n);if(this.littleEndian===Oi&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const a=new zi[t](e.buffer);return this.offset+=n,a.reverse(),a}const s=new zi[t](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Mi(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return Mi(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return Fi.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ui(e){let t=e.length;for(;--t>=0;)e[t]=0}const qi=256,Wi=286,Hi=30,Vi=15,Gi=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ki=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Yi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),$i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ji=new Array(576);Ui(Ji);const Xi=new Array(60);Ui(Xi);const Qi=new Array(512);Ui(Qi);const Zi=new Array(256);Ui(Zi);const eo=new Array(29);Ui(eo);const to=new Array(Hi);function no(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}let ro,ao,so;function io(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Ui(to);const oo=e=>e<256?Qi[e]:Qi[256+(e>>>7)],lo=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},co=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,lo(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},uo=(e,t,n)=>{co(e,n[2*t],n[2*t+1])},ho=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},po=(e,t,n)=>{const r=new Array(16);let a,s,i=0;for(a=1;a<=Vi;a++)i=i+n[a-1]<<1,r[a]=i;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=ho(r[t]++,t))}},mo=e=>{let t;for(t=0;t<Wi;t++)e.dyn_ltree[2*t]=0;for(t=0;t<Hi;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},fo=e=>{e.bi_valid>8?lo(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},go=(e,t,n,r)=>{const a=2*t,s=2*n;return e[a]<e[s]||e[a]===e[s]&&r[t]<=r[n]},xo=(e,t,n)=>{const r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&go(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!go(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},vo=(e,t,n)=>{let r,a,s,i,o=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+o++],r+=(255&e.pending_buf[e.sym_buf+o++])<<8,a=e.pending_buf[e.sym_buf+o++],0===r?uo(e,a,t):(s=Zi[a],uo(e,s+qi+1,t),i=Gi[s],0!==i&&(a-=eo[s],co(e,a,i)),r--,s=oo(r),uo(e,s,n),i=Ki[s],0!==i&&(r-=to[s],co(e,r,i)))}while(o<e.sym_next);uo(e,256,t)},bo=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.elems;let i,o,l,c=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<s;i++)0!==n[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):n[2*i+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=r[2*l+1]);for(t.max_code=c,i=e.heap_len>>1;i>=1;i--)xo(e,n,i);l=s;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],xo(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=o,n[2*l]=n[2*i]+n[2*o],e.depth[l]=(e.depth[i]>=e.depth[o]?e.depth[i]:e.depth[o])+1,n[2*i+1]=n[2*o+1]=l,e.heap[1]=l++,xo(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,u,h,p,m,f=0;for(h=0;h<=Vi;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)d=e.heap[c],h=n[2*n[2*d+1]+1]+1,h>l&&(h=l,f++),n[2*d+1]=h,d>r||(e.bl_count[h]++,p=0,d>=o&&(p=i[d-o]),m=n[2*d],e.opt_len+=m*(h+p),s&&(e.static_len+=m*(a[2*d+1]+p)));if(0!==f){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,f-=2}while(f>0);for(h=l;0!==h;h--)for(d=e.bl_count[h];0!==d;)u=e.heap[--c],u>r||(n[2*u+1]!==h&&(e.opt_len+=(h-n[2*u+1])*n[2*u],n[2*u+1]=h),d--)}})(e,t),po(n,c,e.bl_count)},yo=(e,t,n)=>{let r,a,s=-1,i=t[1],o=0,l=7,c=4;for(0===i&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=i,i=t[2*(r+1)+1],++o<l&&a===i||(o<c?e.bl_tree[2*a]+=o:0!==a?(a!==s&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=a,0===i?(l=138,c=3):a===i?(l=6,c=3):(l=7,c=4))},wo=(e,t,n)=>{let r,a,s=-1,i=t[1],o=0,l=7,c=4;for(0===i&&(l=138,c=3),r=0;r<=n;r++)if(a=i,i=t[2*(r+1)+1],!(++o<l&&a===i)){if(o<c)do{uo(e,a,e.bl_tree)}while(0!==--o);else 0!==a?(a!==s&&(uo(e,a,e.bl_tree),o--),uo(e,16,e.bl_tree),co(e,o-3,2)):o<=10?(uo(e,17,e.bl_tree),co(e,o-3,3)):(uo(e,18,e.bl_tree),co(e,o-11,7));o=0,s=a,0===i?(l=138,c=3):a===i?(l=6,c=3):(l=7,c=4)}};let jo=!1;const No=(e,t,n,r)=>{co(e,0+(r?1:0),3),fo(e),lo(e,n),lo(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var ko=e=>{jo||((()=>{let e,t,n,r,a;const s=new Array(16);for(n=0,r=0;r<28;r++)for(eo[r]=n,e=0;e<1<<Gi[r];e++)Zi[n++]=r;for(Zi[n-1]=r,a=0,r=0;r<16;r++)for(to[r]=a,e=0;e<1<<Ki[r];e++)Qi[a++]=r;for(a>>=7;r<Hi;r++)for(to[r]=a<<7,e=0;e<1<<Ki[r]-7;e++)Qi[256+a++]=r;for(t=0;t<=Vi;t++)s[t]=0;for(e=0;e<=143;)Ji[2*e+1]=8,e++,s[8]++;for(;e<=255;)Ji[2*e+1]=9,e++,s[9]++;for(;e<=279;)Ji[2*e+1]=7,e++,s[7]++;for(;e<=287;)Ji[2*e+1]=8,e++,s[8]++;for(po(Ji,287,s),e=0;e<Hi;e++)Xi[2*e+1]=5,Xi[2*e]=ho(e,5);ro=new no(Ji,Gi,257,Wi,Vi),ao=new no(Xi,Ki,0,Hi,Vi),so=new no(new Array(0),Yi,0,19,7)})(),jo=!0),e.l_desc=new io(e.dyn_ltree,ro),e.d_desc=new io(e.dyn_dtree,ao),e.bl_desc=new io(e.bl_tree,so),e.bi_buf=0,e.bi_valid=0,mo(e)},So=(e,t,n,r)=>{let a,s,i=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<qi;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),bo(e,e.l_desc),bo(e,e.d_desc),i=(e=>{let t;for(yo(e,e.dyn_ltree,e.l_desc.max_code),yo(e,e.dyn_dtree,e.d_desc.max_code),bo(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*$i[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?No(e,t,n,r):4===e.strategy||s===a?(co(e,2+(r?1:0),3),vo(e,Ji,Xi)):(co(e,4+(r?1:0),3),((e,t,n,r)=>{let a;for(co(e,t-257,5),co(e,n-1,5),co(e,r-4,4),a=0;a<r;a++)co(e,e.bl_tree[2*$i[a]+1],3);wo(e,e.dyn_ltree,t-1),wo(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,i+1),vo(e,e.dyn_ltree,e.dyn_dtree)),mo(e),r&&fo(e)},Co=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(Zi[n]+qi+1)]++,e.dyn_dtree[2*oo(t)]++),e.sym_next===e.sym_end),_o=e=>{co(e,2,3),uo(e,256,Ji),(e=>{16===e.bi_valid?(lo(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},Po={_tr_init:ko,_tr_stored_block:No,_tr_flush_block:So,_tr_tally:Co,_tr_align:_o};var Ao=(e,t,n,r)=>{let a=65535&e,s=e>>>16&65535,i=0;for(;0!==n;){i=n>2e3?2e3:n,n-=i;do{a=a+t[r++]|0,s=s+a|0}while(--i);a%=65521,s%=65521}return a|s<<16};const Do=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var To=(e,t,n,r)=>{const a=Do,s=r+n;e^=-1;for(let i=r;i<s;i++)e=e>>>8^a[255&(e^t[i])];return-1^e},Lo={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Eo={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Io,_tr_stored_block:Ro,_tr_flush_block:Mo,_tr_tally:Fo,_tr_align:Oo}=Po,{Z_NO_FLUSH:zo,Z_PARTIAL_FLUSH:Bo,Z_FULL_FLUSH:Uo,Z_FINISH:qo,Z_BLOCK:Wo,Z_OK:Ho,Z_STREAM_END:Vo,Z_STREAM_ERROR:Go,Z_DATA_ERROR:Ko,Z_BUF_ERROR:Yo,Z_DEFAULT_COMPRESSION:$o,Z_FILTERED:Jo,Z_HUFFMAN_ONLY:Xo,Z_RLE:Qo,Z_FIXED:Zo,Z_DEFAULT_STRATEGY:el,Z_UNKNOWN:tl,Z_DEFLATED:nl}=Eo,rl=258,al=262,sl=42,il=113,ol=666,ll=(e,t)=>(e.msg=Lo[t],t),cl=e=>2*e-(e>4?9:0),dl=e=>{let t=e.length;for(;--t>=0;)e[t]=0},ul=e=>{let t,n,r,a=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=a?n-a:0}while(--t);t=a,r=t;do{n=e.prev[--r],e.prev[r]=n>=a?n-a:0}while(--t)};let hl=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const pl=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},ml=(e,t)=>{Mo(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,pl(e.strm)},fl=(e,t)=>{e.pending_buf[e.pending++]=t},gl=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},xl=(e,t,n,r)=>{let a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=Ao(e.adler,t,a,n):2===e.state.wrap&&(e.adler=To(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},vl=(e,t)=>{let n,r,a=e.max_chain_length,s=e.strstart,i=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-al?e.strstart-(e.w_size-al):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+rl;let p=c[s+i-1],m=c[s+i];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,c[n+i]===m&&c[n+i-1]===p&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<h);if(r=rl-(h-s),s=h-rl,r>i){if(e.match_start=t,i=r,r>=o)break;p=c[s+i-1],m=c[s+i]}}}while((t=u[t&d])>l&&0!==--a);return i<=e.lookahead?i:e.lookahead},bl=e=>{const t=e.w_size;let n,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-al)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),ul(e),r+=t),0===e.strm.avail_in)break;if(n=xl(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=hl(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=hl(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<al&&0!==e.strm.avail_in)},yl=(e,t)=>{let n,r,a,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i=0,o=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>a&&(n=a),n<s&&(0===n&&t!==qo||t===zo||n!==r+e.strm.avail_in))break;i=t===qo&&n===r+e.strm.avail_in?1:0,Ro(e,0,0,i),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,pl(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(xl(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===i);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),i?4:t!==zo&&t!==qo&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(xl(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,s=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=s||(r||t===qo)&&t!==zo&&0===e.strm.avail_in&&r<=a)&&(n=r>a?a:r,i=t===qo&&0===e.strm.avail_in&&n===r?1:0,Ro(e,e.block_start,n,i),e.block_start+=n,pl(e.strm)),i?3:1)},wl=(e,t)=>{let n,r;for(;;){if(e.lookahead<al){if(bl(e),e.lookahead<al&&t===zo)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=hl(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-al&&(e.match_length=vl(e,n)),e.match_length>=3)if(r=Fo(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=hl(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=hl(e,e.ins_h,e.window[e.strstart+1]);else r=Fo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ml(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===qo?(ml(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ml(e,!1),0===e.strm.avail_out)?1:2},jl=(e,t)=>{let n,r,a;for(;;){if(e.lookahead<al){if(bl(e),e.lookahead<al&&t===zo)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=hl(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-al&&(e.match_length=vl(e,n),e.match_length<=5&&(e.strategy===Jo||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=Fo(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=hl(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(ml(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=Fo(e,0,e.window[e.strstart-1]),r&&ml(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Fo(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===qo?(ml(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ml(e,!1),0===e.strm.avail_out)?1:2};function Nl(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const kl=[new Nl(0,0,0,0,yl),new Nl(4,4,8,4,wl),new Nl(4,5,16,8,wl),new Nl(4,6,32,32,wl),new Nl(4,4,16,16,jl),new Nl(8,16,32,32,jl),new Nl(8,16,128,128,jl),new Nl(8,32,128,256,jl),new Nl(32,128,258,1024,jl),new Nl(32,258,258,4096,jl)];function Sl(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=nl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),dl(this.dyn_ltree),dl(this.dyn_dtree),dl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),dl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),dl(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Cl=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==sl&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==il&&t.status!==ol?1:0},_l=e=>{if(Cl(e))return ll(e,Go);e.total_in=e.total_out=0,e.data_type=tl;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?sl:il,e.adler=2===t.wrap?0:1,t.last_flush=-2,Io(t),Ho},Pl=e=>{const t=_l(e);return t===Ho&&(e=>{e.window_size=2*e.w_size,dl(e.head),e.max_lazy_match=kl[e.level].max_lazy,e.good_match=kl[e.level].good_length,e.nice_match=kl[e.level].nice_length,e.max_chain_length=kl[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},Al=(e,t,n,r,a,s)=>{if(!e)return Go;let i=1;if(t===$o&&(t=6),r<0?(i=0,r=-r):r>15&&(i=2,r-=16),a<1||a>9||n!==nl||r<8||r>15||t<0||t>9||s<0||s>Zo||8===r&&1!==i)return ll(e,Go);8===r&&(r=9);const o=new Sl;return e.state=o,o.strm=e,o.status=sl,o.wrap=i,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=s,o.method=n,Pl(e)};var Dl=(e,t)=>{if(Cl(e)||t>Wo||t<0)return e?ll(e,Go):Go;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===ol&&t!==qo)return ll(e,0===e.avail_out?Yo:Go);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(pl(e),0===e.avail_out)return n.last_flush=-1,Ho}else if(0===e.avail_in&&cl(t)<=cl(r)&&t!==qo)return ll(e,Yo);if(n.status===ol&&0!==e.avail_in)return ll(e,Yo);if(n.status===sl&&0===n.wrap&&(n.status=il),n.status===sl){let t=nl+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=Xo||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,gl(n,t),0!==n.strstart&&(gl(n,e.adler>>>16),gl(n,65535&e.adler)),e.adler=1,n.status=il,pl(e),0!==n.pending)return n.last_flush=-1,Ho}if(57===n.status)if(e.adler=0,fl(n,31),fl(n,139),fl(n,8),n.gzhead)fl(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),fl(n,255&n.gzhead.time),fl(n,n.gzhead.time>>8&255),fl(n,n.gzhead.time>>16&255),fl(n,n.gzhead.time>>24&255),fl(n,9===n.level?2:n.strategy>=Xo||n.level<2?4:0),fl(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(fl(n,255&n.gzhead.extra.length),fl(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=To(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(fl(n,0),fl(n,0),fl(n,0),fl(n,0),fl(n,0),fl(n,9===n.level?2:n.strategy>=Xo||n.level<2?4:0),fl(n,3),n.status=il,pl(e),0!==n.pending)return n.last_flush=-1,Ho;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=To(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=a,pl(e),0!==n.pending)return n.last_flush=-1,Ho;t=0,r-=a}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=To(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=To(e.adler,n.pending_buf,n.pending-r,r)),pl(e),0!==n.pending)return n.last_flush=-1,Ho;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,fl(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=To(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=To(e.adler,n.pending_buf,n.pending-r,r)),pl(e),0!==n.pending)return n.last_flush=-1,Ho;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,fl(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=To(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(pl(e),0!==n.pending))return n.last_flush=-1,Ho;fl(n,255&e.adler),fl(n,e.adler>>8&255),e.adler=0}if(n.status=il,pl(e),0!==n.pending)return n.last_flush=-1,Ho}if(0!==e.avail_in||0!==n.lookahead||t!==zo&&n.status!==ol){let r=0===n.level?yl(n,t):n.strategy===Xo?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(bl(e),0===e.lookahead)){if(t===zo)return 1;break}if(e.match_length=0,n=Fo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ml(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===qo?(ml(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ml(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===Qo?((e,t)=>{let n,r,a,s;const i=e.window;for(;;){if(e.lookahead<=rl){if(bl(e),e.lookahead<=rl&&t===zo)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,r=i[a],r===i[++a]&&r===i[++a]&&r===i[++a])){s=e.strstart+rl;do{}while(r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&a<s);e.match_length=rl-(s-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Fo(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Fo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ml(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===qo?(ml(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ml(e,!1),0===e.strm.avail_out)?1:2})(n,t):kl[n.level].func(n,t);if(3!==r&&4!==r||(n.status=ol),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),Ho;if(2===r&&(t===Bo?Oo(n):t!==Wo&&(Ro(n,0,0,!1),t===Uo&&(dl(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),pl(e),0===e.avail_out))return n.last_flush=-1,Ho}return t!==qo?Ho:n.wrap<=0?Vo:(2===n.wrap?(fl(n,255&e.adler),fl(n,e.adler>>8&255),fl(n,e.adler>>16&255),fl(n,e.adler>>24&255),fl(n,255&e.total_in),fl(n,e.total_in>>8&255),fl(n,e.total_in>>16&255),fl(n,e.total_in>>24&255)):(gl(n,e.adler>>>16),gl(n,65535&e.adler)),pl(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Ho:Vo)},Tl=(e,t)=>{let n=t.length;if(Cl(e))return Go;const r=e.state,a=r.wrap;if(2===a||1===a&&r.status!==sl||r.lookahead)return Go;if(1===a&&(e.adler=Ao(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(dl(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const s=e.avail_in,i=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,bl(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=hl(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,bl(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=i,e.input=o,e.avail_in=s,r.wrap=a,Ho},Ll={deflateInit:(e,t)=>Al(e,t,nl,15,8,el),deflateInit2:Al,deflateReset:Pl,deflateResetKeep:_l,deflateSetHeader:(e,t)=>Cl(e)||2!==e.state.wrap?Go:(e.state.gzhead=t,Ho),deflate:Dl,deflateEnd:e=>{if(Cl(e))return Go;const t=e.state.status;return e.state=null,t===il?ll(e,Ko):Ho},deflateSetDictionary:Tl,deflateInfo:"pako deflate (from Nodeca project)"};const El=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Il=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)El(n,t)&&(e[t]=n[t])}}return e},Rl=e=>{let t=0;for(let r=0,a=e.length;r<a;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,a=0,s=e.length;r<s;r++){let t=e[r];n.set(t,a),a+=t.length}return n};let Ml=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(zq){Ml=!1}const Fl=new Uint8Array(256);for(let n=0;n<256;n++)Fl[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Fl[254]=Fl[254]=1;var Ol=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,a,s,i=e.length,o=0;for(a=0;a<i;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<i&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,a=0;s<o;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<i&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},zl=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,a;const s=new Array(2*n);for(a=0,r=0;r<n;){let t=e[r++];if(t<128){s[a++]=t;continue}let i=Fl[t];if(i>4)s[a++]=65533,r+=i-1;else{for(t&=2===i?31:3===i?15:7;i>1&&r<n;)t=t<<6|63&e[r++],i--;i>1?s[a++]=65533:t<65536?s[a++]=t:(t-=65536,s[a++]=55296|t>>10&1023,s[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Ml)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(s,a)},Bl=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+Fl[e[n]]>t?n:t};var Ul=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const ql=Object.prototype.toString,{Z_NO_FLUSH:Wl,Z_SYNC_FLUSH:Hl,Z_FULL_FLUSH:Vl,Z_FINISH:Gl,Z_OK:Kl,Z_STREAM_END:Yl,Z_DEFAULT_COMPRESSION:$l,Z_DEFAULT_STRATEGY:Jl,Z_DEFLATED:Xl}=Eo;function Ql(e){this.options=Il({level:$l,method:Xl,chunkSize:16384,windowBits:15,memLevel:8,strategy:Jl},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ul,this.strm.avail_out=0;let n=Ll.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Kl)throw new Error(Lo[n]);if(t.header&&Ll.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?Ol(t.dictionary):"[object ArrayBuffer]"===ql.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Ll.deflateSetDictionary(this.strm,e),n!==Kl)throw new Error(Lo[n]);this._dict_set=!0}}function Zl(e,t){const n=new Ql(t);if(n.push(e,!0),n.err)throw n.msg||Lo[n.err];return n.result}Ql.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let a,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Gl:Wl,"string"===typeof e?n.input=Ol(e):"[object ArrayBuffer]"===ql.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===Hl||s===Vl)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(a=Ll.deflate(n,s),a===Yl)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=Ll.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Kl;if(0!==n.avail_out){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Ql.prototype.onData=function(e){this.chunks.push(e)},Ql.prototype.onEnd=function(e){e===Kl&&(this.result=Rl(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ec={Deflate:Ql,deflate:Zl,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Zl(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Zl(e,t)},constants:Eo};const tc=16209;var nc=function(e,t){let n,r,a,s,i,o,l,c,d,u,h,p,m,f,g,x,v,b,y,w,j,N,k,S;const C=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),a=e.next_out,S=e.output,s=a-(t-e.avail_out),i=a+(e.avail_out-257),o=C.dmax,l=C.wsize,c=C.whave,d=C.wnext,u=C.window,h=C.hold,p=C.bits,m=C.lencode,f=C.distcode,g=(1<<C.lenbits)-1,x=(1<<C.distbits)-1;e:do{p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),v=m[h&g];t:for(;;){if(b=v>>>24,h>>>=b,p-=b,b=v>>>16&255,0===b)S[a++]=65535&v;else{if(!(16&b)){if(0===(64&b)){v=m[(65535&v)+(h&(1<<b)-1)];continue t}if(32&b){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=tc;break e}y=65535&v,b&=15,b&&(p<b&&(h+=k[n++]<<p,p+=8),y+=h&(1<<b)-1,h>>>=b,p-=b),p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),v=f[h&x];n:for(;;){if(b=v>>>24,h>>>=b,p-=b,b=v>>>16&255,!(16&b)){if(0===(64&b)){v=f[(65535&v)+(h&(1<<b)-1)];continue n}e.msg="invalid distance code",C.mode=tc;break e}if(w=65535&v,b&=15,p<b&&(h+=k[n++]<<p,p+=8,p<b&&(h+=k[n++]<<p,p+=8)),w+=h&(1<<b)-1,w>o){e.msg="invalid distance too far back",C.mode=tc;break e}if(h>>>=b,p-=b,b=a-s,w>b){if(b=w-b,b>c&&C.sane){e.msg="invalid distance too far back",C.mode=tc;break e}if(j=0,N=u,0===d){if(j+=l-b,b<y){y-=b;do{S[a++]=u[j++]}while(--b);j=a-w,N=S}}else if(d<b){if(j+=l+d-b,b-=d,b<y){y-=b;do{S[a++]=u[j++]}while(--b);if(j=0,d<y){b=d,y-=b;do{S[a++]=u[j++]}while(--b);j=a-w,N=S}}}else if(j+=d-b,b<y){y-=b;do{S[a++]=u[j++]}while(--b);j=a-w,N=S}for(;y>2;)S[a++]=N[j++],S[a++]=N[j++],S[a++]=N[j++],y-=3;y&&(S[a++]=N[j++],y>1&&(S[a++]=N[j++]))}else{j=a-w;do{S[a++]=S[j++],S[a++]=S[j++],S[a++]=S[j++],y-=3}while(y>2);y&&(S[a++]=S[j++],y>1&&(S[a++]=S[j++]))}break}}break}}while(n<r&&a<i);y=p>>3,n-=y,p-=y<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<i?i-a+257:257-(a-i),C.hold=h,C.bits=p};const rc=15,ac=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sc=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ic=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),oc=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var lc=(e,t,n,r,a,s,i,o)=>{const l=o.bits;let c,d,u,h,p,m,f=0,g=0,x=0,v=0,b=0,y=0,w=0,j=0,N=0,k=0,S=null;const C=new Uint16Array(16),_=new Uint16Array(16);let P,A,D,T=null;for(f=0;f<=rc;f++)C[f]=0;for(g=0;g<r;g++)C[t[n+g]]++;for(b=l,v=rc;v>=1&&0===C[v];v--);if(b>v&&(b=v),0===v)return a[s++]=20971520,a[s++]=20971520,o.bits=1,0;for(x=1;x<v&&0===C[x];x++);for(b<x&&(b=x),j=1,f=1;f<=rc;f++)if(j<<=1,j-=C[f],j<0)return-1;if(j>0&&(0===e||1!==v))return-1;for(_[1]=0,f=1;f<rc;f++)_[f+1]=_[f]+C[f];for(g=0;g<r;g++)0!==t[n+g]&&(i[_[t[n+g]]++]=g);if(0===e?(S=T=i,m=20):1===e?(S=ac,T=sc,m=257):(S=ic,T=oc,m=0),k=0,g=0,f=x,p=s,y=b,w=0,u=-1,N=1<<b,h=N-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){P=f-w,i[g]+1<m?(A=0,D=i[g]):i[g]>=m?(A=T[i[g]-m],D=S[i[g]-m]):(A=96,D=0),c=1<<f-w,d=1<<y,x=d;do{d-=c,a[p+(k>>w)+d]=P<<24|A<<16|D}while(0!==d);for(c=1<<f-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,g++,0===--C[f]){if(f===v)break;f=t[n+i[g]]}if(f>b&&(k&h)!==u){for(0===w&&(w=b),p+=x,y=f-w,j=1<<y;y+w<v&&(j-=C[y+w],!(j<=0));)y++,j<<=1;if(N+=1<<y,1===e&&N>852||2===e&&N>592)return 1;u=k&h,a[u]=b<<24|y<<16|p-s}}return 0!==k&&(a[p+k]=f-w<<24|64<<16),o.bits=b,0};const{Z_FINISH:cc,Z_BLOCK:dc,Z_TREES:uc,Z_OK:hc,Z_STREAM_END:pc,Z_NEED_DICT:mc,Z_STREAM_ERROR:fc,Z_DATA_ERROR:gc,Z_MEM_ERROR:xc,Z_BUF_ERROR:vc,Z_DEFLATED:bc}=Eo,yc=16180,wc=16190,jc=16191,Nc=16192,kc=16194,Sc=16199,Cc=16200,_c=16206,Pc=16209,Ac=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Dc(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Tc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<yc||t.mode>16211?1:0},Lc=e=>{if(Tc(e))return fc;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=yc,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,hc},Ec=e=>{if(Tc(e))return fc;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Lc(e)},Ic=(e,t)=>{let n;if(Tc(e))return fc;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?fc:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Ec(e))},Rc=(e,t)=>{if(!e)return fc;const n=new Dc;e.state=n,n.strm=e,n.window=null,n.mode=yc;const r=Ic(e,t);return r!==hc&&(e.state=null),r};let Mc,Fc,Oc=!0;const zc=e=>{if(Oc){Mc=new Int32Array(512),Fc=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(lc(1,e.lens,0,288,Mc,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;lc(2,e.lens,0,32,Fc,0,e.work,{bits:5}),Oc=!1}e.lencode=Mc,e.lenbits=9,e.distcode=Fc,e.distbits=5},Bc=(e,t,n,r)=>{let a;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>r&&(a=r),s.window.set(t.subarray(n-r,n-r+a),s.wnext),(r-=a)?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0};var Uc=(e,t)=>{let n,r,a,s,i,o,l,c,d,u,h,p,m,f,g,x,v,b,y,w,j,N,k=0;const S=new Uint8Array(4);let C,_;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Tc(e)||!e.output||!e.input&&0!==e.avail_in)return fc;n=e.state,n.mode===jc&&(n.mode=Nc),i=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,u=o,h=l,N=hc;e:for(;;)switch(n.mode){case yc:if(0===n.wrap){n.mode=Nc;break}for(;d<16;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,S[0]=255&c,S[1]=c>>>8&255,n.check=To(n.check,S,2,0),c=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Pc;break}if((15&c)!==bc){e.msg="unknown compression method",n.mode=Pc;break}if(c>>>=4,d-=4,j=8+(15&c),0===n.wbits&&(n.wbits=j),j>15||j>n.wbits){e.msg="invalid window size",n.mode=Pc;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:jc,c=0,d=0;break;case 16181:for(;d<16;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==bc){e.msg="unknown compression method",n.mode=Pc;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Pc;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=To(n.check,S,2,0)),c=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,n.check=To(n.check,S,4,0)),c=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=To(n.check,S,2,0)),c=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=To(n.check,S,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>o&&(p=o),p&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),j)),512&n.flags&&4&n.wrap&&(n.check=To(n.check,r,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;p=0;do{j=r[s+p++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j))}while(j&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=To(n.check,r,p,s)),o-=p,s+=p,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;p=0;do{j=r[s+p++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j))}while(j&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=To(n.check,r,p,s)),o-=p,s+=p,j)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Pc;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=jc;break;case 16189:for(;d<32;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}e.adler=n.check=Ac(c),c=0,d=0,n.mode=wc;case wc:if(0===n.havedict)return e.next_out=i,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,mc;e.adler=n.check=1,n.mode=jc;case jc:if(t===dc||t===uc)break e;case Nc:if(n.last){c>>>=7&d,d-=7&d,n.mode=_c;break}for(;d<3;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}switch(n.last=1&c,c>>>=1,d-=1,3&c){case 0:n.mode=16193;break;case 1:if(zc(n),n.mode=Sc,t===uc){c>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Pc}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Pc;break}if(n.length=65535&c,c=0,d=0,n.mode=kc,t===uc)break e;case kc:n.mode=16195;case 16195:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),0===p)break e;a.set(r.subarray(s,s+p),i),o-=p,s+=p,l-=p,i+=p,n.length-=p;break}n.mode=jc;break;case 16196:for(;d<14;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Pc;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.lens[P[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},N=lc(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,N){e.msg="invalid code lengths set",n.mode=Pc;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,x=k>>>16&255,v=65535&k,!(g<=d);){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(v<16)c>>>=g,d-=g,n.lens[n.have++]=v;else{if(16===v){for(_=g+2;d<_;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(c>>>=g,d-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=Pc;break}j=n.lens[n.have-1],p=3+(3&c),c>>>=2,d-=2}else if(17===v){for(_=g+3;d<_;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}c>>>=g,d-=g,j=0,p=3+(7&c),c>>>=3,d-=3}else{for(_=g+7;d<_;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}c>>>=g,d-=g,j=0,p=11+(127&c),c>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Pc;break}for(;p--;)n.lens[n.have++]=j}}if(n.mode===Pc)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Pc;break}if(n.lenbits=9,C={bits:n.lenbits},N=lc(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,N){e.msg="invalid literal/lengths set",n.mode=Pc;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},N=lc(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,N){e.msg="invalid distances set",n.mode=Pc;break}if(n.mode=Sc,t===uc)break e;case Sc:n.mode=Cc;case Cc:if(o>=6&&l>=258){e.next_out=i,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,nc(e,h),i=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,n.mode===jc&&(n.back=-1);break}for(n.back=0;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,x=k>>>16&255,v=65535&k,!(g<=d);){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(x&&0===(240&x)){for(b=g,y=x,w=v;k=n.lencode[w+((c&(1<<b+y)-1)>>b)],g=k>>>24,x=k>>>16&255,v=65535&k,!(b+g<=d);){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}c>>>=b,d-=b,n.back+=b}if(c>>>=g,d-=g,n.back+=g,n.length=v,0===x){n.mode=16205;break}if(32&x){n.back=-1,n.mode=jc;break}if(64&x){e.msg="invalid literal/length code",n.mode=Pc;break}n.extra=15&x,n.mode=16201;case 16201:if(n.extra){for(_=n.extra;d<_;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;k=n.distcode[c&(1<<n.distbits)-1],g=k>>>24,x=k>>>16&255,v=65535&k,!(g<=d);){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(0===(240&x)){for(b=g,y=x,w=v;k=n.distcode[w+((c&(1<<b+y)-1)>>b)],g=k>>>24,x=k>>>16&255,v=65535&k,!(b+g<=d);){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}c>>>=b,d-=b,n.back+=b}if(c>>>=g,d-=g,n.back+=g,64&x){e.msg="invalid distance code",n.mode=Pc;break}n.offset=v,n.extra=15&x,n.mode=16203;case 16203:if(n.extra){for(_=n.extra;d<_;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Pc;break}n.mode=16204;case 16204:if(0===l)break e;if(p=h-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Pc;break}p>n.wnext?(p-=n.wnext,m=n.wsize-p):m=n.wnext-p,p>n.length&&(p=n.length),f=n.window}else f=a,m=i-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{a[i++]=f[m++]}while(--p);0===n.length&&(n.mode=Cc);break;case 16205:if(0===l)break e;a[i++]=n.length,l--,n.mode=Cc;break;case _c:if(n.wrap){for(;d<32;){if(0===o)break e;o--,c|=r[s++]<<d,d+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?To(n.check,a,h,i-h):Ao(n.check,a,h,i-h)),h=l,4&n.wrap&&(n.flags?c:Ac(c))!==n.check){e.msg="incorrect data check",n.mode=Pc;break}c=0,d=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===o)break e;o--,c+=r[s++]<<d,d+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Pc;break}c=0,d=0}n.mode=16208;case 16208:N=pc;break e;case Pc:N=gc;break e;case 16210:return xc;default:return fc}return e.next_out=i,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<Pc&&(n.mode<_c||t!==cc))&&Bc(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?To(n.check,a,h,e.next_out-h):Ao(n.check,a,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===jc?128:0)+(n.mode===Sc||n.mode===kc?256:0),(0===u&&0===h||t===cc)&&N===hc&&(N=vc),N},qc={inflateReset:Ec,inflateReset2:Ic,inflateResetKeep:Lc,inflateInit:e=>Rc(e,15),inflateInit2:Rc,inflate:Uc,inflateEnd:e=>{if(Tc(e))return fc;let t=e.state;return t.window&&(t.window=null),e.state=null,hc},inflateGetHeader:(e,t)=>{if(Tc(e))return fc;const n=e.state;return 0===(2&n.wrap)?fc:(n.head=t,t.done=!1,hc)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,a,s;return Tc(e)?fc:(r=e.state,0!==r.wrap&&r.mode!==wc?fc:r.mode===wc&&(a=1,a=Ao(a,t,n,0),a!==r.check)?gc:(s=Bc(e,t,n,n),s?(r.mode=16210,xc):(r.havedict=1,hc)))},inflateInfo:"pako inflate (from Nodeca project)"};var Wc=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Hc=Object.prototype.toString,{Z_NO_FLUSH:Vc,Z_FINISH:Gc,Z_OK:Kc,Z_STREAM_END:Yc,Z_NEED_DICT:$c,Z_STREAM_ERROR:Jc,Z_DATA_ERROR:Xc,Z_MEM_ERROR:Qc}=Eo;function Zc(e){this.options=Il({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ul,this.strm.avail_out=0;let n=qc.inflateInit2(this.strm,t.windowBits);if(n!==Kc)throw new Error(Lo[n]);if(this.header=new Wc,qc.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Ol(t.dictionary):"[object ArrayBuffer]"===Hc.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=qc.inflateSetDictionary(this.strm,t.dictionary),n!==Kc)))throw new Error(Lo[n])}function ed(e,t){const n=new Zc(t);if(n.push(e),n.err)throw n.msg||Lo[n.err];return n.result}Zc.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let s,i,o;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Gc:Vc,"[object ArrayBuffer]"===Hc.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=qc.inflate(n,i),s===$c&&a&&(s=qc.inflateSetDictionary(n,a),s===Kc?s=qc.inflate(n,i):s===Xc&&(s=$c));n.avail_in>0&&s===Yc&&n.state.wrap>0&&0!==e[n.next_in];)qc.inflateReset(n),s=qc.inflate(n,i);switch(s){case Jc:case Xc:case $c:case Qc:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||s===Yc))if("string"===this.options.to){let e=Bl(n.output,n.next_out),t=n.next_out-e,a=zl(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==Kc||0!==o){if(s===Yc)return s=qc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Zc.prototype.onData=function(e){this.chunks.push(e)},Zc.prototype.onEnd=function(e){e===Kc&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Rl(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var td={Inflate:Zc,inflate:ed,inflateRaw:function(e,t){return(t=t||{}).raw=!0,ed(e,t)},ungzip:ed,constants:Eo};const{Deflate:nd,deflate:rd,deflateRaw:ad,gzip:sd}=ec,{Inflate:id,inflate:od,inflateRaw:ld,ungzip:cd}=td;var dd=id,ud=od;const hd=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;hd[n]=e}const pd=4294967295;function md(e,t){return(function(e,t,n){let r=e;for(let a=0;a<n;a++)r=hd[255&(r^t[a])]^r>>>8;return r}(pd,e,t)^pd)>>>0}function fd(e,t,n){const r=e.readUint32(),a=md(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==r)throw new Error("CRC mismatch for chunk ".concat(n,". Expected ").concat(r,", found ").concat(a))}function gd(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function xd(e,t,n,r){let a=0;for(;a<r;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-r]&255}function vd(e,t,n,r){let a=0;if(0===n.length)for(;a<r;a++)t[a]=e[a];else for(;a<r;a++)t[a]=e[a]+n[a]&255}function bd(e,t,n,r,a){let s=0;if(0===n.length){for(;s<a;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-a]+n[s]>>1)&255}}function yd(e,t,n,r,a){let s=0;if(0===n.length){for(;s<a;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+n[s]&255;for(;s<r;s++)t[s]=e[s]+wd(t[s-a],n[s],n[s-a])&255}}function wd(e,t,n){const r=e+t-n,a=Math.abs(r-e),s=Math.abs(r-t),i=Math.abs(r-n);return a<=s&&a<=i?e:s<=i?t:n}function jd(e,t,n,r,a,s){switch(e){case 0:gd(t,n,a);break;case 1:xd(t,n,a,s);break;case 2:vd(t,n,r,a);break;case 3:bd(t,n,r,a,s);break;case 4:yd(t,n,r,a,s);break;default:throw new Error("Unsupported filter: ".concat(e))}}const Nd=new Uint16Array([255]),kd=255===new Uint8Array(Nd.buffer)[0];function Sd(e){return(255&e)<<8|e>>8&255}const Cd=new Uint16Array([255]),_d=255===new Uint8Array(Cd.buffer)[0],Pd=new Uint8Array(0);function Ad(e){const{data:t,width:n,height:r,channels:a,depth:s}=e,i=Math.ceil(s/8)*a,o=Math.ceil(s/8*a*n),l=new Uint8Array(r*o);let c,d,u=Pd,h=0;for(let p=0;p<r;p++){switch(c=t.subarray(h+1,h+1+o),d=l.subarray(p*o,(p+1)*o),t[h]){case 0:gd(c,d,o);break;case 1:xd(c,d,o,i);break;case 2:vd(c,d,u,o);break;case 3:bd(c,d,u,o,i);break;case 4:yd(c,d,u,o,i);break;default:throw new Error("Unsupported filter: ".concat(t[h]))}u=d,h+=o+1}if(16===s){const e=new Uint16Array(l.buffer);if(_d)for(let t=0;t<e.length;t++)e[t]=Dd(e[t]);return e}return l}function Dd(e){return(255&e)<<8|e>>8&255}const Td=Uint8Array.of(137,80,78,71,13,10,26,10);function Ld(e){if(!function(e){if(e.length<Td.length)return!1;for(let t=0;t<Td.length;t++)if(e[t]!==Td[t])return!1;return!0}(e.readBytes(Td.length)))throw new Error("wrong PNG signature")}const Ed="tEXt",Id=new TextDecoder("latin1");function Rd(e){if(Fd(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Md=/^[\u0000-\u00FF]*$/;function Fd(e){if(!Md.test(e))throw new Error("invalid latin1 text")}function Od(e,t,n){const r=zd(t);e[r]=function(e,t){return Id.decode(e.readBytes(t))}(t,n-r.length-1)}function zd(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=Id.decode(e.readBytes(t-e.offset-1));return e.skip(1),Rd(n),n}const Bd=-1,Ud=0,qd=2,Wd=3,Hd=4,Vd=6,Gd=-1,Kd=0,Yd=-1,$d=0,Jd=-1,Xd=0,Qd=1,Zd=0,eu=1,tu=2,nu=0,ru=1;class au extends Bi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),(0,we.A)(this,"_checkCrc",void 0),(0,we.A)(this,"_inflator",void 0),(0,we.A)(this,"_png",void 0),(0,we.A)(this,"_apng",void 0),(0,we.A)(this,"_end",void 0),(0,we.A)(this,"_hasPalette",void 0),(0,we.A)(this,"_palette",void 0),(0,we.A)(this,"_hasTransparency",void 0),(0,we.A)(this,"_transparency",void 0),(0,we.A)(this,"_compressionMethod",void 0),(0,we.A)(this,"_filterMethod",void 0),(0,we.A)(this,"_interlaceMethod",void 0),(0,we.A)(this,"_colorType",void 0),(0,we.A)(this,"_isAnimated",void 0),(0,we.A)(this,"_numberOfFrames",void 0),(0,we.A)(this,"_numberOfPlays",void 0),(0,we.A)(this,"_frames",void 0),(0,we.A)(this,"_writingDataChunks",void 0);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new dd,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Gd,this._filterMethod=Yd,this._interlaceMethod=Jd,this._colorType=Bd,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ld(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Ld(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Ed:Od(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?fd(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?fd(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case Ud:n=1;break;case qd:n=3;break;case Wd:n=1;break;case Hd:n=2;break;case Vd:n=4;break;default:throw new Error("Unknown color type: ".concat(t))}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==Kd)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodetRNS(e){switch(this._colorType){case Ud:case qd:if(e%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(e));if(e/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(e/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case Wd:{if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(e){const t=zd(this),n=this.readUint8();if(n!==Kd)throw new Error("Unsupported iCCP compression method: ".concat(n));const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:ud(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=Ad({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case Zd:break;case eu:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const a=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[a+e]=0}break;case tu:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case nu:for(let n=0;n<t.height;n++)for(let a=0;a<t.width;a++){const{index:s,frameIndex:i}=r(n,a);for(let n=0;n<this._png.channels;n++)e.data[s+n]=t.data[i+n]}break;case ru:for(let a=0;a<t.height;a++)for(let s=0;s<t.width;s++){const{index:i,frameIndex:o}=r(a,s);for(let r=0;r<this._png.channels;r++){const a=t.data[o+this._png.channels-1]/n,s=r%(this._png.channels-1)===0?1:t.data[o+r],l=Math.floor(a*s+(1-a)*e.data[i+r]);e.data[i+r]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?(null===(e=this._frames)||void 0===e?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==$d)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===Xd)this._png.data=Ad({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==Qd)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(e){const{data:t,width:n,height:r,channels:a,depth:s}=e,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*a,l=new Uint8Array(r*n*o);let c=0;for(let d=0;d<7;d++){const e=i[d],a=Math.ceil((n-e.x)/e.xStep),s=Math.ceil((r-e.y)/e.yStep);if(a<=0||s<=0)continue;const u=a*o,h=new Uint8Array(u);for(let i=0;i<s;i++){const s=t[c++],d=t.subarray(c,c+u);c+=u;const p=new Uint8Array(u);jd(s,d,p,h,u,o),h.set(p);for(let t=0;t<a;t++){const a=e.x+t*e.xStep,s=e.y+i*e.yStep;if(!(a>=n||s>=r))for(let e=0;e<o;e++)l[(s*n+a)*o+e]=p[t*o+e]}}}if(16===s){const e=new Uint16Array(l.buffer);if(kd)for(let t=0;t<e.length;t++)e[t]=Sd(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Zd,blendOp:nu,data:e}),this._inflator=new dd,this._writingDataChunks=!1}}var su;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(su||(su={}));var iu=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function ou(){iu.console&&"function"==typeof iu.console.log&&iu.console.log.apply(iu.console,arguments)}var lu={log:ou,warn:function(e){iu.console&&("function"==typeof iu.console.warn?iu.console.warn.apply(iu.console,arguments):ou.call(null,arguments))},error:function(e){iu.console&&("function"==typeof iu.console.error?iu.console.error.apply(iu.console,arguments):ou(e))}};function cu(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){hu(r.response,t,n)},r.onerror=function(){lu.error("could not download file")},r.send()}function du(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function uu(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var hu=iu.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,Ys.A)(window))||window!==iu?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=iu.URL||iu.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?du(a.href)?cu(e,t,n):uu(a,a.target="_blank"):uu(a)):(a.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){uu(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(du(e))cu(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){uu(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,Ys.A)(t)&&(lu.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return cu(e,t,n);var a="application/octet-stream"===e.type,s=/constructor/i.test(iu.HTMLElement)||iu.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&"object"===("undefined"==typeof FileReader?"undefined":(0,Ys.A)(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},o.readAsDataURL(e)}else{var l=iu.URL||iu.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function pu(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,s=n[r].process,i=a.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var mu=iu.atob.bind(iu),fu=iu.btoa.bind(iu);function gu(e,t){var n=e[0],r=e[1],a=e[2],s=e[3];n=vu(n,r,a,s,t[0],7,-680876936),s=vu(s,n,r,a,t[1],12,-389564586),a=vu(a,s,n,r,t[2],17,606105819),r=vu(r,a,s,n,t[3],22,-1044525330),n=vu(n,r,a,s,t[4],7,-176418897),s=vu(s,n,r,a,t[5],12,1200080426),a=vu(a,s,n,r,t[6],17,-1473231341),r=vu(r,a,s,n,t[7],22,-45705983),n=vu(n,r,a,s,t[8],7,1770035416),s=vu(s,n,r,a,t[9],12,-1958414417),a=vu(a,s,n,r,t[10],17,-42063),r=vu(r,a,s,n,t[11],22,-1990404162),n=vu(n,r,a,s,t[12],7,1804603682),s=vu(s,n,r,a,t[13],12,-40341101),a=vu(a,s,n,r,t[14],17,-1502002290),n=bu(n,r=vu(r,a,s,n,t[15],22,1236535329),a,s,t[1],5,-165796510),s=bu(s,n,r,a,t[6],9,-1069501632),a=bu(a,s,n,r,t[11],14,643717713),r=bu(r,a,s,n,t[0],20,-373897302),n=bu(n,r,a,s,t[5],5,-701558691),s=bu(s,n,r,a,t[10],9,38016083),a=bu(a,s,n,r,t[15],14,-660478335),r=bu(r,a,s,n,t[4],20,-405537848),n=bu(n,r,a,s,t[9],5,568446438),s=bu(s,n,r,a,t[14],9,-1019803690),a=bu(a,s,n,r,t[3],14,-187363961),r=bu(r,a,s,n,t[8],20,1163531501),n=bu(n,r,a,s,t[13],5,-1444681467),s=bu(s,n,r,a,t[2],9,-51403784),a=bu(a,s,n,r,t[7],14,1735328473),n=yu(n,r=bu(r,a,s,n,t[12],20,-1926607734),a,s,t[5],4,-378558),s=yu(s,n,r,a,t[8],11,-2022574463),a=yu(a,s,n,r,t[11],16,1839030562),r=yu(r,a,s,n,t[14],23,-35309556),n=yu(n,r,a,s,t[1],4,-1530992060),s=yu(s,n,r,a,t[4],11,1272893353),a=yu(a,s,n,r,t[7],16,-155497632),r=yu(r,a,s,n,t[10],23,-1094730640),n=yu(n,r,a,s,t[13],4,681279174),s=yu(s,n,r,a,t[0],11,-358537222),a=yu(a,s,n,r,t[3],16,-722521979),r=yu(r,a,s,n,t[6],23,76029189),n=yu(n,r,a,s,t[9],4,-640364487),s=yu(s,n,r,a,t[12],11,-421815835),a=yu(a,s,n,r,t[15],16,530742520),n=wu(n,r=yu(r,a,s,n,t[2],23,-995338651),a,s,t[0],6,-198630844),s=wu(s,n,r,a,t[7],10,1126891415),a=wu(a,s,n,r,t[14],15,-1416354905),r=wu(r,a,s,n,t[5],21,-57434055),n=wu(n,r,a,s,t[12],6,1700485571),s=wu(s,n,r,a,t[3],10,-1894986606),a=wu(a,s,n,r,t[10],15,-1051523),r=wu(r,a,s,n,t[1],21,-2054922799),n=wu(n,r,a,s,t[8],6,1873313359),s=wu(s,n,r,a,t[15],10,-30611744),a=wu(a,s,n,r,t[6],15,-1560198380),r=wu(r,a,s,n,t[13],21,1309151649),n=wu(n,r,a,s,t[4],6,-145523070),s=wu(s,n,r,a,t[11],10,-1120210379),a=wu(a,s,n,r,t[2],15,718787259),r=wu(r,a,s,n,t[9],21,-343485551),e[0]=Au(n,e[0]),e[1]=Au(r,e[1]),e[2]=Au(a,e[2]),e[3]=Au(s,e[3])}function xu(e,t,n,r,a,s){return t=Au(Au(t,e),Au(r,s)),Au(t<<a|t>>>32-a,n)}function vu(e,t,n,r,a,s,i){return xu(t&n|~t&r,e,t,a,s,i)}function bu(e,t,n,r,a,s,i){return xu(t&r|n&~r,e,t,a,s,i)}function yu(e,t,n,r,a,s,i){return xu(t^n^r,e,t,a,s,i)}function wu(e,t,n,r,a,s,i){return xu(n^(t|~r),e,t,a,s,i)}function ju(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)gu(r,Nu(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(gu(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,gu(r,a),r}function Nu(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var ku="0123456789abcdef".split("");function Su(e){for(var t="",n=0;n<4;n++)t+=ku[e>>8*n+4&15]+ku[e>>8*n&15];return t}function Cu(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function _u(e){return ju(e).map(Cu).join("")}var Pu="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Su(e[t]);return e.join("")}(ju("hello"));function Au(e,t){if(Pu){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Du(e,t){var n,r,a,s;if(e!==n){for(var i=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+i.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=e,r=o}else o=r;var u=t.length,h=0,p=0,m="";for(l=0;l<u;l++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,i=o[(o[h]+o[p])%256],m+=String.fromCharCode(t.charCodeAt(l)^i);return m}var Tu={print:4,modify:8,copy:16,"annot-forms":32};function Lu(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach(function(e){if(void 0!==Tu.perm)throw new Error("Invalid permission: "+e);a+=Tu[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(t+this.padding).substr(0,32),i=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=_u(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Du(this.encryptionKey,this.padding)}function Eu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);t+=a<33||35===a||37===a||40===a||41===a||47===a||60===a||62===a||91===a||93===a||123===a||125===a||a>126?"#"+("0"+a.toString(16)).slice(-2):e[r]}return t}function Iu(e){if("object"!==(0,Ys.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!r],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[n]){var i=t[n][s];try{i[0].apply(e,r)}catch(uu){iu.console&&lu.error("jsPDF PubSub Error",uu.message,uu)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ru(e){if(!(this instanceof Ru))return new Ru(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Mu(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Fu(e,t,n,r,a){if(!(this instanceof Fu))return new Fu(e,t,n,r,a);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Mu.call(this,r,a)}function Ou(e,t,n,r,a){if(!(this instanceof Ou))return new Ou(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Mu.call(this,r,a)}function zu(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],a=arguments[2],s=arguments[3],i=[],o=1,l=16,c="S",d=null;"object"===(0,Ys.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,a=e.format||a,s=e.compress||e.compressPdf||s,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),i=e.filters||(!0===s?["FlateEncode"]:i),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=Iu;var m="1.3",f=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(e){m=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var x=p.__private__.getPageFormat=function(e){return g[e]};a=a||"a4";var v="compat",b="advanced",y=v;function w(){this.saveGraphicsState(),X(new Te(he,0,0,-he,0,pn()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",y=b}function j(){this.restoreGraphicsState(),c="S",y=v}var N=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=y===v;return t&&w.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},p.compatAPI=function(e){var t=y===b;return t&&j.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},p.isAdvancedAPI=function(){return y===b};var k,S=function(e){if(y!==b)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=p.roundToPrecision=p.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};k=p.hpf=p.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,16)};var _=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return C(e,2)},P=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return C(e,3)},A=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return y===v?e*he:y===b?e:void 0},D=function(e){return A(function(e){return y===v?pn()-e:y===b?e:void 0}(e))};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var T,L="00000000000000000000000000000000",E=p.__private__.getFileId=function(){return L},I=p.__private__.setFileId=function(e){return L=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():L.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(vt=new Lu(d.userPermissions,d.userPassword,d.ownerPassword,L)),L};p.setFileId=function(e){return I(e),this},p.getFileId=function(){return E()};var R=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),s=[n,B(r),"'",B(a),"'"].join("");return["D:",e.getFullYear(),B(e.getMonth()+1),B(e.getDate()),B(e.getHours()),B(e.getMinutes()),B(e.getSeconds()),s].join("")},M=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),i=parseInt(e.substr(14,2),10);return new Date(t,n,r,a,s,i,0)},F=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=R(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return T=t},O=p.__private__.getCreationDate=function(e){var t=T;return"jsDate"===e&&(t=M(T)),t};p.setCreationDate=function(e){return F(e),this},p.getCreationDate=function(e){return O(e)};var z,B=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},q=0,W=[],H=[],V=0,G=[],K=[],Y=!1,$=H;p.__private__.setCustomOutputDestination=function(e){Y=!0,$=e};var J=function(e){Y||($=e)};p.__private__.resetCustomOutputDestination=function(){Y=!1,$=H};var X=p.__private__.out=function(e){return e=e.toString(),V+=e.length+1,$.push(e),$},Q=p.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return te=y===b?e/he:e,this};var ne,re=p.__private__.getFontSize=p.getFontSize=function(){return y===v?te:te*he},ae=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return ae=e,this},p.__private__.getR2L=p.getR2L=function(){return ae};var se,ie=p.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};p.__private__.getZoomMode=function(){return ne};var oe,le=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');se=e};p.__private__.getPageMode=function(){return se};var ce=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};p.__private__.getLayoutMode=function(){return oe},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return ie(e),ce(t),le(n),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},p.__private__.getDocumentProperties=function(){return de},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var ue,he,pe,me,fe,ge={},xe={},ve=[],be={},ye={},we={},je={},Ne=null,ke=0,Se=[],Ce=new Iu(p),_e=e.hotfixes||[],Pe={},Ae={},De=[],Te=function e(t,n,r,a,s,i){if(!(this instanceof e))return new e(t,n,r,a,s,i);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(a)&&(a=1),isNaN(s)&&(s=0),isNaN(i)&&(i=0),this._matrix=[t,n,r,a,s,i]};Object.defineProperty(Te.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Te.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Te.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Te.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Te.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Te.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Te.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Te.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Te.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Te.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Te.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Te.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Te.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Te.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Te.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Te.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Te.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Te.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,a=e.shx*this.shy+e.sy*this.sy,s=e.tx*this.sx+e.ty*this.shx+this.tx,i=e.tx*this.shy+e.ty*this.sy+this.ty;return new Te(t,n,r,a,s,i)},Te.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty,i=Math.sqrt(e*e+t*t),o=(e/=i)*n+(t/=i)*r;n-=e*o,r-=t*o;var l=Math.sqrt(n*n+r*r);return o/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,i=-i),{scale:new Te(i,0,0,l,0,0),translate:new Te(1,0,0,1,a,s),rotate:new Te(e,t,-t,e,0,0),skew:new Te(1,0,o,1,0,0)}},Te.prototype.toString=function(e){return this.join(" ")},Te.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty,i=1/(e*r-t*n),o=r*i,l=-t*i,c=-n*i,d=e*i;return new Te(o,l,c,d,-o*a-c*s,-l*a-d*s)},Te.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new tn(t,n)},Te.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new tn(e.x+e.w,e.y+e.h));return new nn(t.x,t.y,n.x-t.x,n.y-t.y)},Te.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty;return new Te(e,t,n,r,a,s)},p.Matrix=Te;var Le=p.matrixMult=function(e,t){return t.multiply(e)},Ee=new Te(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ee;var Ie=function(e,t){if(!ye[e]){var n=(t instanceof Fu?"Sh":"P")+(Object.keys(be).length+1).toString(10);t.id=n,ye[e]=n,be[n]=t,Ce.publish("addPattern",t)}};p.ShadingPattern=Fu,p.TilingPattern=Ou,p.addShadingPattern=function(e,t){return S("addShadingPattern()"),Ie(e,t),this},p.beginTilingPattern=function(e){S("beginTilingPattern()"),an(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){S("endTilingPattern()"),t.stream=K[z].join("\n"),Ie(e,t),Ce.publish("endTilingPattern",t),De.pop().restore()};var Re,Me=p.__private__.newObject=function(){var e=Fe();return Oe(e,!0),e},Fe=p.__private__.newObjectDeferred=function(){return q++,W[q]=function(){return V},q},Oe=function(e,t){return t="boolean"==typeof t&&t,W[e]=V,t&&X(e+" 0 obj"),e},ze=p.__private__.newAdditionalObject=function(){var e={objId:Fe(),content:""};return G.push(e),e},Be=Fe(),Ue=Fe(),qe=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",a=0;a<3;a++)r+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return r},We=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,a=e.ch3,s=e.ch4,i="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new pu(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,a=255&l}if(void 0===r||void 0===s&&n===r&&r===a)t="string"==typeof n?n+" "+i[0]:2===e.precision?_(n/255)+" "+i[0]:P(n/255)+" "+i[0];else if(void 0===s||"object"===(0,Ys.A)(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",i[1]].join(" ");t="string"==typeof n?[n,r,a,i[1]].join(" "):2===e.precision?[_(n/255),_(r/255),_(a/255),i[1]].join(" "):[P(n/255),P(r/255),P(a/255),i[1]].join(" ")}else t="string"==typeof n?[n,r,a,s,i[2]].join(" "):2===e.precision?[_(n),_(r),_(a),_(s),i[2]].join(" "):[P(n),P(r),P(a),P(s),i[2]].join(" ");return t},He=p.__private__.getFilters=function(){return i},Ve=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||He(),r=e.alreadyAppliedFilters||[],a=e.addLength1||!1,s=t.length,i=e.objectId,o=function(e){return e};if(null!==d&&void 0===i)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(o=vt.encryptor(i,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==zu.API.processDataByFilters?zu.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===a&&c.push({key:"Length1",value:s})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var p=[],m=0;m<l.reverseChain.split("/").length-1;m+=1)p.push("null");p.push(c[h].value),c[h].value="["+p.join(" ")+"]"}}X("<<");for(var f=0;f<c.length;f++)X("/"+c[f].key+" "+c[f].value);X(">>"),0!==l.data.length&&(X("stream"),X(o(l.data)),X("endstream"))},Ge=p.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,a=e.contentsObjId;Oe(r,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),Ce.publish("putPage",{objId:r,pageContext:Se[t],pageNumber:t,page:n}),X("/Contents "+a+" 0 R"),X(">>"),X("endobj");var s=n.join("\n");return y===b&&(s+="\nQ"),Oe(a,!0),Ve({data:s,filters:He(),objectId:a}),X("endobj"),r},Ke=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ke;e++)Se[e].objId=Fe(),Se[e].contentsObjId=Fe();for(e=1;e<=ke;e++)n.push(Ge({number:e,data:K[e],objId:Se[e].objId,contentsObjId:Se[e].contentsObjId,mediaBox:Se[e].mediaBox,cropBox:Se[e].cropBox,bleedBox:Se[e].bleedBox,trimBox:Se[e].trimBox,artBox:Se[e].artBox,userUnit:Se[e].userUnit,rootDictionaryObjId:Be,resourceDictionaryObjId:Ue}));Oe(Be,!0),X("<</Type /Pages");var r="/Kids [";for(t=0;t<ke;t++)r+=n[t]+" 0 R ";X(r+"]"),X("/Count "+ke),X(">>"),X("endobj"),Ce.publish("postPutPages")},Ye=function(e){Ce.publish("putFont",{font:e,out:X,newObject:Me,putStream:Ve}),!0!==e.isAlreadyPutted&&(e.objectNumber=Me(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Eu(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},$e=function(e){e.objectNumber=Me();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");Ve({data:n,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},Je=function(e,t){t||(t=21);var n=Me(),r=function(e,t){var n,r=[],a=1/(t-1);for(n=0;n<1;n+=a)r.push(n);if(r.push(1),0!=e[0].offset){var s={offset:0,color:e[0].color};e.unshift(s)}if(1!=e[e.length-1].offset){var i={offset:1,color:e[e.length-1].color};e.push(i)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var d=e[l].offset,u=(n-d)/(e[l+1].offset-d),h=e[l].color,p=e[l+1].color;o+=U(Math.round((1-u)*h[0]+u*p[0]).toString(16))+U(Math.round((1-u)*h[1]+u*p[1]).toString(16))+U(Math.round((1-u)*h[2]+u*p[2]).toString(16))}return o.trim()}(e.colors,t),a=[];a.push({key:"FunctionType",value:"0"}),a.push({key:"Domain",value:"[0.0 1.0]"}),a.push({key:"Size",value:"["+t+"]"}),a.push({key:"BitsPerSample",value:"8"}),a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:r,additionalKeyValues:a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),X("endobj"),e.objectNumber=Me(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var s="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?s+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):s+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),X(s+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+n+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var n=Fe(),r=Me();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var a=[];a.push({key:"Type",value:"/Pattern"}),a.push({key:"PatternType",value:"1"}),a.push({key:"PaintType",value:"1"}),a.push({key:"TilingType",value:"1"}),a.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),a.push({key:"XStep",value:k(e.xStep)}),a.push({key:"YStep",value:k(e.yStep)}),a.push({key:"Resources",value:n+" 0 R"}),e.matrix&&a.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ve({data:e.stream,additionalKeyValues:a,objectId:e.objectNumber}),X("endobj")},Qe=function(e){for(var t in e.objectNumber=Me(),X("<<"),e)switch(t){case"opacity":X("/ca "+_(e[t]));break;case"stroke-opacity":X("/CA "+_(e[t]))}X(">>"),X("endobj")},Ze=function(e){Oe(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&X("/"+e+" "+ge[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(be).length>0){for(var e in X("/Shading <<"),be)be.hasOwnProperty(e)&&be[e]instanceof Fu&&be[e].objectNumber>=0&&X("/"+e+" "+be[e].objectNumber+" 0 R");Ce.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(be).length>0){for(var t in X("/Pattern <<"),be)be.hasOwnProperty(t)&&be[t]instanceof p.TilingPattern&&be[t].objectNumber>=0&&be[t].objectNumber<e&&X("/"+t+" "+be[t].objectNumber+" 0 R");Ce.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in X("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&X("/"+e+" "+we[e].objectNumber+" 0 R");Ce.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Pe)Pe.hasOwnProperty(e)&&Pe[e].objectNumber>=0&&X("/"+e+" "+Pe[e].objectNumber+" 0 R");Ce.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(e){xe[e.fontName]=xe[e.fontName]||{},xe[e.fontName][e.fontStyle]=e.id},tt=function(e,t,n,r,a){var s={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:a||!1,metadata:{}};return Ce.publish("addFont",{font:s,instance:this}),ge[s.id]=s,et(s),s.id},nt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,r,a,s,i,o,l,c,d;if(a=(t=t||{}).sourceEncoding||"Unicode",i=t.outputEncoding,(t.autoencode||i)&&ge[ue].metadata&&ge[ue].metadata[a]&&ge[ue].metadata[a].encoding&&(s=ge[ue].metadata[a].encoding,!i&&ge[ue].encoding&&(i=ge[ue].encoding),!i&&s.codePages&&(i=s.codePages[0]),"string"==typeof i&&(i=s[i]),i)){for(l=!1,o=[],n=0,r=e.length;n<r;n++)(c=i[e.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rt=p.__private__.beginPage=function(e){K[++ke]=[],Se[ke]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},it(ke),J(K[z])},at=function(e,t){var r,s,i;switch(n=t||n,"string"==typeof e&&(r=x(e.toLowerCase()),Array.isArray(r)&&(s=r[0],i=r[1])),Array.isArray(e)&&(s=e[0]*he,i=e[1]*he),isNaN(s)&&(s=a[0],i=a[1]),(s>14400||i>14400)&&(lu.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),i=Math.min(14400,i)),a=[s,i],n.substr(0,1)){case"l":i>s&&(a=[i,s]);break;case"p":s>i&&(a=[i,s])}rt(a),Ot(Mt),X(Gt),0!==Qt&&X(Qt+" J"),0!==Zt&&X(Zt+" j"),Ce.publish("addPage",{pageNumber:ke})},st=function(e){e>0&&e<=ke&&(K.splice(e,1),Se.splice(e,1),ke--,z>ke&&(z=ke),this.setPage(z))},it=function(e){e>0&&e<=ke&&(z=e)},ot=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return K.length-1},lt=function(e,t,n){var r,a=void 0;return n=n||{},e=void 0!==e?e:ge[ue].fontName,t=void 0!==t?t:ge[ue].fontStyle,r=e.toLowerCase(),void 0!==xe[r]&&void 0!==xe[r][t]?a=xe[r][t]:void 0!==xe[e]&&void 0!==xe[e][t]?a=xe[e][t]:!1===n.disableWarning&&lu.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||n.noFallback||null==(a=xe.times[t])&&(a=xe.times.normal),a},ct=p.__private__.putInfo=function(){var e=Me(),t=function(e){return e};for(var n in null!==d&&(t=vt.encryptor(e,0)),X("<<"),X("/Producer ("+nt(t("jsPDF "+zu.version))+")"),de)de.hasOwnProperty(n)&&de[n]&&X("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+nt(t(de[n]))+")");X("/CreationDate ("+nt(t(T))+")"),X(">>"),X("endobj")},dt=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Be;switch(Me(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&X("/OpenAction [3 0 R /XYZ null null "+_(ne)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}se&&X("/PageMode /"+se),Ce.publish("putCatalog"),X(">>"),X("endobj")},ut=p.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(q+1)),X("/Root "+q+" 0 R"),X("/Info "+(q-1)+" 0 R"),null!==d&&X("/Encrypt "+vt.oid+" 0 R"),X("/ID [ <"+L+"> <"+L+"> ]"),X(">>")},ht=p.__private__.putHeader=function(){X("%PDF-"+m),X("%\xba\xdf\xac\xe0")},pt=p.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(q+1)),X("0000000000 65535 f ");for(var t=1;t<=q;t++)"function"==typeof W[t]?X((e+W[t]()).slice(-10)+" 00000 n "):void 0!==W[t]?X((e+W[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},mt=p.__private__.buildDocument=function(){var e;q=0,V=0,H=[],W=[],G=[],Be=Fe(),Ue=Fe(),J(H),Ce.publish("buildDocument"),ht(),Ke(),function(){Ce.publish("putAdditionalObjects");for(var e=0;e<G.length;e++){var t=G[e];Oe(t.objId,!0),X(t.content),X("endobj")}Ce.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&Ye(ge[e])}(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Qe(we[e])}(),function(){for(var e in Pe)Pe.hasOwnProperty(e)&&$e(Pe[e])}(),function(e){var t;for(t in be)be.hasOwnProperty(t)&&(be[t]instanceof Fu?Je(be[t]):be[t]instanceof Ou&&Xe(be[t],e))}(e),Ce.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:Ue,objectOid:Number.MAX_SAFE_INTEGER}),Ce.publish("postPutResources"),null!==d&&(vt.oid=Me(),X("<<"),X("/Filter /Standard"),X("/V "+vt.v),X("/R "+vt.r),X("/U <"+vt.toHexString(vt.U)+">"),X("/O <"+vt.toHexString(vt.O)+">"),X("/P "+vt.P),X(">>"),X("endobj")),ct(),dt();var t=V;return pt(),ut(),X("startxref"),X(""+t),X("%%EOF"),J(K[z]),H.join("\n")},ft=p.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},gt=p.output=p.__private__.output=(Re=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return mt();case"save":p.save(t.filename);break;case"arraybuffer":return Z(mt());case"blob":return ft(mt());case"bloburi":case"bloburl":if(void 0!==iu.URL&&"function"==typeof iu.URL.createObjectURL)return iu.URL&&iu.URL.createObjectURL(ft(mt()))||void 0;lu.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=mt();try{n=fu(r)}catch(d){n=fu(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(iu)){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(a=t.pdfObjectUrl,s="");var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=iu.open();return null!==o&&o.document.write(i),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(iu)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=iu.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(iu))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',m=iu.open();if(null!==m&&(m.document.write(h),m.document.title=t.filename),m||"undefined"==typeof safari)return m;break;case"datauri":case"dataurl":return iu.document.location.href=this.output("datauristring",t);default:return null}},Re.foo=function(){try{return Re.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!iu.console)throw new Error(n);iu.console.error(n,t),iu.alert&&alert(n)}},Re.foo.bar=Re,Re.foo),xt=function(e){return!0===Array.isArray(_e)&&_e.indexOf(e)>-1};switch(r){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==xt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);he=r}var vt=null;F(),I();var bt=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Se[e].objId,pageNumber:e,pageContext:Se[e]}},yt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Se)if(Se[t].objId===e)break;return bt(t)},wt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Se[z].objId,pageNumber:z,pageContext:Se[z]}};p.addPage=function(){return at.apply(this,arguments),this},p.setPage=function(){return it.apply(this,arguments),J.call(this,K[z]),this},p.insertPage=function(e){return this.addPage(),this.movePage(z,e),this},p.movePage=function(e,t){var n,r;if(e>t){n=K[e],r=Se[e];for(var a=e;a>t;a--)K[a]=K[a-1],Se[a]=Se[a-1];K[t]=n,Se[t]=r,this.setPage(t)}else if(e<t){n=K[e],r=Se[e];for(var s=e;s<t;s++)K[s]=K[s+1],Se[s]=Se[s+1];K[t]=n,Se[t]=r,this.setPage(t)}return this},p.deletePage=function(){return st.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,r,a){var s,i,o,l,c,d,u,p,m,f=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Te==0?(o=arguments[4],l=arguments[5],"object"===(0,Ys.A)(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),r={flags:u,angle:o,align:l})):(S("The transform parameter of text() with a Matrix value"),m=a),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var x,v="",w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Rt,j=f.internal.scaleFactor;function N(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),nt(e,u)}function C(e){for(var t,n=e.concat(),r=[],a=n.length;a--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function _(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,a,s=e.concat(),i=[],o=s.length;o--;)"string"==typeof(r=s.shift())?i.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(a=t(r[0],r[1],r[2]),i.push([a[0],a[1],a[2]]));n=i}return n}var P=!1,D=!0;if("string"==typeof e)P=!0;else if(Array.isArray(e)){var T=e.concat();i=[];for(var L,E=T.length;E--;)("string"!=typeof(L=T.shift())||Array.isArray(L)&&"string"!=typeof L[0])&&(D=!1);P=D}if(!1===P)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var I=te/f.internal.scaleFactor,R=I*(w-1);switch(r.baseline){case"bottom":n-=R;break;case"top":n+=I-R;break;case"hanging":n+=I-2*R;break;case"middle":n+=I/2-R}if((d=r.maxWidth||0)>0&&("string"==typeof e?e=f.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(f.splitTextToSize(t,d))},[]))),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ce.publish("preProcessText",s),e=s.text,o=(r=s.options).angle,m instanceof Te==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),y===b&&(o=-o);var M=Math.cos(o),F=Math.sin(o);m=new Te(M,F,-F,M,0,0)}else o&&o instanceof Te&&(m=o);y!==b||m||(m=Ee),void 0!==(c=r.charSpace||Jt)&&(v+=k(A(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=r.horizontalScale)&&(v+=k(100*p)+" Tz\n"),r.lang;var O=-1,z=void 0!==r.renderingMode?r.renderingMode:r.stroke,B=f.internal.getCurrentPageInfo().pageContext;switch(z){case 0:case!1:case"fill":O=0;break;case 1:case!0:case"stroke":O=1;break;case 2:case"fillThenStroke":O=2;break;case 3:case"invisible":O=3;break;case 4:case"fillAndAddForClipping":O=4;break;case 5:case"strokeAndAddPathForClipping":O=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":O=6;break;case 7:case"addToPathForClipping":O=7}var U=void 0!==B.usedRenderingMode?B.usedRenderingMode:-1;-1!==O?v+=O+" Tr\n":-1!==U&&(v+="0 Tr\n"),-1!==O&&(B.usedRenderingMode=O),l=r.align||"left";var q,W=te*w,H=f.internal.pageSize.getWidth(),V=ge[ue];c=r.charSpace||Jt,d=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var G=[],K=function(e){return f.getStringUnitWidth(e,{font:V,charSpace:c,fontSize:te,doKerning:!1})*te/j};if("[object Array]"===Object.prototype.toString.call(e)){var Y;i=C(e),"left"!==l&&(q=i.map(K));var $,J=0;if("right"===l){t-=q[0],e=[],E=i.length;for(var Q=0;Q<E;Q++)0===Q?($=qt(t),Y=Wt(n)):($=A(J-q[Q]),Y=-W),e.push([i[Q],$,Y]),J=q[Q]}else if("center"===l){t-=q[0]/2,e=[],E=i.length;for(var Z=0;Z<E;Z++)0===Z?($=qt(t),Y=Wt(n)):($=A((J-q[Z])/2),Y=-W),e.push([i[Z],$,Y]),J=q[Z]}else if("left"===l){e=[],E=i.length;for(var ee=0;ee<E;ee++)e.push(i[ee])}else if("justify"===l&&"Identity-H"===V.encoding){e=[],E=i.length,d=0!==d?d:H;for(var ne=0,re=0;re<E;re++)if(Y=0===re?Wt(n):-W,$=0===re?qt(t):ne,re<E-1){var se=A((d-q[re])/(i[re].split(" ").length-1)),ie=i[re].split(" ");e.push([ie[0]+" ",$,Y]),ne=0;for(var oe=1;oe<ie.length;oe++){var le=(K(ie[oe-1]+" "+ie[oe])-K(ie[oe]))*j+se;oe==ie.length-1?e.push([ie[oe],le,0]):e.push([ie[oe]+" ",le,0]),ne-=le}}else e.push([i[re],$,Y]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],E=i.length,d=0!==d?d:H,re=0;re<E;re++){Y=0===re?Wt(n):-W,$=0===re?qt(t):0;var ce=i[re].split(" ").length-1,de=ce>0?(d-q[re])/ce:0;re<E-1?G.push(k(A(de))):G.push(0),e.push([i[re],$,Y])}}}!0===("boolean"==typeof r.R2L?r.R2L:ae)&&(e=_(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ce.publish("postProcessText",s),e=s.text,x=s.mutex.isHex||!1;var he=ge[ue].encoding;"WinAnsiEncoding"!==he&&"StandardEncoding"!==he||(e=_(e,function(e,t,n){return[N(e),t,n]})),i=C(e),e=[];for(var pe,me,fe,xe=Array.isArray(i[0])?1:0,ve="",be=function(e,t,n){var a="";return n instanceof Te?(n="number"==typeof r.angle?Le(n,new Te(1,0,0,1,e,t)):Le(new Te(1,0,0,1,e,t),n),y===b&&(n=Le(new Te(1,0,0,-1,0,0),n)),a=n.join(" ")+" Tm\n"):a=k(e)+" "+k(t)+" Td\n",a},ye=0;ye<i.length;ye++){switch(ve="",xe){case 1:fe=(x?"<":"(")+i[ye][0]+(x?">":")"),pe=parseFloat(i[ye][1]),me=parseFloat(i[ye][2]);break;case 0:fe=(x?"<":"(")+i[ye]+(x?">":")"),pe=qt(t),me=Wt(n)}void 0!==G&&void 0!==G[ye]&&(ve=G[ye]+" Tw\n"),0===ye?e.push(ve+be(pe,me,m)+fe):0===xe?e.push(ve+fe):1===xe&&e.push(ve+be(pe,me,m)+fe)}e=0===xe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var we="BT\n/";return we+=ue+" "+te+" Tf\n",we+=k(te*w)+" TL\n",we+=Yt+"\n",we+=v,we+=e,X(we+="ET"),h[ue]=!0,f};var jt=p.__private__.clip=p.clip=function(e){return X("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return jt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return X("n"),this};var Nt=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return Nt(e)&&(c=e),this};var kt=p.__private__.getStyle=p.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},St=p.close=function(){return X("h"),this};p.stroke=function(){return X("S"),this},p.fill=function(e){return Ct("f",e),this},p.fillEvenOdd=function(e){return Ct("f*",e),this},p.fillStroke=function(e){return Ct("B",e),this},p.fillStrokeEvenOdd=function(e){return Ct("B*",e),this};var Ct=function(e,t){"object"===(0,Ys.A)(t)?At(t,e):X(e)},_t=function(e){null===e||y===b&&void 0===e||(e=kt(e),X(e))};function Pt(e,t,n,r,a){var s=new Ou(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,a||this.matrix);s.stream=this.stream;var i=e+"$$"+this.cloneIndex+++"$$";return Ie(i,s),s}var At=function(e,t){var n=ye[e.key],r=be[n];if(r instanceof Fu)X("q"),X(Dt(t)),r.gState&&p.setGState(r.gState),X(e.matrix.toString()+" cm"),X("/"+n+" sh"),X("Q");else if(r instanceof Ou){var a=new Te(1,0,0,-1,0,pn());e.matrix&&(a=a.multiply(e.matrix||Ee),n=Pt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,a).id),X("q"),X("/Pattern cs"),X("/"+n+" scn"),r.gState&&p.setGState(r.gState),X(t),X("Q")}},Dt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tt=p.moveTo=function(e,t){return X(k(A(e))+" "+k(D(t))+" m"),this},Lt=p.lineTo=function(e,t){return X(k(A(e))+" "+k(D(t))+" l"),this},Et=p.curveTo=function(e,t,n,r,a,s){return X([k(A(e)),k(D(t)),k(A(n)),k(D(r)),k(A(a)),k(D(s)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.line");return y===v?this.lines([[n-e,r-t]],e,t,[1,1],a||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,n,r,a,s){var i,o,l,c,d,u,h,p,m,f,g,x;if("number"==typeof e&&(x=n,n=t,t=e,e=x),r=r||[1,1],s=s||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Nt(a)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(Tt(t,n),i=r[0],o=r[1],c=e.length,f=t,g=n,l=0;l<c;l++)2===(d=e[l]).length?(f=d[0]*i+f,g=d[1]*o+g,Lt(f,g)):(u=d[0]*i+f,h=d[1]*o+g,p=d[2]*i+f,m=d[3]*o+g,f=d[4]*i+f,g=d[5]*o+g,Et(u,h,p,m,f,g));return s&&St(),_t(a),this},p.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Tt(r[0],r[1]);break;case"l":Lt(r[0],r[1]);break;case"c":Et.apply(this,r);break;case"h":St()}}return this},p.__private__.rect=p.rect=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.rect");return y===v&&(r=-r),X([k(A(e)),k(D(t)),k(A(n)),k(A(r)),"re"].join(" ")),_t(a),this},p.__private__.triangle=p.triangle=function(e,t,n,r,a,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s)||!Nt(i))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[a-n,s-r],[e-a,t-s]],e,t,[1,1],i,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,r,a,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s)||!Nt(i))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return a=Math.min(a,.5*n),s=Math.min(s,.5*r),this.lines([[n-2*a,0],[a*o,0,a,s-s*o,a,s],[0,r-2*s],[0,s*o,-a*o,s,-a,s],[2*a-n,0],[-a*o,0,-a,-s*o,-a,-s],[0,2*s-r],[0,-s*o,a*o,-s,a,-s]],e+a,t,[1,1],i,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,i=4/3*(Math.SQRT2-1)*r;return Tt(e+n,t),Et(e+n,t-i,e+s,t-r,e,t-r),Et(e-s,t-r,e-n,t-i,e-n,t),Et(e-n,t+i,e-s,t+r,e,t+r),Et(e+s,t+r,e+n,t+i,e+n,t),_t(a),this},p.__private__.circle=p.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Nt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},p.setFont=function(e,t,n){return n&&(t=N(t,n)),ue=lt(e,t,{disableWarning:!1}),this};var It=p.__private__.getFont=p.getFont=function(){return ge[lt.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,n={};for(e in xe)if(xe.hasOwnProperty(e))for(t in n[e]=[],xe[e])xe[e].hasOwnProperty(t)&&n[e].push(t);return n},p.addFont=function(e,t,n,r,a){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?a=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=N(n,r)),tt.call(this,e,t,n,a=a||"Identity-H")};var Rt,Mt=e.lineWidth||.200025,Ft=p.__private__.getLineWidth=p.getLineWidth=function(){return Mt},Ot=p.__private__.setLineWidth=p.setLineWidth=function(e){return Mt=e,X(k(A(e))+" w"),this};p.__private__.setLineDash=zu.API.setLineDash=zu.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(A(e))}).join(" "),t=k(A(t)),X("["+e+"] "+t+" d"),this};var zt=p.__private__.getLineHeight=p.getLineHeight=function(){return te*Rt};p.__private__.getLineHeight=p.getLineHeight=function(){return te*Rt};var Bt=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Rt=e),this},Ut=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Rt};Bt(e.lineHeight);var qt=p.__private__.getHorizontalCoordinate=function(e){return A(e)},Wt=p.__private__.getVerticalCoordinate=function(e){return y===b?e:Se[z].mediaBox.topRightY-Se[z].mediaBox.bottomLeftY-A(e)},Ht=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return k(qt(e))},Vt=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return k(Wt(e))},Gt=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return qe(Gt)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,r){return Gt=We({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),X(Gt),this};var Kt=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return qe(Kt)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,r){return Kt=We({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),X(Kt),this};var Yt=e.textColor||"0 g",$t=p.__private__.getTextColor=p.getTextColor=function(){return qe(Yt)};p.__private__.setTextColor=p.setTextColor=function(e,t,n,r){return Yt=We({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Jt=e.charSpace,Xt=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Jt||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jt=e,this};var Qt=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qt=t,X(t+" J"),this};var Zt=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,X(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(k(A(e))+" M"),this},p.GState=Ru,p.setGState=function(e){(e="string"==typeof e?we[je[e]]:en(null,e)).equals(Ne)||(X("/"+e.id+" gs"),Ne=e)};var en=function(e,t){if(!e||!je[e]){var n=!1;for(var r in we)if(we.hasOwnProperty(r)&&we[r].equals(t)){n=!0;break}if(n)t=we[r];else{var a="GS"+(Object.keys(we).length+1).toString(10);we[a]=t,t.id=a}return e&&(je[e]=t.id),Ce.publish("addGState",t),t}};p.addGState=function(e,t){return en(e,t),this},p.saveGraphicsState=function(){return X("q"),ve.push({key:ue,size:te,color:Yt}),this},p.restoreGraphicsState=function(){X("Q");var e=ve.pop();return ue=e.key,te=e.size,Yt=e.color,Ne=null,this},p.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},p.comment=function(e){return X("#"+e),this};var tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},nn=function(e,t,n,r){tn.call(this,e,t),this.type="rect";var a=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var s=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}}),this},rn=function(){this.page=ke,this.currentPage=z,this.pages=K.slice(0),this.pagesContext=Se.slice(0),this.x=pe,this.y=me,this.matrix=fe,this.width=on(z),this.height=cn(z),this.outputDestination=$,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){ke=this.page,z=this.currentPage,Se=this.pagesContext,K=this.pages,pe=this.x,me=this.y,fe=this.matrix,ln(z,this.width),dn(z,this.height),$=this.outputDestination};var an=function(e,t,n,r,a){De.push(new rn),ke=z=0,K=[],pe=e,me=t,fe=a,rt([n,r])};for(var sn in p.beginFormObject=function(e,t,n,r,a){return an(e,t,n,r,a),this},p.endFormObject=function(e){return function(e){if(Ae[e])De.pop().restore();else{var t=new rn,n="Xo"+(Object.keys(Pe).length+1).toString(10);t.id=n,Ae[e]=n,Pe[n]=t,Ce.publish("addFormObject",t),De.pop().restore()}}(e),this},p.doFormObject=function(e,t){var n=Pe[Ae[e]];return X("q"),X(t.toString()+" cm"),X("/"+n.id+" Do"),X("Q"),this},p.getFormObject=function(e){var t=Pe[Ae[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(hu(ft(mt()),e),"function"==typeof hu.unload&&iu.setTimeout&&setTimeout(hu.unload,911),this):new Promise(function(t,n){try{var a=hu(ft(mt()),e);"function"==typeof hu.unload&&iu.setTimeout&&setTimeout(hu.unload,911),t(a)}catch(r){n(r.message)}})},zu.API)zu.API.hasOwnProperty(sn)&&("events"===sn&&zu.API.events.length?function(e,t){var n,r,a;for(a=t.length-1;-1!==a;a--)n=t[a][0],r=t[a][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ce,zu.API.events):p[sn]=zu.API[sn]);function on(e){return Se[e].mediaBox.topRightX-Se[e].mediaBox.bottomLeftX}function ln(e,t){Se[e].mediaBox.topRightX=t+Se[e].mediaBox.bottomLeftX}function cn(e){return Se[e].mediaBox.topRightY-Se[e].mediaBox.bottomLeftY}function dn(e,t){Se[e].mediaBox.topRightY=t+Se[e].mediaBox.bottomLeftY}var un=p.getPageWidth=function(e){return on(e=e||z)/he},hn=p.setPageWidth=function(e,t){ln(e,t*he)},pn=p.getPageHeight=function(e){return cn(e=e||z)/he},mn=p.setPageHeight=function(e,t){dn(e,t*he)};return p.internal={pdfEscape:nt,getStyle:kt,getFont:It,getFontSize:re,getCharSpace:Xt,getTextColor:$t,getLineHeight:zt,getLineHeightFactor:Ut,getLineWidth:Ft,write:Q,getHorizontalCoordinate:qt,getVerticalCoordinate:Wt,getCoordinateString:Ht,getVerticalCoordinateString:Vt,collections:{},newObject:Me,newAdditionalObject:ze,newObjectDeferred:Fe,newObjectDeferredBegin:Oe,getFilters:He,putStream:Ve,events:Ce,scaleFactor:he,pageSize:{getWidth:function(){return un(z)},setWidth:function(e){hn(z,e)},getHeight:function(){return pn(z)},setHeight:function(e){mn(z,e)}},encryptionOptions:d,encryption:vt,getEncryptor:function(e){return null!==d?vt.encryptor(e,0):function(e){return e}},output:gt,getNumberOfPages:ot,get pages(){return K},out:X,f2:_,f3:P,getPageInfo:bt,getPageInfoByObjId:yt,getCurrentPageInfo:wt,getPDFVersion:f,Point:tn,Rectangle:nn,Matrix:Te,hasHotfix:xt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return un(z)},set:function(e){hn(z,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return pn(z)},set:function(e){mn(z,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(h[r]=!0);var a=e[t][0].split("-");et({id:r,fontName:a[0],fontStyle:a[1]||""})}Ce.publish("addFonts",{fonts:ge,dictionary:xe})}.call(p,ee),ue="F1",at(a,n),Ce.publish("initialized"),p}Lu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Lu.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Lu.prototype.processOwnerPassword=function(e,t){return Du(_u(t).substr(0,5),e)},Lu.prototype.encryptor=function(e,t){var n=_u(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Du(n,e)}},Ru.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,Ys.A)(e)!==(0,Ys.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},zu.API={events:[]},zu.version="3.0.4";var Bu=zu.API,Uu=1,qu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Hu=function(e){return e.toFixed(2)},Vu=function(e){return e.toFixed(5)};Bu.__acroform__={};var Gu=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Ku=function(e){return e*Uu},Yu=function(e){var t=new dh,n=kh.internal.getHeight(e)||0,r=kh.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Hu(r)),Number(Hu(n))],t},$u=Bu.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Ju=Bu.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Xu=Bu.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Qu=Bu.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Xu(e,t-1)},Zu=Bu.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $u(e,t-1)},eh=Bu.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ju(e,t-1)},th=Bu.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],s=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=n(a)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(a+i)||0,l.upperRight_Y=r(s)||0,[Number(Hu(l.lowerLeft_X)),Number(Hu(l.lowerLeft_Y)),Number(Hu(l.upperRight_X)),Number(Hu(l.upperRight_Y))]},nh=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=rh(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Hu(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Yu(e);return s.scope=e.scope,s.stream=t.join("\n"),s}},rh=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(e){return e.split("\n")}):a.map(function(e){return[e]});var s=n,i=kh.internal.getHeight(e)||0;i=i<0?-i:i;var o=kh.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,r){if(t+1<a.length){var s=n+" "+a[t+1][0];return ah(s,e,r).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,d,u=ah("3",e,s).height,h=e.multiline?i-s:(i-u)/2,p=h+=2,m=0,f=0,g=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+ah(t,e,s=12).width+", FieldWidth:"+o+"\n";break}for(var x="",v=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var y=!1;if(1!==a[b].length&&g!==a[b].length-1){if((u+2)*(v+2)+2>i)continue e;x+=a[b][g],y=!0,f=b,b--}else{x=" "==(x+=a[b][g]+" ").substr(x.length-1)?x.substr(0,x.length-1):x;var w=parseInt(b),j=l(w,x,s),N=b>=a.length-1;if(j&&!N){x+=" ",g=0;continue}if(j||N){if(N)f=w;else if(e.multiline&&(u+2)*(v+2)+2>i)continue e}else{if(!e.multiline)continue e;if((u+2)*(v+2)+2>i)continue e;f=w}}for(var k="",S=m;S<=f;S++){var C=a[S];if(e.multiline){if(S===f){k+=C[g]+" ",g=(g+1)%C.length;continue}if(S===m){k+=C[C.length-1]+" ";continue}}k+=C[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,d=ah(k,e,s).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=Hu(c)+" "+Hu(p)+" Td\n",t+="("+qu(k)+") Tj\n",t+=-Hu(c)+" 0 Td\n",p=-(s+2),d=0,m=y?f:f+1,v++,x=""}break}return r.text=t,r.fontSize=s,r},ah=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},sh={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ih=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},oh=Bu.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(0!==s&&(a+=" "),(0,Ys.A)(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":"/"!==e[s].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),a+="("+qu(r(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},lh=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+qu(r(e))+")"},ch=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ch.prototype.toString=function(){return this.objId+" 0 R"},ch.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ch.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:oh(a,this.objId,this.scope)}):a instanceof ch?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):"function"!=typeof a&&e.push({key:r,value:a}))}return e};var dh=function(){ch.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Gu(dh,ch);var uh=function(){ch.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+qu(t(e))+")"}},set:function(t){e=t}})};Gu(uh,ch);var hh=function e(){ch.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(t,3))},set:function(e){!0===Boolean(e)?this.F=Zu(t,3):this.F=eh(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof yh)return;s="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+qu(t(s))+")"},set:function(e){s=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(e){s=e}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Uu:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof yh||this instanceof jh))return lh(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof xh==0?lh(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof xh==0?"("===e.substr(0,1)?Wu(e.substr(1,e.length-2)):Wu(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xh==1?Wu(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof xh==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xh==0?lh(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof xh==0?"("===e.substr(0,1)?Wu(e.substr(1,e.length-2)):Wu(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xh==1?Wu(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof xh==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){e=Boolean(e),f=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(e){m=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,1):this.Ff=eh(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,2):this.Ff=eh(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,3):this.Ff=eh(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Gu(hh,ch);var ph=function(){hh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return oh(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,a=[];r=t.exec(e);)a.push(r[n]);return a}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,18):this.Ff=eh(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Zu(this.Ff,19):this.Ff=eh(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Zu(this.Ff,20),t.sort()):this.Ff=eh(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,22):this.Ff=eh(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,23):this.Ff=eh(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,27):this.Ff=eh(this.Ff,27)}}),this.hasAppearanceStream=!1};Gu(ph,hh);var mh=function(){ph.call(this),this.fontName="helvetica",this.combo=!1};Gu(mh,ph);var fh=function(){mh.call(this),this.combo=!0};Gu(fh,mh);var gh=function(){fh.call(this),this.edit=!0};Gu(gh,fh);var xh=function(){hh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,15):this.Ff=eh(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,16):this.Ff=eh(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,17):this.Ff=eh(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,26):this.Ff=eh(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+qu(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,Ys.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Gu(xh,hh);var vh=function(){xh.call(this),this.pushButton=!0};Gu(vh,xh);var bh=function(){xh.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Gu(bh,xh);var yh=function(){var e,t;hh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+qu(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,Ys.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kh.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gu(yh,hh),bh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},bh.prototype.createOption=function(e){var t=new yh;return t.Parent=this,t.optionName=e,this.Kids.push(t),Sh.call(this.scope,t),t};var wh=function(){xh.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kh.CheckBox.createAppearanceStream()};Gu(wh,xh);var jh=function(){hh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,13):this.Ff=eh(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,21):this.Ff=eh(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,23):this.Ff=eh(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,24):this.Ff=eh(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,25):this.Ff=eh(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,26):this.Ff=eh(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gu(jh,hh);var Nh=function(){jh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Qu(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Zu(this.Ff,14):this.Ff=eh(this.Ff,14)}}),this.password=!0};Gu(Nh,jh);var kh={CheckBox:{createAppearanceStream:function(){return{N:{On:kh.CheckBox.YesNormal},D:{On:kh.CheckBox.YesPushDown,Off:kh.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Yu(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=rh(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Hu(kh.internal.getWidth(e))+" "+Hu(kh.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Hu(s.fontSize)+" Tf "+a),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=Yu(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],s=kh.internal.getHeight(e),i=kh.internal.getWidth(e),o=rh(e,e.caption);return a.push("1 g"),a.push("0 0 "+Hu(i)+" "+Hu(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Hu(i-1)+" "+Hu(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+Hu(o.fontSize)+" Tf "+r),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=Yu(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Hu(kh.internal.getWidth(e))+" "+Hu(kh.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:kh.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=kh.RadioButton.Circle.YesNormal,t.D[e]=kh.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Yu(e);t.scope=e.scope;var n=[],r=kh.internal.getWidth(e)<=kh.internal.getHeight(e)?kh.internal.getWidth(e)/4:kh.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=kh.internal.Bezier_C,s=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Vu(kh.internal.getWidth(e)/2)+" "+Vu(kh.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Yu(e);t.scope=e.scope;var n=[],r=kh.internal.getWidth(e)<=kh.internal.getHeight(e)?kh.internal.getWidth(e)/4:kh.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*kh.internal.Bezier_C).toFixed(5)),i=Number((r*kh.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Vu(kh.internal.getWidth(e)/2)+" "+Vu(kh.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Vu(kh.internal.getWidth(e)/2)+" "+Vu(kh.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=Yu(e);t.scope=e.scope;var n=[],r=kh.internal.getWidth(e)<=kh.internal.getHeight(e)?kh.internal.getWidth(e)/4:kh.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*kh.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Vu(kh.internal.getWidth(e)/2)+" "+Vu(kh.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:kh.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=kh.RadioButton.Cross.YesNormal,t.D[e]=kh.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Yu(e);t.scope=e.scope;var n=[],r=kh.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Hu(kh.internal.getWidth(e)-2)+" "+Hu(kh.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Hu(r.x1.x)+" "+Hu(r.x1.y)+" m"),n.push(Hu(r.x2.x)+" "+Hu(r.x2.y)+" l"),n.push(Hu(r.x4.x)+" "+Hu(r.x4.y)+" m"),n.push(Hu(r.x3.x)+" "+Hu(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Yu(e);t.scope=e.scope;var n=kh.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Hu(kh.internal.getWidth(e))+" "+Hu(kh.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Hu(kh.internal.getWidth(e)-2)+" "+Hu(kh.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Hu(n.x1.x)+" "+Hu(n.x1.y)+" m"),r.push(Hu(n.x2.x)+" "+Hu(n.x2.y)+" l"),r.push(Hu(n.x4.x)+" "+Hu(n.x4.y)+" m"),r.push(Hu(n.x3.x)+" "+Hu(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=Yu(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Hu(kh.internal.getWidth(e))+" "+Hu(kh.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};kh.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=kh.internal.getWidth(e),n=kh.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},kh.internal.getWidth=function(e){var t=0;return"object"===(0,Ys.A)(e)&&(t=Ku(e.Rect[2])),t},kh.internal.getHeight=function(e){var t=0;return"object"===(0,Ys.A)(e)&&(t=Ku(e.Rect[3])),t};var Sh=Bu.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(hh.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(sh)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Uu=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new uh,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&ih(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var a=e[r],s=[],i=a.Rect;if(a.Rect&&(a.Rect=th(a.Rect,t)),t.internal.newObjectDeferredBegin(a.objId,!0),a.DA=kh.createDefaultAppearanceStream(a),"object"===(0,Ys.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(s=a.getKeyValueListForStream()),a.Rect=i,a.hasAppearanceStream&&!a.appearanceStreamContent){var o=nh(a);s.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(a.appearanceStreamContent){var l="";for(var c in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(c)){var d=a.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var r in d)if(d.hasOwnProperty(r)){var u=d[r];"function"==typeof u&&(u=u.call(t,a)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,a)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:s,objectId:a.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),"object"===(0,Ys.A)(a)&&"function"==typeof a.putStream&&a.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof hh))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Bu.AcroFormChoiceField=ph,Bu.AcroFormListBox=mh,Bu.AcroFormComboBox=fh,Bu.AcroFormEditBox=gh,Bu.AcroFormButton=xh,Bu.AcroFormPushButton=vh,Bu.AcroFormRadioButton=bh,Bu.AcroFormCheckBox=wh,Bu.AcroFormTextField=jh,Bu.AcroFormPasswordField=Nh,Bu.AcroFormAppearance=kh,Bu.AcroForm={ChoiceField:ph,ListBox:mh,ComboBox:fh,EditBox:gh,Button:xh,PushButton:vh,RadioButton:bh,CheckBox:wh,TextField:jh,PasswordField:Nh,Appearance:kh},zu.AcroForm={ChoiceField:ph,ListBox:mh,ComboBox:fh,EditBox:gh,Button:xh,PushButton:vh,RadioButton:bh,CheckBox:wh,TextField:jh,PasswordField:Nh,Appearance:kh};zu.AcroForm;function Ch(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(e,t){var a,s,i,o,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(j(e))for(l in r)for(i=r[l],a=0;a<i.length;a+=1){for(o=!0,s=0;s<i[a].length;s+=1)if(void 0!==i[a][s]&&i[a][s]!==e[s]){o=!1;break}if(!0===o){c=l;break}}else for(l in r)for(i=r[l],a=0;a<i.length;a+=1){for(o=!0,s=0;s<i[a].length;s+=1)if(void 0!==i[a][s]&&i[a][s]!==e.charCodeAt(s)){o=!1;break}if(!0===o){c=l;break}}return c===n&&t!==n&&(c=t),c},s=function e(t){for(var n=this.internal.write,r=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.width}),s.push({key:"Height",value:t.height}),t.colorSpace===x.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===x.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var i="",o=0,l=t.transparency.length;o<l;o++)i+=t.transparency[o]+" "+t.transparency[o]+" ";s.push({key:"Mask",value:"["+i+"]"})}void 0!==t.sMask&&s.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d,u=null!==(d=t.sMaskBitsPerComponent)&&void 0!==d?d:t.bitsPerComponent,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:u,data:t.sMask};"filter"in t&&(h.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(u," /Columns ").concat(t.width),h.filter=t.filter),e.call(this,h)}if(t.colorSpace===x.INDEXED){var p=this.internal.newObject();r({data:k(new Uint8Array(t.palette)),objectId:p}),n("endobj")}},i=function(){var e=this.internal.collections[t+"images"];for(var n in e)s.call(this,e[n])},o=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var a in n)r("/I"+(e=n[a]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,Ys.A)(e)&&1===e.nodeType},p=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return mu(unescape(r).split("base64,").pop());var a=e.loadFile(r,!0);if(void 0!==a)return a}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return mu(t.toDataURL(s,1).split("base64,").pop())}},m=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},f=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,a,s){var i=f.call(this,n,r,a),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(n=i[0],r=i[1],d[a.index]=a,s){s*=Math.PI/180;var u=Math.cos(s),h=Math.sin(s),p=function(e){return e.toFixed(4)},m=[p(u),p(h),p(-1*h),p(u),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,o(e),l(t+r),"cm"].join(" ")),this.internal.write(m.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(j(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},y=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},N=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=j(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,a,s,i,o,c,d;if("number"==typeof arguments[1]?(t=n,r=arguments[1],a=arguments[2],s=arguments[3],i=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7]):(t=arguments[1],r=arguments[2],a=arguments[3],s=arguments[4],i=arguments[5],o=arguments[6],c=arguments[7],d=arguments[8]),"object"===(0,Ys.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||n,r=u.x||r||0,a=u.y||a||0,s=u.w||u.width||s,i=u.h||u.height||i,o=u.alias||o,c=u.compression||c,d=u.rotation||u.angle||d}var p=this.internal.getFilters();if(void 0===c&&-1!==p.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var m=S.call(this,e,t,o,c);return g.call(this,r,a,s,i,m,d),this};var S=function(t,r,s,i){var o,l,c;if("string"==typeof t&&a(t)===n){t=unescape(t);var f=C(t,!1);(""!==f||void 0!==(f=e.loadFile(t,!0)))&&(t=f)}if(h(t)&&(t=p(t,r)),r=a(t,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=s)||0===c.length)&&(s=function(e){return"string"==typeof e||j(e)?b(e):j(e.data)?b(e.data):null}(t)),(o=m.call(this,s))||(t instanceof Uint8Array||"RGBA"===r||(l=t,t=N(t)),o=this["process"+r.toUpperCase()](t,d.call(this),s,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:v.NONE}(i),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},C=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var s;n=null!==(s=w(e))&&void 0!==s?s:e;try{r=mu(n)}catch(a){if(t)throw y(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+a.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,s,i="";if(h(t)&&(t=p(t)),"string"==typeof t&&a(t)===n&&(""===(i=C(t,!1))&&(i=e.loadFile(t)||""),t=i),s=a(t),!u(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(t instanceof Uint8Array||(t=N(t)),!(r=this["process"+s.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=s,r}}(zu.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};zu.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,a,s=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),x=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(n.bounds.x)+" "+i(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",a+=" /Popup "+f.objId+" 0 R",a+=" /P "+o.objId+" 0 R",a+=" /T ("+h(g(x))+") >>",m.content=a;var v=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(n.bounds.x+30)+" "+i(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+i(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(a+=" /Open true"),a+=" >>",f.content=a,this.internal.write(m.objId,"0 R",f.objId,"0 R");break;case"freetext":r="/Rect ["+s(n.bounds.x)+" "+i(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(p(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var y=this.annotations._nameMap[n.options.name];n.options.pageNumber=y.page,n.options.top=y.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var w=i(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=a&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,a){var s=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:i(e),y:o(t),w:i(e+n),h:o(t+r)},options:a,type:"link"})},e.textWithLink=function(e,t,n,r){var a,s,i=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){s=r.maxWidth;var l=this.splitTextToSize(e,s).length;a=Math.ceil(o*l)}else s=i,a=o;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=i/2),"right"===r.align&&(t-=i),this.link(t,n-o,s,a,r),i},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(zu.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},i=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return i(e)&&a.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return i(e)&&s(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,a="",s=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(s++,"number"==typeof(r=r[e.charCodeAt(t)])&&(a+=String.fromCharCode(r),r=n,s=0),t===e.length-1&&(r=n,a+=e.charAt(t-(s-1)),t-=s-1,s=0)):(r=n,a+=e.charAt(t-s),t-=s,s=0);return a};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return i(e)?!1===s(e)?-1:!c(e)||!i(t)&&!i(n)||!i(n)&&o(t)||o(e)&&!i(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&i(t)&&!o(t)&&i(n)&&c(n)?3:o(e)||!i(n)?1:2:-1},p=function(e){var n=0,r=0,a=0,s="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),r=0;r<c[n].length;r+=1)s=c[n][r],o=c[n][r-1],l=c[n][r+1],i(s)?(a=h(s,o,l),d[n]+=-1!==a?String.fromCharCode(t[s.charCodeAt(0)][a]):s):d[n]+=s;d[n]=u(d[n])}return d.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([p(t[r][0]),t[r][1],t[r][2]]):n.push([p(t[r])]);e=n}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",m])}(zu.API),zu.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(zu.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var i=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return i},set:function(e){i=e}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),a=t.font||this.getFont(),s=t.scaleFactor||this.internal.scaleFactor,i=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)i<(l=this.getStringUnitWidth(e[u],{font:a})*n)&&(i=l);return 0!==i&&(o=e.length),{w:i/=s,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var e;e=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var a=this.internal.__cell__.lastCell,i=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==a.lineNumber&&(a.lineNumber===e.lineNumber?(e.x=(a.x||0)+(a.width||0),e.y=a.y||0):a.y+a.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=a.y+a.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-i,e.y+i,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+i,{align:"center",baseline:"top",maxWidth:e.width-i-i}):this.text(e.text,e.x+i,e.y+i,{align:"left",baseline:"top",maxWidth:e.width-i-i})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,d){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,h,p,m,f=[],g=[],x=[],v={},b={},y=[],w=[],j=(d=d||{}).autoSize||!1,N=!1!==d.printHeaders,k=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,S=d.margins||Object.assign({width:this.getPageWidth()},t),C="number"==typeof d.padding?d.padding:3,_=d.headerBackgroundColor||"#c8c8c8",P=d.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=_,this.internal.__cell__.headerTextColor=P,this.setFontSize(k),null==c)g=f=Object.keys(l[0]),x=f.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,Ys.A)(c[0]))for(f=c.map(function(e){return e.name}),g=c.map(function(e){return e.prompt||e.name||""}),x=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)b[c[u].name]=.7499990551181103*c[u].width;else Array.isArray(c)&&"string"==typeof c[0]&&(g=f=c,x=f.map(function(){return"left"}));if(j||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<f.length;u+=1){for(v[m=f[u]]=l.map(function(e){return e[m]}),this.setFont(void 0,"bold"),y.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=v[m],this.setFont(void 0,"normal"),p=0;p<h.length;p+=1)y.push(this.getTextDimensions(h[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[m]=Math.max.apply(null,y)+C+C,y=[]}if(N){var A={};for(u=0;u<f.length;u+=1)A[f[u]]={},A[f[u]].text=g[u],A[f[u]].align=x[u];var D=o.call(this,A,b);w=f.map(function(t){return new s(e,n,b[t],D,A[t].text,void 0,A[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var T=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var L=o.call(this,l[u],b);for(p=0;p<f.length;p+=1){var E=l[u][f[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:p,data:E},this),i.call(this,new s(e,n,b[f[p]],L,E,u+2,T[f[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var o=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(e).map(function(r){var a=e[r];return this.splitTextToSize(a.hasOwnProperty("text")?a.text:a,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/a+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var a;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){a=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(a.y=this.internal.__cell__.margins.top||0,l.push(a)),a.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,a),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(zu.API);var _h={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ph=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ah=Ch(Ph),Dh=[100,200,300,400,500,600,700,800,900],Th=Ch(Dh);function Lh(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return _h[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof Ah[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,r].join(" ")}}}function Eh(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var Ih={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Rh={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Mh(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Fh(e){return e.trimLeft()}function Oh(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function zh(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Bh,Uh,qh,Wh,Hh,Vh,Gh,Kh,Yh,$h=["times"];function Jh(e,t,n,r,a){var s=4,i=Zh;switch(a){case zu.API.image_compression.FAST:s=1,i=Qh;break;case zu.API.image_compression.MEDIUM:s=6,i=ep;break;case zu.API.image_compression.SLOW:s=9,i=tp}e=function(e,t,n,r){for(var a,s=e.length/t,i=new Uint8Array(e.length+s),o=[Xh,Qh,Zh,ep,tp],l=0;l<s;l+=1){var c=l*t,d=e.subarray(c,c+t);if(r)i.set(r(d,n,a),c+l);else{for(var u=o.length,h=[],p=0;p<u;p+=1)h[p]=o[p](d,n,a);var m=rp(h.concat());i.set(h[m],c+l)}a=d}return i}(e,t,Math.ceil(n*r/8),i);var o=Li(e,{level:s});return zu.API.__addimage__.arrayBufferToBinaryString(o)}function Xh(e){var t=Array.apply([],e);return t.unshift(0),t}function Qh(e,t){var n=e.length,r=[];r[0]=1;for(var a=0;a<n;a+=1){var s=e[a-t]||0;r[a+1]=e[a]-s+256&255}return r}function Zh(e,t,n){var r=e.length,a=[];a[0]=2;for(var s=0;s<r;s+=1){var i=n&&n[s]||0;a[s+1]=e[s]-i+256&255}return a}function ep(e,t,n){var r=e.length,a=[];a[0]=3;for(var s=0;s<r;s+=1){var i=e[s-t]||0,o=n&&n[s]||0;a[s+1]=e[s]+256-(i+o>>>1)&255}return a}function tp(e,t,n){var r=e.length,a=[];a[0]=4;for(var s=0;s<r;s+=1){var i=np(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);a[s+1]=e[s]-i+256&255}return a}function np(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),a=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=a&&r<=s?e:a<=s?t:n}function rp(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function ap(e,t,n){var r=t*n,a=Math.floor(r/8),s=16-(r-8*a+n),i=(1<<n)-1;return ip(e,a)>>s&i}function sp(e,t,n,r){var a=n*r,s=Math.floor(a/8),i=16-(a-8*s+r),o=(1<<r)-1,l=(t&o)<<i;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,s,ip(e,s)&~(o<<i)&65535|l)}function ip(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function op(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,i=1<<1+(7&a);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=i,t+=3*i);var c=!0,d=[],u=0,h=null,p=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var f=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],1&f||(h=null),p=f>>2&7,t++;break;case 254:for(;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++],w=y>>6&1,j=1<<1+(7&y),N=o,k=l,S=!1;y>>7&&(S=!0,N=t,k=j,t+=3*j);var C=t;for(t++;;){var _;if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}d.push({x:g,y:x,width:v,height:b,has_local_palette:S,palette_offset:N,palette_size:k,data_offset:C,data_length:t-C,transparent_index:h,interlaced:!!w,delay:u,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,r){var a=this.frameInfo(t),s=a.width*a.height,i=new Uint8Array(s);lp(e,a.data_offset,i,s);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),m=h,f=4*d;!0===a.interlaced&&(f+=4*n*7);for(var g=8,x=0,v=i.length;x<v;++x){var b=i[x];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*n*(g-1),m=h+(c+d)*(g<<1),g>>=1)),b===l)m+=4;else{var y=e[o+3*b],w=e[o+3*b+1],j=e[o+3*b+2];r[m++]=j,r[m++]=w,r[m++]=y,r[m++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var a=this.frameInfo(t),s=a.width*a.height,i=new Uint8Array(s);lp(e,a.data_offset,i,s);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),m=h,f=4*d;!0===a.interlaced&&(f+=4*n*7);for(var g=8,x=0,v=i.length;x<v;++x){var b=i[x];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*n*(g-1),m=h+(c+d)*(g<<1),g>>=1)),b===l)m+=4;else{var y=e[o+3*b],w=e[o+3*b+1],j=e[o+3*b+2];r[m++]=y,r[m++]=w,r[m++]=j,r[m++]=255}--u}}}function lp(e,t,n,r){for(var a=e[t++],s=1<<a,i=s+1,o=i+1,l=a+1,c=(1<<l)-1,d=0,u=0,h=0,p=e[t++],m=new Int32Array(4096),f=null;;){for(;d<16&&0!==p;)u|=e[t++]<<d,d+=8,1===p?p=e[t++]:--p;if(d<l)break;var g=u&c;if(u>>=l,d-=l,g!==s){if(g===i)break;for(var x=g<o?g:f,v=0,b=x;b>s;)b=m[b]>>8,++v;var y=b;if(h+v+(x!==g?1:0)>r)return void lu.log("Warning, gif stream longer than expected.");n[h++]=y;var w=h+=v;for(x!==g&&(n[h++]=y),b=x;v--;)b=m[b],n[--w]=255&b,b>>=8;null!==f&&o<4096&&(m[o++]=f<<8|y,o>=c+1&&l<12&&(++l,c=c<<1|1)),f=g}else o=i+1,c=(1<<(l=a+1))-1,f=null}return h!==r&&lu.log("Warning, gif stream shorter than expected."),n}function cp(e){var t,n,r,a,s,i=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),f=[],g=0,x=7,v=new Array(64),b=new Array(64),y=new Array(64),w=new Array(256),j=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(e,t){for(var n=0,r=0,a=new Array,s=1;s<=16;s++){for(var i=1;i<=e[s];i++)a[t[r]]=[],a[t[r]][0]=n,a[t[r]][1]=s,r++,n++;n*=2}return a}function E(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<x),n--,--x<0&&(255==g?(I(255),I(0)):I(g),x=7,g=0)}function I(e){f.push(e)}function R(e){I(e>>8&255),I(255&e)}function M(e,t,n,r,a){for(var s,i=a[0],o=a[240],l=function(e,t){var n,r,a,s,i,o,l,c,d,u,h=0;for(d=0;d<8;++d){n=e[h],r=e[h+1],a=e[h+2],s=e[h+3],i=e[h+4],o=e[h+5],l=e[h+6];var m=n+(c=e[h+7]),f=n-c,g=r+l,x=r-l,v=a+o,b=a-o,y=s+i,w=s-i,j=m+y,N=m-y,k=g+v,S=g-v;e[h]=j+k,e[h+4]=j-k;var C=.707106781*(S+N);e[h+2]=N+C,e[h+6]=N-C;var _=.382683433*((j=w+b)-(S=x+f)),P=.5411961*j+_,A=1.306562965*S+_,D=.707106781*(k=b+x),T=f+D,L=f-D;e[h+5]=L+P,e[h+3]=L-P,e[h+1]=T+A,e[h+7]=T-A,h+=8}for(h=0,d=0;d<8;++d){n=e[h],r=e[h+8],a=e[h+16],s=e[h+24],i=e[h+32],o=e[h+40],l=e[h+48];var E=n+(c=e[h+56]),I=n-c,R=r+l,M=r-l,F=a+o,O=a-o,z=s+i,B=s-i,U=E+z,q=E-z,W=R+F,H=R-F;e[h]=U+W,e[h+32]=U-W;var V=.707106781*(H+q);e[h+16]=q+V,e[h+48]=q-V;var G=.382683433*((U=B+O)-(H=M+I)),K=.5411961*U+G,Y=1.306562965*H+G,$=.707106781*(W=O+M),J=I+$,X=I-$;e[h+40]=X+K,e[h+24]=X-K,e[h+8]=J+Y,e[h+56]=J-Y,h++}for(d=0;d<64;++d)u=e[d]*t[d],p[d]=u>0?u+.5|0:u-.5|0;return p}(e,t),c=0;c<64;++c)m[N[c]]=l[c];var d=m[0]-n;n=m[0],0==d?E(r[0]):(E(r[h[s=32767+d]]),E(u[s]));for(var f=63;f>0&&0==m[f];)f--;if(0==f)return E(i),n;for(var g,x=1;x<=f;){for(var v=x;0==m[x]&&x<=f;)++x;var b=x-v;if(b>=16){g=b>>4;for(var y=1;y<=g;++y)E(o);b&=15}s=32767+m[x],E(a[(b<<4)+h[s]]),E(u[s]),x++}return 63!=f&&E(i),n}function F(e){e=Math.min(Math.max(e,1),100),s!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=i((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),o[N[n]]=r}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var u=i((a[s]*e+50)/100);u=Math.min(Math.max(u,1),255),l[N[s]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,m=0;m<8;m++)for(var f=0;f<8;f++)c[p]=1/(o[N[p]]*h[m]*h[f]*8),d[p]=1/(l[N[p]]*h[m]*h[f]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){s&&F(s),f=new Array,g=0,x=7,R(65496),R(65504),R(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),R(1),R(1),I(0),I(0),function(){R(65499),R(132),I(0);for(var e=0;e<64;e++)I(o[e]);I(1);for(var t=0;t<64;t++)I(l[t])}(),function(e,t){R(65472),R(17),I(8),R(t),R(e),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(e.width,e.height),function(){R(65476),R(418),I(0);for(var e=0;e<16;e++)I(k[e+1]);for(var t=0;t<=11;t++)I(S[t]);I(16);for(var n=0;n<16;n++)I(C[n+1]);for(var r=0;r<=161;r++)I(_[r]);I(1);for(var a=0;a<16;a++)I(P[a+1]);for(var s=0;s<=11;s++)I(A[s]);I(17);for(var i=0;i<16;i++)I(D[i+1]);for(var o=0;o<=161;o++)I(T[o])}(),R(65498),R(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var i=0,u=0,h=0;g=0,x=7,this.encode.displayName="_encode_";for(var p,m,w,N,L,O,z,B,U,q=e.data,W=e.width,H=e.height,V=4*W,G=0;G<H;){for(p=0;p<V;){for(L=V*G+p,z=-1,B=0,U=0;U<64;U++)O=L+(B=U>>3)*V+(z=4*(7&U)),G+B>=H&&(O-=V*(G+1+B-H)),p+z>=V&&(O-=p+z-V+4),m=q[O++],w=q[O++],N=q[O++],v[U]=(j[m]+j[w+256|0]+j[N+512|0]>>16)-128,b[U]=(j[m+768|0]+j[w+1024|0]+j[N+1280|0]>>16)-128,y[U]=(j[m+1280|0]+j[w+1536|0]+j[N+1792|0]>>16)-128;i=M(v,c,i,t,r),u=M(b,d,u,n,a),h=M(y,d,h,n,a),p+=32}G+=8}if(x>=0){var K=[];K[1]=x+1,K[0]=(1<<x+1)-1,E(K)}return R(65497),new Uint8Array(f)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=L(k,S),n=L(P,A),r=L(C,_),a=L(D,T),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var a=-(t-1);a<=-e;a++)h[32767+a]=n,u[32767+a]=[],u[32767+a][1]=n,u[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)j[e]=19595*e,j[e+256|0]=38470*e,j[e+512|0]=7471*e+32768,j[e+768|0]=-11059*e,j[e+1024|0]=-21709*e,j[e+1280|0]=32768*e+8421375,j[e+1536|0]=-27439*e,j[e+1792|0]=-5329*e}(),F(e)}function dp(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function up(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,a){for(var s=0;s<a;s++)e[t+s]=n[r+s]}function a(e,t,n,r){for(var a=0;a<r;a++)e[t+a]=n}function s(e){return new Int32Array(e)}function i(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,r,a){for(var s=a[r],i=0;i<s&&(n.push(a.length>r+1?[]:new t),!(a.length<r+1));i++)e(n[i],r+1,a)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,a,s){t(!(a%r));do{e[n+(a-=r)]=s}while(0<a)}function d(e,n,r,a,i){if(t(2328>=i),512>=i)var o=s(512);else if(null==(o=s(i)))return 0;return function(e,n,r,a,i,o){var d,h,p=n,m=1<<r,f=s(16),g=s(16);for(t(0!=i),t(null!=a),t(null!=e),t(0<r),h=0;h<i;++h){if(15<a[h])return 0;++f[a[h]]}if(f[0]==i)return 0;for(g[1]=0,d=1;15>d;++d){if(f[d]>1<<d)return 0;g[d+1]=g[d]+f[d]}for(h=0;h<i;++h)d=a[h],0<a[h]&&(o[g[d]++]=h);if(1==g[15])return(a=new u).g=0,a.value=o[0],c(e,p,1,m,a),m;var x,v=-1,b=m-1,y=0,w=1,j=1,N=1<<r;for(h=0,d=1,i=2;d<=r;++d,i<<=1){if(w+=j<<=1,0>(j-=f[d]))return 0;for(;0<f[d];--f[d])(a=new u).g=d,a.value=o[h++],c(e,p+y,i,N,a),y=l(y,d)}for(d=r+1,i=2;15>=d;++d,i<<=1){if(w+=j<<=1,0>(j-=f[d]))return 0;for(;0<f[d];--f[d]){if(a=new u,(y&b)!=v){for(p+=N,x=1<<(v=d)-r;15>v&&!(0>=(x-=f[v]));)++v,x<<=1;m+=N=1<<(x=v-r),e[n+(v=y&b)].g=x+r,e[n+v].value=p-n-v}a.g=d-r,a.value=o[h++],c(e,p+(y>>r),i,N,a),y=l(y,d)}}return w!=2*g[15]-1?0:m}(e,n,r,a,i,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function p(){this.G=i(5,u),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(On,h)}function m(e,n,r,a){t(null!=e),t(null!=n),t(2147483648>a),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+a,e.Zc=4<=a?r+a-4+1:r,C(e)}function f(e,t){for(var n=0;0<t--;)n|=P(e,128)<<t;return n}function g(e,t){var n=f(e,t);return _(e)?-n:n}function x(e,n,r,a){var s,i=0;for(t(null!=e),t(null!=n),t(4294967288>a),e.Sb=a,e.Ra=0,e.u=0,e.h=0,4<a&&(a=4),s=0;s<a;++s)i+=n[r+s]<<8*s;e.Ra=i,e.bb=a,e.oa=n,e.pa=r}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Un-8>>>0,++e.bb,e.u-=8;N(e)&&(e.h=1,e.u=0)}function b(e,n){if(t(0<=n),!e.h&&n<=Bn){var r=j(e)&zn[n];return e.u+=n,v(e),r}return e.h=1,e.u=0}function y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(e){return e.Ra>>>(e.u&Un-1)>>>0}function N(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Un}function k(e,t){e.u=t,e.h=N(e)}function S(e){e.u>=qn&&(t(e.u>=qn),v(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function _(e){return f(e,1)}function P(e,t){var n=e.Ca;0>e.b&&C(e);var r=e.b,a=n*t>>>8,s=(e.I>>>r>a)+0;for(s?(n-=a,e.I-=a+1<<r>>>0):n=a+1,r=n,a=0;256<=r;)a+=8,r>>=8;return r=7^a+Wn[r],e.b-=r,e.Ca=(n<<r)-1,s}function A(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function D(e,t){return e[t+0]|e[t+1]<<8}function T(e,t){return D(e,t)|e[t+2]<<16}function L(e,t){return D(e,t)|D(e,t+2)<<16}function E(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=s(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function I(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function R(){this.X=[],this.Xa=this.Mb=0}function M(e,n,r,a){t(null!=r),t(null!=a);var s=r[0],i=a[0];return 0==s&&(s=(e*i+n/2)/n),0==i&&(i=(n*s+e/2)/e),0>=s||0>=i?0:(r[0]=s,a[0]=i,1)}function F(e,t){return e+(1<<t)-1>>>t}function O(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function z(t,n){e[n]=function(n,r,a,s,i,o,l){var c;for(c=0;c<i;++c){var d=e[t](o[l+c-1],a,s+c);o[l+c]=O(n[r+c],d)}}}function B(){this.ud=this.hd=this.jd=0}function U(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function q(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function W(e,t){return q(e+(e-t+.5>>1))}function H(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function V(e,t,n,r,a,s,i){for(r=s[i-1],n=0;n<a;++n)s[i+n]=r=O(e[t+n],r)}function G(e,t,n,r,a){var s;for(s=0;s<n;++s){var i=e[t+s],o=i>>8&255,l=16711935&(l=(l=16711935&i)+((o<<16)+o));r[a+s]=(4278255360&i)+l>>>0}}function K(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function Y(e,t,n,r,a,s){var i;for(i=0;i<r;++i){var o=t[n+i],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),a[s+i]=(4278255360&o)+(d<<16)+c}}function $(t,n,r,a,s){e[n]=function(e,t,n,r,i,o,l,c,d){for(r=l;r<c;++r)for(l=0;l<d;++l)i[o++]=s(n[a(e[t++])])},e[t]=function(t,n,i,o,l,c,d){var u=8>>t.b,h=t.Ea,p=t.K[0],m=t.w;if(8>u)for(t=(1<<t.b)-1,m=(1<<u)-1;n<i;++n){var f,g=0;for(f=0;f<h;++f)f&t||(g=a(o[l++])),c[d++]=s(p[g&m]),g>>=u}else e["VP8LMapColor"+r](o,l,p,m,c,d,n,i,h)}}function J(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=s>>16&255,r[a++]=s>>8&255,r[a++]=255&s}}function X(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=s>>16&255,r[a++]=s>>8&255,r[a++]=255&s,r[a++]=s>>24&255}}function Q(e,t,n,r,a){for(n=t+n;t<n;){var s=(i=e[t++])>>16&240|i>>12&15,i=240&i|i>>28&15;r[a++]=s,r[a++]=i}}function Z(e,t,n,r,a){for(n=t+n;t<n;){var s=(i=e[t++])>>16&248|i>>13&7,i=i>>5&224|i>>3&31;r[a++]=s,r[a++]=i}}function ee(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=255&s,r[a++]=s>>8&255,r[a++]=s>>16&255}}function te(e,t,n,a,s,i){if(0==i)for(n=t+n;t<n;)A(a,((i=e[t++])[0]>>24|i[1]>>8&65280|i[2]<<8&16711680|i[3]<<24)>>>0),s+=32;else r(a,s,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==qr||e==Wr||e==Hr||e==Vr}function ae(){this.eb=[],this.size=this.A=this.fb=0}function se(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ae,this.f.kb=new se,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,a=t.ba.f.RGBA,s=a.eb,i=a.fb+e.ka*a.A,o=ga[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,p=e.W,m=t.cc,f=t.dc,g=t.Mc,x=t.Nc,v=e.ka,b=e.ka+e.T,y=e.U,w=y+1>>1;for(0==v?o(l,c,null,null,d,u,h,p,d,u,h,p,s,i,null,null,y):(o(t.ec,t.fc,l,c,m,f,g,x,d,u,h,p,s,i-a.A,s,i,y),++n);v+2<b;v+=2)m=d,f=u,g=h,x=p,u+=e.Rc,p+=e.Rc,i+=2*a.A,o(l,(c+=2*e.fa)-e.fa,l,c,m,f,g,x,d,u,h,p,s,i-a.A,s,i,y);return c+=e.fa,e.j+b<e.o?(r(t.ec,t.fc,l,c,y),r(t.cc,t.dc,d,u,w),r(t.Mc,t.Nc,h,p,w),n--):1&b||o(l,c,null,null,d,u,h,p,d,u,h,p,s,i+a.A,null,null,y),n}function ue(e,n,r){var a=e.F,s=[e.J];if(null!=a){var i=e.U,o=n.ba.S,l=o==zr||o==Hr;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=n.eb;d=n.fb+d*n.A,e=kr(a,s[0],e.width,i,c,u,d+(l?0:3),n.A),t(r==c),e&&re(o)&&jr(u,d,l,i,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,a=n==Mr||n==Or||n==zr||n==Br||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Rn(t.Oa,e,a?11:12))return 0;if(a&&re(n)&&vn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=s(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,vn()}}else alert("todo:EmitYUV");a&&(t.Jb=ue,r&&gn())}if(r&&!Da){for(e=0;256>e;++e)Ta[e]=89858*(e-128)+Sa>>ka,Ia[e]=-22014*(e-128)+Sa,Ea[e]=-45773*(e-128),La[e]=113618*(e-128)+Sa>>ka;for(e=Ca;e<_a;++e)t=76283*(e-16)+Sa>>ka,Ra[e-Ca]=Ve(t,255),Ma[e-Ca]=Ve(t+8>>4,15);Da=1}return 1}function pe(e){var n=e.ma,r=e.U,a=e.T;return t(!(1&e.ka)),0>=r||0>=a?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function me(e){e.ma.memory=null}function fe(e,t,n,r){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,n[0]=b(e,14)+1,r[0]=b(e,1),0!=b(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+b(t,n)+1}function xe(e,t){return 120<t?t-120:1<=(n=((n=Xr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ve(e,t,n){var r=j(n),a=e[t+=255&r].g-8;return 0<a&&(k(n,n.u+8),r=j(n),t+=e[t].value,t+=r&(1<<a)-1),k(n,n.u+e[t].g),e[t].value}function be(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ye(e,n,r){var a=e.xc;return t((n=0==a?0:e.vc[e.md*(r>>a)+(n>>a)])<e.Wb),e.Ya[n]}function we(e,n,a,s){var i=e.ab,o=e.c*n,l=e.C;n=l+n;var c=a,d=s;for(s=e.Ta,a=e.Ua;0<i--;){var u=e.gc[i],h=l,p=n,m=c,f=d,g=(d=s,c=a,u.Ea);switch(t(h<p),t(p<=u.nc),u.hc){case 2:Gn(m,f,(p-h)*g,d,c);break;case 0:var x=h,v=p,b=d,y=c,w=(C=u).Ea;0==x&&(Hn(m,f,null,null,1,b,y),V(m,f+1,0,0,w-1,b,y+1),f+=w,y+=w,++x);for(var j=1<<C.b,N=j-1,k=F(w,C.b),S=C.K,C=C.w+(x>>C.b)*k;x<v;){var _=S,P=C,A=1;for(Vn(m,f,b,y-w,1,b,y);A<w;){var D=(A&~N)+j;D>w&&(D=w),(0,Xn[_[P++]>>8&15])(m,f+ +A,b,y+A-w,D-A,b,y+A),A=D}f+=w,y+=w,++x&N||(C+=k)}p!=u.nc&&r(d,c-g,d,c+(p-h-1)*g,g);break;case 1:for(g=m,v=f,w=(m=u.Ea)-(y=m&~(b=(f=1<<u.b)-1)),x=F(m,u.b),j=u.K,u=u.w+(h>>u.b)*x;h<p;){for(N=j,k=u,S=new B,C=v+y,_=v+m;v<C;)K(N[k++],S),Qn(S,g,v,f,d,c),v+=f,c+=f;v<_&&(K(N[k++],S),Qn(S,g,v,w,d,c),v+=w,c+=w),++h&b||(u+=x)}break;case 3:if(m==d&&f==c&&0<u.b){for(v=d,m=g=c+(p-h)*g-(y=(p-h)*F(u.Ea,u.b)),f=d,b=c,x=[],y=(w=y)-1;0<=y;--y)x[y]=f[b+y];for(y=w-1;0<=y;--y)v[m+y]=x[y];Kn(u,h,p,d,g,d,c)}else Kn(u,h,p,m,f,d,c)}c=s,d=a}d!=a&&r(s,a,c,d,o)}function je(e,n){var r=e.V,a=e.Ba+e.c*e.C,s=n-e.C;if(t(n<=e.l.o),t(16>=s),0<s){var i=e.l,o=e.Ta,l=e.Ua,c=i.width;if(we(e,s,r,a),s=l=[l],t((r=e.C)<(a=n)),t(i.v<i.va),a>i.o&&(a=i.o),r<i.j){var d=i.j-r;r=i.j,s[0]+=d*c}if(r>=a?r=0:(s[0]+=4*i.v,i.ka=r-i.j,i.U=i.va-i.v,i.T=a-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(a=r.S,s=i.U,i=i.T,d=u.eb,u.A),p=i;for(u=u.fb+e.Ma*u.A;0<p--;){var m=o,f=l,g=s,x=d,v=u;switch(a){case Rr:Zn(m,f,g,x,v);break;case Mr:er(m,f,g,x,v);break;case qr:er(m,f,g,x,v),jr(x,v,0,g,1,0);break;case Fr:rr(m,f,g,x,v);break;case Or:te(m,f,g,x,v,1);break;case Wr:te(m,f,g,x,v,1),jr(x,v,0,g,1,0);break;case zr:te(m,f,g,x,v,0);break;case Hr:te(m,f,g,x,v,0),jr(x,v,1,g,1,0);break;case Br:tr(m,f,g,x,v);break;case Vr:tr(m,f,g,x,v),Nr(x,v,g,1,0);break;case Ur:nr(m,f,g,x,v);break;default:t(0)}l+=c,u+=h}e.Ma+=i}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Ne(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function ke(e,n,r,a,s,i){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=fa[e.Z]);n<r;++n)fa[e.Z](o,l,a,s,a,s,i),o=a,l=s,s+=i;e.qd=o,e.rd=l}}function Se(e,n){var r=e.l.ma,a=0==r.Z||1==r.Z?e.l.j:e.C;if(a=e.C<a?a:e.C,t(n<=e.l.o),n>a){var s=e.l.width,i=r.ca,o=r.tb+s*a,l=e.V,c=e.Ba+e.c*a,d=e.gc;t(1==e.ab),t(3==d[0].hc),$n(d[0],a,n,l,c,i,o),ke(r,a,n,i,o,s)}e.C=e.Ma=n}function Ce(e,n,r,a,s,i,o){var l=e.$/a,c=e.$%a,d=e.m,u=e.s,h=r+e.$,p=h;s=r+a*s;var m=r+a*i,f=280+u.ua,g=e.Pb?l:16777216,x=0<u.ua?u.Wa:null,v=u.wc,b=h<m?ye(u,c,l):null;t(e.C<i),t(m<=s);var y=!1;e:for(;;){for(;y||h<m;){var w=0;if(l>=g){var C=h-r;t((g=e).Pb),g.wd=g.m,g.xd=C,0<g.s.ua&&I(g.s.Wa,g.s.vb),g=l+Zr}if(c&v||(b=ye(u,c,l)),t(null!=b),b.Qb&&(n[h]=b.qb,y=!0),!y)if(S(d),b.jc){w=d,C=n;var _=h,P=b.pd[j(w)&On-1];t(b.jc),256>P.g?(k(w,w.u+P.g),C[_]=P.value,w=0):(k(w,w.u+P.g-256),t(256<=P.value),w=P.value),0==w&&(y=!0)}else w=ve(b.G[0],b.H[0],d);if(d.h)break;if(y||256>w){if(!y)if(b.nd)n[h]=(b.qb|w<<8)>>>0;else{if(S(d),y=ve(b.G[1],b.H[1],d),S(d),C=ve(b.G[2],b.H[2],d),_=ve(b.G[3],b.H[3],d),d.h)break;n[h]=(_<<24|y<<16|w<<8|C)>>>0}if(y=!1,++h,++c>=a&&(c=0,++l,null!=o&&l<=i&&!(l%16)&&o(e,l),null!=x))for(;p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else if(280>w){if(w=ge(w-256,d),C=ve(b.G[4],b.H[4],d),S(d),C=xe(a,C=ge(C,d)),d.h)break;if(h-r<C||s-h<w)break e;for(_=0;_<w;++_)n[h+_]=n[h+_-C];for(h+=w,c+=w;c>=a;)c-=a,++l,null!=o&&l<=i&&!(l%16)&&o(e,l);if(t(h<=s),c&v&&(b=ye(u,c,l)),null!=x)for(;p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else{if(!(w<f))break e;for(y=w-280,t(null!=x);p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w;w=h,t(!(y>>>(C=x).Xa)),n[w]=C.X[y],y=!0}y||t(d.h==N(d))}if(e.Pb&&d.h&&h<s)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&I(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>i?i:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function _e(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Pe(){var t=new sn;return null==t?null:(t.a=0,t.xb=ma,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Gn=G,Qn=Y,Zn=J,er=X,tr=Q,nr=Z,rr=ee,e.VP8LMapColor32b=Yn,e.VP8LMapColor8b=Jn,t)}function Ae(e,n,r,o,l){var c=1,h=[e],m=[n],f=o.m,g=o.s,x=null,v=0;e:for(;;){if(r)for(;c&&b(f,1);){var y=h,w=m,N=o,C=1,_=N.m,P=N.gc[N.ab],A=b(_,2);if(N.Oc&1<<A)c=0;else{switch(N.Oc|=1<<A,P.hc=A,P.Ea=y[0],P.nc=w[0],P.K=[null],++N.ab,t(4>=N.ab),A){case 0:case 1:P.b=b(_,3)+2,C=Ae(F(P.Ea,P.b),F(P.nc,P.b),0,N,P.K),P.K=P.K[0];break;case 3:var D,T=b(_,8)+1,L=16<T?0:4<T?1:2<T?2:3;if(y[0]=F(P.Ea,L),P.b=L,D=C=Ae(T,1,0,N,P.K)){var I,R=T,M=P,z=1<<(8>>M.b),B=s(z);if(null==B)D=0;else{var U=M.K[0],q=M.w;for(B[0]=M.K[0][0],I=1;I<1*R;++I)B[I]=O(U[q+I],B[I-1]);for(;I<4*z;++I)B[I]=0;M.K[0]=null,M.K[0]=B,D=1}}C=D;break;case 2:break;default:t(0)}c=C}}if(h=h[0],m=m[0],c&&b(f,1)&&!(c=1<=(v=b(f,4))&&11>=v)){o.a=3;break e}var W;if(W=c)t:{var H,V,G,K=o,Y=h,$=m,J=v,X=r,Q=K.m,Z=K.s,ee=[null],te=1,ne=0,re=Qr[J];n:for(;;){if(X&&b(Q,1)){var ae=b(Q,3)+2,se=F(Y,ae),ie=F($,ae),oe=se*ie;if(!Ae(se,ie,0,K,ee))break n;for(ee=ee[0],Z.xc=ae,H=0;H<oe;++H){var le=ee[H]>>8&65535;ee[H]=le,le>=te&&(te=le+1)}}if(Q.h)break n;for(V=0;5>V;++V){var ce=Yr[V];!V&&0<J&&(ce+=1<<J),ne<ce&&(ne=ce)}var de=i(te*re,u),ue=te,he=i(ue,p);if(null==he)var pe=null;else t(65536>=ue),pe=he;var me=s(ne);if(null==pe||null==me||null==de){K.a=1;break n}var fe=de;for(H=G=0;H<te;++H){var ge=pe[H],xe=ge.G,ve=ge.H,ye=0,we=1,je=0;for(V=0;5>V;++V){ce=Yr[V],xe[V]=fe,ve[V]=G,!V&&0<J&&(ce+=1<<J);r:{var Ne,ke=ce,Se=K,Pe=me,De=fe,Te=G,Le=0,Ee=Se.m,Ie=b(Ee,1);if(a(Pe,0,0,ke),Ie){var Re=b(Ee,1)+1,Me=b(Ee,1),Fe=b(Ee,0==Me?1:8);Pe[Fe]=1,2==Re&&(Pe[Fe=b(Ee,8)]=1);var Oe=1}else{var ze=s(19),Be=b(Ee,4)+4;if(19<Be){Se.a=3;var Ue=0;break r}for(Ne=0;Ne<Be;++Ne)ze[Jr[Ne]]=b(Ee,3);var qe=void 0,We=void 0,He=Se,Ve=ze,Ge=ke,Ke=Pe,Ye=0,$e=He.m,Je=8,Xe=i(128,u);a:for(;d(Xe,0,7,Ve,19);){if(b($e,1)){var Qe=2+2*b($e,3);if((qe=2+b($e,Qe))>Ge)break a}else qe=Ge;for(We=0;We<Ge&&qe--;){S($e);var Ze=Xe[0+(127&j($e))];k($e,$e.u+Ze.g);var et=Ze.value;if(16>et)Ke[We++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,rt=Kr[nt],at=b($e,Gr[nt])+rt;if(We+at>Ge)break a;for(var st=tt?Je:0;0<at--;)Ke[We++]=st}}Ye=1;break a}Ye||(He.a=3),Oe=Ye}(Oe=Oe&&!Ee.h)&&(Le=d(De,Te,8,Pe,ke)),Oe&&0!=Le?Ue=Le:(Se.a=3,Ue=0)}if(0==Ue)break n;if(we&&1==$r[V]&&(we=0==fe[G].g),ye+=fe[G].g,G+=Ue,3>=V){var it,ot=me[0];for(it=1;it<ce;++it)me[it]>ot&&(ot=me[it]);je+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(xe[3][ve[3]+0].value<<24|xe[1][ve[1]+0].value<<16|xe[2][ve[2]+0].value)>>>0,0==ye&&256>xe[0][ve[0]+0].value&&(ge.Qb=1,ge.qb+=xe[0][ve[0]+0].value<<8)),ge.jc=!ge.Qb&&6>je,ge.jc){var lt,ct=ge;for(lt=0;lt<On;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=be(ht,8,ut),dt>>=be(ct.G[1][ct.H[1]+dt],16,ut),dt>>=be(ct.G[2][ct.H[2]+dt],0,ut),be(ct.G[3][ct.H[3]+dt],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=pe,Z.yc=de,W=1;break t}W=0}if(!(c=W)){o.a=3;break e}if(0<v){if(g.ua=1<<v,!E(g.Wa,v)){o.a=1,c=0;break e}}else g.ua=0;var pt=o,mt=h,ft=m,gt=pt.s,xt=gt.xc;if(pt.c=mt,pt.i=ft,gt.md=F(mt,xt),gt.wc=0==xt?-1:(1<<xt)-1,r){o.xb=pa;break e}if(null==(x=s(h*m))){o.a=1,c=0;break e}c=(c=Ce(o,x,0,h,m,m,null))&&!f.h;break e}return c?(null!=l?l[0]=x:(t(null==x),t(r)),o.$=0,r||_e(g)):_e(g),c}function De(e,n){var r=e.c*e.i,a=r+n+16*n;return t(e.c<=n),e.V=s(a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Te(e,n){var r=e.C,a=n-r,s=e.V,i=e.Ba+e.c*r;for(t(n<=e.l.o);0<a;){var o=16<a?16:a,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*r,p=e.Ta,m=e.Ua;we(e,o,s,i),Sr(p,m,u,h,d),ke(l,r,r+o,u,h,c),a-=o,s+=o*e.c,r+=o}t(r==n),e.C=e.Ma=n}function Le(){this.ub=this.yd=this.td=this.Rb=0}function Ee(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ie(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Re(){this.Yb=function(){var e=[];return function e(t,n,r){for(var a=r[n],s=0;s<a&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));s++)e(t[s],n+1,r)}(e,0,[3,11]),e}()}function Me(){this.jb=s(3),this.Wc=o([4,8],Re),this.Xc=o([4,17],Re)}function Fe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Oe(){this.ld=this.La=this.dd=this.tc=0}function ze(){this.Na=this.la=0}function Be(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ue(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new Oe),this.Y=0,this.ya=Array(new Ue),this.aa=0,this.l=new Ge}function We(){this.y=s(16),this.f=s(8),this.ea=s(8)}function He(){this.cb=this.a=0,this.sc="",this.m=new y,this.Od=new Le,this.Kc=new Ee,this.ed=new Fe,this.Qa=new Ie,this.Ic=this.$c=this.Aa=0,this.D=new qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,y),this.ia=0,this.pb=i(4,Be),this.Pa=new Me,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new We),this.Hd=0,this.rb=Array(new ze),this.sb=0,this.wa=Array(new Oe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ue),this.L=this.aa=0,this.gd=o([4,2],Oe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function Ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ke(){var e=new He;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,na||(na=Xe)),e}function Ye(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function $e(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ye(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,s=n.w,i=n.ha;if(4>i)return Ye(e,7,"Truncated header.");var o=r[s+0]|r[s+1]<<8|r[s+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ye(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ye(e,4,"Frame not displayable.");s+=3,i-=3;var c=e.Kc;if(l.Rb){if(7>i)return Ye(e,7,"cannot parse picture header");if(!$e(r,s,i))return Ye(e,3,"Bad code word");c.c=16383&(r[s+4]<<8|r[s+3]),c.Td=r[s+4]>>6,c.i=16383&(r[s+6]<<8|r[s+5]),c.Ud=r[s+6]>>6,s+=7,i-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,a((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,a(o.Zb,0,0,o.Zb.length),a(o.Lb,0,0,o.Lb)}if(l.ub>i)return Ye(e,7,"bad partition length");m(o=e.m,r,s,l.ub),s+=l.ub,i-=l.ub,l.Rb&&(c.Ld=_(o),c.Kd=_(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=_(o),c.Cb){if(c.Bb=_(o),_(o)){for(c.Fb=_(o),d=0;4>d;++d)c.Zb[d]=_(o)?g(o,7):0;for(d=0;4>d;++d)c.Lb[d]=_(o)?g(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=_(o)?f(o,8):255}else c.Bb=0;if(o.Ka)return Ye(e,3,"cannot parse segment header");if((c=e.ed).zd=_(o),c.Tb=f(o,6),c.wb=f(o,3),c.Pc=_(o),c.Pc&&_(o)){for(u=0;4>u;++u)_(o)&&(c.vd[u]=g(o,6));for(u=0;4>u;++u)_(o)&&(c.od[u]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ye(e,3,"cannot parse filter header");var h=i;if(i=d=s,s=d+h,c=h,e.Xb=(1<<f(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var p=r[i+0]|r[i+1]<<8|r[i+2]<<16;p>c&&(p=c),m(e.Jc[+h],r,d,p),d+=p,c-=p,i+=3}m(e.Jc[+u],r,d,c),r=d<s?0:5}if(0!=r)return Ye(e,r,"cannot parse partitions");for(r=f(d=e.m,7),i=_(d)?g(d,4):0,s=_(d)?g(d,4):0,c=_(d)?g(d,4):0,u=_(d)?g(d,4):0,d=_(d)?g(d,4):0,h=e.Qa,p=0;4>p;++p){if(h.Cb){var x=h.Zb[p];h.Fb||(x+=r)}else{if(0<p){e.pb[p]=e.pb[0];continue}x=r}var v=e.pb[p];v.Sc[0]=ea[Ve(x+i,127)],v.Sc[1]=ta[Ve(x+0,127)],v.Eb[0]=2*ea[Ve(x+s,127)],v.Eb[1]=101581*ta[Ve(x+c,127)]>>16,8>v.Eb[1]&&(v.Eb[1]=8),v.Qc[0]=ea[Ve(x+u,117)],v.Qc[1]=ta[Ve(x+d,127)],v.lc=x+d}if(!l.Rb)return Ye(e,4,"Not a key frame.");for(_(o),l=e.Pa,r=0;4>r;++r){for(i=0;8>i;++i)for(s=0;3>s;++s)for(c=0;11>c;++c)u=P(o,la[r][i][s][c])?f(o,8):ia[r][i][s][c],l.Wc[r][i].Yb[s][c]=u;for(i=0;17>i;++i)l.Xc[r][i]=l.Wc[r][ca[i]]}return e.kc=_(o),e.kc&&(e.Bd=f(o,8)),e.cb=1}function Xe(e,t,n,r,a,s,i){var o=t[a].Yb[n];for(n=0;16>a;++a){if(!P(e,o[n+0]))return a;for(;!P(e,o[n+1]);)if(o=t[++a].Yb[0],n=0,16==a)return 16;var l=t[a+1].Yb;if(P(e,o[n+2])){var c=e,d=0;if(P(c,(h=o)[(u=n)+3]))if(P(c,h[u+6])){for(o=0,u=2*(d=P(c,h[u+8]))+(h=P(c,h[u+9+d])),d=0,h=ra[u];h[o];++o)d+=d+P(c,h[o]);d+=3+(8<<u)}else P(c,h[u+7])?(d=7+2*P(c,165),d+=P(c,145)):d=5+P(c,159);else d=P(c,h[u+4])?3+P(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=i+aa[a],0>(c=e).b&&C(c);var u,h=c.b,p=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=p,c.Ca|=1,c.I-=(u+1&p)<<h,s[l]=((d^p)-p)*r[(0<a)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,a(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,t,n,r,a){a=e[t+n+32*r]+(a>>3),e[t+n+32*r]=-256&a?0>a?0:255:a}function et(e,t,n,r,a,s){Ze(e,t,0,n,r+a),Ze(e,t,1,n,r+s),Ze(e,t,2,n,r-s),Ze(e,t,3,n,r-a)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var a,i=0,o=s(16);for(a=0;4>a;++a){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);o[i+0]=l+u,o[i+1]=c+d,o[i+2]=c-d,o[i+3]=l-u,i+=4,t++}for(a=i=0;4>a;++a)l=(e=o[i+0]+4)+o[i+8],c=e-o[i+8],d=(35468*o[i+4]>>16)-tt(o[i+12]),Ze(n,r,0,0,l+(u=tt(o[i+4])+(35468*o[i+12]>>16))),Ze(n,r,1,0,c+d),Ze(n,r,2,0,c-d),Ze(n,r,3,0,l-u),i++,r+=32}function rt(e,t,n,r){var a=e[t+0]+4,s=35468*e[t+4]>>16,i=tt(e[t+4]),o=35468*e[t+1]>>16;et(n,r,0,a+i,e=tt(e[t+1]),o),et(n,r,1,a+s,e,o),et(n,r,2,a-s,e,o),et(n,r,3,a-i,e,o)}function at(e,t,n,r,a){nt(e,t,n,r),a&&nt(e,t+16,n,r+4)}function st(e,t,n,r){sr(e,t+0,n,r,1),sr(e,t+32,n,r+128,1)}function it(e,t,n,r){var a;for(e=e[t+0]+4,a=0;4>a;++a)for(t=0;4>t;++t)Ze(n,r,t,a,e)}function ot(e,t,n,r){e[t+0]&&lr(e,t+0,n,r),e[t+16]&&lr(e,t+16,n,r+4),e[t+32]&&lr(e,t+32,n,r+128),e[t+48]&&lr(e,t+48,n,r+128+4)}function lt(e,t,n,r){var a,i=s(16);for(a=0;4>a;++a){var o=e[t+0+a]+e[t+12+a],l=e[t+4+a]+e[t+8+a],c=e[t+4+a]-e[t+8+a],d=e[t+0+a]-e[t+12+a];i[0+a]=o+l,i[8+a]=o-l,i[4+a]=d+c,i[12+a]=d-c}for(a=0;4>a;++a)o=(e=i[0+4*a]+3)+i[3+4*a],l=i[1+4*a]+i[2+4*a],c=i[1+4*a]-i[2+4*a],d=e-i[3+4*a],n[r+0]=o+l>>3,n[r+16]=d+c>>3,n[r+32]=o-l>>3,n[r+48]=d-c>>3,r+=64}function ct(e,t,n){var r,a=t-32,s=Er,i=255-e[a-1];for(r=0;r<n;++r){var o,l=s,c=i+e[t-1];for(o=0;o<n;++o)e[t+o]=l[c+e[a+o]];t+=32}}function dt(e,t){ct(e,t,4)}function ut(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function pt(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function mt(e,t){var n;for(n=16;0<n;--n)a(e,t,e[t-1],16),t+=32}function ft(e,t,n){var r;for(r=0;16>r;++r)a(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];ft(r>>5,e,t)}function xt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];ft(r>>4,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];ft(r>>4,e,t)}function bt(e,t){ft(128,e,t)}function yt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,a=t-32;for(a=new Uint8Array([yt(e[a-1],e[a+0],e[a+1]),yt(e[a+0],e[a+1],e[a+2]),yt(e[a+1],e[a+2],e[a+3]),yt(e[a+2],e[a+3],e[a+4])]),n=0;4>n;++n)r(e,t+32*n,a,0,a.length)}function jt(e,t){var n=e[t-1],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96];A(e,t+0,16843009*yt(e[t-1-32],n,r)),A(e,t+32,16843009*yt(n,r,a)),A(e,t+64,16843009*yt(r,a,s)),A(e,t+96,16843009*yt(a,s,s))}function Nt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)a(e,t+32*n,r,4)}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=yt(r,a,e[t-1+96]),e[t+1+96]=e[t+0+64]=yt(n,r,a),e[t+2+96]=e[t+1+64]=e[t+0+32]=yt(s,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=yt(i,s,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=yt(o,i,s),e[t+3+32]=e[t+2+0]=yt(l,o,i),e[t+3+0]=yt(c,l,o)}function St(e,t){var n=e[t+1-32],r=e[t+2-32],a=e[t+3-32],s=e[t+4-32],i=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=yt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=yt(n,r,a),e[t+2+0]=e[t+1+32]=e[t+0+64]=yt(r,a,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=yt(a,s,i),e[t+3+32]=e[t+2+64]=e[t+1+96]=yt(s,i,o),e[t+3+64]=e[t+2+96]=yt(i,o,l),e[t+3+96]=yt(o,l,l)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=s+i+1>>1,e[t+1+0]=e[t+2+64]=i+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=yt(a,r,n),e[t+0+64]=yt(r,n,s),e[t+0+32]=e[t+1+96]=yt(n,s,i),e[t+1+32]=e[t+2+96]=yt(s,i,o),e[t+2+32]=e[t+3+96]=yt(i,o,l),e[t+3+32]=yt(o,l,c)}function _t(e,t){var n=e[t+0-32],r=e[t+1-32],a=e[t+2-32],s=e[t+3-32],i=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+a+1>>1,e[t+2+0]=e[t+1+64]=a+s+1>>1,e[t+3+0]=e[t+2+64]=s+i+1>>1,e[t+0+32]=yt(n,r,a),e[t+1+32]=e[t+0+96]=yt(r,a,s),e[t+2+32]=e[t+1+96]=yt(a,s,i),e[t+3+32]=e[t+2+96]=yt(s,i,o),e[t+3+64]=yt(i,o,l),e[t+3+96]=yt(o,l,c)}function Pt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+a+1>>1,e[t+2+32]=e[t+0+64]=a+s+1>>1,e[t+1+0]=yt(n,r,a),e[t+3+0]=e[t+1+32]=yt(r,a,s),e[t+3+32]=e[t+1+64]=yt(a,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function At(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96],i=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+i+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=a+r+1>>1,e[t+0+96]=s+a+1>>1,e[t+3+0]=yt(o,l,c),e[t+2+0]=yt(i,o,l),e[t+1+0]=e[t+3+32]=yt(n,i,o),e[t+1+32]=e[t+3+64]=yt(r,n,i),e[t+1+64]=e[t+3+96]=yt(a,r,n),e[t+1+96]=yt(s,a,r)}function Dt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Tt(e,t){var n;for(n=0;8>n;++n)a(e,t,e[t-1],8),t+=32}function Lt(e,t,n){var r;for(r=0;8>r;++r)a(t,n+32*r,e,8)}function Et(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Lt(r>>4,e,t)}function It(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Lt(r>>3,e,t)}function Rt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Lt(r>>3,e,t)}function Mt(e,t){Lt(128,e,t)}function Ft(e,t,n){var r=e[t-n],a=e[t+0],s=3*(a-r)+Tr[1020+e[t-2*n]-e[t+n]],i=Lr[112+(s+4>>3)];e[t-n]=Er[255+r+Lr[112+(s+3>>3)]],e[t+0]=Er[255+a-i]}function Ot(e,t,n,r){var a=e[t+0],s=e[t+n];return Ir[255+e[t-2*n]-e[t-n]]>r||Ir[255+s-a]>r}function zt(e,t,n,r){return 4*Ir[255+e[t-n]-e[t+0]]+Ir[255+e[t-2*n]-e[t+n]]<=r}function Bt(e,t,n,r,a){var s=e[t-3*n],i=e[t-2*n],o=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],u=e[t+3*n];return 4*Ir[255+o-l]+Ir[255+i-c]>r?0:Ir[255+e[t-4*n]-s]<=a&&Ir[255+s-i]<=a&&Ir[255+i-o]<=a&&Ir[255+u-d]<=a&&Ir[255+d-c]<=a&&Ir[255+c-l]<=a}function Ut(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)zt(e,t+r,n,a)&&Ft(e,t+r,n)}function qt(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)zt(e,t+r*n,1,a)&&Ft(e,t+r*n,1)}function Wt(e,t,n,r){var a;for(a=3;0<a;--a)Ut(e,t+=4*n,n,r)}function Ht(e,t,n,r){var a;for(a=3;0<a;--a)qt(e,t+=4,n,r)}function Vt(e,t,n,r,a,s,i,o){for(s=2*s+1;0<a--;){if(Bt(e,t,n,s,i))if(Ot(e,t,n,o))Ft(e,t,n);else{var l=e,c=t,d=n,u=l[c-2*d],h=l[c-d],p=l[c+0],m=l[c+d],f=l[c+2*d],g=27*(v=Tr[1020+3*(p-h)+Tr[1020+u-m]])+63>>7,x=18*v+63>>7,v=9*v+63>>7;l[c-3*d]=Er[255+l[c-3*d]+v],l[c-2*d]=Er[255+u+x],l[c-d]=Er[255+h+g],l[c+0]=Er[255+p-g],l[c+d]=Er[255+m-x],l[c+2*d]=Er[255+f-v]}t+=r}}function Gt(e,t,n,r,a,s,i,o){for(s=2*s+1;0<a--;){if(Bt(e,t,n,s,i))if(Ot(e,t,n,o))Ft(e,t,n);else{var l=e,c=t,d=n,u=l[c-d],h=l[c+0],p=l[c+d],m=Lr[112+(4+(f=3*(h-u))>>3)],f=Lr[112+(f+3>>3)],g=m+1>>1;l[c-2*d]=Er[255+l[c-2*d]+g],l[c-d]=Er[255+u+f],l[c+0]=Er[255+h-m],l[c+d]=Er[255+p-g]}t+=r}}function Kt(e,t,n,r,a,s){Vt(e,t,n,1,16,r,a,s)}function Yt(e,t,n,r,a,s){Vt(e,t,1,n,16,r,a,s)}function $t(e,t,n,r,a,s){var i;for(i=3;0<i;--i)Gt(e,t+=4*n,n,1,16,r,a,s)}function Jt(e,t,n,r,a,s){var i;for(i=3;0<i;--i)Gt(e,t+=4,1,n,16,r,a,s)}function Xt(e,t,n,r,a,s,i,o){Vt(e,t,a,1,8,s,i,o),Vt(n,r,a,1,8,s,i,o)}function Qt(e,t,n,r,a,s,i,o){Vt(e,t,1,a,8,s,i,o),Vt(n,r,1,a,8,s,i,o)}function Zt(e,t,n,r,a,s,i,o){Gt(e,t+4*a,a,1,8,s,i,o),Gt(n,r+4*a,a,1,8,s,i,o)}function en(e,t,n,r,a,s,i,o){Gt(e,t+4,1,a,8,s,i,o),Gt(n,r+4,1,a,8,s,i,o)}function tn(){this.ba=new ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new R,this.vb=new R,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new u}function sn(){this.xb=this.a=0,this.l=new Ge,this.ca=new ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=i(4,rn),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,r,a,s,i){for(e=null==e?0:e[t+0],t=0;t<i;++t)a[s+t]=e+n[r+t]&255,e=a[s+t]}function cn(e,t,n,r,a,s,i){var o;if(null==e)ln(null,null,n,r,a,s,i);else for(o=0;o<i;++o)a[s+o]=e[t+o]+n[r+o]&255}function dn(e,t,n,r,a,s,i){if(null==e)ln(null,null,n,r,a,s,i);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<i;++o)c=d+(l=e[t+o])-c,d=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,a[s+o]=d}}function un(e,n,a,i){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>a||0>=i||a+i>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new on,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=s(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,p=e.mb,m=e.nb,f=u+1,g=h-1,v=c.l;if(t(null!=d&&null!=p&&null!=n),fa[0]=null,fa[1]=ln,fa[2]=cn,fa[3]=dn,c.ca=p,c.tb=m,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(v.put=pe,v.ac=he,v.bc=me,v.ma=c,v.width=n.width,v.height=n.height,v.Da=n.Da,v.v=n.v,v.va=n.va,v.j=n.j,v.o=n.o,c.$a)e:{t(1==c.$a),n=Pe();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,x(n.m,d,f,g),!Ae(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ne(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=De(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:i=l-a}t(null!=e.ga),t(a+i<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(f=e.rc,g=e.Vc,v=e.Fa,u=e.P+1+a*n,h=e.mb,p=e.nb+a*n,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=fa[d.Z]),c=0;c<i;++c)fa[d.Z](f,g,v,u,h,p,n),f=h,g=p,p+=n,u+=n;else for(c=0;c<i;++c)r(h,p,v,u,n),f=h,g=p,p+=n,u+=n;e.rc=f,e.Vc=g}else{if(t(null!=d.mc),n=a+i,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||gn(),d.ic){d=c.V,f=c.Ba,g=c.c;var b=c.i,y=(v=1,u=c.$/g,h=c.$%g,p=c.m,m=c.s,c.$),w=g*b,j=g*n,k=m.wc,C=y<j?ye(m,h,u):null;t(y<=w),t(n<=b),t(Ne(m));t:for(;;){for(;!p.h&&y<j;){if(h&k||(C=ye(m,h,u)),t(null!=C),S(p),256>(b=ve(C.G[0],C.H[0],p)))d[f+y]=b,++y,++h>=g&&(h=0,++u<=n&&!(u%16)&&Se(c,u));else{if(!(280>b)){v=0;break t}b=ge(b-256,p);var _,P=ve(C.G[4],C.H[4],p);if(S(p),!(y>=(P=xe(g,P=ge(P,p)))&&w-y>=b)){v=0;break t}for(_=0;_<b;++_)d[f+y+_]=d[f+y+_-P];for(y+=b,h+=b;h>=g;)h-=g,++u<=n&&!(u%16)&&Se(c,u);y<j&&h&k&&(C=ye(m,h,u))}t(p.h==N(p))}Se(c,u>n?n:u);break t}!v||p.h&&y<w?(v=0,c.a=p.h?5:3):c.$=y,n=v}else n=Ce(c,c.V,c.Ba,c.c,c.i,n,Te);if(!n){i=0;break e}}a+i>=l&&(e.Cc=1),i=1}if(!i)return null;if(e.Cc&&(null!=(i=e.ga)&&(i.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+a*o}function hn(e,t,n,r,a,s){for(;0<a--;){var i,o=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(i=0;i<r;++i){var u=c[d+4*i];255!=u&&(u*=32897,o[l+4*i+0]=o[l+4*i+0]*u>>23,o[l+4*i+1]=o[l+4*i+1]*u>>23,o[l+4*i+2]=o[l+4*i+2]*u>>23)}t+=s}}function pn(e,t,n,r,a){for(;0<r--;){var s;for(s=0;s<n;++s){var i=e[t+2*s+0],o=15&(c=e[t+2*s+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*s+0]=(240&i|i>>4)*l>>16&240|(15&i|i<<4)*l>>16>>4&15,e[t+2*s+1]=240&c|o}t+=a}}function mn(e,t,n,r,a,s,i,o){var l,c,d=255;for(c=0;c<a;++c){for(l=0;l<r;++l){var u=e[t+l];s[i+4*l]=u,d&=u}t+=n,i+=o}return 255!=d}function fn(e,t,n,r,a){var s;for(s=0;s<a;++s)n[r+s]=e[t+s]>>8}function gn(){jr=hn,Nr=pn,kr=mn,Sr=fn}function xn(n,r,a){e[n]=function(e,n,s,i,o,l,c,d,u,h,p,m,f,g,x,v,b){var y,w=b-1>>1,j=o[l+0]|c[d+0]<<16,N=u[h+0]|p[m+0]<<16;t(null!=e);var k=3*j+N+131074>>2;for(r(e[n+0],255&k,k>>16,f,g),null!=s&&(k=3*N+j+131074>>2,r(s[i+0],255&k,k>>16,x,v)),y=1;y<=w;++y){var S=o[l+y]|c[d+y]<<16,C=u[h+y]|p[m+y]<<16,_=j+S+N+C+524296,P=_+2*(S+N)>>3;k=P+j>>1,j=(_=_+2*(j+C)>>3)+S>>1,r(e[n+2*y-1],255&k,k>>16,f,g+(2*y-1)*a),r(e[n+2*y-0],255&j,j>>16,f,g+(2*y-0)*a),null!=s&&(k=_+N>>1,j=P+C>>1,r(s[i+2*y-1],255&k,k>>16,x,v+(2*y-1)*a),r(s[i+2*y+0],255&j,j>>16,x,v+(2*y+0)*a)),j=S,N=C}1&b||(k=3*j+N+131074>>2,r(e[n+b-1],255&k,k>>16,f,g+(b-1)*a),null!=s&&(k=3*N+j+131074>>2,r(s[i+b-1],255&k,k>>16,x,v+(b-1)*a)))}}function vn(){ga[Rr]=xa,ga[Mr]=ba,ga[Fr]=va,ga[Or]=ya,ga[zr]=wa,ga[Br]=ja,ga[Ur]=Na,ga[qr]=ba,ga[Wr]=ya,ga[Hr]=wa,ga[Vr]=ja}function bn(e){return e&~Aa?0>e?0:255:e>>Pa}function yn(e,t){return bn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return bn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function jn(e,t){return bn((19077*e>>8)+(33050*t>>8)-17685)}function Nn(e,t,n,r,a){r[a+0]=yn(e,n),r[a+1]=wn(e,t,n),r[a+2]=jn(e,t)}function kn(e,t,n,r,a){r[a+0]=jn(e,t),r[a+1]=wn(e,t,n),r[a+2]=yn(e,n)}function Sn(e,t,n,r,a){var s=wn(e,t,n);t=s<<3&224|jn(e,t)>>3,r[a+0]=248&yn(e,n)|s>>5,r[a+1]=t}function Cn(e,t,n,r,a){var s=240&jn(e,t)|15;r[a+0]=240&yn(e,n)|wn(e,t,n)>>4,r[a+1]=s}function _n(e,t,n,r,a){r[a+0]=255,Nn(e,t,n,r,a+1)}function Pn(e,t,n,r,a){kn(e,t,n,r,a),r[a+3]=255}function An(e,t,n,r,a){Nn(e,t,n,r,a),r[a+3]=255}function Dn(t,n,r){e[t]=function(e,t,a,s,i,o,l,c,d){for(var u=c+(-2&d)*r;c!=u;)n(e[t+0],a[s+0],i[o+0],l,c),n(e[t+1],a[s+0],i[o+0],l,c+r),t+=2,++s,++o,c+=2*r;1&d&&n(e[t+0],a[s+0],i[o+0],l,c)}}function Tn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Ln(e,t,n,r,a){switch(e>>>30){case 3:sr(t,n,r,a,0);break;case 2:ir(t,n,r,a);break;case 1:lr(t,n,r,a)}}function En(e,t){var n,s,i=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,p=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[u+32*n-1]=129,h[p+32*n-1]=129;for(0<i?l[c-1-32]=d[u-1-32]=h[p-1-32]=129:(a(l,c-32-1,127,21),a(d,u-32-1,127,9),a(h,p-32-1,127,9)),s=0;s<e.za;++s){var m=t.ya[t.aa+s];if(0<s){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(d,u+32*n-4,d,u+32*n+4,4),r(h,p+32*n-4,h,p+32*n+4,4)}var f=e.Gd,g=e.Hd+s,x=m.ad,v=m.Hc;if(0<i&&(r(l,c-32,f[g].y,0,16),r(d,u-32,f[g].f,0,8),r(h,p-32,f[g].ea,0,8)),m.Za){var b=l,y=c-32+16;for(0<i&&(s>=e.za-1?a(b,y,f[g].y[15],4):r(b,y,f[g+1].y,0,4)),n=0;4>n;n++)b[y+128+n]=b[y+256+n]=b[y+384+n]=b[y+0+n];for(n=0;16>n;++n,v<<=2)b=l,y=c+Fa[n],ua[m.Ob[n]](b,y),Ln(v,x,16*+n,b,y)}else if(b=Tn(s,i,m.Ob[0]),da[b](l,c),0!=v)for(n=0;16>n;++n,v<<=2)Ln(v,x,16*+n,l,c+Fa[n]);for(n=m.Gc,b=Tn(s,i,m.Dd),ha[b](d,u),ha[b](h,p),v=x,b=d,y=u,255&(m=0|n)&&(170&m?or(v,256,b,y):cr(v,256,b,y)),m=h,v=p,255&(n>>=8)&&(170&n?or(x,320,m,v):cr(x,320,m,v)),i<e.Ub-1&&(r(f[g].y,0,l,c+480,16),r(f[g].f,0,d,u+224,8),r(f[g].ea,0,h,p+224,8)),n=8*o*e.B,f=e.sa,g=e.ta+16*s+16*o*e.R,x=e.qa,m=e.ra+8*s+n,v=e.Ha,b=e.Ia+8*s+n,n=0;16>n;++n)r(f,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(x,m+n*e.B,d,u+32*n,8),r(v,b+n*e.B,h,p+32*n,8)}}function In(e,r,a,s,i,o,l,c,d){var u=[0],h=[0],p=0,m=null!=d?d.kd:0,f=null!=d?d:new nn;if(null==e||12>a)return 7;f.data=e,f.w=r,f.ha=a,r=[r],a=[a],f.gb=[f.gb];e:{var g=r,v=a,b=f.gb;if(t(null!=e),t(null!=v),t(null!=b),b[0]=0,12<=v[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){b=3;break e}var y=L(e,g[0]+4);if(12>y||4294967286<y){b=3;break e}if(m&&y>v[0]-8){b=7;break e}b[0]=y,g[0]+=12,v[0]-=12}b=0}if(0!=b)return b;for(y=0<f.gb[0],a=a[0];;){e:{var j=e;v=r,b=a;var N=u,k=h,S=g=[0];if((P=p=[p])[0]=0,8>b[0])b=7;else{if(!n(j,v[0],"VP8X")){if(10!=L(j,v[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var C=L(j,v[0]+8),_=1+T(j,v[0]+12);if(2147483648<=_*(j=1+T(j,v[0]+15))){b=3;break e}null!=S&&(S[0]=C),null!=N&&(N[0]=_),null!=k&&(k[0]=j),v[0]+=18,b[0]-=18,P[0]=1}b=0}}if(p=p[0],g=g[0],0!=b)return b;if(v=!!(2&g),!y&&p)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=v),null!=c&&(c[0]=0),l=u[0],g=h[0],p&&v&&null==d){b=0;break}if(4>a){b=7;break}if(y&&p||!y&&!p&&!n(e,r[0],"ALPH")){a=[a],f.na=[f.na],f.P=[f.P],f.Sa=[f.Sa];e:{C=e,b=r,y=a;var P=f.gb;N=f.na,k=f.P,S=f.Sa,_=22,t(null!=C),t(null!=y),j=b[0];var A=y[0];for(t(null!=N),t(null!=S),N[0]=null,k[0]=null,S[0]=0;;){if(b[0]=j,y[0]=A,8>A){b=7;break e}var D=L(C,j+4);if(4294967286<D){b=3;break e}var E=8+D+1&-2;if(_+=E,0<P&&_>P){b=3;break e}if(!n(C,j,"VP8 ")||!n(C,j,"VP8L")){b=0;break e}if(A[0]<E){b=7;break e}n(C,j,"ALPH")||(N[0]=C,k[0]=j+8,S[0]=D),j+=E,A-=E}}if(a=a[0],f.na=f.na[0],f.P=f.P[0],f.Sa=f.Sa[0],0!=b)break}a=[a],f.Ja=[f.Ja],f.xa=[f.xa];e:if(P=e,b=r,y=a,N=f.gb[0],k=f.Ja,S=f.xa,C=b[0],j=!n(P,C,"VP8 "),_=!n(P,C,"VP8L"),t(null!=P),t(null!=y),t(null!=k),t(null!=S),8>y[0])b=7;else{if(j||_){if(P=L(P,C+4),12<=N&&P>N-12){b=3;break e}if(m&&P>y[0]-8){b=7;break e}k[0]=P,b[0]+=8,y[0]-=8,S[0]=_}else S[0]=5<=y[0]&&47==P[C+0]&&!(P[C+4]>>5),k[0]=y[0];b=0}if(a=a[0],f.Ja=f.Ja[0],f.xa=f.xa[0],r=r[0],0!=b)break;if(4294967286<f.Ja)return 3;if(null==c||v||(c[0]=f.xa?2:1),l=[l],g=[g],f.xa){if(5>a){b=7;break}c=l,m=g,v=o,null==e||5>a?e=0:5<=a&&47==e[r+0]&&!(e[r+4]>>5)?(y=[0],P=[0],N=[0],x(k=new w,e,r,a),fe(k,y,P,N)?(null!=c&&(c[0]=y[0]),null!=m&&(m[0]=P[0]),null!=v&&(v[0]=N[0]),e=1):e=0):e=0}else{if(10>a){b=7;break}c=g,null==e||10>a||!$e(e,r+3,a-3)?e=0:(m=e[r+0]|e[r+1]<<8|e[r+2]<<16,v=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&m||3<(m>>1&7)||!(m>>4&1)||m>>5>=f.Ja||!v||!e?e=0:(l&&(l[0]=v),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],p&&(u[0]!=l||h[0]!=g))return 3;null!=d&&(d[0]=f,d.offset=r-d.w,t(4294967286>r-d.w),t(d.offset==d.ha-a));break}return 0==b||7==b&&p&&null==d?(null!=o&&(o[0]|=null!=f.na&&0<f.na.length),null!=s&&(s[0]=l),null!=i&&(i[0]=g),0):b}function Rn(e,t,n){var r=t.width,a=t.height,s=0,i=0,o=r,l=a;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,s=e.v,i=e.j,11>n||(s&=-2,i&=-2),0>s||0>i||0>=o||0>=l||s+o>r||i+l>a))return 0;if(t.v=s,t.j=i,t.va=s+o,t.o=i+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!M(o,l,n=[e.ib],s=[e.hb]))return 0;t.ib=n[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*a/4,t.Kb=0),1}function Mn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Fn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var a=n.cd,i=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=a||0>=i||o+a>e||l+i>t)return 2;e=a,t=i}if(n.da){if(!M(e,t,a=[n.ib],i=[n.hb]))return 2;e=a[0],t=i[0]}}r.width=e,r.height=t;e:{var c=r.width,d=r.height;if(e=r.S,0>=c||0>=d||!(e>=Rr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=i=a=t=0;var u=(l=c*Ba[e])*d;if(11>e||(i=(d+1)/2*(t=(c+1)/2),12==e&&(o=(a=c)*d)),null==(d=s(u+2*i+o))){e=1;break e}r.sd=d,11>e?((c=r.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=i,c.ea=d,c.W=0+u+i,c.Db=t,c.Ed=i,12==e&&(c.F=d,c.J=0+u+2*i),c.Tc=o,c.lb=a)}if(t=1,a=r.S,i=r.width,o=r.height,a>=Rr&&13>a)if(11>a)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+i<=e.size,t&=l>=i*Ba[a],t&=null!=e.eb;else{e=r.f.kb,l=(i+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),p=Math.abs(e.lb),m=p*(o-1)+i;t&=c*(o-1)+i<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=i&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==a&&(t&=p>=i,t&=m<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Mn(r)),e}var On=64,zn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bn=24,Un=32,qn=8,Wn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];z("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return U(U(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return U(e,t[n-1])},e.Predictor7=function(e,t,n){return U(e,t[n+0])},e.Predictor8=function(e,t,n){return U(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return U(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return U(U(e,t[n-1]),U(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=H(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+H(r>>16&255,e>>16&255,t>>16&255)+H(r>>8&255,e>>8&255,t>>8&255)+H(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(q((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|q((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|q((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|q((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(W((e=U(e,t[n+0]))>>24&255,r>>24&255)<<24|W(e>>16&255,r>>16&255)<<16|W(e>>8&255,r>>8&255)<<8|W(255&e,255&r))>>>0};var Hn=e.PredictorAdd0;e.PredictorAdd1=V,z("Predictor2","PredictorAdd2"),z("Predictor3","PredictorAdd3"),z("Predictor4","PredictorAdd4"),z("Predictor5","PredictorAdd5"),z("Predictor6","PredictorAdd6"),z("Predictor7","PredictorAdd7"),z("Predictor8","PredictorAdd8"),z("Predictor9","PredictorAdd9"),z("Predictor10","PredictorAdd10"),z("Predictor11","PredictorAdd11"),z("Predictor12","PredictorAdd12"),z("Predictor13","PredictorAdd13");var Vn=e.PredictorAdd2;$("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),$("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Gn,Kn=e.ColorIndexInverseTransform,Yn=e.MapARGB,$n=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Xn=e.VP8LPredictorsAdd=[];Xn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Qn,Zn,er,tr,nr,rr,ar,sr,ir,or,lr,cr,dr,ur,hr,pr,mr,fr,gr,xr,vr,br,yr,wr,jr,Nr,kr,Sr,Cr=s(511),_r=s(2041),Pr=s(225),Ar=s(767),Dr=0,Tr=_r,Lr=Pr,Er=Ar,Ir=Cr,Rr=0,Mr=1,Fr=2,Or=3,zr=4,Br=5,Ur=6,qr=7,Wr=8,Hr=9,Vr=10,Gr=[2,3,7],Kr=[3,3,11],Yr=[280,256,256,256,40],$r=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zr=8,ea=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ta=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],na=null,ra=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sa=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ia=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],la=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ca=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],da=[],ua=[],ha=[],pa=1,ma=2,fa=[],ga=[];xn("UpsampleRgbLinePair",Nn,3),xn("UpsampleBgrLinePair",kn,3),xn("UpsampleRgbaLinePair",An,4),xn("UpsampleBgraLinePair",Pn,4),xn("UpsampleArgbLinePair",_n,4),xn("UpsampleRgba4444LinePair",Cn,2),xn("UpsampleRgb565LinePair",Sn,2);var xa=e.UpsampleRgbLinePair,va=e.UpsampleBgrLinePair,ba=e.UpsampleRgbaLinePair,ya=e.UpsampleBgraLinePair,wa=e.UpsampleArgbLinePair,ja=e.UpsampleRgba4444LinePair,Na=e.UpsampleRgb565LinePair,ka=16,Sa=1<<ka-1,Ca=-227,_a=482,Pa=6,Aa=(256<<Pa)-1,Da=0,Ta=s(256),La=s(256),Ea=s(256),Ia=s(256),Ra=s(_a-Ca),Ma=s(_a-Ca);Dn("YuvToRgbRow",Nn,3),Dn("YuvToBgrRow",kn,3),Dn("YuvToRgbaRow",An,4),Dn("YuvToBgraRow",Pn,4),Dn("YuvToArgbRow",_n,4),Dn("YuvToRgba4444Row",Cn,2),Dn("YuvToRgb565Row",Sn,2);var Fa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Oa=[0,2,8],za=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,o,l,c){var d=Mr,u=new tn,h=new ie;u.ba=h,h.S=d,h.width=[h.width],h.height=[h.height];var p=h.width,m=h.height,f=new oe;if(null==f||null==e)var g=2;else t(null!=f),g=In(e,n,o,f.width,f.height,f.Pd,f.Qd,f.format,null);if(0!=g?p=0:(null!=p&&(p[0]=f.width[0]),null!=m&&(m[0]=f.height[0]),p=1),p){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=c&&(c[0]=h.height);e:{if(l=new Ge,(c=new nn).data=e,c.w=n,c.ha=o,c.kd=1,n=[0],t(null!=c),(0==(e=In(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=u),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=pe,l.ac=he,l.bc=me,l.ma=u,c.xa){if(null==(e=Pe())){u=1;break e}if(function(e,n){var r=[0],a=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,x(e.m,n.data,n.w,n.ha),!fe(e.m,r,a,s)){e.a=3;break t}if(e.xb=ma,n.width=r[0],n.height=a[0],!Ae(r[0],a[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=Fn(l.width,l.height,u.Oa,u.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Rn(c.Oa,o,Or)){l.a=2;break n}if(!De(l,o.width))break n;if(o.da)break n;if((o.da||re(l.ca.S))&&gn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!E(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Ce(l,l.V,l.Ba,l.c,l.i,o.o,je))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ke)){u=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Je(e,l)){if(0==(n=Fn(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,o=u.Oa,t(null!=(c=e)),null!=o){if(0<(p=0>(p=o.Md)?0:100<p?255:255*p/100)){for(m=f=0;4>m;++m)12>(g=c.pb[m]).lc&&(g.ia=p*za[0>g.lc?0:g.lc]>>3),f|=g.ia;f&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return Ye(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=Oa[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var p=h;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),u.dd=p,u.tc=2*h+p,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Ye(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(p=e.za);var m=32*p,f=p+1,g=0<e.L?p*(0<e.Aa?2:1):0,x=(2==e.Aa?2:1)*p;if((u=l+832+(c=3*(16*o+Oa[e.L])/2*m)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=s(u),e.Fc=0,null==e.Ec){o=Ye(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=i(m,We),e.Hd=0,e.rb=i(f+1,ze),e.sb=1,e.wa=g?i(g,Oe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=i(x,Ue),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(m=Oa[e.L])*e.R,m=m/2*e.B,e.sa=u,e.ta=h+p,e.qa=e.sa,e.ra=e.ta+16*o*e.R+m,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+m,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),Qe(e),a(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Dr){for(o=-255;255>=o;++o)Cr[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)_r[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Pr[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Ar[255+o]=0>o?0:255<o?255:o;Dr=1}ar=lt,sr=at,or=st,lr=it,cr=ot,ir=rt,dr=Kt,ur=Yt,hr=Xt,pr=Qt,mr=$t,fr=Jt,gr=Zt,xr=en,vr=Ut,br=qt,yr=Wt,wr=Ht,ua[0]=Nt,ua[1]=dt,ua[2]=wt,ua[3]=jt,ua[4]=kt,ua[5]=Ct,ua[6]=St,ua[7]=_t,ua[8]=At,ua[9]=Pt,da[0]=gt,da[1]=ht,da[2]=pt,da[3]=mt,da[4]=xt,da[5]=vt,da[6]=bt,ha[0]=Et,ha[1]=ut,ha[2]=Dt,ha[3]=Tt,ha[4]=Rt,ha[5]=It,ha[6]=Mt,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var i,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(i=0;i<c.za;++i){var d=l,u=c,h=u.Ac,p=u.Bc+4*i,m=u.zc,f=u.ya[u.aa+i];if(u.Qa.Bb?f.$b=P(d,u.Pa.jb[0])?2+P(d,u.Pa.jb[2]):P(d,u.Pa.jb[1]):f.$b=0,u.kc&&(f.Ad=P(d,u.Bd)),f.Za=!P(d,145)+0,f.Za){var g=f.Ob,x=0;for(u=0;4>u;++u){var v,b=m[0+u];for(v=0;4>v;++v){b=oa[h[p+v]][b];for(var y=sa[P(d,b[0])];0<y;)y=sa[2*y+P(d,b[y])];b=-y,h[p+v]=b}r(g,x,h,p,4),x+=4,m[0+u]=b}}else b=P(d,156)?P(d,128)?1:3:P(d,163)?2:0,f.Ob[0]=b,a(h,p,b,4),a(m,0,b,4);f.Dd=P(d,142)?P(d,114)?P(d,183)?1:3:2:0}if(c.m.Ka)return Ye(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],i=l.ya[l.aa+l.ja],p=l.kc?i.Ad:0)d.la=h.la=0,i.Za||(d.Na=h.Na=0),i.Hc=0,i.Gc=0,i.ia=0;else{var w,j;if(d=h,h=c,p=l.Pa.Xc,m=l.ya[l.aa+l.ja],f=l.pb[m.$b],u=m.ad,g=0,x=l.rb[l.sb-1],b=v=0,a(u,g,0,384),m.Za)var N=0,k=p[3];else{y=s(16);var S=d.Na+x.Na;if(S=na(h,p[1],S,f.Eb,0,y,0),d.Na=x.Na=(0<S)+0,1<S)ar(y,0,u,g);else{var C=y[0]+3>>3;for(y=0;256>y;y+=16)u[g+y]=C}N=1,k=p[0]}var _=15&d.la,A=15&x.la;for(y=0;4>y;++y){var D=1&A;for(C=j=0;4>C;++C)_=_>>1|(D=(S=na(h,k,S=D+(1&_),f.Sc,N,u,g))>N)<<7,j=j<<2|(3<S?3:1<S?2:0!=u[g+0]),g+=16;_>>=4,A=A>>1|D<<7,v=(v<<8|j)>>>0}for(k=_,N=A>>4,w=0;4>w;w+=2){for(j=0,_=d.la>>4+w,A=x.la>>4+w,y=0;2>y;++y){for(D=1&A,C=0;2>C;++C)S=D+(1&_),_=_>>1|(D=0<(S=na(h,p[2],S,f.Qc,0,u,g)))<<3,j=j<<2|(3<S?3:1<S?2:0!=u[g+0]),g+=16;_>>=2,A=A>>1|D<<5}b|=j<<4*w,k|=_<<4<<w,N|=(240&A)<<w}d.la=k,x.la=N,m.Hc=v,m.Gc=b,m.ia=43690&b?0:f.ia,p=!(v|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[i.$b][i.Za],l.wa[l.Y+l.ja].La|=!p),c.Ka)return Ye(e,7,"Premature end-of-file encountered.")}if(Qe(e),l=n,c=1,i=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(i.M=o.M,i.uc=d,En(o,i),c=1,i=(j=o.D).Nb,d=(b=Oa[o.L])*o.R,h=b/2*o.B,y=16*i*o.R,C=8*i*o.B,p=o.sa,m=o.ta-d+y,f=o.qa,u=o.ra-h+C,g=o.Ha,x=o.Ia-h+C,A=0==(_=j.M),v=_>=o.Va-1,2==o.Aa&&En(o,j),j.uc)for(D=(S=o).D.M,t(S.D.uc),j=S.yb;j<S.Hb;++j){N=j,k=D;var T=(L=(U=S).D).Nb;w=U.R;var L=L.wa[L.Y+N],E=U.sa,I=U.ta+16*T*w+16*N,R=L.dd,M=L.tc;if(0!=M)if(t(3<=M),1==U.L)0<N&&br(E,I,w,M+4),L.La&&wr(E,I,w,M),0<k&&vr(E,I,w,M+4),L.La&&yr(E,I,w,M);else{var F=U.B,O=U.qa,z=U.ra+8*T*F+8*N,B=U.Ha,U=U.Ia+8*T*F+8*N;T=L.ld,0<N&&(ur(E,I,w,M+4,R,T),pr(O,z,B,U,F,M+4,R,T)),L.La&&(fr(E,I,w,M,R,T),xr(O,z,B,U,F,M,R,T)),0<k&&(dr(E,I,w,M+4,R,T),hr(O,z,B,U,F,M+4,R,T)),L.La&&(mr(E,I,w,M,R,T),gr(O,z,B,U,F,M,R,T))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(j=16*_,_=16*(_+1),A?(l.y=o.sa,l.O=o.ta+y,l.f=o.qa,l.N=o.ra+C,l.ea=o.Ha,l.W=o.Ia+C):(j-=b,l.y=p,l.O=m,l.f=f,l.N=u,l.ea=g,l.W=x),v||(_-=b),_>l.o&&(_=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&j<_&&(l.J=un(o,l,j,_-j),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ye(o,3,"Could not decode alpha data.");break t}j<l.j&&(b=l.j-j,j=l.j,t(!(1&b)),l.O+=o.R*b,l.N+=o.B*(b>>1),l.W+=o.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),j<_&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=j-l.j,l.U=l.va-l.v,l.T=_-j,c=l.put(l))}i+1!=o.Ic||v||(r(o.sa,o.ta-d,p,m+16*o.R,d),r(o.qa,o.ra-h,f,u+8*o.B,h),r(o.Ha,o.Ia-h,g,x+8*o.B,h))}if(!c)return Ye(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=u.Oa&&u.Oa.fd&&(n=Mn(u.ba))}u=n}d=0!=u?null:11>d?h.f.RGBA.eb:h.f.kb.y}else d=null;return d};var Ba=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return e[t+0]|e[t+1]<<8}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var p=[0],m=[0],f=[],g=new l,x=e,v=function(e,t){var n={},r=0,a=!1,s=0,i=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var o=c(e,t),l=h(e,t+=4);t+=4;var p=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=a?i:t-8,g.src_size=s+l+8,r++,a&&(a=!1,s=0,i=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var m=t+4;g.canvas_width=1+u(e,m),m+=3,g.canvas_height=1+u(e,m),m+=3;break;case"ALPH":a=!0,s=p+8,i=t-8;break;case"ANIM":(g=n.header).bgcolor=h(e,t),m=t+4,g.loop_count=d(e,m),m+=2;break;case"ANMF":var f,g;(g=n.frames[r]={}).offset_x=2*u(e,t),t+=3,g.offset_y=2*u(e,t),t+=3,g.width=1+u(e,t),t+=3,g.height=1+u(e,t),t+=3,g.duration=u(e,t),t+=3,f=e[t++],g.dispose=1&f,g.blend=f>>1&1}"ANMF"!=o&&(t+=p)}return n}}(x,0);v.response=x,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,y=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,p=[b.canvas_height],m=[b.canvas_width];for(var w=0;w<y.length&&0!=y[w].blend;w++);}var j=y[0],N=g.WebPDecodeRGBA(x,j.src_off,j.src_size,m,p);j.rgba=N,j.imgwidth=m[0],j.imgheight=p[0];for(var k=0;k<m[0]*p[0]*4;k++)f[k]=N[k];return this.width=m,this.height=p,this.data=f,this}!function(e){var t,n,r,a,s,i,o,l,c,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new i,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new i,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var a=0;Object.defineProperty(this,"posX",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var i=!1;Object.defineProperty(this,"autoPaging",{get:function(){return i},set:function(e){i=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof d&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var p=null,m=null,f=null;Object.defineProperty(this,"fontFaces",{get:function(){return f},set:function(e){p=null,m=null,f=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],a=t[4];t[5];var s=t[6],i=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(a)[2];a="px"===i?Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor):"em"===i?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(a);var o=function(e){var t,n,r=[],a=e.trim();if(""===a)return $h;if(a in Rh)return[Rh[a]];for(;""!==a;){switch(n=null,t=(a=Fh(a)).charAt(0)){case'"':case"'":n=Oh(a.substring(1),t);break;default:n=zh(a)}if(null===n)return $h;if(r.push(n[0]),""!==(a=Fh(n[1]))&&","!==a.charAt(0))return $h;a=a.replace(/^,/,"")}return r}(s);if(this.fontFaces){var l=function(e,t){var n=e.getFontList(),r=JSON.stringify(n);if(null===p||m!==r){var a=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(n);p=function(e){for(var t={},n=0;n<e.length;++n){var r=Lh(e[n]),a=r.family,s=r.stretch,i=r.style,o=r.weight;t[a]=t[a]||{},t[a][s]=t[a][s]||{},t[a][s][i]=t[a][s][i]||{},t[a][s][i][o]=r}return t}(a.concat(t)),m=r}return p}(this.pdf,this.fontFaces),c=o.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}),d=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},Ih,n.genericFontFamilies||{}),s=null,i=null,o=0;o<t.length;++o)if(a[(s=Lh(t[o])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){i=e[s.family];break}if(!(i=i||e[r]))throw new Error("Could not find a font-family for the rule '"+Mh(s)+"' and default family '"+r+"'.");if(i=function(e,t){if(t[e])return t[e];var n=Ah[e],r=n<=Ah.normal?-1:1,a=Eh(t,Ph,n,r);if(!a)throw new Error("Could not find a matching font-stretch value for "+e);return a}(s.stretch,i),i=function(e,t){if(t[e])return t[e];for(var n=_h[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(s.style,i),!(i=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Th[e],r=Eh(t,Dh,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+Mh(s)+"'.");return i}(l,c);this.pdf.setFont(d.ref.name,d.ref.style)}else{var u="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(u="bold"),"italic"===n&&(u+="italic"),0===u.length&&(u="normal");for(var h="",f={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},g=0;g<o.length;g++){if(void 0!==this.pdf.internal.getFont(o[g],u,{noFallback:!0,disableWarning:!0})){h=o[g];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(o[g],"bold",{noFallback:!0,disableWarning:!0}))h=o[g],u="bold";else if(void 0!==this.pdf.internal.getFont(o[g],"normal",{noFallback:!0,disableWarning:!0})){h=o[g],u="normal";break}}if(""===h)for(var x=0;x<o.length;x++)if(f[o[x]]){h=f[o[x]];break}h=""===h?"Times":h,this.pdf.setFont(h,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,F.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,F.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){y.call(this,"fill",!1)},u.prototype.stroke=function(){y.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw lu.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new i(e,t)},u.prototype.closePath=function(){var e=new i(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,Ys.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new i(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw lu.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new i(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),y.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw lu.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new i(n,r)),s=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"qct",x1:s.x,y1:s.y,x:a.x,y:a.y}),this.ctx.lastPoint=new i(a.x,a.y)},u.prototype.bezierCurveTo=function(e,t,n,r,a,s){if(isNaN(a)||isNaN(s)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw lu.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new i(a,s)),l=this.ctx.transform.applyToPoint(new i(e,t)),c=this.ctx.transform.applyToPoint(new i(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new i(o.x,o.y)},u.prototype.arc=function(e,t,n,r,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a))throw lu.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new i(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new i(0,n)),c=this.ctx.transform.applyToPoint(new i(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(a-r)>=2*Math.PI&&(r=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:a,counterclockwise:s})},u.prototype.arcTo=function(e,t,n,r,a){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw lu.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw lu.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw lu.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw lu.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,a=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==s)t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),a=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),a=parseFloat(s[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var i=new pu(e);e=i.ok?i.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:a,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw lu.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!p.call(this)){var a=I(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;P.call(this,{text:e,x:t,y:n,scale:s,angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw lu.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){r=isNaN(r)?void 0:r;var a=I(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;P.call(this,{text:e,x:t,y:n,scale:s,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw lu.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw lu.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw lu.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw lu.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s))throw lu.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var i=new l(e,t,n,r,a,s);this.ctx.transform=this.ctx.transform.multiply(i)},u.prototype.setTransform=function(e,t,n,r,a,s){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,a=isNaN(a)?0:a,s=isNaN(s)?0:s,this.ctx.transform=new l(e,t,n,r,a,s)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,a,s,i,c,d){var u=this.pdf.getImageProperties(e),h=1,p=1,m=1,x=1;void 0!==r&&void 0!==c&&(m=c/r,x=d/a,h=u.width/r*c/r,p=u.height/a*d/a),void 0===s&&(s=t,i=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,d=a),void 0===r&&void 0===c&&(c=u.width,d=u.height);var y=this.ctx.transform.decompose(),j=I(y.rotate.shx),N=new l,k=(N=(N=(N=N.multiply(y.translate)).multiply(y.skew)).multiply(y.scale)).applyToRectangle(new o(s-t*m,i-n*x,r*h,a*p));if(this.autoPaging){for(var S,C=g.call(this,k),_=[],P=0;P<C.length;P+=1)-1===_.indexOf(C[P])&&_.push(C[P]);b(_);for(var A=_[0],D=_[_.length-1],T=A;T<D+1;T++){this.pdf.setPage(T);var L=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],E=1===T?this.posY+this.margin[0]:this.margin[0],R=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],M=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],F=1===T?0:R+(T-2)*M;if(0!==this.ctx.clip_path.length){var O=this.path;S=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(S,this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=O}var z=JSON.parse(JSON.stringify(k));z=v([z],this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset)[0];var B=(T>A||T<D)&&f.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,M,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",z.x,z.y,z.w,z.h,null,null,j),B&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(e,"JPEG",k.x,k.y,k.w,k.h,null,null,j)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var a=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+a)/n)+1);break;case"arc":r.push(Math.floor((e.y+a-e.radius)/n)+1),r.push(Math.floor((e.y+a+e.radius)/n)+1);break;case"qct":var s=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((s.y+a)/n)+1),r.push(Math.floor((s.y+s.h+a)/n)+1);break;case"bct":var i=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((i.y+a)/n)+1),r.push(Math.floor((i.y+i.h+a)/n)+1);break;case"rect":r.push(Math.floor((e.y+a)/n)+1),r.push(Math.floor((e.y+e.h+a)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)x.call(this);return r},x=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,a=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=a,this.lineJoin=s},v=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},b=function(e){return e.sort(function(e,t){return e-t})},y=function(e,t){var n=this.fillStyle,r=this.strokeStyle,a=this.lineCap,s=this.lineWidth,i=Math.abs(s*this.ctx.transform.scaleX),o=this.lineJoin;if(this.autoPaging){for(var l,c,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],p=0;p<u.length;p++)if(void 0!==u[p].x)for(var m=g.call(this,u[p]),y=0;y<m.length;y+=1)-1===h.indexOf(m[y])&&h.push(m[y]);for(var j=0;j<h.length;j++)for(;this.pdf.internal.getNumberOfPages()<h[j];)x.call(this);b(h);for(var N=h[0],k=h[h.length-1],S=N;S<k+1;S++){this.pdf.setPage(S),this.fillStyle=n,this.strokeStyle=r,this.lineCap=a,this.lineWidth=i,this.lineJoin=o;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_=1===S?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],A=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],D=1===S?0:P+(S-2)*A;if(0!==this.ctx.clip_path.length){var T=this.path;l=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(l,this.posX+this.margin[3],-D+_+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=T}if(c=JSON.parse(JSON.stringify(d)),this.path=v(c,this.posX+this.margin[3],-D+_+this.ctx.prevPageLastElemOffset),!1===t||0===S){var L=(S>N||S<k)&&f.call(this);L&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,A,null).clip().discardPath()),w.call(this,e,t),L&&this.pdf.restoreGraphicsState()}this.lineWidth=s}this.path=d}else this.lineWidth=i,w.call(this,e,t),this.lineWidth=s},w=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!p.call(this))){for(var n,r,a=[],s=this.path,i=0;i<s.length;i++){var o=s[i];switch(o.type){case"begin":a.push({begin:!0});break;case"close":a.push({close:!0});break;case"mt":a.push({start:o,deltas:[],abs:[]});break;case"lt":var l=a.length;if(s[i-1]&&!isNaN(s[i-1].x)&&(n=[o.x-s[i-1].x,o.y-s[i-1].y],l>0))for(;l>=0;l--)if(!0!==a[l-1].close&&!0!==a[l-1].begin){a[l-1].deltas.push(n),a[l-1].abs.push(o);break}break;case"bct":n=[o.x1-s[i-1].x,o.y1-s[i-1].y,o.x2-s[i-1].x,o.y2-s[i-1].y,o.x-s[i-1].x,o.y-s[i-1].y],a[a.length-1].deltas.push(n);break;case"qct":var c=s[i-1].x+2/3*(o.x1-s[i-1].x),d=s[i-1].y+2/3*(o.y1-s[i-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),f=o.x,g=o.y;n=[c-s[i-1].x,d-s[i-1].y,u-s[i-1].x,h-s[i-1].y,f-s[i-1].x,g-s[i-1].y],a[a.length-1].deltas.push(n);break;case"arc":a.push({deltas:[],abs:[],arc:!0}),Array.isArray(a[a.length-1].abs)&&a[a.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var x=!1,v=0;v<a.length;v++)if(a[v].arc)for(var b=a[v].abs,y=0;y<b.length;y++){var w=b[y];"arc"===w.type?k.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!x):A.call(this,w.x,w.y),x=!0}else if(!0===a[v].close)this.pdf.internal.out("h"),x=!1;else if(!0!==a[v].begin){var j=a[v].start.x,N=a[v].start.y;D.call(this,a[v].deltas,j,N),x=!0}r&&S.call(this,r),t&&C.call(this)}},j=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},N=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,n,r,a,s,i,o,l){for(var c=L.call(this,n,r,a,s),d=0;d<c.length;d++){var u=c[d];0===d&&(l?_.call(this,u.x1+e,u.y1+t):A.call(this,u.x1+e,u.y1+t)),T.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?C.call(this):S.call(this,i)},S=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},P=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n,r,a,s=this.pdf.getTextDimensions(e.text),c=j.call(this,e.y),d=N.call(this,c)-s.h,u=this.ctx.transform.applyToPoint(new i(e.x,c));if(this.autoPaging){var h=this.ctx.transform.decompose(),p=new l;p=(p=(p=p.multiply(h.translate)).multiply(h.skew)).multiply(h.scale);for(var m=this.ctx.transform.applyToRectangle(new o(e.x,c,s.w,s.h)),x=p.applyToRectangle(new o(e.x,d,s.w,s.h)),y=g.call(this,x),k=[],S=0;S<y.length;S+=1)-1===k.indexOf(y[S])&&k.push(y[S]);b(k);for(var C=k[0],_=k[k.length-1],P=C;P<_+1;P++){this.pdf.setPage(P);var A=1===P?this.posY+this.margin[0]:this.margin[0],D=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[2],L=T-this.margin[0],E=this.pdf.internal.pageSize.width-this.margin[1],I=E-this.margin[3],R=1===P?0:D+(P-2)*L;if(0!==this.ctx.clip_path.length){var M=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(n,this.posX+this.margin[3],-1*R+A),w.call(this,"fill",!0),this.path=M}var F=v([JSON.parse(JSON.stringify(x))],this.posX+this.margin[3],-R+A+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(r=this.pdf.internal.getFontSize(),this.pdf.setFontSize(r*e.scale),a=this.lineWidth,this.lineWidth=a*e.scale);var O="text"!==this.autoPaging;if(O||F.y+F.h<=T){if(O||F.y>=A&&F.x<=E){var z=O?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||E-F.x)[0],B=v([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-R+A+this.ctx.prevPageLastElemOffset)[0],U=O&&(P>C||P<_)&&f.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,L,null).clip().discardPath()),this.pdf.text(z,B.x,B.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else F.y<T&&(this.ctx.prevPageLastElemOffset+=T-F.y);e.scale>=.01&&(this.pdf.setFontSize(r),this.lineWidth=a)}}else e.scale>=.01&&(r=this.pdf.internal.getFontSize(),this.pdf.setFontSize(r*e.scale),a=this.lineWidth,this.lineWidth=a*e.scale),this.pdf.text(e.text,u.x+this.posX,u.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(r),this.lineWidth=a)},A=function(e,t,a,s){a=a||0,s=s||0,this.pdf.internal.out(n(e+a)+" "+r(t+s)+" l")},D=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},T=function(e,n,r,i,o,l,c,d){this.pdf.internal.out([t(a(r+e)),t(s(i+n)),t(a(o+e)),t(s(l+n)),t(a(c+e)),t(s(d+n)),"c"].join(" "))},L=function(e,t,n,r){for(var a=2*Math.PI,s=Math.PI/2;t>n;)t-=a;var i=Math.abs(n-t);i<a&&r&&(i=a-i);for(var o=[],l=r?-1:1,c=t;i>1e-5;){var d=c+l*Math.min(i,s);o.push(E.call(this,e,c,d)),i-=Math.abs(d-c),c=d}return o},E=function(e,t,n){var r=(n-t)/2,a=e*Math.cos(r),s=e*Math.sin(r),i=a,o=-s,l=i*i+o*o,c=l+i*a+o*s,d=4/3*(Math.sqrt(2*l*c)-c)/(i*s-o*a),u=i-d*o,h=o+d*i,p=u,m=-h,f=r+t,g=Math.cos(f),x=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*x,y2:u*x+h*g,x3:p*g-m*x,y3:p*x+m*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},I=function(e){return 180*e/Math.PI},R=function(e,t,n,r,a,s){var i=e+.5*(n-e),l=t+.5*(r-t),c=a+.5*(n-a),d=s+.5*(r-s),u=Math.min(e,a,i,c),h=Math.max(e,a,i,c),p=Math.min(t,s,l,d),m=Math.max(t,s,l,d);return new o(u,p,h-u,m-p)},M=function(e,t,n,r,a,s,i,l){var c,d,u,h,p,m,f,g,x,v,b,y,w,j,N=n-e,k=r-t,S=a-n,C=s-r,_=i-a,P=l-s;for(d=0;d<41;d++)x=(f=(u=e+(c=d/40)*N)+c*((p=n+c*S)-u))+c*(p+c*(a+c*_-p)-f),v=(g=(h=t+c*k)+c*((m=r+c*C)-h))+c*(m+c*(s+c*P-m)-g),0==d?(b=x,y=v,w=x,j=v):(b=Math.min(b,x),y=Math.min(y,v),w=Math.max(w,x),j=Math.max(j,v));return new o(Math.round(b),Math.round(y),Math.round(w-b),Math.round(j-y))},F=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(zu.API),function(e){var t=function(e){var t,n,r,a,s,i,o,l,c,d;for(/[^\x00-\xFF]/.test(e),n=[],r=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;a>r;r+=4)0!==(s=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(i=(s=((s=((s=((s=(s-(d=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(o=s%85))/85)%85,n.push(i+33,o+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,a,s,i=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],a=0,s=(e+=t="uuuuu"[d](e[o]%5||5))[o];s>a;a+=5)n=52200625*(e[c](a)-33)+614125*(e[c](a+1)-33)+7225*(e[c](a+2)-33)+85*(e[c](a+3)-33)+(e[c](a+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[o]),i.fromCharCode.apply(i,r)},r=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},s=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=Li(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,i){var o=0,l=e||"",c=[];for("string"==typeof(i=i||[])&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=a(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(zu.API),(Yh=zu.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,a=0,s=function(e){var t=e.length,n=[],r=String.fromCharCode;for(a=0;a<t;a+=1)n.push(r(255&e.charCodeAt(a)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(s(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return s(r.responseText)}(e,t,n)}catch(li){}return r}(e,t,n)},Yh.loadImageFile=Yh.loadFile,function(e){function t(){return(iu.html2canvas?Promise.resolve(iu.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(iu.DOMPurify?Promise.resolve(iu.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var a=function(e){var t=(0,Ys.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},i=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==n&&1===a.nodeType&&"SCRIPT"===a.nodeName||r.appendChild(e(a,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(a(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(r).then(function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var i=n[s],o=i.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,i.ref.name,i.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=0==a.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,t.context2d.save(!0),e(this.prop.container,a)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if("object"!==a(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},o.prototype.setMargin=function(e){return this.then(function(){switch(a(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||zu.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var a=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:o.convert(Object.assign({},r),Promise.prototype),s=n.call(a,e,t);return o.convert(s,r.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw new Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,zu.getPageSize=function(e,t,n){if("object"===(0,Ys.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var a,s=(""+n).toLowerCase(),i={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(i.hasOwnProperty(s))l=i[s][1]/a,c=i[s][0]/a;else try{l=n[1],c=n[0]}catch(pu){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:a,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Lh):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}(zu.API),zu.API.addJS=function(e){return qh=e,this.internal.events.subscribe("postPutResources",function(){Bh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Bh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Uh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+qh+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Bh&&void 0!==Uh&&this.internal.out("/Names <</JavaScript "+Bh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var s=r[a],i=n.exec(s);if(null!=i){var o=i[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var a=t.children[r];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var i=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(zu.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,a,s,i){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,o=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),a=e.length,s={width:0,height:0,numcomponents:1},i=4;i<a;i+=2){if(i+=r,-1!==t.indexOf(e.charCodeAt(i+1))){n=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),s={width:256*e.charCodeAt(i+7)+e.charCodeAt(i+8),height:n,numcomponents:e.charCodeAt(i+9)};break}r=256*e.charCodeAt(i+2)+e.charCodeAt(i+3)}return s}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),o.numcomponents){case 1:i=this.color_spaces.DEVICE_GRAY;break;case 4:i=this.color_spaces.DEVICE_CMYK;break;case 3:i=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:i,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(zu.API),zu.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=new au(e,{checkCrc:!0}).decode(),i=s.width,o=s.height,l=s.channels,c=s.palette,d=s.depth;a=c&&1===l?function(e){for(var t=e.width,n=e.height,r=e.data,a=e.palette,s=e.depth,i=!1,o=[],l=[],c=void 0,d=!1,u=0,h=0;h<a.length;h++){var p=Ri(a[h],4),m=p[0],f=p[1],g=p[2],x=p[3];o.push(m,f,g),null!=x&&(0===x?(u++,l.length<1&&l.push(h)):x<255&&(d=!0))}if(d||u>1){i=!0,l=void 0;var v=t*n;c=new Uint8Array(v);for(var b=new DataView(r.buffer),y=0;y<v;y++){var w=Ri(a[ap(b,y,s)],4)[3];c[y]=w}}else 0===u&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:i?8:void 0,colorBytes:r,alphaBytes:c,needSMask:i,palette:o,mask:l}}(s):2===l||4===l?function(e){for(var t=e.data,n=e.width,r=e.height,a=e.channels,s=e.depth,i=2===a?"DeviceGray":"DeviceRGB",o=a-1,l=n*r,c=o,d=l*c,u=1*l,h=Math.ceil(d*s/8),p=Math.ceil(u*s/8),m=new Uint8Array(h),f=new Uint8Array(p),g=new DataView(t.buffer),x=new DataView(m.buffer),v=new DataView(f.buffer),b=!1,y=0;y<l;y++){for(var w=y*a,j=0;j<c;j++)sp(x,ap(g,w+j,s),y*c+j,s);var N=ap(g,w+c,s);N<(1<<s)-1&&(b=!0),sp(v,N,1*y,s)}return{colorSpace:i,colorsPerPixel:o,sMaskBitsPerComponent:b?s:void 0,colorBytes:m,alphaBytes:f,needSMask:b}}(s):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,n=new Uint8Array(2*t),r=new DataView(n.buffer,n.byteOffset,n.byteLength),a=0;a<t;a++)r.setUint16(2*a,e[a],!1);return n}(t):t,needSMask:!1}}(s);var u,h,p,m=a,f=m.colorSpace,g=m.colorsPerPixel,x=m.sMaskBitsPerComponent,v=m.colorBytes,b=m.alphaBytes,y=m.needSMask,w=m.palette,j=m.mask,N=null;return r!==zu.API.image_compression.NONE?(N=function(e){var t;switch(e){case zu.API.image_compression.FAST:t=11;break;case zu.API.image_compression.MEDIUM:t=13;break;case zu.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(N," /Colors ").concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(i),e=Jh(v,Math.ceil(i*g*d/8),g,d,r),y&&(p=Jh(b,Math.ceil(i*x/8),1,x,r))):(u=void 0,h=void 0,e=v,y&&(p=b)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:e,index:t,filter:u,decodeParameters:h,transparency:j,palette:w,sMask:p,predictor:N,width:i,height:o,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:f}}},function(e){e.processGIF89A=function(t,n,r,a){var s=new op(t),i=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:i,height:o},d=new cp(100).encode(c,100);return e.processJPEG.call(this,d,n,r,a)},e.processGIF87A=e.processGIF89A}(zu.API),dp.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},dp.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){lu.log("bit decode error:"+n)}},dp.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}0!==n&&(this.pos+=4-n)}},dp.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+2*a*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[i]=c.blue,this.data[i+1]=c.green,this.data[i+2]=c.red,this.data[i+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[i+4]=c.blue,this.data[i+4+1]=c.green,this.data[i+4+2]=c.red,this.data[i+4+3]=255}0!==t&&(this.pos+=4-t)}},dp.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==e&&(this.pos+=4-e)}},dp.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,d=r*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=c}this.pos+=e}},dp.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&n)/n*255|0,c=(i>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},dp.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=r,this.data[i+3]=255}this.pos+=this.width%4}},dp.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=r,this.data[o+3]=i}},dp.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,a){var s=new dp(t,!1),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},c=new cp(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(zu.API),up.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,a){var s=new up(t),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},c=new cp(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(zu.API),zu.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var d=r[c],u=r[c+1],h=r[c+2],p=r[c+3];s[o++]=d,s[o++]=u,s[o++]=h,i[l++]=p}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},zu.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Wh=zu.API,Hh=Wh.getCharWidthsArray=function(e,t){var n,r,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=!1!==t.doKerning,h=0,p=e.length,m=0,f=o[0]||l,g=[];for(n=0;n<p;n++)r=e.charCodeAt(n),"function"==typeof a.metadata.widthOfString?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+i*(1e3/s)||0)/1e3):(h=u&&"object"===(0,Ys.A)(c[r])&&!isNaN(parseInt(c[r][m],10))?c[r][m]/d:0,g.push((o[r]||f)/l+h)),m=r;return g},Vh=Wh.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Wh.processArabic&&(e=Wh.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,a)/n:Hh.apply(this,arguments).reduce(function(e,t){return e+t},0)},Gh=function(e,t,n,r){for(var a=[],s=0,i=e.length,o=0;s!==i&&o+t[s]<n;)o+=t[s],s++;a.push(e.slice(0,s));var l=s;for(o=0;s!==i;)o+t[s]>r&&(a.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&a.push(e.slice(l,s)),a},Kh=function(e,t,n){n||(n={});var r,a,s,i,o,l,c,d=[],u=[d],h=n.textIndent||0,p=0,m=0,f=e.split(" "),g=Hh.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?f[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),v=[];f.map(function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):v.push(e[0])}),f=v,l=Vh.apply(this,[x,n])}for(s=0,i=f.length;s<i;s++){var b=0;if(r=f[s],l&&"\n"==r[0]&&(r=r.substr(1),b=1),h+p+(m=(a=Hh.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||b){if(m>t){for(o=Gh.apply(this,[r,a,t-(h+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);m=a.slice(r.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[r];u.push(d),h=m+l,p=g}else d.push(r),h+=p+m,p=g}return c=l?function(e,t){return(t?x:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},Wh.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(Kh.apply(this,[r[o],i,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},a={},s=0;s<16;s++)r[n[s]]=t[s],a[t[s]]=n[s];var i=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,r,s,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=i(c).slice(2)).slice(0,-1)+a[n.slice(-1)]),"number"==typeof t)t<0?(r=i(t).slice(3),s="-"):(r=i(t).slice(2),s=""),r=s+r.slice(0,-1)+a[r.slice(-1)];else{if("object"!==(0,Ys.A)(t))throw new Error("Don't know what to do with value type "+(0,Ys.A)(t)+".");r=o(t)}l.push(n+r)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,a,s,i={},o=1,l=i,c=[],d="",u="",h=e.length-1,p=1;p<h;p+=1)"'"==(s=e[p])?t?(a=t.join(""),t=void 0):t=[]:t?t.push(s):"{"==s?(c.push([l,a]),l={},a=void 0):"}"==s?((n=c.pop())[0][n[1]]=l,a=void 0,l=n[0]):"-"==s?o=-1:void 0===a?r.hasOwnProperty(s)?(d+=r[s],a=parseInt(d,16)*o,o=1,d=""):d+=s:r.hasOwnProperty(s)?(u+=r[s],l[a]=parseInt(u,16)*o,o=1,a=void 0,u=""):u+=s;return i},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(zu.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,a=n.font,s=n.instance;if(!a.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(a.postScriptName)?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(mu(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(a,r)}}])}(zu),zu.API.addSvgAsImage=function(e,t,r,a,s,i,o,l){if(isNaN(t)||isNaN(r))throw lu.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw lu.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(iu.canvg?Promise.resolve(iu.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,a,s,o,l)})},zu.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},zu.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],c=0,d=0,u=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=o.length;for(u=0;u<p;u+=1)n[o[u]].value=n[o[u]].defaultValue,n[o[u]].explicitSet=!1}if("object"===(0,Ys.A)(e))for(a in e)if(s=e[a],h(o,a)&&void 0!==s){if("boolean"===n[a].type&&"boolean"==typeof s)n[a].value=s;else if("name"===n[a].type&&h(n[a].valueSet,s))n[a].value=s;else if("integer"===n[a].type&&Number.isInteger(s))n[a].value=s;else if("array"===n[a].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)"number"!=typeof s[c][d]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[a].value="["+l.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),i=n.length+r.length+a.length+t.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+i+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+a+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(zu.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,a=["","0","00","000","0000"],s=[""],i=0,o=e.length;i<o;++i){if(n=t.metadata.characterToGlyph(e.charCodeAt(i)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(i),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(a[4-n.length],n)}return s.join("")},r=function(e){var t,n,r,a,s,i,o;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],i=0,o=(n=Object.keys(e).sort(function(e,t){return e-t})).length;i<o;i++)t=n[i],r.length>=100&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+a+">"));return r.length&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,s=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=s();i({data:c,addLength1:!0,objectId:u}),a("endobj");var h=s();i({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),a("endobj");var p=s();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+Eu(n.fontName)),a("/FontFile2 "+u+" 0 R"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/Flags "+n.metadata.flags),a("/StemV "+n.metadata.stemV),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a(">>"),a("endobj");var m=s();a("<<"),a("/Type /Font"),a("/BaseFont /"+Eu(n.fontName)),a("/FontDescriptor "+p+" 0 R"),a("/W "+e.API.PDFObject.convert(o)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+n.encoding+")"),a(">>"),a(">>"),a("endobj"),n.objectNumber=s(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+h+" 0 R"),a("/BaseFont /"+Eu(n.fontName)),a("/Encoding /"+n.encoding),a("/DescendantFonts ["+m+" 0 R]"),a(">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,s=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=s();i({data:l,addLength1:!0,objectId:d}),a("endobj");var u=s();i({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),a("endobj");var h=s();a("<<"),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a("/StemV "+n.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+d+" 0 R"),a("/Flags 96"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/FontName /"+Eu(n.fontName)),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a(">>"),a("endobj"),n.objectNumber=s();for(var p=0;p<n.metadata.hmtx.widths.length;p++)n.metadata.hmtx.widths[p]=parseInt(n.metadata.hmtx.widths[p]*(1e3/n.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Eu(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]);var a=function(e){var t,r=e.text||"",a=e.x,s=e.y,i=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",p=0,m="",f=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:r,x:a,y:s,options:i,mutex:o};for(m=r,u=c,Array.isArray(r)&&(m=r[0]),p=0;p<m.length;p+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[m[p].charCodeAt(0)]),t||m[p].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=m[p]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===f?g=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===f&&(g=n(h,d[u])),o.isHex=!0,{text:g,x:a,y:s,options:i,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var s=0;for(s=0;s<t.length;s+=1)Array.isArray(t[s])&&3===t[s].length?n.push([a(Object.assign({},r,{text:t[s][0]})).text,t[s][1],t[s][2]]):n.push(a(Object.assign({},r,{text:t[s]})).text);e.text=n}else e.text=a(Object.assign({},r,{text:t})).text}])}(zu),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(zu.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,a,s,i,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,x=0;this.__bidiEngine__={};var v=function(e){var t=e.charCodeAt(),n=t>>8,r=p[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":f.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=v(e.charAt(n))))return!1;if("R"===t)return!0}return!1},y=function(e,t,i,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=i[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?i[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===i[o-1]){h="EN";break}if(g){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(a&&!s){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var p=e[o],m=p>=1425&&p<=2303||64286===p;if(l=t[d],m&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":i[o-1];break;case"B":g=!1,n=!0,h=x;break;case"S":r=!0,h="N"}return h},w=function(e,t,n){var r=e.split("");return n&&j(r,n,{hiLevel:x}),r.reverse(),t&&t.reverse(),r.join("")},j=function(e,t,a){var s,i,o,l,c,p=-1,m=e.length,f=0,b=[],w=x?u:d,j=[];for(g=!1,n=!1,r=!1,i=0;i<m;i++)j[i]=v(e[i]);for(o=0;o<m;o++){if(c=f,b[o]=y(e,j,b,o),s=240&(f=w[c][h[b[o]]]),f&=15,t[o]=l=w[f][5],s>0)if(16===s){for(i=p;i<o;i++)t[i]=1;p=-1}else p=-1;if(w[f][6])-1===p&&(p=o);else if(p>-1){for(i=p;i<o;i++)t[i]=l;p=-1}"B"===j[o]&&(t[o]=0),a.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=x;for(var a=r-1;a>=0&&"WS"===e[a];a--)t[a]=x}}(j,t,m)},N=function(e,t,r,a,s){if(!(s.hiLevel<e)){if(1===e&&1===x&&!n)return t.reverse(),void(r&&r.reverse());for(var i,o,l,c,d=t.length,u=0;u<d;){if(a[u]>=e){for(l=u+1;l<d&&a[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)i=t[c],t[c]=t[o],t[o]=i,r&&(i=r[c],r[c]=r[o],r[o]=i);u=l}u++}}},k=function(e,t,n){var r=e.split(""),a={hiLevel:x};return n||(n=[]),j(r,n,a),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,a=0;a<e.length;a++)1===t[a]&&(r=m.indexOf(e[a]))>=0&&(e[a]=m[r+1])}(r,n,a),N(2,r,t,n,a),N(1,r,t,n,a),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===s&&(s=b(e)),void 0===o&&(o=b(e))}(e,t),a||!i||o)if(a&&i&&s^o)x=s?1:0,e=w(e,t,n);else if(!a&&i&&o)x=s?1:0,e=k(e,t,n),e=w(e,t);else if(!a||s||i||o){if(a&&!i&&s^o)e=w(e,t),s?(x=0,e=k(e,t,n)):(x=1,e=k(e,t,n),e=w(e,t));else if(a&&s&&!i&&o)x=1,e=k(e,t,n),e=w(e,t);else if(!a&&!i&&s^o){var r=l;s?(x=1,e=k(e,t,n),x=0,l=!1,e=k(e,t,n),l=r):(x=0,e=k(e,t,n),e=w(e,t),x=1,l=!1,e=k(e,t,n),l=r,e=w(e,t))}}else x=0,e=k(e,t,n);else x=s?1:0,e=k(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,i=e.isOutputVisual,s=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var a=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var s=0;for(a=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?a.push([n.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):a.push([n.doBidiReorder(t[s])]);e.text=a}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(zu),zu.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new pp(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Lp(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new mp(this.contents),this.head=new xp(this),this.name=new kp(this),this.cmap=new bp(this),this.toUnicode={},this.hhea=new yp(this),this.maxp=new Sp(this),this.hmtx=new Cp(this),this.post=new jp(this),this.os2=new wp(this),this.loca=new Tp(this),this.glyf=new Pp(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,a;for(a=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],a.push(Math.round(e*this.scaleFactor));return a}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(a=this.familyClass)||2===a||3===a||4===a||5===a||7===a,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,a,s,i;for(s=0,a=0,i=(e=""+e).length;0<=i?a<i:a>i;a=0<=i?++a:--a)r=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var hp,pp=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,a,s,i,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^s)+256*(255^i)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*a+65536*s+256*i+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)t=e[n],a.push(this.writeByte(t));return a},e}(),mp=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,a,s,i,o,l,c,d,u,h,p,m;for(m in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),s=Math.floor(d/o),c=16*h-d,(r=new pp).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(s),r.writeShort(c),a=16*h,l=r.pos+a,i=null,p=[],t)for(u=t[m],r.writeString(m),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),p=p.concat(u),"head"===m&&(i=l),l+=u.length;l%4;)p.push(0),l++;return r.write(p),n=2981146554-e(r.data),r.pos=i+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,a;for(e=_p.call(e);e.length%4;)e.push(0);for(r=new pp(e),n=0,t=0,a=e.length;t<a;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),fp={}.hasOwnProperty,gp=function(e,t){for(var n in t)fp.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};hp=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var xp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gp(e,hp),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new pp).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),vp=function(){function e(e,t){var n,r,a,s,i,o,l,c,d,u,h,p,m,f,g,x,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,a=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,m=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,i=function(){var t,n;for(n=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)n.push(e.readUInt16());return n}(),o=g=0,v=a.length;g<v;o=++g)for(f=a[o],n=x=p=m[o];p<=f?x<=f:x>=f;n=p<=f?++x:--x)0===c[o]?s=n+l[o]:0!==(s=i[c[o]/2+(n-p)-(u-o)]||0)&&(s+=l[o]),this.codeMap[n]=65535&s}e.pos=d}return e.encode=function(e,t){var n,r,a,s,i,o,l,c,d,u,h,p,m,f,g,x,v,b,y,w,j,N,k,S,C,_,P,A,D,T,L,E,I,R,M,F,O,z,B,U,q,W,H,V,G,K;switch(A=new pp,s=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(m=0,f=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),x={0:0},a={},D=0,I=s.length;D<I;D++)null==x[H=e[r=s[D]]]&&(x[H]=++m),a[r]={old:e[r],new:x[e[r]]},f[r]=x[e[r]];return A.writeUInt16(1),A.writeUInt16(0),A.writeUInt32(12),A.writeUInt16(0),A.writeUInt16(262),A.writeUInt16(0),A.write(f),{charMap:a,subtable:A.data,maxGlyphID:m+1};case"unicode":for(_=[],d=[],v=0,x={},n={},g=l=null,T=0,R=s.length;T<R;T++)null==x[y=e[r=s[T]]]&&(x[y]=++v),n[r]={old:y,new:x[y]},i=x[y]-r,null!=g&&i===l||(g&&d.push(g),_.push(r),l=i),g=r;for(g&&d.push(g),d.push(65535),_.push(65535),S=2*(k=_.length),N=2*Math.pow(Math.log(k)/Math.LN2,2),u=Math.log(N/2)/Math.LN2,j=2*k-N,o=[],w=[],h=[],p=L=0,M=_.length;L<M;p=++L){if(C=_[p],c=d[p],65535===C){o.push(0),w.push(0);break}if(C-(P=n[C].new)>=32768)for(o.push(0),w.push(2*(h.length+k-p)),r=E=C;C<=c?E<=c:E>=c;r=C<=c?++E:--E)h.push(n[r].new);else o.push(P-C),w.push(0)}for(A.writeUInt16(3),A.writeUInt16(1),A.writeUInt32(12),A.writeUInt16(4),A.writeUInt16(16+8*k+2*h.length),A.writeUInt16(0),A.writeUInt16(S),A.writeUInt16(N),A.writeUInt16(u),A.writeUInt16(j),q=0,F=d.length;q<F;q++)r=d[q],A.writeUInt16(r);for(A.writeUInt16(0),W=0,O=_.length;W<O;W++)r=_[W],A.writeUInt16(r);for(V=0,z=o.length;V<z;V++)i=o[V],A.writeUInt16(i);for(G=0,B=w.length;G<B;G++)b=w[G],A.writeUInt16(b);for(K=0,U=h.length;K<U;K++)m=h[K],A.writeUInt16(m);return{charMap:n,subtable:A.data,maxGlyphID:v+1}}},e}(),bp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gp(e,hp),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new vp(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=vp.encode(e,t),(r=new pp).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),yp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gp(e,hp),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),wp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gp(e,hp),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),jp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gp(e,hp),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],a=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;a=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),Np=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},kp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gp(e,hp),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,a,s,i,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),i=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+i+e.readShort()});for(o={},a=c=0,d=n.length;c<d;a=++c)r=n[a],e.pos=r.offset,l=e.readString(r.length),s=new Np(l,r),null==o[u=r.nameID]&&(o[u]=[]),o[r.nameID].push(s);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(mu){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),Sp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gp(e,hp),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Cp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gp(e,hp),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,a,s,i,o;for(e.pos=this.offset,this.metrics=[],t=0,i=this.file.hhea.numberOfMetrics;0<=i?t<i:t>i;t=0<=i?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,a;for(a=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)a.push(e.readInt16());return a}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)a=n[e],r.push(a.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],t=s=0;0<=r?s<r:s>r;t=0<=r?++s:--s)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),_p=[].slice,Pp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gp(e,hp),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,a,s,i,o,l,c,d;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),0===(r=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,s=(i=new pp(t.read(r))).readShort(),l=i.readShort(),d=i.readShort(),o=i.readShort(),c=i.readShort(),this.cache[e]=-1===s?new Dp(i,l,d,o,c):new Ap(i,s,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,a,s,i,o;for(s=[],a=[],i=0,o=t.length;i<o;i++)r=e[t[i]],a.push(s.length),r&&(s=s.concat(r.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),Ap=function(){function e(e,t,n,r,a,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Dp=function(){function e(e,t,n,r,a){var s,i;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;i=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&i;)s.pos+=1&i?4:2,128&i?s.pos+=8:64&i?s.pos+=4:8&i&&(s.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new pp(_p.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Tp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gp(e,hp),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,a=0,s=0;s<n.length;++s)if(n[s]=r,a<t.length&&t[a]==s){++a,n[s]=r;var i=this.offsets[s],o=this.offsets[s+1]-i;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),Lp=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,a;for(t in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,a,s,i,o;for(r={},s=0,i=e.length;s<i;s++)r[a=e[s]]=this.font.glyf.glyphFor(a);for(a in t=[],r)(null!=(n=r[a])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in o=this.glyphsFor(t))n=o[a],r[a]=n;return r},e.prototype.encode=function(e,t){var n,r,a,s,i,o,l,c,d,u,h,p,m,f,g;for(r in n=bp.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},g=n.charMap)h[(o=g[r]).old]=o.new;for(p in u=n.maxGlyphID,s)p in h||(h[p]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),d=Object.keys(c).sort(function(e,t){return e-t}),m=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)i=d[e],n.push(c[i]);return n}(),a=this.font.glyf.encode(s,m,h),l=this.font.loca.encode(a.offsets,m),f={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();function Ep(e,t,n,r,a){r=r||{};var s=a.internal.scaleFactor,i=a.internal.getFontSize()/s,o=i*(a.getLineHeightFactor?a.getLineHeightFactor():1.15),l="",c=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c=(l="string"===typeof e?e.split(/\r\n|\r|\n/g):e).length||1),n+=i*(2-1.15),"middle"===r.valign?n-=c/2*o:"bottom"===r.valign&&(n-=c*o),"center"===r.halign||"right"===r.halign){var d=i;if("center"===r.halign&&(d*=.5),l&&c>=1){for(var u=0;u<l.length;u++)a.text(l[u],t-a.getStringUnitWidth(l[u])*d,n),n+=o;return a}t-=a.getStringUnitWidth(e)*d}return"justify"===r.halign?a.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(e,t,n),a}zu.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,a,s,i;if(Array.isArray(n))return"["+function(){var e,a,s;for(s=[],e=0,a=n.length;e<a;e++)r=n[e],s.push(t.convert(r));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(a in s=["<<"],n)i=n[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join("\n")}return""+n},t}();var Ip={},Rp=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:Ip=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"===typeof e?[e,e,e]:"string"===typeof e?[e]:null},e.prototype.applyStyles=function(t,n){var r,a,s;void 0===n&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,l=i.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var d=e.unifyColor(t.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),(d=e.unifyColor(t.textColor))&&(a=this.jsPDFDocument).setTextColor.apply(a,d),(d=e.unifyColor(t.lineColor))&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),"number"===typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},e.prototype.rect=function(e,t,n,r,a){return this.jsPDFDocument.rect(e,t,n,r,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Ip||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Mp=function(e,t){return Mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Mp(e,t)};function Fp(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Mp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}"function"===typeof SuppressedError&&SuppressedError;var Op=function(e){function t(t){var n=e.call(this)||this;return n._element=t,n}return Fp(t,e),t}(Array);function zp(e,t,n){n.applyStyles(t,!0);var r=(Array.isArray(e)?e:[e]).map(function(e){return n.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0);return r}function Bp(e,t,n,r){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var i=Up(a,!1);i&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,i)}function Up(e,t){var n=e>0,r=t||0===t;return n&&r?"DF":n?"S":r?"F":null}function qp(e,t){var n,r,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"===typeof e?("number"===typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"===typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(n=e.left)&&void 0!==n?n:t,top:null!==(r=e.top)&&void 0!==r?r:t,right:null!==(a=e.right)&&void 0!==a?a:t,bottom:null!==(s=e.bottom)&&void 0!==s?s:t}):("number"!==typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}function Wp(e,t){var n=qp(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function Hp(e,t,n,r,a){var s={},i=96/72,o=Vp(t,function(e){return a.getComputedStyle(e).backgroundColor});null!=o&&(s.fillColor=o);var l=Vp(t,function(e){return a.getComputedStyle(e).color});null!=l&&(s.textColor=l);var c=function(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=n.map(function(e){return parseInt(e||"0")/r}),i=qp(s,0);a>i.top&&(i.top=a);a>i.bottom&&(i.bottom=a);return i}(r,n);c&&(s.cellPadding=c);var d="borderTopColor",u=i*n,h=r.borderTopWidth;if(r.borderBottomWidth===h&&r.borderRightWidth===h&&r.borderLeftWidth===h){var p=(parseFloat(h)||0)/u;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/u,right:(parseFloat(r.borderRightWidth)||0)/u,bottom:(parseFloat(r.borderBottomWidth)||0)/u,left:(parseFloat(r.borderLeftWidth)||0)/u},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var m=Vp(t,function(e){return a.getComputedStyle(e)[d]});null!=m&&(s.lineColor=m);var f=["left","right","center","justify"];-1!==f.indexOf(r.textAlign)&&(s.halign=r.textAlign),-1!==(f=["middle","bottom","top"]).indexOf(r.verticalAlign)&&(s.valign=r.verticalAlign);var g=parseInt(r.fontSize||"");isNaN(g)||(s.fontSize=g/i);var x=function(e){var t="";("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold");"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic");return t}(r);x&&(s.fontStyle=x);var v=(r.fontFamily||"").toLowerCase();return-1!==e.indexOf(v)&&(s.font=v),s}function Vp(e,t){var n=Gp(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Gp(e,t){var n=t(e);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==e.parentElement?null:Gp(e.parentElement,t):n}function Kp(e,t,n,r,a){var s,i,o;void 0===r&&(r=!1),void 0===a&&(a=!1),o="string"===typeof t?n.document.querySelector(t):t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),d=[],u=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:d,body:u,foot:h};for(var p=0;p<o.rows.length;p++){var m=o.rows[p],f=null===(i=null===(s=null===m||void 0===m?void 0:m.parentElement)||void 0===s?void 0:s.tagName)||void 0===i?void 0:i.toLowerCase(),g=Yp(l,c,n,m,r,a);g&&("thead"===f?d.push(g):"tfoot"===f?h.push(g):u.push(g))}return{head:d,body:u,foot:h}}function Yp(e,t,n,r,a,s){for(var i=new Op(r),o=0;o<r.cells.length;o++){var l=r.cells[o],c=n.getComputedStyle(l);if(a||"none"!==c.display){var d=void 0;s&&(d=Hp(e,l,t,c,n)),i.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:$p(l)})}}var u=n.getComputedStyle(r);if(i.length>0&&(a||"none"!==u.display))return i}function $p(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join("\n"),t.innerText||t.textContent||""}function Jp(e,t,n,r,a){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function Xp(e,t){var n=new Rp(e),r=n.getDocumentOptions(),a=n.getGlobalOptions();!function(e,t,n){for(var r=0,a=[e,t,n];r<a.length;r++){var s=a[r];s&&"object"!==typeof s&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&"number"!==typeof s.startY&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}(a,r,t);var s,i=Jp({},a,r,t);"undefined"!==typeof window&&(s=window);var o=function(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(a){if("columnStyles"===a){var s=e[a],i=t[a],o=n[a];r.columnStyles=Jp({},s,i,o)}else{var l=[e,t,n].map(function(e){return e[a]||{}});r[a]=Jp({},l[0],l[1],l[2])}},s=0,i=Object.keys(r);s<i.length;s++){a(i[s])}return r}(a,r,t),l=function(e,t,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=[e,t,n];a<s.length;a++){var i=s[a];i.didParseCell&&r.didParseCell.push(i.didParseCell),i.willDrawCell&&r.willDrawCell.push(i.willDrawCell),i.didDrawCell&&r.didDrawCell.push(i.didDrawCell),i.willDrawPage&&r.willDrawPage.push(i.willDrawPage),i.didDrawPage&&r.didDrawPage.push(i.didDrawPage)}return r}(a,r,t),c=function(e,t){var n,r,a,s,i,o,l,c,d,u,h,p,m,f,g=qp(t.margin,40/e.scaleFactor()),x=null!==(n=function(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),a=e.pageNumber(),s=!1;if(n&&n.startPageNumber){s=n.startPageNumber+n.pageNumber-1===a}if("number"===typeof t)return t;if((null==t||!1===t)&&s&&null!=(null===n||void 0===n?void 0:n.finalY))return n.finalY+20/r;return null}(e,t.startY))&&void 0!==n?n:g.top;m=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(r=t.showFoot)&&void 0!==r?r:"everyPage";f=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(a=t.showHead)&&void 0!==a?a:"everyPage";var v=null!==(s=t.useCss)&&void 0!==s&&s,b=t.theme||(v?"plain":"striped"),y=!!t.horizontalPageBreak,w=null!==(i=t.horizontalPageBreakRepeat)&&void 0!==i?i:null;return{includeHiddenHtml:null!==(o=t.includeHiddenHtml)&&void 0!==o&&o,useCss:v,theme:b,startY:x,margin:g,pageBreak:null!==(l=t.pageBreak)&&void 0!==l?l:"auto",rowPageBreak:null!==(c=t.rowPageBreak)&&void 0!==c?c:"auto",tableWidth:null!==(d=t.tableWidth)&&void 0!==d?d:"auto",showHead:f,showFoot:m,tableLineWidth:null!==(u=t.tableLineWidth)&&void 0!==u?u:0,tableLineColor:null!==(h=t.tableLineColor)&&void 0!==h?h:200,horizontalPageBreak:y,horizontalPageBreakRepeat:w,horizontalPageBreakBehaviour:null!==(p=t.horizontalPageBreakBehaviour)&&void 0!==p?p:"afterAllRows"}}(n,i),d=function(e,t,n){var r=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var i=t.includeHiddenHtml;if(n){var o=Kp(e,t.html,n,i,t.useCss)||{};r=o.head||r,a=o.body||r,s=o.foot||r}else console.error("Cannot parse html in non browser environment")}var l=t.columns||function(e,t,n){var r=e[0]||t[0]||n[0]||[],a=[];return Object.keys(r).filter(function(e){return"_element"!==e}).forEach(function(e){var t,n=1;"object"!==typeof(t=Array.isArray(r)?r[parseInt(e)]:r[e])||Array.isArray(t)||(n=(null===t||void 0===t?void 0:t.colSpan)||1);for(var s=0;s<n;s++){var i={dataKey:Array.isArray(r)?a.length:e+(s>0?"_".concat(s):"")};a.push(i)}}),a}(r,a,s);return{columns:l,head:r,body:a,foot:s}}(n,i,s);return{id:t.tableId,content:d,hooks:l,styles:o,settings:c}}var Qp,Zp=function(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()},em=function(e){function t(t,n,r,a,s,i){var o=e.call(this,t,n,i)||this;return o.cell=r,o.row=a,o.column=s,o.section=a.section,o}return Fp(t,e),t}(Zp),tm=function(){function e(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,n,r,a,s){for(var i=0,o=t;i<o.length;i++){var l=!1===(0,o[i])(new em(e,this,n,r,a,s));if(n.text=Array.isArray(n.text)?n.text:[n.text],l)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++){(0,r[n])(new Zp(e,this,t))}},e.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++){(0,r[n])(new Zp(e,this,t))}},e.prototype.getWidth=function(e){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}(),nm=function(){function e(e,t,n,r,a){void 0===a&&(a=!1),this.height=0,this.raw=e,e instanceof Op&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=r,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,n){var r;return Math.max(e,(null===(r=t.cells[n.index])||void 0===r?void 0:r.height)||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var n=t.cells[e.index];return!!n&&n.rowSpan>1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(e,r){var a=n.cells[r.index];if(!a)return 0;var s=t.getLineHeight(a.styles.fontSize),i=a.padding("vertical")+s;return i>e?i:e},0)},e}(),rm=function(){function e(e,t,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var a=e;null==e||"object"!==typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=null!==(r=e.content)&&void 0!==r?r:e,e._element&&(this.raw=e._element));var s=null!=a?""+a:"";this.text=s.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");t=this.x+r/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=qp(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}(),am=function(){function e(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,r=e.allRows();n<r.length;n++){var a=r[n].cells[this.index];a&&"number"===typeof a.styles.cellWidth&&(t=Math.max(t,a.styles.cellWidth))}return t},e}();function sm(e,t){!function(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,a=Wp(e,t);t.allRows().forEach(function(s){for(var i=0,o=t.columns;i<o.length;i++){var l=o[i],c=s.cells[l.index];if(c){var d=t.hooks.didParseCell;t.callCellHooks(e,d,c,s,l,null);var u=c.padding("horizontal");c.contentWidth=zp(c.text,c.styles,e)+u;var h=zp(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),"number"===typeof c.styles.cellWidth)c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if("wrap"===c.styles.cellWidth||!0===r)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/n;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(e){for(var n=0,r=t.columns;n<r.length;n++){var a=r[n],s=e.cells[a.index];if(s&&1===s.colSpan)a.wrappedWidth=Math.max(a.wrappedWidth,s.wrappedWidth),a.minWidth=Math.max(a.minWidth,s.minWidth),a.minReadableWidth=Math.max(a.minReadableWidth,s.minReadableWidth);else{var i=t.styles.columnStyles[a.dataKey]||t.styles.columnStyles[a.index]||{},o=i.cellWidth||i.minCellWidth;o&&"number"===typeof o&&(a.minWidth=o,a.wrappedWidth=o)}s&&(s.colSpan>1&&!a.minWidth&&(a.minWidth=s.minWidth),s.colSpan>1&&!a.wrappedWidth&&(a.wrappedWidth=s.minWidth))}})}(e,t);var n=[],r=0;t.columns.forEach(function(e){var a=e.getMaxCustomCellWidth(t);a?e.width=a:(e.width=e.wrappedWidth,n.push(e)),r+=e.width});var a=t.getWidth(e.pageSize().width)-r;a&&(a=im(n,a,function(e){return Math.max(e.minReadableWidth,e.minWidth)})),a&&(a=im(n,a,function(e){return e.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),function(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],a=null,s=0,i=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if((i-=1)>1&&e.columns[o+1])s+=l.width,delete r.cells[l.index];else if(a){var c=a;delete r.cells[l.index],a=null,c.width=l.width+s}else{if(!(c=r.cells[l.index]))continue;if(i=c.colSpan,s=0,c.colSpan>1){a=c,s+=l.width;continue}c.width=l.width+s}}}(t),function(e,t){for(var n={count:0,height:0},r=0,a=e.allRows();r<a.length;r++){for(var s=a[r],i=0,o=e.columns;i<o.length;i++){var l=o[i],c=s.cells[l.index];if(c){t.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if("linebreak"===c.styles.overflow)c.text=t.splitTextToSize(c.text,d+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if("ellipsize"===c.styles.overflow)c.text=om(c.text,d,c.styles,t,"...");else if("hidden"===c.styles.overflow)c.text=om(c.text,d,c.styles,t,"");else if("function"===typeof c.styles.overflow){var u=c.styles.overflow(c.text,d);c.text="string"===typeof u?[u]:u}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<h*c.rowSpan?n={height:h,count:c.rowSpan}:n&&n.count>0&&n.height>h&&(h=n.height),h>s.height&&(s.height=h)}}n.count--}}(t,e),function(e){for(var t={},n=1,r=e.allRows(),a=0;a<r.length;a++)for(var s=r[a],i=0,o=e.columns;i<o.length;i++){var l=o[i],c=t[l.index];if(n>1)n--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,n=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=s.cells[l.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var u=r.length-a,h=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:h,row:s}}}}}(t)}function im(e,t,n){for(var r=t,a=e.reduce(function(e,t){return e+t.wrappedWidth},0),s=0;s<e.length;s++){var i=e[s],o=r*(i.wrappedWidth/a),l=i.width+o,c=n(i),d=l<c?c:l;t-=d-i.width,i.width=d}if(t=Math.round(1e10*t)/1e10){var u=e.filter(function(e){return!(t<0)||e.width>n(e)});u.length&&(t=im(u,t,n))}return t}function om(e,t,n,r,a){return e.map(function(e){return function(e,t,n,r,a){var s=1e4*r.scaleFactor();if(t=Math.ceil(t*s)/s,t>=zp(e,n,r))return e;for(;t<zp(e+a,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}(e,t,n,r,a)})}function lm(e,t){var n=new Rp(e),r=function(e,t){var n=e.content,r=function(e){return e.map(function(e,t){var n,r;return r="object"===typeof e&&null!==(n=e.dataKey)&&void 0!==n?n:t,new am(r,e,t)})}(n.columns);if(0===n.head.length){(a=dm(r,"head"))&&n.head.push(a)}if(0===n.foot.length){var a;(a=dm(r,"foot"))&&n.foot.push(a)}var s=e.settings.theme,i=e.styles;return{columns:r,head:cm("head",n.head,r,i,s,t),body:cm("body",n.body,r,i,s,t),foot:cm("foot",n.foot,r,i,s,t)}}(t,n.scaleFactor()),a=new tm(t,r);return sm(n,a),n.applyStyles(n.userStyles),a}function cm(e,t,n,r,a,s){var i={},o=t.map(function(t,o){for(var l=0,c={},d=0,u=0,h=0,p=n;h<p.length;h++){var m=p[h];if(null==i[m.index]||0===i[m.index].left)if(0===u){var f=void 0,g={};"object"!==typeof(f=Array.isArray(t)?t[m.index-d-l]:t[m.dataKey])||Array.isArray(f)||(g=(null===f||void 0===f?void 0:f.styles)||{});var x=um(e,m,o,a,r,s,g),v=new rm(f,x,e);c[m.dataKey]=v,c[m.index]=v,u=v.colSpan-1,i[m.index]={left:v.rowSpan-1,times:u}}else u--,d++;else i[m.index].left--,u=i[m.index].times,l++}return new nm(t,o,e,c)});return o}function dm(e,t){var n={};return e.forEach(function(e){if(null!=e.raw){var r=function(e,t){if("head"===e){if("object"===typeof t)return t.header||null;if("string"===typeof t||"number"===typeof t)return t}else if("foot"===e&&"object"===typeof t)return t.footer;return null}(t,e.raw);null!=r&&(n[e.dataKey]=r)}}),Object.keys(n).length>0?n:null}function um(e,t,n,r,a,s,i){var o,l={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[r];"head"===e?o=a.headStyles:"body"===e?o=a.bodyStyles:"foot"===e&&(o=a.footStyles);var c=Jp({},l.table,l[e],a.styles,o),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},u="body"===e?d:{},h="body"===e&&n%2===0?Jp({},l.alternateRow,a.alternateRowStyles):{},p=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}(s),m=Jp({},p,c,h,u);return Jp(m,i)}function hm(e,t,n){var r;void 0===n&&(n={});var a=Wp(e,t),s=new Map,i=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:"string"!==typeof t.settings.horizontalPageBreakRepeat&&"number"!==typeof t.settings.horizontalPageBreakRepeat||(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(e){var n=t.columns.find(function(t){return t.dataKey===e||t.index===e});n&&!s.has(n.index)&&(s.set(n.index,!0),i.push(n.index),o.push(t.columns[n.index]),a-=n.wrappedWidth)});for(var c=!0,d=null!==(r=null===n||void 0===n?void 0:n.start)&&void 0!==r?r:0;d<t.columns.length;)if(s.has(d))d++;else{var u=t.columns[d].wrappedWidth;if(!(c||a>=u))break;c=!1,i.push(d),o.push(t.columns[d]),a-=u,d++}return{colIndexes:i,columns:o,lastIndex:d-1}}function pm(e,t){var n=t.settings,r=n.startY,a=n.margin,s={x:a.left,y:r},i=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=r+a.bottom+i;"avoid"===n.pageBreak&&(o+=t.body.reduce(function(e,t){return e+t.height},0));var l=new Rp(e);("always"===n.pageBreak||null!=n.startY&&o>l.pageSize().height)&&(Nm(l),s.y=a.top),t.callWillDrawPageHooks(l,s);var c=Jp({},s);t.startPageNumber=l.pageNumber(),n.horizontalPageBreak?function(e,t,n,r){var a=function(e,t){for(var n=[],r=0;r<t.columns.length;r++){var a=hm(e,t,{start:r});a.columns.length&&(n.push(a),r=a.lastIndex)}return n}(e,t),s=t.settings;if("afterAllRows"===s.horizontalPageBreakBehaviour)a.forEach(function(a,s){e.applyStyles(e.userStyles),s>0?jm(e,t,n,r,a.columns,!0):mm(e,t,r,a.columns),function(e,t,n,r,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,i){var o=i===t.body.length-1;vm(e,t,s,o,n,r,a)})}(e,t,n,r,a.columns),gm(e,t,r,a.columns)});else for(var i=-1,o=a[0],l=function(){var s=i;if(o){e.applyStyles(e.userStyles);var l=o.columns;i>=0?jm(e,t,n,r,l,!0):mm(e,t,r,l),s=fm(e,t,i+1,r,l),gm(e,t,r,l)}var c=s-i;a.slice(1).forEach(function(a){e.applyStyles(e.userStyles),jm(e,t,n,r,a.columns,!0),fm(e,t,i+1,r,a.columns,c),gm(e,t,r,a.columns)}),i=s};i<t.body.length-1;)l()}(l,t,c,s):(l.applyStyles(l.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||t.head.forEach(function(e){return bm(l,t,e,s,t.columns)}),l.applyStyles(l.userStyles),t.body.forEach(function(e,n){var r=n===t.body.length-1;vm(l,t,e,r,c,s,t.columns)}),l.applyStyles(l.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||t.foot.forEach(function(e){return bm(l,t,e,s,t.columns)})),Bp(l,t,c,s),t.callEndPageHooks(l,s),t.finalY=s.y,e.lastAutoTable=t,l.applyStyles(l.userStyles)}function mm(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),"firstPage"!==a.showHead&&"everyPage"!==a.showHead||t.head.forEach(function(a){return bm(e,t,a,n,r)})}function fm(e,t,n,r,a,s){e.applyStyles(e.userStyles),s=null!==s&&void 0!==s?s:t.body.length;var i=Math.min(n+s,t.body.length),o=-1;return t.body.slice(n,i).forEach(function(s,i){var l=n+i===t.body.length-1,c=wm(e,t,l,r);s.canEntireRowFit(c,a)&&(bm(e,t,s,r,a),o=n+i)}),o}function gm(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),"lastPage"!==a.showFoot&&"everyPage"!==a.showFoot||t.foot.forEach(function(a){return bm(e,t,a,n,r)})}function xm(e,t,n){var r=n.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/r);return Math.max(0,s)}function vm(e,t,n,r,a,s,i){var o=wm(e,t,r,s);if(n.canEntireRowFit(o,i))bm(e,t,n,s,i);else if(function(e,t,n,r){var a=e.pageSize().height,s=r.settings.margin,i=a-(s.top+s.bottom);"body"===t.section&&(i-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var o=t.getMinimumRowHeight(r.columns,e),l=o<n;if(o>i)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=t.hasRowSpan(r.columns);return t.getMaxCellHeight(r.columns)>i?(c&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==r.settings.rowPageBreak}(e,n,o,t)){var l=function(e,t,n,r){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,i=0,o=n.columns;i<o.length;i++){var l=o[i];if(g=e.cells[l.index]){Array.isArray(g.text)||(g.text=[g.text]),(f=Jp(f=new rm(g.raw,g.styles,g.section),g)).text=[];var c=xm(g,t,r);g.text.length>c&&(f.text=g.text.splice(c,g.text.length));var d=r.scaleFactor(),u=r.getLineHeightFactor();g.contentHeight=g.getContentHeight(d,u),g.contentHeight>=t&&(g.contentHeight=t,f.styles.minCellHeight-=t),g.contentHeight>e.height&&(e.height=g.contentHeight),f.contentHeight=f.getContentHeight(d,u),f.contentHeight>s&&(s=f.contentHeight),a[l.index]=f}}var h=new nm(e.raw,-1,e.section,a,!0);h.height=s;for(var p=0,m=n.columns;p<m.length;p++){var f,g;l=m[p],(f=h.cells[l.index])&&(f.height=h.height),(g=e.cells[l.index])&&(g.height=e.height)}return h}(n,o,t,e);bm(e,t,n,s,i),jm(e,t,a,s,i),vm(e,t,l,r,a,s,i)}else jm(e,t,a,s,i),vm(e,t,n,r,a,s,i)}function bm(e,t,n,r,a){r.x=t.settings.margin.left;for(var s=0,i=a;s<i.length;s++){var o=i[s],l=n.cells[o.index];if(l)if(e.applyStyles(l.styles),l.x=r.x,l.y=r.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,l,n,o,r)){ym(e,l,r);var c=l.getTextPos();Ep(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,o,r),r.x+=o.width}else r.x+=o.width;else r.x+=o.width}r.y+=n.height}function ym(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"===typeof r.lineWidth){var a=Up(r.lineWidth,r.fillColor);a&&e.rect(t.x,n.y,t.width,t.height,a)}else"object"===typeof r.lineWidth&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),function(e,t,n,r){var a,s,i,o;r.top&&(a=n.x,s=n.y,i=n.x+t.width,o=n.y,r.right&&(i+=.5*r.right),r.left&&(a-=.5*r.left),l(r.top,a,s,i,o));r.bottom&&(a=n.x,s=n.y+t.height,i=n.x+t.width,o=n.y+t.height,r.right&&(i+=.5*r.right),r.left&&(a-=.5*r.left),l(r.bottom,a,s,i,o));r.left&&(a=n.x,s=n.y,i=n.x,o=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,a,s,i,o));r.right&&(a=n.x+t.width,s=n.y,i=n.x+t.width,o=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,a,s,i,o));function l(t,n,r,a,s){e.getDocument().setLineWidth(t),e.getDocument().line(n,r,a,s,"S")}}(e,t,n,r.lineWidth))}function wm(e,t,n,r){var a=t.settings.margin.bottom,s=t.settings.showFoot;return("everyPage"===s||"lastPage"===s&&n)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-a}function jm(e,t,n,r,a,s){void 0===a&&(a=[]),void 0===s&&(s=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||s||t.foot.forEach(function(n){return bm(e,t,n,r,a)}),t.callEndPageHooks(e,r);var i=t.settings.margin;Bp(e,t,n,r),Nm(e),t.pageNumber++,r.x=i.left,r.y=i.top,n.y=i.top,t.callWillDrawPageHooks(e,r),"everyPage"===t.settings.showHead&&(t.head.forEach(function(n){return bm(e,t,n,r,a)}),e.applyStyles(e.userStyles))}function Nm(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}try{if("undefined"!==typeof window&&window){var km=window,Sm=km.jsPDF||(null===(Qp=km.jspdf)||void 0===Qp?void 0:Qp.jsPDF);Sm&&function(e){e.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pm(this,lm(this,Xp(this,e[0]))),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(e,t,n,r){Ep(e,t,n,r,this)},e.API.autoTableSetDefaults=function(e){return Rp.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){Rp.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var n;if(void 0===t&&(t=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=Kp(new Rp(this),e,window,t,!1),a=r.head,s=r.body,i=(null===(n=a[0])||void 0===n?void 0:n.map(function(e){return e.content}))||[];return{columns:i,rows:s,data:s}}}(Sm)}}catch(Bx){console.error("Could not apply autoTable plugin",Bx)}const Cm={primary:[74,111,165],secondary:[90,127,181],success:[16,185,129],warning:[245,158,11],danger:[239,68,68],info:[6,182,212],dark:[30,41,59],gray:[100,116,139],lightGray:[241,245,249]},_m=(e,t,n)=>{e.setFillColor(...Cm.primary),e.rect(0,0,210,45,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.setFont("helvetica","bold"),e.text("E-TRUCKING",20,20),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("MANAGEMENT SYSTEM",20,27),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(t,20,38),n&&(e.setFontSize(9),e.setFont("helvetica","normal"),e.text(n,170,20,{align:"right"}));const r=(new Date).toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});e.setFontSize(8),e.text("Generated: ".concat(r),170,27,{align:"right"})},Pm=e=>{const t={};e.forEach(e=>{const n=e.truckStatus||e.TruckStatus||"Unknown";t[n]=(t[n]||0)+1});const n={};return e.forEach(e=>{const t=e.truckType||e.TruckType||"Unknown";n[t]=(n[t]||0)+1}),{summary:[{label:"Total Trucks",value:e.length},{label:"Available",value:t.available||0},{label:"In Use",value:t["in-use"]||0},{label:"Maintenance",value:t.maintenance||0}],barChart:{title:"Trucks by Type",labels:Object.keys(n),values:Object.values(n),colors:[Cm.primary,Cm.success,Cm.warning,Cm.info,Cm.danger]},pieChart:{title:"Status Distribution",labels:Object.keys(t),values:Object.values(t),colors:[Cm.success,Cm.warning,Cm.danger,Cm.gray]}}},Am=e=>{const t={};return e.forEach(e=>{const n=e.DriverStatus||"Unknown";t[n]=(t[n]||0)+1}),{summary:[{label:"Total Drivers",value:e.length},{label:"Active",value:t.active||0},{label:"Inactive",value:t.inactive||0},{label:"On Leave",value:t["on-leave"]||0}],barChart:{title:"Driver Status Distribution",labels:Object.keys(t),values:Object.values(t),colors:[Cm.success,Cm.gray,Cm.warning,Cm.danger]}}},Dm=e=>{const t={};return e.forEach(e=>{const n=e.HelperStatus||"Unknown";t[n]=(t[n]||0)+1}),{summary:[{label:"Total Helpers",value:e.length},{label:"Active",value:t.active||0},{label:"Inactive",value:t.inactive||0},{label:"On Leave",value:t["on-leave"]||0}],barChart:{title:"Helper Status Distribution",labels:Object.keys(t),values:Object.values(t),colors:[Cm.success,Cm.gray,Cm.warning]}}},Tm=e=>{const t={};e.forEach(e=>{const n=e.DeliveryStatus||"Unknown";t[n]=(t[n]||0)+1});const n=e.reduce((e,t)=>e+(parseFloat(t.TotalAmount)||0),0);e.reduce((e,t)=>e+(parseFloat(t.DeliveryDistance)||0),0);return{summary:[{label:"Total Deliveries",value:e.length},{label:"Completed",value:t.completed||0},{label:"In Progress",value:t["in-progress"]||0},{label:"Revenue (\u20b1)",value:n.toLocaleString()}],barChart:{title:"Delivery Status Distribution",labels:Object.keys(t),values:Object.values(t),colors:[Cm.warning,Cm.info,Cm.success,Cm.danger]},pieChart:{title:"Status Breakdown",labels:Object.keys(t),values:Object.values(t),colors:[Cm.warning,Cm.info,Cm.success,Cm.danger]}}},Lm=e=>{const t={},n={};return e.forEach(e=>{const r=e.ClientStatus||"Unknown";t[r]=(t[r]||0)+1;const a=e.BusinessType||"Unknown";n[a]=(n[a]||0)+1}),{summary:[{label:"Total Clients",value:e.length},{label:"Active",value:t.active||0},{label:"Inactive",value:t.inactive||0},{label:"Business Types",value:Object.keys(n).length}],barChart:{title:"Clients by Business Type",labels:Object.keys(n).slice(0,5),values:Object.values(n).slice(0,5),colors:[Cm.primary,Cm.success,Cm.warning,Cm.info,Cm.danger]}}},Em=e=>{const t={},n={};return e.forEach(e=>{const r=e.StaffRole||"Unknown";t[r]=(t[r]||0)+1;const a=e.StaffStatus||"Unknown";n[a]=(n[a]||0)+1}),{summary:[{label:"Total Staff",value:e.length},{label:"Active",value:n.active||0},{label:"Departments",value:Object.keys(t).length},{label:"On Leave",value:n["on-leave"]||0}],barChart:{title:"Staff by Role",labels:Object.keys(t).slice(0,6),values:Object.values(t).slice(0,6),colors:[Cm.primary,Cm.success,Cm.warning,Cm.info,Cm.danger,Cm.secondary]}}},Im=e=>{const t={};let n=0,r=0,a=0,s=0;return e.forEach(e=>{const i=e.status||"pending";t[i]=(t[i]||0)+1;const o=parseFloat(e.amount)||0;n+=o,"paid"===i?r+=o:"overdue"===i?a+=o:"pending"===i&&(s+=o)}),{summary:[{label:"Total Billings",value:e.length},{label:"Total Amount",value:"\u20b1".concat(n.toLocaleString())},{label:"Paid",value:t.paid||0},{label:"Pending",value:t.pending||0},{label:"Overdue",value:t.overdue||0},{label:"Amount Paid",value:"\u20b1".concat(r.toLocaleString())}],barChart:{title:"Payment Amount by Status",labels:["Paid","Pending","Overdue"],values:[r,s,a],colors:[Cm.success,Cm.warning,Cm.danger]},pieChart:{title:"Payment Status Distribution",labels:Object.keys(t),values:Object.values(t),colors:[Cm.success,Cm.warning,Cm.danger,Cm.gray]}}},Rm=(e,t)=>{const{reportType:n,filters:r,recordCount:a}=t;console.log("\ud83d\udcca PDF Export Data:",e),console.log("\ud83d\udcca Report Type:",n),console.log("\ud83d\udcca First Record:",(e.data||e)[0]);const s=((e,t)=>{switch(e){case"trucks":return{title:"Trucks Report",columns:[{header:"Plate Number",dataKey:"truckPlate"},{header:"Brand",dataKey:"truckBrand"},{header:"Type",dataKey:"truckType"},{header:"Capacity",dataKey:"truckCapacity"},{header:"Status",dataKey:"truckStatus"},{header:"Kilometers",dataKey:"truckKilometers"},{header:"Model Year",dataKey:"modelYear"}],charts:Pm(t)};case"drivers":return{title:"Drivers Report",columns:[{header:"Name",dataKey:"driverName"},{header:"Contact",dataKey:"driverContact"},{header:"License Number",dataKey:"licenseNumber"},{header:"License Type",dataKey:"licenseType"},{header:"Status",dataKey:"driverStatus"},{header:"License Expiry",dataKey:"licenseExpiry"},{header:"Employment Date",dataKey:"employmentDate"}],charts:Am(t)};case"helpers":return{title:"Helpers Report",columns:[{header:"Name",dataKey:"helperName"},{header:"Contact",dataKey:"helperContact"},{header:"ID Type",dataKey:"idType"},{header:"ID Number",dataKey:"idNumber"},{header:"Status",dataKey:"helperStatus"},{header:"ID Expiry",dataKey:"idExpiry"},{header:"Join Date",dataKey:"joinDate"}],charts:Dm(t)};case"deliveries":return{title:"Deliveries Report",columns:[{header:"Delivery ID",dataKey:"deliveryId"},{header:"Client",dataKey:"clientName"},{header:"Truck",dataKey:"truckPlate"},{header:"Driver",dataKey:"driverName"},{header:"Status",dataKey:"deliveryStatus"},{header:"Distance (km)",dataKey:"deliveryDistance"},{header:"Amount",dataKey:"totalAmount"},{header:"Date",dataKey:"deliveryDate"}],charts:Tm(t)};case"clients":return{title:"Clients Report",columns:[{header:"Client Name",dataKey:"clientName"},{header:"Company",dataKey:"companyName"},{header:"Contact",dataKey:"clientContact"},{header:"Email",dataKey:"clientEmail"},{header:"Business Type",dataKey:"businessType"},{header:"Status",dataKey:"clientStatus"},{header:"Registration Date",dataKey:"registrationDate"}],charts:Lm(t)};case"staff":return{title:"Staff Report",columns:[{header:"Name",dataKey:"staffName"},{header:"Role",dataKey:"staffRole"},{header:"Department",dataKey:"department"},{header:"Contact",dataKey:"staffContact"},{header:"Email",dataKey:"staffEmail"},{header:"Status",dataKey:"staffStatus"},{header:"Join Date",dataKey:"joinDate"}],charts:Em(t)};case"billings":return{title:"Billings Report",columns:[{header:"Delivery ID",dataKey:"deliveryId"},{header:"Client Name",dataKey:"clientName"},{header:"Amount",dataKey:"amount"},{header:"Currency",dataKey:"currency"},{header:"Status",dataKey:"status"},{header:"Delivery Date",dataKey:"deliveryDate"},{header:"Due Date",dataKey:"dueDate"},{header:"Truck Plate",dataKey:"truckPlate"}],charts:Im(t)};default:return{title:"Report",columns:[],charts:null}}})(n,e.data||e),i=new zu({orientation:"portrait",unit:"mm",format:"a4"}),o=Object.keys(r).length>0?"Filtered: ".concat(Object.keys(r).length," criteria applied"):"All Records";_m(i,s.title,o);let l=55;s.charts&&s.charts.summary&&(l=((e,t,n)=>{const r=50,a=Math.floor(176/56);let s=20,i=n;t.forEach((t,n)=>{n>0&&n%a===0&&(s=20,i+=34),e.setFillColor(...Cm.lightGray),e.roundedRect(s,i,r,28,3,3,"F"),e.setDrawColor(...Cm.primary),e.setLineWidth(.5),e.roundedRect(s,i,r,28,3,3,"S"),e.setFontSize(16),e.setFont("helvetica","bold"),e.setTextColor(...Cm.primary),e.text(t.value.toString(),s+25,i+14,{align:"center"}),e.setFontSize(7),e.setFont("helvetica","normal"),e.setTextColor(...Cm.gray),e.text(t.label,s+25,i+22,{align:"center",maxWidth:44}),s+=56});const o=Math.ceil(t.length/a);return n+(28*o+6*(o-1))+10})(i,s.charts.summary,l),l+=10),s.charts&&s.charts.barChart&&(l=((e,t,n,r)=>{const{labels:a,values:s,title:i,colors:o}=n,l=r,c=(170-5*(a.length-1))/a.length,d=Math.max(...s);return e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(...Cm.dark),e.text(i,20,l),a.forEach((t,n)=>{const r=s[n]/d*35,a=20+(c+5)*n,i=l+10+(35-r);e.setFillColor(...o[n]||Cm.primary),e.rect(a,i,c,r,"F"),e.setFontSize(8),e.setTextColor(...Cm.dark),e.text(s[n].toString(),a+c/2,i-2,{align:"center"}),e.setFontSize(7),e.setTextColor(...Cm.gray);const u=t.length>10?t.substring(0,8)+"...":t;e.text(u,a+c/2,l+50+2,{align:"center",maxWidth:c})}),l+50+10})(i,0,s.charts.barChart,l),l+=5),s.charts&&s.charts.pieChart&&l>180&&(i.addPage(),_m(i,s.title,o),l=55),s.charts&&s.charts.pieChart&&(l=((e,t,n,r,a)=>{const{labels:s,values:i,title:o,colors:l}=n,c=r+35,d=a+30,u=i.reduce((e,t)=>e+t,0);e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(...Cm.dark),e.text(o,r,a);let h=-90;i.forEach((t,n)=>{const r=t/u*360;e.setFillColor(...l[n]||Cm.primary),e.circle(c,d,25,"F"),h+=r});let p=a+10;return s.forEach((t,n)=>{const a=r+75,s=(i[n]/u*100).toFixed(1);e.setFillColor(...l[n]||Cm.primary),e.rect(a,p-3,4,4,"F"),e.setFontSize(8),e.setTextColor(...Cm.dark),e.text("".concat(t,": ").concat(i[n]," (").concat(s,"%)"),a+6,p),p+=6}),a+70})(i,0,s.charts.pieChart,20,l)),i.addPage(),_m(i,s.title,o),function(e,t){pm(e,lm(e,Xp(e,t)))}(i,{startY:50,head:[s.columns.map(e=>e.header)],body:(e.data||e).map(e=>s.columns.map(t=>{const n=e[t.dataKey];return null===n||void 0===n?"":t.dataKey.includes("Date")&&n?new Date(n).toLocaleDateString("en-PH"):t.dataKey.includes("Amount")&&n?"\u20b1".concat(parseFloat(n).toLocaleString()):String(n)})),theme:"striped",headStyles:{fillColor:Cm.primary,textColor:[255,255,255],fontSize:9,fontStyle:"bold",halign:"left"},bodyStyles:{fontSize:8,textColor:Cm.dark},alternateRowStyles:{fillColor:[248,250,252]},margin:{top:50,left:20,right:20},didDrawPage:e=>{}}),(e=>{const t=e.internal.getNumberOfPages();for(let n=1;n<=t;n++)e.setPage(n),e.setDrawColor(...Cm.gray),e.setLineWidth(.5),e.line(20,280,190,280),e.setFontSize(8),e.setTextColor(...Cm.gray),e.text("E-Trucking Management System",20,285),e.text("Page ".concat(n," of ").concat(t),190,285,{align:"right"}),e.text("Confidential Report",105,285,{align:"center"})})(i);const c=(new Date).toISOString().split("T")[0],d="".concat(n,"_report_").concat(c,".pdf");return i.save(d),!0},Mm=e=>{let{isOpen:n,onClose:r}=e;const[a,s]=(0,t.useState)("all"),[i,o]=(0,t.useState)({}),[l,c]=(0,t.useState)(0),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null),m=[{id:"all",label:"All Records",icon:kr,color:"#6366f1"},{id:"trucks",label:"Trucks",icon:Gr,color:"#3b82f6"},{id:"drivers",label:"Drivers",icon:Kr,color:"#10b981"},{id:"helpers",label:"Helpers",icon:Yr,color:"#8b5cf6"},{id:"deliveries",label:"Deliveries",icon:Fr,color:"#f59e0b"},{id:"clients",label:"Clients",icon:pr,color:"#ef4444"},{id:"staff",label:"Staff",icon:br,color:"#06b6d4"},{id:"billings",label:"Billings",icon:Br,color:"#ec4899"}];(0,t.useEffect)(()=>{o({}),c(0),p(null)},[a]),(0,t.useEffect)(()=>{n&&f()},[i,a,n]);const f=async()=>{try{u(!0);const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{};if("all"===a){const e=["trucks","drivers","helpers","deliveries","clients","staff","billings"].map(e=>Gn.get("/api/reports/".concat(e,"/count"),{headers:t}).catch(()=>({data:{count:0}}))),n=await Promise.all(e),r=n.reduce((e,t)=>e+(t.data.count||0),0);c(r),p({Trucks:n[0].data.count||0,Drivers:n[1].data.count||0,Helpers:n[2].data.count||0,Deliveries:n[3].data.count||0,Clients:n[4].data.count||0,Staff:n[5].data.count||0,Billings:n[6].data.count||0})}else{const e=new URLSearchParams(i).toString(),n=await Gn.get("/api/reports/".concat(a,"/count?").concat(e),{headers:t});c(n.data.count||0),p(n.data.preview||null)}}catch(Bx){console.error("Error fetching record count:",Bx),c(0)}finally{u(!1)}},g=e=>{o(e)};return n?(0,Jn.jsx)("div",{className:"export-modal-overlay",onClick:r,children:(0,Jn.jsxs)("div",{className:"export-modal",onClick:e=>e.stopPropagation(),children:[(0,Jn.jsxs)("div",{className:"export-modal-header",children:[(0,Jn.jsxs)("div",{className:"modal-header-content",children:[(0,Jn.jsx)("h2",{children:"Export Report"}),(0,Jn.jsx)("p",{children:"Select report type and apply filters"})]}),(0,Jn.jsx)("button",{className:"modal-close-btn",onClick:r,children:(0,Jn.jsx)($r,{size:24})})]}),(0,Jn.jsx)("div",{className:"export-modal-tabs",children:m.map(e=>{const t=e.icon;return(0,Jn.jsxs)("button",{className:"export-tab ".concat(a===e.id?"active":""),onClick:()=>s(e.id),style:{"--tab-color":a===e.id?e.color:"#64748b"},children:[(0,Jn.jsx)(t,{size:20}),(0,Jn.jsx)("span",{children:e.label})]},e.id)})}),(0,Jn.jsxs)("div",{className:"export-modal-body",children:[(0,Jn.jsxs)("div",{className:"filter-section",children:[(0,Jn.jsxs)("div",{className:"filter-header",children:[(0,Jn.jsx)("h3",{children:"Filters"}),(0,Jn.jsxs)("button",{className:"reset-filters-btn",onClick:()=>{o({})},children:[(0,Jn.jsx)(Ur,{size:16}),"Reset"]})]}),(0,Jn.jsx)("div",{className:"filter-form",children:(()=>{const e={filters:i,onChange:g};switch(a){case"all":return(0,Jn.jsxs)("div",{className:"all-records-info",children:[(0,Jn.jsx)("div",{className:"info-icon",children:"\ud83d\udcca"}),(0,Jn.jsx)("h3",{children:"Export All Records"}),(0,Jn.jsxs)("p",{children:["This will export ",(0,Jn.jsx)("strong",{children:"all records"})," from all entity types into separate PDF files."]}),(0,Jn.jsxs)("ul",{children:[(0,Jn.jsx)("li",{children:"\u2705 Trucks Report"}),(0,Jn.jsx)("li",{children:"\u2705 Drivers Report"}),(0,Jn.jsx)("li",{children:"\u2705 Helpers Report"}),(0,Jn.jsx)("li",{children:"\u2705 Deliveries Report"}),(0,Jn.jsx)("li",{children:"\u2705 Clients Report"}),(0,Jn.jsx)("li",{children:"\u2705 Staff Report"}),(0,Jn.jsx)("li",{children:"\u2705 Billings Report"})]}),(0,Jn.jsx)("p",{className:"note",children:"Note: 7 PDF files will be generated and downloaded automatically."})]});case"trucks":return(0,Jn.jsx)(Us,Ne({},e));case"drivers":return(0,Jn.jsx)(qs,Ne({},e));case"helpers":return(0,Jn.jsx)(Ws,Ne({},e));case"deliveries":return(0,Jn.jsx)(Hs,Ne({},e));case"clients":return(0,Jn.jsx)(Vs,Ne({},e));case"staff":return(0,Jn.jsx)(Gs,Ne({},e));case"billings":return(0,Jn.jsx)(Ks,Ne({},e));default:return null}})()})]}),(0,Jn.jsx)("div",{className:"preview-section",children:(0,Jn.jsxs)("div",{className:"preview-card",children:[(0,Jn.jsxs)("div",{className:"preview-stat",children:[(0,Jn.jsx)("span",{className:"stat-label",children:"Records Found"}),(0,Jn.jsx)("span",{className:"stat-value",children:d?"...":l.toLocaleString()})]}),h&&(0,Jn.jsxs)("div",{className:"preview-summary",children:[(0,Jn.jsx)("h4",{children:"Summary"}),Object.entries(h).map(e=>{let[t,n]=e;return(0,Jn.jsxs)("div",{className:"summary-item",children:[(0,Jn.jsxs)("span",{children:[t,":"]}),(0,Jn.jsx)("strong",{children:n})]},t)})]})]})})]}),(0,Jn.jsxs)("div",{className:"export-modal-footer",children:[(0,Jn.jsx)("button",{className:"btn-secondary",onClick:r,children:"Cancel"}),(0,Jn.jsxs)("button",{className:"btn-primary",onClick:async()=>{try{u(!0);const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{};if("all"===a){const e=["trucks","drivers","helpers","deliveries","clients","staff","billings"],n=e.map(e=>Gn.get("/api/reports/".concat(e),{headers:t}).catch(()=>({data:{data:[]}}))),r=await Promise.all(n);for(let t=0;t<e.length;t++)r[t].data.data&&r[t].data.data.length>0&&await Rm(r[t].data,{reportType:e[t],filters:{},recordCount:r[t].data.data.length});alert("\u2705 All records exported successfully! (".concat(l," total records across 7 PDFs)"))}else{const e=new URLSearchParams(i).toString(),n=await Gn.get("/api/reports/".concat(a,"?").concat(e),{headers:t});await Rm(n.data,{reportType:a,filters:i,recordCount:l}),alert("\u2705 ".concat(a.charAt(0).toUpperCase()+a.slice(1)," report exported successfully! (").concat(l," records)"))}}catch(Bx){console.error("Error exporting PDF:",Bx),alert("\u274c Failed to export report. Please try again.")}finally{u(!1)}},disabled:d||0===l,children:[(0,Jn.jsx)(kr,{size:18}),d?"Generating...":"Export PDF (".concat(l," records)")]})]})]})}):null},Fm=e=>{var n;let{currentUser:r}=e;const a=de(),{timeframe:s,timeframeOptions:i,updateTimeframe:o}=ua(),[l,c]=(0,t.useState)({trucks:0,drivers:0,helpers:0,staff:0,clients:0,deliveries:0,pendingDeliveries:0,unreadNotifications:0}),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),g=(()=>{const e=a.pathname;return e.includes("/trucks")?{text:"Add Truck",link:"/admin/trucks/add"}:e.includes("/drivers")?{text:"Add Driver",link:"/admin/drivers/add"}:e.includes("/helpers")?{text:"Add Helper",link:"/admin/helpers/add"}:e.includes("/staffs")?{text:"Add Staff",link:"/admin/staffs/add"}:e.includes("/clients")?{text:"Add Client",link:"/admin/clients/add"}:e.includes("/deliveries")?{text:"Add Delivery",link:"/admin/deliveries/add"}:e.includes("/operators")?{text:"Add Operator",link:"/admin/operators/add"}:{text:"Add New",link:"/admin/dashboard",isDefault:!0}})(),x=e=>a.pathname.startsWith(e)?"text-primary-600 border-b-2 border-primary-600 font-semibold":"text-gray-500 hover:text-gray-800",v=(0,t.useCallback)(async()=>{try{const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{},n=Gn.create({headers:t}),r=[n.get("/api/trucks").catch(e=>({data:[]})),n.get("/api/drivers").catch(e=>({data:[]})),n.get("/api/helpers").catch(e=>({data:[]})),n.get("/api/staffs").catch(e=>({data:[]})),n.get("/api/clients").catch(e=>({data:[]})),n.get("/api/deliveries").catch(e=>({data:[]})),n.get("/api/deliveries/status/pending").catch(e=>({data:[]}))],[a,s,i,o,l,d,u]=await Promise.all(r);c({trucks:a.data.length||0,drivers:s.data.filter(e=>"active"===e.DriverStatus||"active"===e.driverStatus).length||0,helpers:i.data.filter(e=>"active"===e.HelperStatus||"active"===e.helperStatus).length||0,staff:o.data.filter(e=>"active"===e.StaffStatus||"active"===e.staffStatus).length||0,clients:l.data.filter(e=>"active"===e.ClientStatus||"active"===e.clientStatus).length||0,deliveries:d.data.length||0,pendingDeliveries:u.data.length||0,unreadNotifications:3})}catch(Bx){console.error("Error fetching sidebar counts:",Bx)}},[]);return(0,t.useEffect)(()=>{v()},[v]),(0,Jn.jsxs)("div",{className:"sticky top-0 z-40 w-full bg-white/80 backdrop-blur-md border-b border-gray-200 mb-8 transition-all duration-200",children:[(0,Jn.jsxs)("div",{className:"px-8 py-4 flex items-center justify-between gap-6",children:[(0,Jn.jsx)("div",{className:"flex-1 max-w-xl",children:(0,Jn.jsxs)("div",{className:"relative group",children:[(0,Jn.jsx)(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-primary-500 transition-colors",size:20}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search trucks, drivers, deliveries...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl text-sm focus:ring-2 focus:ring-primary-500/20 focus:bg-white transition-all text-gray-700 placeholder-gray-400"})]})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jn.jsxs)("button",{className:"relative w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-50 transition-colors",children:[(0,Jn.jsx)(dr,{size:22}),(0,Jn.jsx)("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-danger-500 rounded-full border-2 border-white"})]}),(0,Jn.jsx)("div",{className:"h-8 w-px bg-gray-200 mx-1"}),(0,Jn.jsxs)("div",{className:"relative",children:[(0,Jn.jsxs)("button",{className:"flex items-center gap-3 p-1.5 pr-3 rounded-full hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-200",onClick:()=>f(!m),children:[(0,Jn.jsx)("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-sm",children:(null===r||void 0===r||null===(n=r.username)||void 0===n?void 0:n.charAt(0))||"A"}),(0,Jn.jsxs)("div",{className:"hidden md:block text-left",children:[(0,Jn.jsx)("p",{className:"text-sm font-semibold text-gray-700 leading-none",children:(null===r||void 0===r?void 0:r.username)||"Admin"}),(0,Jn.jsx)("p",{className:"text-[10px] uppercase tracking-wider font-bold text-gray-400 mt-1",children:(null===r||void 0===r?void 0:r.role)||"Head Admin"})]}),(0,Jn.jsx)(gr,{size:16,className:"text-gray-400 transition-transform ".concat(m?"rotate-180":"")})]}),m&&(0,Jn.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-100 py-1 overflow-hidden animate-slide-up origin-top-right",children:[(0,Jn.jsxs)("div",{className:"px-4 py-3 border-b border-gray-50 bg-gray-50/50",children:[(0,Jn.jsx)("p",{className:"text-xs text-gray-500",children:"Signed in as"}),(0,Jn.jsx)("p",{className:"text-sm font-bold text-gray-800 truncate",children:null===r||void 0===r?void 0:r.username})]}),(0,Jn.jsx)(ve,{to:"/profile",className:"block px-4 py-2.5 text-sm text-gray-600 hover:bg-gray-50 hover:text-primary-600",children:"My Profile"}),(0,Jn.jsx)(ve,{to:"/settings",className:"block px-4 py-2.5 text-sm text-gray-600 hover:bg-gray-50 hover:text-primary-600",children:"Settings"}),(0,Jn.jsx)("div",{className:"my-1 border-t border-gray-100"}),(0,Jn.jsx)(ve,{to:"/logout",className:"block px-4 py-2.5 text-sm text-danger-600 hover:bg-danger-50 font-medium",children:"Sign Out"})]})]})]})]}),(0,Jn.jsxs)("div",{className:"px-8 flex items-center justify-between gap-4 overflow-x-auto hide-scrollbar",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Jn.jsx)(ve,{to:"/admin/dashboard",className:"py-3 text-sm font-medium border-b-2 border-transparent transition-all ".concat(x("/admin/dashboard")),children:"Overview"}),(0,Jn.jsx)(ve,{to:"/admin/trucks/trucklist",className:"py-3 text-sm font-medium border-b-2 border-transparent transition-all ".concat(x("/admin/trucks")),children:"Trucks"}),(0,Jn.jsx)(ve,{to:"/admin/deliveries/deliverylist",className:"py-3 text-sm font-medium border-b-2 border-transparent transition-all ".concat(x("/admin/deliveries")),children:"Deliveries"}),(0,Jn.jsx)(ve,{to:"/admin/drivers/driverslist",className:"py-3 text-sm font-medium border-b-2 border-transparent transition-all ".concat(a.pathname.includes("/drivers")||a.pathname.includes("/staffs")||a.pathname.includes("/clients")?"text-primary-600 border-b-2 border-primary-600 font-semibold":"text-gray-500 hover:text-gray-800"),children:"Personnel"}),(0,Jn.jsx)(ve,{to:"/admin/billings",className:"py-3 text-sm font-medium border-b-2 border-transparent transition-all ".concat(x("/admin/billings")),children:"Financials"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3 pb-2",children:[(0,Jn.jsxs)("div",{className:"relative",children:[(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-gray-600 bg-gray-100/50 hover:bg-white border border-transparent hover:border-gray-200 rounded-lg transition-all",onClick:()=>u(!d),children:[(0,Jn.jsx)(mr,{size:14,className:"text-gray-400"}),(0,Jn.jsx)("span",{children:s}),(0,Jn.jsx)(gr,{size:12,className:"text-gray-400"})]}),d&&(0,Jn.jsx)("div",{className:"absolute right-0 top-full mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-100 py-1 z-50 animate-slide-up",children:i.map(e=>(0,Jn.jsx)("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 ".concat(s===e.value?"text-primary-600 font-medium bg-primary-50/50":"text-gray-600"),onClick:()=>{o(e.value),u(!1)},children:e.label},e.value))})]}),(0,Jn.jsxs)("button",{onClick:()=>{p(!0)},className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:border-primary-500 hover:text-primary-600 transition-all shadow-sm",children:[(0,Jn.jsx)(kr,{size:14}),"Export"]}),!g.isDefault&&(0,Jn.jsxs)(ve,{to:g.link,className:"flex items-center gap-2 px-4 py-1.5 text-xs font-bold text-white bg-success-500 rounded-lg hover:bg-success-600 transition-all shadow-sm hover:shadow-success-500/30 active:scale-95",children:[(0,Jn.jsx)(zr,{size:14}),g.text]})]})]}),(0,Jn.jsx)(Mm,{isOpen:h,onClose:()=>p(!1)})]})},Om=e=>{var n;let{currentUser:r}=e;de();const[a,s]=(0,t.useState)({trucks:0,drivers:0,deliveries:0,revenue:0}),[i,o]=(0,t.useState)({trucks:0,drivers:0,helpers:0,staff:0,clients:0,deliveries:0,pendingDeliveries:0,unreadNotifications:0}),[l,c]=(0,t.useState)({pending:0,inProgress:0,completed:0}),[d,u]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[m,f]=(0,t.useState)(!0),[g,x]=(0,t.useState)(null),[v,b]=(0,t.useState)(""),[y,w]=(0,t.useState)(""),[j,N]=(0,t.useState)([]),[k,S]=(0,t.useState)([]),[C,_]=(0,t.useState)(0),[P,A]=(0,t.useState)("overview"),[D,T]=(0,t.useState)("Dec 2023"),[L,E]=(0,t.useState)([]),[I,R]=(0,t.useState)([]),[M,F]=(0,t.useState)("daily"),O=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),z=(e,t)=>{if(!e||0===e.length)return void R([]);const n={};e.forEach((e,r)=>{let a;const s=e=>{if(!e||""===e)return null;try{if("object"===typeof e&&null!==e&&"seconds"in e){const t=new Date(1e3*e.seconds);return isNaN(t.getTime())?null:t}if("object"===typeof e&&null!==e&&"function"===typeof e.toDate){const t=e.toDate();return isNaN(t.getTime())?null:t}if("string"===typeof e||"number"===typeof e){const t=new Date(e);return isNaN(t.getTime())?null:t}}catch(g){console.log("Error parsing date:",g,e)}return null};if(a=s(e.deliveryDate)||s(e.DeliveryDate),a||(a=s(e.scheduledDate)||s(e.ScheduledDate)),a||(a=s(e.created_at)||s(e.CreatedAt)),!a||isNaN(a.getTime()))return;let i;i="daily"===t?a.getDate():"weekly"===t?"Week ".concat(Math.ceil(a.getDate()/7)):"".concat(a.toLocaleDateString("en-US",{month:"short"})," ").concat(a.getFullYear()),n[i]=(n[i]||0)+1});let r=Object.entries(n).map(e=>{let[t,n]=e;return{label:t,count:n,percentage:0}});if("daily"===t){const e=[];for(let t=9;t>=0;t--){const r=new Date;r.setDate(r.getDate()-t);const a=r.getDate();e.push({label:a.toString(),count:n[a]||0,percentage:0})}r=e}else if("monthly"===t){const e=[];for(let t=11;t>=0;t--){const r=new Date;r.setMonth(r.getMonth()-t);const a="".concat(r.toLocaleDateString("en-US",{month:"short"})," ").concat(r.getFullYear());e.push({label:r.toLocaleDateString("en-US",{month:"short"}),count:n[a]||0,percentage:0})}r=e}const a=Math.max(...r.map(e=>e.count),1);r=r.map(e=>Ne(Ne({},e),{},{percentage:e.count>0?Math.max(e.count/a*100,10):0})),R(r)},B=(0,t.useCallback)(async()=>{try{const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{},n=Gn.create({headers:t}),r=[n.get("/api/trucks").catch(e=>({data:[]})),n.get("/api/drivers").catch(e=>({data:[]})),n.get("/api/helpers").catch(e=>({data:[]})),n.get("/api/staffs").catch(e=>({data:[]})),n.get("/api/clients").catch(e=>({data:[]})),n.get("/api/deliveries").catch(e=>({data:[]})),n.get("/api/deliveries/status/pending").catch(e=>({data:[]})),n.get("/api/notifications").catch(e=>({data:[]}))],[a,s,i,l,c,d,u]=await Promise.all(r);o({trucks:a.data.length||0,drivers:s.data.filter(e=>"active"===e.DriverStatus||"active"===e.driverStatus).length||0,helpers:i.data.filter(e=>"active"===e.HelperStatus||"active"===e.helperStatus).length||0,staff:l.data.filter(e=>"active"===e.StaffStatus||"active"===e.staffStatus).length||0,clients:c.data.filter(e=>"active"===e.ClientStatus||"active"===e.clientStatus).length||0,deliveries:d.data.length||0,pendingDeliveries:u.data.length||0,unreadNotifications:3})}catch(g){console.error("Error fetching header counts:",g)}},[]);return(0,t.useEffect)(()=>{if(d.length>0){let e=[...d];v&&(e=e.filter(e=>e.action===v)),y&&(e=e.filter(e=>e.user===y)),p(e)}},[d,v,y]),(0,t.useEffect)(()=>{if(d.length>0){const e=[...new Set(d.map(e=>e.action))].filter(Boolean),t=[...new Set(d.map(e=>e.user))].filter(Boolean);N(e),S(t)}},[d]),(0,t.useEffect)(()=>{(async()=>{try{f(!0);const n=await Gn.get("/api/audit/recent?limit=30"),r=await Gn.get("/api/deliveries/status/pending"),a=await Gn.get("/api/deliveries/status/in-progress"),i=await Gn.get("/api/deliveries/status/completed"),o=await Gn.get("/api/trucks"),l=await Gn.get("/api/drivers"),d=await Gn.get("/api/deliveries");_(d.data.length||0);const h=await Gn.get("/api/deliveries?limit=60");E(h.data||[]),z(d.data||[],M),await B(),c({pending:r.data.length||0,inProgress:a.data.length||0,completed:i.data.length||0});let m=0;try{m=(await Gn.get("/api/payments/successful")).data.reduce((e,t)=>e+(parseFloat(t.amount)||0),0)}catch(e){try{const e=(await Gn.get("/api/deliveries")).data.filter(e=>"paid"===e.paymentStatus||"paid"===e.PaymentStatus);m=e.reduce((e,t)=>e+(parseFloat(t.deliveryRate)||parseFloat(t.DeliveryRate)||parseFloat(t.amount)||0),0)}catch(t){console.error("Error fetching deliveries for revenue:",t)}}s({trucks:o.data.length||0,drivers:l.data.filter(e=>"active"===e.DriverStatus).length||0,deliveries:(r.data.length||0)+(a.data.length||0),revenue:m});const g=n.data||[];u(g),p(g),f(!1)}catch(n){console.error("Error fetching dashboard data:",n),x("Failed to load dashboard data"),f(!1),u([]),p([]),_(0),c({pending:0,inProgress:0,completed:0}),s({trucks:0,drivers:0,deliveries:0,revenue:0})}})()},[]),r?(0,Jn.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Jn.jsx)(Fm,{currentUser:r}),(0,Jn.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,Jn.jsxs)("div",{className:"mb-10",children:[(0,Jn.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Hello ",(null===r||void 0===r?void 0:r.username)||"Admin",", Good Morning"]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:(0,Jn.jsx)(Fr,{size:24})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:C||0}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Total Shipments"}),(0,Jn.jsxs)("div",{className:"flex items-center text-xs font-semibold text-emerald-600 mt-1",children:[(0,Jn.jsx)(cr,{size:12,className:"mr-0.5"}),"+1.92%"]})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-full bg-amber-50 flex items-center justify-center text-amber-600",children:(0,Jn.jsx)(yr,{size:24})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:l.pending}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Pending Packages"}),(0,Jn.jsxs)("div",{className:"flex items-center text-xs font-semibold text-emerald-600 mt-1",children:[(0,Jn.jsx)(cr,{size:12,className:"mr-0.5"}),"+1.89%"]})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600",children:(0,Jn.jsx)(Vr,{size:24})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:l.completed}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Completed Deliveries"}),(0,Jn.jsxs)("div",{className:"flex items-center text-xs font-semibold text-rose-600 mt-1",children:[(0,Jn.jsx)(lr,{size:12,className:"mr-0.5"}),"-0.98%"]})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-50 flex items-center justify-center text-green-600",children:(0,Jn.jsx)(wr,{size:24})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:(U=a.revenue,new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(U))}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Total Revenue"}),(0,Jn.jsxs)("div",{className:"flex items-center text-xs font-semibold text-emerald-600 mt-1",children:[(0,Jn.jsx)(cr,{size:12,className:"mr-0.5"}),"+5.4%"]})]})]})]})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8 h-auto lg:h-[450px]",children:[(0,Jn.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 p-6 flex flex-col h-full",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Shipments Statistics"}),(0,Jn.jsxs)("p",{className:"text-sm text-gray-500",children:["Total number of deliveries: ",C||0]})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsxs)("div",{className:"flex space-x-1",children:[(0,Jn.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,Jn.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-200"})]}),(0,Jn.jsxs)("select",{className:"bg-gray-50 border border-gray-200 text-gray-700 text-xs rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2",onChange:async e=>{const t=e.target.value.toLowerCase();F(t);try{const e=await Gn.get("/api/deliveries");z(e.data||[],t)}catch(g){console.error("Error fetching deliveries for chart:",g)}},value:M,children:[(0,Jn.jsx)("option",{value:"daily",children:"Daily"}),(0,Jn.jsx)("option",{value:"weekly",children:"Weekly"}),(0,Jn.jsx)("option",{value:"monthly",children:"Monthly"})]})]})]}),(0,Jn.jsx)("div",{className:"flex-1 min-h-[250px] relative flex items-end justify-between gap-2 px-2 pb-2",children:I.length>0?(0,Jn.jsx)(Jn.Fragment,{children:I.map((e,t)=>(0,Jn.jsxs)("div",{className:"flex flex-col items-center flex-1 h-full justify-end group cursor-pointer relative",children:[(0,Jn.jsxs)("div",{className:"absolute -top-10 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 text-white text-xs px-2 py-1 rounded pointer-events-none whitespace-nowrap z-10",children:[e.label,": ",e.count]}),(0,Jn.jsx)("div",{className:"w-full max-w-[40px] bg-blue-500 rounded-t-sm hover:bg-blue-600 transition-all duration-300 relative",style:{height:"".concat(e.percentage,"%")}}),(0,Jn.jsx)("span",{className:"text-[10px] text-gray-400 mt-2 font-medium truncate w-full text-center",children:e.label})]},t))}):(0,Jn.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No delivery data available"})})]}),(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 flex flex-col h-full",children:[(0,Jn.jsxs)("div",{className:"mb-6",children:[(0,Jn.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Tracking Delivery"}),(0,Jn.jsx)("p",{className:"text-xs text-gray-500",children:"Last viewed delivery"})]}),(0,Jn.jsx)("div",{className:"flex-1 overflow-auto custom-scrollbar",children:L.length>0?(0,Jn.jsxs)("div",{children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-6 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wider mb-1",children:"Tracking ID"}),(0,Jn.jsxs)("div",{className:"font-mono text-sm font-bold text-gray-800",children:["#",L[0].id||L[0].DeliveryID||"N/A"]})]}),(0,Jn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold capitalize border ".concat((e=>{switch(e.toLowerCase()){case"delivered":return"text-green-700 bg-green-100 border-green-200";case"in transit":case"in-progress":case"in progress":return"text-blue-700 bg-blue-100 border-blue-200";case"pending":return"text-amber-700 bg-amber-100 border-amber-200";case"processing":return"text-purple-700 bg-purple-100 border-purple-200";case"cancelled":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}})(L[0].status||L[0].deliveryStatus||"pending")),children:L[0].status||L[0].deliveryStatus||"Pending"})]}),(0,Jn.jsxs)("div",{className:"relative pl-4 space-y-8 before:absolute before:left-[21px] before:top-2 before:bottom-2 before:w-0.5 before:bg-gray-100",children:[(0,Jn.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500 ring-4 ring-blue-50 z-10"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-sm font-bold text-gray-800",children:"Order Created"}),(0,Jn.jsx)("p",{className:"text-xs text-gray-500",children:O(L[0].created_at||L[0].CreatedAt)})]})]}),(0,Jn.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"w-3 h-3 rounded-full z-10 ".concat(L[0].driverAcceptedAt||L[0].DriverAcceptedAt?"bg-blue-500 ring-4 ring-blue-50":"bg-gray-300 ring-4 ring-gray-100")}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-sm font-bold ".concat(L[0].driverAcceptedAt?"text-gray-800":"text-gray-400"),children:"Driver Accepted"}),(0,Jn.jsx)("p",{className:"text-xs text-gray-500",children:L[0].driverAcceptedAt||L[0].DriverAcceptedAt?O(L[0].driverAcceptedAt||L[0].DriverAcceptedAt):"Pending"})]})]}),(0,Jn.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"w-3 h-3 rounded-full z-10 ".concat(L[0].deliveryDate||L[0].DeliveryDate?"bg-blue-500 ring-4 ring-blue-50":"bg-gray-300 ring-4 ring-gray-100")}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-sm font-bold ".concat(L[0].deliveryDate?"text-gray-800":"text-gray-400"),children:"Delivered"}),(0,Jn.jsx)("p",{className:"text-xs text-gray-500",children:L[0].deliveryDate||L[0].DeliveryDate?O(L[0].deliveryDate||L[0].DeliveryDate):"Estimated Delivery"})]})]})]}),(0,Jn.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-100 flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 font-bold",children:(null===(n=L[0].driverName||L[0].DriverName)||void 0===n?void 0:n.charAt(0))||"D"}),(0,Jn.jsxs)("div",{className:"flex-1",children:[(0,Jn.jsx)("p",{className:"text-sm font-bold text-gray-900",children:L[0].driverName||L[0].DriverName||"No driver assigned"}),(0,Jn.jsx)("p",{className:"text-xs text-gray-500",children:"Assigned Driver"})]}),(0,Jn.jsxs)("div",{className:"flex gap-2",children:[(0,Jn.jsx)("button",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center hover:bg-blue-100 transition-colors",children:(0,Jn.jsx)(Or,{size:16})}),(0,Jn.jsx)("button",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center hover:bg-blue-100 transition-colors",children:(0,Jn.jsx)(Mr,{size:16})})]})]})]}):(0,Jn.jsx)("div",{className:"flex items-center justify-center h-48 text-gray-400 text-sm",children:"No shipments to track"})})]})]})]})]}):(0,Jn.jsxs)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center flex-col gap-4",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin"}),(0,Jn.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading dashboard..."})]});var U},zm=()=>{const{currentUser:e}=(0,t.useContext)(ea),[n,r]=(0,t.useState)(null),[a,s]=(0,t.useState)({clients:0,trucks:0,deliveries:0,pendingDeliveries:0}),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{c(!0);const[e,t,n]=await Promise.all([Gn.get("/api/staffs/profile"),Gn.get("/api/staffs/stats"),Gn.get("/api/staffs/recent-clients")]);r(e.data),s(t.data),o(n.data),c(!1)}catch(Bx){console.error("Error fetching dashboard data:",Bx),c(!1),r({StaffName:(null===e||void 0===e?void 0:e.username)||"Staff Member",StaffDepartment:"Customer Service",StaffStatus:"Active",StaffEmploymentDate:(new Date).toISOString()}),s({clients:0,trucks:0,deliveries:0,pendingDeliveries:0}),o([])}})()},[]);return l?(0,Jn.jsx)(Os,{}):(0,Jn.jsxs)("div",{className:"staff-dashboard",children:[(0,Jn.jsx)("div",{className:"dashboard-header",children:(0,Jn.jsxs)("div",{className:"header-content",children:[(0,Jn.jsxs)("div",{className:"staff-info",children:[(0,Jn.jsx)("div",{className:"staff-avatar",children:(0,Jn.jsx)(_s,{})}),(0,Jn.jsxs)("div",{className:"staff-details",children:[(0,Jn.jsxs)("h1",{children:["Welcome,"," ",null!==n&&void 0!==n&&n.StaffName&&"Staff Member"!==n.StaffName?n.StaffName:(null===e||void 0===e?void 0:e.username)||"John Smith"]}),(0,Jn.jsxs)("p",{className:"staff-role",children:["Staff Dashboard -"," ",(null===n||void 0===n?void 0:n.StaffDepartment)||"Customer Service"]})]})]}),(0,Jn.jsx)("div",{className:"header-actions",children:(0,Jn.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("currentUser"),window.location.href="/login"},className:"btn btn-outline",children:[(0,Jn.jsx)(fs,{})," Logout"]})})]})}),(0,Jn.jsxs)("div",{className:"dashboard-content",children:[(0,Jn.jsx)("div",{className:"stats-section",children:(0,Jn.jsxs)("div",{className:"stats-grid",children:[(0,Jn.jsxs)("div",{className:"stat-card",children:[(0,Jn.jsx)("div",{className:"stat-icon bg-blue",children:(0,Jn.jsx)(_s,{})}),(0,Jn.jsxs)("div",{className:"stat-details",children:[(0,Jn.jsx)("h3",{children:a.clients}),(0,Jn.jsx)("p",{children:"Total Clients"})]})]}),(0,Jn.jsxs)("div",{className:"stat-card",children:[(0,Jn.jsx)("div",{className:"stat-icon bg-green",children:(0,Jn.jsx)(ks,{})}),(0,Jn.jsxs)("div",{className:"stat-details",children:[(0,Jn.jsx)("h3",{children:a.trucks}),(0,Jn.jsx)("p",{children:"Total Trucks"})]})]}),(0,Jn.jsxs)("div",{className:"stat-card",children:[(0,Jn.jsx)("div",{className:"stat-icon bg-purple",children:(0,Jn.jsx)(ms,{})}),(0,Jn.jsxs)("div",{className:"stat-details",children:[(0,Jn.jsx)("h3",{children:a.deliveries}),(0,Jn.jsx)("p",{children:"Total Deliveries"})]})]}),(0,Jn.jsxs)("div",{className:"stat-card",children:[(0,Jn.jsx)("div",{className:"stat-icon bg-orange",children:(0,Jn.jsx)(ms,{})}),(0,Jn.jsxs)("div",{className:"stat-details",children:[(0,Jn.jsx)("h3",{children:a.pendingDeliveries}),(0,Jn.jsx)("p",{children:"Pending Deliveries"})]})]})]})}),(0,Jn.jsxs)("div",{className:"management-section",children:[(0,Jn.jsxs)("div",{className:"section-header",children:[(0,Jn.jsx)("h2",{children:"Staff Management Tools"}),(0,Jn.jsx)("p",{children:"Access your management tools and resources"})]}),(0,Jn.jsxs)("div",{className:"tools-grid",children:[(0,Jn.jsxs)(ve,{to:"/staff/vehicle-rates",className:"tool-card",children:[(0,Jn.jsx)("div",{className:"tool-icon",children:(0,Jn.jsx)(za,{})}),(0,Jn.jsxs)("div",{className:"tool-content",children:[(0,Jn.jsx)("h3",{children:"Vehicle Rate Management"}),(0,Jn.jsx)("p",{children:"Manage per-kilometer rates for different vehicle types used in booking calculations"})]})]}),(0,Jn.jsxs)(ve,{to:"/staff/reports",className:"tool-card",children:[(0,Jn.jsx)("div",{className:"tool-icon",children:(0,Jn.jsx)(Ta,{})}),(0,Jn.jsxs)("div",{className:"tool-content",children:[(0,Jn.jsx)("h3",{children:"Reports & Analytics"}),(0,Jn.jsx)("p",{children:"Generate detailed reports on deliveries, truck utilization, and operational statistics"})]})]})]})]}),(0,Jn.jsxs)("div",{className:"content-grid",children:[(0,Jn.jsxs)("div",{className:"content-card",children:[(0,Jn.jsxs)("div",{className:"card-header",children:[(0,Jn.jsx)("h3",{children:"Recent Clients"}),(0,Jn.jsxs)(ve,{to:"/staff/reports",className:"btn btn-primary btn-sm",children:[(0,Jn.jsx)(Ka,{})," View Reports"]})]}),(0,Jn.jsx)("div",{className:"card-body",children:i.length>0?(0,Jn.jsx)("div",{className:"table-container",children:(0,Jn.jsxs)("table",{className:"data-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"Name"}),(0,Jn.jsx)("th",{children:"Contact"}),(0,Jn.jsx)("th",{children:"Email"}),(0,Jn.jsx)("th",{children:"Creation Date"})]})}),(0,Jn.jsx)("tbody",{children:i.map(e=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:e.ClientName}),(0,Jn.jsx)("td",{children:e.ClientNumber}),(0,Jn.jsx)("td",{children:e.ClientEmail}),(0,Jn.jsx)("td",{children:new Date(e.ClientCreationDate).toLocaleDateString()})]},e.ClientID))})]})}):(0,Jn.jsxs)("div",{className:"empty-state",children:[(0,Jn.jsx)(_s,{}),(0,Jn.jsx)("p",{children:"No recent clients found."})]})})]}),(0,Jn.jsxs)("div",{className:"content-card",children:[(0,Jn.jsx)("div",{className:"card-header",children:(0,Jn.jsx)("h3",{children:"Department Information"})}),(0,Jn.jsxs)("div",{className:"card-body",children:[(0,Jn.jsxs)("div",{className:"info-grid",children:[(0,Jn.jsxs)("div",{className:"info-item",children:[(0,Jn.jsx)("div",{className:"info-label",children:"Department:"}),(0,Jn.jsx)("div",{className:"info-value",children:(null===n||void 0===n?void 0:n.StaffDepartment)||"Not assigned"})]}),(0,Jn.jsxs)("div",{className:"info-item",children:[(0,Jn.jsx)("div",{className:"info-label",children:"Status:"}),(0,Jn.jsx)("div",{className:"info-value",children:(0,Jn.jsx)("span",{className:"status-badge active",children:(null===n||void 0===n?void 0:n.StaffStatus)||"Active"})})]}),(0,Jn.jsxs)("div",{className:"info-item",children:[(0,Jn.jsx)("div",{className:"info-label",children:"Employment Date:"}),(0,Jn.jsx)("div",{className:"info-value",children:null!==n&&void 0!==n&&n.StaffEmploymentDate?new Date(n.StaffEmploymentDate).toLocaleDateString():"Not available"})]})]}),(0,Jn.jsxs)("div",{className:"department-message",children:[(0,Jn.jsx)("h4",{children:"Welcome to E-Trucking Staff Dashboard"}),(0,Jn.jsx)("p",{children:"Here you can view client data, manage vehicle rates, generate reports, and access your management tools."}),(0,Jn.jsx)("p",{children:"If you have any questions or need assistance, please contact your supervisor."})]})]})]})]})]})]})},Bm=e=>{let{status:t}=e;const n=t?t.toLowerCase():"unknown",{className:r,label:a,icon:s}=(()=>{switch(n){case"completed":return{className:"status-badge-success",label:"Completed",icon:(0,Jn.jsx)(Ia,{})};case"delivered":return{className:"status-badge-success",label:"Delivered",icon:(0,Jn.jsx)(Ia,{})};case"pending":return{className:"status-badge-warning",label:"Pending",icon:(0,Jn.jsx)(Qa,{})};case"accepted":return{className:"status-badge-info",label:"Accepted",icon:(0,Jn.jsx)(Ia,{})};case"in-progress":case"in progress":case"in_progress":case"started":return{className:"status-badge-info",label:"In Progress",icon:(0,Jn.jsx)(gs,{className:"spinning-icon"})};case"picked-up":case"picked_up":case"picked up":return{className:"status-badge-info",label:"Picked Up",icon:(0,Jn.jsx)(gs,{className:"spinning-icon"})};case"cancelled":return{className:"status-badge-danger",label:"Cancelled",icon:(0,Jn.jsx)(js,{})};default:return{className:"status-badge-secondary",label:"Unknown",icon:(0,Jn.jsx)(Ha,{})}}})();return(0,Jn.jsxs)("div",{className:"status-badge ".concat(r),children:[s,(0,Jn.jsx)("span",{children:a})]})},Um=e=>{let{title:n,children:r,onClose:a,size:s}=e;const i="modal-content ".concat("large"===s?"modal-large":""),[o,l]=(0,t.useState)(!1),c=()=>{l(!0),setTimeout(()=>{a()},100)};(0,t.useEffect)(()=>{const e=e=>{27===e.keyCode&&c()};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",e),document.body.style.overflow="auto"}},[]);return(0,Jn.jsx)("div",{className:"modal-overlay ".concat(o?"closing":""),onClick:c,children:(0,Jn.jsxs)("div",{className:i,onClick:e=>{e.stopPropagation()},children:[(0,Jn.jsxs)("div",{className:"modal-header",children:[(0,Jn.jsx)("h2",{children:n}),(0,Jn.jsx)("button",{className:"modal-close",onClick:c,children:(0,Jn.jsx)(js,{})})]}),(0,Jn.jsx)("div",{className:"modal-body",children:r})]})})},qm=e=>{let{isOpen:t,onClose:n,title:r,message:a,type:s="warning",confirmText:i="OK",cancelText:o=null,onConfirm:l=null,size:c="medium",children:d}=e;if(!t)return null;const u={small:"max-w-sm",medium:"max-w-md",large:"max-w-lg"},h=(()=>{const e={success:{icon:Ea,bgColor:"bg-emerald-500",textColor:"text-white"},error:{icon:Wa,bgColor:"bg-red-500",textColor:"text-white"},info:{icon:es,bgColor:"bg-blue-600",textColor:"text-white"},warning:{icon:Ha,bgColor:"bg-amber-500",textColor:"text-white"}};return e[s]||e.warning})().icon;return(0,Jn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&n()},children:(0,Jn.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl ".concat(u[c]||u.medium," w-full overflow-hidden"),children:[(0,Jn.jsxs)("div",{className:"".concat((()=>{const e={success:"bg-emerald-500",error:"bg-red-500",info:"bg-blue-600",warning:"bg-[#1e3a5f]"};return e[s]||e.warning})()," p-4 text-white relative"),children:[(0,Jn.jsx)("button",{onClick:n,className:"absolute top-3 right-3 text-white/80 hover:text-white transition-colors p-1",children:(0,Jn.jsx)(js,{size:16})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"bg-white/20 rounded-full p-2",children:(0,Jn.jsx)(h,{className:"text-xl text-white"})}),(0,Jn.jsx)("h3",{className:"text-lg font-bold",children:r})]})]}),(0,Jn.jsxs)("div",{className:"p-5",children:[d,!d&&a&&(0,Jn.jsx)("div",{className:"text-gray-700 leading-relaxed",children:"string"===typeof a?a.split("\n").map((e,t)=>(0,Jn.jsx)("p",{className:"mb-2 last:mb-0",children:e},t)):a})]}),(0,Jn.jsxs)("div",{className:"px-5 pb-5 flex justify-end gap-3",children:[o&&(0,Jn.jsx)("button",{className:"px-5 py-2 border border-gray-300 text-gray-700 hover:bg-gray-100 font-medium rounded-lg transition-colors",onClick:n,children:o}),(0,Jn.jsx)("button",{className:"px-5 py-2 ".concat((()=>{const e={success:"bg-emerald-500 hover:bg-emerald-600",error:"bg-red-500 hover:bg-red-600",info:"bg-blue-600 hover:bg-blue-700",warning:"bg-blue-600 hover:bg-blue-700"};return e[s]||e.warning})()," text-white font-semibold rounded-lg transition-colors"),onClick:()=>{l?l():n()},children:i})]})]})})};const Wm=(0,t.memo)(e=>{let{pickupCoordinates:n,dropoffCoordinates:r,pickupAddress:a,dropoffAddress:s,onRouteCalculated:i}=e;const o=(0,t.useRef)(null),l=(0,t.useRef)(null),c=(0,t.useRef)(null),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(!0),[g,x]=(0,t.useState)(!1),[v,b]=(0,t.useState)(!1),y=(0,t.useRef)(0);(0,t.useEffect)(()=>{let e;window.googleMapsLoaded||window.google&&window.google.maps&&window.googleMapsLoaded?(console.log("\u2705 Google Maps API is ready"),b(!0),f(!1)):window.googleMapsError?(console.error("\u274c Google Maps API failed to load"),p("Google Maps API failed to load. Using fallback calculation."),f(!1),w()):console.log("\u23f3 Waiting for Google Maps API...");const t=()=>{console.log("\ud83d\uddfa\ufe0f Google Maps loaded event received"),b(!0),f(!1)},n=()=>{console.error("\ud83d\udea8 Google Maps error event received"),p("Google Maps API failed to load. Using fallback calculation."),f(!1),w()};return window.addEventListener("googleMapsLoaded",t),window.addEventListener("googleMapsError",n),e=setTimeout(()=>{v||window.googleMapsLoaded||(console.warn("\u23f0 Google Maps API loading timeout"),p("Map loading timeout. Using fallback calculation."),f(!1),w())},1e4),()=>{window.removeEventListener("googleMapsLoaded",t),window.removeEventListener("googleMapsError",n),e&&clearTimeout(e)}},[]);const w=()=>{if(n&&r&&i){console.log("\ud83d\udccd Calculating fallback route...");const e=N(n.lat,n.lng,r.lat,r.lng),t=45,a=1.3,s=Math.round(e/t*60*a),o=Math.floor(s/60),l=s%60,c=o>0?"".concat(o," hr ").concat(l," min"):"".concat(l," min"),d={distanceText:"".concat(e," km (est.)"),distanceValue:e,durationText:"".concat(c," (est.)"),durationValue:s,averageSpeed:t,isEstimate:!0,fallbackUsed:!0};i(d),u({distance:{text:d.distanceText,value:1e3*e},duration:{text:d.durationText,value:60*s},averageSpeed:t,isEstimate:!0,fallbackUsed:!0})}};(0,t.useEffect)(()=>{if(!v||c.current)return;const e=()=>{if(o.current)try{console.log("\ud83d\uddfa\ufe0f Initializing Google Maps...");const e=new window.google.maps.LatLngBounds(new window.google.maps.LatLng(4.5893,114.0952),new window.google.maps.LatLng(21.1217,126.6044)),t=new window.google.maps.Map(o.current,{center:{lat:14.5995,lng:120.9842},zoom:6,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1,zoomControl:!0,scrollwheel:!0,gestureHandling:"cooperative",restriction:{latLngBounds:e,strictBounds:!0}});c.current=t,setTimeout(()=>{x(!0),console.log("\u2705 Map initialization complete")},300)}catch(Bx){console.error("\u274c Error initializing map:",Bx),p("Map initialization failed: ".concat(Bx.message)),w()}else y.current<5?(console.log("\ud83d\udd04 Map container not ready, retry ".concat(y.current+1,"/").concat(5)),y.current++,setTimeout(e,500)):(console.error("\u274c Map container never became available"),p("Map container initialization failed. Using fallback calculation."),w())};return e(),()=>{l.current&&l.current.setMap(null),c.current&&(c.current=null)}},[v]),(0,t.useEffect)(()=>{n&&r&&(v&&c.current&&g?j():h&&!v&&w())},[n,r,g,v]);const j=()=>{try{console.log("\ud83d\uddfa\ufe0f Calculating route with Google Maps...");const e=c.current;l.current&&(l.current.setMap(null),l.current=null);const t=new window.google.maps.LatLng(n.lat,n.lng),a=new window.google.maps.LatLng(r.lat,r.lng);e.markers&&e.markers.forEach(e=>e.setMap(null)),e.markers=[];const s=new window.google.maps.Marker({position:t,map:e,title:"Pickup Location",icon:{url:"data:image/svg+xml,"+encodeURIComponent('\n            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n              <circle cx="20" cy="20" r="18" fill="#4CAF50" stroke="white" stroke-width="2"/>\n              <text x="20" y="26" text-anchor="middle" fill="white" font-size="16" font-weight="bold">P</text>\n            </svg>\n          '),scaledSize:new window.google.maps.Size(40,40),anchor:new window.google.maps.Point(20,20)},animation:window.google.maps.Animation.DROP}),o=new window.google.maps.Marker({position:a,map:e,title:"Dropoff Location",icon:{url:"data:image/svg+xml,"+encodeURIComponent('\n            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n              <circle cx="20" cy="20" r="18" fill="#f44336" stroke="white" stroke-width="2"/>\n              <text x="20" y="26" text-anchor="middle" fill="white" font-size="16" font-weight="bold">D</text>\n            </svg>\n          '),scaledSize:new window.google.maps.Size(40,40),anchor:new window.google.maps.Point(20,20)},animation:window.google.maps.Animation.DROP});e.markers=[s,o];const d=new window.google.maps.LatLngBounds;d.extend(t),d.extend(a),e.fitBounds(d);const h=new window.google.maps.DirectionsService,p=new window.google.maps.DirectionsRenderer({map:e,suppressMarkers:!0,polylineOptions:{strokeColor:"#2196F3",strokeWeight:6,strokeOpacity:.8},suppressInfoWindows:!1,preserveViewport:!1});l.current=p,h.route({origin:t,destination:a,travelMode:window.google.maps.TravelMode.DRIVING,provideRouteAlternatives:!0,avoidFerries:!1,avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!0,region:"ph"},(e,t)=>{if(t===window.google.maps.DirectionsStatus.OK&&e.routes.length>0){let t=e.routes[0],n=e.routes[0].legs[0].distance.value;for(let i=1;i<e.routes.length;i++){const r=e.routes[i].legs[0].distance.value;r<n&&(n=r,t=e.routes[i])}const r=Ne(Ne({},e),{},{routes:[t]});p.setDirections(r);const a=t.legs[0],s=a.distance.value/1e3,o=s/(a.duration.value/3600),l={distanceText:a.distance.text,distanceValue:s,durationText:a.duration.text,durationValue:Math.ceil(a.duration.value/60),averageSpeed:Math.round(o),isShortestRoute:e.routes.length>1,totalRoutes:e.routes.length,googleMapsUsed:!0};i&&i(l),u({distance:{text:a.distance.text,value:a.distance.value},duration:{text:a.duration.text,value:a.duration.value},averageSpeed:Math.round(o),isShortestRoute:e.routes.length>1,totalRoutes:e.routes.length,googleMapsUsed:!0})}else console.warn("\u26a0\ufe0f Google Directions failed, using fallback"),w()})}catch(Bx){console.error("\u274c Error in Google Maps route calculation:",Bx),w()}},N=(e,t,n,r)=>{const a=(n-e)*Math.PI/180,s=(r-t)*Math.PI/180,i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2),o=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return Math.round(6371*o*100)/100};return m?(0,Jn.jsx)("div",{className:"route-map-container loading",children:(0,Jn.jsxs)("div",{className:"route-map-loading",children:["\ud83d\uddfa\ufe0f Initializing Philippines route map...",(0,Jn.jsx)("div",{className:"loading-spinner"})]})}):h&&!d?(0,Jn.jsx)("div",{className:"route-map-container",children:(0,Jn.jsxs)("div",{className:"route-map-error",children:[(0,Jn.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsxs)("div",{className:"error-text",children:[(0,Jn.jsx)("h4",{children:"Map Service Unavailable"}),(0,Jn.jsx)("p",{children:"Unable to load map, but route calculation is still working."}),(0,Jn.jsx)("small",{children:"Using GPS-based distance calculation for Philippines routes."})]})]})}):n&&r?(0,Jn.jsxs)("div",{className:"route-map-container flex flex-col h-full w-full",children:[(0,Jn.jsx)("div",{className:"relative w-full h-[400px] min-h-[400px] rounded-xl overflow-hidden shadow-inner border border-gray-200",children:v&&!h?(0,Jn.jsx)("div",{className:"route-map w-full h-full absolute inset-0",ref:o}):(0,Jn.jsxs)("div",{className:"route-fallback-display w-full h-full bg-slate-50 flex flex-col items-center justify-center p-6",children:[(0,Jn.jsxs)("div",{className:"fallback-header text-center mb-6",children:[(0,Jn.jsx)("h4",{className:"text-lg font-bold text-gray-700",children:"\ud83d\udccd Route Preview"}),(0,Jn.jsx)("p",{className:"text-sm text-gray-500",children:"Showing estimated route via GPS"})]}),(0,Jn.jsxs)("div",{className:"fallback-route w-full max-w-md bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Jn.jsxs)("div",{className:"route-point pickup flex items-center gap-3 mb-4",children:[(0,Jn.jsx)("div",{className:"w-8 h-8 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center font-bold shrink-0",children:"P"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:a})]}),(0,Jn.jsx)("div",{className:"pl-4 ml-4 border-l-2 border-dashed border-gray-300 h-8"}),(0,Jn.jsxs)("div",{className:"route-point dropoff flex items-center gap-3 mt-0",children:[(0,Jn.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center font-bold shrink-0",children:"D"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:s})]})]})]})}),d&&(0,Jn.jsxs)("div",{className:"route-details mt-6",children:[(0,Jn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Jn.jsxs)("h4",{className:"text-lg font-bold text-blue-900 flex items-center gap-2",children:[(0,Jn.jsx)("span",{children:"\ud83d\ude9b"}),d.googleMapsUsed?"Optimal Delivery Route":"Estimated Route"]}),(0,Jn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat(d.googleMapsUsed?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"),children:d.googleMapsUsed?"Verified":"Estimate"})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Jn.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-4 transition-all hover:shadow-md hover:border-blue-100",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center text-xl shrink-0",children:(0,Jn.jsx)("span",{role:"img","aria-label":"distance",children:"\ud83d\udccf"})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider m-0 mb-1",children:"Total Distance"}),(0,Jn.jsx)("p",{className:"text-xl font-bold text-gray-800 m-0",children:d.distance.text})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-4 transition-all hover:shadow-md hover:border-emerald-100",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-lg bg-emerald-50 text-emerald-600 flex items-center justify-center text-xl shrink-0",children:(0,Jn.jsx)("span",{role:"img","aria-label":"time",children:"\u23f1\ufe0f"})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider m-0 mb-1",children:"Est. Travel Time"}),(0,Jn.jsx)("p",{className:"text-xl font-bold text-gray-800 m-0",children:d.duration.text})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-4 transition-all hover:shadow-md hover:border-purple-100",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-lg bg-purple-50 text-purple-600 flex items-center justify-center text-xl shrink-0",children:(0,Jn.jsx)("span",{role:"img","aria-label":"speed",children:"\ud83d\ude80"})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider m-0 mb-1",children:"Avg. Speed"}),(0,Jn.jsxs)("p",{className:"text-xl font-bold text-gray-800 m-0",children:[d.averageSpeed," km/h"]})]})]})]}),(0,Jn.jsxs)("div",{className:"mt-4 flex flex-col gap-2",children:[d.isEstimate&&(0,Jn.jsxs)("div",{className:"text-xs text-amber-600 bg-amber-50 px-3 py-2 rounded-lg border border-amber-100 flex items-center gap-2",children:[(0,Jn.jsx)("span",{children:"\u2139\ufe0f"})," Note: This is a GPS-based estimate pending real-time traffic data."]}),d.isShortestRoute&&(0,Jn.jsxs)("div",{className:"text-xs text-emerald-600 bg-emerald-50 px-3 py-2 rounded-lg border border-emerald-100 flex items-center gap-2",children:[(0,Jn.jsx)("span",{children:"\u2705"})," Smart Route System: Automatically selected the shortest path from ",d.totalRoutes," alternatives."]})]})]})]}):(0,Jn.jsx)("div",{className:"route-map-container",children:(0,Jn.jsx)("div",{className:"route-missing-coordinates",children:"\ud83d\udccd Please select both pickup and dropoff locations within the Philippines to view the shortest route."})})}),Hm=Wm;class Vm{constructor(){this.modalNode=null,this.mapNode=null,this.marker=null,this.map=null,this.autocomplete=null,this.geocoder=null,this.onSelectCallback=null,this.locationType="pickup",this.initialAddress="",this.savedLocations=[],this.selectedCoordinates=null,this.selectedAddress="",this.usedLocationIds=new Set,this.searchTimeout=null,this.searchResults=[],this.placesApiAvailable=!1}async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.modalNode&&this.close(),this.onSelectCallback=e.onSelectCallback||(()=>{}),this.locationType=e.locationType||"pickup",this.initialAddress=e.initialAddress||"",this.title=e.title||"Select ".concat(this.locationType," Location"),e.usedLocationIds?this.usedLocationIds=new Set(e.usedLocationIds):this.usedLocationIds=new Set(Vm.usedLocationIds),e.otherSelectedLocation&&(this.otherSelectedLocation=e.otherSelectedLocation),await this.loadSavedLocations(),this.createModal(),window.google&&window.google.maps?this.initMap():(console.error("Google Maps API not loaded"),this.showFallbackUI()),this.show(),this}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.init({onSelectCallback:e.onSelect,locationType:e.locationType,initialAddress:(e.initialLocation,""),title:e.title,usedLocationIds:e.usedLocationIds,otherSelectedLocation:e.otherSelectedLocation})}async loadSavedLocations(){try{const e=localStorage.getItem("token");if(!e)return void(this.savedLocations=[]);const t=await fetch("/api/client/pinned-locations",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();this.savedLocations=e.locations||[],console.log("\ud83d\udccd Loaded ".concat(this.savedLocations.length," saved locations"))}else this.savedLocations=[]}catch(Bx){console.error("Error loading saved locations:",Bx),this.savedLocations=[]}}createModal(){this.modalNode=document.createElement("div"),this.modalNode.className="enhanced-map-modal",this.modalNode.innerHTML='\n      <div class="enhanced-map-content">\n        <div class="enhanced-map-header">\n          <h2>'.concat(this.title,'</h2>\n          <button type="button" class="enhanced-map-close">&times;</button>\n        </div>\n        <div class="enhanced-map-body">\n          <div class="enhanced-map-sidebar">\n            <div class="saved-locations-section">\n              <h3>\ud83d\udccd Saved Locations</h3>\n              <div class="saved-locations-list">\n                ').concat(this.renderSavedLocations(),'\n              </div>\n            </div>\n          </div>\n          <div class="enhanced-map-main">\n            <div class="enhanced-map-search">\n              <input type="text" placeholder="Search for ').concat(this.locationType,' location..." class="enhanced-map-input"/>\n              <div class="enhanced-map-search-icon">\ud83d\udd0d</div>\n            </div>\n            <div class="enhanced-map-container"></div>\n            <div class="enhanced-map-footer">\n              <div class="selected-location-info">\n                <span class="selected-address">No location selected</span>\n              </div>\n              <button type="button" class="enhanced-map-confirm" disabled>\n                Confirm ').concat(this.locationType," Location\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    "),document.body.appendChild(this.modalNode),this.mapNode=this.modalNode.querySelector(".enhanced-map-container"),this.searchInput=this.modalNode.querySelector(".enhanced-map-input"),this.confirmBtn=this.modalNode.querySelector(".enhanced-map-confirm"),this.closeBtn=this.modalNode.querySelector(".enhanced-map-close"),this.selectedAddressSpan=this.modalNode.querySelector(".selected-address"),this.closeBtn.addEventListener("click",()=>this.close()),this.confirmBtn.addEventListener("click",()=>this.confirmLocation()),this.initialAddress&&(this.searchInput.value=this.initialAddress,this.selectedAddress=this.initialAddress,this.updateSelectedLocationInfo()),this.setupSavedLocationHandlers(),this.addStyles()}renderSavedLocations(){return 0===this.savedLocations.length?'\n        <div class="no-saved-locations">\n          <p>No saved locations yet</p>\n          <small>Save frequently used locations for quick access</small>\n        </div>\n      ':this.savedLocations.map(e=>{const t=this.usedLocationIds.has(e.id),n=this.otherSelectedLocation&&(e.address===this.otherSelectedLocation||e.coordinates&&this.otherSelectedLocation.coordinates&&e.coordinates.lat===this.otherSelectedLocation.coordinates.lat&&e.coordinates.lng===this.otherSelectedLocation.coordinates.lng),r=t||n,a=this.selectedAddress===e.address,s=r?"disabled":"",i=r?"disabled":"",o=r?"0.5":"1";let l=e.address||"No address";return t||n?l="Already selected for "+("pickup"===this.locationType?"delivery":"pickup"):a&&(l="Click again to deselect this location"),'\n        <button class="saved-location-btn '.concat(s,'" \n                data-location-id="').concat(e.id,'" \n                title="').concat(l,'"\n                ').concat(i,'\n                style="opacity: ').concat(o,'">\n          <span class="location-icon">\ud83d\udccd</span>\n          <span class="location-name">').concat(e.name||"Unnamed Location","</span>\n          ").concat(r?'<span class="used-badge">Used</span>':"","\n        </button>\n      ")}).join("")}setupSavedLocationHandlers(){this.modalNode.querySelectorAll(".saved-location-btn:not(.disabled)").forEach(e=>{const t=e.dataset.locationId;e.addEventListener("click",()=>{const e=this.savedLocations.find(e=>e.id===t);e&&this.selectSavedLocation(e)})})}selectSavedLocation(e){var t;console.log("\ud83d\udccd Selected saved location:",e.name);if(this.selectedAddress===e.address)this.deselectLocation();else{if(this.selectedAddress=e.address,this.selectedCoordinates=e.coordinates,this.selectedLocationData=e,this.searchInput.value=e.address,this.map&&e.coordinates){const t=new google.maps.LatLng(e.coordinates.lat,e.coordinates.lng);this.marker?this.marker.setPosition(t):(this.marker=new google.maps.Marker({position:t,map:this.map,draggable:!0,title:e.name}),this.marker.addListener("dragend",()=>{this.handleMarkerDragEnd()})),this.map.setCenter(t),this.map.setZoom(16)}this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!1,this.modalNode.querySelectorAll(".saved-location-btn").forEach(e=>{e.classList.remove("selected")}),null===(t=this.modalNode.querySelector('[data-location-id="'.concat(e.id,'"]')))||void 0===t||t.classList.add("selected")}}deselectLocation(){console.log("\ud83d\udccd Deselecting location");const e=this.savedLocations.find(e=>e.address===this.selectedAddress||e.coordinates&&this.selectedCoordinates&&e.coordinates.lat===this.selectedCoordinates.lat&&e.coordinates.lng===this.selectedCoordinates.lng);if(this.selectedAddress="",this.selectedCoordinates=null,this.selectedLocationData=null,this.searchInput&&(this.searchInput.value=""),this.marker&&(this.marker.setMap(null),this.marker=null),this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!0,this.modalNode.querySelectorAll(".saved-location-btn").forEach(e=>{e.classList.remove("selected")}),this.map){const e={lat:14.5995,lng:120.9842};this.map.setCenter(e),this.map.setZoom(13)}e&&(Vm.usedLocationIds.delete(e.id),console.log("\ud83d\udccd Location removed from used locations:",e.name)),this.refreshModal()}clearSavedLocationSelection(){this.selectedLocationData&&this.selectedLocationData.id&&(console.log("\ud83d\udd04 Clearing saved location selection, making it available again:",this.selectedLocationData.name),Vm.usedLocationIds.delete(this.selectedLocationData.id)),this.selectedLocationData=null,this.modalNode.querySelectorAll(".saved-location-btn").forEach(e=>{e.classList.remove("selected")}),this.refreshModal()}refreshModal(){const e=this.modalNode.querySelector(".saved-locations-list");e&&(e.innerHTML=this.renderSavedLocations(),this.setupSavedLocationHandlers())}async recordLocationUsage(e){try{const t=localStorage.getItem("token");if(!t)return;await fetch("/api/client/pinned-locations/".concat(e,"/use"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})}catch(Bx){console.error("Error recording location usage:",Bx)}}updateSelectedLocationInfo(){this.selectedAddress?(this.selectedAddressSpan.textContent=this.selectedAddress,this.selectedAddressSpan.classList.add("has-selection")):(this.selectedAddressSpan.textContent="No location selected",this.selectedAddressSpan.classList.remove("has-selection"))}initMap(){this.map=new google.maps.Map(this.mapNode,{zoom:13,center:{lat:14.5995,lng:120.9842},mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_RIGHT,mapTypeIds:["roadmap","satellite","hybrid","terrain"]},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},tilt:45,mapId:null,styles:[]});try{if(!google.maps.places||!google.maps.places.Autocomplete)throw new Error("Places API not available");this.autocomplete=new google.maps.places.Autocomplete(this.searchInput,{types:["address"],componentRestrictions:{country:"ph"}}),this.autocomplete.addListener("place_changed",()=>{this.handlePlaceChanged()}),this.placesApiAvailable=!0,console.log("\u2705 Places API Autocomplete enabled")}catch(Bx){console.warn("\u26a0\ufe0f Places API not available, using manual search fallback:",Bx.message),this.placesApiAvailable=!1,this.setupManualSearch()}this.searchInput.addEventListener("input",e=>{e.target.value!==this.selectedAddress&&this.clearSavedLocationSelection(),this.placesApiAvailable||this.handleManualSearch(e.target.value)}),this.map.addListener("click",e=>{this.handleMapClick(e)}),this.initialAddress&&this.initialAddress.trim()&&this.geocodeAddress(this.initialAddress)}setupManualSearch(){this.searchDropdown=document.createElement("div"),this.searchDropdown.className="manual-search-dropdown",this.searchDropdown.style.display="none",this.searchInput.parentElement.appendChild(this.searchDropdown),document.addEventListener("click",e=>{this.searchInput.contains(e.target)||this.searchDropdown.contains(e.target)||(this.searchDropdown.style.display="none")})}handleManualSearch(e){this.searchTimeout&&clearTimeout(this.searchTimeout),!e||e.trim().length<3?this.searchDropdown.style.display="none":this.searchTimeout=setTimeout(()=>{this.performGeocodingSearch(e)},500)}async performGeocodingSearch(e){this.geocoder||(this.geocoder=new google.maps.Geocoder);try{const t=e.includes("Philippines")?e:"".concat(e,", Philippines");this.geocoder.geocode({address:t,componentRestrictions:{country:"PH"}},(e,t)=>{"OK"===t&&e&&e.length>0?this.displaySearchResults(e.slice(0,5)):this.displaySearchResults([])})}catch(Bx){console.error("Geocoding search error:",Bx),this.displaySearchResults([])}}displaySearchResults(e){if(this.searchDropdown){if(0===e.length)return this.searchDropdown.innerHTML='<div class="search-result-item no-results">No locations found</div>',void(this.searchDropdown.style.display="block");this.searchDropdown.innerHTML=e.map((e,t)=>'\n      <div class="search-result-item" data-index="'.concat(t,'">\n        <div class="result-icon">\ud83d\udccd</div>\n        <div class="result-text">').concat(e.formatted_address,"</div>\n      </div>\n    ")).join(""),this.searchDropdown.style.display="block",this.searchDropdown.querySelectorAll(".search-result-item").forEach((t,n)=>{t.addEventListener("click",()=>{this.selectSearchResult(e[n])})})}}selectSearchResult(e){this.selectedCoordinates={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},this.selectedAddress=e.formatted_address,this.searchInput.value=e.formatted_address,this.updateMapMarker(e.geometry.location),this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!1,this.searchDropdown.style.display="none",this.clearSavedLocationSelection()}handlePlaceChanged(){const e=this.autocomplete.getPlace();e.geometry?(this.selectedCoordinates={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},this.selectedAddress=e.formatted_address||this.searchInput.value,this.updateMapMarker(e.geometry.location),this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!1,this.clearSavedLocationSelection()):console.warn("Place has no geometry")}handleMapClick(e){this.selectedCoordinates={lat:e.latLng.lat(),lng:e.latLng.lng()},this.updateMapMarker(e.latLng),this.reverseGeocode(e.latLng),this.clearSavedLocationSelection()}handleMarkerDragEnd(){if(this.marker){const e=this.marker.getPosition();this.selectedCoordinates={lat:e.lat(),lng:e.lng()},this.reverseGeocode(e),this.clearSavedLocationSelection()}}updateMapMarker(e){this.marker?this.marker.setPosition(e):(this.marker=new google.maps.Marker({position:e,map:this.map,draggable:!0}),this.marker.addListener("dragend",()=>{this.handleMarkerDragEnd()})),this.map.setCenter(e),this.map.setZoom(16)}reverseGeocode(e){this.geocoder||(this.geocoder=new google.maps.Geocoder),this.geocoder.geocode({location:e},(e,t)=>{"OK"===t&&e[0]&&(this.selectedAddress=e[0].formatted_address,this.searchInput.value=this.selectedAddress,this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!1)})}geocodeAddress(e){this.geocoder||(this.geocoder=new google.maps.Geocoder),this.geocoder.geocode({address:e},(e,t)=>{if("OK"===t&&e[0]){const t=e[0].geometry.location;this.selectedCoordinates={lat:t.lat(),lng:t.lng()},this.selectedAddress=e[0].formatted_address,this.updateMapMarker(t),this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!1}})}confirmLocation(){if(this.selectedAddress&&this.onSelectCallback){console.log("\ud83d\udccd Confirming location:",this.selectedAddress,this.selectedCoordinates);const e=this.selectedLocationData||this.savedLocations.find(e=>e.address===this.selectedAddress||e.coordinates&&e.coordinates.lat===this.selectedCoordinates.lat&&e.coordinates.lng===this.selectedCoordinates.lng);e&&Vm.usedLocationIds.add(e.id),this.onSelectCallback(this.selectedAddress,this.selectedCoordinates,e),this.close()}}static markLocationAsUsed(e){Vm.usedLocationIds.add(e)}static clearUsedLocations(){Vm.usedLocationIds.clear()}clearUsedLocations(){Vm.usedLocationIds.clear()}static getUsedLocations(){return Array.from(Vm.usedLocationIds)}static getLocationIdByCoordinates(e){return null}show(){return this.modalNode&&(this.modalNode.style.display="flex",setTimeout(()=>{this.searchInput&&this.searchInput.focus()},100)),this}close(){this.modalNode&&(document.body.removeChild(this.modalNode),this.modalNode=null,this.map=null,this.marker=null,this.autocomplete=null,this.searchDropdown=null,this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.otherSelectedLocation=null,this.selectedLocationData=null,this.selectedAddress="",this.selectedCoordinates=null)}showFallbackUI(){this.mapNode.innerHTML='\n      <div class="enhanced-map-fallback">\n        <div class="enhanced-map-fallback-icon">\ud83d\udccd</div>\n        <h3>Map could not be loaded</h3>\n        <p>Please enter your address manually or select from saved locations:</p>\n        <input type="text" class="enhanced-map-manual-input" value="'.concat(this.initialAddress,'" placeholder="Enter address"/>\n      </div>\n    ');const e=this.mapNode.querySelector(".enhanced-map-manual-input");e&&e.addEventListener("input",e=>{this.selectedAddress=e.target.value,this.updateSelectedLocationInfo(),this.confirmBtn.disabled=!this.selectedAddress})}addStyles(){if(document.querySelector("#enhanced-map-modal-styles"))return;const e=document.createElement("style");e.id="enhanced-map-modal-styles",e.textContent="\n      .enhanced-map-modal {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0,0,0,0.6);\n        backdrop-filter: blur(4px);\n        z-index: 10000;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 20px;\n      }\n      \n      .enhanced-map-content {\n        background-color: white;\n        border-radius: 16px;\n        width: 100%;\n        max-width: 1200px;\n        height: 85vh;\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n      }\n      \n      .enhanced-map-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 20px 24px;\n        border-bottom: 1px solid #e2e8f0;\n        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n      }\n      \n      .enhanced-map-header h2 {\n        margin: 0;\n        font-size: 1.5rem;\n        font-weight: 700;\n        color: #1e293b;\n      }\n      \n      .enhanced-map-close {\n        width: 36px;\n        height: 36px;\n        background: #f1f5f9;\n        border: none;\n        border-radius: 8px;\n        font-size: 20px;\n        cursor: pointer;\n        color: #64748b;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.3s ease;\n      }\n      \n      .enhanced-map-close:hover {\n        background: #e2e8f0;\n        color: #475569;\n      }\n      \n      .enhanced-map-body {\n        flex: 1;\n        display: flex;\n        overflow: hidden;\n      }\n      \n      .enhanced-map-sidebar {\n        width: 280px;\n        border-right: 1px solid #e2e8f0;\n        background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);\n        overflow-y: auto;\n        padding: 0;\n      }\n      \n      .saved-locations-section {\n        padding: 20px 16px;\n      }\n      \n      .saved-locations-section h3 {\n        margin: 0 0 20px 0;\n        font-size: 1.1rem;\n        font-weight: 700;\n        color: #0f172a;\n        text-align: center;\n        padding: 14px;\n        background: white;\n        border-radius: 10px;\n        border: 1px solid #f1f5f9;\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n      }\n      \n      .no-saved-locations {\n        text-align: center;\n        padding: 40px 20px;\n        color: #64748b;\n      }\n      \n      .no-saved-locations p {\n        margin: 0 0 8px 0;\n        font-weight: 500;\n      }\n      \n      .no-saved-locations small {\n        font-size: 0.875rem;\n        color: #94a3b8;\n      }\n      \n\n      \n      .saved-location-btn {\n        width: 100%;\n        padding: 12px 16px;\n        margin-bottom: 8px;\n        background: white;\n        border: 2px solid #e2e8f0;\n        border-radius: 10px;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n        text-align: left;\n        font-family: inherit;\n        position: relative;\n        overflow: hidden;\n      }\n      \n      .saved-location-btn:hover {\n        border-color: #3b82f6;\n        background: #f8fafc;\n        transform: translateY(-1px);\n        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);\n      }\n      \n             .saved-location-btn.selected {\n         border-color: #3b82f6;\n         background: #eff6ff;\n         box-shadow: 0 4px 16px rgba(59, 130, 246, 0.15);\n         position: relative;\n       }\n       \n       .saved-location-btn.selected::before {\n         content: '';\n         position: absolute;\n         left: 0;\n         top: 0;\n         bottom: 0;\n         width: 4px;\n         background: #3b82f6;\n       }\n       \n       .saved-location-btn.selected::after {\n         content: '\u2713';\n         position: absolute;\n         right: 12px;\n         top: 50%;\n         transform: translateY(-50%);\n         background: #3b82f6;\n         color: white;\n         width: 20px;\n         height: 20px;\n         border-radius: 50%;\n         display: flex;\n         align-items: center;\n         justify-content: center;\n         font-size: 12px;\n         font-weight: bold;\n       }\n      \n      .saved-location-btn.disabled {\n        cursor: not-allowed;\n        opacity: 0.5;\n        background: #f8fafc;\n        border-color: #d1d5db;\n      }\n      \n      .saved-location-btn.disabled:hover {\n        transform: none;\n        box-shadow: none;\n        border-color: #d1d5db;\n        background: #f8fafc;\n      }\n      \n      .used-badge {\n        background: #ef4444;\n        color: white;\n        font-size: 0.7rem;\n        padding: 2px 6px;\n        border-radius: 8px;\n        font-weight: 600;\n        margin-left: auto;\n      }\n      \n      .location-icon {\n        font-size: 1rem;\n        color: #64748b;\n        flex-shrink: 0;\n      }\n      \n      .location-name {\n        font-weight: 600;\n        color: #1e293b;\n        font-size: 0.9rem;\n        line-height: 1.2;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        flex: 1;\n      }\n      \n      .enhanced-map-main {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n      }\n      \n      .enhanced-map-search {\n        padding: 20px;\n        border-bottom: 1px solid #e2e8f0;\n        position: relative;\n      }\n      \n      .manual-search-dropdown {\n        position: absolute;\n        top: 100%;\n        left: 20px;\n        right: 20px;\n        background: white;\n        border: 2px solid #3b82f6;\n        border-top: none;\n        border-radius: 0 0 8px 8px;\n        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n        z-index: 1000;\n        max-height: 300px;\n        overflow-y: auto;\n      }\n      \n      .search-result-item {\n        padding: 12px 16px;\n        cursor: pointer;\n        border-bottom: 1px solid #e2e8f0;\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        transition: background-color 0.2s ease;\n      }\n      \n      .search-result-item:last-child {\n        border-bottom: none;\n      }\n      \n      .search-result-item:hover {\n        background-color: #eff6ff;\n      }\n      \n      .search-result-item.no-results {\n        color: #64748b;\n        font-style: italic;\n        cursor: default;\n        justify-content: center;\n      }\n      \n      .search-result-item.no-results:hover {\n        background-color: white;\n      }\n      \n      .result-icon {\n        font-size: 1.2rem;\n        flex-shrink: 0;\n      }\n      \n      .result-text {\n        flex: 1;\n        font-size: 0.9rem;\n        color: #1e293b;\n        line-height: 1.4;\n      }\n      \n      .enhanced-map-input {\n        width: 100%;\n        padding: 12px 40px 12px 16px;\n        border: 2px solid #e2e8f0;\n        border-radius: 8px;\n        font-size: 1rem;\n        background: #f8fafc;\n        transition: all 0.3s ease;\n      }\n      \n      .enhanced-map-input:focus {\n        outline: none;\n        border-color: #3b82f6;\n        background: white;\n        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n      }\n      \n      .enhanced-map-search-icon {\n        position: absolute;\n        right: 32px;\n        top: 50%;\n        transform: translateY(-50%);\n        color: #64748b;\n        pointer-events: none;\n      }\n      \n      .enhanced-map-container {\n        flex: 1;\n        position: relative;\n        background: #f1f5f9;\n      }\n      \n      .enhanced-map-footer {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 20px;\n        border-top: 1px solid #e2e8f0;\n        background: #f8fafc;\n      }\n      \n      .selected-location-info {\n        flex: 1;\n        margin-right: 20px;\n      }\n      \n      .selected-address {\n        font-size: 0.9rem;\n        color: #64748b;\n        font-style: italic;\n      }\n      \n      .selected-address.has-selection {\n        color: #374151;\n        font-style: normal;\n        font-weight: 500;\n      }\n      \n      .enhanced-map-confirm {\n        padding: 12px 24px;\n        background: linear-gradient(135deg, #10b981, #059669);\n        color: white;\n        border: none;\n        border-radius: 8px;\n        font-weight: 600;\n        font-size: 1rem;\n        cursor: pointer;\n        transition: all 0.3s ease;\n      }\n      \n      .enhanced-map-confirm:disabled {\n        background: #d1d5db;\n        cursor: not-allowed;\n        transform: none;\n      }\n      \n      .enhanced-map-confirm:not(:disabled):hover {\n        transform: translateY(-1px);\n        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n      }\n      \n      .enhanced-map-fallback {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        padding: 40px;\n        text-align: center;\n        color: #64748b;\n      }\n      \n      .enhanced-map-fallback-icon {\n        font-size: 4rem;\n        margin-bottom: 20px;\n      }\n      \n      .enhanced-map-fallback h3 {\n        margin-bottom: 12px;\n        color: #374151;\n      }\n      \n      .enhanced-map-manual-input {\n        width: 100%;\n        max-width: 400px;\n        padding: 12px 16px;\n        border: 2px solid #e2e8f0;\n        border-radius: 8px;\n        font-size: 1rem;\n        margin-top: 16px;\n      }\n      \n      /* Fix for Google Maps autocomplete dropdown to appear above modal */\n      .pac-container {\n        z-index: 10001 !important;\n        border-radius: 8px;\n        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);\n        border: 1px solid #e2e8f0;\n        margin-top: 4px;\n      }\n      \n      .pac-item {\n        padding: 10px 12px;\n        cursor: pointer;\n        border-top: 1px solid #e2e8f0;\n      }\n      \n      .pac-item:first-child {\n        border-top: none;\n      }\n      \n      .pac-item:hover {\n        background-color: #f8fafc;\n      }\n      \n      .pac-item-selected {\n        background-color: #eff6ff;\n      }\n      \n      @media (max-width: 768px) {\n        .enhanced-map-modal {\n          padding: 10px;\n        }\n        \n        .enhanced-map-content {\n          height: 95vh;\n        }\n        \n        .enhanced-map-body {\n          flex-direction: column;\n        }\n        \n        .enhanced-map-sidebar {\n          width: 100%;\n          max-height: 200px;\n          border-right: none;\n          border-bottom: 1px solid #e2e8f0;\n        }\n        \n        .enhanced-map-footer {\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .selected-location-info {\n          margin-right: 0;\n          text-align: center;\n        }\n      }\n    ",document.head.appendChild(e)}}Vm.usedLocationIds=new Set;const Gm=new Vm,Km=()=>{const[e,n]=(0,t.useState)({isOpen:!1,title:"",message:"",type:"warning",confirmText:"OK",cancelText:null,onConfirm:null,size:"medium"}),r=(0,t.useCallback)(e=>{n({isOpen:!0,title:e.title||"Notification",message:e.message||"",type:e.type||"warning",confirmText:e.confirmText||"OK",cancelText:e.cancelText||null,onConfirm:e.onConfirm||null,size:e.size||"medium"})},[]),a=(0,t.useCallback)(()=>{n(e=>Ne(Ne({},e),{},{isOpen:!1}))},[]),s=(0,t.useCallback)(function(e,t){r(Ne({title:e,message:t,type:"warning"},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[r]),i=(0,t.useCallback)(function(e,t){r(Ne({title:e,message:t,type:"error"},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[r]),o=(0,t.useCallback)(function(e,t){r(Ne({title:e,message:t,type:"success"},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[r]),l=(0,t.useCallback)(function(e,t){r(Ne({title:e,message:t,type:"info"},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},[r]),c=(0,t.useCallback)(function(e,t,n){r(Ne({title:e,message:t,type:"warning",confirmText:"Confirm",cancelText:"Cancel",onConfirm:n},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}))},[r]);return{modalState:e,showModal:r,hideModal:a,showWarning:s,showError:i,showSuccess:o,showInfo:l,showConfirm:c}};const Ym=e=>{let{isVisible:n,onClose:r,type:a="info",title:s,message:i,duration:o=5e3,actionButton:l=null,icon:c=null}=e;const[d,u]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(n&&(u(!0),o>0)){const e=setTimeout(()=>{h()},o);return()=>clearTimeout(e)}},[n,o]);const h=()=>{u(!1),setTimeout(()=>{r()},300)};return n?(0,Jn.jsxs)("div",{className:"modern-toast modern-toast-".concat(a," ").concat(d?"toast-enter":"toast-exit"),children:[(0,Jn.jsxs)("div",{className:"toast-content",children:[(0,Jn.jsx)("div",{className:"toast-icon-wrapper",children:(()=>{if(c)return c;switch(a){case"success":return(0,Jn.jsx)("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Jn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return(0,Jn.jsx)("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Jn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return(0,Jn.jsx)("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Jn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"delivery":return(0,Jn.jsx)("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Jn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M9 1v6m6-6v6"})});default:return(0,Jn.jsx)("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Jn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})()}),(0,Jn.jsxs)("div",{className:"toast-text",children:[s&&(0,Jn.jsx)("div",{className:"toast-title",children:s}),(0,Jn.jsx)("div",{className:"toast-message",children:i})]}),l&&(0,Jn.jsx)("div",{className:"toast-action",children:l}),(0,Jn.jsx)("button",{className:"toast-close",onClick:h,"aria-label":"Close notification",children:(0,Jn.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Jn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Jn.jsx)("div",{className:"toast-progress",children:(0,Jn.jsx)("div",{className:"toast-progress-bar",style:{animationDuration:"".concat(o,"ms"),animationPlayState:d?"running":"paused"}})})]}):null},$m=e=>{let{toasts:t,onRemoveToast:n}=e;return Array.isArray(t)?(0,Jn.jsx)("div",{className:"modern-toast-container",children:t.map(e=>(0,Jn.jsx)(Ym,{isVisible:e.isVisible,onClose:()=>n(e.id),type:e.type,title:e.title,message:e.message,duration:e.duration,actionButton:e.actionButton,icon:e.icon},e.id))}):(console.warn("ModernToastContainer: toasts prop is not an array:",t),null)},Jm=Ym,Xm=e=>{var n;let{onBillingDataUpdate:r}=e;const[a,s]=(0,t.useState)(null),[i,o]=(0,t.useState)({active:0,completed:0}),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)([]),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[v,b]=(0,t.useState)({referenceNumber:"",notes:""}),[y,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)({show:!1,type:"",message:""}),k=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e||0),S=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",C=()=>((null===a||void 0===a?void 0:a.payments)||[]).filter(e=>h.includes(e.id||e.deliveryId)).reduce((e,t)=>e+(t.amount||0),0),_=async()=>{try{var e;c(!0),u(null);const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required - Please log in again");if(!t.includes("."))throw new Error("Invalid token format - Please log in again");const n=(()=>{try{var e;if(null!==(e=window)&&void 0!==e&&e.authUser&&(window.authUser.clientId||window.authUser.id))return window.authUser.clientId||window.authUser.id;if("undefined"!==typeof Storage&&"undefined"!==typeof localStorage){const e=localStorage.getItem("userData")||localStorage.getItem("currentUser");if(e){const t=JSON.parse(e);return t.clientId||t.id}const t=localStorage.getItem("token");if(t){const e=JSON.parse(atob(t.split(".")[1]));return e.clientId||e.id||e.sub}}}catch(Oq){console.warn("Unable to resolve clientId",Oq)}return null})();if(console.log("\ud83d\udd0d Resolved client ID:",n),!n)throw console.error("\u274c Failed to resolve client ID from any source"),console.log("\ud83d\udd0d Available localStorage keys:",Object.keys(localStorage)),console.log("\ud83d\udd0d Token payload preview:",t?t.split(".")[1].substring(0,50)+"...":"No token"),new Error("Unable to identify your account - Please refresh the page or log in again");Gn.defaults.headers.common.Authorization="Bearer ".concat(t),console.log("\ud83d\udd04 Fetching billing data for client:",n);const a=await Gn.get("/api/payments/client/".concat(n),{headers:{Authorization:"Bearer ".concat(t),"x-client-id":n},timeout:1e4}),i=(null===(e=a.data)||void 0===e?void 0:e.data)||a.data||{},l=i.payments||[];console.log("\u2705 Billing data received:",i);const d={totalAmountDue:i.totalAmountDue||0,totalAmountPaid:i.totalAmountPaid||0,overdueAmount:i.overdueAmount||0,overduePayments:i.overduePayments||0,pendingPayments:i.pendingPayments||0,paidPayments:i.paidPayments||0,payments:l,canBookTrucks:!1!==i.canBookTrucks};s(d),r&&r(d);try{const e=(await Gn.get("/api/clients/deliveries")).data||[],t=e.filter(e=>"pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus).length,n=e.filter(e=>"completed"===e.DeliveryStatus).length;o({active:t,completed:n})}catch(h){console.error("Error fetching delivery data:",h),o({active:0,completed:0})}}catch(p){var t,n,a,i;console.error("\u274c Error fetching billing data:",p);let e="Failed to load billing information";if("ECONNREFUSED"===p.code||p.message.includes("Network Error"))e="Server connection failed - Please ensure the backend server is running";else if(401===(null===(t=p.response)||void 0===t?void 0:t.status))e="Authentication expired - Please log out and log in again";else if(403===(null===(n=p.response)||void 0===n?void 0:n.status))e="Access denied - Please check your account permissions";else if(404===(null===(a=p.response)||void 0===a?void 0:a.status))e="Payment service not found - Please contact support";else if((null===(i=p.response)||void 0===i?void 0:i.status)>=500)e="Server error - Please try again later or contact support";else if(p.message.includes("timeout"))e="Request timeout - Please check your internet connection and try again";else{var l,d;e=(null===(l=p.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)||p.message||e}u(e)}finally{c(!1)}};if((0,t.useEffect)(()=>{_()},[]),l&&l)return(0,Jn.jsx)("div",{className:"w-full bg-white rounded-xl shadow-lg border border-amber-400/20 p-8 min-h-[400px]",children:(0,Jn.jsx)(Os,{message:"Loading billing information..."})});if(d)return(0,Jn.jsx)("div",{className:"w-full bg-white rounded-xl shadow-lg border border-amber-400/20 p-8 min-h-[400px]",children:(0,Jn.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center text-red-500",children:[(0,Jn.jsx)(Ha,{className:"text-5xl mb-4"}),(0,Jn.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Unable to load billing information"}),(0,Jn.jsx)("p",{className:"text-gray-600 max-w-md mx-auto mb-6",children:d}),!1,(0,Jn.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[(0,Jn.jsxs)("button",{onClick:_,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg transition-all",children:[(0,Jn.jsx)(cs,{})," Try Again"]}),(0,Jn.jsxs)("button",{onClick:()=>{localStorage.clear(),window.location.href="/login"},className:"flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all border border-gray-200",children:[(0,Jn.jsx)(fs,{})," Clear Session & Login"]}),(0,Jn.jsxs)("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 px-6 py-3 bg-transparent border-2 border-amber-400 text-amber-500 rounded-lg hover:bg-amber-50 transition-all",children:[(0,Jn.jsx)(ys,{})," Refresh Page"]})]})]})});const P=(null===a||void 0===a?void 0:a.totalAmountDue)||0,A=(null===a||void 0===a?void 0:a.totalAmountPaid)||0,D=new Date,T=((null===a||void 0===a?void 0:a.payments)||[]).filter(e=>{const t=new Date(e.dueDate);return D>t&&"paid"!==e.status}),L=T.length,E=T.reduce((e,t)=>e+(t.amount||0),0),I=((null===a||void 0===a?void 0:a.payments)||[]).filter(e=>{const t=new Date(e.dueDate);return"pending"===e.status&&D<=t}).length;return(0,Jn.jsxs)("div",{className:"w-full bg-slate-50 rounded-xl shadow-lg border border-amber-400/20 box-border p-0 overflow-hidden flex flex-col mb-8 max-h-[calc(100vh-250px)] overflow-y-auto",children:[(0,Jn.jsx)("div",{className:"bg-gradient-to-br from-white to-gray-50 border-b border-gray-100 p-8 flex justify-between items-center",children:(0,Jn.jsxs)("div",{className:"header-content",children:[(0,Jn.jsx)("h2",{className:"text-2xl font-bold text-blue-900 m-0",children:"Billing Records"}),(0,Jn.jsx)("p",{className:"text-gray-500 mt-1 mb-0 font-medium",children:"View your delivery charges and payment history"})]})}),P>0&&(0,Jn.jsx)("div",{className:"px-8 pt-6",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl border-l-[6px] shadow-sm ".concat(E>0?"bg-red-50 border-red-500 text-red-800":"bg-orange-50 border-orange-500 text-orange-900"),children:[(0,Jn.jsx)("div",{className:"text-xl ".concat(E>0?"text-red-500":"text-orange-500"),children:E>0?(0,Jn.jsx)(Ha,{}):(0,Jn.jsx)(es,{})}),(0,Jn.jsxs)("div",{className:"flex-1",children:[(0,Jn.jsx)("h4",{className:"m-0 font-bold mb-0.5 text-base",children:E>0?"Overdue Balance":"Pending Balance"}),(0,Jn.jsx)("p",{className:"m-0 text-sm opacity-90",children:E>0?"You have ".concat(k(E)," in overdue payments."):"You have ".concat(k(P)," in pending payments.")})]})]})}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 p-8",children:[(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-500/20 shadow-md relative overflow-hidden group transition-all hover:-translate-y-1 hover:shadow-lg",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-blue-600 to-blue-700 text-white flex items-center justify-center text-xl shadow-sm",children:(0,Jn.jsx)(Wa,{})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"m-0 text-gray-500 text-sm font-semibold uppercase tracking-wider",children:"Outstanding Balance"}),(0,Jn.jsx)("span",{className:"text-xs text-blue-400 font-medium",children:"Amount due"})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("span",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:k(P)}),P>0&&(0,Jn.jsxs)("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-blue-50 text-blue-600 w-fit",children:[I+L," payment",I+L!==1?"s":""]})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm relative overflow-hidden group transition-all hover:-translate-y-1 hover:shadow-md hover:border-emerald-200",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-lg bg-emerald-100 text-emerald-600 flex items-center justify-center text-xl",children:(0,Jn.jsx)(Ea,{})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"m-0 text-gray-500 text-sm font-semibold uppercase tracking-wider",children:"Paid This Month"}),(0,Jn.jsx)("span",{className:"text-xs text-emerald-500 font-medium",children:"Current period"})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("span",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:k(A)}),(0,Jn.jsxs)("span",{className:"text-xs text-emerald-600 font-medium",children:[(null===a||void 0===a?void 0:a.paidPayments)||0," payment",1!==(null===a||void 0===a?void 0:a.paidPayments)?"s":""]})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-xl border relative overflow-hidden group transition-all hover:-translate-y-1 hover:shadow-md ".concat(L>0?"border-red-200 shadow-red-100":"border-gray-100 shadow-sm"),children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl ".concat(L>0?"bg-red-100 text-red-600":"bg-gray-100 text-gray-400"),children:(0,Jn.jsx)(Fa,{})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"m-0 text-gray-500 text-sm font-semibold uppercase tracking-wider",children:"Overdue Payments"}),(0,Jn.jsx)("span",{className:"text-xs text-red-400 font-medium",children:"Requires attention"})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("span",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:L}),(0,Jn.jsx)("span",{className:"text-xs font-medium ".concat(L>0?"text-red-500":"text-gray-400"),children:k(E)})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm relative overflow-hidden group transition-all hover:-translate-y-1 hover:shadow-md hover:border-blue-200",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-lg bg-blue-50 text-blue-500 flex items-center justify-center text-xl",children:(0,Jn.jsx)(ks,{})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"m-0 text-gray-500 text-sm font-semibold uppercase tracking-wider",children:"Active Services"}),(0,Jn.jsx)("span",{className:"text-xs text-blue-400 font-medium",children:"Current deliveries"})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("span",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:i.active}),(0,Jn.jsxs)("span",{className:"text-xs text-green-600 font-medium",children:[i.completed," completed"]})]})]})]}),(0,Jn.jsxs)("div",{className:"px-8 pb-8",children:[j.show&&(0,Jn.jsxs)("div",{className:"mb-4 p-4 rounded-lg flex items-center gap-3 ".concat("success"===j.type?"bg-green-100 text-green-800 border border-green-200":"error"===j.type?"bg-red-100 text-red-800 border border-red-200":"bg-blue-100 text-blue-800 border border-blue-200"),children:["success"===j.type?(0,Jn.jsx)(Ea,{}):(0,Jn.jsx)(Ha,{}),(0,Jn.jsx)("span",{className:"flex-1",children:j.message}),(0,Jn.jsx)("button",{onClick:()=>N({show:!1,type:"",message:""}),className:"text-gray-500 hover:text-gray-700",children:(0,Jn.jsx)(js,{})})]}),(0,Jn.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4 border-b border-gray-200 pb-4",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:"Billing Records"}),(0,Jn.jsx)("p",{className:"text-gray-500 text-sm m-0",children:h.length>0?"".concat(h.length," delivery(s) selected - Total: ").concat(k(C())):"Select deliveries to upload payment proof"})]}),h.length>0&&(0,Jn.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg transition-all font-medium",children:[(0,Jn.jsx)(Ss,{}),"Upload Payment Proof"]})]}),(null===a||void 0===a||null===(n=a.payments)||void 0===n?void 0:n.length)>0?(0,Jn.jsx)("div",{className:"overflow-x-auto overflow-y-auto max-h-[300px] bg-white rounded-xl shadow-sm border border-gray-200",children:(0,Jn.jsxs)("table",{className:"w-full border-collapse min-w-[800px]",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{className:"bg-gray-50 text-left",children:[(0,Jn.jsx)("th",{className:"px-6 py-4 w-12 border-b border-gray-200",children:(0,Jn.jsx)("input",{type:"checkbox",onChange:e=>(e=>{if(e){const e=((null===a||void 0===a?void 0:a.payments)||[]).filter(e=>"paid"!==e.status&&"pending_verification"!==e.status);p(e.map(e=>e.id||e.deliveryId))}else p([])})(e.target.checked),checked:h.length>0&&h.length===((null===a||void 0===a?void 0:a.payments)||[]).filter(e=>"paid"!==e.status&&"pending_verification"!==e.status).length,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 w-4 h-4 cursor-pointer"})}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Delivery ID"}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Route"}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Delivery Date"}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Due Date"}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Amount"}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Status"})]})}),(0,Jn.jsx)("tbody",{children:a.payments.map((e,t)=>{var n,r,a,s;const i=new Date>new Date(e.dueDate)&&"paid"!==e.status?"overdue":e.status,o="overdue"===i,l="paid"===i,c="pending"===i;let d="hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-none";return o&&(d+=" bg-red-50/30"),(0,Jn.jsxs)("tr",{className:d,children:[(0,Jn.jsx)("td",{className:"px-6 py-4 w-12 align-middle",children:"paid"!==e.status&&"pending_verification"!==e.status&&(0,Jn.jsx)("input",{type:"checkbox",checked:h.includes(e.id||e.deliveryId),onChange:()=>{return t=e.id||e.deliveryId,void p(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 w-4 h-4 cursor-pointer"})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm align-middle",children:(0,Jn.jsx)("div",{className:"flex flex-col gap-1",children:(0,Jn.jsxs)("span",{className:"font-mono font-semibold text-blue-600",children:["#",e.deliveryId]})})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm align-middle",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5 max-w-[200px]",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 truncate",title:null===(n=e.metadata)||void 0===n?void 0:n.pickupLocation,children:[(0,Jn.jsx)(rs,{className:"text-emerald-600 min-w-[12px]"}),(0,Jn.jsx)("span",{className:"truncate",children:(null===(r=e.metadata)||void 0===r?void 0:r.pickupLocation)||"Pickup Location"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 truncate",title:null===(a=e.metadata)||void 0===a?void 0:a.deliveryAddress,children:[(0,Jn.jsx)(rs,{className:"text-red-500 min-w-[12px]"}),(0,Jn.jsx)("span",{className:"truncate",children:(null===(s=e.metadata)||void 0===s?void 0:s.deliveryAddress)||"Delivery Address"})]})]})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 align-middle",children:S(e.deliveryDate)}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 align-middle",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[S(e.dueDate),o&&(0,Jn.jsxs)("span",{className:"text-[10px] font-bold text-red-500 flex items-center gap-1",children:[(0,Jn.jsx)(Ha,{})," Overdue"]})]})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-800 font-semibold align-middle",children:(0,Jn.jsx)("div",{className:"flex items-center gap-2",children:(0,Jn.jsx)("span",{className:"text-emerald-700",children:k(e.amount)})})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm align-middle",children:(0,Jn.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider\n                          ".concat(l?"bg-emerald-100 text-emerald-700":"","\n                          ").concat(o?"bg-red-100 text-red-700":"","\n                          ").concat(c?"bg-amber-100 text-amber-700":"","\n                        "),children:[l&&(0,Jn.jsx)(Ea,{}),o&&(0,Jn.jsx)(Ha,{}),c&&(0,Jn.jsx)(Fa,{}),i.charAt(0).toUpperCase()+i.slice(1)]})})]},e.id||t)})})]})}):(0,Jn.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center text-gray-400 bg-white rounded-xl border border-gray-200 border-dashed",children:[(0,Jn.jsx)("div",{className:"text-5xl mb-4 opacity-50",children:(0,Jn.jsx)(Ya,{})}),(0,Jn.jsx)("h4",{className:"text-lg font-bold text-gray-600 mb-2",children:"No Billing Records Found"}),(0,Jn.jsx)("p",{className:"max-w-md mx-auto mb-6",children:"You don't have any delivery charges yet. Start by booking a truck delivery."}),(0,Jn.jsxs)(ve,{to:"/client/dashboard?tab=book-truck",className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg transition-all",children:[(0,Jn.jsx)(ks,{})," Book Your First Delivery"]})]})]}),m&&(0,Jn.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,Jn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>f(!1)}),(0,Jn.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,Jn.jsxs)("div",{className:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all w-full max-w-lg",children:[(0,Jn.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[(0,Jn.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,Jn.jsx)(Ss,{className:"text-blue-600"}),"Upload Payment Proof"]}),(0,Jn.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Jn.jsx)(js,{})})]}),(0,Jn.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Jn.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Jn.jsx)("span",{className:"text-sm text-blue-800 font-medium",children:"Selected Deliveries:"}),(0,Jn.jsx)("span",{className:"text-sm font-bold text-blue-900",children:h.length})]}),(0,Jn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Jn.jsx)("span",{className:"text-sm text-blue-800 font-medium",children:"Total Amount:"}),(0,Jn.jsx)("span",{className:"text-lg font-bold text-blue-700",children:k(C())})]})]}),(0,Jn.jsxs)("div",{className:"space-y-2",children:[(0,Jn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Proof of Payment (Image/PDF)"}),(0,Jn.jsxs)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-500 transition-colors bg-gray-50 hover:bg-white cursor-pointer relative",children:[(0,Jn.jsx)("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>{const t=e.target.files[0];if(t){if(!["image/png","application/pdf"].includes(t.type))return void N({show:!0,type:"error",message:"Please upload a PNG image or PDF file only"});if(t.size>5242880)return void N({show:!0,type:"error",message:"File size must be less than 5MB"});x(t)}},accept:"image/png,application/pdf"}),(0,Jn.jsx)("div",{className:"space-y-1 text-center",children:g?(0,Jn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Jn.jsx)(Ka,{className:"mx-auto h-12 w-12 text-blue-500"}),(0,Jn.jsx)("div",{className:"flex text-sm text-gray-600 mt-2",children:(0,Jn.jsx)("span",{className:"font-medium text-blue-600 truncate max-w-[200px]",children:g.name})}),(0,Jn.jsxs)("p",{className:"text-xs text-gray-500",children:[(g.size/1024/1024).toFixed(2)," MB"]}),(0,Jn.jsx)("p",{className:"text-xs text-green-600 mt-1 font-medium",children:"Click to change file"})]}):(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsx)(Ss,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Jn.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,Jn.jsx)("span",{className:"font-medium text-blue-600 hover:text-blue-500",children:"Upload a file"}),(0,Jn.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,Jn.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, PDF up to 5MB"})]})})]})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),(0,Jn.jsx)("input",{type:"text",value:v.referenceNumber,onChange:e=>b(Ne(Ne({},v),{},{referenceNumber:e.target.value})),placeholder:"e.g. GCash Ref No., Bank Trans ID",className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-4 py-2 border"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),(0,Jn.jsx)("textarea",{value:v.notes,onChange:e=>b(Ne(Ne({},v),{},{notes:e.target.value})),rows:2,placeholder:"Any additional details...",className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-4 py-2 border"})]})]}),j.show&&(0,Jn.jsxs)("div",{className:"p-3 rounded-lg text-sm flex items-start gap-2 ".concat("error"===j.type?"bg-red-50 text-red-700":"bg-green-50 text-green-700"),children:[(0,Jn.jsx)(es,{className:"mt-0.5 shrink-0"}),(0,Jn.jsx)("span",{children:j.message})]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-row-reverse gap-3",children:[(0,Jn.jsx)("button",{type:"button",onClick:async()=>{if(g)if(0!==h.length)try{w(!0);const e=localStorage.getItem("token"),t=new FormData;t.append("proofFile",g),t.append("deliveryIds",JSON.stringify(h)),t.append("referenceNumber",v.referenceNumber),t.append("notes",v.notes);const n=await Gn.post("/api/payments/upload-proof",t,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}});n.data.success&&(N({show:!0,type:"success",message:n.data.message||"Payment proof uploaded successfully! Awaiting admin verification."}),f(!1),x(null),b({referenceNumber:"",notes:""}),p([]),await _())}catch(d){var e,t;console.error("Error uploading proof:",d),N({show:!0,type:"error",message:(null===(e=d.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to upload payment proof"})}finally{w(!1)}else N({show:!0,type:"error",message:"Please select at least one delivery"});else N({show:!0,type:"error",message:"Please select a file to upload"})},disabled:y||!g,className:"inline-flex w-full justify-center rounded-lg px-4 py-2 text-base font-semibold text-white shadow-sm sm:w-auto sm:text-sm transition-all ".concat(y||!g?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500"),children:y?(0,Jn.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Jn.jsx)(ys,{className:"animate-spin"})," Uploading..."]}):"Submit Proof"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>f(!1),disabled:y,className:"inline-flex w-full justify-center rounded-lg bg-white px-4 py-2 text-base font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})]})},Qm=()=>{var e;const{authUser:n,logout:r}=(0,t.useContext)(ea)||{authUser:null,logout:()=>{}},a=ce(),s=de(),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)([]),[h,p]=(0,t.useState)(!0),[m,f]=(0,t.useState)(null),g=new URLSearchParams(s.search),[x,v]=(0,t.useState)(g.get("tab")||"overview"),[b,y]=(0,t.useState)(!1),[w,j]=(0,t.useState)({pickupLocation:"",pickupCoordinates:null,dropoffLocation:"",dropoffCoordinates:null,weight:"",deliveryDate:"",deliveryTime:"",selectedTrucks:[],pickupContactPerson:"",pickupContactNumber:"",dropoffContactPerson:"",dropoffContactNumber:""}),[N,k]=(0,t.useState)([]),[S,C]=(0,t.useState)(!1),[_,P]=(0,t.useState)(null),[A,D]=(0,t.useState)(!1),[T,L]=(0,t.useState)(null),[E,I]=(0,t.useState)([]),[R,M]=(0,t.useState)([]),[F,O]=(0,t.useState)(!1),[z,B]=(0,t.useState)([]),[U,q]=(0,t.useState)({type:"all",status:"all",search:""}),[W,H]=(0,t.useState)(12),[V,G]=(0,t.useState)(1),[K,Y]=(0,t.useState)(!1),[$,J]=(0,t.useState)(""),[X,Q]=(0,t.useState)("all"),[Z,ee]=(0,t.useState)("all"),[te,ne]=(0,t.useState)([]),[re,ae]=(0,t.useState)(!1),[se,ie]=(0,t.useState)(1),[oe]=(0,t.useState)(20),[le,ue]=(0,t.useState)("DeliveryDate"),[he,pe]=(0,t.useState)("desc"),[me,fe]=(0,t.useState)(!1),[ge,xe]=(0,t.useState)(null),[ve,be]=(0,t.useState)(!1),[ye,we]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=[...d];if($&&(e=e.filter(e=>{var t,n,r,a,s,i;return(null===(t=e.DeliveryID)||void 0===t?void 0:t.toString().toLowerCase().includes($.toLowerCase()))||(null===(n=e.TruckPlate)||void 0===n?void 0:n.toLowerCase().includes($.toLowerCase()))||(null===(r=e.TruckBrand)||void 0===r?void 0:r.toLowerCase().includes($.toLowerCase()))||(null===(a=e.DriverName)||void 0===a?void 0:a.toLowerCase().includes($.toLowerCase()))||(null===(s=e.PickupLocation)||void 0===s?void 0:s.toLowerCase().includes($.toLowerCase()))||(null===(i=e.DropoffLocation)||void 0===i?void 0:i.toLowerCase().includes($.toLowerCase()))})),X&&"all"!==X&&(e=e.filter(e=>{var t;return(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())===X.toLowerCase()})),Z&&"all"!==Z){const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate());e=e.filter(e=>{const t=new Date(e.DeliveryDate);switch(Z){case"today":return t>=n&&t<new Date(n.getTime()+864e5);case"week":return t>=new Date(n.getTime()-6048e5);case"month":return t>=new Date(n.getFullYear(),n.getMonth()-1,n.getDate());case"year":return t>=new Date(n.getFullYear()-1,n.getMonth(),n.getDate());default:return!0}})}ne(e),ie(1)},[d,$,X,Z]);const[je,ke]=(0,t.useState)(!1),[Se,Ce]=(0,t.useState)(!1),[_e,Pe]=(0,t.useState)({clientName:"",clientEmail:"",clientNumber:""}),[Ae,De]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[Te,Le]=(0,t.useState)(!1),{modalState:Ee,hideModal:Ie,showWarning:Re,showError:Me,showSuccess:Fe,showInfo:Oe,showConfirm:ze}=Km(),{toasts:Be,removeToast:Ue,showSuccess:qe,showError:We,showWarning:He,showInfo:Ve,showDeliveryUpdate:Ge}=ca(),[Ke,Ye]=(0,t.useState)(null),[$e,Je]=(0,t.useState)(!1),[Xe,Qe]=(0,t.useState)(!1),[Ze,et]=(0,t.useState)(!1),[tt,nt]=(0,t.useState)(null),[rt,at]=(0,t.useState)({pickupLocation:"",pickupCoordinates:null,dropoffLocation:"",dropoffCoordinates:null,newDistance:0,newCost:0}),[st,it]=(0,t.useState)({newDate:"",newTime:""}),[ot,lt]=(0,t.useState)(!1),[ct,dt]=(0,t.useState)("pickup");(0,t.useEffect)(()=>{const e=()=>{y(!0)};return window.addEventListener("openBookingModal",e),()=>{window.removeEventListener("openBookingModal",e)}},[]),(0,t.useEffect)(()=>{b||(Gm.clearUsedLocations(),I([]),M([]),console.log("\ud83d\udd04 Booking modal closed - cleared used locations and availability data"))},[b]),(0,t.useEffect)(()=>{b&&w.deliveryDate&&(console.log("\ud83d\udcc5 Modal opened with date:",w.deliveryDate),bt(w.deliveryDate))},[b,w.deliveryDate]),(0,t.useEffect)(()=>{const e=new URLSearchParams(s.search).get("tab")||"overview";v(e)},[s.search]),(0,t.useEffect)(()=>{const e=new Date;e.setDate(e.getDate()+1);const t=e.toISOString().split("T")[0];j(e=>Ne(Ne({},e),{},{deliveryDate:t,deliveryTime:"12:00"}))},[]),(0,t.useEffect)(()=>{const e=localStorage.getItem("token");e&&(Gn.defaults.headers.common.Authorization="Bearer ".concat(e))},[]);const ut=async()=>{try{p(!0),f(null);try{const e=await Gn.get("/api/clients/profile");o(e.data)}catch(t){console.error("Error fetching profile:",t),f("Failed to load profile data.")}try{var e;console.log("\ud83d\udd04 Fetching allocated trucks...");const t=await Gn.get("/api/clients/profile/trucks");console.log("\ud83d\udd0d Raw trucks response:",t.data),console.log("\ud83d\udd0d Trucks with status:",null===(e=t.data)||void 0===e?void 0:e.map(e=>({plate:e.TruckPlate,status:e.TruckStatus}))),c(t.data||[])}catch(n){console.error("Error fetching trucks:",n),c([])}try{const e=(await Gn.get("/api/clients/profile/deliveries")).data||[];u(e)}catch(r){console.error("Error fetching deliveries:",r),u([])}p(!1)}catch(m){console.error("Error in fetchClientData:",m),f("Failed to load dashboard data."),p(!1)}};(0,t.useEffect)(()=>{ut(),(async()=>{try{console.log("\ud83d\udd04 Fetching vehicle rates...");const e=await Gn.get("/api/clients/vehicle-rates",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});e.data.success&&(console.log("\u2705 Vehicle rates fetched:",e.data.data),B(e.data.data||[]))}catch(m){console.error("\u274c Error fetching vehicle rates:",m),B([])}})()},[]),(0,t.useEffect)(()=>{const e=setInterval(async()=>{try{console.log("\ud83d\udd04 Polling for delivery updates...");const e=(await Gn.get("/api/clients/profile/deliveries")).data||[],t=e.some(e=>{const t=d.find(t=>t.DeliveryID===e.DeliveryID);return t&&t.DeliveryStatus!==e.DeliveryStatus});if(t){console.log("\u2705 Delivery status changes detected, updating..."),u(e);const t=e.filter(e=>{const t=d.find(t=>t.DeliveryID===e.DeliveryID);return t&&t.DeliveryStatus!==e.DeliveryStatus});t.forEach(e=>{const t=ht(e.DeliveryStatus);Ve("Delivery Status Updated","Delivery #".concat(e.DeliveryID.substring(0,8)," is now ").concat(t))})}}catch(m){console.error("Error polling for updates:",m)}},3e4);return()=>clearInterval(e)},[d,Ve]);const ht=e=>{switch(e){case"pending":return"pending driver assignment";case"accepted":return"accepted by driver";case"started":return"started by driver";case"picked-up":return"picked up by driver";case"awaiting-confirmation":return"delivered and awaiting your confirmation";case"completed":return"completed";case"cancelled":return"cancelled";default:return e}},pt=async e=>{const t=parseFloat(e.target.value);j(t=>Ne(Ne({},t),{},{weight:e.target.value})),!isNaN(t)&&t>0?await Tt(t):(k([]),j(e=>Ne(Ne({},e),{},{selectedTrucks:[]})))},mt=e=>{("pickup"===e?w.pickupLocation:w.dropoffLocation)&&(console.log("\ud83d\udd04 Re-opening ".concat(e," picker - clearing used locations to allow reselection")),Gm.clearUsedLocations());const t="pickup"===e?{address:w.dropoffLocation,coordinates:w.dropoffCoordinates}:{address:w.pickupLocation,coordinates:w.pickupCoordinates};Gm.init({locationType:e,initialAddress:"pickup"===e?w.pickupLocation:w.dropoffLocation,title:"Select ".concat("pickup"===e?"Pickup":"Dropoff"," Location"),otherSelectedLocation:t,onSelectCallback:(t,n,r)=>{const a={["pickup"===e?"pickupLocation":"dropoffLocation"]:t,["pickup"===e?"pickupCoordinates":"dropoffCoordinates"]:n};r?("pickup"===e?(r.contactPerson&&(a.pickupContactPerson=r.contactPerson),r.contactNumber&&(a.pickupContactNumber=r.contactNumber)):(r.contactPerson&&(a.dropoffContactPerson=r.contactPerson),r.contactNumber&&(a.dropoffContactNumber=r.contactNumber)),console.log("\u2705 Auto-filled ".concat(e," contact info from saved location:"),r.contactPerson,r.contactNumber)):("pickup"===e?(a.pickupContactPerson="",a.pickupContactNumber=""):(a.dropoffContactPerson="",a.dropoffContactNumber=""),console.log("\ud83d\udd04 Manual location selected for ".concat(e,", cleared contact fields"))),j(e=>Ne(Ne({},e),a))}})},ft=()=>{w.pickupCoordinates&&w.dropoffCoordinates?C(!S):Oe("Route Preview Unavailable","Select both locations on map for route preview, or continue booking with address text only.")},gt=e=>{P(e),j(t=>Ne(Ne({},t),{},{deliveryDistance:e.distanceValue,estimatedDuration:e.durationValue}))},xt=()=>{if(!_||!w.selectedTrucks.length)return 0;const e=l.find(e=>w.selectedTrucks.includes(e.TruckID));if(!e)return 0;const t=e.TruckType||"mini truck",n=_.distanceValue||0;let r=null;if(z.length>0&&(r=z.find(e=>e.vehicleType===t),console.log("\ud83d\udd0d Looking for rate for ".concat(t,", found:"),r)),!r){console.log("\u26a0\ufe0f No staff rate found for ".concat(t,", using default rates"));const e={"mini truck":{baseRate:100,ratePerKm:15},"4 wheeler":{baseRate:150,ratePerKm:20},"6 wheeler":{baseRate:200,ratePerKm:25},"8 wheeler":{baseRate:250,ratePerKm:30},"10 wheeler":{baseRate:300,ratePerKm:35}};r=e[t]||e["mini truck"]}const a=parseFloat(r.baseRate)||0,s=parseFloat(r.ratePerKm)||0,i=a+n*s;return console.log("\ud83d\udcb0 Cost calculation for ".concat(t,": Base \u20b1").concat(a," + (").concat(n,"km \xd7 \u20b1").concat(s,"/km) = \u20b1").concat(i)),Math.round(i)},vt=()=>{const e=xt();return Math.round(e*w.selectedTrucks.length)},bt=async e=>{if(e)try{O(!0),console.log("\ud83d\udd0d Checking available trucks for date: ".concat(e));const t=await Gn.get("/api/clients/availability/trucks-for-date/".concat(e));if(t.data.success){const n=t.data.availableTrucks.map(e=>e.id);I(n),console.log("\u2705 ".concat(t.data.totalAvailable,"/").concat(t.data.totalAllocated," trucks available on ").concat(e)),console.log("\u274c ".concat(t.data.totalBooked," trucks booked:"),t.data.bookedTruckIds),j(e=>Ne(Ne({},e),{},{selectedTrucks:e.selectedTrucks.filter(e=>n.includes(e))}))}}catch(m){console.error("\u274c Error checking truck availability:",m)}finally{O(!1)}else I([])},yt=e=>{const t=e.target.value;t&&R.length>0&&R.includes(t)?Re("Date Not Available","The selected date is already booked for one of your selected trucks. Please choose a different date."):(j(e=>Ne(Ne({},e),{},{deliveryDate:t})),t?bt(t):I([]))},wt=e=>{const t=w.selectedTrucks.includes(e);(e=>{var t,n,r,a;const s=l.find(t=>t.TruckID===e);if(!s)return void console.warn("Truck not found:",e);const i=(null===(t=s.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(n=s.OperationalStatus)||void 0===n?void 0:n.toLowerCase()),o=(null===(r=s.availabilityStatus)||void 0===r?void 0:r.toLowerCase())||(null===(a=s.AvailabilityStatus)||void 0===a?void 0:a.toLowerCase());"active"===i&&"free"===o?j(t=>{const n=[...t.selectedTrucks];return n.includes(e)?Ne(Ne({},t),{},{selectedTrucks:n.filter(t=>t!==e)}):Ne(Ne({},t),{},{selectedTrucks:[...n,e]})}):Re("Truck Unavailable","This truck is not available for booking - Operational: ".concat(i,", Availability: ").concat(o))})(e),t?1===w.selectedTrucks.length&&M([]):(async e=>{if(e)try{console.log("\ud83d\udd0d Checking booked dates for truck: ".concat(e));const t=await Gn.get("/api/clients/availability/dates-for-truck/".concat(e));t.data.success&&(M(t.data.bookedDateStrings),console.log("\ud83d\udcc5 Truck ".concat(e," has ").concat(t.data.totalBooked," booked dates:"),t.data.bookedDateStrings))}catch(m){console.error("\u274c Error checking truck booked dates:",m)}else M([])})(e)},jt=async e=>{e.preventDefault(),console.log("\ud83d\ude80 Starting booking submission...");try{if(!w.pickupLocation||!w.dropoffLocation||!w.weight||!w.deliveryDate||!w.deliveryTime||!w.pickupContactNumber||!w.dropoffContactNumber){const e=[];return w.pickupLocation||e.push("Pickup Location"),w.dropoffLocation||e.push("Dropoff Location"),w.weight||e.push("Cargo Weight"),w.deliveryDate||e.push("Delivery Date"),w.deliveryTime||e.push("Delivery Time"),w.pickupContactNumber||e.push("Pickup Contact Number"),w.dropoffContactNumber||e.push("Dropoff Contact Number"),console.log("\u274c Missing required fields:",e),void Re("Missing Required Fields","Please fill in the following required fields:\n\n".concat(e.join("\n")))}if(0===w.selectedTrucks.length)return console.log("\u274c No trucks selected"),void Re("No Trucks Selected","Please select at least one truck for the delivery");console.log("\ud83d\udccb Booking data:",w);const e=[];for(const s of w.selectedTrucks){var t,n,r,a;const i=l.find(e=>e.TruckID===s);if(!i){e.push("Truck ".concat(s," not found"));continue}const o=(null===(t=i.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(n=i.OperationalStatus)||void 0===n?void 0:n.toLowerCase()),c=(null===(r=i.availabilityStatus)||void 0===r?void 0:r.toLowerCase())||(null===(a=i.AvailabilityStatus)||void 0===a?void 0:a.toLowerCase());"active"===o&&"free"===c||e.push("".concat(i.TruckPlate," - Operational: ").concat(o,", Availability: ").concat(c))}if(e.length>0){console.log("\u274c Some trucks unavailable:",e);const t="Some trucks are not available:\n".concat(e.join("\n"),"\n\nPlease select different trucks.");return void Re("Trucks Unavailable",t,{onConfirm:()=>{j(e=>Ne(Ne({},e),{},{selectedTrucks:[]})),Tt(parseFloat(w.weight))}})}const h=localStorage.getItem("token");if(!h)return console.log("\u274c No authentication token"),void Me("Authentication Error","Authentication token missing. Please login again.");const f=w.pickupCoordinates||{lat:14.5995,lng:120.9842},g=w.dropoffCoordinates||{lat:14.6091,lng:121.0223},x={pickupLocation:w.pickupLocation,dropoffLocation:w.dropoffLocation,pickupCoordinates:f,dropoffCoordinates:g,weight:w.weight,deliveryDate:w.deliveryDate,deliveryTime:w.deliveryTime,selectedTrucks:w.selectedTrucks,deliveryDistance:w.deliveryDistance||0,estimatedDuration:w.estimatedDuration||0,pickupContactPerson:w.pickupContactPerson,pickupContactNumber:w.pickupContactNumber,dropoffContactPerson:w.dropoffContactPerson,dropoffContactNumber:w.dropoffContactNumber};console.log("\ud83d\udce4 Sending booking request:",x),p(!0);try{console.log("\ud83d\udce4 Submitting booking request...");const e=await Gn.post("/api/clients/truck-rental",x,{headers:{Authorization:"Bearer ".concat(h),"Content-Type":"application/json"}});if(console.log("\u2705 Booking response:",e.data),!e.data.success)throw new Error(e.data.message||"Booking failed");{var s;const t=(null===(s=e.data.createdDeliveries)||void 0===s?void 0:s.length)||w.selectedTrucks.length;qe("\u2705 Booking Successful!","".concat(t," delivery").concat(1!==t?"ies":"y"," scheduled successfully.")),Gm.clearUsedLocations(),y(!1),j({pickupLocation:"",pickupCoordinates:null,dropoffLocation:"",dropoffCoordinates:null,weight:"",deliveryDate:"",deliveryTime:"",selectedTrucks:[],pickupContactPerson:"",pickupContactNumber:"",dropoffContactPerson:"",dropoffContactNumber:""}),ut()}}catch(m){var i,o,c,d;console.error("\u274c Booking failed:",m),console.error("\u274c Error response data:",null===(i=m.response)||void 0===i?void 0:i.data),console.error("\u274c Error status:",null===(o=m.response)||void 0===o?void 0:o.status);let t="Booking Failed",n="Unknown error occurred";var u;if(null!==(c=m.response)&&void 0!==c&&null!==(d=c.data)&&void 0!==d&&d.message)n=m.response.data.message,console.error("\u274c Backend error message:",n),m.response.data.failedBookings&&(console.error("\u274c Failed bookings details:",m.response.data.failedBookings),m.response.data.failedBookings.forEach(e=>{console.error("   - Truck ".concat(e.truckId,": ").concat(e.reason))})),null!==(u=m.response.data.debug)&&void 0!==u&&u.commonIssues&&console.error("\u274c Common issues:",m.response.data.debug.commonIssues),n.includes("allocated to another client")?(t="Truck Not Available",n="".concat(n,"\n\nThis truck is not currently allocated to your account. Please:\n1. Contact your account manager to reallocate this truck\n2. Select a different truck from your allocated trucks")):n.includes("not allocated to your account")?(t="Truck Not Allocated",n="".concat(n,"\n\nPlease:\n1. Contact your account manager to allocate this truck to your account\n2. Select a truck from your allocated trucks list")):n.includes("insufficient capacity")||n.includes("no trucks available")?t="Insufficient Truck Capacity":(n.includes("quota exceeded")||n.includes("RESOURCE_EXHAUSTED"))&&(t="Service Temporarily Unavailable",n="The service is experiencing high usage. Please try again in a few minutes.");else m.message&&(n=m.message);We(t,n)}finally{p(!1)}}catch(C){var h,f,g,x,v,b,N,S;console.error("\ud83d\udca5 Booking error:",C),console.error("\ud83d\udca5 Error response:",null===(h=C.response)||void 0===h?void 0:h.data),console.error("\ud83d\udca5 Error status:",null===(f=C.response)||void 0===f?void 0:f.status),p(!1);let e="Error booking truck rental. Please try again.";if(403===(null===(g=C.response)||void 0===g?void 0:g.status))e="Some trucks are not available for booking. Please select different trucks.",j(e=>Ne(Ne({},e),{},{selectedTrucks:[]})),Tt(parseFloat(w.weight));else if(null!==(x=C.response)&&void 0!==x&&x.data){const t=C.response.data;if(e=t.message||"Unknown error occurred",t.debug&&(console.log("\ud83d\udd0d Debug info:",t.debug),e+="\n\nDebug Info:",e+="\n\u2022 Requested trucks: ".concat(t.debug.requestedTrucks),e+="\n\u2022 Available drivers: ".concat(t.debug.availableDrivers),e+="\n\u2022 Available helpers: ".concat(t.debug.availableHelpers),t.failedBookings&&t.failedBookings.length>0&&(e+="\n\nFailed trucks:",t.failedBookings.forEach(t=>{e+="\n\u2022 ".concat(t.truckId,": ").concat(t.reason)}))),"INSUFFICIENT_DRIVERS"===t.error){const{required:n,available:r,shortage:a}=t;e="\u26a0\ufe0f Driver Shortage Alert!\n\nCannot proceed with booking - all drivers are deployed.\n\n"+"\u2022 Required drivers: ".concat(n,"\n")+"\u2022 Available drivers: ".concat(r,"\n")+"\u2022 Shortage: ".concat(a," driver").concat(1!==a?"s":"","\n\n")+"Please try booking fewer trucks or wait for drivers to become available.",j(e=>Ne(Ne({},e),{},{selectedTrucks:[],weight:""})),k([])}}else if("INSUFFICIENT_HELPERS"===(null===(v=C.response)||void 0===v||null===(b=v.data)||void 0===b?void 0:b.error)){const{required:t,available:n,shortage:r}=C.response.data;e="\u26a0\ufe0f Helper Shortage Alert!\n\nCannot proceed with booking - all helpers are deployed.\n\n"+"\u2022 Required helpers: ".concat(t,"\n")+"\u2022 Available helpers: ".concat(n,"\n")+"\u2022 Shortage: ".concat(r," helper").concat(1!==r?"s":"","\n\n")+"Please try booking fewer trucks or wait for helpers to become available.",j(e=>Ne(Ne({},e),{},{selectedTrucks:[],weight:""})),k([])}else null!==(N=C.response)&&void 0!==N&&null!==(S=N.data)&&void 0!==S&&S.message&&(e=C.response.data.message);Me("Booking Failed",e,{size:"large"})}},Nt=e=>{const{name:t,value:n}=e.target;Pe(e=>Ne(Ne({},e),{},{[t]:n}))},kt=e=>{const{name:t,value:n}=e.target;De(e=>Ne(Ne({},e),{},{[t]:n}))},St=()=>d.filter(e=>"pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus),Ct=()=>d.filter(e=>"completed"===e.DeliveryStatus),_t=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e),Pt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e;if(!n&&t){const e=[t.DeliveryDate,t.deliveryDate,t.created_at,t.createdAt,t.scheduledFor,t.CreatedAt];for(const t of e)if(t){n=t;break}}if(!n)return"Date N/A";try{let e=null;if(n&&"object"===typeof n&&(n.seconds||n._seconds)){const t=n.seconds||n._seconds;e=new Date(1e3*t)}else if(n&&"function"===typeof n.toDate)e=n.toDate();else if(n instanceof Date)e=n;else if("string"===typeof n){const t=n.trim();if(!t||"null"===t.toLowerCase()||"undefined"===t.toLowerCase()||"Invalid Date"===t)return"Date N/A";e=new Date(t)}else if("number"===typeof n){if(0===n||isNaN(n))return"Date N/A";e=n<1e10?new Date(1e3*n):new Date(n)}if(e&&!isNaN(e.getTime())){const t=new Date;return Math.abs(t.getFullYear()-e.getFullYear())>50?"Date N/A":e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return"Date N/A"}catch(m){return console.error("Error formatting date:",m),"Date N/A"}},At=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"pending":default:return"pending";case"in-progress":return"in-progress";case"awaiting-confirmation":case"delivered":return"awaiting-confirmation";case"completed":return"completed";case"cancelled":return"cancelled"}},Dt=(e,t)=>{if(console.log("\ud83d\udd0d Finding most efficient truck combination for ".concat(t," tons")),console.log("Available trucks:",e.map(e=>"".concat(e.TruckPlate,": ").concat(e.TruckCapacity,"t"))),!e||0===e.length)return console.log("\u274c No trucks available"),[];const n=[...e].sort((e,t)=>(parseFloat(e.TruckCapacity)||0)-(parseFloat(t.TruckCapacity)||0));console.log("Available trucks by capacity:",n.map(e=>"".concat(e.TruckPlate,": ").concat(e.TruckCapacity,"t")));let r=null,a=1/0;for(const i of n){const e=parseFloat(i.TruckCapacity)||0;if(e>=t){const n=e-t;n<a&&(a=n,r=i)}}if(r){const e=(t/parseFloat(r.TruckCapacity)*100).toFixed(1);return console.log("\u2705 Most efficient single truck: ".concat(r.TruckPlate," (").concat(r.TruckCapacity,"t capacity, ").concat(e,"% efficiency)")),[r]}console.log("\ud83d\udd04 No single truck can handle the cargo, finding optimal combination...");let s;if(s=n.length<=10?(()=>{let e=[],r=0,a=1/0;const s=Math.min(Math.pow(2,n.length),1e3);for(let i=1;i<s;i++){const s=[];let o=0;for(let e=0;e<n.length;e++)i&1<<e&&(s.push(n[e]),o+=parseFloat(n[e].TruckCapacity)||0);if(o>=t){const n=t/o*100,i=o-t;(0===e.length||s.length<e.length||s.length===e.length&&n>r||s.length===e.length&&n===r&&i<a)&&(e=s,r=n,a=i)}}return e})():(()=>{const e=n.map(e=>{const n=parseFloat(e.TruckCapacity)||0;let r=0;return r=n<=t?n/t:t/n,{truck:e,capacity:n,efficiency:r}}).sort((e,t)=>t.efficiency-e.efficiency);console.log("Trucks sorted by efficiency:",e.map(e=>"".concat(e.truck.TruckPlate,": ").concat(e.capacity,"t (").concat((100*e.efficiency).toFixed(1),"%)")));const r=[];let a=t;for(const{truck:t,capacity:n}of e){if(a<=0)break;n>0&&(a-n>=-1||n>=.5*a)&&(r.push(t),a-=n,console.log("\u2795 Added efficient truck: ".concat(t.TruckPlate," (").concat(n,"t), remaining: ").concat(a.toFixed(1),"t")))}return r})(),s.length>0){const e=s.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0);if(e>=t){const n=(t/e*100).toFixed(1),r=(e-t).toFixed(1);return console.log("\u2705 Optimal solution found:"),console.log("   Trucks: ".concat(s.length)),console.log("   Total capacity: ".concat(e,"t")),console.log("   Cargo weight: ".concat(t,"t")),console.log("   Efficiency: ".concat(n,"%")),console.log("   Waste: ".concat(r,"t")),console.log("   Combination: ".concat(s.map(e=>"".concat(e.TruckPlate,"(").concat(e.TruckCapacity,"t)")).join(", "))),s}return console.log("\u274c Insufficient capacity: ".concat(e,"t < ").concat(t,"t")),[]}return console.log("\u274c No suitable truck combination found"),[]},Tt=async e=>{if(console.log("\ud83d\ude80 Smart booking triggered for ".concat(e," tons")),!e||e<=0)return console.log("\u274c Invalid cargo weight"),void k([]);let t=l.filter(e=>{var t,n;const r=(null===(t=e.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(n=e.OperationalStatus)||void 0===n?void 0:n.toLowerCase());if("maintenance"===r||"broken"===r)return console.log("\u274c Truck ".concat(e.TruckPlate," is ").concat(r)),!1;if(w.deliveryDate){if(d.some(t=>{if((t.TruckID||t.truckId)!==e.TruckID)return!1;const n=(t.DeliveryStatus||t.deliveryStatus||"").toLowerCase();if(!["pending","in-progress","started","picked-up"].includes(n))return!1;let r=t.deliveryDateString;!r&&t.DeliveryDate&&(r=t.DeliveryDate.seconds?new Date(1e3*t.DeliveryDate.seconds).toISOString().split("T")[0]:new Date(t.DeliveryDate).toISOString().split("T")[0]);return r===new Date(w.deliveryDate).toISOString().split("T")[0]}))return console.log("\u274c Truck ".concat(e.TruckPlate," is booked on ").concat(w.deliveryDate)),!1}return console.log("\u2705 Truck ".concat(e.TruckPlate," is available for booking")),!0});if(console.log("\ud83d\udccb Available trucks for booking: ".concat(t.length,"/").concat(l.length)),0===t.length)return console.log("\u274c No trucks available for booking"),k([]),void Re("No Available Trucks","No trucks are currently available for booking. Please wait for trucks to become available or contact support.");const n=t.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0);if(console.log("\ud83d\udcca Total available capacity: ".concat(n," tons vs cargo weight: ").concat(e," tons")),n<e){console.log("\u274c Insufficient total capacity: ".concat(n,"t < ").concat(e,"t"));const r=e-n,a=l.length>0?l.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0)/l.length:5,s=Math.ceil(r/a);let i="\u26a0\ufe0f INSUFFICIENT TRUCK CAPACITY\n\n";i+="\ud83d\udce6 Your cargo weight: ".concat(e," tons\n"),i+="\ud83d\ude9b Available truck capacity: ".concat(n," tons\n"),i+="\ud83d\udcc9 Shortfall: ".concat(r.toFixed(1)," tons\n\n"),i+="SOLUTIONS:\n",i+="1. \ud83d\udcde Contact admin to allocate approximately ".concat(s," more truck").concat(1!==s?"s":"","\n"),i+="2. \u23f3 Wait for other trucks to complete their deliveries\n",i+="3. \ud83d\udce6 Split your cargo into smaller shipments\n\n",i+="Currently available trucks:\n",t.forEach((e,t)=>{i+="\u2022 ".concat(e.TruckPlate,": ").concat(e.TruckCapacity," tons\n")});const o=l.filter(e=>d.some(t=>t.TruckID===e.TruckID&&("pending"===t.DeliveryStatus||"in-progress"===t.DeliveryStatus)));return o.length>0&&(i+="\nTrucks currently in use:\n",o.forEach((e,t)=>{i+="\u2022 ".concat(e.TruckPlate,": ").concat(e.TruckCapacity," tons (in delivery)\n")})),Re("Insufficient Truck Capacity",i,{size:"large"}),void k([])}const r=Dt(t,e);if(r.length>0){console.log("\u2705 Recommended ".concat(r.length," trucks for ").concat(e," tons"));const t=await(async()=>({sufficient:!0,message:"Staff availability checked during booking"}))(r.length);k(r);const n=r.map(e=>e.TruckID);j(e=>Ne(Ne({},e),{},{selectedTrucks:n})),console.log("\ud83c\udfaf Auto-selected trucks:",n),t.sufficient||"Will check during booking"===t.message||Re("Staff Availability Warning","".concat(t.message,"\n\nYou can still proceed, but the booking may fail if there aren't enough available drivers or helpers."))}else console.log("\u274c No suitable truck combination found"),k([]),Re("No Suitable Combination","Unable to find a suitable truck combination. Please try a different cargo weight or contact support.")},Lt=()=>{let e=[...l];if("all"!==U.type&&(e=e.filter(e=>{var t;return null===(t=e.TruckType)||void 0===t?void 0:t.toLowerCase().includes(U.type.toLowerCase())})),"all"!==U.status){const t="available"===U.status;e=e.filter(e=>{var n,r,a,s,i,o,l;const c=null===(n=e.TruckStatus)||void 0===n?void 0:n.toLowerCase(),d=(null===(r=e.allocationStatus)||void 0===r?void 0:r.toLowerCase())||(null===(a=e.AllocationStatus)||void 0===a?void 0:a.toLowerCase()),u=(null===(s=e.operationalStatus)||void 0===s?void 0:s.toLowerCase())||(null===(i=e.OperationalStatus)||void 0===i?void 0:i.toLowerCase()),h=(null===(o=e.availabilityStatus)||void 0===o?void 0:o.toLowerCase())||(null===(l=e.AvailabilityStatus)||void 0===l?void 0:l.toLowerCase()),p=!0===e.activeDelivery,m=("allocated"===c||"available"===c)&&(!d||"allocated"===d||"available"===d)&&(!u||"active"===u)&&(!h||"free"===h||"busy"===h)&&!p;return console.log("\ud83d\udd0d Truck ".concat(e.TruckPlate,': status="').concat(c,'", activeDelivery=').concat(p,", isAvailable=").concat(m,", shouldShow=").concat(m===t)),m===t})}if(U.search){const t=U.search.toLowerCase();e=e.filter(e=>{var n,r;return(null===(n=e.TruckPlate)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.TruckType)||void 0===r?void 0:r.toLowerCase().includes(t))})}return e},Et=()=>{const e=Lt(),t=(V-1)*W,n=t+W;return e.slice(t,n)},It=()=>{const e=Lt();return Math.ceil(e.length/W)},Rt=(e,t)=>{q(n=>Ne(Ne({},n),{},{[e]:t})),G(1)},Mt=e=>{nt(e),Je(!0)},Ft=e=>{nt(e),at({pickupLocation:e.PickupLocation||"",pickupCoordinates:e.pickupCoordinates||e.PickupCoordinates||null,dropoffLocation:e.DropoffLocation||e.DeliveryAddress||"",dropoffCoordinates:e.dropoffCoordinates||e.DropoffCoordinates||null,newDistance:0,newCost:0}),Qe(!0)},Ot=e=>{nt(e);const t=new Date(e.DeliveryDate);it({newDate:t.toISOString().split("T")[0],newTime:"12:00"}),et(!0)},zt=async()=>{if(rt.pickupLocation&&rt.dropoffLocation)try{let e;if(rt.pickupCoordinates&&rt.dropoffCoordinates){const t=rt.pickupCoordinates,n=rt.dropoffCoordinates,r=6371,a=(n.lat-t.lat)*Math.PI/180,s=(n.lng-t.lng)*Math.PI/180,i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t.lat*Math.PI/180)*Math.cos(n.lat*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2),o=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));e=Math.round(r*o*100)/100}else e=Math.floor(50*Math.random())+10;console.log("\ud83d\udd0d Selected delivery data:",tt);const t=(null===tt||void 0===tt?void 0:tt.VehicleType)||(null===tt||void 0===tt?void 0:tt.vehicleType)||"mini truck";console.log("\ud83d\ude9b Vehicle type for calculation:",t),console.log("\ud83d\udcca Available vehicle rates:",z);const n=z.find(e=>{const n=e.vehicleType||e.VehicleType||"",r=t||"";if(n===r)return!0;if(n.toLowerCase()===r.toLowerCase())return!0;const a=n.toLowerCase().replace(/\s+/g,""),s=r.toLowerCase().replace(/\s+/g,""),i={smalltruck:"minitruck",small:"mini",minitruck:"minitruck",mini:"mini"};return(i[a]||a)===(i[s]||s)});console.log("\ud83d\udcb0 Found rate:",n);let r=750;if(n){const t=n.baseRate||n.BaseRate||100,a=n.ratePerKm||n.RatePerKm||15;r=t+e*a,console.log("\ud83d\udcb0 Calculation: ".concat(t," + (").concat(e," \xd7 ").concat(a,") = ").concat(r))}else if(console.warn("\u26a0\ufe0f No rate found for vehicle type:",t),null!==tt&&void 0!==tt&&tt.DeliveryRate&&null!==tt&&void 0!==tt&&tt.DeliveryDistance){const t=tt.DeliveryRate/tt.DeliveryDistance;r=100+e*t}r=Math.round(100*r)/100,at(t=>Ne(Ne({},t),{},{newDistance:e,newCost:r}))}catch(m){console.error("Error calculating new route:",m)}},Bt=e=>{var t;const n=null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase();return"pending"===n||"accepted"===n},Ut=e=>{if(!Bt(e))return!1;const t=new Date(e.DeliveryDate),n=new Date,r=new Date(n.getTime()+2592e5),a=new Date(n.getTime()+864e5);return t>r||t>a&&t.getDate()!==n.getDate()},qt=e=>{le===e?pe("asc"===he?"desc":"asc"):(ue(e),pe("desc")),ie(1)},Wt=()=>Math.ceil(te.length/oe),Ht=e=>{dt(e),lt(!0);const t="pickup"===e?rt.pickupLocation:rt.dropoffLocation;isolatedMapModal.init({onSelectCallback:(e,t)=>{Vt({address:e,coordinates:t})},locationType:e,initialAddress:t,title:"Select ".concat("pickup"===e?"Pickup":"Dropoff"," Location")}).show()},Vt=e=>{const{address:t,coordinates:n}=e;at("pickup"===ct?e=>Ne(Ne({},e),{},{pickupLocation:t,pickupCoordinates:n}):e=>Ne(Ne({},e),{},{dropoffLocation:t,dropoffCoordinates:n})),lt(!1),setTimeout(()=>{const e=Ne(Ne({},rt),{},"pickup"===ct?{pickupLocation:t,pickupCoordinates:n}:{dropoffLocation:t,dropoffCoordinates:n});e.pickupLocation&&e.dropoffLocation&&zt()},100)};return h?(0,Jn.jsx)(Os,{message:"Loading profile..."}):m?(0,Jn.jsxs)("div",{className:"error-message",children:[(0,Jn.jsx)("h2",{children:"Error Loading Profile"}),(0,Jn.jsx)("p",{children:m}),(0,Jn.jsx)("button",{onClick:()=>window.location.reload(),className:"btn",children:"Retry"})]}):(0,Jn.jsxs)("div",{className:"w-full max-w-[1400px] mx-auto p-8 box-border animate-fade-in block md:p-4 bg-slate-50 h-full overflow-hidden",children:[(0,Jn.jsx)("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-gray-200 md:flex-col md:items-start md:gap-4"}),b?(0,Jn.jsx)(Um,{title:"Book Truck Rental",onClose:()=>y(!1),size:"large",children:(0,Jn.jsxs)("form",{onSubmit:jt,className:"flex flex-col gap-5",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"weight",className:"text-sm font-bold text-gray-700",children:"Cargo Weight (tons)"}),(0,Jn.jsxs)("div",{className:"flex gap-2",children:[(0,Jn.jsx)("input",{type:"number",id:"weight",name:"weight",value:w.weight,onChange:pt,className:"flex-1 w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,min:"0.1",step:"0.1",placeholder:"Enter cargo weight in tons"}),(0,Jn.jsx)("button",{type:"button",className:"px-4 py-2 rounded-xl font-bold text-white transition-all shadow-md ".concat(!w.weight||parseFloat(w.weight)<=0?"bg-gray-400 cursor-not-allowed":"bg-emerald-500 hover:bg-emerald-600 shadow-emerald-500/20 active:translate-y-0.5"),onClick:async()=>{const e=parseFloat(w.weight);e&&e>0?(console.log("\ud83d\ude80 Smart booking triggered for ".concat(e," tons")),await Tt(e)):Re("Invalid Input","Please enter a valid cargo weight first")},disabled:!w.weight||parseFloat(w.weight)<=0,children:"\ud83d\ude80 Smart Book"})]}),(0,Jn.jsx)("small",{className:"text-xs text-gray-500",children:'Enter cargo weight and click "Smart Book" to automatically find the optimal truck combination'})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{htmlFor:"pickupLocation",className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(rs,{className:"inline mr-1"})," Pickup Location"]}),(0,Jn.jsxs)("div",{className:"flex gap-2",children:[(0,Jn.jsx)("input",{type:"text",id:"pickupLocation",name:"pickupLocation",value:w.pickupLocation,onChange:e=>j(t=>Ne(Ne({},t),{},{pickupLocation:e.target.value})),className:"flex-1 w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"Enter pickup address"}),(0,Jn.jsxs)("button",{type:"button",className:"px-4 py-2 border border-gray-200 text-gray-600 bg-white hover:bg-gray-50 rounded-xl font-medium transition-colors flex items-center gap-2",onClick:()=>mt("pickup"),children:[(0,Jn.jsx)(hs,{})," Map"]})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{htmlFor:"dropoffLocation",className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(rs,{className:"inline mr-1"})," Drop-off Location"]}),(0,Jn.jsxs)("div",{className:"flex gap-2",children:[(0,Jn.jsx)("input",{type:"text",id:"dropoffLocation",name:"dropoffLocation",value:w.dropoffLocation,onChange:e=>j(t=>Ne(Ne({},t),{},{dropoffLocation:e.target.value})),className:"flex-1 w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"Enter delivery address"}),(0,Jn.jsxs)("button",{type:"button",className:"px-4 py-2 border border-gray-200 text-gray-600 bg-white hover:bg-gray-50 rounded-xl font-medium transition-colors flex items-center gap-2",onClick:()=>mt("dropoff"),children:[(0,Jn.jsx)(hs,{})," Map"]})]})]}),(0,Jn.jsx)("div",{className:"flex justify-center",children:(0,Jn.jsxs)("button",{type:"button",className:"px-4 py-2 border border-blue-200 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-xl font-bold flex items-center gap-2 transition-colors",onClick:ft,disabled:!w.pickupCoordinates||!w.dropoffCoordinates,children:[(0,Jn.jsx)(ds,{})," ",S?"Hide Route Preview":"Show Route Preview"]})}),w.pickupCoordinates&&w.dropoffCoordinates&&(0,Jn.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-100",children:[(0,Jn.jsx)("div",{className:"mb-3 pb-2 border-b border-blue-200/50",children:(0,Jn.jsx)("h4",{className:"text-sm font-bold text-blue-800 m-0 flex items-center gap-2",children:"\ud83d\ude9b Delivery Route Information (Philippines Only)"})}),(0,Jn.jsx)("div",{style:{display:"none"},children:(0,Jn.jsx)(Hm,{pickupCoordinates:w.pickupCoordinates,dropoffCoordinates:w.dropoffCoordinates,pickupAddress:w.pickupLocation,dropoffAddress:w.dropoffLocation,onRouteCalculated:gt})}),_&&(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[(0,Jn.jsxs)("div",{className:"flex items-start gap-3 bg-white p-3 rounded-lg shadow-sm border border-blue-100",children:[(0,Jn.jsx)("div",{className:"text-2xl mt-1",children:"\ud83d\udccf"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Distance"}),(0,Jn.jsx)("div",{className:"text-lg font-bold text-gray-800",children:_.distanceText})]})]}),(0,Jn.jsxs)("div",{className:"flex items-start gap-3 bg-white p-3 rounded-lg shadow-sm border border-blue-100",children:[(0,Jn.jsx)("div",{className:"text-2xl mt-1",children:"\u23f1\ufe0f"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Travel Time"}),(0,Jn.jsx)("div",{className:"text-lg font-bold text-gray-800",children:_.durationText})]})]}),_.averageSpeed&&(0,Jn.jsxs)("div",{className:"flex items-start gap-3 bg-white p-3 rounded-lg shadow-sm border border-blue-100 col-span-2",children:[(0,Jn.jsx)("div",{className:"text-2xl mt-1",children:"\ud83d\ude97"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Avg Speed"}),(0,Jn.jsxs)("div",{className:"text-lg font-bold text-gray-800",children:[_.averageSpeed," km/h"]})]})]})]}),_&&_.isShortestRoute&&(0,Jn.jsxs)("div",{className:"bg-emerald-100 text-emerald-800 text-xs px-3 py-2 rounded-lg font-medium mb-2 flex items-center gap-2",children:["\u2705 Shortest route automatically selected (",_.totalRoutes," routes analyzed)"]}),_&&_.isEstimate&&(0,Jn.jsx)("div",{className:"bg-amber-100 text-amber-800 text-xs px-3 py-2 rounded-lg font-medium flex items-center gap-2",children:"\u2139\ufe0f Estimated values based on Philippines road conditions"}),(0,Jn.jsx)("div",{className:"mt-3 flex justify-end",children:(0,Jn.jsxs)("button",{type:"button",className:"text-xs font-bold text-blue-600 hover:text-blue-700 underline flex items-center gap-1",onClick:ft,children:[(0,Jn.jsx)(ds,{})," ",S?"Hide Map":"View Map"]})})]}),S&&(0,Jn.jsxs)("div",{className:"mt-4 border rounded-xl overflow-hidden shadow-md",children:[(0,Jn.jsx)("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:(0,Jn.jsx)("h4",{className:"text-sm font-bold text-gray-700 m-0",children:"Delivery Route Map Preview"})}),(0,Jn.jsx)("div",{className:"h-64 w-full",children:(0,Jn.jsx)(Hm,{pickupCoordinates:w.pickupCoordinates,dropoffCoordinates:w.dropoffCoordinates,pickupAddress:w.pickupLocation,dropoffAddress:w.dropoffLocation,onRouteCalculated:gt})})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{htmlFor:"deliveryDate",className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(Pa,{className:"inline mr-1"})," Delivery Date"]}),(0,Jn.jsx)("input",{type:"date",id:"deliveryDate",name:"deliveryDate",value:w.deliveryDate,onChange:yt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,min:(new Date).toISOString().split("T")[0],disabled:F}),F&&(0,Jn.jsx)("small",{className:"text-xs text-blue-600 animate-pulse font-medium",children:"\ud83d\udd0d Checking truck availability..."}),w.deliveryDate&&E.length>0&&(0,Jn.jsxs)("small",{className:"text-xs text-emerald-600 font-medium",children:["\u2705 ",E.length," truck(s) available on this date"]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"deliveryTime",className:"text-sm font-bold text-gray-700",children:"Delivery Time"}),(0,Jn.jsx)("input",{type:"time",id:"deliveryTime",name:"deliveryTime",value:w.deliveryTime,onChange:e=>j(t=>Ne(Ne({},t),{},{deliveryTime:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,Jn.jsxs)("div",{className:"bg-blue-50 text-blue-700 p-3 rounded-xl border border-blue-200 text-sm flex items-start gap-2",children:[(0,Jn.jsx)("span",{className:"text-lg",children:"\ud83d\udca1"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("strong",{children:"Tip:"})," If you select a saved location, contact info will be auto-filled"]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[(0,Jn.jsx)("h5",{className:"text-sm font-bold text-blue-800 uppercase tracking-wider mb-4 border-b border-gray-200 pb-2",children:"\ud83d\udccd Pickup Contact Information"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{htmlFor:"pickupContactPerson",className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(Cs,{className:"inline mr-1"})," Contact Person"," ",(0,Jn.jsx)("span",{className:"text-gray-400 font-normal text-xs",children:"(Optional)"})]}),(0,Jn.jsx)("input",{type:"text",id:"pickupContactPerson",name:"pickupContactPerson",value:w.pickupContactPerson||"",onChange:e=>j(t=>Ne(Ne({},t),{},{pickupContactPerson:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Person at pickup"})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{htmlFor:"pickupContactNumber",className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(os,{className:"inline mr-1"})," Contact Number"," ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsx)("input",{type:"tel",id:"pickupContactNumber",name:"pickupContactNumber",value:w.pickupContactNumber||"",onChange:e=>j(t=>Ne(Ne({},t),{},{pickupContactNumber:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"e.g., 09605877964"})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[(0,Jn.jsx)("h5",{className:"text-sm font-bold text-blue-800 uppercase tracking-wider mb-4 border-b border-gray-200 pb-2",children:"\ud83d\udccd Dropoff Contact Information"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{htmlFor:"dropoffContactPerson",className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(Cs,{className:"inline mr-1"})," Contact Person"," ",(0,Jn.jsx)("span",{className:"text-gray-400 font-normal text-xs",children:"(Optional)"})]}),(0,Jn.jsx)("input",{type:"text",id:"dropoffContactPerson",name:"dropoffContactPerson",value:w.dropoffContactPerson||"",onChange:e=>j(t=>Ne(Ne({},t),{},{dropoffContactPerson:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Person at dropoff"})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{htmlFor:"dropoffContactNumber",className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(os,{className:"inline mr-1"})," Contact Number"," ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsx)("input",{type:"tel",id:"dropoffContactNumber",name:"dropoffContactNumber",value:w.dropoffContactNumber||"",onChange:e=>j(t=>Ne(Ne({},t),{},{dropoffContactNumber:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"e.g., 09605877964"})]})]})]}),w.selectedTrucks.length>0&&_&&(0,Jn.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-200 shadow-sm relative overflow-hidden",children:[(0,Jn.jsx)("h4",{className:"text-base font-bold text-blue-900 mb-3 pb-2 border-b border-blue-200 mx-0 flex items-center gap-2",children:"\ud83e\uddee Estimated Cost"}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Jn.jsx)("span",{className:"text-gray-600 font-medium",children:"Distance:"}),(0,Jn.jsx)("span",{className:"font-bold text-gray-800",children:_.distanceText})]}),(0,Jn.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Jn.jsx)("span",{className:"text-gray-600 font-medium",children:"Selected Trucks:"}),(0,Jn.jsxs)("span",{className:"font-bold text-gray-800",children:[w.selectedTrucks.length," truck",1!==w.selectedTrucks.length?"s":""]})]}),(0,Jn.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Jn.jsx)("span",{className:"text-gray-600 font-medium",children:"Estimated Cost per Truck:"}),(0,Jn.jsxs)("span",{className:"font-bold text-blue-700",children:["\u20b1",xt()]})]}),(0,Jn.jsxs)("div",{className:"flex justify-between items-center pt-2 mt-1 border-t border-blue-200/50",children:[(0,Jn.jsx)("span",{className:"text-base font-bold text-blue-900",children:"Total Estimated Cost:"}),(0,Jn.jsxs)("span",{className:"text-xl font-extrabold text-blue-700",children:["\u20b1",vt()]})]}),(()=>{if(!_||!w.selectedTrucks.length)return null;const e=l.find(e=>w.selectedTrucks.includes(e.TruckID));if(!e)return null;const t=e.TruckType||"mini truck",n=_.distanceValue||0;let r=z.find(e=>e.vehicleType===t);if(r){const e=parseFloat(r.baseRate)||0,a=parseFloat(r.ratePerKm)||0;return(0,Jn.jsx)("div",{className:"text-xs text-gray-500 mt-1 italic text-right",children:(0,Jn.jsxs)("small",{children:[t,": \u20b1",e," base + ",n,"km \xd7 \u20b1",a,"/km \xd7 ",w.selectedTrucks.length," ","truck",1!==w.selectedTrucks.length?"s":""]})})}return null})(),(0,Jn.jsx)("div",{className:"text-xs text-gray-500 mt-2 bg-white/50 p-2 rounded border border-blue-100",children:"* Final pricing calculated using current vehicle rates set by staff"})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"Select Trucks for Booking"}),(0,Jn.jsx)("p",{className:"text-xs text-gray-500 m-0",children:"\ud83d\udccb Only trucks allocated to your account can be booked. Contact your account manager if you need additional trucks."}),w.weight&&N.length>0&&(0,Jn.jsxs)("div",{className:"bg-emerald-50 text-emerald-800 p-3 rounded-xl border border-emerald-200 mb-3 flex items-start gap-2 text-sm",children:[(0,Jn.jsx)("span",{className:"text-lg",children:"\u2699\ufe0f"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("strong",{children:"Smart Recommendation:"})," ",N.length," truck",1!==N.length?"s":""," recommended for"," ",w.weight," tons cargo"]})]}),(()=>{console.log("\ud83d\udd0d UI Filter: Checking ".concat(l.length," allocated trucks"));let e=l.filter(e=>{var t,n;const r=(null===(t=e.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(n=e.OperationalStatus)||void 0===n?void 0:n.toLowerCase());return"maintenance"!==r&&"broken"!==r});return w.deliveryDate&&E.length>0?e=e.filter(e=>E.includes(e.TruckID)):w.deliveryDate&&(e=e.filter(e=>!d.some(t=>{if((t.TruckID||t.truckId)!==e.TruckID)return!1;const n=(t.DeliveryStatus||t.deliveryStatus||"").toLowerCase();if(!["pending","in-progress","started","picked-up"].includes(n))return!1;let r=t.deliveryDateString;return!r&&t.DeliveryDate&&(r=t.DeliveryDate.seconds?new Date(1e3*t.DeliveryDate.seconds).toISOString().split("T")[0]:new Date(t.DeliveryDate).toISOString().split("T")[0]),r===new Date(w.deliveryDate).toISOString().split("T")[0]}))),e.length>0?(0,Jn.jsx)("div",{children:(0,Jn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto pr-1 custom-scrollbar",children:e.map((t,n)=>{const r=N.some(e=>e.TruckID===t.TruckID),a=w.selectedTrucks.includes(t.TruckID),s=parseFloat(t.TruckCapacity)||0,i=parseFloat(w.weight)||0;let o=0,l=0;if(a&&i>0){const t=w.selectedTrucks.map(t=>e.find(e=>e.TruckID===t)).filter(e=>e).sort((e,t)=>(parseFloat(t.TruckCapacity)||0)-(parseFloat(e.TruckCapacity)||0)),n=t.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0);n>0&&(o=s/n*i,l=o/s*100)}return(0,Jn.jsxs)("div",{className:"relative border rounded-xl p-3 cursor-pointer transition-all hover:translate-y-[-2px] hover:shadow-md ".concat(a?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":r?"border-amber-400 bg-amber-50":"border-gray-200 bg-white hover:bg-gray-50"),onClick:()=>wt(t.TruckID),children:[r&&(0,Jn.jsx)("div",{className:"absolute top-2 right-2 bg-amber-400 text-white text-[10px] font-extrabold px-2 py-0.5 rounded shadow-sm z-10",children:"RECOMMENDED"}),(0,Jn.jsxs)("div",{className:"flex gap-3 items-center mb-2",children:[(0,Jn.jsx)("div",{className:"p-2 rounded-lg ".concat(a?"bg-blue-200 text-blue-700":"bg-gray-100 text-gray-500"),children:(0,Jn.jsx)(ks,{className:"text-xl"})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"font-bold text-gray-800 text-sm",children:t.TruckPlate}),(0,Jn.jsx)("div",{className:"text-xs text-gray-500 uppercase font-medium",children:t.TruckType})]})]}),(0,Jn.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[t.TruckCapacity," tons capacity"]}),o>0&&(0,Jn.jsx)("div",{className:"text-xs font-bold text-blue-600 mb-2",children:o>0?"".concat(o.toFixed(1),"t cargo"):"Backup truck"}),(0,Jn.jsx)("div",{className:"absolute top-2 right-2",children:a&&(0,Jn.jsx)("span",{className:"text-blue-600 font-bold text-lg",children:"\u2713"})}),(0,Jn.jsx)("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:(0,Jn.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(l>100?"bg-red-500":"bg-emerald-500"),style:{width:"".concat(Math.min(100,l),"%")}})}),(0,Jn.jsxs)("div",{className:"text-[10px] text-gray-500 mt-1 text-right font-medium",children:[l.toFixed(0),"% utilized"]})]},t.TruckID)})})}):(0,Jn.jsxs)("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-xl p-6 text-center text-gray-500",children:[(0,Jn.jsx)("p",{className:"m-0 font-medium",children:"No available trucks for booking."}),(0,Jn.jsx)("p",{className:"m-0 text-sm mt-1",children:"All trucks are currently in use or contact your account manager to get trucks allocated."})]})})(),(0,Jn.jsxs)("small",{className:"text-xs text-gray-500 mt-2 block",children:[w.selectedTrucks.length," truck",1!==w.selectedTrucks.length?"s":""," selected",w.selectedTrucks.length>0&&(0,Jn.jsxs)("span",{className:"font-medium text-gray-700",children:[" ","\u2022 Total capacity:"," ",w.selectedTrucks.map(e=>l.find(t=>t.TruckID===e)).filter(e=>e).reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0)," ","tons"]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{type:"button",className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",onClick:()=>y(!1),children:"Cancel"}),(0,Jn.jsxs)("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-bold shadow-md shadow-blue-500/20 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",disabled:0===w.selectedTrucks.length,children:["Book ",w.selectedTrucks.length," Truck",1!==w.selectedTrucks.length?"s":""]})]})]})}):null,(0,Jn.jsx)(qm,{isOpen:Ee.isOpen,onClose:Ie,title:Ee.title,message:Ee.message,type:Ee.type,confirmText:Ee.confirmText,cancelText:Ee.cancelText,onConfirm:Ee.onConfirm,size:Ee.size}),A&&T&&(0,Jn.jsx)(Um,{title:"Delivery Route",onClose:()=>D(!1),size:"large",children:(0,Jn.jsxs)("div",{className:"p-6",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-start mb-6 bg-slate-50 p-4 rounded-lg border border-slate-100",children:[(0,Jn.jsxs)("h4",{className:"m-0 text-blue-900 font-bold text-lg flex items-center gap-2",children:[(0,Jn.jsx)(rs,{className:"text-amber-500"})," Route Details"]}),(0,Jn.jsxs)("div",{className:"text-right text-sm",children:[(0,Jn.jsxs)("div",{className:"mb-1",children:[(0,Jn.jsx)("strong",{className:"text-gray-700",children:"Pickup:"})," ",(0,Jn.jsx)("span",{className:"text-gray-600 block sm:inline",children:T.pickupLocation})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("strong",{className:"text-gray-700",children:"Dropoff:"})," ",(0,Jn.jsx)("span",{className:"text-gray-600 block sm:inline",children:T.dropoffLocation})]})]})]}),T.pickupCoordinates&&T.dropoffCoordinates&&(0,Jn.jsx)("div",{className:"h-[400px] w-full rounded-xl overflow-hidden border border-gray-200 shadow-inner mb-6 relative",children:(0,Jn.jsx)(Hm,{pickupCoordinates:T.pickupCoordinates,dropoffCoordinates:T.dropoffCoordinates,pickupAddress:T.pickupLocation,dropoffAddress:T.dropoffLocation,onRouteCalculated:()=>{}})}),(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-4 bg-blue-50 p-5 rounded-xl border border-blue-100",children:[(0,Jn.jsxs)("div",{className:"flex flex-col items-center justify-center p-2",children:[(0,Jn.jsx)("span",{className:"text-xs font-bold text-blue-400 uppercase tracking-wider mb-1",children:"Distance"}),(0,Jn.jsxs)("span",{className:"text-2xl font-bold text-blue-900",children:[T.distance," km"]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col items-center justify-center p-2 border-l border-blue-200",children:[(0,Jn.jsx)("span",{className:"text-xs font-bold text-blue-400 uppercase tracking-wider mb-1",children:"Duration"}),(0,Jn.jsxs)("span",{className:"text-2xl font-bold text-blue-900",children:[T.duration," min"]})]})]})]})}),(0,Jn.jsxs)("div",{className:"w-full flex-1 flex flex-col items-center relative z-10 box-border overflow-hidden",children:["overview"===x&&(0,Jn.jsxs)("div",{className:"flex flex-col gap-8 w-full max-w-[1400px] mx-auto box-border overflow-hidden",children:[(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full mx-auto",children:[(0,Jn.jsxs)("div",{className:"bg-white rounded-xl p-6 flex items-center gap-5 shadow-sm border border-amber-400/20 transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-amber-400 min-h-[110px] h-full",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl text-white shrink-0 shadow-sm bg-gradient-to-br from-blue-700 to-blue-900",children:(0,Jn.jsx)(ks,{})}),(0,Jn.jsxs)("div",{className:"flex flex-col",children:[(0,Jn.jsx)("h3",{className:"m-0 mb-1 text-2xl font-bold bg-gradient-to-r from-blue-900 to-amber-500 bg-clip-text text-transparent",children:l.length}),(0,Jn.jsx)("p",{className:"m-0 text-gray-500 font-medium text-sm",children:"Allocated Trucks"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white rounded-xl p-6 flex items-center gap-5 shadow-sm border border-amber-400/20 transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-amber-400 min-h-[110px] h-full",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl text-white shrink-0 shadow-sm bg-gradient-to-br from-emerald-600 to-emerald-800",children:(0,Jn.jsx)(ms,{})}),(0,Jn.jsxs)("div",{className:"flex flex-col",children:[(0,Jn.jsx)("h3",{className:"m-0 mb-1 text-2xl font-bold bg-gradient-to-r from-blue-900 to-amber-500 bg-clip-text text-transparent",children:St().length}),(0,Jn.jsx)("p",{className:"m-0 text-gray-500 font-medium text-sm",children:"Active Deliveries"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white rounded-xl p-6 flex items-center gap-5 shadow-sm border border-amber-400/20 transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-amber-400 min-h-[110px] h-full",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl text-white shrink-0 shadow-sm bg-gradient-to-br from-violet-600 to-purple-700",children:(0,Jn.jsx)(Ja,{})}),(0,Jn.jsxs)("div",{className:"flex flex-col",children:[(0,Jn.jsx)("h3",{className:"m-0 mb-1 text-2xl font-bold bg-gradient-to-r from-blue-900 to-amber-500 bg-clip-text text-transparent",children:Ct().length}),(0,Jn.jsx)("p",{className:"m-0 text-gray-500 font-medium text-sm",children:"Completed"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white rounded-xl p-6 flex items-center gap-5 shadow-sm border border-amber-400/20 transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-amber-400 min-h-[110px] h-full",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-xl text-white shrink-0 shadow-sm bg-gradient-to-br from-amber-500 to-amber-700",children:(0,Jn.jsx)(za,{})}),(0,Jn.jsxs)("div",{className:"flex flex-col",children:[(0,Jn.jsx)("h3",{className:"m-0 mb-1 text-2xl font-bold bg-gradient-to-r from-blue-900 to-amber-500 bg-clip-text text-transparent",children:_t(d.reduce((e,t)=>e+(t.deliveryRate||750),0))}),(0,Jn.jsx)("p",{className:"m-0 text-gray-500 font-medium text-sm",children:"Total Spent"})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl p-8 md:p-10 shadow-sm border border-amber-400/20 w-full mb-8",children:[(0,Jn.jsx)("h3",{className:"m-0 mb-6 text-blue-900 text-2xl font-bold",children:"Recent Activity"}),(0,Jn.jsx)("div",{className:"flex flex-col gap-5 max-h-[400px] overflow-y-auto pr-2",children:d.slice(0,5).map(e=>(0,Jn.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-slate-50 border border-slate-100 transition-all hover:bg-white hover:shadow-md hover:border-blue-100 group",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center shrink-0 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:(0,Jn.jsx)(ms,{})}),(0,Jn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Jn.jsxs)("h4",{className:"m-0 text-gray-800 font-semibold text-sm mb-1 truncate",children:["Delivery #",e.DeliveryID]}),(0,Jn.jsxs)("p",{className:"m-0 text-gray-500 text-xs truncate",children:[e.PickupLocation," \u2192 ",e.DropoffLocation]}),(0,Jn.jsx)("span",{className:"block mt-1 text-[10px] text-gray-400 uppercase tracking-wider font-semibold",children:Pt(e.DeliveryDate,e)})]}),(0,Jn.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat(At(e.DeliveryStatus)),children:e.DeliveryStatus})]},e.DeliveryID))})]})]}),"transactions"===x&&(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl p-0 shadow-sm border border-amber-400/20 box-border w-full flex flex-col mb-8 overflow-hidden",children:[(0,Jn.jsx)("div",{className:"bg-gradient-to-br from-white to-gray-50 border-b border-gray-100 p-8 flex justify-between items-center",children:(0,Jn.jsx)("h3",{className:"text-2xl font-bold text-blue-900 m-0",children:"Booking History"})}),(0,Jn.jsxs)("div",{className:"p-4 bg-white border-b border-gray-100 relative",children:[(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,Jn.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,Jn.jsx)(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search bookings by ID, truck, location...",value:$||"",onChange:e=>J(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,Jn.jsx)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(re?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>ae(!re),children:[(0,Jn.jsx)($a,{size:14}),"Filters",("all"!==X||"all"!==Z)&&(0,Jn.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:["all"!==X,"all"!==Z].filter(Boolean).length})]})})]}),(0,Jn.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium",children:["Showing ",te.length," of ",d.length," ","bookings"]}),re&&(0,Jn.jsxs)("div",{className:"absolute top-full mt-2 right-4 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-[360px] max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Jn.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,Jn.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>ae(!1),children:(0,Jn.jsx)(js,{size:16})})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,Jn.jsxs)("select",{value:X||"all",onChange:e=>Q(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Status"}),(0,Jn.jsx)("option",{value:"pending",children:"Pending"}),(0,Jn.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,Jn.jsx)("option",{value:"delivered",children:"Delivered"})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Date Range"}),(0,Jn.jsxs)("select",{value:Z||"all",onChange:e=>ee(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Time"}),(0,Jn.jsx)("option",{value:"today",children:"Today"}),(0,Jn.jsx)("option",{value:"week",children:"This Week"}),(0,Jn.jsx)("option",{value:"month",children:"This Month"}),(0,Jn.jsx)("option",{value:"year",children:"This Year"})]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{J(""),Q("all"),ee("all"),ae(!1)},children:"Reset"}),(0,Jn.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>ae(!1),children:"Apply Filters"})]})]})]}),0===te.length?(0,Jn.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center text-gray-400 bg-white",children:[(0,Jn.jsx)("div",{className:"text-5xl mb-4 opacity-50",children:(0,Jn.jsx)(Ya,{})}),(0,Jn.jsx)("h3",{className:"text-lg font-bold text-gray-600 mb-2",children:"No bookings found"}),(0,Jn.jsx)("p",{className:"max-w-md mx-auto",children:"No bookings match your current filters. Try adjusting your search criteria."})]}):(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsx)("div",{className:"overflow-x-auto overflow-y-auto max-h-[calc(100vh-350px)] w-full",children:(0,Jn.jsxs)("table",{className:"w-full border-collapse min-w-[1000px]",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{className:"bg-gray-50/50",children:[(0,Jn.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-blue-600 transition-colors select-none",onClick:()=>qt("DeliveryID"),children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("span",{children:"Delivery ID"}),"DeliveryID"===le&&(0,Jn.jsx)("span",{className:"text-blue-500",children:"asc"===he?"\u25b2":"\u25bc"})]})}),(0,Jn.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-blue-600 transition-colors select-none",onClick:()=>qt("DeliveryDate"),children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)(Pa,{}),(0,Jn.jsx)("span",{children:"Delivery Date"}),"DeliveryDate"===le&&(0,Jn.jsx)("span",{className:"text-blue-500",children:"asc"===he?"\u25b2":"\u25bc"})]})}),(0,Jn.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)(ks,{}),(0,Jn.jsx)("span",{children:"Truck"})]})}),(0,Jn.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-blue-600 transition-colors select-none",onClick:()=>qt("DeliveryStatus"),children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("span",{children:"Status"}),"DeliveryStatus"===le&&(0,Jn.jsx)("span",{className:"text-blue-500",children:"asc"===he?"\u25b2":"\u25bc"})]})}),(0,Jn.jsx)("th",{className:"text-right py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,Jn.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,Jn.jsx)("span",{children:"Actions"})})})]})}),(0,Jn.jsx)("tbody",{children:(()=>{const e=(t=te,[...t].sort((e,t)=>{let n=e[le],r=t[le];return"DeliveryDate"===le&&(n=new Date(n).getTime(),r=new Date(r).getTime()),"asc"===he?n>r?1:-1:n<r?1:-1}));var t;const n=(se-1)*oe,r=n+oe;return e.slice(n,r)})().map(e=>{var t,n,r,a;return(0,Jn.jsxs)("tr",{className:"group hover:bg-blue-50/30 transition-colors border-b border-gray-100 last:border-none",children:[(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,Jn.jsxs)("div",{className:"font-mono font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded border border-blue-100 inline-block text-xs",children:["#",(null===(t=e.DeliveryID)||void 0===t?void 0:t.substring(0,12))||"N/A"]})}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,Jn.jsx)("div",{className:"text-gray-600 font-medium",children:Pt(e.DeliveryDate,e)})}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("span",{className:"font-bold text-gray-800 bg-gray-100 px-2 py-0.5 rounded text-xs border border-gray-200 w-fit",children:e.TruckPlate||"N/A"}),e.TruckBrand&&"Unknown"!==e.TruckBrand&&(0,Jn.jsx)("span",{className:"text-xs text-gray-500",children:e.TruckBrand})]})}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,Jn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat("pending"===(null===(n=e.DeliveryStatus)||void 0===n?void 0:n.toLowerCase())?"bg-amber-100 text-amber-700":"completed"===(null===(r=e.DeliveryStatus)||void 0===r?void 0:r.toLowerCase())?"bg-emerald-100 text-emerald-700":"cancelled"===(null===(a=e.DeliveryStatus)||void 0===a?void 0:a.toLowerCase())?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"),children:e.DeliveryStatus})}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,Jn.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,Jn.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600 border border-transparent hover:border-blue-200",onClick:()=>(e=>{xe(e),fe(!0)})(e),title:"View details",children:(0,Jn.jsx)(Ga,{})}),Ut(e)&&(0,Jn.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-amber-100 hover:text-amber-600 border border-transparent hover:border-amber-200",onClick:()=>Ot(e),title:"Reschedule",children:(0,Jn.jsx)(Pa,{})}),Ut(e)&&(0,Jn.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-purple-100 hover:text-purple-600 border border-transparent hover:border-purple-200",onClick:()=>Ft(e),title:"Reroute",children:(0,Jn.jsx)(ds,{})}),Bt(e)&&(0,Jn.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-red-100 hover:text-red-600 border border-transparent hover:border-red-200",onClick:()=>Mt(e),title:"Cancel",children:(0,Jn.jsx)(js,{})})]})})]},e.DeliveryID)})})]})}),Wt()>1&&(0,Jn.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-gray-200",children:[(0,Jn.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing ",(se-1)*oe+1," to"," ",Math.min(se*oe,te.length)," ","of ",te.length," bookings"]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("button",{className:"px-3 py-1.5 rounded-lg border border-gray-300 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:1===se,onClick:()=>ie(1),children:"First"}),(0,Jn.jsx)("button",{className:"px-3 py-1.5 rounded-lg border border-gray-300 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:1===se,onClick:()=>ie(se-1),children:"Previous"}),(0,Jn.jsxs)("span",{className:"text-sm font-medium text-gray-700 bg-gray-100 px-3 py-1.5 rounded-lg",children:["Page ",se," of ",Wt()]}),(0,Jn.jsx)("button",{className:"px-3 py-1.5 rounded-lg border border-gray-300 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:se===Wt(),onClick:()=>ie(se+1),children:"Next"}),(0,Jn.jsx)("button",{className:"px-3 py-1.5 rounded-lg border border-gray-300 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:se===Wt(),onClick:()=>ie(Wt()),children:"Last"})]})]})]})]}),"trucks"===x&&(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl p-0 shadow-sm border border-amber-400/20 box-border w-full flex flex-col mb-8 overflow-hidden",children:[(0,Jn.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 border-b border-gray-100 p-8 flex justify-between items-center bg-white",children:[(0,Jn.jsxs)("h3",{className:"text-2xl font-bold text-blue-900 m-0",children:["My Allocated Trucks (",l.length,")"]}),(0,Jn.jsx)("div",{className:"flex gap-3",children:(0,Jn.jsxs)("button",{onClick:()=>a.push("/client/book-truck"),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-4 py-2 rounded-lg font-bold shadow-md shadow-blue-500/20 flex items-center gap-2 transition-all hover:-translate-y-0.5",children:[(0,Jn.jsx)(ls,{})," Book Truck"]})})]}),(0,Jn.jsxs)("div",{className:"p-4 bg-white border-b border-gray-100 relative",children:[(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,Jn.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,Jn.jsx)(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search trucks by plate, type, brand...",value:U.search,onChange:e=>Rt("search",e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(K?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>Y(!K),children:[(0,Jn.jsx)($a,{size:14}),"Filters",("all"!==U.type||"all"!==U.status)&&(0,Jn.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:["all"!==U.type,"all"!==U.status].filter(Boolean).length})]}),(0,Jn.jsxs)("select",{value:W,onChange:e=>{H(Number(e.target.value)),G(1)},className:"px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:6,children:"6 per page"}),(0,Jn.jsx)("option",{value:12,children:"12 per page"}),(0,Jn.jsx)("option",{value:24,children:"24 per page"}),(0,Jn.jsx)("option",{value:48,children:"48 per page"})]})]})]}),(0,Jn.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium",children:["Showing ",Et().length," of"," ",Lt().length," trucks"]}),K&&(0,Jn.jsxs)("div",{className:"absolute top-full mt-2 right-4 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-[360px] max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Jn.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,Jn.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>Y(!1),children:(0,Jn.jsx)(js,{size:16})})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Type"}),(0,Jn.jsxs)("select",{value:U.type,onChange:e=>Rt("type",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Types"}),[...new Set(l.map(e=>e.TruckType).filter(Boolean))].sort().map(e=>(0,Jn.jsx)("option",{value:e,children:e},e))]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,Jn.jsxs)("select",{value:U.status,onChange:e=>Rt("status",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Status"}),(0,Jn.jsx)("option",{value:"available",children:"Available"}),(0,Jn.jsx)("option",{value:"busy",children:"In Use"})]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{q({type:"all",status:"all",search:""}),G(1),Y(!1)},children:"Reset"}),(0,Jn.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>Y(!1),children:"Apply Filters"})]})]})]}),0===Et().length?(0,Jn.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center text-gray-400 bg-white",children:[(0,Jn.jsx)("div",{className:"text-5xl mb-4 opacity-50",children:"\ud83d\ude9b"}),(0,Jn.jsx)("h3",{className:"text-lg font-bold text-gray-600 mb-2",children:"No trucks found"}),(0,Jn.jsx)("p",{className:"max-w-md mx-auto",children:"No trucks match your current filters. Try adjusting your search criteria."})]}):(0,Jn.jsx)("div",{className:"overflow-x-auto overflow-y-auto max-h-[calc(100vh-350px)] w-full",children:(0,Jn.jsxs)("table",{className:"w-full border-collapse min-w-[1000px]",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{className:"bg-gray-50/50",children:[(0,Jn.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)(ks,{}),(0,Jn.jsx)("span",{children:"Truck Plate"})]})}),(0,Jn.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,Jn.jsx)("div",{className:"flex items-center gap-2",children:(0,Jn.jsx)("span",{children:"Type"})})}),(0,Jn.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,Jn.jsx)("div",{className:"flex items-center gap-2",children:(0,Jn.jsx)("span",{children:"Brand"})})}),(0,Jn.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,Jn.jsx)("div",{className:"flex items-center gap-2",children:(0,Jn.jsx)("span",{children:"Capacity"})})}),(0,Jn.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,Jn.jsx)("div",{className:"flex items-center gap-2",children:(0,Jn.jsx)("span",{children:"Deliveries"})})}),(0,Jn.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,Jn.jsx)("div",{className:"flex items-center gap-2",children:(0,Jn.jsx)("span",{children:"Total KM"})})}),(0,Jn.jsx)("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,Jn.jsx)("div",{className:"flex items-center gap-2",children:(0,Jn.jsx)("span",{children:"Status"})})}),(0,Jn.jsx)("th",{className:"text-right py-4 px-6 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:(0,Jn.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,Jn.jsx)("span",{children:"Actions"})})})]})}),(0,Jn.jsx)("tbody",{children:Et().map(e=>{var t,n,r,s,i;const o=null===(t=e.TruckStatus)||void 0===t?void 0:t.toLowerCase(),l=((null===(n=e.allocationStatus)||void 0===n?void 0:n.toLowerCase())||(null===(r=e.AllocationStatus)||void 0===r||r.toLowerCase()),(null===(s=e.operationalStatus)||void 0===s?void 0:s.toLowerCase())||(null===(i=e.OperationalStatus)||void 0===i?void 0:i.toLowerCase())),c=d.some(t=>t.TruckID===e.TruckID&&("pending"===t.DeliveryStatus||"in-progress"===t.DeliveryStatus)),u="maintenance"!==o&&"out-of-service"!==o&&"maintenance"!==l&&"out-of-service"!==l,h=c?"In Use":"Available",p=c?"busy":"available";return(0,Jn.jsxs)("tr",{className:"group hover:bg-blue-50/30 transition-colors border-b border-gray-100 last:border-none",children:[(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,Jn.jsx)("div",{className:"font-mono font-bold text-gray-800 bg-gray-100 px-2 py-1 rounded border border-gray-200 inline-block text-xs",children:e.TruckPlate})}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,Jn.jsx)("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs font-semibold border border-blue-100 uppercase tracking-wide",children:e.TruckType})}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:e.TruckBrand}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,Jn.jsxs)("span",{className:"font-semibold text-gray-700",children:[e.TruckCapacity," tons"]})}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,Jn.jsx)("span",{className:"font-bold text-blue-600",children:e.TotalCompletedDeliveries||0})}),(0,Jn.jsxs)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:[e.TotalKilometers||0," km"]}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,Jn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat("busy"===p?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"),children:h})}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm align-middle bg-white group-hover:bg-blue-50/30 transition-colors",children:(0,Jn.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[u&&(0,Jn.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600 border border-transparent hover:border-blue-200",onClick:()=>a.push("/client/book-truck"),title:c?"Book this truck (has active delivery but can be booked on different dates)":"Book this truck",children:(0,Jn.jsx)(Aa,{})}),(0,Jn.jsx)("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600 border border-transparent hover:border-blue-200",onClick:()=>(e=>{we(e),be(!0)})(e),title:"View details",children:(0,Jn.jsx)(Ga,{})})]})})]},e.TruckID)})})]})}),It()>1&&(0,Jn.jsxs)("div",{className:"flex justify-center items-center p-6 border-t border-gray-200 gap-4",children:[(0,Jn.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:1===V,onClick:()=>G(e=>e-1),children:"Previous"}),(0,Jn.jsxs)("div",{className:"text-sm font-medium text-gray-600",children:["Page ",V," of ",It()]}),(0,Jn.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:V===It(),onClick:()=>G(e=>e+1),children:"Next"})]}),0===l.length&&(0,Jn.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center text-gray-400 bg-white border-t border-gray-100",children:[(0,Jn.jsx)("div",{className:"text-5xl mb-4 opacity-50",children:"\ud83d\ude9b"}),(0,Jn.jsx)("h3",{className:"text-lg font-bold text-gray-600 mb-2",children:"No Trucks Allocated"}),(0,Jn.jsx)("p",{className:"max-w-md mx-auto",children:"Contact your account manager to allocate trucks to your account."})]})]}),"billing"===x&&(0,Jn.jsx)(Xm,{onBillingDataUpdate:e=>{Ye(e)}}),"profile"===x&&(0,Jn.jsxs)("div",{className:"flex flex-col gap-6 w-full max-w-[1400px] mx-auto",children:[(0,Jn.jsx)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-amber-400/20 w-full flex flex-col items-center text-center max-w-4xl mx-auto",children:(0,Jn.jsxs)("div",{className:"w-full",children:[(0,Jn.jsx)("div",{className:"w-24 h-24 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center text-4xl mb-4 border-4 border-white shadow-md mx-auto",children:(0,Jn.jsx)(Cs,{})}),(0,Jn.jsx)("h2",{className:"text-2xl font-bold text-gray-800 m-0 mb-1",children:(null===i||void 0===i?void 0:i.ClientName)||"Client Name"}),(0,Jn.jsxs)("p",{className:"text-sm text-gray-500 font-medium uppercase tracking-wide mb-6",children:["Transportation Client \u2022 ID:"," ",(null===i||void 0===i||null===(e=i.ClientID)||void 0===e?void 0:e.substring(0,8))||"Unknown"]}),(0,Jn.jsxs)("div",{className:"flex gap-8 justify-center w-full border-t border-gray-100 pt-6",children:[(0,Jn.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,Jn.jsx)("span",{className:"text-xl font-bold text-blue-900",children:St().length}),(0,Jn.jsx)("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Active Deliveries"})]}),(0,Jn.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,Jn.jsx)("span",{className:"text-xl font-bold text-blue-900",children:Ct().length}),(0,Jn.jsx)("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Completed"})]}),(0,Jn.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,Jn.jsx)("span",{className:"text-xl font-bold text-blue-900",children:l.length}),(0,Jn.jsx)("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Trucks"})]})]})]})}),(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-amber-400/20 w-full relative max-w-4xl mx-auto",children:[(0,Jn.jsxs)("button",{className:"absolute top-8 right-8 flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg font-bold text-sm transition-all hover:bg-blue-100 hover:text-blue-700",onClick:()=>{Pe({clientName:(null===i||void 0===i?void 0:i.ClientName)||"",clientEmail:(null===i||void 0===i?void 0:i.ClientEmail)||"",clientNumber:(null===i||void 0===i?void 0:i.ClientNumber)||""}),ke(!0)},children:[(0,Jn.jsx)(Ua,{})," Edit Profile"]}),(0,Jn.jsx)("div",{className:"mb-6 pb-4 border-b border-gray-100",children:(0,Jn.jsx)("h3",{className:"m-0 text-xl font-bold text-blue-900",children:"Account Information"})}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,Jn.jsx)(Cs,{})}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Full Name"}),(0,Jn.jsx)("span",{className:"text-base font-semibold text-gray-700 break-words",children:(null===i||void 0===i?void 0:i.ClientName)||"Not specified"})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,Jn.jsx)(qa,{})}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Email Address"}),(0,Jn.jsx)("span",{className:"text-base font-semibold text-gray-700 break-words",children:(null===i||void 0===i?void 0:i.ClientEmail)||"Not specified"})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,Jn.jsx)(os,{})}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Phone Number"}),(0,Jn.jsx)("span",{className:"text-base font-semibold text-gray-700 break-words",children:(null===i||void 0===i?void 0:i.ClientNumber)||"Not specified"})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,Jn.jsx)(_a,{})}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Client ID"}),(0,Jn.jsx)("span",{className:"text-base font-semibold text-gray-700 break-words",children:(null===i||void 0===i?void 0:i.ClientID)||"Not specified"})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,Jn.jsx)(rs,{})}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Account Status"}),(0,Jn.jsx)("span",{style:{color:"active"===(null===i||void 0===i?void 0:i.ClientStatus)?"#10b981":"#ef4444",fontWeight:"600",textTransform:"capitalize"},children:(null===i||void 0===i?void 0:i.ClientStatus)||"Unknown"})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,Jn.jsx)(Pa,{})}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Member Since"}),(0,Jn.jsx)("span",{className:"text-base font-semibold text-gray-700 break-words",children:null!==i&&void 0!==i&&i.ClientCreationDate?Pt(i.ClientCreationDate):"Not specified"})]})]})]})]})]})]}),je&&(0,Jn.jsx)(Um,{title:"Edit Profile",onClose:()=>ke(!1),size:"medium",children:(0,Jn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),Le(!0);try{const e=await Gn.put("/api/clients/profile",_e);e.data.client&&(o(e.data.client),qe("Profile Updated","Your profile has been updated successfully"),ke(!1))}catch(m){var t,n;console.error("Error updating profile:",m),We("Update Failed",(null===(t=m.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to update profile")}finally{Le(!1)}},className:"flex flex-col gap-4",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"clientName",className:"text-sm font-bold text-gray-700",children:"Full Name"}),(0,Jn.jsx)("input",{type:"text",id:"clientName",name:"clientName",value:_e.clientName,onChange:Nt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"clientEmail",className:"text-sm font-bold text-gray-700",children:"Email Address"}),(0,Jn.jsx)("input",{type:"email",id:"clientEmail",name:"clientEmail",value:_e.clientEmail,onChange:Nt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"clientNumber",className:"text-sm font-bold text-gray-700",children:"Phone Number"}),(0,Jn.jsx)("input",{type:"tel",id:"clientNumber",name:"clientNumber",value:_e.clientNumber,onChange:Nt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>ke(!1),className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",disabled:Te,children:"Cancel"}),(0,Jn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-bold shadow-md shadow-blue-500/20 transition-all hover:-translate-y-0.5",disabled:Te,children:Te?"Updating...":"Update Profile"})]}),(0,Jn.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-100",children:(0,Jn.jsxs)("button",{type:"button",onClick:()=>{ke(!1),Ce(!0)},className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium w-full justify-center",children:[(0,Jn.jsx)(Ua,{})," Change Password"]})})]})}),Se&&(0,Jn.jsx)(Um,{title:"Change Password",onClose:()=>Ce(!1),size:"medium",children:(0,Jn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),Ae.newPassword===Ae.confirmPassword)if(Ae.newPassword.length<6)We("Invalid Password","Password must be at least 6 characters long");else{Le(!0);try{await Gn.put("/api/clients/profile/password",{currentPassword:Ae.currentPassword,newPassword:Ae.newPassword}),qe("Password Changed","Your password has been changed successfully"),Ce(!1),De({currentPassword:"",newPassword:"",confirmPassword:""})}catch(m){var t,n;console.error("Error changing password:",m),We("Password Change Failed",(null===(t=m.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to change password")}finally{Le(!1)}}else We("Password Mismatch","New password and confirm password do not match")},className:"flex flex-col gap-4",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"currentPassword",className:"text-sm font-bold text-gray-700",children:"Current Password"}),(0,Jn.jsx)("input",{type:"password",id:"currentPassword",name:"currentPassword",value:Ae.currentPassword,onChange:kt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"newPassword",className:"text-sm font-bold text-gray-700",children:"New Password"}),(0,Jn.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",value:Ae.newPassword,onChange:kt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",minLength:"6",required:!0}),(0,Jn.jsx)("small",{className:"text-xs text-gray-500",children:"Password must be at least 6 characters long"})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"confirmPassword",className:"text-sm font-bold text-gray-700",children:"Confirm New Password"}),(0,Jn.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:Ae.confirmPassword,onChange:kt,className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>Ce(!1),className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",disabled:Te,children:"Cancel"}),(0,Jn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-bold shadow-md shadow-blue-500/20 transition-all hover:-translate-y-0.5",disabled:Te,children:Te?"Changing...":"Change Password"})]})]})}),$e&&tt&&(0,Jn.jsx)(Um,{title:"Cancel Delivery",onClose:()=>Je(!1),size:"medium",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,Jn.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 flex flex-col items-center text-center gap-3",children:[(0,Jn.jsx)(Ha,{className:"text-4xl text-red-500 mb-1"}),(0,Jn.jsx)("h4",{className:"text-lg font-bold text-red-700 m-0",children:"Are you sure you want to cancel this delivery?"}),(0,Jn.jsx)("p",{className:"text-sm text-red-600/80 m-0",children:"This action cannot be undone. The delivery will be marked as cancelled and no payment will be required."})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[(0,Jn.jsx)("h5",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-3",children:"Delivery Details:"}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none",children:[(0,Jn.jsx)("strong",{className:"text-gray-600",children:"ID:"})," ",(0,Jn.jsxs)("span",{className:"font-mono font-medium",children:["#",tt.DeliveryID]})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none",children:[(0,Jn.jsx)("strong",{className:"text-gray-600",children:"Route:"})," ",(0,Jn.jsxs)("span",{className:"font-medium text-right max-w-[70%]",children:[tt.PickupLocation," \u2192"," ",tt.DropoffLocation||tt.DeliveryAddress]})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none",children:[(0,Jn.jsx)("strong",{className:"text-gray-600",children:"Date:"})," ",(0,Jn.jsx)("span",{className:"font-medium",children:Pt(tt.DeliveryDate)})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none",children:[(0,Jn.jsx)("strong",{className:"text-gray-600",children:"Amount:"})," ",(0,Jn.jsx)("span",{className:"font-bold text-gray-800",children:_t(tt.DeliveryRate||0)})]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>Je(!1),className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",disabled:h,children:"Keep Delivery"}),(0,Jn.jsx)("button",{type:"button",onClick:async()=>{try{p(!0);(await Gn.post("/api/clients/deliveries/".concat(tt.DeliveryID,"/cancel"))).data.success&&(u(e=>e.map(e=>e.DeliveryID===tt.DeliveryID?Ne(Ne({},e),{},{DeliveryStatus:"cancelled"}):e)),qe("Delivery Cancelled","Your delivery has been cancelled successfully. No payment is required."),Je(!1),nt(null))}catch(m){var e,t;console.error("Error cancelling delivery:",m),We("Cancellation Failed",(null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to cancel delivery")}finally{p(!1)}},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-bold shadow-md shadow-red-500/20 transition-all hover:-translate-y-0.5",disabled:h,children:h?"Cancelling...":"Yes, Cancel Delivery"})]})]})}),Xe&&tt&&(0,Jn.jsx)(Um,{title:"Change Route",onClose:()=>Qe(!1),size:"large",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,Jn.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex gap-3 text-blue-800",children:[(0,Jn.jsx)(es,{className:"text-xl text-blue-500 shrink-0 mt-0.5"}),(0,Jn.jsx)("p",{className:"text-sm m-0",children:"Update the pickup and dropoff locations. The billing will be recalculated based on the new distance. Note: Route changes must be made at least 3 days before delivery or with more than 24 hours notice."})]}),(0,Jn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{p(!0),0===rt.newDistance&&await zt(),(await Gn.post("/api/clients/deliveries/".concat(tt.DeliveryID,"/change-route"),{pickupLocation:rt.pickupLocation,pickupCoordinates:rt.pickupCoordinates,dropoffLocation:rt.dropoffLocation,dropoffCoordinates:rt.dropoffCoordinates,newDistance:rt.newDistance,newCost:rt.newCost})).data.success&&(u(e=>e.map(e=>e.DeliveryID===tt.DeliveryID?Ne(Ne({},e),{},{PickupLocation:rt.pickupLocation,DropoffLocation:rt.dropoffLocation,DeliveryDistance:rt.newDistance,DeliveryRate:rt.newCost}):e)),qe("Route Updated","Route changed successfully. New cost: ".concat(_t(rt.newCost))),Qe(!1),nt(null))}catch(m){var e,t;console.error("Error changing route:",m),We("Route Change Failed",(null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to change route")}finally{p(!1)}})()},className:"flex flex-col gap-4",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"newPickupLocation",className:"text-sm font-bold text-gray-700",children:"New Pickup Location"}),(0,Jn.jsxs)("div",{className:"relative",children:[(0,Jn.jsx)("input",{type:"text",id:"newPickupLocation",value:rt.pickupLocation,onChange:e=>at(t=>Ne(Ne({},t),{},{pickupLocation:e.target.value})),className:"w-full h-11 pl-4 pr-12 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all placeholder-gray-400",placeholder:"Enter new pickup address",required:!0}),(0,Jn.jsx)("div",{className:"absolute right-1 top-1 bottom-1",children:(0,Jn.jsx)("button",{type:"button",className:"h-9 w-9 flex items-center justify-center rounded-lg text-gray-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",onClick:()=>Ht("pickup"),title:"Select pickup location on map",children:(0,Jn.jsx)(rs,{})})})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"newDropoffLocation",className:"text-sm font-bold text-gray-700",children:"New Dropoff Location"}),(0,Jn.jsxs)("div",{className:"relative",children:[(0,Jn.jsx)("input",{type:"text",id:"newDropoffLocation",value:rt.dropoffLocation,onChange:e=>at(t=>Ne(Ne({},t),{},{dropoffLocation:e.target.value})),className:"w-full h-11 pl-4 pr-12 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all placeholder-gray-400",placeholder:"Enter new dropoff address",required:!0}),(0,Jn.jsx)("div",{className:"absolute right-1 top-1 bottom-1",children:(0,Jn.jsx)("button",{type:"button",className:"h-9 w-9 flex items-center justify-center rounded-lg text-gray-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",onClick:()=>Ht("dropoff"),title:"Select dropoff location on map",children:(0,Jn.jsx)(rs,{})})})]})]}),(0,Jn.jsx)("div",{className:"mt-2",children:(0,Jn.jsxs)("button",{type:"button",onClick:zt,className:"px-4 py-2 border border-blue-200 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg font-bold flex items-center gap-2 transition-colors text-sm",disabled:!rt.pickupLocation||!rt.dropoffLocation,children:[(0,Jn.jsx)(ds,{})," Calculate New Route & Cost"]})}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2 bg-gray-50 p-4 rounded-xl border border-gray-200",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-2 p-3 bg-white rounded-lg border border-gray-100 shadow-sm",children:[(0,Jn.jsx)("h5",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider m-0",children:"Current Route:"}),(0,Jn.jsxs)("p",{className:"text-sm font-medium text-gray-700 m-0 break-words line-clamp-2",children:[tt.PickupLocation," \u2192"," ",tt.DropoffLocation||tt.DeliveryAddress]}),(0,Jn.jsxs)("div",{className:"flex justify-between items-center mt-auto pt-2 border-t border-gray-100 text-xs",children:[(0,Jn.jsxs)("span",{className:"text-gray-500",children:[(0,Jn.jsx)("strong",{children:"Distance:"})," ",tt.DeliveryDistance?parseFloat(tt.DeliveryDistance).toFixed(2):"0.00"," ","km"]}),(0,Jn.jsx)("span",{className:"font-bold text-gray-700",children:_t(tt.DeliveryRate||0)})]})]}),rt.newDistance>0&&(0,Jn.jsxs)("div",{className:"flex flex-col gap-2 p-3 bg-blue-50/50 rounded-lg border border-blue-100 shadow-sm",children:[(0,Jn.jsx)("h5",{className:"text-sm font-bold text-blue-500 uppercase tracking-wider m-0",children:"New Route:"}),(0,Jn.jsxs)("p",{className:"text-sm font-medium text-gray-700 m-0 break-words line-clamp-2",children:[rt.pickupLocation," \u2192"," ",rt.dropoffLocation]}),(0,Jn.jsxs)("div",{className:"flex justify-between items-center mt-auto pt-2 border-t border-blue-100/50 text-xs",children:[(0,Jn.jsxs)("span",{className:"text-gray-500",children:[(0,Jn.jsx)("strong",{children:"Distance:"})," ",rt.newDistance?rt.newDistance.toFixed(2):"0.00"," ","km"]}),(0,Jn.jsx)("span",{className:"font-bold text-blue-700",children:_t(rt.newCost)})]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>Qe(!1),className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",disabled:h,children:"Cancel"}),(0,Jn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-bold shadow-md shadow-amber-500/20 transition-all hover:-translate-y-0.5",disabled:h||!rt.pickupLocation||!rt.dropoffLocation,children:h?"Updating Route...":"Update Route"})]})]})]})}),Ze&&tt&&(0,Jn.jsx)(Um,{title:"Reschedule Delivery",onClose:()=>et(!1),size:"medium",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,Jn.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex gap-3 text-blue-800",children:[(0,Jn.jsx)(Da,{className:"text-xl text-blue-500 shrink-0 mt-0.5"}),(0,Jn.jsx)("p",{className:"text-sm m-0",children:"Choose a new date and time for your delivery. The driver and staff will be notified of the change."})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[(0,Jn.jsx)("h5",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Current Schedule:"}),(0,Jn.jsxs)("p",{className:"m-0 text-sm text-gray-700",children:[(0,Jn.jsx)("strong",{children:"Date:"})," ",Pt(tt.DeliveryDate)]})]}),(0,Jn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{p(!0),(await Gn.post("/api/clients/deliveries/".concat(tt.DeliveryID,"/rebook"),{newDate:st.newDate,newTime:st.newTime})).data.success&&(u(e=>e.map(e=>e.DeliveryID===tt.DeliveryID?Ne(Ne({},e),{},{DeliveryDate:new Date("".concat(st.newDate,"T").concat(st.newTime))}):e)),qe("Delivery Rescheduled","Delivery rescheduled to ".concat(new Date("".concat(st.newDate,"T").concat(st.newTime)).toLocaleDateString())),et(!1),nt(null))}catch(m){var e,t;console.error("Error rebooking delivery:",m),We("Rebooking Failed",(null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to reschedule delivery")}finally{p(!1)}})()},className:"flex flex-col gap-4",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"newDeliveryDate",className:"text-sm font-bold text-gray-700",children:"New Delivery Date"}),(0,Jn.jsx)("input",{type:"date",id:"newDeliveryDate",value:st.newDate,onChange:e=>it(t=>Ne(Ne({},t),{},{newDate:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",min:(new Date).toISOString().split("T")[0],required:!0})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"newDeliveryTime",className:"text-sm font-bold text-gray-700",children:"Preferred Time"}),(0,Jn.jsxs)("select",{id:"newDeliveryTime",value:st.newTime,onChange:e=>it(t=>Ne(Ne({},t),{},{newTime:e.target.value})),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all cursor-pointer",required:!0,children:[(0,Jn.jsx)("option",{value:"08:00",children:"8:00 AM"}),(0,Jn.jsx)("option",{value:"09:00",children:"9:00 AM"}),(0,Jn.jsx)("option",{value:"10:00",children:"10:00 AM"}),(0,Jn.jsx)("option",{value:"11:00",children:"11:00 AM"}),(0,Jn.jsx)("option",{value:"12:00",children:"12:00 PM"}),(0,Jn.jsx)("option",{value:"13:00",children:"1:00 PM"}),(0,Jn.jsx)("option",{value:"14:00",children:"2:00 PM"}),(0,Jn.jsx)("option",{value:"15:00",children:"3:00 PM"}),(0,Jn.jsx)("option",{value:"16:00",children:"4:00 PM"}),(0,Jn.jsx)("option",{value:"17:00",children:"5:00 PM"})]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[(0,Jn.jsx)("h5",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Delivery Details:"}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1 text-sm text-gray-700",children:[(0,Jn.jsxs)("div",{className:"flex justify-between",children:[(0,Jn.jsx)("strong",{className:"text-gray-600",children:"Route:"}),(0,Jn.jsxs)("span",{className:"text-right max-w-[70%]",children:[tt.PickupLocation," \u2192"," ",tt.DropoffLocation||tt.DeliveryAddress]})]}),(0,Jn.jsxs)("div",{className:"flex justify-between mt-1 pt-1 border-t border-gray-200/50",children:[(0,Jn.jsx)("strong",{className:"text-gray-600",children:"Amount:"})," ",(0,Jn.jsx)("span",{className:"font-bold text-gray-800",children:_t(tt.DeliveryRate||0)})]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>et(!1),className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",disabled:h,children:"Cancel"}),(0,Jn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg font-bold shadow-md shadow-cyan-500/20 transition-all hover:-translate-y-0.5",disabled:h||!st.newDate||!st.newTime,children:h?"Rescheduling...":"Reschedule Delivery"})]})]})]})}),me&&ge&&(0,Jn.jsx)(Um,{title:"Booking Details",onClose:()=>fe(!1),size:"large",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-6 p-8",children:[(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 h-full",children:[(0,Jn.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"\ud83d\udce6 Delivery Information"}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Delivery ID:"}),(0,Jn.jsxs)("span",{className:"text-sm font-mono font-bold text-gray-700",children:["#",ge.DeliveryID]})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Status:"}),(0,Jn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat("pending"===ge.DeliveryStatus?"bg-amber-100 text-amber-700":"in-progress"===ge.DeliveryStatus?"bg-blue-100 text-blue-700":"completed"===ge.DeliveryStatus?"bg-emerald-100 text-emerald-700":"cancelled"===ge.DeliveryStatus?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:ge.DeliveryStatus})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Delivery Date:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:Pt(ge.DeliveryDate,ge)})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Amount:"}),(0,Jn.jsx)("span",{className:"text-lg font-bold text-emerald-600",children:_t(ge.DeliveryRate||ge.deliveryRate||0)})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 h-full",children:[(0,Jn.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"\ud83d\uddfa\ufe0f Route Information"}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-start",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium whitespace-nowrap mr-2",children:"Pickup:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700 text-right text-balance",children:ge.PickupLocation||"N/A"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-start",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium whitespace-nowrap mr-2",children:"Dropoff:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700 text-right text-balance",children:ge.DropoffLocation||ge.DeliveryAddress||"N/A"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Distance:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.DeliveryDistance?"".concat(ge.DeliveryDistance," km"):"N/A"})]}),(ge.pickupCoordinates&&ge.dropoffCoordinates||ge.PickupCoordinates&&ge.DropoffCoordinates)&&(0,Jn.jsxs)("button",{className:"mt-2 w-full px-4 py-2 border border-blue-200 text-blue-600 bg-white hover:bg-blue-50 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm font-medium",onClick:()=>{var e;e=ge,console.log("Viewing route for delivery:",e),e.RouteInfo&&e.RouteInfo.pickupCoordinates&&e.RouteInfo.dropoffCoordinates?(L(e.RouteInfo),D(!0)):e.pickupCoordinates&&e.dropoffCoordinates?(L({pickupLocation:e.PickupLocation,dropoffLocation:e.DropoffLocation,pickupCoordinates:e.pickupCoordinates,dropoffCoordinates:e.dropoffCoordinates,distance:e.DeliveryDistance,duration:e.EstimatedDuration}),D(!0)):e.PickupCoordinates&&e.DropoffCoordinates?(L({pickupLocation:e.PickupLocation,dropoffLocation:e.DropoffLocation,pickupCoordinates:e.PickupCoordinates,dropoffCoordinates:e.DropoffCoordinates,distance:e.DeliveryDistance,duration:e.EstimatedDuration}),D(!0)):Oe("Route Unavailable","Route information not available for this delivery"),fe(!1)},children:[(0,Jn.jsx)(rs,{})," View Route on Map"]})]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 h-full",children:[(0,Jn.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"\ud83d\ude9b Truck & Driver Information"}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Truck Plate:"}),(0,Jn.jsx)("span",{className:"font-mono font-bold text-gray-800 bg-white px-2 py-1 rounded border border-gray-200 text-xs",children:ge.TruckPlate||"Not Assigned"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Truck Type:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.TruckBrand||ge.TruckType||"N/A"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Driver:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.DriverName||"Not Assigned"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Helper:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.HelperName||"Not Assigned"})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 h-full",children:[(0,Jn.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"\ud83d\udcde Contact Information"}),(0,Jn.jsxs)("div",{className:"mb-4",children:[(0,Jn.jsx)("strong",{className:"block text-xs font-bold text-blue-800 uppercase tracking-wider mb-2",children:"\ud83d\udccd Pickup Contact"}),(0,Jn.jsxs)("div",{className:"flex justify-between py-1 items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Person:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.PickupContactPerson||"Not specified"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-1 items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Phone:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.PickupContactNumber||"N/A"})]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("strong",{className:"block text-xs font-bold text-blue-800 uppercase tracking-wider mb-2",children:"\ud83d\udccd Dropoff Contact"}),(0,Jn.jsxs)("div",{className:"flex justify-between py-1 items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Person:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.DropoffContactPerson||"Not specified"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-1 items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Phone:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ge.DropoffContactNumber||"N/A"})]})]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",onClick:()=>fe(!1),children:"Close"}),Bt(ge)&&(0,Jn.jsxs)(Jn.Fragment,{children:[Ut(ge)&&(0,Jn.jsxs)("button",{className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-bold shadow-md shadow-amber-500/20 flex items-center gap-2 transition-all hover:-translate-y-0.5",onClick:()=>{fe(!1),Ot(ge)},children:[(0,Jn.jsx)(Pa,{})," Reschedule"]}),Ut(ge)&&(0,Jn.jsxs)("button",{className:"px-4 py-2 border border-purple-200 text-purple-600 bg-purple-50 hover:bg-purple-100 rounded-lg font-bold flex items-center gap-2 transition-colors",onClick:()=>{fe(!1),Ft(ge)},children:[(0,Jn.jsx)(ds,{})," Change Route"]}),(0,Jn.jsxs)("button",{className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-bold shadow-md shadow-red-500/20 flex items-center gap-2 transition-all hover:-translate-y-0.5",onClick:()=>{fe(!1),Mt(ge)},children:[(0,Jn.jsx)(js,{})," Cancel"]})]})]})]})}),ve&&ye&&(0,Jn.jsx)(Um,{title:"Truck Details",onClose:()=>be(!1),size:"medium",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-8 p-1",children:[(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 h-full",children:[(0,Jn.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-5 pb-3 border-b border-gray-200",children:"\ud83d\ude9b Truck Information"}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Truck Plate:"}),(0,Jn.jsx)("span",{className:"font-mono font-bold text-gray-800 bg-white px-2 py-1 rounded border border-gray-200 text-xs",children:ye.TruckPlate})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Type:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ye.TruckType||"N/A"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Brand:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ye.TruckBrand})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Capacity:"}),(0,Jn.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:[ye.TruckCapacity," tons"]})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 h-full",children:[(0,Jn.jsx)("h4",{className:"flex items-center gap-2 text-base font-bold text-gray-800 mb-5 pb-3 border-b border-gray-200",children:"\ud83d\udcca Performance Statistics"}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Total Deliveries:"}),(0,Jn.jsx)("span",{className:"font-bold text-blue-600",children:ye.TotalCompletedDeliveries||0})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Total Kilometers:"}),(0,Jn.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:[ye.TotalKilometers||0," km"]})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Allocation Status:"}),(0,Jn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:ye.allocationStatus||ye.AllocationStatus||"Allocated"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-200/50 last:border-none items-center",children:[(0,Jn.jsx)("label",{className:"text-sm text-gray-500 font-medium",children:"Current Status:"}),(0,Jn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat(d.some(e=>e.TruckID===ye.TruckID&&("pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus))?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"),children:d.some(e=>e.TruckID===ye.TruckID&&("pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus))?"In Use":"Available"})]})]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{className:"px-4 py-2 border border-gray-200 rounded-lg text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",onClick:()=>be(!1),children:"Close"}),!d.some(e=>e.TruckID===ye.TruckID&&("pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus))&&(0,Jn.jsxs)("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-md shadow-blue-500/20 flex items-center gap-2 transition-all hover:-translate-y-0.5",onClick:()=>{be(!1),a.push("/client/book-truck")},children:[(0,Jn.jsx)(Aa,{})," Book This Truck"]})]})]})}),(0,Jn.jsx)($m,{toasts:Be,onRemoveToast:Ue})]})},Zm=()=>{const{authUser:e}=(0,t.useContext)(ea),[n,r]=(0,t.useState)(null),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const[e,t]=await Promise.all([Gn.get("/api/drivers/profile"),Gn.get("/api/drivers/deliveries")]);r(e.data);const n=[],a=[];t.data.forEach(e=>{"pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus?n.push(e):a.push(e)}),s(n),o(a),c(!1)}catch(Bx){console.error("Error fetching driver data:",Bx),c(!1)}})()},[]),l?(0,Jn.jsx)(Os,{}):(0,Jn.jsxs)("div",{className:"dashboard",children:[(0,Jn.jsx)("div",{className:"dashboard-header",children:(0,Jn.jsxs)("h1",{children:["Welcome, ",(null===n||void 0===n?void 0:n.driverName)||e.username]})}),(0,Jn.jsxs)("div",{className:"dashboard-stats",children:[(0,Jn.jsxs)("div",{className:"stat-card",children:[(0,Jn.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#F39C12"},children:(0,Jn.jsx)(ms,{size:20})}),(0,Jn.jsxs)("div",{className:"stat-info",children:[(0,Jn.jsx)("h3",{children:a.length}),(0,Jn.jsx)("p",{children:"Active Deliveries"})]})]}),(0,Jn.jsxs)("div",{className:"stat-card",children:[(0,Jn.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#2ECC71"},children:(0,Jn.jsx)(Ea,{size:20})}),(0,Jn.jsxs)("div",{className:"stat-info",children:[(0,Jn.jsx)("h3",{children:i.length}),(0,Jn.jsx)("p",{children:"Completed Deliveries"})]})]}),(0,Jn.jsxs)("div",{className:"stat-card",children:[(0,Jn.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#0056b3"},children:(0,Jn.jsx)(Ma,{size:20})}),(0,Jn.jsxs)("div",{className:"stat-info",children:[(0,Jn.jsx)("h3",{children:a.length+i.length}),(0,Jn.jsx)("p",{children:"Total Deliveries"})]})]})]}),(0,Jn.jsxs)("div",{className:"dashboard-content",children:[(0,Jn.jsxs)("div",{className:"card",children:[(0,Jn.jsx)("div",{className:"card-header",children:(0,Jn.jsx)("h2",{className:"card-title",children:"Active Deliveries"})}),(0,Jn.jsx)("div",{className:"card-body",children:a.length>0?(0,Jn.jsx)("div",{className:"table-container",children:(0,Jn.jsxs)("table",{className:"data-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"ID"}),(0,Jn.jsx)("th",{children:"Client"}),(0,Jn.jsx)("th",{children:"Helper"}),(0,Jn.jsx)("th",{children:"Date"}),(0,Jn.jsx)("th",{children:"Status"}),(0,Jn.jsx)("th",{children:"Address"})]})}),(0,Jn.jsx)("tbody",{children:a.map(e=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:e.DeliveryID||e.id}),(0,Jn.jsx)("td",{children:e.ClientName||e.clientName}),(0,Jn.jsx)("td",{children:e.HelperName||e.helperName}),(0,Jn.jsx)("td",{children:new Date(e.DeliveryDate||e.deliveryDate).toLocaleDateString()}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)(Bm,{status:e.DeliveryStatus||e.deliveryStatus})}),(0,Jn.jsx)("td",{children:e.DeliveryAddress||e.deliveryAddress})]},e.DeliveryID||e.id))})]})}):(0,Jn.jsx)("p",{className:"empty-state",children:"No active deliveries assigned to you."})})]}),(0,Jn.jsxs)("div",{className:"card",children:[(0,Jn.jsx)("div",{className:"card-header",children:(0,Jn.jsx)("h2",{className:"card-title",children:"Recent Completed Deliveries"})}),(0,Jn.jsx)("div",{className:"card-body",children:i.length>0?(0,Jn.jsx)("div",{className:"table-container",children:(0,Jn.jsxs)("table",{className:"data-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"ID"}),(0,Jn.jsx)("th",{children:"Client"}),(0,Jn.jsx)("th",{children:"Date"}),(0,Jn.jsx)("th",{children:"Status"}),(0,Jn.jsx)("th",{children:"Distance"})]})}),(0,Jn.jsx)("tbody",{children:i.slice(0,5).map(e=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:e.DeliveryID||e.id}),(0,Jn.jsx)("td",{children:e.ClientName||e.clientName}),(0,Jn.jsx)("td",{children:new Date(e.DeliveryDate||e.deliveryDate).toLocaleDateString()}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)(Bm,{status:e.DeliveryStatus||e.deliveryStatus})}),(0,Jn.jsxs)("td",{children:[e.DeliveryDistance||e.deliveryDistance," ","km"]})]},e.DeliveryID||e.id))})]})}):(0,Jn.jsx)("p",{className:"empty-state",children:"No completed deliveries found."})})]})]})]})},ef=()=>{const{authUser:e}=(0,t.useContext)(ea),[n,r]=(0,t.useState)(null),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const[e,t]=await Promise.all([Gn.get("/api/helpers/profile"),Gn.get("/api/helpers/deliveries")]);r(e.data);const n=[],a=[];t.data.forEach(e=>{"pending"===e.DeliveryStatus||"in-progress"===e.DeliveryStatus?n.push(e):a.push(e)}),s(n),o(a),c(!1)}catch(Bx){console.error("Error fetching helper data:",Bx),c(!1)}})()},[]),l?(0,Jn.jsx)(Os,{}):(0,Jn.jsxs)("div",{className:"dashboard",children:[(0,Jn.jsxs)("h1",{children:["Welcome, ",(null===n||void 0===n?void 0:n.HelperName)||e.username]}),(0,Jn.jsxs)("div",{className:"dashboard-stats",children:[(0,Jn.jsxs)("div",{className:"stat-card",children:[(0,Jn.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#F39C12"},children:(0,Jn.jsx)(ms,{})}),(0,Jn.jsxs)("div",{className:"stat-info",children:[(0,Jn.jsx)("h3",{children:a.length}),(0,Jn.jsx)("p",{children:"Active Deliveries"})]})]}),(0,Jn.jsxs)("div",{className:"stat-card",children:[(0,Jn.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#2ECC71"},children:(0,Jn.jsx)(Ea,{})}),(0,Jn.jsxs)("div",{className:"stat-info",children:[(0,Jn.jsx)("h3",{children:i.length}),(0,Jn.jsx)("p",{children:"Completed Deliveries"})]})]}),(0,Jn.jsxs)("div",{className:"stat-card",children:[(0,Jn.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#0056b3"},children:(0,Jn.jsx)(Ma,{})}),(0,Jn.jsxs)("div",{className:"stat-info",children:[(0,Jn.jsx)("h3",{children:a.length+i.length}),(0,Jn.jsx)("p",{children:"Total Deliveries"})]})]})]}),(0,Jn.jsxs)("div",{className:"card",children:[(0,Jn.jsx)("div",{className:"card-header",children:(0,Jn.jsx)("h2",{className:"card-title",children:"Active Deliveries"})}),(0,Jn.jsx)("div",{className:"card-body",children:a.length>0?(0,Jn.jsx)("div",{className:"table-container",children:(0,Jn.jsxs)("table",{className:"data-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"ID"}),(0,Jn.jsx)("th",{children:"Client"}),(0,Jn.jsx)("th",{children:"Driver"}),(0,Jn.jsx)("th",{children:"Date"}),(0,Jn.jsx)("th",{children:"Status"}),(0,Jn.jsx)("th",{children:"Address"})]})}),(0,Jn.jsx)("tbody",{children:a.map(e=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:e.DeliveryID}),(0,Jn.jsx)("td",{children:e.ClientName}),(0,Jn.jsx)("td",{children:e.DriverName}),(0,Jn.jsx)("td",{children:new Date(e.DeliveryDate).toLocaleDateString()}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)(Bm,{status:e.DeliveryStatus})}),(0,Jn.jsx)("td",{children:e.DeliveryAddress})]},e.DeliveryID))})]})}):(0,Jn.jsx)("p",{children:"No active deliveries assigned to you."})})]}),(0,Jn.jsxs)("div",{className:"card",children:[(0,Jn.jsx)("div",{className:"card-header",children:(0,Jn.jsx)("h2",{className:"card-title",children:"Recent Completed Deliveries"})}),(0,Jn.jsx)("div",{className:"card-body",children:i.length>0?(0,Jn.jsx)("div",{className:"table-container",children:(0,Jn.jsxs)("table",{className:"data-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"ID"}),(0,Jn.jsx)("th",{children:"Client"}),(0,Jn.jsx)("th",{children:"Date"}),(0,Jn.jsx)("th",{children:"Status"}),(0,Jn.jsx)("th",{children:"Distance"})]})}),(0,Jn.jsx)("tbody",{children:i.slice(0,5).map(e=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:e.DeliveryID}),(0,Jn.jsx)("td",{children:e.ClientName}),(0,Jn.jsx)("td",{children:new Date(e.DeliveryDate).toLocaleDateString()}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)(Bm,{status:e.DeliveryStatus})}),(0,Jn.jsxs)("td",{children:[e.DeliveryDistance," km"]})]},e.DeliveryID))})]})}):(0,Jn.jsx)("p",{children:"No completed deliveries found."})})]})]})};function tf(){return(0,Jn.jsx)("div",{children:(0,Jn.jsx)("h1",{children:"\u2699\ufe0f Operator Dashboard"})})}const nf=!1,rf=!1,af="${JSCORE_VERSION}",sf=function(e,t){if(!e)throw of(t)},of=function(e){return new Error("Firebase Database ("+af+") INTERNAL ASSERT FAILED: "+e)},lf=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},cf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],s=a+1<e.length,i=s?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,d=(3&t)<<4|i>>4;let u=(15&i)<<2|l>>6,h=63&l;o||(h=64,s||(u=64)),r.push(n[c],n[d],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lf(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){const s=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],s=a<e.length?n[e.charAt(a)]:0;++a;const i=a<e.length?n[e.charAt(a)]:64;++a;const o=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==s||null==i||null==o)throw new df;const l=t<<2|s>>4;if(r.push(l),64!==i){const e=s<<4&240|i>>2;if(r.push(e),64!==o){const e=i<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class df extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uf=function(e){const t=lf(e);return cf.encodeByteArray(t,!0)},hf=function(e){return uf(e).replace(/\./g,"")},pf=function(e){try{return cf.decodeString(e,!0)}catch(Oq){console.error("base64Decode failed: ",Oq)}return null};function mf(e){return ff(void 0,e)}function ff(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&gf(n)&&(e[n]=ff(e[n],t[n]));return e}function gf(e){return"__proto__"!==e}const xf=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,vf=()=>{try{return xf()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"",REACT_APP_FIREBASE_API_KEY:"AIzaSyDWV7_xKJ9vRvtBceQdTb5akTSx3jKk1Bw",REACT_APP_FIREBASE_APP_ID:"1:764709653798:web:bc596b7510ad4fb34c45e7",REACT_APP_FIREBASE_AUTH_DOMAIN:"e-trucking-8d905.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://e-trucking-8d905-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-06MBDLYS9Q",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"764709653798",REACT_APP_FIREBASE_PROJECT_ID:"e-trucking-8d905",REACT_APP_FIREBASE_STORAGE_BUCKET:"e-trucking-8d905.firebasestorage.app",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyBTln9AbQ0K-CTbVrcFNQc0LHlt3Y4J1Pc"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Oq){return}const t=e&&pf(e[1]);return t&&JSON.parse(t)})()}catch(Oq){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Oq))}},bf=e=>{const t=(e=>{var t;return null===(t=vf())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},yf=()=>{var e;return null===(e=vf())||void 0===e?void 0:e.config};class wf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function jf(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const Nf={};let kf=!1;function Sf(e,t){if("undefined"===typeof window||"undefined"===typeof document||!jf(window.location.host)||Nf[e]===t||Nf[e]||kf)return;function n(e){return"__firebase__banner__".concat(e)}Nf[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Nf))Nf[t]?e.emulator.push(t):e.prod.push(t);return e}(),s=a.prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{kf=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),t.append(d,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function Cf(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _f(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cf())}function Pf(){return!0===nf||!0===rf}function Af(){try{return"object"===typeof indexedDB}catch(Oq){return!1}}function Df(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(Bx){t(Bx)}})}class Tf extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Tf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lf.prototype.create)}}class Lf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(Ef,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new Tf(n,s,t)}}const Ef=/\{\$([^}]+)}/g;function If(e){return JSON.parse(e)}function Rf(e){return JSON.stringify(e)}const Mf=function(e){let t={},n={},r={},a="";try{const s=e.split(".");t=If(pf(s[0])||""),n=If(pf(s[1])||""),a=s[2],r=n.d||{},delete n.d}catch(Oq){}return{header:t,claims:n,data:r,signature:a}};function Ff(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Of(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function zf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Bf(e,t,n){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=t.call(n,e[a],a,e));return r}function Uf(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],s=t[a];if(qf(n)&&qf(s)){if(!Uf(n,s))return!1}else if(n!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function qf(e){return null!==e&&"object"===typeof e}class Wf{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let d=0;d<16;d++)n[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)n[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const e=n[d-3]^n[d-8]^n[d-14]^n[d-16];n[d]=4294967295&(e<<1|e>>>31)}let r,a,s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(r=l^i&(o^l),a=1518500249):(r=i^o^l,a=1859775393):d<60?(r=i&o|l&(i|o),a=2400959708):(r=i^o^l,a=3395469782);const e=(s<<5|s>>>27)+r+c+a+n[d]&4294967295;c=l,l=o,o=4294967295&(i<<30|i>>>2),i=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const a=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(a[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(a),s=0;break}}else for(;r<t;)if(a[s]=e[r],++s,++r,s===this.blockSize){this.compress_(a),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function Hf(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Vf=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Gf(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Kf(e){return e&&e._delegate?e._delegate:e}class Yf{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $f="[DEFAULT]";class Jf{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new wf;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Oq){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Oq){if(r)return null;throw Oq}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$f})}catch(Oq){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Oq){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$f;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$f;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$f;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xf(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$f;return this.component?this.component.multipleInstances?e:$f:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Xf(e){return e===$f?void 0:e}class Qf{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Jf(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Zf=[];var eg;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(eg||(eg={}));const tg={debug:eg.DEBUG,verbose:eg.VERBOSE,info:eg.INFO,warn:eg.WARN,error:eg.ERROR,silent:eg.SILENT},ng=eg.INFO,rg={[eg.DEBUG]:"log",[eg.VERBOSE]:"log",[eg.INFO]:"info",[eg.WARN]:"warn",[eg.ERROR]:"error"},ag=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=rg[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class sg{constructor(e){this.name=e,this._logLevel=ng,this._logHandler=ag,this._userLogHandler=null,Zf.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in eg))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?tg[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eg.DEBUG,...t),this._logHandler(this,eg.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eg.VERBOSE,...t),this._logHandler(this,eg.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eg.INFO,...t),this._logHandler(this,eg.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eg.WARN,...t),this._logHandler(this,eg.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eg.ERROR,...t),this._logHandler(this,eg.ERROR,...t)}}let ig,og;const lg=new WeakMap,cg=new WeakMap,dg=new WeakMap,ug=new WeakMap,hg=new WeakMap;let pg={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return cg.get(e);if("objectStoreNames"===t)return e.objectStoreNames||dg.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gg(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function mg(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(og||(og=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(xg(this),n),gg(lg.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gg(e.apply(xg(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const s=e.call(xg(this),t,...r);return dg.set(s,t.sort?t.sort():[t]),gg(s)}}function fg(e){return"function"===typeof e?mg(e):(e instanceof IDBTransaction&&function(e){if(cg.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});cg.set(e,t)}(e),t=e,(ig||(ig=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,pg):e);var t}function gg(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{t(gg(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&lg.set(t,e)}).catch(()=>{}),hg.set(t,e),t}(e);if(ug.has(e))return ug.get(e);const t=fg(e);return t!==e&&(ug.set(e,t),hg.set(t,e)),t}const xg=e=>hg.get(e);function vg(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),o=gg(i);return r&&i.addEventListener("upgradeneeded",e=>{r(gg(i.result),e.oldVersion,e.newVersion,gg(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const bg=["get","getKey","getAll","getAllKeys","count"],yg=["put","add","delete","clear"],wg=new Map;function jg(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(wg.get(t))return wg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=yg.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!bg.includes(n))return;const s=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let s=t.store;for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),a&&t.done]))[0]};return wg.set(t,s),s}pg=(e=>Ne(Ne({},e),{},{get:(t,n,r)=>jg(t,n)||e.get(t,n,r),has:(t,n)=>!!jg(t,n)||e.has(t,n)}))(pg);class Ng{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const kg="@firebase/app",Sg="0.14.7",Cg=new sg("@firebase/app"),_g="@firebase/app-compat",Pg="@firebase/analytics-compat",Ag="@firebase/analytics",Dg="@firebase/app-check-compat",Tg="@firebase/app-check",Lg="@firebase/auth",Eg="@firebase/auth-compat",Ig="@firebase/database",Rg="@firebase/data-connect",Mg="@firebase/database-compat",Fg="@firebase/functions",Og="@firebase/functions-compat",zg="@firebase/installations",Bg="@firebase/installations-compat",Ug="@firebase/messaging",qg="@firebase/messaging-compat",Wg="@firebase/performance",Hg="@firebase/performance-compat",Vg="@firebase/remote-config",Gg="@firebase/remote-config-compat",Kg="@firebase/storage",Yg="@firebase/storage-compat",$g="@firebase/firestore",Jg="@firebase/ai",Xg="@firebase/firestore-compat",Qg="firebase",Zg="[DEFAULT]",ex={[kg]:"fire-core",[_g]:"fire-core-compat",[Ag]:"fire-analytics",[Pg]:"fire-analytics-compat",[Tg]:"fire-app-check",[Dg]:"fire-app-check-compat",[Lg]:"fire-auth",[Eg]:"fire-auth-compat",[Ig]:"fire-rtdb",[Rg]:"fire-data-connect",[Mg]:"fire-rtdb-compat",[Fg]:"fire-fn",[Og]:"fire-fn-compat",[zg]:"fire-iid",[Bg]:"fire-iid-compat",[Ug]:"fire-fcm",[qg]:"fire-fcm-compat",[Wg]:"fire-perf",[Hg]:"fire-perf-compat",[Vg]:"fire-rc",[Gg]:"fire-rc-compat",[Kg]:"fire-gcs",[Yg]:"fire-gcs-compat",[$g]:"fire-fst",[Xg]:"fire-fst-compat",[Jg]:"fire-vertex","fire-js":"fire-js",[Qg]:"fire-js-all"},tx=new Map,nx=new Map,rx=new Map;function ax(e,t){try{e.container.addComponent(t)}catch(Oq){Cg.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Oq)}}function sx(e){const t=e.name;if(rx.has(t))return Cg.debug("There were multiple attempts to register component ".concat(t,".")),!1;rx.set(t,e);for(const n of tx.values())ax(n,e);for(const n of nx.values())ax(n,e);return!0}function ix(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const ox=new Lf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class lx{constructor(e,t,n){this._isDeleted=!1,this._options=Ne({},e),this._config=Ne({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ox.create("app-deleted",{appName:this._name})}}function cx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Ne({name:Zg,automaticDataCollectionEnabled:!0},t),a=r.name;if("string"!==typeof a||!a)throw ox.create("bad-app-name",{appName:String(a)});if(n||(n=yf()),!n)throw ox.create("no-options");const s=tx.get(a);if(s){if(Uf(n,s.options)&&Uf(r,s.config))return s;throw ox.create("duplicate-app",{appName:a})}const i=new Qf(a);for(const l of rx.values())i.addComponent(l);const o=new lx(n,r,i);return tx.set(a,o),o}function dx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zg;const t=tx.get(e);if(!t&&e===Zg&&yf())return cx();if(!t)throw ox.create("no-app",{appName:e});return t}function ux(e,t,n){var r;let a=null!==(r=ex[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const s=a.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),s&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Cg.warn(e.join(" "))}sx(new Yf("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const hx="firebase-heartbeat-store";let px=null;function mx(){return px||(px=vg("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(hx)}catch(Oq){console.warn(Oq)}}}).catch(e=>{throw ox.create("idb-open",{originalErrorMessage:e.message})})),px}async function fx(e,t){try{const n=(await mx()).transaction(hx,"readwrite"),r=n.objectStore(hx);await r.put(t,gx(e)),await n.done}catch(Oq){if(Oq instanceof Tf)Cg.warn(Oq.message);else{const t=ox.create("idb-set",{originalErrorMessage:null===Oq||void 0===Oq?void 0:Oq.message});Cg.warn(t.message)}}}function gx(e){return"".concat(e.name,"!").concat(e.options.appId)}class xx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bx(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vx();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Oq){Cg.warn(Oq)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=vx(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),yx(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),yx(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=hf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(Oq){return Cg.warn(Oq),""}}}function vx(){return(new Date).toISOString().substring(0,10)}class bx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Af()&&Df().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await mx()).transaction(hx),n=await t.objectStore(hx).get(gx(e));return await t.done,n}catch(Oq){if(Oq instanceof Tf)Cg.warn(Oq.message);else{const t=ox.create("idb-get",{originalErrorMessage:null===Oq||void 0===Oq?void 0:Oq.message});Cg.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return fx(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return fx(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function yx(e){return hf(JSON.stringify({version:2,heartbeats:e})).length}var wx;wx="",sx(new Yf("platform-logger",e=>new Ng(e),"PRIVATE")),sx(new Yf("heartbeat",e=>new xx(e),"PRIVATE")),ux(kg,Sg,wx),ux(kg,Sg,"esm2020"),ux("fire-js","");ux("firebase","12.8.0","app");const jx="@firebase/database",Nx="1.1.0";let kx="";function Sx(e){kx=e}class Cx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Rf(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:If(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class _x{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ff(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Px=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Cx(t)}}catch(Oq){}return new _x},Ax=Px("localStorage"),Dx=Px("sessionStorage"),Tx=new sg("@firebase/database"),Lx=function(){let e=1;return function(){return e++}}(),Ex=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);if(a>=55296&&a<=56319){const t=a-55296;r++,sf(r<e.length,"Surrogate pair missing trail surrogate."),a=65536+(t<<10)+(e.charCodeAt(r)-56320)}a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):a<65536?(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t}(e),n=new Wf;n.update(t);const r=n.digest();return cf.encodeByteArray(r)},Ix=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Ix.apply(null,n):e+="object"===typeof n?Rf(n):n,e+=" "}return e};let Rx=null,Mx=!0;const Fx=function(e,t){sf(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Tx.logLevel=eg.VERBOSE,Rx=Tx.log.bind(Tx),t&&Dx.set("logging_enabled",!0)):"function"===typeof e?Rx=e:(Rx=null,Dx.remove("logging_enabled"))},Ox=function(){if(!0===Mx&&(Mx=!1,null===Rx&&!0===Dx.get("logging_enabled")&&Fx(!0)),Rx){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Ix.apply(null,t);Rx(r)}},zx=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ox(e,...n)}},Bx=function(){const e="FIREBASE INTERNAL ERROR: "+Ix(...arguments);Tx.error(e)},Ux=function(){const e="FIREBASE FATAL ERROR: ".concat(Ix(...arguments));throw Tx.error(e),new Error(e)},qx=function(){const e="FIREBASE WARNING: "+Ix(...arguments);Tx.warn(e)},Wx=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Hx="[MIN_NAME]",Vx="[MAX_NAME]",Gx=function(e,t){if(e===t)return 0;if(e===Hx||t===Vx)return-1;if(t===Hx||e===Vx)return 1;{const n=ev(e),r=ev(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Kx=function(e,t){return e===t?0:e<t?-1:1},Yx=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Rf(t))},$x=function(e){if("object"!==typeof e||null===e)return Rf(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Rf(t[r]),n+=":",n+=$x(e[t[r]]);return n+="}",n},Jx=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let a=0;a<n;a+=t)a+t>n?r.push(e.substring(a,n)):r.push(e.substring(a,a+t));return r};function Xx(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Qx=function(e){sf(!Wx(e),"Invalid JSON number");const t=1023;let n,r,a,s,i;0===e?(r=0,a=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,a=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,a=Math.round(e/Math.pow(2,-1074))));const o=[];for(i=52;i;i-=1)o.push(a%2?1:0),a=Math.floor(a/2);for(i=11;i;i-=1)o.push(r%2?1:0),r=Math.floor(r/2);o.push(n?1:0),o.reverse();const l=o.join("");let c="";for(i=0;i<64;i+=8){let e=parseInt(l.substr(i,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Zx=new RegExp("^-?(0*)\\d{1,10}$"),ev=function(e){if(Zx.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},tv=function(e){try{e()}catch(Oq){setTimeout(()=>{const t=Oq.stack||"";throw qx("Exception was thrown by user callback.",t),Oq},Math.floor(0))}},nv=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class rv{constructor(e,t){var n;this.appCheckProvider=t,this.appName=e.name,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){qx('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class av{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ox("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qx(e)}}class sv{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}sv.OWNER="owner";const iv="5",ov=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lv="ac",cv="websocket",dv="long_polling";class uv{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=s,this.includeNamespaceInQueryParams=i,this.isUsingEmulator=o,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ax.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ax.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function hv(e,t,n){let r;if(sf("string"===typeof t,"typeof type must == string"),sf("object"===typeof n,"typeof params must == object"),t===cv)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==dv)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const a=[];return Xx(n,(e,t)=>{a.push(e+"="+t)}),r+a.join("&")}class pv{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ff(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return mf(this.counters_)}}const mv={},fv={};function gv(e){const t=e.toString();return mv[t]||(mv[t]=new pv),mv[t]}class xv{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&tv(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const vv="start";class bv{constructor(e,t,n,r,a,s,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=a,this.transportSessionId=s,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zx(e),this.stats_=gv(t),this.urlFn=e=>(this.appCheckToken&&(e[lv]=this.appCheckToken),hv(t,dv,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Pf()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yv(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[a,s,i,o,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,a===vv)n.id=s,n.password=i;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[a,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(a,s)},()=>{this.onClosed_()},this.urlFn);const e={};e[vv]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=iv,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[lv]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&ov.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bv.forceAllow_=!0}static forceDisallow(){bv.forceDisallow_=!0}static isAvailable(){return!Pf()&&(!!bv.forceAllow_||!bv.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Rf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=uf(t),r=Jx(n,1840);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Pf())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Rf(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class yv{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Pf())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Lx(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=yv.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(Oq){Ox("frame writing exception"),Oq.stack&&Ox(Oq.stack),Ox(Oq)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ox("No IE domain setting required")}catch(Oq){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){Pf()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Ox("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(Oq){}},Math.floor(1))}}let wv=null;"undefined"!==typeof MozWebSocket?wv=MozWebSocket:"undefined"!==typeof WebSocket&&(wv=WebSocket);class jv{constructor(e,t,n,r,a,s,i){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zx(this.connId),this.stats_=gv(t),this.connURL=jv.connectionURL_(t,s,i,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,a){const s={};return s.v=iv,!Pf()&&"undefined"!==typeof location&&location.hostname&&ov.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[lv]=r),a&&(s.p=a),hv(e,cv,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ax.set("previous_websocket_failure",!0);try{let e;if(Pf()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(iv,"/").concat(kx,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"",REACT_APP_FIREBASE_API_KEY:"AIzaSyDWV7_xKJ9vRvtBceQdTb5akTSx3jKk1Bw",REACT_APP_FIREBASE_APP_ID:"1:764709653798:web:bc596b7510ad4fb34c45e7",REACT_APP_FIREBASE_AUTH_DOMAIN:"e-trucking-8d905.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://e-trucking-8d905-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-06MBDLYS9Q",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"764709653798",REACT_APP_FIREBASE_PROJECT_ID:"e-trucking-8d905",REACT_APP_FIREBASE_STORAGE_BUCKET:"e-trucking-8d905.firebasestorage.app",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyBTln9AbQ0K-CTbVrcFNQc0LHlt3Y4J1Pc"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new wv(this.connURL,[],e)}catch(Oq){this.log_("Error instantiating WebSocket.");const t=Oq.message||Oq.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){jv.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==wv&&!jv.forceDisallow_}static previouslyFailed(){return Ax.isInMemoryStorage||!0===Ax.get("previous_websocket_failure")}markConnectionHealthy(){Ax.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=If(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(sf(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Rf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Jx(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(Oq){this.log_("Exception thrown from WebSocket.send():",Oq.message||Oq.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jv.responsesRequiredToBeHealthy=2,jv.healthyTimeout=3e4;class Nv{static get ALL_TRANSPORTS(){return[bv,jv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=jv&&jv.isAvailable();let n=t&&!jv.previouslyFailed();if(e.webSocketOnly&&(t||qx("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[jv];else{const e=this.transports_=[];for(const t of Nv.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Nv.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Nv.globalTransportInitialized_=!1;class kv{constructor(e,t,n,r,a,s,i,o,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=s,this.onReady_=i,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zx("c:"+this.id+":"),this.transportManager_=new Nv(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=nv(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Yx("t",e),n=Yx("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Yx("t",e),n=Yx("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Yx("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Ne({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Bx("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bx("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),iv!==n&&qx("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),nv(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nv(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ax.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Sv{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Cv{constructor(e){this.allowedEvents_=e,this.listeners_={},sf(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<a.length;e++)a[e].callback.apply(a[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let a=0;a<r.length;a++)if(r[a].callback===t&&(!n||n===r[a].context))return void r.splice(a,1)}validateEventType_(e){sf(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class _v extends Cv{static getInstance(){return new _v}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||_f()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return sf("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Pv{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Av(){return new Pv("")}function Dv(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Tv(e){return e.pieces_.length-e.pieceNum_}function Lv(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Pv(e.pieces_,t)}function Ev(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Iv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Rv(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Pv(t,0)}function Mv(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Pv)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Pv(n,0)}function Fv(e){return e.pieceNum_>=e.pieces_.length}function Ov(e,t){const n=Dv(e),r=Dv(t);if(null===n)return t;if(n===r)return Ov(Lv(e),Lv(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function zv(e,t){if(Tv(e)!==Tv(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Bv(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Tv(e)>Tv(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Uv{constructor(e,t){this.errorPrefix_=t,this.parts_=Iv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Vf(this.parts_[n]);qv(this)}}function qv(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wv(e))}function Wv(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Hv extends Cv{static getInstance(){return new Hv}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return sf("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Vv=1e3;class Gv extends Sv{constructor(e,t,n,r,a,s,i,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.authOverride_=o,this.id=Gv.nextPersistentConnectionId_++,this.log_=zx("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vv,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o&&!Pf())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hv.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&_v.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,a={r:r,a:e,b:t};this.log_(Rf(a)),sf(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new wf,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const a=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+a),this.listens.has(s)||this.listens.set(s,new Map),sf(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),sf(!this.listens.get(s).has(a),"listen() called twice for same path/queryId.");const i={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(a,i),this.connected_&&this.sendListen_(i)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const a={p:n};e.tag&&(a.q=t._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,a=>{const s=a.d,i=a.s;Gv.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",a),"ok"!==i&&this.removeListen_(n,r),e.onComplete&&e.onComplete(i,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Ff(e,"w")){const n=Of(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();qx("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Mf(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Mf(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),sf(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const a={p:e};r&&(a.q=n,a.t=r),this.sendRequest("n",a)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const a={p:t,d:n};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,a){this.initConnection_();const s={p:t,d:n};void 0!==a&&(s.h=a),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const i=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(i):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Rf(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Bx("Unrecognized action received from server: "+Rf(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){sf(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vv),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Gv.nextConnectionId_++,a=this.lastSessionId;let s=!1,i=null;const o=function(){i?i.close():(s=!0,n())},l=function(e){sf(i,"sendRequest call when we're not connected not allowed."),i.sendRequest(e)};this.realtime_={close:o,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Ox("getToken() completed but was canceled"):(Ox("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=l&&l.token,i=new kv(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{qx(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},a))}catch(Bx){this.log_("Failed to get token: "+Bx),s||(this.repoInfo_.nodeAdmin&&qx(Bx),o())}}}interrupt(e){Ox("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ox("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zf(this.interruptReasons_)&&(this.reconnectDelay_=Vv,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>$x(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Pv(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Ox("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Ox("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Pf()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+kx.replace(/\./g,"-")]=1,_f()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_v.getInstance().currentlyOnline();return zf(this.interruptReasons_)&&e}}Gv.nextPersistentConnectionId_=0,Gv.nextConnectionId_=0;class Kv{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Kv(e,t)}}class Yv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Kv(Hx,e),r=new Kv(Hx,t);return 0!==this.compare(n,r)}minPost(){return Kv.MIN}}let $v;class Jv extends Yv{static get __EMPTY_NODE(){return $v}static set __EMPTY_NODE(e){$v=e}compare(e,t){return Gx(e.name,t.name)}isDefinedOn(e){throw of("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Kv.MIN}maxPost(){return new Kv(Vx,$v)}makePost(e,t){return sf("string"===typeof e,"KeyIndex indexValue must always be a string."),new Kv(e,$v)}toString(){return".key"}}const Xv=new Jv;class Qv{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Zv{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:Zv.RED,this.left=null!=r?r:eb.EMPTY_NODE,this.right=null!=a?a:eb.EMPTY_NODE}copy(e,t,n,r,a){return new Zv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return eb.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return eb.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Zv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Zv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Zv.RED=!0,Zv.BLACK=!1;class eb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eb.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new eb(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Zv.BLACK,null,null))}remove(e){return new eb(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Zv.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Qv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Qv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Qv(this.root_,null,this.comparator_,!0,e)}}function tb(e,t){return Gx(e.name,t.name)}function nb(e,t){return Gx(e,t)}let rb;eb.EMPTY_NODE=new class{copy(e,t,n,r,a){return this}insert(e,t,n){return new Zv(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ab=function(e){return"number"===typeof e?"number:"+Qx(e):"string:"+e},sb=function(e){if(e.isLeafNode()){const t=e.val();sf("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ff(t,".sv"),"Priority must be a string or number.")}else sf(e===rb||e.isEmpty(),"priority of unexpected type.");sf(e===rb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ib,ob,lb;class cb{static set __childrenNodeConstructor(e){ib=e}static get __childrenNodeConstructor(){return ib}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cb.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,sf(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),sb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new cb(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:cb.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Fv(e)?this:".priority"===Dv(e)?this.priorityNode_:cb.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:cb.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Dv(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(sf(".priority"!==n||1===Tv(e),".priority must be the last token in a path"),this.updateImmediateChild(n,cb.__childrenNodeConstructor.EMPTY_NODE.updateChild(Lv(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ab(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Qx(this.value_):this.value_,this.lazyHash_=Ex(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===cb.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof cb.__childrenNodeConstructor?-1:(sf(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=cb.VALUE_TYPE_ORDER.indexOf(t),a=cb.VALUE_TYPE_ORDER.indexOf(n);return sf(r>=0,"Unknown leaf type: "+t),sf(a>=0,"Unknown leaf type: "+n),r===a?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}cb.VALUE_TYPE_ORDER=["object","boolean","number","string"];const db=new class extends Yv{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),a=n.compareTo(r);return 0===a?Gx(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Kv.MIN}maxPost(){return new Kv(Vx,new cb("[PRIORITY-POST]",lb))}makePost(e,t){const n=ob(e);return new Kv(t,new cb("[PRIORITY-POST]",n))}toString(){return".priority"}},ub=Math.log(2);class hb{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ub,10)),this.current_=this.count-1;const n=(e=>parseInt(Array(e+1).join("1"),2))(this.count);this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pb=function(e,t,n,r){e.sort(t);const a=function(t,r){const s=r-t;let i,o;if(0===s)return null;if(1===s)return i=e[t],o=n?n(i):i,new Zv(o,i.node,Zv.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=a(t,l),d=a(l+1,r);return i=e[l],o=n?n(i):i,new Zv(o,i.node,Zv.BLACK,c,d)}},s=function(t){let r=null,s=null,i=e.length;const o=function(t,r){const s=i-t,o=i;i-=t;const c=a(s+1,o),d=e[s],u=n?n(d):d;l(new Zv(u,d.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?o(r,Zv.BLACK):(o(r,Zv.BLACK),o(r,Zv.RED))}return s}(new hb(e.length));return new eb(r||t,s)};let mb;const fb={};class gb{static get Default(){return sf(fb&&db,"ChildrenNode.ts has not been loaded"),mb=mb||new gb({".priority":fb},{".priority":db}),mb}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Of(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof eb?t:null}hasIndex(e){return Ff(this.indexSet_,e.toString())}addIndex(e,t){sf(e!==Xv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const a=t.getIterator(Kv.Wrap);let s,i=a.getNext();for(;i;)r=r||e.isDefinedOn(i.node),n.push(i),i=a.getNext();s=r?pb(n,e.getCompare()):fb;const o=e.toString(),l=Ne({},this.indexSet_);l[o]=e;const c=Ne({},this.indexes_);return c[o]=s,new gb(c,l)}addToIndexes(e,t){const n=Bf(this.indexes_,(n,r)=>{const a=Of(this.indexSet_,r);if(sf(a,"Missing index implementation for "+r),n===fb){if(a.isDefinedOn(e.node)){const n=[],r=t.getIterator(Kv.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),pb(n,a.getCompare())}return fb}{const r=t.get(e.name);let a=n;return r&&(a=a.remove(new Kv(e.name,r))),a.insert(e,e.node)}});return new gb(n,this.indexSet_)}removeFromIndexes(e,t){const n=Bf(this.indexes_,n=>{if(n===fb)return n;{const r=t.get(e.name);return r?n.remove(new Kv(e.name,r)):n}});return new gb(n,this.indexSet_)}}let xb;class vb{static get EMPTY_NODE(){return xb||(xb=new vb(new eb(nb),null,gb.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&sb(this.priorityNode_),this.children_.isEmpty()&&sf(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xb}updatePriority(e){return this.children_.isEmpty()?this:new vb(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?xb:t}}getChild(e){const t=Dv(e);return null===t?this:this.getImmediateChild(t).getChild(Lv(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(sf(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Kv(e,t);let r,a;t.isEmpty()?(r=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),a=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?xb:this.priorityNode_;return new vb(r,s,a)}}updateChild(e,t){const n=Dv(e);if(null===n)return t;{sf(".priority"!==Dv(e)||1===Tv(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Lv(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,a=!0;if(this.forEachChild(db,(s,i)=>{t[s]=i.val(e),n++,a&&vb.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):a=!1}),!e&&a&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ab(this.getPriority().val())+":"),this.forEachChild(db,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":Ex(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Kv(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Kv(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Kv(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Kv.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Kv.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bb?-1:0}withIndex(e){if(e===Xv||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new vb(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Xv||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(db),n=t.getIterator(db);let r=e.getNext(),a=n.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=e.getNext(),a=n.getNext()}return null===r&&null===a}return!1}return!1}}resolveIndex_(e){return e===Xv?null:this.indexMap_.get(e.toString())}}vb.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const bb=new class extends vb{constructor(){super(new eb(nb),vb.EMPTY_NODE,gb.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return vb.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Kv,{MIN:{value:new Kv(Hx,vb.EMPTY_NODE)},MAX:{value:new Kv(Vx,bb)}}),Jv.__EMPTY_NODE=vb.EMPTY_NODE,cb.__childrenNodeConstructor=vb,rb=bb,function(e){lb=e}(bb);function yb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return vb.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),sf(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new cb(e,yb(t))}if(e instanceof Array){let n=vb.EMPTY_NODE;return Xx(e,(t,r)=>{if(Ff(e,t)&&"."!==t.substring(0,1)){const e=yb(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(yb(t))}{const n=[];let r=!1;if(Xx(e,(e,t)=>{if("."!==e.substring(0,1)){const a=yb(t);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new Kv(e,a)))}}),0===n.length)return vb.EMPTY_NODE;const a=pb(n,tb,e=>e.name,nb);if(r){const e=pb(n,db.getCompare());return new vb(a,yb(t),new gb({".priority":e},{".priority":db}))}return new vb(a,yb(t),gb.Default)}}!function(e){ob=e}(yb);class wb extends Yv{constructor(e){super(),this.indexPath_=e,sf(!Fv(e)&&".priority"!==Dv(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),a=n.compareTo(r);return 0===a?Gx(e.name,t.name):a}makePost(e,t){const n=yb(e),r=vb.EMPTY_NODE.updateChild(this.indexPath_,n);return new Kv(t,r)}maxPost(){const e=vb.EMPTY_NODE.updateChild(this.indexPath_,bb);return new Kv(Vx,e)}toString(){return Iv(this.indexPath_,0).join("/")}}const jb=new class extends Yv{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Gx(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Kv.MIN}maxPost(){return Kv.MAX}makePost(e,t){const n=yb(e);return new Kv(t,n)}toString(){return".value"}};function Nb(e){return{type:"value",snapshotNode:e}}function kb(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Sb(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Cb(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class _b{constructor(e){this.index_=e}updateChild(e,t,n,r,a,s){sf(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const i=e.getImmediateChild(t);return i.getChild(r).equals(n.getChild(r))&&i.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Sb(t,i)):sf(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):i.isEmpty()?s.trackChildChange(kb(t,n)):s.trackChildChange(Cb(t,n,i))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(db,(e,r)=>{t.hasChild(e)||n.trackChildChange(Sb(e,r))}),t.isLeafNode()||t.forEachChild(db,(t,r)=>{if(e.hasChild(t)){const a=e.getImmediateChild(t);a.equals(r)||n.trackChildChange(Cb(t,r,a))}else n.trackChildChange(kb(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?vb.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Pb{constructor(e){this.indexedFilter_=new _b(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Pb.getStartPost_(e),this.endPost_=Pb.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,a,s){return this.matches(new Kv(t,n))||(n=vb.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,a,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=vb.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(vb.EMPTY_NODE);const a=this;return t.forEachChild(db,(e,t)=>{a.matches(new Kv(e,t))||(r=r.updateImmediateChild(e,vb.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Ab{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Pb(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,a,s){return this.rangedFilter_.matches(new Kv(t,n))||(n=vb.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,a,s):this.fullLimitUpdateChild_(e,t,n,a,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=vb.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=vb.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(vb.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,vb.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,a){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const i=e;sf(i.numChildren()===this.limit_,"");const o=new Kv(t,n),l=this.reverse_?i.getFirstChild(this.index_):i.getLastChild(this.index_),c=this.rangedFilter_.matches(o);if(i.hasChild(t)){const e=i.getImmediateChild(t);let d=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=d&&(d.name===t||i.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);const u=null==d?1:s(d,o);if(c&&!n.isEmpty()&&u>=0)return null!=a&&a.trackChildChange(Cb(t,n,e)),i.updateImmediateChild(t,n);{null!=a&&a.trackChildChange(Sb(t,e));const n=i.updateImmediateChild(t,vb.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=a&&a.trackChildChange(kb(d.name,d.node)),n.updateImmediateChild(d.name,d.node)):n}}return n.isEmpty()?e:c&&s(l,o)>=0?(null!=a&&(a.trackChildChange(Sb(l.name,l.node)),a.trackChildChange(kb(t,n))),i.updateImmediateChild(t,n).updateImmediateChild(l.name,vb.EMPTY_NODE)):e}}class Db{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=db}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return sf(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return sf(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hx}hasEnd(){return this.endSet_}getIndexEndValue(){return sf(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return sf(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vx}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return sf(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===db}copy(){const e=new Db;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Tb(e){const t={};if(e.isDefault())return t;let n;if(e.index_===db?n="$priority":e.index_===jb?n="$value":e.index_===Xv?n="$key":(sf(e.index_ instanceof wb,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Rf(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Rf(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Rf(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Rf(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Rf(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Lb(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==db&&(t.i=e.index_.toString()),t}class Eb extends Sv{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(sf(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=zx("p:rest:"),this.listens_={}}listen(e,t,n,r){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const s=Eb.getListenId_(e,n),i={};this.listens_[s]=i;const o=Tb(e._queryParams);this.restRequest_(a+".json",o,(e,t)=>{let o=t;if(404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(a,o,!1,n),Of(this.listens_,s)===i){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Eb.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Tb(e._queryParams),n=e._path.toString(),r=new wf;return this.restRequest_(n+".json",t,(e,t)=>{let a=t;404===e&&(a=null,e=null),null===e?(this.onDataUpdate_(n,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[a,s]=r;a&&a.accessToken&&(t.auth=a.accessToken),s&&s.token&&(t.ac=s.token);const i=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+i);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=If(o.responseText)}catch(Oq){qx("Failed to parse JSON response for "+i+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&qx("Got unsuccessful REST response for "+i+" Status: "+o.status),n(o.status);n=null}},o.open("GET",i,!0),o.send()})}}class Ib{constructor(){this.rootNode_=vb.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Rb(){return{value:null,children:new Map}}function Mb(e,t,n){if(Fv(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Dv(t);e.children.has(r)||e.children.set(r,Rb());Mb(e.children.get(r),t=Lv(t),n)}}function Fb(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{Fb(r,new Pv(t.toString()+"/"+e),n)})}class Ob{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Ne({},e);return this.last_&&Xx(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class zb{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ob(e);const n=1e4+2e4*Math.random();nv(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Xx(e,(e,r)=>{r>0&&Ff(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),nv(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Bb;function Ub(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Bb||(Bb={}));class qb{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Bb.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Fv(this.path)){if(null!=this.affectedTree.value)return sf(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Pv(e));return new qb(Av(),t,this.revert)}}return sf(Dv(this.path)===e,"operationForChild called for unrelated child."),new qb(Lv(this.path),this.affectedTree,this.revert)}}class Wb{constructor(e,t){this.source=e,this.path=t,this.type=Bb.LISTEN_COMPLETE}operationForChild(e){return Fv(this.path)?new Wb(this.source,Av()):new Wb(this.source,Lv(this.path))}}class Hb{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Bb.OVERWRITE}operationForChild(e){return Fv(this.path)?new Hb(this.source,Av(),this.snap.getImmediateChild(e)):new Hb(this.source,Lv(this.path),this.snap)}}class Vb{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Bb.MERGE}operationForChild(e){if(Fv(this.path)){const t=this.children.subtree(new Pv(e));return t.isEmpty()?null:t.value?new Hb(this.source,Av(),t.value):new Vb(this.source,Av(),t)}return sf(Dv(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vb(this.source,Lv(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gb{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Fv(e))return this.isFullyInitialized()&&!this.filtered_;const t=Dv(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Kb{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Yb(e,t,n,r,a,s){const i=r.filter(e=>e.type===n);i.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw of("Should only compare child_ events.");const r=new Kv(t.childName,t.snapshotNode),a=new Kv(n.childName,n.snapshotNode);return e.index_.compare(r,a)}(e,t,n)),i.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);a.forEach(a=>{a.respondsTo(n.type)&&t.push(a.createEvent(r,e.query_))})})}function $b(e,t){return{eventCache:e,serverCache:t}}function Jb(e,t,n,r){return $b(new Gb(t,n,r),e.serverCache)}function Xb(e,t,n,r){return $b(e.eventCache,new Gb(t,n,r))}function Qb(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Zb(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let ey;class ty{static fromObject(e){let t=new ty(null);return Xx(e,(e,n)=>{t=t.set(new Pv(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(ey||(ey=new eb(Kx)),ey);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Av(),value:this.value};if(Fv(e))return null;{const n=Dv(e),r=this.children.get(n);if(null!==r){const a=r.findRootMostMatchingPathAndValue(Lv(e),t);if(null!=a){return{path:Mv(new Pv(n),a.path),value:a.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Fv(e))return this;{const t=Dv(e),n=this.children.get(t);return null!==n?n.subtree(Lv(e)):new ty(null)}}set(e,t){if(Fv(e))return new ty(t,this.children);{const n=Dv(e),r=(this.children.get(n)||new ty(null)).set(Lv(e),t),a=this.children.insert(n,r);return new ty(this.value,a)}}remove(e){if(Fv(e))return this.children.isEmpty()?new ty(null):new ty(null,this.children);{const t=Dv(e),n=this.children.get(t);if(n){const r=n.remove(Lv(e));let a;return a=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&a.isEmpty()?new ty(null):new ty(this.value,a)}return this}}get(e){if(Fv(e))return this.value;{const t=Dv(e),n=this.children.get(t);return n?n.get(Lv(e)):null}}setTree(e,t){if(Fv(e))return t;{const n=Dv(e),r=(this.children.get(n)||new ty(null)).setTree(Lv(e),t);let a;return a=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new ty(this.value,a)}}fold(e){return this.fold_(Av(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,a)=>{n[r]=a.fold_(Mv(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Av(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Fv(e))return null;{const r=Dv(e),a=this.children.get(r);return a?a.findOnPath_(Lv(e),Mv(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Av(),t)}foreachOnPath_(e,t,n){if(Fv(e))return this;{this.value&&n(t,this.value);const r=Dv(e),a=this.children.get(r);return a?a.foreachOnPath_(Lv(e),Mv(t,r),n):new ty(null)}}foreach(e){this.foreach_(Av(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Mv(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class ny{constructor(e){this.writeTree_=e}static empty(){return new ny(new ty(null))}}function ry(e,t,n){if(Fv(t))return new ny(new ty(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let s=r.value;const i=Ov(a,t);return s=s.updateChild(i,n),new ny(e.writeTree_.set(a,s))}{const r=new ty(n),a=e.writeTree_.setTree(t,r);return new ny(a)}}}function ay(e,t,n){let r=e;return Xx(n,(e,n)=>{r=ry(r,Mv(t,e),n)}),r}function sy(e,t){if(Fv(t))return ny.empty();{const n=e.writeTree_.setTree(t,new ty(null));return new ny(n)}}function iy(e,t){return null!=oy(e,t)}function oy(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ov(n.path,t)):null}function ly(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(db,(e,n)=>{t.push(new Kv(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Kv(e,n.value))}),t}function cy(e,t){if(Fv(t))return e;{const n=oy(e,t);return new ny(null!=n?new ty(n):e.writeTree_.subtree(t))}}function dy(e){return e.writeTree_.isEmpty()}function uy(e,t){return hy(Av(),e.writeTree_,t)}function hy(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,a)=>{".priority"===t?(sf(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):n=hy(Mv(e,t),a,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Mv(e,".priority"),r)),n}}function py(e,t){return Cy(t,e)}function my(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);sf(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let a=r.visible,s=!1,i=e.allWrites.length-1;for(;a&&i>=0;){const t=e.allWrites[i];t.visible&&(i>=n&&fy(t,r.path)?a=!1:Bv(r.path,t.path)&&(s=!0)),i--}if(a){if(s)return function(e){e.visibleWrites=xy(e.allWrites,gy,Av()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=sy(e.visibleWrites,r.path);else{Xx(r.children,t=>{e.visibleWrites=sy(e.visibleWrites,Mv(r.path,t))})}return!0}return!1}function fy(e,t){if(e.snap)return Bv(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Bv(Mv(e.path,n),t))return!0;return!1}function gy(e){return e.visible}function xy(e,t,n){let r=ny.empty();for(let a=0;a<e.length;++a){const s=e[a];if(t(s)){const e=s.path;let t;if(s.snap)Bv(n,e)?(t=Ov(n,e),r=ry(r,t,s.snap)):Bv(e,n)&&(t=Ov(e,n),r=ry(r,Av(),s.snap.getChild(t)));else{if(!s.children)throw of("WriteRecord should have .snap or .children");if(Bv(n,e))t=Ov(n,e),r=ay(r,t,s.children);else if(Bv(e,n))if(t=Ov(e,n),Fv(t))r=ay(r,Av(),s.children);else{const e=Of(s.children,Dv(t));if(e){const n=e.getChild(Lv(t));r=ry(r,Av(),n)}}}}}return r}function vy(e,t,n,r,a){if(r||a){const s=cy(e.visibleWrites,t);if(!a&&dy(s))return n;if(a||null!=n||iy(s,Av())){const s=function(e){return(e.visible||a)&&(!r||!~r.indexOf(e.writeId))&&(Bv(e.path,t)||Bv(t,e.path))};return uy(xy(e.allWrites,s,t),n||vb.EMPTY_NODE)}return null}{const r=oy(e.visibleWrites,t);if(null!=r)return r;{const r=cy(e.visibleWrites,t);if(dy(r))return n;if(null!=n||iy(r,Av())){return uy(r,n||vb.EMPTY_NODE)}return null}}}function by(e,t,n,r){return vy(e.writeTree,e.treePath,t,n,r)}function yy(e,t){return function(e,t,n){let r=vb.EMPTY_NODE;const a=oy(e.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(db,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const a=cy(e.visibleWrites,t);return n.forEachChild(db,(e,t)=>{const n=uy(cy(a,new Pv(e)),t);r=r.updateImmediateChild(e,n)}),ly(a).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return ly(cy(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function wy(e,t,n,r){return function(e,t,n,r,a){sf(r||a,"Either existingEventSnap or existingServerSnap must exist");const s=Mv(t,n);if(iy(e.visibleWrites,s))return null;{const t=cy(e.visibleWrites,s);return dy(t)?a.getChild(n):uy(t,a.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function jy(e,t){return function(e,t){return oy(e.visibleWrites,t)}(e.writeTree,Mv(e.treePath,t))}function Ny(e,t,n,r,a,s){return function(e,t,n,r,a,s,i){let o;const l=cy(e.visibleWrites,t),c=oy(l,Av());if(null!=c)o=c;else{if(null==n)return[];o=uy(l,n)}if(o=o.withIndex(i),o.isEmpty()||o.isLeafNode())return[];{const e=[],t=i.getCompare(),n=s?o.getReverseIteratorFrom(r,i):o.getIteratorFrom(r,i);let l=n.getNext();for(;l&&e.length<a;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,a,s)}function ky(e,t,n){return function(e,t,n,r){const a=Mv(t,n),s=oy(e.visibleWrites,a);if(null!=s)return s;if(r.isCompleteForChild(n))return uy(cy(e.visibleWrites,a),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Sy(e,t){return Cy(Mv(e.treePath,t),e.writeTree)}function Cy(e,t){return{treePath:e,writeTree:t}}class _y{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;sf("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),sf(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const a=r.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(n,Cb(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(n,Sb(n,r.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(n,kb(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw of("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Cb(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Py=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Ay{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Gb(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ky(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zb(this.viewCache_),a=Ny(this.writes_,r,t,1,n,e);return 0===a.length?null:a[0]}}function Dy(e,t,n,r,a){const s=new _y;let i,o;if(n.type===Bb.OVERWRITE){const l=n;l.source.fromUser?i=Ey(e,t,l.path,l.snap,r,a,s):(sf(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered()&&!Fv(l.path),i=Ly(e,t,l.path,l.snap,r,a,o,s))}else if(n.type===Bb.MERGE){const l=n;l.source.fromUser?i=function(e,t,n,r,a,s,i){let o=t;return r.foreach((r,l)=>{const c=Mv(n,r);Iy(t,Dv(c))&&(o=Ey(e,o,c,l,a,s,i))}),r.foreach((r,l)=>{const c=Mv(n,r);Iy(t,Dv(c))||(o=Ey(e,o,c,l,a,s,i))}),o}(e,t,l.path,l.children,r,a,s):(sf(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),i=My(e,t,l.path,l.children,r,a,o,s))}else if(n.type===Bb.ACK_USER_WRITE){const o=n;i=o.revert?function(e,t,n,r,a,s){let i;if(null!=jy(r,n))return t;{const o=new Ay(r,t,a),l=t.eventCache.getNode();let c;if(Fv(n)||".priority"===Dv(n)){let n;if(t.serverCache.isFullyInitialized())n=by(r,Zb(t));else{const e=t.serverCache.getNode();sf(e instanceof vb,"serverChildren would be complete if leaf node"),n=yy(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const a=Dv(n);let d=ky(r,a,t.serverCache);null==d&&t.serverCache.isCompleteForChild(a)&&(d=l.getImmediateChild(a)),c=null!=d?e.filter.updateChild(l,a,d,Lv(n),o,s):t.eventCache.getNode().hasChild(a)?e.filter.updateChild(l,a,vb.EMPTY_NODE,Lv(n),o,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(i=by(r,Zb(t)),i.isLeafNode()&&(c=e.filter.updateFullNode(c,i,s)))}return i=t.serverCache.isFullyInitialized()||null!=jy(r,Av()),Jb(t,c,i,e.filter.filtersNodes())}}(e,t,o.path,r,a,s):function(e,t,n,r,a,s,i){if(null!=jy(a,n))return t;const o=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Fv(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ly(e,t,n,l.getNode().getChild(n),a,s,o,i);if(Fv(n)){let r=new ty(null);return l.getNode().forEachChild(Xv,(e,t)=>{r=r.set(new Pv(e),t)}),My(e,t,n,r,a,s,o,i)}return t}{let c=new ty(null);return r.foreach((e,t)=>{const r=Mv(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),My(e,t,n,c,a,s,o,i)}}(e,t,o.path,o.affectedTree,r,a,s)}else{if(n.type!==Bb.LISTEN_COMPLETE)throw of("Unknown operation type: "+n.type);i=function(e,t,n,r,a){const s=t.serverCache,i=Xb(t,s.getNode(),s.isFullyInitialized()||Fv(n),s.isFiltered());return Ty(e,i,n,r,Py,a)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Qb(e);(n.length>0||!e.eventCache.isFullyInitialized()||a&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Nb(Qb(t)))}}(t,i,l),{viewCache:i,changes:l}}function Ty(e,t,n,r,a,s){const i=t.eventCache;if(null!=jy(r,n))return t;{let o,l;if(Fv(n))if(sf(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Zb(t),a=yy(r,n instanceof vb?n:vb.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),a,s)}else{const n=by(r,Zb(t));o=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=Dv(n);if(".priority"===c){sf(1===Tv(n),"Can't have a priority with additional path components");const a=i.getNode();l=t.serverCache.getNode();const s=wy(r,n,a,l);o=null!=s?e.filter.updatePriority(a,s):i.getNode()}else{const d=Lv(n);let u;if(i.isCompleteForChild(c)){l=t.serverCache.getNode();const e=wy(r,n,i.getNode(),l);u=null!=e?i.getNode().getImmediateChild(c).updateChild(d,e):i.getNode().getImmediateChild(c)}else u=ky(r,c,t.serverCache);o=null!=u?e.filter.updateChild(i.getNode(),c,u,d,a,s):i.getNode()}}return Jb(t,o,i.isFullyInitialized()||Fv(n),e.filter.filtersNodes())}}function Ly(e,t,n,r,a,s,i,o){const l=t.serverCache;let c;const d=i?e.filter:e.filter.getIndexedFilter();if(Fv(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),e,null)}else{const e=Dv(n);if(!l.isCompleteForPath(n)&&Tv(n)>1)return t;const a=Lv(n),s=l.getNode().getImmediateChild(e).updateChild(a,r);c=".priority"===e?d.updatePriority(l.getNode(),s):d.updateChild(l.getNode(),e,s,a,Py,null)}const u=Xb(t,c,l.isFullyInitialized()||Fv(n),d.filtersNodes());return Ty(e,u,n,a,new Ay(a,u,s),o)}function Ey(e,t,n,r,a,s,i){const o=t.eventCache;let l,c;const d=new Ay(a,t,s);if(Fv(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,i),l=Jb(t,c,!0,e.filter.filtersNodes());else{const a=Dv(n);if(".priority"===a)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Jb(t,c,o.isFullyInitialized(),o.isFiltered());else{const s=Lv(n),c=o.getNode().getImmediateChild(a);let u;if(Fv(s))u=r;else{const e=d.getCompleteChild(a);u=null!=e?".priority"===Ev(s)&&e.getChild(Rv(s)).isEmpty()?e:e.updateChild(s,r):vb.EMPTY_NODE}if(c.equals(u))l=t;else{l=Jb(t,e.filter.updateChild(o.getNode(),a,u,s,d,i),o.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Iy(e,t){return e.eventCache.isCompleteForChild(t)}function Ry(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function My(e,t,n,r,a,s,i,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Fv(n)?r:new ty(null).setTree(n,r);const d=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(d.hasChild(n)){const l=Ry(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ly(e,c,new Pv(n),l,a,s,i,o)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!d.hasChild(n)&&!l){const l=Ry(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ly(e,c,new Pv(n),l,a,s,i,o)}}),c}class Fy{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new _b(n.getIndex()),a=(s=n).loadsAllData()?new _b(s.getIndex()):s.hasLimit()?new Ab(s):new Pb(s);var s;this.processor_=function(e){return{filter:e}}(a);const i=t.serverCache,o=t.eventCache,l=r.updateFullNode(vb.EMPTY_NODE,i.getNode(),null),c=a.updateFullNode(vb.EMPTY_NODE,o.getNode(),null),d=new Gb(l,i.isFullyInitialized(),r.filtersNodes()),u=new Gb(c,o.isFullyInitialized(),a.filtersNodes());this.viewCache_=$b(u,d),this.eventGenerator_=new Kb(this.query_)}get query(){return this.query_}}function Oy(e,t){const n=Zb(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Fv(t)&&!n.getImmediateChild(Dv(t)).isEmpty())?n.getChild(t):null}function zy(e){return 0===e.eventRegistrations_.length}function By(e,t,n){const r=[];if(n){sf(null==t,"A cancel should cancel all event registrations.");const a=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,a);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const a=e.eventRegistrations_[r];if(a.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(a)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Uy(e,t,n,r){t.type===Bb.MERGE&&null!==t.source.queryId&&(sf(Zb(e.viewCache_),"We should always have a full cache before handling merges"),sf(Qb(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,s=Dy(e.processor_,a,t,n,r);var i,o;return i=e.processor_,o=s.viewCache,sf(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),sf(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),sf(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,qy(e,s.changes,s.viewCache.eventCache.getNode(),null)}function qy(e,t,n,r){const a=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const a=[],s=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Yb(e,a,"child_removed",t,r,n),Yb(e,a,"child_added",t,r,n),Yb(e,a,"child_moved",s,r,n),Yb(e,a,"child_changed",t,r,n),Yb(e,a,"value",t,r,n),a}(e.eventGenerator_,t,n,a)}let Wy,Hy;class Vy{constructor(){this.views=new Map}}function Gy(e,t,n,r){const a=t.source.queryId;if(null!==a){const s=e.views.get(a);return sf(null!=s,"SyncTree gave us an op for an invalid query."),Uy(s,t,n,r)}{let a=[];for(const s of e.views.values())a=a.concat(Uy(s,t,n,r));return a}}function Ky(e,t,n,r,a){const s=t._queryIdentifier,i=e.views.get(s);if(!i){let e=by(n,a?r:null),s=!1;e?s=!0:r instanceof vb?(e=yy(n,r),s=!1):(e=vb.EMPTY_NODE,s=!1);const i=$b(new Gb(e,s,!1),new Gb(r,a,!1));return new Fy(t,i)}return i}function Yy(e,t,n,r,a,s){const i=Ky(e,t,r,a,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,i),function(e,t){e.eventRegistrations_.push(t)}(i,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(db,(e,t)=>{r.push(kb(e,t))});return n.isFullyInitialized()&&r.push(Nb(n.getNode())),qy(e,r,n.getNode(),t)}(i,n)}function $y(e,t,n,r){const a=t._queryIdentifier,s=[];let i=[];const o=ew(e);if("default"===a)for(const[l,c]of e.views.entries())i=i.concat(By(c,n,r)),zy(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(a);t&&(i=i.concat(By(t,n,r)),zy(t)&&(e.views.delete(a),t.query._queryParams.loadsAllData()||s.push(t.query)))}return o&&!ew(e)&&s.push(new(sf(Wy,"Reference.ts has not been loaded"),Wy)(t._repo,t._path)),{removed:s,events:i}}function Jy(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Xy(e,t){let n=null;for(const r of e.views.values())n=n||Oy(r,t);return n}function Qy(e,t){if(t._queryParams.loadsAllData())return tw(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Zy(e,t){return null!=Qy(e,t)}function ew(e){return null!=tw(e)}function tw(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let nw=1;class rw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ty(null),this.pendingWriteTree_={visibleWrites:ny.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aw(e,t,n,r,a){return function(e,t,n,r,a){sf(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:a}),a&&(e.visibleWrites=ry(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,a),a?uw(e,new Hb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function sw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(my(e.pendingWriteTree_,t)){let t=new ty(null);return null!=r.snap?t=t.set(Av(),!0):Xx(r.children,e=>{t=t.set(new Pv(e),!0)}),uw(e,new qb(r.path,t,n))}return[]}function iw(e,t,n){return uw(e,new Hb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ow(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,i=e.syncPointTree_.get(s);let o=[];if(i&&("default"===t._queryIdentifier||Zy(i,t))){const l=$y(i,t,n,r);0===i.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!a){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),a=e.syncPointTree_.findOnPath(s,(e,t)=>ew(t));if(n&&!a){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&ew(t)){return[tw(t)]}{let e=[];return t&&(e=Jy(t)),Xx(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],a=r.query,s=mw(e,r);e.listenProvider_.startListening(yw(a),fw(e,a),s.hashFn,s.onComplete)}}}if(!a&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(yw(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(gw(t));e.listenProvider_.stopListening(yw(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=gw(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return o}function lw(e,t,n,r){const a=xw(e,r);if(null!=a){const r=vw(a),s=r.path,i=r.queryId,o=Ov(s,t);return bw(e,s,new Hb(Ub(i),o,n))}return[]}function cw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=t._path;let s=null,i=!1;e.syncPointTree_.foreachOnPath(a,(e,t)=>{const n=Ov(e,a);s=s||Xy(t,n),i=i||ew(t)});let o,l=e.syncPointTree_.get(a);if(l?(i=i||ew(l),s=s||Xy(l,Av())):(l=new Vy,e.syncPointTree_=e.syncPointTree_.set(a,l)),null!=s)o=!0;else{o=!1,s=vb.EMPTY_NODE;e.syncPointTree_.subtree(a).foreachChild((e,t)=>{const n=Xy(t,Av());n&&(s=s.updateImmediateChild(e,n))})}const c=Zy(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=gw(t);sf(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=nw++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let d=Yy(l,t,n,py(e.pendingWriteTree_,a),s,o);if(!c&&!i&&!r){const n=Qy(l,t);d=d.concat(function(e,t,n){const r=t._path,a=fw(e,t),s=mw(e,n),i=e.listenProvider_.startListening(yw(t),a,s.hashFn,s.onComplete),o=e.syncPointTree_.subtree(r);if(a)sf(!ew(o.value),"If we're adding a query, it shouldn't be shadowed");else{const t=o.fold((e,t,n)=>{if(!Fv(e)&&t&&ew(t))return[tw(t).query];{let e=[];return t&&(e=e.concat(Jy(t).map(e=>e.query))),Xx(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(yw(r),fw(e,r))}}return i}(e,t,n))}return d}function dw(e,t,n){const r=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Xy(n,Ov(e,t));if(r)return r});return vy(r,t,a,n,!0)}function uw(e,t){return hw(t,e.syncPointTree_,null,py(e.pendingWriteTree_,Av()))}function hw(e,t,n,r){if(Fv(e.path))return pw(e,t,n,r);{const a=t.get(Av());null==n&&null!=a&&(n=Xy(a,Av()));let s=[];const i=Dv(e.path),o=e.operationForChild(i),l=t.children.get(i);if(l&&o){const e=n?n.getImmediateChild(i):null,t=Sy(r,i);s=s.concat(hw(o,l,e,t))}return a&&(s=s.concat(Gy(a,e,r,n))),s}}function pw(e,t,n,r){const a=t.get(Av());null==n&&null!=a&&(n=Xy(a,Av()));let s=[];return t.children.inorderTraversal((t,a)=>{const i=n?n.getImmediateChild(t):null,o=Sy(r,t),l=e.operationForChild(t);l&&(s=s.concat(pw(l,a,i,o)))}),a&&(s=s.concat(Gy(a,e,r,n))),s}function mw(e,t){const n=t.query,r=fw(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||vb.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=xw(e,n);if(r){const n=vw(r),a=n.path,s=n.queryId,i=Ov(a,t);return bw(e,a,new Wb(Ub(s),i))}return[]}(e,n._path,r):function(e,t){return uw(e,new Wb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return ow(e,n,null,r)}}}}function fw(e,t){const n=gw(t);return e.queryToTagMap.get(n)}function gw(e){return e._path.toString()+"$"+e._queryIdentifier}function xw(e,t){return e.tagToQueryMap.get(t)}function vw(e){const t=e.indexOf("$");return sf(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Pv(e.substr(0,t))}}function bw(e,t,n){const r=e.syncPointTree_.get(t);sf(r,"Missing sync point for query tag that we're tracking");return Gy(r,n,py(e.pendingWriteTree_,t),null)}function yw(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(sf(Hy,"Reference.ts has not been loaded"),Hy)(e._repo,e._path):e}class ww{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ww(t)}node(){return this.node_}}class jw{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Mv(this.path_,e);return new jw(this.syncTree_,t)}node(){return dw(this.syncTree_,this.path_)}}const Nw=function(e,t,n){return e&&"object"===typeof e?(sf(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?kw(e[".sv"],t,n):"object"===typeof e[".sv"]?Sw(e[".sv"],t):void sf(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},kw=function(e,t,n){if("timestamp"===e)return n.timestamp;sf(!1,"Unexpected server value: "+e)},Sw=function(e,t,n){e.hasOwnProperty("increment")||sf(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&sf(!1,"Unexpected increment value: "+r);const a=t.node();if(sf(null!==a&&"undefined"!==typeof a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const s=a.getValue();return"number"!==typeof s?r:s+r},Cw=function(e,t,n,r){return Pw(t,new jw(n,e),r)},_w=function(e,t,n){return Pw(e,new ww(t),n)};function Pw(e,t,n){const r=e.getPriority().val(),a=Nw(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Nw(r.getValue(),t,n);return s!==r.getValue()||a!==r.getPriority().val()?new cb(s,yb(a)):e}{const r=e;return s=r,a!==r.getPriority().val()&&(s=s.updatePriority(new cb(a))),r.forEachChild(db,(e,r)=>{const a=Pw(r,t.getImmediateChild(e),n);a!==r&&(s=s.updateImmediateChild(e,a))}),s}}class Aw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Dw(e,t){let n=t instanceof Pv?t:new Pv(t),r=e,a=Dv(n);for(;null!==a;){const e=Of(r.node.children,a)||{children:{},childCount:0};r=new Aw(a,r,e),n=Lv(n),a=Dv(n)}return r}function Tw(e){return e.node.value}function Lw(e,t){e.node.value=t,Fw(e)}function Ew(e){return e.node.childCount>0}function Iw(e,t){Xx(e.node.children,(n,r)=>{t(new Aw(n,e,r))})}function Rw(e,t,n,r){n&&!r&&t(e),Iw(e,e=>{Rw(e,t,!0,r)}),n&&r&&t(e)}function Mw(e){return new Pv(null===e.parent?e.name:Mw(e.parent)+"/"+e.name)}function Fw(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Tw(e)&&!Ew(e)}(n),a=Ff(e.node.children,t);r&&a?(delete e.node.children[t],e.node.childCount--,Fw(e)):r||a||(e.node.children[t]=n.node,e.node.childCount++,Fw(e))}(e.parent,e.name,e)}const Ow=/[\[\].#$\/\u0000-\u001F\u007F]/,zw=/[\[\].#$\u0000-\u001F\u007F]/,Bw=10485760,Uw=function(e){return"string"===typeof e&&0!==e.length&&!Ow.test(e)},qw=function(e){return"string"===typeof e&&0!==e.length&&!zw.test(e)},Ww=function(e,t,n){const r=n instanceof Pv?new Uv(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Wv(r));if("function"===typeof t)throw new Error(e+"contains a function "+Wv(r)+" with contents = "+t.toString());if(Wx(t))throw new Error(e+"contains "+t.toString()+" "+Wv(r));if("string"===typeof t&&t.length>Bw/3&&Vf(t)>Bw)throw new Error(e+"contains a string greater than "+Bw+" utf8 bytes "+Wv(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,a=!1;if(Xx(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Uw(t)))throw new Error(e+" contains an invalid key ("+t+") "+Wv(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Vf(t),qv(e)}(r,t),Ww(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=Vf(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&a)throw new Error(e+' contains ".value" child '+Wv(r)+" in addition to actual children.")}},Hw=function(e,t,n,r){if((!r||void 0!==n)&&!qw(n))throw new Error(Hf(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vw=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Uw(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qw(e)}(n))throw new Error(Hf(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Gw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kw(e,t){let n=null;for(let r=0;r<t.length;r++){const a=t[r],s=a.getPath();null===n||zv(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(a)}n&&e.eventLists_.push(n)}function Yw(e,t,n){Kw(e,n),Jw(e,e=>zv(e,t))}function $w(e,t,n){Kw(e,n),Jw(e,e=>Bv(e,t)||Bv(t,e))}function Jw(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const a=e.eventLists_[r];if(a){t(a.path)?(Xw(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Xw(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Rx&&Ox("event: "+n.toString()),tv(r)}}}const Qw="repo_interrupt";class Zw{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rb(),this.transactionQueueTree_=new Aw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ej(e,t,n){if(e.stats_=gv(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Eb(e.repoInfo_,(t,n,r,a)=>{rj(e,t,n,r,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>aj(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rf(n)}catch(Oq){throw new Error("Invalid authOverride provided: "+Oq)}}e.persistentConnection_=new Gv(e.repoInfo_,t,(t,n,r,a)=>{rj(e,t,n,r,a)},t=>{aj(e,t)},t=>{!function(e,t){Xx(t,(t,n)=>{sj(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return fv[n]||(fv[n]=t()),fv[n]}(e.repoInfo_,()=>new zb(e.stats_,e.server_)),e.infoData_=new Ib,e.infoSyncTree_=new rw({startListening:(t,n,r,a)=>{let s=[];const i=e.infoData_.getNode(t._path);return i.isEmpty()||(s=iw(e.infoSyncTree_,t._path,i),setTimeout(()=>{a("ok")},0)),s},stopListening:()=>{}}),sj(e,"connected",!1),e.serverSyncTree_=new rw({startListening:(t,n,r,a)=>(e.server_.listen(t,r,n,(n,r)=>{const s=a(n,r);$w(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function tj(e){const t=e.infoData_.getNode(new Pv(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function nj(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:tj(e)})}function rj(e,t,n,r,a){e.dataUpdateCount++;const s=new Pv(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let i=[];if(a)if(r){const t=Bf(n,e=>yb(e));i=function(e,t,n,r){const a=xw(e,r);if(a){const r=vw(a),s=r.path,i=r.queryId,o=Ov(s,t),l=ty.fromObject(n);return bw(e,s,new Vb(Ub(i),o,l))}return[]}(e.serverSyncTree_,s,t,a)}else{const t=yb(n);i=lw(e.serverSyncTree_,s,t,a)}else if(r){const t=Bf(n,e=>yb(e));i=function(e,t,n){const r=ty.fromObject(n);return uw(e,new Vb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=yb(n);i=iw(e.serverSyncTree_,s,t)}let o=s;i.length>0&&(o=hj(e,s)),$w(e.eventQueue_,o,i)}function aj(e,t){sj(e,"connected",t),!1===t&&function(e){cj(e,"onDisconnectEvents");const t=nj(e),n=Rb();Fb(e.onDisconnect_,Av(),(r,a)=>{const s=Cw(r,a,e.serverSyncTree_,t);Mb(n,r,s)});let r=[];Fb(n,Av(),(t,n)=>{r=r.concat(iw(e.serverSyncTree_,t,n));const a=xj(e,t);hj(e,a)}),e.onDisconnect_=Rb(),$w(e.eventQueue_,Av(),r)}(e)}function sj(e,t,n){const r=new Pv("/.info/"+t),a=yb(n);e.infoData_.updateSnapshot(r,a);const s=iw(e.infoSyncTree_,r,a);$w(e.eventQueue_,r,s)}function ij(e){return e.nextWriteId_++}function oj(e,t,n){let r;r=".info"===Dv(t._path)?ow(e.infoSyncTree_,t,n):ow(e.serverSyncTree_,t,n),Yw(e.eventQueue_,t._path,r)}function lj(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Qw)}function cj(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];Ox(t,...r)}function dj(e,t,n){return dw(e.serverSyncTree_,t,n)||vb.EMPTY_NODE}function uj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||gj(e,t),Tw(t)){const n=mj(e,t);sf(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),a=dj(e,t,r);let s=a;const i=a.hash();for(let c=0;c<n.length;c++){const e=n[c];sf(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Ov(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const o=s.val(!0),l=t;e.server_.put(l.toString(),o,r=>{cj(e,"transaction put response",{path:l.toString(),status:r});let a=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,a=a.concat(sw(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();gj(e,Dw(e.transactionQueueTree_,t)),uj(e,e.transactionQueueTree_),$w(e.eventQueue_,t,a);for(let e=0;e<r.length;e++)tv(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{qx("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}hj(e,t)}},i)}(e,Mw(t),n)}else Ew(t)&&Iw(t,t=>{uj(e,t)})}function hj(e,t){const n=pj(e,t),r=Mw(n);return function(e,t,n){if(0===t.length)return;const r=[];let a=[];const s=t.filter(e=>0===e.status),i=s.map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const s=t[o],l=Ov(n,s.path);let c,d=!1;if(sf(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)d=!0,c=s.abortReason,a=a.concat(sw(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)d=!0,c="maxretry",a=a.concat(sw(e.serverSyncTree_,s.currentWriteId,!0));else{const n=dj(e,s.path,i);s.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){Ww("transaction failed: Data returned ",r,s.path);let t=yb(r);"object"===typeof r&&null!=r&&Ff(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=s.currentWriteId,l=nj(e),c=_w(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=ij(e),i.splice(i.indexOf(o),1),a=a.concat(aw(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),a=a.concat(sw(e.serverSyncTree_,o,!0))}else d=!0,c="nodata",a=a.concat(sw(e.serverSyncTree_,s.currentWriteId,!0))}$w(e.eventQueue_,n,a),a=[],d&&(t[o].status=2,function(e){setTimeout(e,Math.floor(0))}(t[o].unwatcher),t[o].onComplete&&("nodata"===c?r.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):r.push(()=>t[o].onComplete(new Error(c),!1,null))))}gj(e,e.transactionQueueTree_);for(let o=0;o<r.length;o++)tv(r[o]);uj(e,e.transactionQueueTree_)}(e,mj(e,n),r),r}function pj(e,t){let n,r=e.transactionQueueTree_;for(n=Dv(t);null!==n&&void 0===Tw(r);)r=Dw(r,n),n=Dv(t=Lv(t));return r}function mj(e,t){const n=[];return fj(e,t,n),n.sort((e,t)=>e.order-t.order),n}function fj(e,t,n){const r=Tw(t);if(r)for(let a=0;a<r.length;a++)n.push(r[a]);Iw(t,t=>{fj(e,t,n)})}function gj(e,t){const n=Tw(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Lw(t,n.length>0?n:void 0)}Iw(t,t=>{gj(e,t)})}function xj(e,t){const n=Mw(pj(e,t)),r=Dw(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{vj(e,t)}),vj(e,r),Rw(r,t=>{vj(e,t)}),n}function vj(e,t){const n=Tw(t);if(n){const r=[];let a=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(sf(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(sf(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),a=a.concat(sw(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Lw(t,void 0):n.length=s+1,$w(e.eventQueue_,Mw(t),a);for(let e=0;e<r.length;e++)tv(r[e])}}const bj=function(e,t){const n=yj(e),r=n.namespace;"firebase.com"===n.domain&&Ux(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ux("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qx("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const a="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new uv(n.host,n.secure,r,a,t,"",r!==n.subdomain),path:new Pv(n.pathString)}},yj=function(e){let t="",n="",r="",a="",s="",i=!0,o="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(o=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");-1===d&&(d=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(d,u)),d<u&&(a=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(Oq){}t+="/"+e}return t}(e.substring(d,u)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qx("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,u)));c=t.indexOf(":"),c>=0?(i="https"===o||"wss"===o,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:i,scheme:o,pathString:a,namespace:s}},wj="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class jj{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Rf(this.snapshot.exportVal())}}class Nj{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class kj{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return sf(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Sj{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Fv(this._path)?null:Ev(this._path)}get ref(){return new Cj(this._repo,this._path)}get _queryIdentifier(){const e=Lb(this._queryParams),t=$x(e);return"{}"===t?"default":t}get _queryObject(){return Lb(this._queryParams)}isEqual(e){if(!((e=Kf(e))instanceof Sj))return!1;const t=this._repo===e._repo,n=zv(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Cj extends Sj{constructor(e,t){super(e,t,new Db,!1)}get parent(){const e=Rv(this._path);return null===e?null:new Cj(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class _j{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Pv(e),n=Aj(this.ref,e);return new _j(this._node.getChild(t),n,db)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new _j(n,Aj(this.ref,t),db)))}hasChild(e){const t=new Pv(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Pj(e,t){return(e=Kf(e))._checkNotDeleted("ref"),void 0!==t?Aj(e._root,t):e._root}function Aj(e,t){var n,r,a,s;return null===Dv((e=Kf(e))._path)?(n="child",r="path",s=!1,(a=t)&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Hw(n,r,a,s)):Hw("child","path",t,!1),new Cj(e._repo,Mv(e._path,t))}class Dj{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new jj("value",this,new _j(e.snapshotNode,new Cj(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Nj(this,e,t):null}matches(e){return e instanceof Dj&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Tj{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Nj(this,e,t):null}createEvent(e,t){sf(null!=e.childName,"Child events should have a childName.");const n=Aj(new Cj(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new jj(e.type,this,new _j(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Tj&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Lj(e,t,n,r,a){let s;if("object"===typeof r&&(s=void 0,a=r),"function"===typeof r&&(s=r),a&&a.onlyOnce){const t=n,r=(n,r)=>{oj(e._repo,e,o),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const i=new kj(n,s||void 0),o="value"===t?new Dj(i):new Tj(t,i);return function(e,t,n){let r;r=".info"===Dv(t._path)?cw(e.infoSyncTree_,t,n):cw(e.serverSyncTree_,t,n),Yw(e.eventQueue_,t._path,r)}(e._repo,e,o),()=>oj(e._repo,e,o)}function Ej(e,t,n,r){return Lj(e,"value",t,n,r)}!function(e){sf(!Wy,"__referenceConstructor has already been defined"),Wy=e}(Cj),function(e){sf(!Hy,"__referenceConstructor has already been defined"),Hy=e}(Cj);const Ij={};let Rj=!1;function Mj(e,t,n,r,a){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Ux("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ox("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let i,o,l=bj(s,a),c=l.repoInfo;"undefined"!==typeof process&&(o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"",REACT_APP_FIREBASE_API_KEY:"AIzaSyDWV7_xKJ9vRvtBceQdTb5akTSx3jKk1Bw",REACT_APP_FIREBASE_APP_ID:"1:764709653798:web:bc596b7510ad4fb34c45e7",REACT_APP_FIREBASE_AUTH_DOMAIN:"e-trucking-8d905.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://e-trucking-8d905-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-06MBDLYS9Q",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"764709653798",REACT_APP_FIREBASE_PROJECT_ID:"e-trucking-8d905",REACT_APP_FIREBASE_STORAGE_BUCKET:"e-trucking-8d905.firebasestorage.app",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyBTln9AbQ0K-CTbVrcFNQc0LHlt3Y4J1Pc"}.FIREBASE_DATABASE_EMULATOR_HOST),o?(i=!0,s="http://".concat(o,"?ns=").concat(c.namespace),l=bj(s,a),c=l.repoInfo):i=!l.repoInfo.secure;const d=a&&i?new sv(sv.OWNER):new av(e.name,e.options,t);Vw("Invalid Firebase Database URL",l),Fv(l.path)||Ux("Database URL must point to the root of a Firebase Database (not including a child path).");const u=function(e,t,n,r){let a=Ij[t.name];a||(a={},Ij[t.name]=a);let s=a[e.toURLString()];s&&Ux("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new Zw(e,Rj,n,r),a[e.toURLString()]=s,s}(c,e,d,new rv(e,n));return new Fj(u,e)}class Fj{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ej(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cj(this._repo,Av())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Ij[t];n&&n[e.key]===e||Ux("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),lj(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ux("Cannot call "+e+" on a deleted database.")}}Gv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Gv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Sx("12.8.0"),sx(new Yf("database",(e,t)=>{let{instanceIdentifier:n}=t;return Mj(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),ux(jx,Nx,e),ux(jx,Nx,"esm2020")}();const Oj="@firebase/installations",zj="0.6.19",Bj=1e4,Uj="w:".concat(zj),qj="FIS_v2",Wj=36e5,Hj=new Lf("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Vj(e){return e instanceof Tf&&e.code.includes("request-failed")}function Gj(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Kj(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Yj(e,t){const n=(await t.json()).error;return Hj.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function $j(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Jj(e,t){let{refreshToken:n}=t;const r=$j(e);return r.append("Authorization",function(e){return"".concat(qj," ").concat(e)}(n)),r}async function Xj(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Qj(e){return new Promise(t=>{setTimeout(t,e)})}const Zj=/^[cdef][\w-]{21}$/;function eN(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Zj.test(t)?t:""}catch(e){return""}}function tN(e){return"".concat(e.appName,"!").concat(e.appId)}const nN=new Map;function rN(e,t){const n=tN(e);aN(n,t),function(e,t){const n=iN();n&&n.postMessage({key:e,fid:t});oN()}(n,t)}function aN(e,t){const n=nN.get(e);if(n)for(const r of n)r(t)}let sN=null;function iN(){return!sN&&"BroadcastChannel"in self&&(sN=new BroadcastChannel("[Firebase] FID Change"),sN.onmessage=e=>{aN(e.data.key,e.data.fid)}),sN}function oN(){0===nN.size&&sN&&(sN.close(),sN=null)}const lN="firebase-installations-store";let cN=null;function dN(){return cN||(cN=vg("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(lN)}})),cN}async function uN(e,t){const n=tN(e),r=(await dN()).transaction(lN,"readwrite"),a=r.objectStore(lN),s=await a.get(n);return await a.put(t,n),await r.done,s&&s.fid===t.fid||rN(e,t.fid),t}async function hN(e){const t=tN(e),n=(await dN()).transaction(lN,"readwrite");await n.objectStore(lN).delete(t),await n.done}async function pN(e,t){const n=tN(e),r=(await dN()).transaction(lN,"readwrite"),a=r.objectStore(lN),s=await a.get(n),i=t(s);return void 0===i?await a.delete(n):await a.put(i,n),await r.done,!i||s&&s.fid===i.fid||rN(e,i.fid),i}async function mN(e){let t;const n=await pN(e.appConfig,n=>{const r=function(e){const t=e||{fid:eN(),registrationStatus:0};return xN(t)}(n),a=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Hj.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:a}=t;const s=Gj(n),i=$j(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const l={fid:a,authVersion:qj,appId:n.appId,sdkVersion:Uj},c={method:"POST",headers:i,body:JSON.stringify(l)},d=await Xj(()=>fetch(s,c));if(d.ok){const e=await d.json();return{fid:e.fid||a,registrationStatus:2,refreshToken:e.refreshToken,authToken:Kj(e.authToken)}}throw await Yj("Create Installation",d)}(e,t);return uN(e.appConfig,n)}catch(Oq){throw Vj(Oq)&&409===Oq.customData.serverCode?await hN(e.appConfig):await uN(e.appConfig,{fid:t.fid,registrationStatus:0}),Oq}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:fN(e)}:{installationEntry:t}}(e,r);return t=a.registrationPromise,a.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function fN(e){let t=await gN(e.appConfig);for(;1===t.registrationStatus;)await Qj(100),t=await gN(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await mN(e);return n||t}return t}function gN(e){return pN(e,e=>{if(!e)throw Hj.create("installation-not-found");return xN(e)})}function xN(e){return 1===(t=e).registrationStatus&&t.registrationTime+Bj<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function vN(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const a=function(e,t){let{fid:n}=t;return"".concat(Gj(e),"/").concat(n,"/authTokens:generate")}(n,t),s=Jj(n,t),i=r.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:Uj,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await Xj(()=>fetch(a,l));if(c.ok){return Kj(await c.json())}throw await Yj("Generate Auth Token",c)}async function bN(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await pN(e.appConfig,r=>{if(!wN(r))throw Hj.create("not-registered");const a=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Wj}(e)}(a))return r;if(1===a.requestStatus)return t=async function(e,t){let n=await yN(e.appConfig);for(;1===n.authToken.requestStatus;)await Qj(100),n=await yN(e.appConfig);const r=n.authToken;return 0===r.requestStatus?bN(e,t):r}(e,n),r;{if(!navigator.onLine)throw Hj.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Ne(Ne({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await vN(e,t),r=Ne(Ne({},t),{},{authToken:n});return await uN(e.appConfig,r),n}catch(Oq){if(!Vj(Oq)||401!==Oq.customData.serverCode&&404!==Oq.customData.serverCode){const n=Ne(Ne({},t),{},{authToken:{requestStatus:0}});await uN(e.appConfig,n)}else await hN(e.appConfig);throw Oq}}(e,n),n}});return t?await t:r.authToken}function yN(e){return pN(e,e=>{if(!wN(e))throw Hj.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Bj<Date.now()?Ne(Ne({},e),{},{authToken:{requestStatus:0}}):e;var n})}function wN(e){return void 0!==e&&2===e.registrationStatus}async function jN(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await mN(e);t&&await t}(n);return(await bN(n,t)).token}function NN(e){return Hj.create("missing-app-config-values",{valueName:e})}const kN="installations",SN=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw NN("App Configuration");if(!e.name)throw NN("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw NN(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ix(t,"heartbeat"),_delete:()=>Promise.resolve()}},CN=e=>{const t=ix(e.getProvider("app").getImmediate(),kN).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await mN(t);return r?r.catch(console.error):bN(t).catch(console.error),n.fid}(t),getToken:e=>jN(t,e)}};sx(new Yf(kN,SN,"PUBLIC")),sx(new Yf("installations-internal",CN,"PRIVATE")),ux(Oj,zj),ux(Oj,zj,"esm2020");const _N="analytics",PN="https://www.googletagmanager.com/gtag/js",AN=new sg("@firebase/analytics"),DN=new Lf("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function TN(e){if(!e.startsWith(PN)){const t=DN.create("invalid-gtag-resource",{gtagURL:e});return AN.warn(t.message),""}return e}function LN(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function EN(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:TN}),r=document.createElement("script"),a="".concat(PN,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function IN(e,t,n,r){return async function(a){try{for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];if("event"===a){const[r,a]=i;await async function(e,t,n,r,a){try{let s=[];if(a&&a.send_to){let e=a.send_to;Array.isArray(e)||(e=[e]);const r=await LN(n);for(const n of e){const e=r.find(e=>e.measurementId===n),a=e&&t[e.appId];if(!a){s=[];break}s.push(a)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,a||{})}catch(Oq){AN.error(Oq)}}(e,t,n,r,a)}else if("config"===a){const[a,s]=i;await async function(e,t,n,r,a,s){const i=r[a];try{if(i)await t[i];else{const e=(await LN(n)).find(e=>e.measurementId===a);e&&await t[e.appId]}}catch(Oq){AN.error(Oq)}e("config",a,s)}(e,t,n,r,a,s)}else if("consent"===a){const[t,n]=i;e("consent",t,n)}else if("get"===a){const[t,n,r]=i;e("get",t,n,r)}else if("set"===a){const[t]=i;e("set",t)}else e(a,...i)}catch(Oq){AN.error(Oq)}}}const RN=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function MN(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function FN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RN,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:a,measurementId:s}=e.options;if(!r)throw DN.create("no-app-id");if(!a){if(s)return{measurementId:s,appId:r};throw DN.create("no-api-key")}const i=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new zN;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),ON({appId:r,apiKey:a,measurementId:s},i,o,t)}async function ON(e,t,n){let{throttleEndTimeMillis:r,backoffCount:a}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:RN;const{appId:i,measurementId:o}=e;try{await function(e,t){return new Promise((n,r)=>{const a=Math.max(t-Date.now(),0),s=setTimeout(n,a);e.addEventListener(()=>{clearTimeout(s),r(DN.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(Oq){if(o)return AN.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===Oq||void 0===Oq?void 0:Oq.message,"]")),{appId:i,measurementId:o};throw Oq}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:MN(n)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),s=await fetch(a,r);if(200!==s.status&&304!==s.status){let e="";try{var i;const t=await s.json();null!==(i=t.error)&&void 0!==i&&i.message&&(e=t.error.message)}catch(o){}throw DN.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return s.deleteThrottleMetadata(i),t}catch(Oq){var l;const r=Oq;if(!function(e){if(!(e instanceof Tf)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(i),o)return AN.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:i,measurementId:o};throw Oq}const c=503===Number(null===r||void 0===r||null===(l=r.customData)||void 0===l?void 0:l.httpStatus)?Gf(a,s.intervalMillis,30):Gf(a,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1};return s.setThrottleMetadata(i,d),AN.debug("Calling attemptFetch again in ".concat(c," millis")),ON(e,d,n,s)}}class zN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let BN,UN;function qN(e){UN=e}function WN(e){BN=e}async function HN(e,t,n,r,a,s,i){var o;const l=FN(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&AN.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>AN.error(e)),t.push(l);const c=async function(){if(!Af())return AN.warn(DN.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Df()}catch(Oq){return AN.warn(DN.create("indexeddb-unavailable",{errorInfo:null===Oq||void 0===Oq?void 0:Oq.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[d,u]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(PN)&&n.src.includes(e))return n;return null})(s)||EN(s,d.measurementId),UN&&(a("consent","default",UN),qN(void 0)),a("js",new Date);const h=null!==(o=null===i||void 0===i?void 0:i.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=u&&(h.firebase_id=u),a("config",d.measurementId,h),BN&&(a("set",BN),WN(void 0)),d.measurementId}class VN{constructor(e){this.app=e}_delete(){return delete GN[this.app.options.appId],Promise.resolve()}}let GN={},KN=[];const YN={};let $N,JN,XN="dataLayer",QN="gtag",ZN=!1;function ek(){const e=[];if(function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=DN.create("invalid-analytics-context",{errorInfo:t});AN.warn(n.message)}}function tk(e,t,n){ek();const r=e.options.appId;if(!r)throw DN.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw DN.create("no-api-key");AN.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=GN[r])throw DN.create("already-exists",{id:r});if(!ZN){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(XN);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,a){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[a]&&"function"===typeof window[a]&&(s=window[a]),window[a]=IN(s,e,t,n),{gtagCore:s,wrappedGtag:window[a]}}(GN,KN,YN,XN,QN);JN=e,$N=t,ZN=!0}GN[r]=HN(e,KN,YN,t,$N,XN,n);return new VN(e)}function nk(e,t,n){e=Kf(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(JN,GN[e.app.options.appId],t,n).catch(e=>AN.error(e))}function rk(e,t,n,r){e=Kf(e),async function(e,t,n,r,a){if(a&&a.global)e("event",n,r);else{const a=await t;e("event",n,Ne(Ne({},r),{},{send_to:a}))}}(JN,GN[e.app.options.appId],t,n,r).catch(e=>AN.error(e))}const ak="@firebase/analytics",sk="0.10.19";sx(new Yf(_N,(e,t)=>{let{options:n}=t;return tk(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),sx(new Yf("analytics-internal",function(e){try{const t=e.getProvider(_N).getImmediate();return{logEvent:(e,n,r)=>rk(t,e,n,r),setUserProperties:(e,n)=>nk(t,e,n)}}catch(Oq){throw DN.create("interop-component-reg-failed",{reason:Oq})}},"PRIVATE")),ux(ak,sk),ux(ak,sk,"esm2020");const ik={apiKey:"AIzaSyDWV7_xKJ9vRvtBceQdTb5akTSx3jKk1Bw",authDomain:"e-trucking-8d905.firebaseapp.com",databaseURL:"https://e-trucking-8d905-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"e-trucking-8d905",storageBucket:"e-trucking-8d905.firebasestorage.app",messagingSenderId:"764709653798",appId:"1:764709653798:web:bc596b7510ad4fb34c45e7",measurementId:"G-06MBDLYS9Q"};let ok=null,lk=null,ck=null;if(ik.projectId&&ik.apiKey)try{if(ok=cx(ik),ik.databaseURL?(lk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dx(),t=arguments.length>1?arguments[1]:void 0;const n=ix(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=bf("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Kf(e))._checkNotDeleted("useEmulator");const a="".concat(t,":").concat(n),s=e._repoInternal;if(e._instanceStarted){if(a===e._repoInternal.repoInfo_.host&&Uf(r,s.repoInfo_.emulatorOptions))return;Ux("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Ux('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new sv(sv.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Ne({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[hf(JSON.stringify({alg:"none",type:"JWT"})),hf(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);i=new sv(t)}jf(t)&&(async function(e){(await fetch(e,{credentials:"include"})).ok}(t),Sf("Database",!0)),function(e,t,n,r){const a=t.lastIndexOf(":"),s=jf(t.substring(0,a));e.repoInfo_=new uv(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(s,a,r,i)}(n,...e)}return n}(ok),console.log("\u2705 Realtime Database connected for GPS tracking")):console.log("\u26a0\ufe0f Firebase Realtime Database not configured - GPS tracking may not work"),"undefined"!==typeof window)try{ck=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dx();e=Kf(e);const t=ix(e,_N);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ix(e,_N);if(n.isInitialized()){const e=n.getImmediate();if(Uf(t,n.getOptions()))return e;throw DN.create("already-initialized")}return n.initialize({options:t})}(e)}(ok)}catch(Bq){console.log("\u26a0\ufe0f Firebase Analytics not available")}console.log("\u2705 Firebase initialized successfully")}catch(Bx){console.error("\u274c Firebase initialization error:",Bx)}else console.log("\u26a0\ufe0f Firebase configuration not found - running in API-only mode"),console.log("\ud83d\udcdd This is normal if you're using the backend API without client-side Firebase features");const dk=e=>{let{deliveryId:n,truckId:r,onClose:a}=e;console.log("\ud83d\ude80 LiveMapTracker component rendering",{deliveryId:n,truckId:r});const[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(null),[x,v]=(0,t.useState)(0),b=(0,t.useRef)(!1),y=(0,t.useRef)(null),w=(0,t.useRef)(null),j=(0,t.useRef)(null),N=(0,t.useRef)(null),k=(0,t.useRef)(null),S=(0,t.useRef)(null),C=(0,t.useRef)(null),_=(0,t.useRef)(null),P=(0,t.useRef)(null),A=(0,t.useRef)(null),D=(0,t.useRef)(null),T=(0,t.useRef)(null),L=(0,t.useRef)(null),E=(0,t.useRef)([]);(0,t.useEffect)(()=>{console.log("\ud83d\uddfa\ufe0f LiveMapTracker mounted");const e=e=>{"Escape"===e.key&&(console.log("\u2328\ufe0f ESC key pressed - closing modal"),a())};if(document.addEventListener("keydown",e),window.google)F();else{window.initGoogleMap=()=>{console.log("\u2705 Google Maps loaded via callback"),F(),delete window.initGoogleMap};const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(void 0,"&callback=initGoogleMap&loading=async"),e.async=!0,e.defer=!0,e.onerror=()=>{d("Failed to load Google Maps. Please check your API key and internet connection."),l(!1),delete window.initGoogleMap},document.head.appendChild(e)}return()=>{console.log("\ud83d\uddfa\ufe0f LiveMapTracker unmounting"),document.removeEventListener("keydown",e),j.current&&cancelAnimationFrame(j.current),window.google&&window.google.maps&&(_.current&&_.current.setMap(null),T.current&&T.current.setMap(null),P.current&&P.current.setMap(null),A.current&&A.current.setMap(null),L.current&&L.current.setMap(null))}},[a]),(0,t.useEffect)(()=>{const e="truck_12345";console.log("\ud83d\ude9a Original truck ID from delivery:",r),console.log("\ud83d\ude9a Using MAIN GPS truck ID:",e),console.log("\ud83d\udccd All deliveries will use GPS data from truck:",e);const t=I(e);return()=>{t&&t();!function(e,t,n){let r=null;const a=n?new kj(n):null;"value"===t?r=new Dj(a):t&&(r=new Tj(t,a)),oj(e._repo,e,r)}(Pj(lk,"Trucks/".concat(e,"/data")))}},[r]);const I=e=>{const t=Pj(lk,"Trucks/".concat(e,"/data"));console.log("\ud83d\udce1 Subscribing to ESP32 GPS data at: Trucks/".concat(e,"/data"));const n=Ej(t,t=>{const n=t.val();if(console.log("\ud83d\udce1 Firebase snapshot received for truck:",e),console.log("\ud83d\udce1 Raw data:",n),!n)return console.warn("\u26a0\ufe0f No GPS data found at path:","Trucks/".concat(e,"/data")),d("No GPS data from main ESP32 device (truck_12345).\n\nAll deliveries use the shared GPS device.\n\nPlease ensure:\n1. Main ESP32 device (truck_12345) is powered on\n2. Device is connected to WiFi\n3. GPS has satellite fix (may take 2-5 minutes outdoors)\n4. Firebase path: Trucks/truck_12345/data contains GPS data"),void l(!1);if(console.log("\ud83d\udccd ESP32 GPS data received:",n),console.log("\ud83d\udccd RAW lat from Firebase:",n.lat,"type:",typeof n.lat),console.log("\ud83d\udccd RAW lon from Firebase:",n.lon,"type:",typeof n.lon),!1===n.gpsFix)return console.warn("\u26a0\ufe0f GPS has no satellite fix"),d("GPS hardware has no satellite fix. Waiting for signal...\n\nThe device is connected but searching for GPS satellites. This may take a few minutes outdoors."),void l(!1);const r=parseFloat(n.lat),a=parseFloat(n.lon);if(console.log("\ud83d\udccd PARSED lat:",r,"lng:",a),console.log("\ud83d\udccd Expected Malolos: ~14.838, ~120.870"),console.log("\ud83d\udccd Actual vs Expected lat diff:",Math.abs(r-14.838).toFixed(6),"degrees"),isNaN(r)||isNaN(a))return console.error("\u274c Invalid GPS coordinates:",{lat:n.lat,lng:n.lon}),d("Invalid GPS coordinates received from device."),void l(!1);if(r<-90||r>90||a<-180||a>180)return console.error("\u274c GPS coordinates out of range:",{lat:r,lng:a}),d("GPS coordinates out of valid range."),void l(!1);if(!R(r,a))return console.warn("\u26a0\ufe0f GPS update rejected - using last valid location"),v(e=>e+1),w.current&&clearTimeout(w.current),void(w.current=setTimeout(()=>{v(0)},3e3));v(0);const s={lat:r,lng:a,speed:parseFloat(n.speed)||0,accuracy:10,timestamp:(new Date).toISOString()};console.log("\u2705 Converted GPS data:",s),console.log("\u2705 GPS Fix:",n.gpsFix?"YES":"NO"),console.log("\u2705 Speed:",s.speed,"km/h"),y.current={lat:r,lng:a},i(s),h(new Date),l(!1),d(null),D.current&&window.google&&O(s)},e=>{console.error("\u274c Firebase error fetching ESP32 GPS data:",e),console.error("\u274c Error code:",e.code),console.error("\u274c Error message:",e.message),d("Failed to connect to GPS hardware:\n".concat(e.message,"\n\nPlease check Firebase Realtime Database configuration.")),l(!1)});return n},R=(e,t)=>{if(!(e>=4.5&&e<=21.5&&t>=116&&t<=127))return console.warn("\u26a0\ufe0f GPS coordinates outside Philippines:",{lat:e,lng:t}),!1;if(console.log("\ud83d\udcf1 Mobile app mode: Showing truck at actual GPS location regardless of delivery route"),y.current){const n=((e,t,n,r)=>{const a=(n-e)*Math.PI/180,s=(r-t)*Math.PI/180,i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371})(y.current.lat,y.current.lng,e,t),r=50;if(n>r)return console.warn("\u274c GPS REJECTED - Impossibly large jump!"),console.warn("   Jump distance: ".concat(n.toFixed(2)," km")),console.warn("   Max allowed: ".concat(r," km")),console.warn("   Last valid: ".concat(y.current.lat.toFixed(6),", ").concat(y.current.lng.toFixed(6))),console.warn("   Rejected: ".concat(e.toFixed(6),", ").concat(t.toFixed(6))),console.warn("\u26a0\ufe0f Jump too large - likely GPS error!"),!1;console.log("\u2705 GPS valid - Movement: ".concat(n.toFixed(3)," km from last position (mobile mode)"))}else console.log("\u2705 First GPS reading - accepting as baseline");return!0},M=async e=>{if(!window.google||!e)return console.warn("\u26a0\ufe0f Geocoding skipped - no Google Maps or no address"),null;console.log("\ud83d\udd0d Geocoding address:",e);const t=new window.google.maps.Geocoder;try{const n=await new Promise((n,r)=>{t.geocode({address:e+", Philippines",region:"PH"},(t,a)=>{"OK"===a&&t[0]?(console.log("\u2705 Geocoding success:",{input:e,formatted:t[0].formatted_address,location:{lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()}}),n(t[0].geometry.location)):r(new Error("Geocoding failed: "+a))})});return{lat:n.lat(),lng:n.lng()}}catch(n){return console.error("\u274c Geocoding error for address:",e,n),null}},F=async()=>{if(!C.current||!window.google)return;const e={lat:14.838625,lng:120.87088};D.current=new window.google.maps.Map(C.current,{center:e,zoom:12,mapTypeId:"roadmap",mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0}),_.current=new window.google.maps.Marker({map:D.current,position:e,title:"Truck Location (Live GPS)",icon:{url:"https://maps.google.com/mapfiles/kml/shapes/truck.png",scaledSize:new window.google.maps.Size(40,40)},zIndex:1e3}),T.current=new window.google.maps.Polyline({map:D.current,strokeColor:"#2196F3",strokeOpacity:.8,strokeWeight:4});const t=window.currentDeliveryData;if(t){if(console.log("\ud83d\udccd Initializing delivery route"),console.log("\ud83d\udccd Pickup:",t.pickupLocation),console.log("\ud83d\udccd Dropoff:",t.deliveryAddress),t.pickupLocation){const e=await M(t.pickupLocation);if(e){m(e),P.current=new window.google.maps.Marker({map:D.current,position:e,title:"Pickup Location",label:{text:"A",color:"white",fontWeight:"bold"},icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#10B981",fillOpacity:1,strokeColor:"white",strokeWeight:2},zIndex:999});const n=new window.google.maps.InfoWindow({content:'<div style="padding: 10px;"><strong>\ud83d\udccd Pickup Location</strong><br/>'.concat(t.pickupLocation,"</div>")});P.current.addListener("click",()=>{n.open(D.current,P.current)}),console.log("\u2705 Pickup marker created:",e)}}if(t.deliveryAddress){const e=await M(t.deliveryAddress);if(e){g(e),A.current=new window.google.maps.Marker({map:D.current,position:e,title:"Dropoff Location",label:{text:"B",color:"white",fontWeight:"bold"},icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#EF4444",fillOpacity:1,strokeColor:"white",strokeWeight:2},zIndex:999});const n=new window.google.maps.InfoWindow({content:'<div style="padding: 10px;"><strong>\ud83d\udccd Dropoff Location</strong><br/>'.concat(t.deliveryAddress,"</div>")});A.current.addListener("click",()=>{n.open(D.current,A.current)}),console.log("\u2705 Dropoff marker created:",e)}}L.current=new window.google.maps.Polyline({map:D.current,strokeColor:"#6B7280",strokeOpacity:.6,strokeWeight:2,path:[],icons:[{icon:{path:"M 0,-1 0,1",strokeOpacity:1,scale:3},offset:"0",repeat:"20px"}]}),console.log("\u2705 Route markers created")}console.log("\u2705 Map initialized with delivery route")},O=e=>{if(!D.current||!_.current||!window.google)return;const t={lat:e.lat,lng:e.lng};if(console.log("\ud83d\udccd New GPS position received:",t),(e=>{if(!_.current||!D.current)return;j.current&&cancelAnimationFrame(j.current);const t=_.current.getPosition();if(!t)return _.current.setPosition(e),D.current.setCenter(e),void(k.current=e);const n={lat:t.lat(),lng:t.lng()};N.current=e,S.current=Date.now();const r=()=>{const t=Date.now()-S.current,a=Math.min(t/2e3,1),s=a<.5?2*a*a:1-Math.pow(-2*a+2,2)/2,i={lat:n.lat+(e.lat-n.lat)*s,lng:n.lng+(e.lng-n.lng)*s};_.current.setPosition(i),k.current=i,D.current.setCenter(i),a<1?j.current=requestAnimationFrame(r):(console.log("\u2705 Animation complete - marker at:",e),console.log("\u2705 Camera locked to truck position"),j.current=null)};console.log("\ud83c\udfac Starting Waze-like smooth tracking from",n,"to",e),r()})(t),(0===E.current.length||Math.abs(E.current[E.current.length-1].lat-t.lat)>1e-4||Math.abs(E.current[E.current.length-1].lng-t.lng)>1e-4)&&(E.current.push(t),T.current&&T.current.setPath(E.current)),L.current){const e=[];p&&e.push(p),e.push(t),f&&e.push(f),e.length>=2&&L.current.setPath(e)}b.current?console.log("\ud83d\udccd GPS update - camera locked to truck (Waze mode)"):(b.current=!0,console.log("\ud83d\udccd First GPS fix - initializing Waze-like tracking"),D.current.setZoom(17));const n='\n      <div style="padding: 10px;">\n        <h3 style="margin: 0 0 10px 0;">\ud83d\ude9a Truck Location</h3>\n        <p style="margin: 5px 0;"><strong>Speed:</strong> '.concat(Math.round(3.6*e.speed),' km/h</p>\n        <p style="margin: 5px 0;"><strong>Accuracy:</strong> \xb1').concat(Math.round(e.accuracy),'m</p>\n        <p style="margin: 5px 0;"><strong>Updated:</strong> ').concat(new Date(e.timestamp).toLocaleTimeString(),"</p>\n      </div>\n    ");_.current.infoWindow?_.current.infoWindow.setContent(n):(_.current.infoWindow=new window.google.maps.InfoWindow({content:n}),_.current.addListener("click",()=>{_.current.infoWindow.open(D.current,_.current)})),1===E.current.length&&_.current.infoWindow.open(D.current,_.current)};return(0,Jn.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[(0,Jn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/80 via-slate-900/70 to-blue-900/60 backdrop-blur-sm",onClick:a}),(0,Jn.jsxs)("div",{className:"relative w-full max-w-6xl h-[90vh] bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-300",onClick:e=>e.stopPropagation(),children:[(0,Jn.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 text-white",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:(0,Jn.jsx)("span",{className:"text-2xl",children:"\ud83d\ude9a"})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h2",{className:"text-xl font-bold m-0",children:"Live GPS Tracking"}),(0,Jn.jsxs)("p",{className:"text-blue-100 text-sm m-0 mt-0.5",children:["Delivery #",null===n||void 0===n?void 0:n.substring(0,12),"..."]})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"px-3 py-1.5 bg-white/10 rounded-lg text-xs text-blue-100 backdrop-blur-sm",children:"\ud83d\udce1 GPS Device: truck_12345"}),(0,Jn.jsx)("button",{className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-xl flex items-center justify-center transition-all duration-200",onClick:a,children:(0,Jn.jsx)("span",{className:"text-xl",children:"\u2715"})})]})]}),o&&(0,Jn.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50/30",children:[(0,Jn.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mb-4"}),(0,Jn.jsx)("p",{className:"text-gray-600 font-medium",children:"Connecting to GPS..."}),(0,Jn.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Establishing real-time connection"})]}),c&&(0,Jn.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-red-50/30 p-8",children:[(0,Jn.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-100 to-orange-100 rounded-2xl flex items-center justify-center mb-6 shadow-lg shadow-amber-100",children:(0,Jn.jsx)("span",{className:"text-4xl",children:"\u26a0\ufe0f"})}),(0,Jn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"GPS Connection Issue"}),(0,Jn.jsx)("p",{className:"text-gray-600 text-center max-w-md whitespace-pre-wrap leading-relaxed text-sm bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:c}),(0,Jn.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Jn.jsx)("button",{className:"px-6 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-xl transition-all",onClick:a,children:"Close"}),(0,Jn.jsx)("button",{className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium rounded-xl shadow-lg shadow-blue-500/25 transition-all",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]}),!o&&!c&&(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsxs)("div",{className:"px-6 py-3 bg-gradient-to-r from-gray-50 to-blue-50/50 border-b border-gray-100 flex flex-wrap items-center justify-between gap-4",children:[(0,Jn.jsx)("div",{className:"flex flex-wrap items-center gap-6",children:s&&(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("span",{className:"text-gray-400 text-sm",children:"\ud83d\udccd"}),(0,Jn.jsxs)("span",{className:"text-gray-700 font-mono text-sm",children:[s.lat.toFixed(6),", ",s.lng.toFixed(6)]})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("span",{className:"text-gray-400 text-sm",children:"\ud83d\ude97"}),(0,Jn.jsxs)("span",{className:"text-gray-700 font-semibold text-sm",children:[Math.round(3.6*s.speed)," km/h"]})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("span",{className:"text-gray-400 text-sm",children:"\u23f0"}),(0,Jn.jsx)("span",{className:"text-gray-700 text-sm",children:u?u.toLocaleTimeString():"Never"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("span",{className:"text-gray-400 text-sm",children:"\ud83c\udfaf"}),(0,Jn.jsxs)("span",{className:"text-gray-700 text-sm",children:["\xb1",Math.round(s.accuracy),"m"]})]})]})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-300 text-gray-700 text-sm font-medium rounded-lg transition-all flex items-center gap-2",onClick:()=>{if(!D.current)return;const e=new window.google.maps.LatLngBounds;if(p&&e.extend(p),f&&e.extend(f),s&&e.extend({lat:s.lat,lng:s.lng}),!e.isEmpty()){D.current.fitBounds(e);const t=window.google.maps.event.addListener(D.current,"idle",()=>{D.current.getZoom()>14&&D.current.setZoom(14),window.google.maps.event.removeListener(t)});console.log("\ud83d\uddfa\ufe0f Viewing full route overview")}},title:"View complete delivery route",children:"\ud83d\uddfa\ufe0f Full Route"}),(0,Jn.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-300 text-gray-700 text-sm font-medium rounded-lg transition-all flex items-center gap-2",onClick:()=>{if(s&&D.current){if(console.log("\ud83c\udfaf CENTER MAP button clicked"),console.log("   State location (correct):",s.lat,s.lng),_.current){const e=_.current.getPosition();if(console.log("   Marker position:",null===e||void 0===e?void 0:e.lat(),null===e||void 0===e?void 0:e.lng()),e){const t=s.lat,n=s.lng,r=e.lat(),a=e.lng();(Math.abs(t-r)>.01||Math.abs(n-a)>.01)&&(console.warn("\u26a0\ufe0f MARKER POSITION MISMATCH!"),console.warn("   State says:",t,n),console.warn("   Marker is at:",r,a),console.warn("   CORRECTING marker position now..."),_.current.setPosition({lat:t,lng:n}))}}D.current.panTo({lat:s.lat,lng:s.lng}),D.current.setZoom(17)}},title:"Center map on truck",children:"\ud83c\udfaf Center"}),(0,Jn.jsx)("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-all flex items-center gap-2",onClick:()=>{if(s){const e="https://www.google.com/maps?q=".concat(s.lat,",").concat(s.lng);window.open(e,"_blank")}},title:"Open in Google Maps app",children:"\ud83d\udcf1 Google Maps"})]})]}),(0,Jn.jsxs)("div",{className:"flex-1 relative bg-gray-100",children:[(0,Jn.jsx)("div",{ref:C,className:"absolute inset-0"}),(0,Jn.jsxs)("div",{className:"absolute top-4 left-4 px-3 py-1.5 bg-red-600 text-white text-xs font-bold rounded-full flex items-center gap-2 shadow-lg shadow-red-500/30 z-10",children:[(0,Jn.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]}),x>0&&(0,Jn.jsxs)("div",{className:"absolute top-4 right-4 px-4 py-2 bg-amber-500/90 backdrop-blur-sm text-white text-sm rounded-xl flex items-center gap-2 shadow-lg z-10",children:[(0,Jn.jsx)("span",{className:"text-lg",children:"\u26a0\ufe0f"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"font-semibold",children:"GPS Filtering Active"}),(0,Jn.jsxs)("div",{className:"text-amber-100 text-xs",children:["Rejected ",x," bad reading",x>1?"s":""]})]})]}),(0,Jn.jsxs)("div",{className:"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm rounded-xl p-4 shadow-xl border border-gray-100 z-10",children:[(0,Jn.jsx)("h4",{className:"font-bold text-gray-800 text-sm mb-3 flex items-center gap-2",children:"\ud83d\uddfa\ufe0f Delivery Route"}),(0,Jn.jsxs)("div",{className:"space-y-2",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Jn.jsx)("div",{className:"w-6 h-6 bg-emerald-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"A"}),(0,Jn.jsx)("span",{className:"text-gray-600",children:"Pickup Location"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Jn.jsx)("div",{className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"B"}),(0,Jn.jsx)("span",{className:"text-gray-600",children:"Dropoff Location"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Jn.jsx)("div",{className:"w-6 h-6 bg-blue-100 text-lg flex items-center justify-center rounded",children:"\ud83d\ude9a"}),(0,Jn.jsx)("span",{className:"text-gray-600",children:"Truck (Live)"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Jn.jsx)("div",{className:"w-6 h-1 bg-gray-400 rounded",style:{backgroundImage:"linear-gradient(90deg, #9ca3af 50%, transparent 50%)",backgroundSize:"8px 100%"}}),(0,Jn.jsx)("span",{className:"text-gray-600",children:"Planned Route"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Jn.jsx)("div",{className:"w-6 h-1 bg-blue-500 rounded"}),(0,Jn.jsx)("span",{className:"text-gray-600",children:"Truck Trail"})]})]})]})]})]})]})]})},uk=()=>{const{logout:e}=(0,t.useContext)(ea)||{logout:()=>{}},[n,r]=(ce(),(0,t.useState)([])),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)({search:"",status:"",dateFrom:"",dateTo:""});(0,t.useEffect)(()=>{const e=async()=>{try{var e;console.log("\ud83d\udd0d Fetching active deliveries...");const a=localStorage.getItem("token");if(console.log("\ud83d\udd12 Token found:",!!a),console.log("\ud83d\udd12 Token length:",(null===a||void 0===a?void 0:a.length)||0),!a)return console.log("\u274c No authentication token found"),r([]),s([]),void o(!1);Gn.defaults.headers.common.Authorization="Bearer ".concat(a),console.log("\ud83d\udd12 Set authorization header");try{console.log("\ud83d\udd0d Trying tracking API...");const e=await Gn.get("/api/tracking/active-deliveries",{timeout:1e4});if(e.data.success&&e.data.data.length>0){console.log("\u2705 Got deliveries from tracking API:",e.data.data.length);const t=e.data.data;return r(t),s(t),void o(!1)}console.log("\u26a0\ufe0f Tracking API returned no data:",e.data)}catch(u){var t,n;console.log("\u26a0\ufe0f Tracking API failed:",null===(t=u.response)||void 0===t?void 0:t.status,(null===(n=u.response)||void 0===n?void 0:n.data)||u.message),"ECONNABORTED"===u.code&&console.log("\u23f0 Tracking API timed out - server may not be running")}console.log("\ud83d\udd0d Trying client deliveries API...");const i=await Gn.get("/api/clients/deliveries",{timeout:1e4});console.log("\ud83d\udccb Got deliveries from client API:",(null===(e=i.data)||void 0===e?void 0:e.length)||0),console.log("\ud83d\udccb Client API response:",i.data);const l=i.data.filter(e=>{const t=(e.DeliveryStatus||e.deliveryStatus||"").toLowerCase().trim(),n=["in-progress","in progress","in_progress","inprogress","started","picked-up","picked up","picked_up","pickedup","ongoing","active"];return console.log("\ud83d\udcca Checking delivery ".concat(e.DeliveryID,":")),console.log('   - DeliveryStatus: "'.concat(e.DeliveryStatus,'"')),console.log('   - deliveryStatus: "'.concat(e.deliveryStatus,'"')),console.log('   - Normalized status: "'.concat(t,'"')),console.log("   - Is active: ".concat(n.includes(t))),n.includes(t)});console.log("\ud83c\udfaf Active deliveries found:",l.length);const c=l.map(e=>({deliveryId:e.DeliveryID||e.id,deliveryStatus:e.DeliveryStatus||e.deliveryStatus,truckId:e.TruckID||e.truckId,truckPlate:e.TruckPlate||e.truckPlate,driverName:e.DriverName||e.driverName,clientName:e.ClientName||e.clientName,pickupLocation:e.PickupLocation||e.pickupLocation,deliveryAddress:e.DropoffLocation||e.deliveryAddress,deliveryDate:e.DeliveryDate||e.deliveryDate,deliveryTime:e.DeliveryTime||e.deliveryTime,currentLocation:null,isActive:!1,currentSpeed:0}));r(c),s(c),o(!1)}catch(Bx){var a,i,l,c,d;console.error("\u274c Error fetching deliveries:",Bx),console.error("\u274c Error details:",{status:null===(a=Bx.response)||void 0===a?void 0:a.status,statusText:null===(i=Bx.response)||void 0===i?void 0:i.statusText,data:null===(l=Bx.response)||void 0===l?void 0:l.data,message:Bx.message}),r([]),s([]),o(!1),"ECONNABORTED"===Bx.code?console.log("\u23f0 Request timed out - server may be starting up"):403===(null===(c=Bx.response)||void 0===c?void 0:c.status)?console.log("\ud83d\udd12 Authentication issue - please try logging in again"):500===(null===(d=Bx.response)||void 0===d?void 0:d.status)&&console.log("\ud83d\udd27 Server error - please try again in a moment")}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[]),(0,t.useEffect)(()=>{let e=n;g.search&&(e=e.filter(e=>{const t=g.search.toLowerCase();return e.deliveryId&&e.deliveryId.toString().includes(g.search)||e.driverName&&e.driverName.toLowerCase().includes(t)||e.pickupLocation&&e.pickupLocation.toLowerCase().includes(t)||e.deliveryAddress&&e.deliveryAddress.toLowerCase().includes(t)||e.truckPlate&&e.truckPlate.toLowerCase().includes(t)||e.clientName&&e.clientName.toLowerCase().includes(t)})),g.status&&(e=e.filter(e=>e.deliveryStatus&&e.deliveryStatus.toLowerCase()===g.status.toLowerCase())),g.dateFrom&&(e=e.filter(e=>{const t=e.deliveryDate;return!t||new Date(t)>=new Date(g.dateFrom)})),g.dateTo&&(e=e.filter(e=>{const t=e.deliveryDate;return!t||new Date(t)<=new Date(g.dateTo)})),s(e)},[g,n]);const v=e=>{const{name:t,value:n}=e.target;x(e=>Ne(Ne({},e),{},{[t]:n}))},b=e=>{try{if(!e)return"Not specified";let t=null;if(e&&"object"===typeof e&&e.seconds)t=new Date(1e3*e.seconds);else if("string"===typeof e){const n=e.trim();if(!n||"invalid date"===n.toLowerCase()||"null"===n.toLowerCase()||"undefined"===n.toLowerCase())return"Not specified";t=new Date(n)}else if("number"===typeof e){if(0===e||isNaN(e))return"Not specified";t=e<1e10?new Date(1e3*e):new Date(e)}return t&&!isNaN(t.getTime())?t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not specified"}catch(Bx){return console.error("Error formatting date:",Bx),"Not specified"}};return i?(0,Jn.jsx)(Os,{message:"Loading active deliveries..."}):(0,Jn.jsxs)("div",{className:"h-full bg-gray-50 flex flex-col p-4 md:p-6 font-sans text-gray-800 overflow-hidden",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,Jn.jsx)("div",{className:"p-3 bg-blue-600 rounded-xl text-white shadow-lg shadow-blue-600/20",children:(0,Jn.jsx)(ks,{className:"text-xl"})}),(0,Jn.jsx)("h1",{className:"text-2xl font-bold text-gray-800 m-0",children:"Delivery Tracker"})]}),(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 mb-6 overflow-hidden",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-4",children:[(0,Jn.jsx)("h2",{className:"text-xl font-bold text-gray-800 m-0",children:"In-Progress Deliveries"}),(0,Jn.jsxs)("div",{className:"text-sm text-gray-500 font-medium bg-gray-100 px-3 py-1 rounded-full",children:["Showing ",a.length," of ",n.length," ","deliveries"]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-200/60 mb-6 relative",children:[(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,Jn.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,Jn.jsx)(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,Jn.jsx)("input",{type:"text",name:"search",placeholder:"Search by ID, driver, truck, location...",value:g.search,onChange:v,className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,Jn.jsx)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(m?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>f(!m),children:[(0,Jn.jsx)($a,{size:14}),"Filters",(g.status||g.dateFrom||g.dateTo)&&(0,Jn.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:[g.status,g.dateFrom,g.dateTo].filter(Boolean).length})]})})]}),(0,Jn.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium",children:["Showing ",a.length," of ",n.length," deliveries"]}),m&&(0,Jn.jsxs)("div",{className:"absolute top-full mt-2 right-4 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-[400px] max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Jn.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,Jn.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>f(!1),children:(0,Jn.jsx)(js,{size:16})})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,Jn.jsxs)("select",{name:"status",value:g.status,onChange:v,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"",children:"All Status"}),(0,Jn.jsx)("option",{value:"pending",children:"Pending"}),(0,Jn.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,Jn.jsx)("option",{value:"started",children:"Started"}),(0,Jn.jsx)("option",{value:"picked-up",children:"Picked Up"})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Date Range"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Jn.jsx)("input",{type:"date",name:"dateFrom",value:g.dateFrom,onChange:v,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"}),(0,Jn.jsx)("input",{type:"date",name:"dateTo",value:g.dateTo,onChange:v,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{x({search:"",status:"",dateFrom:"",dateTo:""}),f(!1)},children:"Reset"}),(0,Jn.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>f(!1),children:"Apply Filters"})]})]})]}),(0,Jn.jsx)("div",{className:"overflow-x-auto overflow-y-auto max-h-[calc(100vh-400px)] rounded-xl border border-gray-200",children:a.length>0?(0,Jn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Jn.jsx)("thead",{className:"bg-gray-50",children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Delivery ID"}),(0,Jn.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)(Pa,{})," ",(0,Jn.jsx)("span",{children:"Date"})]})}),(0,Jn.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)(ks,{})," ",(0,Jn.jsx)("span",{children:"Truck"})]})}),(0,Jn.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)(rs,{})," ",(0,Jn.jsx)("span",{children:"Route"})]})}),(0,Jn.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Jn.jsx)("th",{scope:"col",className:"px-6 py-4 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Jn.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:a.map(e=>(0,Jn.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Jn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Jn.jsxs)("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-lg font-mono text-xs font-bold border border-blue-100",children:["#",e.deliveryId.substring(0,12)]})}),(0,Jn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-medium",children:b(e.deliveryDate)}),(0,Jn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Jn.jsxs)("div",{className:"flex flex-col",children:[(0,Jn.jsx)("span",{className:"text-sm font-bold text-gray-800",children:e.truckPlate||"N/A"}),e.driverName&&(0,Jn.jsxs)("span",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[(0,Jn.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),e.driverName]})]})}),(0,Jn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.pickupLocation||e.deliveryAddress?(0,Jn.jsxs)("div",{className:"flex items-center gap-2 max-w-[300px]",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[(0,Jn.jsx)(rs,{className:"text-emerald-500 flex-shrink-0 text-xs"}),(0,Jn.jsx)("span",{className:"truncate text-gray-600",title:e.pickupLocation,children:e.pickupLocation?e.pickupLocation.split(",")[0]:"N/A"})]}),(0,Jn.jsx)("span",{className:"text-gray-300 font-bold",children:"\u2192"}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[(0,Jn.jsx)(rs,{className:"text-red-500 flex-shrink-0 text-xs"}),(0,Jn.jsx)("span",{className:"truncate text-gray-600",title:e.deliveryAddress,children:e.deliveryAddress?e.deliveryAddress.split(",")[0]:"N/A"})]})]}):(0,Jn.jsx)("span",{className:"text-gray-400 italic text-xs",children:"No route info"})}),(0,Jn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Jn.jsx)(Bm,{status:e.deliveryStatus})}),(0,Jn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,Jn.jsx)("button",{className:"w-9 h-9 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white border border-blue-100 transition-all flex items-center justify-center mx-auto shadow-sm hover:shadow-md hover:shadow-blue-500/20",onClick:()=>{const t=e.truckPlate||e.TruckPlate;t?(c(e.deliveryId),u(t),window.currentDeliveryData=e,p(!0)):alert("No truck assigned to this delivery")},title:"Track Live GPS",children:(0,Jn.jsx)(Ga,{})})})]},e.deliveryId))})]}):(0,Jn.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,Jn.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-4 text-4xl text-gray-300",children:(0,Jn.jsx)(ks,{})}),(0,Jn.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"No active deliveries found"}),(0,Jn.jsx)("p",{className:"text-gray-500 text-sm max-w-sm mx-auto",children:"No active deliveries match your current filters. Try adjusting your search criteria."})]})})]}),h&&l&&(0,Jn.jsx)(dk,{deliveryId:l,truckId:d,onClose:()=>{p(!1),c(null),u(null)}})]})};function hk(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=hk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const pk=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=hk(e))&&(r&&(r+=" "),r+=t);return r};var mk=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(Oq){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),fk=Math.abs,gk=String.fromCharCode,xk=Object.assign;function vk(e){return e.trim()}function bk(e,t,n){return e.replace(t,n)}function yk(e,t){return e.indexOf(t)}function wk(e,t){return 0|e.charCodeAt(t)}function jk(e,t,n){return e.slice(t,n)}function Nk(e){return e.length}function kk(e){return e.length}function Sk(e,t){return t.push(e),e}var Ck=1,_k=1,Pk=0,Ak=0,Dk=0,Tk="";function Lk(e,t,n,r,a,s,i){return{value:e,root:t,parent:n,type:r,props:a,children:s,line:Ck,column:_k,length:i,return:""}}function Ek(e,t){return xk(Lk("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ik(){return Dk=Ak>0?wk(Tk,--Ak):0,_k--,10===Dk&&(_k=1,Ck--),Dk}function Rk(){return Dk=Ak<Pk?wk(Tk,Ak++):0,_k++,10===Dk&&(_k=1,Ck++),Dk}function Mk(){return wk(Tk,Ak)}function Fk(){return Ak}function Ok(e,t){return jk(Tk,e,t)}function zk(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bk(e){return Ck=_k=1,Pk=Nk(Tk=e),Ak=0,[]}function Uk(e){return Tk="",e}function qk(e){return vk(Ok(Ak-1,Vk(91===e?e+2:40===e?e+1:e)))}function Wk(e){for(;(Dk=Mk())&&Dk<33;)Rk();return zk(e)>2||zk(Dk)>3?"":" "}function Hk(e,t){for(;--t&&Rk()&&!(Dk<48||Dk>102||Dk>57&&Dk<65||Dk>70&&Dk<97););return Ok(e,Fk()+(t<6&&32==Mk()&&32==Rk()))}function Vk(e){for(;Rk();)switch(Dk){case e:return Ak;case 34:case 39:34!==e&&39!==e&&Vk(Dk);break;case 40:41===e&&Vk(e);break;case 92:Rk()}return Ak}function Gk(e,t){for(;Rk()&&e+Dk!==57&&(e+Dk!==84||47!==Mk()););return"/*"+Ok(t,Ak-1)+"*"+gk(47===e?e:Rk())}function Kk(e){for(;!zk(Mk());)Rk();return Ok(e,Ak)}var Yk="-ms-",$k="-moz-",Jk="-webkit-",Xk="comm",Qk="rule",Zk="decl",eS="@keyframes";function tS(e,t){for(var n="",r=kk(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function nS(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Zk:return e.return=e.return||e.value;case Xk:return"";case eS:return e.return=e.value+"{"+tS(e.children,r)+"}";case Qk:e.value=e.props.join(",")}return Nk(n=tS(e.children,r))?e.return=e.value+"{"+n+"}":""}function rS(e){return function(t){t.root||(t=t.return)&&e(t)}}function aS(e){return Uk(sS("",null,null,null,[""],e=Bk(e),0,[0],e))}function sS(e,t,n,r,a,s,i,o,l){for(var c=0,d=0,u=i,h=0,p=0,m=0,f=1,g=1,x=1,v=0,b="",y=a,w=s,j=r,N=b;g;)switch(m=v,v=Rk()){case 40:if(108!=m&&58==wk(N,u-1)){-1!=yk(N+=bk(qk(v),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:N+=qk(v);break;case 9:case 10:case 13:case 32:N+=Wk(m);break;case 92:N+=Hk(Fk()-1,7);continue;case 47:switch(Mk()){case 42:case 47:Sk(oS(Gk(Rk(),Fk()),t,n),l);break;default:N+="/"}break;case 123*f:o[c++]=Nk(N)*x;case 125*f:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+d:-1==x&&(N=bk(N,/\f/g,"")),p>0&&Nk(N)-u&&Sk(p>32?lS(N+";",r,n,u-1):lS(bk(N," ","")+";",r,n,u-2),l);break;case 59:N+=";";default:if(Sk(j=iS(N,t,n,c,d,a,o,b,y=[],w=[],u),s),123===v)if(0===d)sS(N,t,j,j,y,s,u,o,w);else switch(99===h&&110===wk(N,3)?100:h){case 100:case 108:case 109:case 115:sS(e,j,j,r&&Sk(iS(e,j,j,0,0,a,o,b,a,y=[],u),w),a,w,u,o,r?y:w);break;default:sS(N,j,j,j,[""],w,0,o,w)}}c=d=p=0,f=x=1,b=N="",u=i;break;case 58:u=1+Nk(N),p=m;default:if(f<1)if(123==v)--f;else if(125==v&&0==f++&&125==Ik())continue;switch(N+=gk(v),v*f){case 38:x=d>0?1:(N+="\f",-1);break;case 44:o[c++]=(Nk(N)-1)*x,x=1;break;case 64:45===Mk()&&(N+=qk(Rk())),h=Mk(),d=u=Nk(b=N+=Kk(Fk())),v++;break;case 45:45===m&&2==Nk(N)&&(f=0)}}return s}function iS(e,t,n,r,a,s,i,o,l,c,d){for(var u=a-1,h=0===a?s:[""],p=kk(h),m=0,f=0,g=0;m<r;++m)for(var x=0,v=jk(e,u+1,u=fk(f=i[m])),b=e;x<p;++x)(b=vk(f>0?h[x]+" "+v:bk(v,/&\f/g,h[x])))&&(l[g++]=b);return Lk(e,t,n,0===a?Qk:o,l,c,d)}function oS(e,t,n){return Lk(e,t,n,Xk,gk(Dk),jk(e,2,-2),0)}function lS(e,t,n,r){return Lk(e,t,n,Zk,jk(e,0,r),jk(e,r+1,-1),r)}var cS=function(e,t,n){for(var r=0,a=0;r=a,a=Mk(),38===r&&12===a&&(t[n]=1),!zk(a);)Rk();return Ok(e,Ak)},dS=function(e,t){return Uk(function(e,t){var n=-1,r=44;do{switch(zk(r)){case 0:38===r&&12===Mk()&&(t[n]=1),e[n]+=cS(Ak-1,t,n);break;case 2:e[n]+=qk(r);break;case 4:if(44===r){e[++n]=58===Mk()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=gk(r)}}while(r=Rk());return e}(Bk(e),t))},uS=new WeakMap,hS=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||uS.get(n))&&!r){uS.set(e,!0);for(var a=[],s=dS(t,a),i=n.props,o=0,l=0;o<s.length;o++)for(var c=0;c<i.length;c++,l++)e.props[l]=a[o]?s[o].replace(/&\f/g,i[c]):i[c]+" "+s[o]}}},pS=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function mS(e,t){switch(function(e,t){return 45^wk(e,0)?(((t<<2^wk(e,0))<<2^wk(e,1))<<2^wk(e,2))<<2^wk(e,3):0}(e,t)){case 5103:return Jk+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jk+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Jk+e+$k+e+Yk+e+e;case 6828:case 4268:return Jk+e+Yk+e+e;case 6165:return Jk+e+Yk+"flex-"+e+e;case 5187:return Jk+e+bk(e,/(\w+).+(:[^]+)/,Jk+"box-$1$2"+Yk+"flex-$1$2")+e;case 5443:return Jk+e+Yk+"flex-item-"+bk(e,/flex-|-self/,"")+e;case 4675:return Jk+e+Yk+"flex-line-pack"+bk(e,/align-content|flex-|-self/,"")+e;case 5548:return Jk+e+Yk+bk(e,"shrink","negative")+e;case 5292:return Jk+e+Yk+bk(e,"basis","preferred-size")+e;case 6060:return Jk+"box-"+bk(e,"-grow","")+Jk+e+Yk+bk(e,"grow","positive")+e;case 4554:return Jk+bk(e,/([^-])(transform)/g,"$1"+Jk+"$2")+e;case 6187:return bk(bk(bk(e,/(zoom-|grab)/,Jk+"$1"),/(image-set)/,Jk+"$1"),e,"")+e;case 5495:case 3959:return bk(e,/(image-set\([^]*)/,Jk+"$1$`$1");case 4968:return bk(bk(e,/(.+:)(flex-)?(.*)/,Jk+"box-pack:$3"+Yk+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jk+e+e;case 4095:case 3583:case 4068:case 2532:return bk(e,/(.+)-inline(.+)/,Jk+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nk(e)-1-t>6)switch(wk(e,t+1)){case 109:if(45!==wk(e,t+4))break;case 102:return bk(e,/(.+:)(.+)-([^]+)/,"$1"+Jk+"$2-$3$1"+$k+(108==wk(e,t+3)?"$3":"$2-$3"))+e;case 115:return~yk(e,"stretch")?mS(bk(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==wk(e,t+1))break;case 6444:switch(wk(e,Nk(e)-3-(~yk(e,"!important")&&10))){case 107:return bk(e,":",":"+Jk)+e;case 101:return bk(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jk+(45===wk(e,14)?"inline-":"")+"box$3$1"+Jk+"$2$3$1"+Yk+"$2box$3")+e}break;case 5936:switch(wk(e,t+11)){case 114:return Jk+e+Yk+bk(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Jk+e+Yk+bk(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Jk+e+Yk+bk(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Jk+e+Yk+e+e}return e}var fS=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Zk:e.return=mS(e.value,e.length);break;case eS:return tS([Ek(e,{value:bk(e.value,"@","@"+Jk)})],r);case Qk:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return tS([Ek(e,{props:[bk(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return tS([Ek(e,{props:[bk(t,/:(plac\w+)/,":"+Jk+"input-$1")]}),Ek(e,{props:[bk(t,/:(plac\w+)/,":-moz-$1")]}),Ek(e,{props:[bk(t,/:(plac\w+)/,Yk+"input-$1")]})],r)}return""})}}],gS=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,a,s=e.stylisPlugins||fS,i={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;o.push(e)});var l,c=[hS,pS],d=[nS,rS(function(e){l.insert(e)})],u=function(e){var t=kk(e);return function(n,r,a,s){for(var i="",o=0;o<t;o++)i+=e[o](n,r,a,s)||"";return i}}(c.concat(s,d));a=function(e,t,n,r){l=n,function(e){tS(aS(e),u)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new mk({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return h.sheet.hydrate(o),h};function xS(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}var vS=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},bS=function(e,t,n){vS(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}};var yS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function wS(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var jS=/[A-Z]|^ms/g,NS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kS=function(e){return 45===e.charCodeAt(1)},SS=function(e){return null!=e&&"boolean"!==typeof e},CS=wS(function(e){return kS(e)?e:e.replace(jS,"-$&").toLowerCase()}),_S=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(NS,function(e,t,n){return AS={name:t,styles:n,next:AS},t})}return 1===yS[e]||kS(e)||"number"!==typeof t||0===t?t:t+"px"};function PS(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var a=n;if(1===a.anim)return AS={name:a.name,styles:a.styles,next:AS},a.name;var s=n;if(void 0!==s.styles){var i=s.next;if(void 0!==i)for(;void 0!==i;)AS={name:i.name,styles:i.styles,next:AS},i=i.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=PS(e,t,n[a])+";";else for(var s in n){var i=n[s];if("object"!==typeof i){var o=i;null!=t&&void 0!==t[o]?r+=s+"{"+t[o]+"}":SS(o)&&(r+=CS(s)+":"+_S(s,o)+";")}else if(!Array.isArray(i)||"string"!==typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=PS(e,t,i);switch(s){case"animation":case"animationName":r+=CS(s)+":"+l+";";break;default:r+=s+"{"+l+"}"}}else for(var c=0;c<i.length;c++)SS(i[c])&&(r+=CS(s)+":"+_S(s,i[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=AS,l=n(e);return AS=o,PS(e,t,l)}}var c=n;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var AS,DS=/label:\s*([^\s;{]+)\s*(;|$)/g;function TS(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";AS=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,a+=PS(n,t,s)):a+=s[0];for(var i=1;i<e.length;i++){if(a+=PS(n,t,e[i]),r)a+=s[i]}DS.lastIndex=0;for(var o,l="";null!==(o=DS.exec(a));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+l;return{name:c,styles:a,next:AS}}var LS=!!r.useInsertionEffect&&r.useInsertionEffect,ES=LS||function(e){return e()},IS=LS||t.useLayoutEffect,RS=t.createContext("undefined"!==typeof HTMLElement?gS({key:"css"}):null),MS=(RS.Provider,function(e){return(0,t.forwardRef)(function(n,r){var a=(0,t.useContext)(RS);return e(n,a,r)})}),FS=t.createContext({});var OS={}.hasOwnProperty,zS="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",BS=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return vS(t,n,r),ES(function(){return bS(t,n,r)}),null},US=MS(function(e,n,r){var a=e.css;"string"===typeof a&&void 0!==n.registered[a]&&(a=n.registered[a]);var s=e[zS],i=[a],o="";"string"===typeof e.className?o=xS(n.registered,i,e.className):null!=e.className&&(o=e.className+" ");var l=TS(i,void 0,t.useContext(FS));o+=n.key+"-"+l.name;var c={};for(var d in e)OS.call(e,d)&&"css"!==d&&d!==zS&&(c[d]=e[d]);return c.className=o,r&&(c.ref=r),t.createElement(t.Fragment,null,t.createElement(BS,{cache:n,serialized:l,isStringTag:"string"===typeof s}),t.createElement(s,c))}),qS=US,WS=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,HS=wS(function(e){return WS.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),VS=function(e){return"theme"!==e},GS=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?HS:VS},KS=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},YS=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return vS(t,n,r),ES(function(){return bS(t,n,r)}),null},$S=function e(n,r){var a,s,i=n.__emotion_real===n,o=i&&n.__emotion_base||n;void 0!==r&&(a=r.label,s=r.target);var l=KS(n,r,i),d=l||GS(o),u=!d("as");return function(){var h=arguments,p=i&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==a&&p.push("label:"+a+";"),null==h[0]||void 0===h[0].raw)p.push.apply(p,h);else{var m=h[0];p.push(m[0]);for(var f=h.length,g=1;g<f;g++)p.push(h[g],m[g])}var x=MS(function(e,n,r){var a=u&&e.as||o,i="",c=[],h=e;if(null==e.theme){for(var m in h={},e)h[m]=e[m];h.theme=t.useContext(FS)}"string"===typeof e.className?i=xS(n.registered,c,e.className):null!=e.className&&(i=e.className+" ");var f=TS(p.concat(c),n.registered,h);i+=n.key+"-"+f.name,void 0!==s&&(i+=" "+s);var g=u&&void 0===l?GS(a):d,x={};for(var v in e)u&&"as"===v||g(v)&&(x[v]=e[v]);return x.className=i,r&&(x.ref=r),t.createElement(t.Fragment,null,t.createElement(YS,{cache:n,serialized:f,isStringTag:"string"===typeof a}),t.createElement(a,x))});return x.displayName=void 0!==a?a:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",x.defaultProps=n.defaultProps,x.__emotion_real=x,x.__emotion_base=o,x.__emotion_styles=p,x.__emotion_forwardProp=l,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(t,n){return e(t,c({},r,n,{shouldForwardProp:KS(x,n,!0)})).apply(void 0,p)},x}}.bind(null);function JS(e,t){return $S(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){$S[e]=$S(e)});const XS=[];function QS(e){return XS[0]=e,TS(XS)}function ZS(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.searchParams.append("args[]",e)),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function eC(e){if("string"!==typeof e)throw new Error(ZS(7));return e.charAt(0).toUpperCase()+e.slice(1)}var tC=n(528);function nC(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function rC(e){if(t.isValidElement(e)||(0,tC.Hy)(e)||!nC(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=rC(e[t])}),n}function aC(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=r.clone?Ne({},e):e;return nC(e)&&nC(n)&&Object.keys(n).forEach(s=>{t.isValidElement(n[s])||(0,tC.Hy)(n[s])?a[s]=n[s]:nC(n[s])&&Object.prototype.hasOwnProperty.call(e,s)&&nC(e[s])?a[s]=aC(e[s],n[s],r):r.clone?a[s]=nC(n[s])?rC(n[s]):n[s]:a[s]=n[s]}),a}const sC=function(e,t){return t?aC(e,t,{clone:!1}):e};function iC(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{var n,r;const a=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(a))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(a))||void 0===r?void 0:r[1])||0)});return n.length?n.reduce((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e},Ne({},t)):t}const oC={xs:0,sm:600,md:900,lg:1200,xl:1536},lC={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(oC[e],"px)")},cC={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:oC[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function dC(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||lC;return t.reduce((r,a,s)=>(r[e.up(e.keys[s])]=n(t[s]),r),{})}if("object"===typeof t){const e=r.breakpoints||lC;return Object.keys(t).reduce((a,s)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith("@".concat(e)))||!!t.match(/^@\d/))}(e.keys,s)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,a]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(a).up(s)}(r.containerQueries?r:cC,s);e&&(a[e]=n(t[s],s))}else if(Object.keys(e.values||oC).includes(s)){a[e.up(s)]=n(t[s],s)}else{const e=s;a[e]=t[e]}return a},{})}return n(t)}function uC(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===(e=t.keys)||void 0===e?void 0:e.reduce((e,n)=>(e[t.up(n)]={},e),{});return n||{}}function hC(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function pC(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function mC(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||a:pC(e,n)||a,t&&(r=t(r,a,e)),r}const fC=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:a}=e,s=e=>{if(null==e[t])return null;const s=e[t],i=pC(e.theme,r)||{};return dC(e,s,e=>{let r=mC(i,a,e);return e===r&&"string"===typeof e&&(r=mC(i,a,"".concat(t).concat("default"===e?"":eC(e)),e)),!1===n?r:{[n]:r}})};return s.propTypes={},s.filterProps=[t],s};const gC={m:"margin",p:"padding"},xC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},bC=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!vC[e])return[e];e=vC[e]}const[t,n]=e.split(""),r=gC[t],a=xC[n]||"";return Array.isArray(a)?a.map(e=>r+e):[r+a]}),yC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],wC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],jC=[...yC,...wC];function NC(e,t,n,r){var a;const s=null!==(a=pC(e,t,!0))&&void 0!==a?a:n;return"number"===typeof s||"string"===typeof s?e=>"string"===typeof e?e:"string"===typeof s?s.startsWith("var(")&&0===e?0:s.startsWith("var(")&&1===e?s:"calc(".concat(e," * ").concat(s,")"):s*e:Array.isArray(s)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=s[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?"calc(-1 * ".concat(n,")"):"-".concat(n)}:"function"===typeof s?s:()=>{}}function kC(e){return NC(e,"spacing",8)}function SC(e,t){return"string"===typeof t||null==t?t:e(t)}function CC(e,t,n,r){if(!t.includes(n))return null;const a=function(e,t){return n=>e.reduce((e,r)=>(e[r]=SC(t,n),e),{})}(bC(n),r);return dC(e,e[n],a)}function _C(e,t){const n=kC(e.theme);return Object.keys(e).map(r=>CC(e,t,r,n)).reduce(sC,{})}function PC(e){return _C(e,yC)}function AC(e){return _C(e,wC)}function DC(e){return _C(e,jC)}PC.propTypes={},PC.filterProps=yC,AC.propTypes={},AC.filterProps=wC,DC.propTypes={},DC.filterProps=jC;const TC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),a=e=>Object.keys(e).reduce((t,n)=>r[n]?sC(t,r[n](e)):t,{});return a.propTypes={},a.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),a};function LC(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function EC(e,t){return fC({prop:e,themeKey:"borders",transform:t})}const IC=EC("border",LC),RC=EC("borderTop",LC),MC=EC("borderRight",LC),FC=EC("borderBottom",LC),OC=EC("borderLeft",LC),zC=EC("borderColor"),BC=EC("borderTopColor"),UC=EC("borderRightColor"),qC=EC("borderBottomColor"),WC=EC("borderLeftColor"),HC=EC("outline",LC),VC=EC("outlineColor"),GC=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=NC(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:SC(t,e)});return dC(e,e.borderRadius,n)}return null};GC.propTypes={},GC.filterProps=["borderRadius"];TC(IC,RC,MC,FC,OC,zC,BC,UC,qC,WC,GC,HC,VC);const KC=e=>{if(void 0!==e.gap&&null!==e.gap){const t=NC(e.theme,"spacing",8),n=e=>({gap:SC(t,e)});return dC(e,e.gap,n)}return null};KC.propTypes={},KC.filterProps=["gap"];const YC=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=NC(e.theme,"spacing",8),n=e=>({columnGap:SC(t,e)});return dC(e,e.columnGap,n)}return null};YC.propTypes={},YC.filterProps=["columnGap"];const $C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=NC(e.theme,"spacing",8),n=e=>({rowGap:SC(t,e)});return dC(e,e.rowGap,n)}return null};$C.propTypes={},$C.filterProps=["rowGap"];TC(KC,YC,$C,fC({prop:"gridColumn"}),fC({prop:"gridRow"}),fC({prop:"gridAutoFlow"}),fC({prop:"gridAutoColumns"}),fC({prop:"gridAutoRows"}),fC({prop:"gridTemplateColumns"}),fC({prop:"gridTemplateRows"}),fC({prop:"gridTemplateAreas"}),fC({prop:"gridArea"}));function JC(e,t){return"grey"===t?t:e}TC(fC({prop:"color",themeKey:"palette",transform:JC}),fC({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:JC}),fC({prop:"backgroundColor",themeKey:"palette",transform:JC}));function XC(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const QC=fC({prop:"width",transform:XC}),ZC=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const a=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||oC[t];return a?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(a).concat(e.theme.breakpoints.unit)}:{maxWidth:a}:{maxWidth:XC(t)}};return dC(e,e.maxWidth,t)}return null};ZC.filterProps=["maxWidth"];const e_=fC({prop:"minWidth",transform:XC}),t_=fC({prop:"height",transform:XC}),n_=fC({prop:"maxHeight",transform:XC}),r_=fC({prop:"minHeight",transform:XC}),a_=(fC({prop:"size",cssProperty:"width",transform:XC}),fC({prop:"size",cssProperty:"height",transform:XC}),TC(QC,ZC,e_,t_,n_,r_,fC({prop:"boxSizing"})),{border:{themeKey:"borders",transform:LC},borderTop:{themeKey:"borders",transform:LC},borderRight:{themeKey:"borders",transform:LC},borderBottom:{themeKey:"borders",transform:LC},borderLeft:{themeKey:"borders",transform:LC},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:LC},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:GC},color:{themeKey:"palette",transform:JC},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:JC},backgroundColor:{themeKey:"palette",transform:JC},p:{style:AC},pt:{style:AC},pr:{style:AC},pb:{style:AC},pl:{style:AC},px:{style:AC},py:{style:AC},padding:{style:AC},paddingTop:{style:AC},paddingRight:{style:AC},paddingBottom:{style:AC},paddingLeft:{style:AC},paddingX:{style:AC},paddingY:{style:AC},paddingInline:{style:AC},paddingInlineStart:{style:AC},paddingInlineEnd:{style:AC},paddingBlock:{style:AC},paddingBlockStart:{style:AC},paddingBlockEnd:{style:AC},m:{style:PC},mt:{style:PC},mr:{style:PC},mb:{style:PC},ml:{style:PC},mx:{style:PC},my:{style:PC},margin:{style:PC},marginTop:{style:PC},marginRight:{style:PC},marginBottom:{style:PC},marginLeft:{style:PC},marginX:{style:PC},marginY:{style:PC},marginInline:{style:PC},marginInlineStart:{style:PC},marginInlineEnd:{style:PC},marginBlock:{style:PC},marginBlockStart:{style:PC},marginBlockEnd:{style:PC},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:KC},rowGap:{style:$C},columnGap:{style:YC},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:XC},maxWidth:{style:ZC},minWidth:{transform:XC},height:{transform:XC},maxHeight:{transform:XC},minHeight:{transform:XC},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const s_=function(){function e(e,t,n,r){const a={[e]:t,theme:n},s=r[e];if(!s)return{[e]:t};const{cssProperty:i=e,themeKey:o,transform:l,style:c}=s;if(null==t)return null;if("typography"===o&&"inherit"===t)return{[e]:t};const d=pC(n,o)||{};if(c)return c(a);return dC(a,t,t=>{let n=mC(d,l,t);return t===n&&"string"===typeof t&&(n=mC(d,l,"".concat(e).concat("default"===t?"":eC(t)),t)),!1===i?n:{[i]:n}})}return function t(n){var r;const{sx:a,theme:s={},nested:i}=n||{};if(!a)return null;const o=null!==(r=s.unstable_sxConfig)&&void 0!==r?r:a_;function l(n){let r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;const a=uC(s.breakpoints),l=Object.keys(a);let c=a;return Object.keys(r).forEach(n=>{const a=function(e,t){return"function"===typeof e?e(t):e}(r[n],s);if(null!==a&&void 0!==a)if("object"===typeof a)if(o[n])c=sC(c,e(n,a,s,o));else{const e=dC({theme:s},a,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),a=new Set(r);return t.every(e=>a.size===Object.keys(e).length)}(e,a)?c=sC(c,e):c[n]=t({sx:a,theme:s,nested:!0})}else c=sC(c,e(n,a,s,o))}),!i&&s.modularCssLayers?{"@layer sx":iC(s,hC(l,c))}:iC(s,hC(l,c))}return Array.isArray(a)?a.map(l):l(a)}}();s_.filterProps=["sx"];const i_=s_,o_=["sx"];function l_(e){const{sx:t}=e,n=ke(e,o_),{systemProps:r,otherProps:a}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},a=null!==(t=null===e||void 0===e||null===(n=e.theme)||void 0===n?void 0:n.unstable_sxConfig)&&void 0!==t?t:a_;return Object.keys(e).forEach(t=>{a[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]}),r})(n);let s;return s=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return nC(e)?Ne(Ne({},r),e):r}:Ne(Ne({},r),t),Ne(Ne({},a),{},{sx:s})}const c_=["values","unit","step"];function d_(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,a=ke(e,c_),s=(e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>Ne(Ne({},e),{},{[t.key]:t.val}),{})})(t),i=Object.keys(s);function o(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const a="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(a-r/100).concat(n,")")}function c(e,a){const s=i.indexOf(a);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==s&&"number"===typeof t[i[s]]?t[i[s]]:a)-r/100).concat(n,")")}return Ne({keys:i,values:s,up:o,down:l,between:c,only:function(e){return i.indexOf(e)+1<i.length?c(e,i[i.indexOf(e)+1]):o(e)},not:function(e){const t=i.indexOf(e);return 0===t?o(i[1]):t===i.length-1?l(i[t]):c(e,i[i.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},a)}const u_={borderRadius:4};function h_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kC({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}function p_(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let a=n.getColorSchemeSelector(e);return"&"===a?t:((a.includes("data-")||a.includes("."))&&(a="*:where(".concat(a.replace(/\s*&$/,""),") &")),{[a]:t})}return n.palette.mode===e?t:{}}const m_=["breakpoints","palette","spacing","shape"];const f_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:a={}}=e,s=ke(e,m_),i=d_(t),o=h_(r);let l=aC({breakpoints:i,direction:"ltr",components:{},palette:Ne({mode:"light"},n),spacing:o,shape:Ne(Ne({},u_),a)},s);l=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},a=e=>(n(r,e),r);return n(a),Ne(Ne({},e),{},{containerQueries:a})}(l),l.applyStyles=p_;for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];return l=d.reduce((e,t)=>aC(e,t),l),l.unstable_sxConfig=Ne(Ne({},a_),null===s||void 0===s?void 0:s.unstable_sxConfig),l.unstable_sx=function(e){return i_({sx:e,theme:this})},l};const g_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(FS);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},x_=f_();const v_=function(){return g_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:x_)},b_=["className","component"];const y_=e=>e,w_=(()=>{let e=y_;return{configure(t){e=t},generate:t=>e(t),reset(){e=y_}}})();const j_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function N_(e){return j_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function k_(e){if(e.type)return e;if("#"===e.charAt(0))return k_(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ZS(9,e));let r,a=e.substring(t+1,e.length-1);if("color"===n){if(a=a.split(" "),r=a.shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(ZS(10,r))}else a=a.split(",");return a=a.map(e=>parseFloat(e)),{type:n,values:a,colorSpace:r}}const S_=(e,t)=>{try{return(e=>{const t=k_(e);return t.values.slice(0,3).map((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e).join(" ")})(e)}catch(Bx){return e}};function C_(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function __(e){e=k_(e);const{values:t}=e,n=t[0],r=t[1]/100,a=t[2]/100,s=r*Math.min(a,1-a),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-s*Math.max(Math.min(t-3,9-t,1),-1)};let o="rgb";const l=[Math.round(255*i(0)),Math.round(255*i(8)),Math.round(255*i(4))];return"hsla"===e.type&&(o+="a",l.push(t[3])),C_({type:o,values:l})}function P_(e){let t="hsl"===(e=k_(e)).type||"hsla"===e.type?k_(__(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function A_(e,t){return e=k_(e),t=N_(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,C_(e)}function D_(e,t,n){try{return A_(e,t)}catch(Bx){return e}}function T_(e,t){if(e=k_(e),t=N_(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return C_(e)}function L_(e,t,n){try{return T_(e,t)}catch(Bx){return e}}function E_(e,t){if(e=k_(e),t=N_(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return C_(e)}function I_(e,t,n){try{return E_(e,t)}catch(Bx){return e}}function R_(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return P_(e)>.5?T_(e,t):E_(e,t)}(e,t)}catch(Bx){return e}}const M_={black:"#000",white:"#fff"},F_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},O_={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},z_={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},B_={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},U_={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},q_={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},W_={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},H_=["mode","contrastThreshold","tonalOffset","colorSpace"];function V_(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:M_.white,default:M_.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const G_=V_();function K_(){return{text:{primary:M_.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:M_.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Y_=K_();function $_(e,t,n,r){const a=r.light||r,s=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=E_(e.main,a):"dark"===t&&(e.dark=T_(e.main,s)))}function J_(e,t,n,r,a){const s=a.light||a,i=a.dark||1.5*a;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:"light"===n?t.light="color-mix(in ".concat(e,", ").concat(t.main,", #fff ").concat((100*s).toFixed(0),"%)"):"dark"===n&&(t.dark="color-mix(in ".concat(e,", ").concat(t.main,", #000 ").concat((100*i).toFixed(0),"%)")))}function X_(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:a}=e,s=ke(e,H_),i=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:U_[200],light:U_[50],dark:U_[400]}:{main:U_[700],light:U_[400],dark:U_[800]}}(t),o=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:O_[200],light:O_[50],dark:O_[400]}:{main:O_[500],light:O_[300],dark:O_[700]}}(t),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:z_[500],light:z_[300],dark:z_[700]}:{main:z_[700],light:z_[400],dark:z_[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:q_[400],light:q_[300],dark:q_[700]}:{main:q_[700],light:q_[500],dark:q_[900]}}(t),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:W_[400],light:W_[300],dark:W_[700]}:{main:W_[800],light:W_[500],dark:W_[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:B_[400],light:B_[300],dark:B_[700]}:{main:"#ed6c02",light:B_[500],dark:B_[900]}}(t);function h(e){if(a)return function(e){return"oklch(from ".concat(e," var(--__l) 0 h / var(--__a))")}(e);const t=function(e,t){const n=P_(e),r=P_(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Y_.text.primary)>=n?Y_.text.primary:G_.text.primary;return t}const p=e=>{let{color:t,name:n,mainShade:s=500,lightShade:i=300,darkShade:o=700}=e;if(t=Ne({},t),!t.main&&t[s]&&(t.main=t[s]),!t.hasOwnProperty("main"))throw new Error(ZS(11,n?" (".concat(n,")"):"",s));if("string"!==typeof t.main)throw new Error(ZS(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return a?(J_(a,t,"light",i,r),J_(a,t,"dark",o,r)):($_(t,"light",i,r),$_(t,"dark",o,r)),t.contrastText||(t.contrastText=h(t.main)),t};let m;"light"===t?m=V_():"dark"===t&&(m=K_());return aC(Ne({common:Ne({},M_),mode:t,primary:p({color:i,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:l,name:"error"}),warning:p({color:u,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:d,name:"success"}),grey:F_,contrastThreshold:n,getContrastText:h,augmentColor:p,tonalOffset:r},m),s)}var Q_=n(816);function Z_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];if(!r.length)return"";const s=r[0];return"string"!==typeof s||s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(s):", var(--".concat(e?"".concat(e,"-"):"").concat(s).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...a),")")}}function eP(e){const t={};return Object.entries(e).forEach(e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))}),t}const tP=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=e;t.forEach((e,s)=>{s===t.length-1?Array.isArray(a)?a[Number(e)]=n:a&&"object"===typeof a&&(a[e]=n):a&&"object"===typeof a&&(a[e]||(a[e]=r.includes(e)?[]:{}),a=a[e])})};function nP(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},a={},s={},i={};return((e,t,n)=>{!function e(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(r).forEach(r=>{let[i,o]=r;(!n||n&&!n([...a,i]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?e(o,[...a,i],Array.isArray(o)?[...s,i]:s):t([...a,i],o,s))})}(e)})(e,(e,t,o)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px");return t})(e,t);Object.assign(a,{[r]:l}),tP(s,e,"var(".concat(r,")"),o),tP(i,e,"var(".concat(r,", ").concat(l,")"),o)}},e=>"vars"===e[0]),{css:a,vars:s,varsWithDefaults:i}}const rP=["colorSchemes","components","defaultColorScheme"];const aP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:a,enableContrastVars:s}=t,{colorSchemes:i={},components:o,defaultColorScheme:l="light"}=e,c=ke(e,rP),{vars:d,css:u,varsWithDefaults:h}=nP(c,t);let p=h;const m={},{[l]:f}=i,g=ke(i,[l].map(Q_.A));if(Object.entries(g||{}).forEach(e=>{let[n,r]=e;const{vars:a,css:s,varsWithDefaults:i}=nP(r,t);p=aC(p,i),m[n]={css:s,vars:a}}),f){const{css:e,vars:n,varsWithDefaults:r}=nP(f,t);p=aC(p,r),m[l]={css:e,vars:n}}function x(t,n){let r=a;if("class"===a&&(r=".%s"),"data"===a&&(r="[data-%s]"),null!==a&&void 0!==a&&a.startsWith("data-")&&!a.includes("%s")&&(r="[".concat(a,'="%s"]')),t){if("media"===r){var s;if(e.defaultColorScheme===t)return":root";const r=(null===(s=i[t])||void 0===s||null===(s=s.palette)||void 0===s?void 0:s.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:p,generateThemeVars:()=>{let e=Ne({},d);return Object.entries(m).forEach(t=>{let[,{vars:n}]=t;e=aC(e,n)}),e},generateStyleSheets:()=>{const t=[],a=e.defaultColorScheme||"light";function o(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:Ne({},n)}:e)}o(n(void 0,Ne({},u)),u);const{[a]:l}=m,c=ke(m,[a].map(Q_.A));if(l){var d;const{css:e}=l,t=null===(d=i[a])||void 0===d||null===(d=d.palette)||void 0===d?void 0:d.mode,s=Ne(!r&&t?{colorScheme:t}:{},e);o(n(a,Ne({},s)),s)}return Object.entries(c).forEach(e=>{var t;let[a,{css:s}]=e;const l=null===(t=i[a])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=Ne(!r&&l?{colorScheme:l}:{},s);o(n(a,Ne({},c)),c)}),s&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}};function sP(e,t){return Ne({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const iP=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const oP={textTransform:"uppercase"},lP='"Roboto", "Helvetica", "Arial", sans-serif';function cP(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=lP,fontSize:a=14,fontWeightLight:s=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:u}=n,h=ke(n,iP);const p=a/14,m=u||(e=>"".concat(e/c*p,"rem")),f=(e,t,n,a,s)=>{return Ne(Ne(Ne({fontFamily:r,fontWeight:e,fontSize:m(t),lineHeight:n},r===lP?{letterSpacing:"".concat((i=a/t,Math.round(1e5*i)/1e5),"em")}:{}),s),d);var i},g={h1:f(s,96,1.167,-1.5),h2:f(s,60,1.2,-.5),h3:f(i,48,1.167,0),h4:f(i,34,1.235,.25),h5:f(i,24,1.334,0),h6:f(o,20,1.6,.15),subtitle1:f(i,16,1.75,.15),subtitle2:f(o,14,1.57,.1),body1:f(i,16,1.5,.15),body2:f(i,14,1.43,.15),button:f(o,14,1.75,.4,oP),caption:f(i,12,1.66,.4),overline:f(i,12,2.66,1,oP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return aC(Ne({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:a,fontWeightLight:s,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:l},g),h,{clone:!1})}function dP(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const uP=["none",dP(0,2,1,-1,0,1,1,0,0,1,3,0),dP(0,3,1,-2,0,2,2,0,0,1,5,0),dP(0,3,3,-2,0,3,4,0,0,1,8,0),dP(0,2,4,-1,0,4,5,0,0,1,10,0),dP(0,3,5,-1,0,5,8,0,0,1,14,0),dP(0,3,5,-1,0,6,10,0,0,1,18,0),dP(0,4,5,-2,0,7,10,1,0,2,16,1),dP(0,5,5,-3,0,8,10,1,0,3,14,2),dP(0,5,6,-3,0,9,12,1,0,3,16,2),dP(0,6,6,-3,0,10,14,1,0,4,18,3),dP(0,6,7,-4,0,11,15,1,0,4,20,3),dP(0,7,8,-4,0,12,17,2,0,5,22,4),dP(0,7,8,-4,0,13,19,2,0,5,24,4),dP(0,7,9,-4,0,14,21,2,0,5,26,4),dP(0,8,9,-5,0,15,22,2,0,6,28,5),dP(0,8,10,-5,0,16,24,2,0,6,30,5),dP(0,8,11,-5,0,17,26,2,0,6,32,5),dP(0,9,11,-5,0,18,28,2,0,7,34,6),dP(0,9,12,-6,0,19,29,2,0,7,36,6),dP(0,10,13,-6,0,20,31,3,0,8,38,7),dP(0,10,13,-6,0,21,33,3,0,8,40,7),dP(0,10,14,-6,0,22,35,3,0,8,42,7),dP(0,11,14,-7,0,23,36,3,0,9,44,8),dP(0,11,15,-7,0,24,38,3,0,9,46,8)],hP=["duration","easing","delay"],pP={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},mP={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fP(e){return"".concat(Math.round(e),"ms")}function gP(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function xP(e){const t=Ne(Ne({},pP),e.easing),n=Ne(Ne({},mP),e.duration);return Ne(Ne({getAutoHeightDuration:gP,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:a=n.standard,easing:s=t.easeInOut,delay:i=0}=r;ke(r,hP);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof a?a:fP(a)," ").concat(s," ").concat("string"===typeof i?i:fP(i))).join(",")}},e),{},{easing:t,duration:n})}const vP={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function bP(e){return nC(e)||"undefined"===typeof e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)}function yP(){const e=Ne({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[a,s]=n[r];!bP(s)||a.startsWith("unstable_")?delete t[a]:nC(s)&&(t[a]=Ne({},s),e(t[a]))}}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const wP=["breakpoints","mixins","spacing","palette","transitions","typography","shape","colorSpace"];function jP(e){return"number"===typeof e?"".concat((100*e).toFixed(0),"%"):"calc((".concat(e,") * 100%)")}function NP(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?"oklch(from ".concat(t," l c h / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):r.vars?"rgba(".concat(t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")," / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):A_(t,(e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n})(n))},lighten(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #fff ").concat(jP(n),")"):E_(t,n)},darken(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #000 ").concat(jP(n),")"):T_(t,n)}})}const kP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:a={},transitions:s={},typography:i={},shape:o,colorSpace:l}=e,c=ke(e,wP);if(e.vars&&void 0===e.generateThemeVars)throw new Error(ZS(20));const d=X_(Ne(Ne({},a),{},{colorSpace:l})),u=f_(e);let h=aC(u,{mixins:sP(u.breakpoints,n),palette:d,shadows:uP.slice(),typography:cP(d,i),transitions:xP(s),zIndex:Ne({},vP)});h=aC(h,c);for(var p=arguments.length,m=new Array(p>1?p-1:0),f=1;f<p;f++)m[f-1]=arguments[f];return h=m.reduce((e,t)=>aC(e,t),h),h.unstable_sxConfig=Ne(Ne({},a_),null===c||void 0===c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return i_({sx:e,theme:this})},h.toRuntimeSource=yP,NP(h),h};function SP(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const CP=["palette","opacity","overlays","colorSpace"],_P=[...Array(25)].map((e,t)=>{if(0===t)return"none";const n=SP(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")});function PP(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function AP(e){return"dark"===e?_P:[]}function DP(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const TP=e=>[...[...Array(25)].map((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n)),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],LP=e=>(t,n)=>{const r=e.rootSelector||":root",a=e.colorSchemeSelector;let s=a;if("class"===a&&(s=".%s"),"data"===a&&(s="[data-%s]"),null!==a&&void 0!==a&&a.startsWith("data-")&&!a.includes("%s")&&(s="[".concat(a,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const a={};return TP(e.cssVarPrefix).forEach(e=>{a[e]=n[e],delete n[e]}),"media"===s?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",t)]:a,["".concat(r,", ").concat(s.replace("%s",t))]:n}:{[r]:Ne(Ne({},n),a)}}if(s&&"media"!==s)return"".concat(r,", ").concat(s.replace("%s",String(t)))}else if(t){if("media"===s)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r},EP=["palette"],IP=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","nativeColor","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function RP(e,t,n){!e[t]&&n&&(e[t]=n)}function MP(e){return"string"===typeof e&&e.startsWith("hsl")?__(e):e}function FP(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=S_(MP(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const OP=e=>{try{return e()}catch(Bx){}};function zP(e,t,n,r,a){var s,i,o;if(!n)return;n=!0===n?{}:n;const l="dark"===a?"dark":"light";var c;if(!r)return void(t[a]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:a}=e,s=ke(e,CP),i=X_(Ne(Ne({},t),{},{colorSpace:a}));return Ne({palette:i,opacity:Ne(Ne({},PP(i.mode)),n),overlays:r||AP(i.mode)},s)}(Ne(Ne({},n),{},{palette:Ne({mode:l},null===(c=n)||void 0===c?void 0:c.palette),colorSpace:e})));const d=kP(Ne(Ne({},r),{},{palette:Ne({mode:l},null===(s=n)||void 0===s?void 0:s.palette),colorSpace:e})),{palette:u}=d,h=ke(d,EP);return t[a]=Ne(Ne({},n),{},{palette:u,opacity:Ne(Ne({},PP(l)),null===(i=n)||void 0===i?void 0:i.opacity),overlays:(null===(o=n)||void 0===o?void 0:o.overlays)||AP(l)}),h}function BP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:a="mui",nativeColor:s=!1,shouldSkipGeneratingVar:i=DP,colorSchemeSelector:o=(t.light&&t.dark?"media":void 0),rootSelector:l=":root"}=e,c=ke(e,IP),d=Object.keys(t)[0],u=n||(t.light&&"light"!==d?"light":d),h=function(){return Z_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(a),{[u]:p,light:m,dark:f}=t,g=Ne({},ke(t,[u,"light","dark"].map(Q_.A)));let x,v=p;if(("dark"===u&&!("dark"in t)||"light"===u&&!("light"in t))&&(v=!0),!v)throw new Error(ZS(21,u));s&&(x="oklch");const b=zP(x,g,v,c,u);m&&!g.light&&zP(x,g,m,void 0,"light"),f&&!g.dark&&zP(x,g,f,void 0,"dark");let y=Ne(Ne({defaultColorScheme:u},b),{},{cssVarPrefix:a,colorSchemeSelector:o,rootSelector:l,getCssVar:h,colorSchemes:g,font:Ne(Ne({},eP(b.typography)),b.font),spacing:(w=c.spacing,"number"===typeof w?"".concat(w,"px"):"string"===typeof w||"function"===typeof w||Array.isArray(w)?w:"8px")});var w;Object.keys(y.colorSchemes).forEach(e=>{const t=y.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],a=n[2];return h(e,t[r][a])};function r(e,t,n){if(x){let r;return e===D_&&(r="transparent ".concat((100*(1-n)).toFixed(0),"%")),e===L_&&(r="#000 ".concat((100*n).toFixed(0),"%")),e===I_&&(r="#fff ".concat((100*n).toFixed(0),"%")),"color-mix(in ".concat(x,", ").concat(t,", ").concat(r,")")}return e(t,n)}var a;if("light"===t.mode&&(RP(t.common,"background","#fff"),RP(t.common,"onBackground","#000")),"dark"===t.mode&&(RP(t.common,"background","#000"),RP(t.common,"onBackground","#fff")),a=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{a[e]||(a[e]={})}),"light"===t.mode){RP(t.Alert,"errorColor",r(L_,t.error.light,.6)),RP(t.Alert,"infoColor",r(L_,t.info.light,.6)),RP(t.Alert,"successColor",r(L_,t.success.light,.6)),RP(t.Alert,"warningColor",r(L_,t.warning.light,.6)),RP(t.Alert,"errorFilledBg",n("palette-error-main")),RP(t.Alert,"infoFilledBg",n("palette-info-main")),RP(t.Alert,"successFilledBg",n("palette-success-main")),RP(t.Alert,"warningFilledBg",n("palette-warning-main")),RP(t.Alert,"errorFilledColor",OP(()=>t.getContrastText(t.error.main))),RP(t.Alert,"infoFilledColor",OP(()=>t.getContrastText(t.info.main))),RP(t.Alert,"successFilledColor",OP(()=>t.getContrastText(t.success.main))),RP(t.Alert,"warningFilledColor",OP(()=>t.getContrastText(t.warning.main))),RP(t.Alert,"errorStandardBg",r(I_,t.error.light,.9)),RP(t.Alert,"infoStandardBg",r(I_,t.info.light,.9)),RP(t.Alert,"successStandardBg",r(I_,t.success.light,.9)),RP(t.Alert,"warningStandardBg",r(I_,t.warning.light,.9)),RP(t.Alert,"errorIconColor",n("palette-error-main")),RP(t.Alert,"infoIconColor",n("palette-info-main")),RP(t.Alert,"successIconColor",n("palette-success-main")),RP(t.Alert,"warningIconColor",n("palette-warning-main")),RP(t.AppBar,"defaultBg",n("palette-grey-100")),RP(t.Avatar,"defaultBg",n("palette-grey-400")),RP(t.Button,"inheritContainedBg",n("palette-grey-300")),RP(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),RP(t.Chip,"defaultBorder",n("palette-grey-400")),RP(t.Chip,"defaultAvatarColor",n("palette-grey-700")),RP(t.Chip,"defaultIconColor",n("palette-grey-700")),RP(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),RP(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),RP(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),RP(t.LinearProgress,"primaryBg",r(I_,t.primary.main,.62)),RP(t.LinearProgress,"secondaryBg",r(I_,t.secondary.main,.62)),RP(t.LinearProgress,"errorBg",r(I_,t.error.main,.62)),RP(t.LinearProgress,"infoBg",r(I_,t.info.main,.62)),RP(t.LinearProgress,"successBg",r(I_,t.success.main,.62)),RP(t.LinearProgress,"warningBg",r(I_,t.warning.main,.62)),RP(t.Skeleton,"bg",x?r(D_,t.text.primary,.11):"rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),RP(t.Slider,"primaryTrack",r(I_,t.primary.main,.62)),RP(t.Slider,"secondaryTrack",r(I_,t.secondary.main,.62)),RP(t.Slider,"errorTrack",r(I_,t.error.main,.62)),RP(t.Slider,"infoTrack",r(I_,t.info.main,.62)),RP(t.Slider,"successTrack",r(I_,t.success.main,.62)),RP(t.Slider,"warningTrack",r(I_,t.warning.main,.62));const e=x?r(L_,t.background.default,.6825):R_(t.background.default,.8);RP(t.SnackbarContent,"bg",e),RP(t.SnackbarContent,"color",OP(()=>x?Y_.text.primary:t.getContrastText(e))),RP(t.SpeedDialAction,"fabHoverBg",R_(t.background.paper,.15)),RP(t.StepConnector,"border",n("palette-grey-400")),RP(t.StepContent,"border",n("palette-grey-400")),RP(t.Switch,"defaultColor",n("palette-common-white")),RP(t.Switch,"defaultDisabledColor",n("palette-grey-100")),RP(t.Switch,"primaryDisabledColor",r(I_,t.primary.main,.62)),RP(t.Switch,"secondaryDisabledColor",r(I_,t.secondary.main,.62)),RP(t.Switch,"errorDisabledColor",r(I_,t.error.main,.62)),RP(t.Switch,"infoDisabledColor",r(I_,t.info.main,.62)),RP(t.Switch,"successDisabledColor",r(I_,t.success.main,.62)),RP(t.Switch,"warningDisabledColor",r(I_,t.warning.main,.62)),RP(t.TableCell,"border",r(I_,r(D_,t.divider,1),.88)),RP(t.Tooltip,"bg",r(D_,t.grey[700],.92))}if("dark"===t.mode){RP(t.Alert,"errorColor",r(I_,t.error.light,.6)),RP(t.Alert,"infoColor",r(I_,t.info.light,.6)),RP(t.Alert,"successColor",r(I_,t.success.light,.6)),RP(t.Alert,"warningColor",r(I_,t.warning.light,.6)),RP(t.Alert,"errorFilledBg",n("palette-error-dark")),RP(t.Alert,"infoFilledBg",n("palette-info-dark")),RP(t.Alert,"successFilledBg",n("palette-success-dark")),RP(t.Alert,"warningFilledBg",n("palette-warning-dark")),RP(t.Alert,"errorFilledColor",OP(()=>t.getContrastText(t.error.dark))),RP(t.Alert,"infoFilledColor",OP(()=>t.getContrastText(t.info.dark))),RP(t.Alert,"successFilledColor",OP(()=>t.getContrastText(t.success.dark))),RP(t.Alert,"warningFilledColor",OP(()=>t.getContrastText(t.warning.dark))),RP(t.Alert,"errorStandardBg",r(L_,t.error.light,.9)),RP(t.Alert,"infoStandardBg",r(L_,t.info.light,.9)),RP(t.Alert,"successStandardBg",r(L_,t.success.light,.9)),RP(t.Alert,"warningStandardBg",r(L_,t.warning.light,.9)),RP(t.Alert,"errorIconColor",n("palette-error-main")),RP(t.Alert,"infoIconColor",n("palette-info-main")),RP(t.Alert,"successIconColor",n("palette-success-main")),RP(t.Alert,"warningIconColor",n("palette-warning-main")),RP(t.AppBar,"defaultBg",n("palette-grey-900")),RP(t.AppBar,"darkBg",n("palette-background-paper")),RP(t.AppBar,"darkColor",n("palette-text-primary")),RP(t.Avatar,"defaultBg",n("palette-grey-600")),RP(t.Button,"inheritContainedBg",n("palette-grey-800")),RP(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),RP(t.Chip,"defaultBorder",n("palette-grey-700")),RP(t.Chip,"defaultAvatarColor",n("palette-grey-300")),RP(t.Chip,"defaultIconColor",n("palette-grey-300")),RP(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),RP(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),RP(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),RP(t.LinearProgress,"primaryBg",r(L_,t.primary.main,.5)),RP(t.LinearProgress,"secondaryBg",r(L_,t.secondary.main,.5)),RP(t.LinearProgress,"errorBg",r(L_,t.error.main,.5)),RP(t.LinearProgress,"infoBg",r(L_,t.info.main,.5)),RP(t.LinearProgress,"successBg",r(L_,t.success.main,.5)),RP(t.LinearProgress,"warningBg",r(L_,t.warning.main,.5)),RP(t.Skeleton,"bg",x?r(D_,t.text.primary,.13):"rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),RP(t.Slider,"primaryTrack",r(L_,t.primary.main,.5)),RP(t.Slider,"secondaryTrack",r(L_,t.secondary.main,.5)),RP(t.Slider,"errorTrack",r(L_,t.error.main,.5)),RP(t.Slider,"infoTrack",r(L_,t.info.main,.5)),RP(t.Slider,"successTrack",r(L_,t.success.main,.5)),RP(t.Slider,"warningTrack",r(L_,t.warning.main,.5));const e=x?r(I_,t.background.default,.985):R_(t.background.default,.98);RP(t.SnackbarContent,"bg",e),RP(t.SnackbarContent,"color",OP(()=>x?G_.text.primary:t.getContrastText(e))),RP(t.SpeedDialAction,"fabHoverBg",R_(t.background.paper,.15)),RP(t.StepConnector,"border",n("palette-grey-600")),RP(t.StepContent,"border",n("palette-grey-600")),RP(t.Switch,"defaultColor",n("palette-grey-300")),RP(t.Switch,"defaultDisabledColor",n("palette-grey-600")),RP(t.Switch,"primaryDisabledColor",r(L_,t.primary.main,.55)),RP(t.Switch,"secondaryDisabledColor",r(L_,t.secondary.main,.55)),RP(t.Switch,"errorDisabledColor",r(L_,t.error.main,.55)),RP(t.Switch,"infoDisabledColor",r(L_,t.info.main,.55)),RP(t.Switch,"successDisabledColor",r(L_,t.success.main,.55)),RP(t.Switch,"warningDisabledColor",r(L_,t.warning.main,.55)),RP(t.TableCell,"border",r(L_,r(D_,t.divider,1),.68)),RP(t.Tooltip,"bg",r(D_,t.grey[700],.92))}FP(t.background,"default"),FP(t.background,"paper"),FP(t.common,"background"),FP(t.common,"onBackground"),FP(t,"divider"),Object.keys(t).forEach(e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&RP(t[e],"mainChannel",S_(MP(n.main))),n.light&&RP(t[e],"lightChannel",S_(MP(n.light))),n.dark&&RP(t[e],"darkChannel",S_(MP(n.dark))),n.contrastText&&RP(t[e],"contrastTextChannel",S_(MP(n.contrastText))),"text"===e&&(FP(t[e],"primary"),FP(t[e],"secondary")),"action"===e&&(n.active&&FP(t[e],"active"),n.selected&&FP(t[e],"selected")))})});for(var j=arguments.length,N=new Array(j>1?j-1:0),k=1;k<j;k++)N[k-1]=arguments[k];y=N.reduce((e,t)=>aC(e,t),y);const S={prefix:a,disableCssColorScheme:r,shouldSkipGeneratingVar:i,getSelector:LP(y),enableContrastVars:s},{vars:C,generateThemeVars:_,generateStyleSheets:P}=aP(y,S);return y.vars=C,Object.entries(y.colorSchemes[y.defaultColorScheme]).forEach(e=>{let[t,n]=e;y[t]=n}),y.generateThemeVars=_,y.generateStyleSheets=P,y.generateSpacing=function(){return h_(c.spacing,kC(this))},y.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(o),y.spacing=y.generateSpacing(),y.shouldSkipGeneratingVar=i,y.unstable_sxConfig=Ne(Ne({},a_),null===c||void 0===c?void 0:c.unstable_sxConfig),y.unstable_sx=function(e){return i_({sx:e,theme:this})},y.toRuntimeSource=yP,y}const UP=["palette","cssVariables","colorSchemes","defaultColorScheme"];function qP(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=Ne(Ne({},!0!==n&&n),{},{palette:X_(Ne(Ne({},!0===n?{}:n.palette),{},{mode:t}))}))}function WP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:a=(null===t||void 0===t?void 0:t.mode)}=e,s=ke(e,UP),i=a||"light",o=null===r||void 0===r?void 0:r[i],l=Ne(Ne({},r),t?{[i]:Ne(Ne({},"boolean"!==typeof o&&o),{},{palette:t})}:void 0);for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];if(!1===n){if(!("colorSchemes"in e))return kP(e,...d);let n=t;"palette"in e||l[i]&&(!0!==l[i]?n=l[i].palette:"dark"===i&&(n={mode:"dark"}));const r=kP(Ne(Ne({},e),{},{palette:n}),...d);return r.defaultColorScheme=i,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light=Ne(Ne({},!0!==l.light&&l.light),{},{palette:r.palette}),qP(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=Ne(Ne({},!0!==l.dark&&l.dark),{},{palette:r.palette}),qP(r,"light",l.light)),r}return t||"light"in l||"light"!==i||(l.light=!0),BP(Ne(Ne({},s),{},{colorSchemes:l,defaultColorScheme:i},"boolean"!==typeof n&&n),...d)}const HP="$$material",VP={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function GP(e,t){const n=VP[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(w_.generate(e),"-").concat(t)}function KP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach(t=>{r[t]=GP(e,t,n)}),r}const YP=KP("MuiBox",["root"]),$P=WP(),JP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:a="MuiBox-root",generateClassName:s}=e,i=JS("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(i_),o=t.forwardRef(function(e,t){const o=v_(r),l=l_(e),{className:c,component:d="div"}=l,u=ke(l,b_);return(0,Jn.jsx)(i,Ne({as:d,ref:t,className:pk(c,s?s(a):a),theme:n&&o[n]||o},u))});return o}({themeId:HP,defaultTheme:$P,defaultClassName:YP.root,generateClassName:w_.generate}),XP=JP;function QP(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ZP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const a in e){const s=e[a];let i="",o=!0;for(let e=0;e<s.length;e+=1){const r=s[e];r&&(i+=(!0===o?"":" ")+t(r),o=!1,n&&n[r]&&(i+=" "+n[r]))}r[a]=i}return r}var eA=function(e,n){var r=arguments;if(null==n||!OS.call(n,"css"))return t.createElement.apply(void 0,r);var a=r.length,s=new Array(a);s[0]=qS,s[1]=function(e,t){var n={};for(var r in t)OS.call(t,r)&&(n[r]=t[r]);return n[zS]=e,n}(e,n);for(var i=2;i<a;i++)s[i]=r[i];return t.createElement.apply(null,s)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(eA||(eA={}));var tA=MS(function(e,n){var r=TS([e.styles],void 0,t.useContext(FS)),a=t.useRef();return IS(function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),s=!1,i=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==i&&(s=!0,i.setAttribute("data-emotion",e),t.hydrate([i])),a.current=[t,s],function(){t.flush()}},[n]),IS(function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&bS(n,r.next,!0),t.tags.length){var s=t.tags[t.tags.length-1].nextElementSibling;t.before=s,t.flush()}n.insert("",r,t,!1)}},[n,r.name]),null});function nA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TS(t)}function rA(){var e=nA.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const aA=["variants"];function sA(e){const{variants:t}=e,n=ke(e,aA),r={variants:t,style:QS(n),isProcessed:!0};return r.style===n||t&&t.forEach(e=>{"function"!==typeof e.style&&(e.style=QS(e.style))}),r}const iA=["variants"],oA=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],lA=f_();function cA(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function dA(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}function uA(e){return e?(t,n)=>n[e]:null}function hA(e,t,n){const r="function"===typeof t?t(e):t;if(Array.isArray(r))return r.flatMap(t=>hA(e,t,n));if(Array.isArray(null===r||void 0===r?void 0:r.variants)){let t;if(r.isProcessed)t=n?dA(r.style,n):r.style;else{const{variants:e}=r,a=ke(r,iA);t=n?dA(QS(a),n):a}return pA(e,r.variants,[t],n)}return null!==r&&void 0!==r&&r.isProcessed?n?dA(QS(r.style),n):r.style:n?dA(QS(r),n):r}function pA(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let i=0;i<t.length;i+=1){const o=t[i];if("function"===typeof o.props){if(null!==n&&void 0!==n||(n=Ne(Ne(Ne({},e),e.ownerState),{},{ownerState:e.ownerState})),!o.props(n))continue}else for(const t in o.props){var s;if(e[t]!==o.props[t]&&(null===(s=e.ownerState)||void 0===s?void 0:s[t])!==o.props[t])continue e}"function"===typeof o.style?(null!==n&&void 0!==n||(n=Ne(Ne(Ne({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(a?dA(QS(o.style(n)),a):o.style(n))):r.push(a?dA(QS(o.style),a):o.style)}return r}function mA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=lA,rootShouldForwardProp:r=cA,slotShouldForwardProp:a=cA}=e;function s(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,e=>e.filter(e=>e!==i_));const{name:n,slot:i,skipVariantsResolver:o,skipSx:l,overridesResolver:c=uA(gA(i))}=t,d=ke(t,oA),u=n&&n.startsWith("Mui")||i?"components":"custom",h=void 0!==o?o:i&&"Root"!==i&&"root"!==i||!1,p=l||!1;let m=cA;"Root"===i||"root"===i?m=r:i?m=a:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const f=JS(e,Ne({shouldForwardProp:m,label:fA(n,i)},d)),g=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return hA(t,e,t.theme.modularCssLayers?u:void 0)};if(nC(e)){const t=sA(e);return function(e){return t.variants?hA(e,t,e.theme.modularCssLayers?u:void 0):e.theme.modularCssLayers?dA(t.style,u):t.style}}return e},x=function(){const t=[];for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];const o=a.map(g),l=[];if(t.push(s),n&&c&&l.push(function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const a={};for(const n in r)a[n]=hA(e,r[n],e.theme.modularCssLayers?"theme":void 0);return c(e,a)}),n&&!h&&l.push(function(e){var t;const r=e.theme,a=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return a?pA(e,a,[],e.theme.modularCssLayers?"theme":void 0):null}),p||l.push(i_),Array.isArray(o[0])){const e=o.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let a;a=[...n,...e,...r],a.raw=[...n,...e.raw,...r],t.unshift(a)}const d=[...t,...o,...l],u=f(...d);return e.muiName&&(u.muiName=e.muiName),u};return f.withConfig&&(x.withConfig=f.withConfig),x}}function fA(e,t){}function gA(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const xA=WP();const vA=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},bA=e=>vA(e)&&"classes"!==e,yA=mA({themeId:HP,defaultTheme:xA,rootShouldForwardProp:bA}),wA={theme:void 0};const jA=function(e){let t,n;return function(r){let a=t;return void 0!==a&&r.theme===n||(wA.theme=r.theme,a=sA(e(wA)),t=a,n=r.theme),a}};function NA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Ne({},t);for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=a;if("components"===s||"slots"===s)r[s]=Ne(Ne({},e[s]),r[s]);else if("componentsProps"===s||"slotProps"===s){const a=e[s],i=t[s];if(i)if(a){r[s]=Ne({},i);for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e)){const t=e;r[s][t]=NA(a[t],i[t],n)}}else r[s]=i;else r[s]=a||{}}else"className"===s&&n&&t.className?r.className=pk(null===e||void 0===e?void 0:e.className,null===t||void 0===t?void 0:t.className):"style"===s&&n&&t.style?r.style=Ne(Ne({},null===e||void 0===e?void 0:e.style),null===t||void 0===t?void 0:t.style):void 0===r[s]&&(r[s]=e[s])}return r}const kA=t.createContext(void 0);function SA(e){let{props:n,name:r}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const a=t.components[n];return a.defaultProps?NA(a.defaultProps,r,t.components.mergeClassNameAndStyle):a.styleOverrides||a.variants?r:NA(a,r,t.components.mergeClassNameAndStyle)}({props:n,name:r,theme:{components:t.useContext(kA)}})}function CA(e){return SA(e)}const _A=eC;function PA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function AA(e){return GP("MuiCircularProgress",e)}KP("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const DA=["className","color","disableShrink","enableTrackSlot","size","style","thickness","value","variant"];var TA,LA,EA,IA;const RA=44,MA=rA(TA||(TA=QP(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),FA=rA(LA||(LA=QP(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: -126px;\n  }\n"]))),OA="string"!==typeof MA?nA(EA||(EA=QP(["\n        animation: "," 1.4s linear infinite;\n      "])),MA):null,zA="string"!==typeof FA?nA(IA||(IA=QP(["\n        animation: "," 1.4s ease-in-out infinite;\n      "])),FA):null,BA=yA("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat(_A(n.color))]]}})(jA(e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:OA||{animation:"".concat(MA," 1.4s linear infinite")}},...Object.entries(t.palette).filter(PA()).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})]}})),UA=yA("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),qA=yA("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat(_A(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(jA(e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:zA||{animation:"".concat(FA," 1.4s ease-in-out infinite")}}]}})),WA=yA("circle",{name:"MuiCircularProgress",slot:"Track"})(jA(e=>{let{theme:t}=e;return{stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}})),HA=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiCircularProgress"}),{className:r,color:a="primary",disableShrink:s=!1,enableTrackSlot:i=!1,size:o=40,style:l,thickness:c=3.6,value:d=0,variant:u="indeterminate"}=n,h=ke(n,DA),p=Ne(Ne({},n),{},{color:a,disableShrink:s,size:o,thickness:c,value:d,variant:u,enableTrackSlot:i}),m=(e=>{const{classes:t,variant:n,color:r,disableShrink:a}=e;return ZP({root:["root",n,"color".concat(_A(r))],svg:["svg"],track:["track"],circle:["circle","circle".concat(_A(n)),a&&"circleDisableShrink"]},AA,t)})(p),f={},g={},x={};if("determinate"===u){const e=2*Math.PI*((RA-c)/2);f.strokeDasharray=e.toFixed(3),x["aria-valuenow"]=Math.round(d),f.strokeDashoffset="".concat(((100-d)/100*e).toFixed(3),"px"),g.transform="rotate(-90deg)"}return(0,Jn.jsx)(BA,Ne(Ne(Ne({className:pk(m.root,r),style:Ne(Ne({width:o,height:o},g),l),ownerState:p,ref:t,role:"progressbar"},x),h),{},{children:(0,Jn.jsxs)(UA,{className:m.svg,ownerState:p,viewBox:"".concat(22," ").concat(22," ").concat(RA," ").concat(RA),children:[i?(0,Jn.jsx)(WA,{className:m.track,ownerState:p,cx:RA,cy:RA,r:(RA-c)/2,fill:"none",strokeWidth:c,"aria-hidden":"true"}):null,(0,Jn.jsx)(qA,{className:m.circle,style:f,ownerState:p,cx:RA,cy:RA,r:(RA-c)/2,fill:"none",strokeWidth:c})]})}))}),VA=HA;function GA(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,Jn.jsx)(tA,{styles:r})}function KA(e){const t=QS(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles="@layer global{".concat(t.styles,"}")),t):e}const YA=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const a=v_(r),s=n&&a[n]||a;let i="function"===typeof t?t(s):t;return s.modularCssLayers&&(i=Array.isArray(i)?i.map(e=>KA("function"===typeof e?e(s):e)):KA(i)),(0,Jn.jsx)(GA,{styles:i})};const $A=function(e){return(0,Jn.jsx)(YA,Ne(Ne({},e),{},{defaultTheme:xA,themeId:HP}))};function JA(e){return GP("MuiTypography",e)}KP("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const XA=["color"],QA=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ZA={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},eD=l_,tD=yA("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(_A(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(jA(e=>{var t;let{theme:n}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n}).map(e=>{let[t,n]=e;return{props:{variant:t},style:n}}),...Object.entries(n.palette).filter(PA()).map(e=>{let[t]=e;return{props:{color:t},style:{color:(n.vars||n).palette[t].main}}}),...Object.entries((null===(t=n.palette)||void 0===t?void 0:t.text)||{}).filter(e=>{let[,t]=e;return"string"===typeof t}).map(e=>{let[t]=e;return{props:{color:"text".concat(_A(t))},style:{color:(n.vars||n).palette.text[t]}}}),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}})),nD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},rD=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiTypography"}),{color:r}=n,a=ke(n,XA),s=!ZA[r],i=eD(Ne(Ne({},a),s&&{color:r})),{align:o="inherit",className:l,component:c,gutterBottom:d=!1,noWrap:u=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=nD}=i,f=ke(i,QA),g=Ne(Ne({},i),{},{align:o,color:r,className:l,component:c,gutterBottom:d,noWrap:u,paragraph:h,variant:p,variantMapping:m}),x=c||(h?"p":m[p]||nD[p])||"span",v=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:a,variant:s,classes:i}=e;return ZP({root:["root",s,"inherit"!==e.align&&"align".concat(_A(t)),n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]},JA,i)})(g);return(0,Jn.jsx)(tD,Ne(Ne({as:x,ref:t,className:pk(v.root,l)},f),{},{ownerState:g,style:Ne(Ne({},"inherit"!==o&&{"--Typography-textAlign":o}),f.style)}))}),aD=rD,sD=e=>{let{message:t="Loading..."}=e;return(0,Jn.jsxs)(XP,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"calc(100vh - 70px)"},children:[(0,Jn.jsx)(VA,{size:50,sx:{mb:2}}),(0,Jn.jsx)(aD,{variant:"h6",color:"text.secondary",children:t})]})};function iD(){const e=v_(xA);return e[HP]||e}function oD(e){return GP("MuiPaper",e)}KP("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const lD=["className","component","elevation","square","variant"],cD=yA("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(jA(e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}})),dD=t.forwardRef(function(e,t){var n;const r=CA({props:e,name:"MuiPaper"}),a=iD(),{className:s,component:i="div",elevation:o=1,square:l=!1,variant:c="elevation"}=r,d=ke(r,lD),u=Ne(Ne({},r),{},{component:i,elevation:o,square:l,variant:c}),h=(e=>{const{square:t,elevation:n,variant:r,classes:a}=e;return ZP({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},oD,a)})(u);return(0,Jn.jsx)(cD,Ne(Ne({as:i,ownerState:u,className:pk(h.root,s),ref:t},d),{},{style:Ne(Ne({},"elevation"===c&&Ne(Ne({"--Paper-shadow":(a.vars||a).shadows[o]},a.vars&&{"--Paper-overlay":null===(n=a.vars.overlays)||void 0===n?void 0:n[o]}),!a.vars&&"dark"===a.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat(A_("#fff",SP(o)),", ").concat(A_("#fff",SP(o)),")")})),d.style)}))}),uD=dD;function hD(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const a=t.useRef(void 0),s=t.useCallback(e=>{const t=n.map(t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}});return()=>{t.forEach(e=>null===e||void 0===e?void 0:e())}},n);return t.useMemo(()=>n.every(e=>null==e)?null:e=>{a.current&&(a.current(),a.current=void 0),null!=e&&(a.current=s(e))},n)}const pD=function(e){return"string"===typeof e};const mD=function(e,t,n){return void 0===e||pD(e)?t:Ne(Ne({},t),{},{ownerState:Ne(Ne({},t.ownerState),n)})};const fD=function(e,t,n){return"function"===typeof e?e(t,n):e};const gD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const xD=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const vD=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:a,className:s}=e;if(!t){const e=pk(null===n||void 0===n?void 0:n.className,s,null===a||void 0===a?void 0:a.className,null===r||void 0===r?void 0:r.className),t=Ne(Ne(Ne({},null===n||void 0===n?void 0:n.style),null===a||void 0===a?void 0:a.style),null===r||void 0===r?void 0:r.style),i=Ne(Ne(Ne({},n),a),r);return e.length>0&&(i.className=e),Object.keys(t).length>0&&(i.style=t),{props:i,internalRef:void 0}}const i=gD(Ne(Ne({},a),r)),o=xD(r),l=xD(a),c=t(i),d=pk(null===c||void 0===c?void 0:c.className,null===n||void 0===n?void 0:n.className,s,null===a||void 0===a?void 0:a.className,null===r||void 0===r?void 0:r.className),u=Ne(Ne(Ne(Ne({},null===c||void 0===c?void 0:c.style),null===n||void 0===n?void 0:n.style),null===a||void 0===a?void 0:a.style),null===r||void 0===r?void 0:r.style),h=Ne(Ne(Ne(Ne({},c),n),l),o);return d.length>0&&(h.className=d),Object.keys(u).length>0&&(h.style=u),{props:h,internalRef:c.ref}},bD=["className","elementType","ownerState","externalForwardedProps","internalForwardedProps","shouldForwardComponentProp"],yD=["component","slots","slotProps"],wD=["component"];function jD(e,t){const{className:n,elementType:r,ownerState:a,externalForwardedProps:s,internalForwardedProps:i,shouldForwardComponentProp:o=!1}=t,l=ke(t,bD),{component:c,slots:d={[e]:void 0},slotProps:u={[e]:void 0}}=s,h=ke(s,yD),p=d[e]||r,m=fD(u[e],a),f=vD(Ne(Ne({className:n},l),{},{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:m})),{props:{component:g},internalRef:x}=f,v=ke(f.props,wD),b=hD(x,null===m||void 0===m?void 0:m.ref,t.ref),y="root"===e?g||c:g;return[p,mD(p,Ne(Ne(Ne(Ne(Ne(Ne({},"root"===e&&!c&&!d[e]&&i),"root"!==e&&!d[e]&&i),v),y&&!o&&{as:y}),y&&o&&{component:y}),{},{ref:b}),a)]}function ND(e){return GP("MuiAlert",e)}const kD=KP("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);let SD=0;const CD=Ne({},r).useId;function _D(e){if(void 0!==CD){const t=CD();return null!==e&&void 0!==e?e:t}return function(e){const[n,r]=t.useState(e),a=e||n;return t.useEffect(()=>{null==n&&(SD+=1,r("mui-".concat(SD)))},[n]),a}(e)}const PD=_D;function AD(e){try{return e.matches(":focus-visible")}catch(Bx){0}return!1}const DD=hD,TD="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;const LD=function(e){const n=t.useRef(e);return TD(()=>{n.current=e}),t.useRef(function(){return(0,n.current)(...arguments)}).current},ED=LD,ID={};function RD(e,n){const r=t.useRef(ID);return r.current===ID&&(r.current=e(n)),r}class MD{static create(){return new MD}static use(){const e=RD(MD.create).current,[n,r]=t.useState(!1);return e.shouldMount=n,e.setShouldMount=r,t.useEffect(e.mountEffect,[n]),e}constructor(){(0,we.A)(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())}),this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.start(...t)})}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.stop(...t)})}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.pulsate(...t)})}}const FD=t.createContext(null);function OD(e,n){var r=Object.create(null);return e&&t.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)}),r}function zD(e,t,n){return null!=n[t]?n[t]:e.props[t]}function BD(e,n,r){var a=OD(e.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),s=[];for(var i in e)i in t?s.length&&(a[i]=s,s=[]):s.push(i);var o={};for(var l in t){if(a[l])for(r=0;r<a[l].length;r++){var c=a[l][r];o[a[l][r]]=n(c)}o[l]=n(l)}for(r=0;r<s.length;r++)o[s[r]]=n(s[r]);return o}(n,a);return Object.keys(s).forEach(function(i){var o=s[i];if((0,t.isValidElement)(o)){var l=i in n,c=i in a,d=n[i],u=(0,t.isValidElement)(d)&&!d.props.in;!c||l&&!u?c||!l||u?c&&l&&(0,t.isValidElement)(d)&&(s[i]=(0,t.cloneElement)(o,{onExited:r.bind(null,o),in:d.props.in,exit:zD(o,"exit",e),enter:zD(o,"enter",e)})):s[i]=(0,t.cloneElement)(o,{in:!1}):s[i]=(0,t.cloneElement)(o,{onExited:r.bind(null,o),in:!0,exit:zD(o,"exit",e),enter:zD(o,"enter",e)})}}),s}var UD=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},qD=function(e){function n(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}i(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,a,s=n.children,i=n.handleExited;return{children:n.firstRender?(r=e,a=i,OD(r.children,function(e){return(0,t.cloneElement)(e,{onExited:a.bind(null,e),in:!0,appear:zD(e,"appear",r),enter:zD(e,"enter",r),exit:zD(e,"exit",r)})})):BD(e,s,i),firstRender:!1}},r.handleExited=function(e,t){var n=OD(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=c({},t.children);return delete n[e.key],{children:n}}))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,a=z(e,["component","childFactory"]),s=this.state.contextValue,i=UD(this.state.children).map(r);return delete a.appear,delete a.enter,delete a.exit,null===n?t.createElement(FD.Provider,{value:s},i):t.createElement(FD.Provider,{value:s},t.createElement(n,a,i))},n}(t.Component);qD.propTypes={},qD.defaultProps={component:"div",childFactory:function(e){return e}};const WD=qD,HD=[];class VD{constructor(){(0,we.A)(this,"currentId",null),(0,we.A)(this,"clear",()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)}),(0,we.A)(this,"disposeEffect",()=>this.clear)}static create(){return new VD}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function GD(){const e=RD(VD.create).current;var n;return n=e.disposeEffect,t.useEffect(n,HD),e}const KD=function(e){const{className:n,classes:r,pulsate:a=!1,rippleX:s,rippleY:i,rippleSize:o,in:l,onExited:c,timeout:d}=e,[u,h]=t.useState(!1),p=pk(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),m={width:o,height:o,top:-o/2+i,left:-o/2+s},f=pk(r.child,u&&r.childLeaving,a&&r.childPulsate);return l||u||h(!0),t.useEffect(()=>{if(!l&&null!=c){const e=setTimeout(c,d);return()=>{clearTimeout(e)}}},[c,l,d]),(0,Jn.jsx)("span",{className:p,style:m,children:(0,Jn.jsx)("span",{className:f})})};const YD=KP("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),$D=["center","classes","className"];var JD,XD,QD,ZD;const eT=rA(JD||(JD=QP(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))),tT=rA(XD||(XD=QP(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))),nT=rA(QD||(QD=QP(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))),rT=yA("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),aT=yA(KD,{name:"MuiTouchRipple",slot:"Ripple"})(ZD||(ZD=QP(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),YD.rippleVisible,eT,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},YD.ripplePulsate,e=>{let{theme:t}=e;return t.transitions.duration.shorter},YD.child,YD.childLeaving,tT,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},YD.childPulsate,nT,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),sT=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:s={},className:i}=r,o=ke(r,$D),[l,c]=t.useState([]),d=t.useRef(0),u=t.useRef(null);t.useEffect(()=>{u.current&&(u.current(),u.current=null)},[l]);const h=t.useRef(!1),p=GD(),m=t.useRef(null),f=t.useRef(null),g=t.useCallback(e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:a,cb:i}=e;c(e=>[...e,(0,Jn.jsx)(aT,{classes:{ripple:pk(s.ripple,YD.ripple),rippleVisible:pk(s.rippleVisible,YD.rippleVisible),ripplePulsate:pk(s.ripplePulsate,YD.ripplePulsate),child:pk(s.child,YD.child),childLeaving:pk(s.childLeaving,YD.childLeaving),childPulsate:pk(s.childPulsate,YD.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a},d.current)]),d.current+=1,u.current=i},[s]),x=t.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:s=a||t.pulsate,fakeElement:i=!1}=t;if("mousedown"===(null===e||void 0===e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null===e||void 0===e?void 0:e.type)&&(h.current=!0);const o=i?null:f.current,l=o?o.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,d,u;if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),d=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),d=Math.round(n-l.top)}if(s)u=Math.sqrt((2*l.width**2+l.height**2)/3),u%2===0&&(u+=1);else{const e=2*Math.max(Math.abs((o?o.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((o?o.clientHeight:0)-d),d)+2;u=Math.sqrt(e**2+t**2)}null!==e&&void 0!==e&&e.touches?null===m.current&&(m.current=()=>{g({pulsate:r,rippleX:c,rippleY:d,rippleSize:u,cb:n})},p.start(80,()=>{m.current&&(m.current(),m.current=null)})):g({pulsate:r,rippleX:c,rippleY:d,rippleSize:u,cb:n})},[a,g,p]),v=t.useCallback(()=>{x({},{pulsate:!0})},[x]),b=t.useCallback((e,t)=>{if(p.clear(),"touchend"===(null===e||void 0===e?void 0:e.type)&&m.current)return m.current(),m.current=null,void p.start(0,()=>{b(e,t)});m.current=null,c(e=>e.length>0?e.slice(1):e),u.current=t},[p]);return t.useImperativeHandle(n,()=>({pulsate:v,start:x,stop:b}),[v,x,b]),(0,Jn.jsx)(rT,Ne(Ne({className:pk(YD.root,s.root,i),ref:f},o),{},{children:(0,Jn.jsx)(WD,{component:null,exit:!0,children:l})}))}),iT=sT;function oT(e){return GP("MuiButtonBase",e)}const lT=KP("MuiButtonBase",["root","disabled","focusVisible"]),cT=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],dT=yA("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(lT.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),uT=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:s=!1,children:i,className:o,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:u=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:f,onClick:g,onContextMenu:x,onDragLeave:v,onFocus:b,onFocusVisible:y,onKeyDown:w,onKeyUp:j,onMouseDown:N,onMouseLeave:k,onMouseUp:S,onTouchEnd:C,onTouchMove:_,onTouchStart:P,tabIndex:A=0,TouchRippleProps:D,touchRippleRef:T,type:L}=r,E=ke(r,cT),I=t.useRef(null),R=MD.use(),M=DD(R.ref,T),[F,O]=t.useState(!1);c&&F&&O(!1),t.useImperativeHandle(a,()=>({focusVisible:()=>{O(!0),I.current.focus()}}),[]);const z=R.shouldMount&&!d&&!c;t.useEffect(()=>{F&&h&&!d&&R.pulsate()},[d,h,F,R]);const B=hT(R,"start",N,u),U=hT(R,"stop",x,u),q=hT(R,"stop",v,u),W=hT(R,"stop",S,u),H=hT(R,"stop",e=>{F&&e.preventDefault(),k&&k(e)},u),V=hT(R,"start",P,u),G=hT(R,"stop",C,u),K=hT(R,"stop",_,u),Y=hT(R,"stop",e=>{AD(e.target)||O(!1),f&&f(e)},!1),$=ED(e=>{I.current||(I.current=e.currentTarget),AD(e.target)&&(O(!0),y&&y(e)),b&&b(e)}),J=()=>{const e=I.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},X=ED(e=>{h&&!e.repeat&&F&&" "===e.key&&R.stop(e,()=>{R.start(e)}),e.target===e.currentTarget&&J()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&J()&&"Enter"===e.key&&!c&&(e.preventDefault(),g&&g(e))}),Q=ED(e=>{h&&" "===e.key&&F&&!e.defaultPrevented&&R.stop(e,()=>{R.pulsate(e)}),j&&j(e),g&&e.target===e.currentTarget&&J()&&" "===e.key&&!e.defaultPrevented&&g(e)});let Z=l;"button"===Z&&(E.href||E.to)&&(Z=m);const ee={};if("button"===Z){const e=!!E.formAction;ee.type=void 0!==L||e?L:"button",ee.disabled=c}else E.href||E.to||(ee.role="button"),c&&(ee["aria-disabled"]=c);const te=DD(n,I),ne=Ne(Ne({},r),{},{centerRipple:s,component:l,disabled:c,disableRipple:d,disableTouchRipple:u,focusRipple:h,tabIndex:A,focusVisible:F}),re=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:a}=e,s=ZP({root:["root",t&&"disabled",n&&"focusVisible"]},oT,a);return n&&r&&(s.root+=" ".concat(r)),s})(ne);return(0,Jn.jsxs)(dT,Ne(Ne(Ne({as:Z,className:pk(re.root,o),ownerState:ne,onBlur:Y,onClick:g,onContextMenu:U,onFocus:$,onKeyDown:X,onKeyUp:Q,onMouseDown:B,onMouseLeave:H,onMouseUp:W,onDragLeave:q,onTouchEnd:G,onTouchMove:K,onTouchStart:V,ref:te,tabIndex:c?-1:A,type:L},ee),E),{},{children:[i,z?(0,Jn.jsx)(iT,Ne({ref:M,center:s},D)):null]}))});function hT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ED(a=>(n&&n(a),r||e[t](a),!0))}const pT=uT;function mT(e){return GP("MuiIconButton",e)}const fT=KP("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),gT=["edge","children","className","color","disabled","disableFocusRipple","size","id","loading","loadingIndicator"],xT=yA(pT,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,"default"!==n.color&&t["color".concat(_A(n.color))],n.edge&&t["edge".concat(_A(n.edge))],t["size".concat(_A(n.size))]]}})(jA(e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),jA(e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(PA()).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}),...Object.entries(t.palette).filter(PA()).map(e=>{let[n]=e;return{props:{color:n},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],["&.".concat(fT.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},["&.".concat(fT.loading)]:{color:"transparent"}}})),vT=yA("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}}),bT=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiIconButton"}),{edge:r=!1,children:a,className:s,color:i="default",disabled:o=!1,disableFocusRipple:l=!1,size:c="medium",id:d,loading:u=null,loadingIndicator:h}=n,p=ke(n,gT),m=PD(d),f=null!==h&&void 0!==h?h:(0,Jn.jsx)(VA,{"aria-labelledby":m,color:"inherit",size:16}),g=Ne(Ne({},n),{},{edge:r,color:i,disabled:o,disableFocusRipple:l,loading:u,loadingIndicator:f,size:c}),x=(e=>{const{classes:t,disabled:n,color:r,edge:a,size:s,loading:i}=e;return ZP({root:["root",i&&"loading",n&&"disabled","default"!==r&&"color".concat(_A(r)),a&&"edge".concat(_A(a)),"size".concat(_A(s))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},mT,t)})(g);return(0,Jn.jsxs)(xT,Ne(Ne({id:u?m:d,className:pk(x.root,s),centerRipple:!0,focusRipple:!l,disabled:o||u,ref:t},p),{},{ownerState:g,children:["boolean"===typeof u&&(0,Jn.jsx)("span",{className:x.loadingWrapper,style:{display:"contents"},children:(0,Jn.jsx)(vT,{className:x.loadingIndicator,ownerState:g,children:u&&f})}),a]}))}),yT=bT;function wT(e){return GP("MuiSvgIcon",e)}KP("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const jT=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],NT=yA("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(_A(n.color))],t["fontSize".concat(_A(n.fontSize))]]}})(jA(e=>{var t,n,r,a,s,i,o,l,c,d,u,h,p,m,f;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(a=g.vars)&&void 0!==a?a:g).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(s=g.typography)||void 0===s||null===(i=s.pxToRem)||void 0===i?void 0:i.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(o=g.typography)||void 0===o||null===(l=o.pxToRem)||void 0===l?void 0:l.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=g.typography)||void 0===c||null===(d=c.pxToRem)||void 0===d?void 0:d.call(c,35))||"2.1875rem"}},...Object.entries((null!==(u=g.vars)&&void 0!==u?u:g).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=g.vars)&&void 0!==n?n:g).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}}),{props:{color:"action"},style:{color:null===(h=(null!==(p=g.vars)&&void 0!==p?p:g).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.active}},{props:{color:"disabled"},style:{color:null===(m=(null!==(f=g.vars)&&void 0!==f?f:g).palette)||void 0===m||null===(m=m.action)||void 0===m?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),kT=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiSvgIcon"}),{children:a,className:s,color:i="inherit",component:o="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:u,viewBox:h="0 0 24 24"}=r,p=ke(r,jT),m=t.isValidElement(a)&&"svg"===a.type,f=Ne(Ne({},r),{},{color:i,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:h,hasSvgAsChild:m}),g={};d||(g.viewBox=h);const x=(e=>{const{color:t,fontSize:n,classes:r}=e;return ZP({root:["root","inherit"!==t&&"color".concat(_A(t)),"fontSize".concat(_A(n))]},wT,r)})(f);return(0,Jn.jsxs)(NT,Ne(Ne(Ne(Ne({as:o,className:pk(x.root,s),focusable:"false",color:c,"aria-hidden":!u||void 0,role:u?"img":void 0,ref:n},g),p),m&&a.props),{},{ownerState:f,children:[m?a.props.children:a,u?(0,Jn.jsx)("title",{children:u}):null]}))});kT.muiName="SvgIcon";const ST=kT;function CT(e,n){function r(t,n){return(0,Jn.jsx)(ST,Ne(Ne({"data-testid":void 0,ref:n},t),{},{children:e}))}return r.muiName=ST.muiName,t.memo(t.forwardRef(r))}const _T=CT((0,Jn.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),PT=CT((0,Jn.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),AT=CT((0,Jn.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),DT=CT((0,Jn.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),TT=CT((0,Jn.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),LT=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],ET=yA(uD,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(_A(n.color||n.severity))]]}})(jA(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.darken:t.lighten,r="light"===t.palette.mode?t.lighten:t.darken;return Ne(Ne({},t.typography.body2),{},{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(PA(["light"])).map(e=>{let[a]=e;return{props:{colorSeverity:a,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:n(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(a,"StandardBg")]:r(t.palette[a].light,.9),["& .".concat(kD.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}}}}),...Object.entries(t.palette).filter(PA(["light"])).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:n(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(kD.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}}),...Object.entries(t.palette).filter(PA(["dark"])).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:Ne({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(n,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(n,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}})]})})),IT=yA("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),RT=yA("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),MT=yA("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),FT={success:(0,Jn.jsx)(_T,{fontSize:"inherit"}),warning:(0,Jn.jsx)(PT,{fontSize:"inherit"}),error:(0,Jn.jsx)(AT,{fontSize:"inherit"}),info:(0,Jn.jsx)(DT,{fontSize:"inherit"})},OT=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiAlert"}),{action:r,children:a,className:s,closeText:i="Close",color:o,components:l={},componentsProps:c={},icon:d,iconMapping:u=FT,onClose:h,role:p="alert",severity:m="success",slotProps:f={},slots:g={},variant:x="standard"}=n,v=ke(n,LT),b=Ne(Ne({},n),{},{color:o,severity:m,variant:x,colorSeverity:o||m}),y=(e=>{const{variant:t,color:n,severity:r,classes:a}=e;return ZP({root:["root","color".concat(_A(n||r)),"".concat(t).concat(_A(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},ND,a)})(b),w={slots:Ne({closeButton:l.CloseButton,closeIcon:l.CloseIcon},g),slotProps:Ne(Ne({},c),f)},[j,N]=jD("root",{ref:t,shouldForwardComponentProp:!0,className:pk(y.root,s),elementType:ET,externalForwardedProps:Ne(Ne({},w),v),ownerState:b,additionalProps:{role:p,elevation:0}}),[k,S]=jD("icon",{className:y.icon,elementType:IT,externalForwardedProps:w,ownerState:b}),[C,_]=jD("message",{className:y.message,elementType:RT,externalForwardedProps:w,ownerState:b}),[P,A]=jD("action",{className:y.action,elementType:MT,externalForwardedProps:w,ownerState:b}),[D,T]=jD("closeButton",{elementType:yT,externalForwardedProps:w,ownerState:b}),[L,E]=jD("closeIcon",{elementType:TT,externalForwardedProps:w,ownerState:b});return(0,Jn.jsxs)(j,Ne(Ne({},N),{},{children:[!1!==d?(0,Jn.jsx)(k,Ne(Ne({},S),{},{children:d||u[m]})):null,(0,Jn.jsx)(C,Ne(Ne({},_),{},{children:a})),null!=r?(0,Jn.jsx)(P,Ne(Ne({},A),{},{children:r})):null,null==r&&h?(0,Jn.jsx)(P,Ne(Ne({},A),{},{children:(0,Jn.jsx)(D,Ne(Ne({size:"small","aria-label":i,title:i,color:"inherit",onClick:h},T),{},{children:(0,Jn.jsx)(L,Ne({fontSize:"small"},E))}))})):null]}))}),zT=OT,BT=CT((0,Jn.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),UT=e=>{let{message:t="An error occurred"}=e;return(0,Jn.jsx)(XP,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 70px)",py:4},children:(0,Jn.jsxs)(uD,{elevation:3,sx:{p:3,maxWidth:"600px",width:"100%",borderRadius:2},children:[(0,Jn.jsx)(zT,{severity:"error",icon:(0,Jn.jsx)(BT,{fontSize:"inherit"}),sx:{mb:2},children:"Error"}),(0,Jn.jsx)(aD,{variant:"body1",color:"text.secondary",children:t})]})})},qT=e=>{let{pickupCoordinates:n,dropoffCoordinates:r,pickupLocation:a,dropoffLocation:s}=e;const[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),d=(0,t.useRef)(null),u=(0,t.useRef)(null),h=(0,t.useRef)([]),p=()=>{if(window.google&&n&&r)try{const e=new window.google.maps.LatLng(n.lat,n.lng),t=new window.google.maps.LatLng(r.lat,r.lng),i=new window.google.maps.Map(d.current,{center:e,zoom:12,mapTypeId:window.google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{style:window.google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:window.google.maps.ControlPosition.TOP_RIGHT},fullscreenControl:!0,streetViewControl:!0,zoomControl:!0});u.current=i;const l=new window.google.maps.LatLngBounds;l.extend(e),l.extend(t);const c=new window.google.maps.Marker({position:e,map:i,title:"Pickup Location",label:"P",animation:window.google.maps.Animation.DROP,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#4CAF50",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF"}}),p=new window.google.maps.Marker({position:t,map:i,title:"Dropoff Location",label:"D",animation:window.google.maps.Animation.DROP,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#F44336",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF"}});h.current=[c,p];const m=new window.google.maps.InfoWindow({content:'\n          <div style="padding: 8px;">\n            <strong>Pickup Location</strong><br/>\n            '.concat(a||"Unknown location","\n          </div>\n        ")}),f=new window.google.maps.InfoWindow({content:'\n          <div style="padding: 8px;">\n            <strong>Dropoff Location</strong><br/>\n            '.concat(s||"Unknown location","\n          </div>\n        ")});if(c.addListener("click",()=>{f.close(),m.open(i,c)}),p.addListener("click",()=>{m.close(),f.open(i,p)}),window.google.maps.DirectionsService){const n=new window.google.maps.DirectionsService,r=new window.google.maps.DirectionsRenderer({map:i,suppressMarkers:!0,polylineOptions:{strokeColor:"#2196F3",strokeWeight:5,strokeOpacity:.7}});n.route({origin:e,destination:t,travelMode:window.google.maps.TravelMode.DRIVING},(n,a)=>{"OK"===a?r.setDirections(n):(console.warn("Directions request failed due to "+a),new window.google.maps.Polyline({path:[e,t],geodesic:!0,strokeColor:"#2196F3",strokeOpacity:.7,strokeWeight:5,map:i}))})}else new window.google.maps.Polyline({path:[e,t],geodesic:!0,strokeColor:"#2196F3",strokeOpacity:.7,strokeWeight:5,map:i});i.fitBounds(l);const g=()=>{const e=l.getNorthEast(),t=l.getSouthWest(),n=e.lat()-t.lat(),r=e.lng()-t.lng();l.extend(new window.google.maps.LatLng(e.lat()+.1*n,e.lng()+.1*r)),l.extend(new window.google.maps.LatLng(t.lat()-.1*n,t.lng()-.1*r)),i.fitBounds(l)};g();const x=15;window.google.maps.event.addListenerOnce(i,"bounds_changed",()=>{i.getZoom()>x&&i.setZoom(x)}),o(!0)}catch(Bx){console.error("Error initializing map:",Bx),c("Failed to initialize the map. Please try again later.")}else c("Map could not be loaded or coordinates are missing")};return(0,t.useEffect)(()=>{if(!n||!r)return void c("Pickup or dropoff coordinates are missing");if(window.google&&window.google.maps)return void p();const e=document.createElement("script");return e.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyBTln9AbQ0K-CTbVrcFNQc0LHlt3Y4J1Pc","&libraries=places"),e.async=!0,e.defer=!0,e.onload=p,e.onerror=()=>c("Failed to load Google Maps API"),document.head.appendChild(e),()=>{e.parentNode&&e.parentNode.removeChild(e)}},[n,r]),(0,t.useEffect)(()=>()=>{h.current&&h.current.forEach(e=>{e&&e.setMap(null)})},[]),l?(0,Jn.jsx)("div",{className:"p-4 text-center h-full flex items-center justify-center bg-white shadow-sm rounded-lg border border-red-200",children:(0,Jn.jsx)("p",{className:"text-red-500 font-medium",children:l})}):(0,Jn.jsxs)("div",{className:"relative h-full w-full",children:[(0,Jn.jsx)("div",{ref:d,className:"h-full w-full rounded-lg"}),!i&&(0,Jn.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/70 rounded-lg",children:(0,Jn.jsx)("p",{className:"font-medium text-gray-600",children:"Loading map..."})}),(0,Jn.jsxs)("div",{className:"absolute bottom-4 left-4 bg-white p-3 rounded-lg shadow-md border border-gray-100 max-w-[250px]",children:[(0,Jn.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Jn.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2 shrink-0"}),(0,Jn.jsxs)("div",{className:"overflow-hidden",children:[(0,Jn.jsx)("span",{className:"font-bold text-xs mr-1 text-gray-800",children:"P:"}),(0,Jn.jsx)("span",{className:"text-xs text-gray-500 truncate block",children:a||"Pickup"})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center",children:[(0,Jn.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-2 shrink-0"}),(0,Jn.jsxs)("div",{className:"overflow-hidden",children:[(0,Jn.jsx)("span",{className:"font-bold text-xs mr-1 text-gray-800",children:"D:"}),(0,Jn.jsx)("span",{className:"text-xs text-gray-500 truncate block",children:s||"Dropoff"})]})]})]})]})},WT=()=>{const{id:e}=ue(),n=ce(),[r,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{i(!0);const t=localStorage.getItem("token");if(!t)return l("Authentication token missing. Please login again."),void i(!1);Gn.defaults.headers.common.Authorization="Bearer ".concat(t);const n=await Gn.get("/api/clients/deliveries/".concat(e));a(n.data)}catch(o){var t,n;console.error("Error fetching delivery details:",o),l((null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load delivery details")}finally{i(!1)}})()},[e]);return s?(0,Jn.jsx)(sD,{}):o?(0,Jn.jsx)(UT,{message:o}):r?(0,Jn.jsxs)("div",{className:"w-full max-w-[1400px] mx-auto p-4 md:p-8 bg-slate-50 min-h-screen",children:[(0,Jn.jsx)("div",{className:"mb-6",children:(0,Jn.jsxs)("button",{onClick:()=>n.push("/client/deliveries"),className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 transition-colors font-medium",children:[(0,Jn.jsx)(ja,{})," Back to Deliveries"]})}),(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,Jn.jsxs)("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Delivery Details"}),(0,Jn.jsxs)("p",{className:"text-gray-500 text-sm font-mono",children:["ID: #",r.DeliveryID]})]}),(0,Jn.jsxs)("div",{className:"px-4 py-2 rounded-full border text-sm font-bold uppercase tracking-wide flex items-center gap-2 ".concat((e=>{switch(e){case"pending":return"bg-amber-100 text-amber-700 border-amber-200";case"in-progress":return"bg-blue-100 text-blue-700 border-blue-200";case"completed":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}})(r.DeliveryStatus)),children:["completed"===r.DeliveryStatus&&(0,Jn.jsx)(Ea,{}),"cancelled"===r.DeliveryStatus&&(0,Jn.jsx)(ws,{}),"in-progress"===r.DeliveryStatus&&(0,Jn.jsx)(ks,{}),"pending"===r.DeliveryStatus&&(0,Jn.jsx)(Fa,{}),r.DeliveryStatus]})]}),(0,Jn.jsx)("div",{className:"p-6",children:(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 h-full",children:[(0,Jn.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2 border-b border-gray-200 pb-3",children:[(0,Jn.jsx)(ks,{className:"text-blue-600"})," Truck Information"]}),(0,Jn.jsxs)("div",{className:"space-y-3",children:[(0,Jn.jsxs)("div",{className:"flex justify-between",children:[(0,Jn.jsx)("span",{className:"text-gray-500 text-sm",children:"Truck ID"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-800",children:r.TruckID})]}),(0,Jn.jsxs)("div",{className:"flex justify-between",children:[(0,Jn.jsx)("span",{className:"text-gray-500 text-sm",children:"Truck Plate"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-800",children:r.TruckPlate||"N/A"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between",children:[(0,Jn.jsx)("span",{className:"text-gray-500 text-sm",children:"Truck Type"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-800",children:r.TruckType||"N/A"})]}),r.DriverName&&(0,Jn.jsxs)("div",{className:"flex justify-between",children:[(0,Jn.jsx)("span",{className:"text-gray-500 text-sm",children:"Driver"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-800",children:r.DriverName})]}),r.HelperName&&(0,Jn.jsxs)("div",{className:"flex justify-between",children:[(0,Jn.jsx)("span",{className:"text-gray-500 text-sm",children:"Helper"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-800",children:r.HelperName})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 h-full",children:[(0,Jn.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2 border-b border-gray-200 pb-3",children:[(0,Jn.jsx)(Pa,{className:"text-blue-600"})," Schedule & Cost"]}),(0,Jn.jsxs)("div",{className:"space-y-3",children:[(0,Jn.jsxs)("div",{className:"flex justify-between",children:[(0,Jn.jsx)("span",{className:"text-gray-500 text-sm",children:"Scheduled For"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-800",children:(e=>{if(!e)return"N/A";const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)})(r.DeliveryDate)})]}),(0,Jn.jsxs)("div",{className:"flex justify-between",children:[(0,Jn.jsx)("span",{className:"text-gray-500 text-sm",children:"Estimated Distance"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-800",children:r.DeliveryDistance?"".concat(r.DeliveryDistance," km"):"N/A"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between",children:[(0,Jn.jsx)("span",{className:"text-gray-500 text-sm",children:"Estimated Duration"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-800",children:r.EstimatedDuration?"".concat(r.EstimatedDuration," minutes"):"N/A"})]}),(0,Jn.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 mt-2",children:[(0,Jn.jsx)("span",{className:"text-gray-600 font-bold",children:"Total Cost"}),(0,Jn.jsxs)("span",{className:"text-xl font-bold text-emerald-600 flex items-center gap-1",children:[(0,Jn.jsx)(is,{className:"text-emerald-500 text-sm"}),"$",r.DeliveryRate||"N/A"]})]})]})]}),(0,Jn.jsxs)("div",{className:"md:col-span-2 bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200 pb-3",children:[(0,Jn.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,Jn.jsx)(rs,{className:"text-blue-600"})," Location Details"]}),(0,Jn.jsxs)("button",{onClick:()=>{d(!c)},className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 transition-all shadow-sm flex items-center gap-2",children:[(0,Jn.jsx)(ss,{})," ",c?"Hide Map":"Show Map"]})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-4",children:[(0,Jn.jsxs)("div",{className:"relative pl-8 border-l-2 border-blue-200",children:[(0,Jn.jsx)("div",{className:"absolute left-[-9px] top-0 w-4 h-4 rounded-full bg-blue-500 border-4 border-white shadow-sm"}),(0,Jn.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Pickup Location"}),(0,Jn.jsx)("p",{className:"text-gray-800 font-medium text-lg",children:r.PickupLocation||"N/A"})]}),(0,Jn.jsxs)("div",{className:"relative pl-8 border-l-2 border-amber-200",children:[(0,Jn.jsx)("div",{className:"absolute left-[-9px] top-0 w-4 h-4 rounded-full bg-amber-500 border-4 border-white shadow-sm"}),(0,Jn.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Drop-off Location"}),(0,Jn.jsx)("p",{className:"text-gray-800 font-medium text-lg",children:r.DeliveryAddress||"N/A"})]})]}),c&&(0,Jn.jsx)("div",{className:"mt-6 rounded-xl overflow-hidden shadow-md border border-gray-200 h-[400px]",children:(0,Jn.jsx)(qT,{pickupCoordinates:r.pickupCoordinates||r.PickupCoordinates,dropoffCoordinates:r.dropoffCoordinates||r.DropoffCoordinates,pickupLocation:r.PickupLocation,dropoffLocation:r.DeliveryAddress})})]}),(0,Jn.jsxs)("div",{className:"md:col-span-2 bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[(0,Jn.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-6 flex items-center gap-2",children:[(0,Jn.jsx)(Fa,{className:"text-blue-600"})," Delivery Progress"]}),(()=>{let e=0,t="",n="bg-blue-600",a="text-blue-600";switch(r.DeliveryStatus){case"pending":e=25,t="Your delivery is scheduled and pending pickup",n="bg-amber-500",a="text-amber-600";break;case"in-progress":e=75,t="Your delivery is currently in transit",n="bg-blue-600",a="text-blue-600";break;case"completed":e=100,t="Your delivery has been completed successfully",n="bg-emerald-500",a="text-emerald-600";break;case"cancelled":e=100,t="This delivery has been cancelled",n="bg-red-500",a="text-red-600";break;default:e=0,t="Unknown status"}return(0,Jn.jsxs)("div",{className:"w-full",children:[(0,Jn.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-4 mb-4 overflow-hidden",children:(0,Jn.jsx)("div",{className:"h-4 rounded-full transition-all duration-1000 ease-out ".concat(n),style:{width:"".concat(e,"%")}})}),(0,Jn.jsxs)("div",{className:"text-center font-medium ".concat(a," flex items-center justify-center gap-2"),children:["completed"===r.DeliveryStatus?(0,Jn.jsx)(Ea,{}):(0,Jn.jsx)(ks,{}),t]})]})})()]})]})})]})]}):(0,Jn.jsx)(UT,{message:"Delivery not found"})},HT=()=>{const e=ce(),[n,r]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[i,o]=(0,t.useState)(""),[l,c]=(0,t.useState)("all");(0,t.useEffect)(()=>{d()},[]);const d=async()=>{try{const t=localStorage.getItem("token");if(!t)return void e.push("/login");Gn.defaults.headers.common.Authorization="Bearer ".concat(t);const n=await Gn.get("/api/clients/deliveries");r(n.data),s(!1)}catch(Bx){console.error("Error fetching deliveries:",Bx),s(!1)}},u=n.filter(e=>{var t,n,r;const a=(null===(t=e.DeliveryID)||void 0===t?void 0:t.toString().includes(i))||(null===(n=e.PickupLocation)||void 0===n?void 0:n.toLowerCase().includes(i.toLowerCase()))||(null===(r=e.DeliveryAddress)||void 0===r?void 0:r.toLowerCase().includes(i.toLowerCase())),s="all"===l||e.DeliveryStatus===l;return a&&s});return a?(0,Jn.jsx)(Os,{}):(0,Jn.jsxs)("div",{className:"w-full max-w-[1400px] mx-auto p-4 md:p-8 bg-slate-50 min-h-screen",children:[(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 pb-4 border-b border-gray-200 gap-4",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-3",children:[(0,Jn.jsx)(ks,{className:"text-blue-600"})," My Deliveries"]}),(0,Jn.jsx)("p",{className:"text-gray-500 mt-1",children:"View and manage all your delivery requests"})]}),(0,Jn.jsx)(ve,{to:"/client/profile",className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-bold shadow-md shadow-blue-500/20 transition-all hover:-translate-y-0.5",children:"Book New Delivery"})]}),(0,Jn.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-6",children:(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Jn.jsxs)("div",{className:"relative",children:[(0,Jn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Jn.jsx)(hs,{className:"text-gray-400"})}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by ID or Location...",value:i,onChange:e=>{o(e.target.value)},className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),(0,Jn.jsxs)("div",{className:"relative",children:[(0,Jn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Jn.jsx)($a,{className:"text-gray-400"})}),(0,Jn.jsxs)("select",{value:l,onChange:e=>{c(e.target.value)},className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all appearance-none bg-white cursor-pointer",children:[(0,Jn.jsx)("option",{value:"all",children:"All Statuses"}),(0,Jn.jsx)("option",{value:"pending",children:"Pending"}),(0,Jn.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,Jn.jsx)("option",{value:"completed",children:"Completed"}),(0,Jn.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,Jn.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400",children:(0,Jn.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Jn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})}),(0,Jn.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,Jn.jsx)("div",{className:"overflow-x-auto",children:(0,Jn.jsxs)("table",{className:"w-full border-collapse",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100 text-left",children:[(0,Jn.jsx)("th",{className:"p-4 pl-6 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"ID"}),(0,Jn.jsx)("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Jn.jsx)("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Locations"}),(0,Jn.jsx)("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Jn.jsx)("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Truck"}),(0,Jn.jsx)("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Price"}),(0,Jn.jsx)("th",{className:"p-4 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,Jn.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[u.map(t=>{return(0,Jn.jsxs)("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[(0,Jn.jsx)("td",{className:"p-4 pl-6 whitespace-nowrap",children:(0,Jn.jsxs)("span",{className:"font-mono text-xs font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded border border-blue-100",children:["#",t.DeliveryID]})}),(0,Jn.jsx)("td",{className:"p-4 whitespace-nowrap",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,Jn.jsx)(Pa,{className:"text-gray-400"}),(0,Jn.jsx)("span",{className:"text-sm font-medium",children:(r=t.DeliveryDate,r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")})]})}),(0,Jn.jsx)("td",{className:"p-4 min-w-[250px]",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,Jn.jsx)(rs,{className:"text-blue-500 flex-shrink-0"}),(0,Jn.jsx)("span",{className:"truncate max-w-[200px]",title:t.PickupLocation,children:t.PickupLocation})]}),(0,Jn.jsx)("div",{className:"ml-1 border-l-2 border-gray-200 pl-3 py-0.5 text-xs text-gray-400",children:"to"}),(0,Jn.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,Jn.jsx)(rs,{className:"text-amber-500 flex-shrink-0"}),(0,Jn.jsx)("span",{className:"truncate max-w-[200px]",title:t.DeliveryAddress,children:t.DeliveryAddress})]})]})}),(0,Jn.jsx)("td",{className:"p-4 whitespace-nowrap",children:(0,Jn.jsx)(Bm,{status:t.DeliveryStatus})}),(0,Jn.jsx)("td",{className:"p-4 whitespace-nowrap",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,Jn.jsx)(ks,{className:"text-gray-400"}),(0,Jn.jsx)("span",{className:"text-sm",children:t.TruckPlate||"N/A"})]})}),(0,Jn.jsx)("td",{className:"p-4 whitespace-nowrap",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,Jn.jsx)(is,{className:"text-emerald-500"}),(0,Jn.jsx)("span",{className:"text-sm font-bold text-emerald-700",children:t.Price?(n=t.Price,new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(n)):"N/A"})]})}),(0,Jn.jsx)("td",{className:"p-4 pr-6 text-center whitespace-nowrap",children:(0,Jn.jsx)("button",{onClick:()=>e.push("/client/deliveries/".concat(t.DeliveryID)),className:"inline-flex items-center justify-center w-8 h-8 rounded-lg bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600 border border-transparent hover:border-blue-200 transition-all",title:"View Details",children:(0,Jn.jsx)(Ga,{})})})]},t.DeliveryID);var n,r}),0===u.length&&(0,Jn.jsx)("tr",{children:(0,Jn.jsx)("td",{colSpan:"7",className:"p-12 text-center text-gray-500",children:(0,Jn.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,Jn.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,Jn.jsx)(Ca,{className:"text-2xl text-gray-300"})}),(0,Jn.jsx)("h3",{className:"text-lg font-bold text-gray-700 mb-1",children:"No deliveries found"}),(0,Jn.jsx)("p",{className:"text-sm text-gray-400",children:"Try adjusting your search or filters"})]})})})]})]})}),(0,Jn.jsx)("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50 flex items-center justify-between",children:(0,Jn.jsxs)("span",{className:"text-xs font-medium text-gray-500",children:["Showing ",u.length," of ",n.length," ","deliveries"]})})]})]})},VT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function GT(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const KT={date:GT({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:GT({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:GT({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},YT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function $T(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function JT(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(i)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}var XT;const QT={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=VT[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:KT,formatRelative:(e,t,n,r)=>YT[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:$T({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:$T({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:$T({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:$T({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:$T({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(XT={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(XT.matchPattern);if(!n)return null;const r=n[0],a=e.match(XT.parsePattern);if(!a)return null;let s=XT.valueCallback?XT.valueCallback(a[0]):a[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:JT({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:JT({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:JT({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:JT({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:JT({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let ZT={};function eL(){return ZT}Math.pow(10,8);const tL=6048e5,nL=Symbol.for("constructDateFrom");function rL(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&nL in e?e[nL](t):e instanceof Date?new e.constructor(t):new Date(t)}function aL(e,t){return rL(t||e,e)}function sL(e){const t=aL(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function iL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=rL.bind(null,e||n.find(e=>"object"===typeof e));return n.map(a)}function oL(e,t){const n=aL(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function lL(e,t,n){const[r,a]=iL(null===n||void 0===n?void 0:n.in,e,t),s=oL(r),i=oL(a),o=+s-sL(s),l=+i-sL(i);return Math.round((o-l)/864e5)}function cL(e,t){const n=aL(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function dL(e,t){const n=aL(e,null===t||void 0===t?void 0:t.in);return lL(n,cL(n))+1}function uL(e,t){var n,r,a,s,i,o;const l=eL(),c=null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==a?a:l.weekStartsOn)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==n?n:0,d=aL(e,null===t||void 0===t?void 0:t.in),u=d.getDay(),h=(u<c?7:0)+u-c;return d.setDate(d.getDate()-h),d.setHours(0,0,0,0),d}function hL(e,t){return uL(e,Ne(Ne({},t),{},{weekStartsOn:1}))}function pL(e,t){const n=aL(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),a=rL(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=hL(a),i=rL(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=hL(i);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function mL(e,t){const n=pL(e,t),r=rL((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),hL(r)}function fL(e,t){const n=aL(e,null===t||void 0===t?void 0:t.in),r=+hL(n)-+mL(n);return Math.round(r/tL)+1}function gL(e,t){var n,r,a,s,i,o;const l=aL(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),d=eL(),u=null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:d.firstWeekContainsDate)&&void 0!==r?r:null===(o=d.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,h=rL((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,u),h.setHours(0,0,0,0);const p=uL(h,t),m=rL((null===t||void 0===t?void 0:t.in)||e,0);m.setFullYear(c,0,u),m.setHours(0,0,0,0);const f=uL(m,t);return+l>=+p?c+1:+l>=+f?c:c-1}function xL(e,t){var n,r,a,s,i,o;const l=eL(),c=null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:l.firstWeekContainsDate)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,d=gL(e,t),u=rL((null===t||void 0===t?void 0:t.in)||e,0);u.setFullYear(d,0,c),u.setHours(0,0,0,0);return uL(u,t)}function vL(e,t){const n=aL(e,null===t||void 0===t?void 0:t.in),r=+uL(n,t)-+xL(n,t);return Math.round(r/tL)+1}function bL(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const yL={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return bL("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):bL(n+1,2)},d:(e,t)=>bL(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>bL(e.getHours()%12||12,t.length),H:(e,t)=>bL(e.getHours(),t.length),m:(e,t)=>bL(e.getMinutes(),t.length),s:(e,t)=>bL(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return bL(Math.trunc(r*Math.pow(10,n-3)),t.length)}},wL="midnight",jL="noon",NL="morning",kL="afternoon",SL="evening",CL="night",_L={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return yL.y(e,t)},Y:function(e,t,n,r){const a=gL(e,r),s=a>0?a:1-a;if("YY"===t){return bL(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):bL(s,t.length)},R:function(e,t){return bL(pL(e),t.length)},u:function(e,t){return bL(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return bL(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return bL(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return yL.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return bL(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=vL(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):bL(a,t.length)},I:function(e,t,n){const r=fL(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):bL(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):yL.d(e,t)},D:function(e,t,n){const r=dL(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):bL(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return bL(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return bL(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return bL(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?jL:0===r?wL:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?SL:r>=12?kL:r>=4?NL:CL,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return yL.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):yL.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):bL(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):bL(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):yL.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):yL.s(e,t)},S:function(e,t){return yL.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return AL(r);case"XXXX":case"XX":return DL(r);default:return DL(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return AL(r);case"xxxx":case"xx":return DL(r);default:return DL(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+PL(r,":");default:return"GMT"+DL(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+PL(r,":");default:return"GMT"+DL(r,":")}},t:function(e,t,n){return bL(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return bL(+e,t.length)}};function PL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return 0===s?n+String(a):n+String(a)+t+bL(s,2)}function AL(e,t){if(e%60===0){return(e>0?"-":"+")+bL(Math.abs(e)/60,2)}return DL(e,t)}function DL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+bL(Math.trunc(r/60),2)+t+bL(r%60,2)}const TL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},LL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},EL={p:LL,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return TL(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",TL(r,t)).replace("{{time}}",LL(a,t))}},IL=/^D+$/,RL=/^Y+$/,ML=["D","DD","YY","YYYY"];function FL(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function OL(e){return!(!FL(e)&&"number"!==typeof e||isNaN(+aL(e)))}const zL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UL=/^'([^]*?)'?$/,qL=/''/g,WL=/[a-zA-Z]/;function HL(e,t,n){var r,a,s,i,o,l,c,d,u,h,p,m,f,g;const x=eL(),v=null!==(r=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:x.locale)&&void 0!==r?r:QT,b=null!==(s=null!==(i=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:x.firstWeekContainsDate)&&void 0!==i?i:null===(d=x.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:1,y=null!==(u=null!==(h=null!==(p=null!==(m=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==m?m:null===n||void 0===n||null===(f=n.locale)||void 0===f||null===(f=f.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==p?p:x.weekStartsOn)&&void 0!==h?h:null===(g=x.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==u?u:0,w=aL(e,null===n||void 0===n?void 0:n.in);if(!OL(w))throw new RangeError("Invalid time value");let j=t.match(BL).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,EL[t])(e,v.formatLong)}return e}).join("").match(zL).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:VL(e)};if(_L[t])return{isToken:!0,value:e};if(t.match(WL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});v.localize.preprocessor&&(j=v.localize.preprocessor(w,j));const N={firstWeekContainsDate:b,weekStartsOn:y,locale:v};return j.map(r=>{if(!r.isToken)return r.value;const a=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return RL.test(e)}(a))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return IL.test(e)}(a))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),ML.includes(e))throw new RangeError(r)}(a,t,String(e));return(0,_L[a[0]])(w,a,v.localize,N)}).join("")}function VL(e){const t=e.match(UL);return t?t[1].replace(qL,"'"):e}const GL=()=>{var e;const n=ce(),{authUser:r}=(0,t.useContext)(ea)||{authUser:null},[a,s]=(0,t.useState)(null),[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(1),[v,b]=(0,t.useState)(""),[y,w]=(0,t.useState)({show:!1,type:"info",message:""}),[j,N]=(0,t.useState)("all"),[k,S]=(0,t.useState)([]),[C,_]=(0,t.useState)(!1),[P,A]=(0,t.useState)(null),[D,T]=(0,t.useState)({referenceNumber:"",notes:""}),[L,E]=(0,t.useState)(!1),[I,R]=(0,t.useState)({cardNumber:"",expiryMonth:"",expiryYear:"",cvc:"",cardholderName:""}),[M,F]=(0,t.useState)({email:"",phone:"",name:""});(0,t.useEffect)(()=>{z();const e=O();e&&F({email:e.email||"",phone:e.phone||"",name:e.name||""})},[r]);const O=()=>{if(r)return{id:r.id||r.clientId,email:r.email,phone:r.phone,name:r.clientName||r.username||r.name};const e=localStorage.getItem("token");if(e)try{const t=JSON.parse(atob(e.split(".")[1]));return{id:t.id||t.clientId||t.sub,email:t.email,phone:t.phone,name:t.clientName||t.username||t.name}}catch(Oq){console.error("Error parsing token:",Oq)}return null},z=async()=>{try{o(!0);const e=localStorage.getItem("token");if(!e)return void c("Authentication token missing. Please login again.");Gn.defaults.headers.common.Authorization="Bearer ".concat(e);const t=O();if(!t||!t.id)return void c("Unable to identify client. Please login again.");const n=await Gn.get("/api/payments/client/".concat(t.id));s(n.data.data)}catch(l){var e,t;console.error("Error fetching payment summary:",l),c((null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load payment information")}finally{o(!1)}},B=e=>{b(e),x(2)},U=(e,t)=>{let n=t;if(!("cardNumber"===e&&(n=t.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim(),n.length>19))){if("expiryMonth"===e||"expiryYear"===e){if(n=t.replace(/\D/g,""),"expiryMonth"===e&&n.length>2)return;if("expiryYear"===e&&n.length>4)return}"cvc"===e&&(n=t.replace(/\D/g,""),n.length>4)||R(t=>Ne(Ne({},t),{},{[e]:n}))}},q=()=>{"card"===v?(async()=>{try{f(!0);const{cardNumber:e,expiryMonth:t,expiryYear:n,cvc:r,cardholderName:a}=I;if(!e||!t||!n||!r||!a)throw new Error("Please fill in all card details");const s=localStorage.getItem("token"),i=O(),o=await Gn.post("/api/payments/process-card",{deliveryId:d.id,cardDetails:{number:e.replace(/\s/g,""),exp_month:t,exp_year:n,cvc:r},billingDetails:{name:a,email:M.email||(null===i||void 0===i?void 0:i.email),phone:M.phone||(null===i||void 0===i?void 0:i.phone)}},{headers:{Authorization:"Bearer ".concat(s)}});if(!o.data.success)throw new Error(o.data.error||"Payment failed");x(3),await z()}catch(l){var e,t;console.error("Payment error:",l),w({show:!0,type:"error",message:(null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||l.message||"Payment failed"})}finally{f(!1)}})():["gcash","grab_pay","paymaya"].includes(v)&&(async()=>{try{f(!0);const e=localStorage.getItem("token"),t=O(),n=await Gn.post("/api/payments/process-ewallet",{deliveryId:d.id,paymentMethod:v,billingDetails:{name:M.name||(null===t||void 0===t?void 0:t.name),email:M.email||(null===t||void 0===t?void 0:t.email),phone:M.phone||(null===t||void 0===t?void 0:t.phone)}},{headers:{Authorization:"Bearer ".concat(e)}});if(!n.data.success||!n.data.data.checkoutUrl)throw new Error(n.data.error||"Failed to initiate e-wallet payment");window.location.href=n.data.data.checkoutUrl}catch(l){var e,t;console.error("E-Wallet error:",l),w({show:!0,type:"error",message:(null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||l.message||"E-wallet payment failed"}),f(!1)}})()},W=()=>null!==a&&void 0!==a&&a.pendingPayments?"all"===j?a.pendingPayments:a.pendingPayments.filter(e=>{if(!e.dueDate)return!1;const t=new Date(e.dueDate),[n,r]=j.split("-");return t.getFullYear()===parseInt(n)&&t.getMonth()===parseInt(r)-1}):[],H=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e),V=e=>{let t="bg-gray-100 text-gray-600";"paid"===e&&(t="bg-emerald-100 text-emerald-700"),"pending"===e&&(t="bg-amber-100 text-amber-700"),"overdue"===e&&(t="bg-red-100 text-red-700"),"pending_verification"===e&&(t="bg-blue-100 text-blue-700");const n="pending_verification"===e?"Pending Verification":e;return(0,Jn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase ".concat(t),children:n})};return i?(0,Jn.jsx)(Os,{}):(0,Jn.jsxs)("div",{className:"w-full max-w-[1400px] mx-auto p-4 md:p-8 bg-slate-50 min-h-screen",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,Jn.jsx)("button",{onClick:()=>n.push("/client/dashboard"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Jn.jsx)(ja,{className:"text-gray-500"})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,Jn.jsx)(is,{className:"text-blue-600"})," Payment Management"]}),(0,Jn.jsx)("p",{className:"text-gray-500 text-sm",children:"Manage your billing and payments"})]})]}),l&&(0,Jn.jsxs)("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl border border-red-200 mb-6 flex items-center gap-3",children:[(0,Jn.jsx)(Ha,{}),l]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[(0,Jn.jsx)("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:(0,Jn.jsx)(is,{size:100})}),(0,Jn.jsx)("p",{className:"text-gray-500 font-medium mb-1",children:"Total Outstanding"}),(0,Jn.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:H((null===a||void 0===a?void 0:a.totalOutstanding)||0)})]}),(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[(0,Jn.jsx)("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:(0,Jn.jsx)(Ea,{size:100,className:"text-emerald-500"})}),(0,Jn.jsx)("p",{className:"text-gray-500 font-medium mb-1",children:"Total Paid"}),(0,Jn.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:H((null===a||void 0===a?void 0:a.totalPaid)||0)})]}),(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[(0,Jn.jsx)("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:(0,Jn.jsx)(Ja,{size:100,className:"text-blue-500"})}),(0,Jn.jsx)("p",{className:"text-gray-500 font-medium mb-1",children:"Last Payment"}),(0,Jn.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:null!==a&&void 0!==a&&a.lastPaymentDate?HL(new Date(a.lastPaymentDate),"MMM dd, yyyy"):"No payments yet"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-8 overflow-hidden",children:[(0,Jn.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-amber-50 flex justify-between items-center",children:[(0,Jn.jsxs)("h3",{className:"font-bold text-amber-800 flex items-center gap-2",children:[(0,Jn.jsx)(Fa,{className:"text-amber-600"})," Pending Payments"]}),(0,Jn.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)($a,{className:"text-gray-400"}),(0,Jn.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",children:[(0,Jn.jsx)("option",{value:"all",children:"All Months"}),(()=>{if(null===a||void 0===a||!a.pendingPayments)return[];const e=new Set;return a.pendingPayments.forEach(t=>{if(t.dueDate){const n=new Date(t.dueDate),r="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0"));e.add(r)}}),Array.from(e).sort().reverse()})().map(e=>{const[t,n]=e.split("-"),r=HL(new Date(t,parseInt(n)-1),"MMMM yyyy");return(0,Jn.jsx)("option",{value:e,children:r},e)})]})]}),k.length>0&&(0,Jn.jsxs)("button",{onClick:()=>{0!==k.length?_(!0):w({show:!0,type:"error",message:"Please select at least one delivery to pay"})},className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-1.5 rounded-lg text-sm font-bold transition-colors shadow-sm flex items-center gap-2",children:[(0,Jn.jsx)(Ss,{})," Upload Payment Proof (",k.length,")"]})]})]}),(0,Jn.jsx)("div",{className:"overflow-x-auto",children:(0,Jn.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,Jn.jsx)("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase font-bold",children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{className:"p-4",children:(0,Jn.jsx)("input",{type:"checkbox",checked:W().length>0&&k.length===W().length,onChange:e=>(e=>{if(e){const e=W();S(e.map(e=>e.id))}else S([])})(e.target.checked),className:"w-4 h-4 accent-blue-600"})}),(0,Jn.jsx)("th",{className:"p-4",children:"Delivery ID"}),(0,Jn.jsx)("th",{className:"p-4",children:"Due Date"}),(0,Jn.jsx)("th",{className:"p-4",children:"Amount"}),(0,Jn.jsx)("th",{className:"p-4",children:"Status"}),(0,Jn.jsx)("th",{className:"p-4 text-center",children:"Action"})]})}),(0,Jn.jsx)("tbody",{className:"divide-y divide-gray-100",children:W().length>0?W().map(e=>(0,Jn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Jn.jsx)("td",{className:"p-4",children:(0,Jn.jsx)("input",{type:"checkbox",checked:k.includes(e.id),onChange:()=>{return t=e.id,void S(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-4 h-4 accent-blue-600",disabled:"pending_verification"===e.status})}),(0,Jn.jsxs)("td",{className:"p-4 font-mono text-sm",children:["#",e.id.substring(0,8)]}),(0,Jn.jsx)("td",{className:"p-4 text-sm text-gray-600",children:e.dueDate?HL(new Date(e.dueDate),"MMM dd, yyyy"):"N/A"}),(0,Jn.jsx)("td",{className:"p-4 font-bold text-gray-800",children:H(e.amount)}),(0,Jn.jsx)("td",{className:"p-4",children:V(e.status)}),(0,Jn.jsx)("td",{className:"p-4 text-center",children:"pending_verification"===e.status?(0,Jn.jsx)("span",{className:"text-blue-600 text-sm font-medium",children:"Awaiting Approval"}):(0,Jn.jsx)("button",{onClick:()=>(e=>{u(e),p(!0),x(1),b("")})(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors shadow-sm",children:"Pay Now"})})]},e.id)):(0,Jn.jsx)("tr",{children:(0,Jn.jsx)("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"No pending payments. You're all caught up!"})})})]})})]}),(0,Jn.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,Jn.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,Jn.jsxs)("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,Jn.jsx)(Ja,{className:"text-gray-400"})," Payment History"]})}),(0,Jn.jsx)("div",{className:"overflow-x-auto",children:(0,Jn.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,Jn.jsx)("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase font-bold",children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{className:"p-4",children:"Transaction ID"}),(0,Jn.jsx)("th",{className:"p-4",children:"Date"}),(0,Jn.jsx)("th",{className:"p-4",children:"Method"}),(0,Jn.jsx)("th",{className:"p-4",children:"Amount"}),(0,Jn.jsx)("th",{className:"p-4",children:"Status"})]})}),(0,Jn.jsx)("tbody",{className:"divide-y divide-gray-100",children:(null===a||void 0===a||null===(e=a.recentTransactions)||void 0===e?void 0:e.length)>0?a.recentTransactions.map(e=>(0,Jn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Jn.jsxs)("td",{className:"p-4 font-mono text-sm",children:["#",e.id.substring(0,8)]}),(0,Jn.jsx)("td",{className:"p-4 text-sm text-gray-600",children:HL(new Date(e.createdAt),"MMM dd, yyyy HH:mm")}),(0,Jn.jsx)("td",{className:"p-4 text-sm text-gray-600 capitalize",children:e.method.replace("_"," ")}),(0,Jn.jsx)("td",{className:"p-4 font-bold text-gray-800",children:H(e.amount)}),(0,Jn.jsx)("td",{className:"p-4",children:V(e.status)})]},e.id)):(0,Jn.jsx)("tr",{children:(0,Jn.jsx)("td",{colSpan:"5",className:"p-8 text-center text-gray-500",children:"No payment history found."})})})]})})]}),h&&(0,Jn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-fade-in",children:[(0,Jn.jsxs)("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[(0,Jn.jsx)("h3",{className:"font-bold text-gray-800",children:"Complete Payment"}),(0,Jn.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Jn.jsx)(js,{})})]}),(0,Jn.jsxs)("div",{className:"p-6",children:[1===g&&(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Jn.jsxs)("button",{onClick:()=>B("card"),className:"p-4 border rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all flex flex-col items-center gap-2 group",children:[(0,Jn.jsx)(Oa,{className:"text-2xl text-gray-400 group-hover:text-blue-500"}),(0,Jn.jsx)("span",{className:"font-bold text-gray-700 group-hover:text-blue-700",children:"Credit Card"})]}),(0,Jn.jsxs)("button",{onClick:()=>B("gcash"),className:"p-4 border rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all flex flex-col items-center gap-2 group",children:[(0,Jn.jsx)(Ps,{className:"text-2xl text-gray-400 group-hover:text-blue-500"}),(0,Jn.jsx)("span",{className:"font-bold text-gray-700 group-hover:text-blue-700",children:"GCash"})]}),(0,Jn.jsxs)("button",{onClick:()=>B("grab_pay"),className:"p-4 border rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all flex flex-col items-center gap-2 group",children:[(0,Jn.jsx)(Ps,{className:"text-2xl text-gray-400 group-hover:text-blue-500"}),(0,Jn.jsx)("span",{className:"font-bold text-gray-700 group-hover:text-blue-700",children:"GrabPay"})]}),(0,Jn.jsxs)("button",{onClick:()=>B("paymaya"),className:"p-4 border rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all flex flex-col items-center gap-2 group",children:[(0,Jn.jsx)(Ps,{className:"text-2xl text-gray-400 group-hover:text-blue-500"}),(0,Jn.jsx)("span",{className:"font-bold text-gray-700 group-hover:text-blue-700",children:"Maya"})]})]}),2===g&&"card"===v&&(0,Jn.jsxs)("div",{className:"space-y-4",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Cardholder Name"}),(0,Jn.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",value:I.cardholderName,onChange:e=>U("cardholderName",e.target.value),placeholder:"John Doe"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Card Number"}),(0,Jn.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",value:I.cardNumber,onChange:e=>U("cardNumber",e.target.value),placeholder:"0000 0000 0000 0000"})]}),(0,Jn.jsxs)("div",{className:"flex gap-4",children:[(0,Jn.jsxs)("div",{className:"flex-1",children:[(0,Jn.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Expiry Date"}),(0,Jn.jsxs)("div",{className:"flex gap-2",children:[(0,Jn.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",value:I.expiryMonth,onChange:e=>U("expiryMonth",e.target.value),placeholder:"MM"}),(0,Jn.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",value:I.expiryYear,onChange:e=>U("expiryYear",e.target.value),placeholder:"YYYY"})]})]}),(0,Jn.jsxs)("div",{className:"w-1/3",children:[(0,Jn.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"CVC"}),(0,Jn.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none",value:I.cvc,onChange:e=>U("cvc",e.target.value),placeholder:"123"})]})]}),(0,Jn.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Jn.jsx)("button",{onClick:()=>x(1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Back"}),(0,Jn.jsx)("button",{onClick:q,disabled:m,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-lg shadow-md disabled:opacity-50",children:m?"Processing...":"Pay ".concat(H((null===d||void 0===d?void 0:d.amount)||0))})]})]}),2===g&&"card"!==v&&(0,Jn.jsxs)("div",{className:"text-center py-6",children:[(0,Jn.jsxs)("p",{className:"text-gray-600 mb-6",children:["You will be redirected to"," ","gcash"===v?"GCash":"grab_pay"===v?"GrabPay":"Maya"," ","to complete your payment securely."]}),(0,Jn.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,Jn.jsx)("button",{onClick:()=>x(1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Back"}),(0,Jn.jsx)("button",{onClick:q,disabled:m,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg shadow-md disabled:opacity-50",children:m?"Redirecting...":"Proceed to Payment"})]})]}),3===g&&(0,Jn.jsxs)("div",{className:"text-center py-6",children:[(0,Jn.jsx)("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Jn.jsx)(Ea,{className:"text-3xl text-emerald-500"})}),(0,Jn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Payment Successful!"}),(0,Jn.jsx)("p",{className:"text-gray-500 mb-6",children:"Your payment has been processed successfully."}),(0,Jn.jsx)("button",{onClick:()=>p(!1),className:"bg-gray-800 text-white px-6 py-2 rounded-lg font-bold hover:bg-gray-900",children:"Close"})]}),y.show&&(0,Jn.jsx)("div",{className:"mt-4 p-3 rounded-lg text-sm ".concat("error"===y.type?"bg-red-50 text-red-700":"bg-blue-50 text-blue-700"),children:y.message})]})]})}),C&&(0,Jn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-fade-in",children:[(0,Jn.jsxs)("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-emerald-50",children:[(0,Jn.jsxs)("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,Jn.jsx)(Ss,{className:"text-emerald-600"})," Upload Payment Proof"]}),(0,Jn.jsx)("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Jn.jsx)(js,{})})]}),(0,Jn.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Jn.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[(0,Jn.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Jn.jsx)("strong",{children:"Selected Deliveries:"})," ",k.length]}),(0,Jn.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Upload proof for batch payment"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Payment Proof File *"}),(0,Jn.jsx)("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void w({show:!0,type:"error",message:"File size must be less than 5MB"});A(t)}},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none text-sm"}),P&&(0,Jn.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[(0,Jn.jsx)(Ka,{className:"text-emerald-600"}),(0,Jn.jsx)("span",{className:"font-medium",children:P.name}),(0,Jn.jsxs)("span",{className:"text-xs text-gray-400",children:["(",(P.size/1024).toFixed(1)," KB)"]})]}),(0,Jn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted: JPG, PNG, PDF (max 5MB)"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Reference Number"}),(0,Jn.jsx)("input",{type:"text",value:D.referenceNumber,onChange:e=>T(Ne(Ne({},D),{},{referenceNumber:e.target.value})),placeholder:"e.g., Bank transaction reference",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none text-sm"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes (Optional)"}),(0,Jn.jsx)("textarea",{value:D.notes,onChange:e=>T(Ne(Ne({},D),{},{notes:e.target.value})),placeholder:"Additional information...",rows:"3",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none text-sm resize-none"})]}),y.show&&(0,Jn.jsx)("div",{className:"p-3 rounded-lg text-sm ".concat("error"===y.type?"bg-red-50 text-red-700 border border-red-200":"bg-blue-50 text-blue-700 border border-blue-200"),children:y.message}),(0,Jn.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,Jn.jsx)("button",{onClick:()=>_(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium",disabled:L,children:"Cancel"}),(0,Jn.jsx)("button",{onClick:async()=>{if(P)try{E(!0);const e=localStorage.getItem("token"),t=new FormData;t.append("proofFile",P),t.append("deliveryIds",JSON.stringify(k)),t.append("referenceNumber",D.referenceNumber),t.append("notes",D.notes);const n=await Gn.post("/api/payments/upload-proof",t,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}});n.data.success&&(w({show:!0,type:"success",message:n.data.message}),_(!1),A(null),T({referenceNumber:"",notes:""}),S([]),await z())}catch(l){var e,t;console.error("Error uploading proof:",l),w({show:!0,type:"error",message:(null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to upload payment proof"})}finally{E(!1)}else w({show:!0,type:"error",message:"Please select a file to upload"})},disabled:L||!P,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 rounded-lg shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:L?"Uploading...":"Upload Proof"})]})]})]})})]})},KL=()=>{const{authUser:e}=(0,t.useContext)(ea),{showSuccess:n,showError:r}=ca(),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[v,b]=(0,t.useState)(""),[y,w]=(0,t.useState)("all"),[j,N]=(0,t.useState)("name"),[k,S]=(0,t.useState)(!1),[C,_]=(0,t.useState)({name:"",address:"",coordinates:null,category:"business",notes:"",contactPerson:"",contactNumber:"",operatingHours:"",accessInstructions:"",isDefault:!1}),P=[{value:"business",label:"Business",icon:_a,color:"#3b82f6"},{value:"residential",label:"Residential",icon:Xa,color:"#10b981"},{value:"commercial",label:"Commercial",icon:bs,color:"#f59e0b"},{value:"industrial",label:"Industrial",icon:Za,color:"#ef4444"}];(0,t.useEffect)(()=>{A()},[e]),(0,t.useEffect)(()=>{D()},[a,v,y,j]);const A=async()=>{try{c(!0);const e=localStorage.getItem("token"),t=await fetch("".concat(Yn,"/api/client/pinned-locations"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to load pinned locations");{const e=await t.json();s(e.locations||[])}}catch(Bx){console.error("Error loading pinned locations:",Bx),r("Failed to load saved locations","Unable to retrieve your saved locations. Please try again."),s([])}finally{c(!1)}},D=()=>{let e=[...a];v&&(e=e.filter(e=>{var t;return e.name.toLowerCase().includes(v.toLowerCase())||e.address.toLowerCase().includes(v.toLowerCase())||(null===(t=e.notes)||void 0===t?void 0:t.toLowerCase().includes(v.toLowerCase()))})),"all"!==y&&(e=e.filter(e=>e.category===y)),e.sort((e,t)=>{switch(j){case"name":return e.name.localeCompare(t.name);case"category":return e.category.localeCompare(t.category);case"lastUsed":return new Date(t.lastUsed||0)-new Date(e.lastUsed||0);case"usageCount":return(t.usageCount||0)-(e.usageCount||0);default:return 0}}),o(e)},T=()=>{_({name:"",address:"",coordinates:null,category:"business",notes:"",contactPerson:"",contactNumber:"",operatingHours:"",accessInstructions:"",isDefault:!1})},L=()=>{T(),u(!0)},E=e=>{const t=P.find(t=>t.value===e);return t?t.color:"#6b7280"};if(l)return(0,Jn.jsx)(Os,{message:"Loading your saved locations..."});const I="flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-base transition-all duration-300 border shadow-sm hover:-translate-y-px",R="".concat(I," bg-gradient-to-br from-primary-500 to-primary-700 text-white border-transparent hover:shadow-lg shadow-primary-500/30"),M="".concat(I," bg-gray-50 text-gray-600 border-gray-200 hover:bg-gray-200 hover:border-gray-300"),F="".concat(I," bg-gradient-to-br from-danger-500 to-danger-600 text-white border-transparent hover:shadow-lg shadow-danger-500/30"),O="w-8 h-8 flex items-center justify-center rounded-md border-none cursor-pointer text-sm transition-all duration-200 text-white hover:scale-110 shadow-sm",z="w-full px-4 py-3.5 border-2 border-gray-200 rounded-lg text-base bg-gray-50 transition-all duration-300 focus:outline-none focus:border-primary-500 focus:bg-white focus:shadow-[0_0_0_3px_rgba(59,130,246,0.1)]",B="block font-semibold text-gray-700 text-sm mb-2";return(0,Jn.jsxs)("div",{className:"w-full h-full animate-fade-in block overflow-hidden",children:[(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 pb-4 border-b border-gray-200",children:[(0,Jn.jsxs)("h1",{className:"flex items-center gap-3 text-3xl font-bold text-primary-500 m-0",children:[(0,Jn.jsx)(as,{className:"text-primary-300"}),"Pinned Locations",(0,Jn.jsxs)("span",{className:"bg-gradient-to-br from-primary-500 to-primary-700 text-white px-4 py-1 rounded-full text-sm font-semibold shadow-md ml-4",children:[a.length," saved"]})]}),(0,Jn.jsx)("div",{className:"flex gap-4 mt-4 md:mt-0",children:(0,Jn.jsxs)("button",{className:R,onClick:L,children:[(0,Jn.jsx)(ls,{})," Add Location"]})})]}),(0,Jn.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm mb-6 relative",children:[(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,Jn.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,Jn.jsx)(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search locations by name, address...",value:v,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,Jn.jsx)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(k?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>S(!k),children:[(0,Jn.jsx)($a,{size:14}),"Filters",("all"!==y||"name"!==j)&&(0,Jn.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:["all"!==y,"name"!==j].filter(Boolean).length})]})})]}),(0,Jn.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium",children:["Showing ",i.length," of ",a.length," locations"]}),k&&(0,Jn.jsxs)("div",{className:"absolute top-full mt-2 right-4 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-[360px] max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Jn.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,Jn.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>S(!1),children:(0,Jn.jsx)(js,{size:16})})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Category"}),(0,Jn.jsxs)("select",{value:y,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Categories"}),P.map(e=>(0,Jn.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Sort By"}),(0,Jn.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"name",children:"Sort by Name"}),(0,Jn.jsx)("option",{value:"category",children:"Sort by Category"}),(0,Jn.jsx)("option",{value:"lastUsed",children:"Sort by Last Used"}),(0,Jn.jsx)("option",{value:"usageCount",children:"Sort by Usage"})]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{b(""),w("all"),N("name"),S(!1)},children:"Reset"}),(0,Jn.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>S(!1),children:"Apply Filters"})]})]})]}),(0,Jn.jsx)("div",{className:"bg-white rounded-2xl p-8 w-full shadow-card border border-white/20",children:0===i.length?(0,Jn.jsxs)("div",{className:"text-center py-16 px-8 text-gray-500",children:[(0,Jn.jsx)(rs,{className:"text-6xl text-gray-300 mb-6 mx-auto"}),(0,Jn.jsx)("h3",{className:"text-2xl font-semibold text-gray-600 mb-2",children:"No saved locations"}),(0,Jn.jsx)("p",{className:"text-base mb-8 max-w-lg mx-auto leading-relaxed",children:v||"all"!==y?"No locations match your search criteria.":"Start by adding your frequently used pickup and dropoff locations."}),!v&&"all"===y&&(0,Jn.jsxs)("button",{className:"".concat(R," mx-auto"),onClick:L,children:[(0,Jn.jsx)(ls,{})," Add Your First Location"]})]}):(0,Jn.jsx)("div",{className:"w-full overflow-x-auto overflow-y-auto max-h-[calc(100vh-350px)]",children:(0,Jn.jsxs)("table",{className:"w-full border-separate border-spacing-0 min-w-[800px]",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{className:"bg-gradient-to-br from-gray-50 to-gray-200",children:[(0,Jn.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 rounded-tl-xl whitespace-nowrap",children:"Name"}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 whitespace-nowrap",children:"Category"}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 whitespace-nowrap",children:"Address"}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 whitespace-nowrap",children:"Contact"}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 whitespace-nowrap",children:"Last Used"}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 whitespace-nowrap",children:"Usage"}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-sm text-gray-600 uppercase tracking-wide border-b-2 border-gray-200 rounded-tr-xl whitespace-nowrap",children:"Actions"})]})}),(0,Jn.jsx)("tbody",{children:i.map(e=>{var t;const n=(e=>{const t=P.find(t=>t.value===e);return t?t.icon:rs})(e.category);return(0,Jn.jsxs)("tr",{className:"bg-white transition-all duration-200 border-b border-gray-100 hover:bg-gray-50 hover:shadow-sm",children:[(0,Jn.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle first:rounded-bl-xl",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("span",{className:"font-semibold text-base text-gray-800 flex items-center gap-2",children:[e.name,e.isDefault&&(0,Jn.jsx)(xs,{className:"text-warning-500 text-sm",title:"Default location"})]}),e.notes&&(0,Jn.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 italic",children:[(0,Jn.jsx)(vs,{className:"text-gray-400"}),(0,Jn.jsx)("span",{children:e.notes})]})]})}),(0,Jn.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50/50 rounded-lg w-fit",children:[(0,Jn.jsx)(n,{style:{color:E(e.category)},className:"text-base"}),(0,Jn.jsx)("span",{className:"font-semibold text-xs",children:(null===(t=P.find(t=>t.value===e.category))||void 0===t?void 0:t.label)||e.category})]})}),(0,Jn.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle",children:(0,Jn.jsxs)("div",{className:"flex items-start gap-2 text-gray-600 max-w-[300px]",children:[(0,Jn.jsx)(rs,{className:"text-gray-500 mt-1 shrink-0 text-sm"}),(0,Jn.jsx)("span",{children:e.address})]})}),(0,Jn.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle",children:e.contactPerson?(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Jn.jsx)("div",{className:"font-medium text-gray-800",children:e.contactPerson}),e.contactNumber&&(0,Jn.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[(0,Jn.jsx)(os,{className:"text-xs"}),e.contactNumber]})]}):(0,Jn.jsx)("span",{className:"text-gray-300 italic",children:"-"})}),(0,Jn.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,Jn.jsx)(Fa,{className:"text-gray-400 text-sm"}),(0,Jn.jsx)("span",{children:e.lastUsed?new Date(e.lastUsed).toLocaleDateString():"Never"})]})}),(0,Jn.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,Jn.jsx)(Ga,{className:"text-gray-400 text-sm"}),(0,Jn.jsxs)("span",{children:[e.usageCount||0," times"]})]})}),(0,Jn.jsx)("td",{className:"px-6 py-5 text-gray-800 text-sm align-middle last:rounded-br-xl",children:(0,Jn.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,Jn.jsx)("button",{className:"".concat(O," bg-gradient-to-br from-warning-500 to-warning-600"),onClick:()=>(e=>{x(e),_({name:e.name||"",address:e.address||"",coordinates:e.coordinates||null,category:e.category||"business",notes:e.notes||"",contactPerson:e.contactPerson||"",contactNumber:e.contactNumber||"",operatingHours:e.operatingHours||"",accessInstructions:e.accessInstructions||"",isDefault:e.isDefault||!1}),p(!0)})(e),title:"Edit location",children:(0,Jn.jsx)(Ua,{})}),(0,Jn.jsx)("button",{className:"".concat(O," bg-gradient-to-br from-danger-500 to-danger-600"),onClick:()=>(e=>{x(e),f(!0)})(e),title:"Delete location",children:(0,Jn.jsx)(Ns,{})})]})})]},e.id)})})]})})}),(d||h)&&(0,Jn.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[10000] p-4",onClick:()=>{u(!1),p(!1),T()},children:(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-[700px] max-h-[90vh] overflow-hidden flex flex-col shadow-modal",onClick:e=>e.stopPropagation(),children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center px-8 py-6 border-b border-gray-200 bg-gradient-to-br from-gray-50 to-gray-200",children:[(0,Jn.jsx)("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:h?"Edit Location":"Add New Location"}),(0,Jn.jsx)("button",{className:"w-9 h-9 border-none bg-gray-100 rounded-lg cursor-pointer flex items-center justify-center text-gray-500 transition-all duration-300 hover:bg-gray-200 hover:text-gray-600",onClick:()=>{u(!1),p(!1),T()},children:(0,Jn.jsx)(js,{})})]}),(0,Jn.jsx)("div",{className:"p-8 flex-1 overflow-y-auto",children:(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Jn.jsxs)("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-2",children:[(0,Jn.jsx)("label",{className:B,children:"Location Name *"}),(0,Jn.jsx)("input",{type:"text",value:C.name,onChange:e=>_(t=>Ne(Ne({},t),{},{name:e.target.value})),placeholder:"e.g., Main Office, Home, Warehouse A",className:z})]}),(0,Jn.jsxs)("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-2",children:[(0,Jn.jsx)("label",{className:B,children:"Address *"}),(0,Jn.jsxs)("div",{className:"flex gap-2 flex-col md:flex-row",children:[(0,Jn.jsx)("input",{type:"text",className:"".concat(z," flex-1"),value:C.address,onChange:e=>_(t=>Ne(Ne({},t),{},{address:e.target.value})),placeholder:"Enter address or click map to select"}),(0,Jn.jsxs)("button",{type:"button",className:"px-4 py-3.5 bg-gradient-to-br from-primary-500 to-primary-700 text-white border-none rounded-lg cursor-pointer flex items-center gap-2 font-semibold transition-all duration-300 hover:-translate-y-px shadow-sm whitespace-nowrap justify-center",onClick:()=>{Gm.init({locationType:"location",initialAddress:C.address,title:"Select Location",onSelectCallback:(e,t)=>{_(n=>Ne(Ne({},n),{},{address:e,coordinates:t}))}})},children:[(0,Jn.jsx)(rs,{})," Map"]})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{className:B,children:"Category"}),(0,Jn.jsx)("select",{value:C.category,onChange:e=>_(t=>Ne(Ne({},t),{},{category:e.target.value})),className:z,children:P.map(e=>(0,Jn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{className:B,children:"Contact Person"}),(0,Jn.jsx)("input",{type:"text",value:C.contactPerson,onChange:e=>_(t=>Ne(Ne({},t),{},{contactPerson:e.target.value})),placeholder:"Contact person name",className:z})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{className:B,children:"Contact Number"}),(0,Jn.jsx)("input",{type:"tel",value:C.contactNumber,onChange:e=>_(t=>Ne(Ne({},t),{},{contactNumber:e.target.value})),placeholder:"+63 912 345 6789",className:z})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{className:B,children:"Operating Hours"}),(0,Jn.jsx)("input",{type:"text",value:C.operatingHours,onChange:e=>_(t=>Ne(Ne({},t),{},{operatingHours:e.target.value})),placeholder:"e.g., 8AM-6PM Mon-Fri",className:z})]}),(0,Jn.jsxs)("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-2",children:[(0,Jn.jsx)("label",{className:B,children:"Notes"}),(0,Jn.jsx)("textarea",{value:C.notes,onChange:e=>_(t=>Ne(Ne({},t),{},{notes:e.target.value})),placeholder:"Additional notes about this location...",rows:"3",className:z})]}),(0,Jn.jsxs)("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-2",children:[(0,Jn.jsx)("label",{className:B,children:"Access Instructions"}),(0,Jn.jsx)("textarea",{value:C.accessInstructions,onChange:e=>_(t=>Ne(Ne({},t),{},{accessInstructions:e.target.value})),placeholder:"Special instructions for accessing this location...",rows:"2",className:z})]}),(0,Jn.jsx)("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-2",children:(0,Jn.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer font-medium text-gray-700",children:[(0,Jn.jsx)("input",{type:"checkbox",className:"w-[18px] h-[18px] cursor-pointer accent-primary-500",checked:C.isDefault,onChange:e=>_(t=>Ne(Ne({},t),{},{isDefault:e.target.checked}))}),(0,Jn.jsx)("span",{children:"Set as default location"})]})})]})}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-4 px-8 py-6 border-t border-gray-200 bg-gray-50",children:[(0,Jn.jsx)("button",{className:M,onClick:()=>{u(!1),p(!1),T()},children:"Cancel"}),(0,Jn.jsxs)("button",{className:R,onClick:async()=>{try{if(!C.name.trim())return void r("Validation Error","Please enter a location name");if(!C.address.trim())return void r("Validation Error","Please enter or select an address");const e=localStorage.getItem("token"),t=h?"".concat(Yn,"/api/client/pinned-locations/").concat(g.id):"".concat(Yn,"/api/client/pinned-locations"),a=h?"PUT":"POST",s=await fetch(t,{method:a,headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(C)});if(!s.ok)throw new Error("Failed to save location");await s.json(),n(h?"Location Updated":"Location Saved",h?"Your location has been updated successfully!":"Your location has been saved successfully!"),await A(),u(!1),p(!1),T()}catch(Bx){console.error("Error saving location:",Bx),r("Save Failed","Unable to save location. Please try again.")}},children:[(0,Jn.jsx)(Ia,{})," ",h?"Update Location":"Save Location"]})]})]})}),m&&g&&(0,Jn.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[10000] p-4",onClick:()=>f(!1),children:(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-[400px] flex flex-col shadow-modal",onClick:e=>e.stopPropagation(),children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center px-6 py-5 border-b border-gray-100 bg-gray-50 rounded-t-2xl",children:[(0,Jn.jsx)("h2",{className:"text-xl font-bold text-gray-800 m-0",children:"Delete Location"}),(0,Jn.jsx)("button",{className:"w-8 h-8 border-none bg-gray-200 rounded-full cursor-pointer flex items-center justify-center text-gray-500 hover:bg-gray-300",onClick:()=>f(!1),children:(0,Jn.jsx)(js,{})})]}),(0,Jn.jsxs)("div",{className:"p-6",children:[(0,Jn.jsxs)("p",{className:"text-base text-gray-600 mb-2",children:["Are you sure you want to delete"," ",(0,Jn.jsx)("strong",{children:g.name}),"?"]}),(0,Jn.jsx)("p",{className:"text-danger-600 text-sm italic m-0",children:"This action cannot be undone."})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 px-6 py-5 bg-gray-50 rounded-b-2xl",children:[(0,Jn.jsx)("button",{className:M,onClick:()=>f(!1),children:"Cancel"}),(0,Jn.jsxs)("button",{className:F,onClick:async()=>{try{const e=localStorage.getItem("token");if(!(await fetch("".concat(Yn,"/api/client/pinned-locations/").concat(g.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})).ok)throw new Error("Failed to delete location");n("Location Deleted","Your location has been deleted successfully!"),await A(),f(!1),x(null)}catch(Bx){console.error("Error deleting location:",Bx),r("Delete Failed","Unable to delete location. Please try again.")}},children:[(0,Jn.jsx)(Ns,{})," Delete Location"]})]})]})})]})},YL=e=>{let{isOpen:t,onClose:n,bookingDetails:r,trucks:a,routeDetails:s,estimatedCost:i}=e;if(!t)return null;return(0,Jn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&n()},children:(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-300",children:[(0,Jn.jsxs)("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 p-6 text-white relative",children:[(0,Jn.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors p-1",children:(0,Jn.jsx)(js,{size:20})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jn.jsx)("div",{className:"bg-white/20 rounded-full p-4",children:(0,Jn.jsx)(Ea,{size:32})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h2",{className:"text-2xl font-bold",children:"Booking Confirmed!"}),(0,Jn.jsx)("p",{className:"text-white/80 text-sm mt-1",children:"Your truck rental has been successfully booked"})]})]})]}),(0,Jn.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[(0,Jn.jsxs)("div",{className:"mb-6",children:[(0,Jn.jsxs)("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[(0,Jn.jsx)(ks,{className:"text-blue-600"})," Booked Trucks (",(null===a||void 0===a?void 0:a.length)||0,")"]}),(0,Jn.jsx)("div",{className:"space-y-2",children:null===a||void 0===a?void 0:a.map((e,t)=>(0,Jn.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-100",children:(0,Jn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"font-bold text-gray-800",children:e.PlateNumber||e.plateNumber||e.TruckID}),(0,Jn.jsx)("p",{className:"text-sm text-gray-500",children:e.VehicleType||e.vehicleType||e.TruckType||"Truck"})]}),(0,Jn.jsxs)("div",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[e.Capacity||e.capacity||e.TruckCapacity||"N/A"," ","tons"]})]})},e.TruckID||t))})]}),(0,Jn.jsxs)("div",{className:"mb-6",children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Delivery Details"}),(0,Jn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200 space-y-3",children:[(0,Jn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Jn.jsx)("div",{className:"bg-emerald-100 rounded-full p-2 mt-0.5",children:(0,Jn.jsx)(rs,{className:"text-emerald-600",size:14})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Pickup"}),(0,Jn.jsx)("p",{className:"text-sm text-gray-800 font-medium",children:(null===r||void 0===r?void 0:r.pickupLocation)||"Not specified"})]})]}),(0,Jn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Jn.jsx)("div",{className:"bg-red-100 rounded-full p-2 mt-0.5",children:(0,Jn.jsx)(rs,{className:"text-red-600",size:14})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Drop-off"}),(0,Jn.jsx)("p",{className:"text-sm text-gray-800 font-medium",children:(null===r||void 0===r?void 0:r.dropoffLocation)||"Not specified"})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-6 pt-2 border-t border-gray-200",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)(Pa,{className:"text-blue-600",size:14}),(0,Jn.jsx)("span",{className:"text-sm text-gray-700 font-medium",children:(null===r||void 0===r?void 0:r.deliveryDate)||"Not set"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)(Fa,{className:"text-blue-600",size:14}),(0,Jn.jsx)("span",{className:"text-sm text-gray-700 font-medium",children:(null===r||void 0===r?void 0:r.deliveryTime)||"Not set"})]})]})]})]}),(s||i)&&(0,Jn.jsxs)("div",{className:"mb-6",children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Route & Cost"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[((null===s||void 0===s?void 0:s.distance)||(null===s||void 0===s?void 0:s.distanceText))&&(0,Jn.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-100",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Jn.jsx)(ds,{className:"text-purple-600",size:14}),(0,Jn.jsx)("span",{className:"text-xs font-bold text-purple-600 uppercase",children:"Distance"})]}),(0,Jn.jsx)("p",{className:"text-lg font-bold text-gray-800",children:s.distance||s.distanceText})]}),((null===s||void 0===s?void 0:s.duration)||(null===s||void 0===s?void 0:s.durationText))&&(0,Jn.jsxs)("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-100",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Jn.jsx)(Fa,{className:"text-orange-600",size:14}),(0,Jn.jsx)("span",{className:"text-xs font-bold text-orange-600 uppercase",children:"Travel Time"})]}),(0,Jn.jsx)("p",{className:"text-lg font-bold text-gray-800",children:s.duration||s.durationText})]})]}),i&&(0,Jn.jsx)("div",{className:"mt-3 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl p-4 border border-emerald-200",children:(0,Jn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)(is,{className:"text-emerald-600",size:18}),(0,Jn.jsx)("span",{className:"text-sm font-bold text-gray-700",children:"Estimated Total"})]}),(0,Jn.jsxs)("span",{className:"text-2xl font-extrabold text-emerald-600",children:["\u20b1",i]})]})})]})]}),(0,Jn.jsx)("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:(0,Jn.jsx)("button",{onClick:n,className:"w-full py-3 px-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-blue-500/20",children:"Done"})})]})})},$L=()=>{const{authUser:e}=(0,t.useContext)(ea)||{authUser:null},n=ce(),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)({pickupLocation:"",pickupCoordinates:null,dropoffLocation:"",dropoffCoordinates:null,weight:"",deliveryDate:"",deliveryTime:"",selectedTrucks:[],pickupContactPerson:"",pickupContactNumber:"",dropoffContactPerson:"",dropoffContactNumber:""}),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(!1),[x,v]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[w,j]=(0,t.useState)(!1),[N,k]=(0,t.useState)([]),[S,C]=(0,t.useState)(null),[_,P]=(0,t.useState)([]),[A,D]=(0,t.useState)([]),[T,L]=(0,t.useState)(!1),{modalState:E,hideModal:I,showWarning:R,showError:M,showSuccess:F,showInfo:O,showConfirm:z}=Km(),{toasts:B,removeToast:U,showSuccess:q,showError:W}=ca();(0,t.useEffect)(()=>{const e=localStorage.getItem("token");e&&(Gn.defaults.headers.common.Authorization="Bearer ".concat(e))},[]),(0,t.useEffect)(()=>{H()},[]),(0,t.useEffect)(()=>{const e=new Date;e.setDate(e.getDate()+1);const t=e.toISOString().split("T")[0];h(e=>Ne(Ne({},e),{},{deliveryDate:t,deliveryTime:"12:00"}))},[]),(0,t.useEffect)(()=>()=>{Gm.clearUsedLocations()},[]),(0,t.useEffect)(()=>{u.deliveryDate&&V(u.deliveryDate)},[u.deliveryDate]);const H=async()=>{try{d(!0);try{const e=await Gn.get("/api/clients/profile/trucks");a(e.data||[])}catch(e){console.error("Error fetching trucks:",e),a([])}try{const e=await Gn.get("/api/clients/profile/deliveries");i(e.data||[])}catch(t){console.error("Error fetching deliveries:",t),i([])}try{const e=await Gn.get("/api/clients/vehicle-rates");e.data.success&&l(e.data.data||[])}catch(n){console.error("Error fetching vehicle rates:",n),l([])}d(!1)}catch(Bx){console.error("Error fetching data:",Bx),d(!1)}},V=async e=>{try{L(!0);const t=await Gn.get("/api/clients/trucks/availability?date=".concat(e));t.data.success&&P(t.data.availableTruckIds||[])}catch(Bx){console.error("Error checking availability:",Bx),P(r.map(e=>e.TruckID))}finally{L(!1)}},G=async e=>{let t=r.filter(e=>{var t,n;const r=(null===(t=e.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(n=e.OperationalStatus)||void 0===n?void 0:n.toLowerCase());return"maintenance"!==r&&"broken"!==r});u.deliveryDate&&_.length>0&&(t=t.filter(e=>_.includes(e.TruckID)));const n=t.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0);if(n<e)return R("Insufficient Truck Capacity","Your cargo (".concat(e," tons) exceeds available capacity (").concat(n.toFixed(1)," tons).")),void m([]);const a=K(t,e);if(a.length>0){m(a);const e=a.map(e=>e.TruckID);h(t=>Ne(Ne({},t),{},{selectedTrucks:e}))}else m([]),R("No Suitable Combination","Unable to find a suitable truck combination.")},K=(e,t)=>{if(!e||0===e.length)return[];const n=[...e].sort((e,t)=>(parseFloat(e.TruckCapacity)||0)-(parseFloat(t.TruckCapacity)||0));let r=null,a=1/0;for(const l of n){const e=parseFloat(l.TruckCapacity)||0;if(e>=t){const n=e-t;n<a&&(a=n,r=l)}}if(r)return[r];let s=[],i=1/0;const o=Math.min(Math.pow(2,n.length),1e3);for(let l=1;l<o;l++){const e=[];let r=0;for(let t=0;t<n.length;t++)l&1<<t&&(e.push(n[t]),r+=parseFloat(n[t].TruckCapacity)||0);if(r>=t){const n=r-t;(n<i||n===i&&e.length<s.length)&&(i=n,s=e)}}return s},Y=e=>{Gm.open({onSelect:(t,n,r)=>{h("pickup"===e?e=>Ne(Ne({},e),{},{pickupLocation:t,pickupCoordinates:n,pickupContactPerson:(null===r||void 0===r?void 0:r.contactPerson)||e.pickupContactPerson,pickupContactNumber:(null===r||void 0===r?void 0:r.contactNumber)||e.pickupContactNumber}):e=>Ne(Ne({},e),{},{dropoffLocation:t,dropoffCoordinates:n,dropoffContactPerson:(null===r||void 0===r?void 0:r.contactPerson)||e.dropoffContactPerson,dropoffContactNumber:(null===r||void 0===r?void 0:r.contactNumber)||e.dropoffContactNumber}))},initialLocation:"pickup"===e?u.pickupCoordinates:u.dropoffCoordinates,title:"pickup"===e?"Select Pickup Location":"Select Drop-off Location",locationType:e})},$=e=>{C(e)},J=()=>{if(!S||!u.selectedTrucks.length)return 0;const e=r.find(e=>u.selectedTrucks.includes(e.TruckID));if(!e)return 0;const t=e.TruckType||"mini truck",n=S.distanceValue||0,a=o.find(e=>e.vehicleType===t);if(a){return((parseFloat(a.baseRate)||0)+n*(parseFloat(a.ratePerKm)||0)).toFixed(2)}return(500+15*n).toFixed(2)},X=()=>((parseFloat(J())||0)*u.selectedTrucks.length).toFixed(2);if(c)return(0,Jn.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Jn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const Q=(()=>{let e=r.filter(e=>{var t,n;const r=(null===(t=e.operationalStatus)||void 0===t?void 0:t.toLowerCase())||(null===(n=e.OperationalStatus)||void 0===n?void 0:n.toLowerCase());return"maintenance"!==r&&"broken"!==r});return u.deliveryDate&&_.length>0&&(e=e.filter(e=>_.includes(e.TruckID))),e})();return(0,Jn.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:[(0,Jn.jsx)(qm,{isOpen:E.isOpen,onClose:I,title:E.title,message:E.message,type:E.type,onConfirm:E.onConfirm,confirmText:E.confirmText,cancelText:E.cancelText}),(0,Jn.jsx)(Jm,{toasts:B,removeToast:U}),(0,Jn.jsx)(YL,{isOpen:w,onClose:()=>{j(!1),n.push("/client/profile?tab=trucks")},bookingDetails:u,trucks:N,routeDetails:S,estimatedCost:S?X():null}),x&&(0,Jn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>v(!1),children:(0,Jn.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Jn.jsxs)("div",{className:"bg-[#1e3a5f] p-4 text-white relative",children:[(0,Jn.jsx)("button",{onClick:()=>v(!1),className:"absolute top-3 right-3 text-white/80 hover:text-white transition-colors p-1",children:(0,Jn.jsx)(js,{size:16})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"bg-white/20 rounded-full p-2",children:(0,Jn.jsx)(ks,{className:"text-xl text-white"})}),(0,Jn.jsx)("h3",{className:"text-lg font-bold",children:"Confirm Booking"})]})]}),(0,Jn.jsxs)("div",{className:"p-5 space-y-4 max-h-[60vh] overflow-y-auto",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsxs)("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:["Selected Trucks (",u.selectedTrucks.length,")"]}),(0,Jn.jsx)("div",{className:"space-y-2",children:r.filter(e=>u.selectedTrucks.includes(e.TruckID)).map(e=>(0,Jn.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)(ks,{className:"text-blue-600"}),(0,Jn.jsx)("span",{className:"font-medium",children:e.PlateNumber}),(0,Jn.jsx)("span",{className:"text-gray-500 text-sm",children:e.VehicleType||e.vehicleType||"Truck"})]}),(0,Jn.jsxs)("span",{className:"text-sm bg-blue-100 text-blue-700 px-2 py-1 rounded",children:[e.Capacity||e.capacity," tons"]})]},e.TruckID))})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:"Delivery Route"}),(0,Jn.jsxs)("div",{className:"space-y-2",children:[(0,Jn.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Jn.jsx)(rs,{className:"text-green-500 mt-1"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500",children:"Pickup"}),(0,Jn.jsx)("p",{className:"text-gray-700 text-sm",children:u.pickupLocation})]})]}),(0,Jn.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Jn.jsx)(rs,{className:"text-red-500 mt-1"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500",children:"Drop-off"}),(0,Jn.jsx)("p",{className:"text-gray-700 text-sm",children:u.dropoffLocation})]})]})]})]}),(0,Jn.jsxs)("div",{className:"flex gap-4",children:[(0,Jn.jsxs)("div",{className:"flex-1",children:[(0,Jn.jsx)("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-1",children:"Date"}),(0,Jn.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,Jn.jsx)(Pa,{className:"text-blue-600"}),(0,Jn.jsx)("span",{children:u.deliveryDate})]})]}),(0,Jn.jsxs)("div",{className:"flex-1",children:[(0,Jn.jsx)("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-1",children:"Time"}),(0,Jn.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,Jn.jsx)(Fa,{className:"text-blue-600"}),(0,Jn.jsx)("span",{children:u.deliveryTime})]})]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-1",children:"Cargo Weight"}),(0,Jn.jsxs)("p",{className:"text-gray-700 font-medium",children:[u.weight," tons"]})]}),S&&(0,Jn.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-gray-500",children:"Distance:"}),(0,Jn.jsx)("span",{className:"ml-2 font-medium",children:S.distance})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-gray-500",children:"Duration:"}),(0,Jn.jsx)("span",{className:"ml-2 font-medium",children:S.duration})]}),(0,Jn.jsxs)("div",{className:"col-span-2",children:[(0,Jn.jsx)("span",{className:"text-gray-500",children:"Est. Cost:"}),(0,Jn.jsxs)("span",{className:"ml-2 font-bold text-blue-600",children:["\u20b1",X()]})]})]})})]}),(0,Jn.jsxs)("div",{className:"px-5 pb-5 flex justify-end gap-3 border-t pt-4",children:[(0,Jn.jsx)("button",{className:"px-5 py-2 border border-gray-300 text-gray-700 hover:bg-gray-100 font-medium rounded-lg transition-colors",onClick:()=>v(!1),children:"Cancel"}),(0,Jn.jsx)("button",{className:"px-5 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold rounded-lg transition-colors flex items-center gap-2",onClick:async()=>{y(!0);try{if((await Gn.post("/api/clients/truck-rental",{pickupLocation:u.pickupLocation,pickupCoordinates:u.pickupCoordinates,dropoffLocation:u.dropoffLocation,dropoffCoordinates:u.dropoffCoordinates,deliveryDate:u.deliveryDate,deliveryTime:u.deliveryTime,selectedTrucks:u.selectedTrucks,weight:parseFloat(u.weight)||0,pickupContactPerson:u.pickupContactPerson,pickupContactNumber:u.pickupContactNumber,dropoffContactPerson:u.dropoffContactPerson,dropoffContactNumber:u.dropoffContactNumber,deliveryDistance:(null===S||void 0===S?void 0:S.distanceValue)||null,estimatedDuration:(null===S||void 0===S?void 0:S.durationValue)||null})).data.success){y(!1),v(!1);const e=r.filter(e=>u.selectedTrucks.includes(e.TruckID));k(e),j(!0)}}catch(Bx){var e,t;console.error("Booking error:",Bx),y(!1),v(!1),M("Booking Failed",(null===(e=Bx.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to create booking. Please try again.")}},disabled:b,children:b?(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Processing..."]}):"Confirm Booking"})]})]})}),(0,Jn.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Jn.jsxs)("div",{className:"mb-6",children:[(0,Jn.jsxs)(ve,{to:"/client/profile?tab=trucks",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium mb-4",children:[(0,Jn.jsx)(ja,{})," Back to My Trucks"]}),(0,Jn.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-3",children:[(0,Jn.jsx)(ks,{className:"text-blue-600"}),"Book Truck Rental"]}),(0,Jn.jsx)("p",{className:"text-gray-500 mt-1",children:"Fill in the details below to book trucks for your delivery"})]}),(0,Jn.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:(0,Jn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u.pickupLocation&&u.dropoffLocation?u.pickupContactNumber&&u.dropoffContactNumber?0!==u.selectedTrucks.length?v(!0):M("No Trucks Selected","Please select at least one truck for booking."):M("Missing Information","Please provide contact numbers for pickup and drop-off."):M("Missing Information","Please select both pickup and drop-off locations.")},className:"flex flex-col gap-6",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{htmlFor:"weight",className:"text-sm font-bold text-gray-700",children:"Cargo Weight (tons)"}),(0,Jn.jsxs)("div",{className:"flex gap-2",children:[(0,Jn.jsx)("input",{type:"number",id:"weight",name:"weight",value:u.weight,onChange:async e=>{const t=parseFloat(e.target.value);h(t=>Ne(Ne({},t),{},{weight:e.target.value})),!isNaN(t)&&t>0?await G(t):(m([]),h(e=>Ne(Ne({},e),{},{selectedTrucks:[]})))},className:"flex-1 w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,min:"0.1",step:"0.1",placeholder:"Enter cargo weight in tons"}),(0,Jn.jsx)("button",{type:"button",className:"px-5 py-3 rounded-xl font-bold text-white transition-all shadow-md ".concat(!u.weight||parseFloat(u.weight)<=0?"bg-gray-400 cursor-not-allowed":"bg-emerald-500 hover:bg-emerald-600 shadow-emerald-500/20"),onClick:()=>{const e=parseFloat(u.weight);e&&e>0&&G(e)},disabled:!u.weight||parseFloat(u.weight)<=0,children:"\ud83d\ude80 Smart Book"})]}),(0,Jn.jsx)("small",{className:"text-xs text-gray-500",children:'Enter cargo weight and click "Smart Book" to automatically find the optimal truck combination'})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(rs,{className:"inline mr-1"})," Pickup Location"]}),(0,Jn.jsxs)("div",{className:"flex gap-2",children:[(0,Jn.jsx)("input",{type:"text",value:u.pickupLocation,onChange:e=>h(t=>Ne(Ne({},t),{},{pickupLocation:e.target.value})),className:"flex-1 w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"Enter pickup address"}),(0,Jn.jsxs)("button",{type:"button",className:"px-4 py-3 border border-gray-200 text-gray-600 bg-white hover:bg-gray-50 rounded-xl font-medium transition-colors flex items-center gap-2",onClick:()=>Y("pickup"),children:[(0,Jn.jsx)(hs,{})," Map"]})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(rs,{className:"inline mr-1"})," Drop-off Location"]}),(0,Jn.jsxs)("div",{className:"flex gap-2",children:[(0,Jn.jsx)("input",{type:"text",value:u.dropoffLocation,onChange:e=>h(t=>Ne(Ne({},t),{},{dropoffLocation:e.target.value})),className:"flex-1 w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"Enter delivery address"}),(0,Jn.jsxs)("button",{type:"button",className:"px-4 py-3 border border-gray-200 text-gray-600 bg-white hover:bg-gray-50 rounded-xl font-medium transition-colors flex items-center gap-2",onClick:()=>Y("dropoff"),children:[(0,Jn.jsx)(hs,{})," Map"]})]})]}),(0,Jn.jsx)("div",{className:"flex justify-center",children:(0,Jn.jsxs)("button",{type:"button",className:"px-4 py-2 border border-blue-200 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-xl font-bold flex items-center gap-2 transition-colors",onClick:()=>{g(!f)},disabled:!u.pickupCoordinates||!u.dropoffCoordinates,children:[(0,Jn.jsx)(ds,{})," ",f?"Hide Route Preview":"Show Route Preview"]})}),u.pickupCoordinates&&u.dropoffCoordinates&&(0,Jn.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-100",children:[(0,Jn.jsx)("h4",{className:"text-sm font-bold text-blue-800 mb-3 flex items-center gap-2",children:"\ud83d\ude9b Delivery Route Information"}),(0,Jn.jsx)("div",{style:{display:"none"},children:(0,Jn.jsx)(Hm,{pickupCoordinates:u.pickupCoordinates,dropoffCoordinates:u.dropoffCoordinates,pickupAddress:u.pickupLocation,dropoffAddress:u.dropoffLocation,onRouteCalculated:$})}),S&&(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Jn.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-blue-100",children:[(0,Jn.jsx)("div",{className:"text-xs text-gray-500 font-bold uppercase",children:"Distance"}),(0,Jn.jsx)("div",{className:"text-lg font-bold text-gray-800",children:S.distanceText})]}),(0,Jn.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-blue-100",children:[(0,Jn.jsx)("div",{className:"text-xs text-gray-500 font-bold uppercase",children:"Travel Time"}),(0,Jn.jsx)("div",{className:"text-lg font-bold text-gray-800",children:S.durationText})]})]})]}),f&&(0,Jn.jsxs)("div",{className:"border rounded-xl overflow-hidden shadow-md",children:[(0,Jn.jsx)("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:(0,Jn.jsx)("h4",{className:"text-sm font-bold text-gray-700 m-0",children:"Delivery Route Map Preview"})}),(0,Jn.jsx)("div",{className:"h-64 w-full",children:(0,Jn.jsx)(Hm,{pickupCoordinates:u.pickupCoordinates,dropoffCoordinates:u.dropoffCoordinates,pickupAddress:u.pickupLocation,dropoffAddress:u.dropoffLocation,onRouteCalculated:$})})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(Pa,{className:"inline mr-1"})," Delivery Date"]}),(0,Jn.jsx)("input",{type:"date",value:u.deliveryDate,onChange:e=>{const t=e.target.value;h(e=>Ne(Ne({},e),{},{deliveryDate:t,selectedTrucks:[]})),m([])},className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,min:(new Date).toISOString().split("T")[0],disabled:T}),T&&(0,Jn.jsx)("small",{className:"text-xs text-blue-600 animate-pulse font-medium",children:"\ud83d\udd0d Checking truck availability..."}),u.deliveryDate&&_.length>0&&(0,Jn.jsxs)("small",{className:"text-xs text-emerald-600 font-medium",children:["\u2705 ",_.length," truck(s) available on this date"]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"Delivery Time"}),(0,Jn.jsx)("input",{type:"time",value:u.deliveryTime,onChange:e=>h(t=>Ne(Ne({},t),{},{deliveryTime:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0})]}),(0,Jn.jsxs)("div",{className:"bg-blue-50 text-blue-700 p-3 rounded-xl border border-blue-200 text-sm flex items-start gap-2",children:[(0,Jn.jsx)("span",{className:"text-lg",children:"\ud83d\udca1"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("strong",{children:"Tip:"})," If you select a saved location, contact info will be auto-filled"]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[(0,Jn.jsx)("h5",{className:"text-sm font-bold text-blue-800 uppercase tracking-wider mb-4 border-b border-gray-200 pb-2",children:"\ud83d\udccd Pickup Contact Information"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(Cs,{className:"inline mr-1"})," Contact Person"," ",(0,Jn.jsx)("span",{className:"text-gray-400 font-normal text-xs",children:"(Optional)"})]}),(0,Jn.jsx)("input",{type:"text",value:u.pickupContactPerson||"",onChange:e=>h(t=>Ne(Ne({},t),{},{pickupContactPerson:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Person at pickup"})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(os,{className:"inline mr-1"})," Contact Number"," ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsx)("input",{type:"tel",value:u.pickupContactNumber||"",onChange:e=>h(t=>Ne(Ne({},t),{},{pickupContactNumber:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"e.g., 09605877964"})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[(0,Jn.jsx)("h5",{className:"text-sm font-bold text-blue-800 uppercase tracking-wider mb-4 border-b border-gray-200 pb-2",children:"\ud83d\udccd Dropoff Contact Information"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(Cs,{className:"inline mr-1"})," Contact Person"," ",(0,Jn.jsx)("span",{className:"text-gray-400 font-normal text-xs",children:"(Optional)"})]}),(0,Jn.jsx)("input",{type:"text",value:u.dropoffContactPerson||"",onChange:e=>h(t=>Ne(Ne({},t),{},{dropoffContactPerson:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Person at dropoff"})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("label",{className:"text-sm font-bold text-gray-700",children:[(0,Jn.jsx)(os,{className:"inline mr-1"})," Contact Number"," ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsx)("input",{type:"tel",value:u.dropoffContactNumber||"",onChange:e=>h(t=>Ne(Ne({},t),{},{dropoffContactNumber:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",required:!0,placeholder:"e.g., 09605877964"})]})]})]}),u.selectedTrucks.length>0&&S&&(0,Jn.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-200 shadow-sm",children:[(0,Jn.jsx)("h4",{className:"text-base font-bold text-blue-900 mb-3 pb-2 border-b border-blue-200 flex items-center gap-2",children:"\ud83e\uddee Estimated Cost"}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Jn.jsx)("span",{className:"text-gray-600 font-medium",children:"Distance:"}),(0,Jn.jsx)("span",{className:"font-bold text-gray-800",children:S.distanceText})]}),(0,Jn.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Jn.jsx)("span",{className:"text-gray-600 font-medium",children:"Selected Trucks:"}),(0,Jn.jsxs)("span",{className:"font-bold text-gray-800",children:[u.selectedTrucks.length," truck",1!==u.selectedTrucks.length?"s":""]})]}),(0,Jn.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Jn.jsx)("span",{className:"text-gray-600 font-medium",children:"Estimated Cost per Truck:"}),(0,Jn.jsxs)("span",{className:"font-bold text-blue-700",children:["\u20b1",J()]})]}),(0,Jn.jsxs)("div",{className:"flex justify-between items-center pt-2 mt-1 border-t border-blue-200/50",children:[(0,Jn.jsx)("span",{className:"text-base font-bold text-blue-900",children:"Total Estimated Cost:"}),(0,Jn.jsxs)("span",{className:"text-xl font-extrabold text-blue-700",children:["\u20b1",((parseFloat(J())||0)*u.selectedTrucks.length).toFixed(2)]})]})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Jn.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"Select Trucks for Booking"}),(0,Jn.jsx)("p",{className:"text-xs text-gray-500 m-0",children:"\ud83d\udccb Only trucks allocated to your account can be booked. Contact your account manager if you need additional trucks."}),u.weight&&p.length>0&&(0,Jn.jsxs)("div",{className:"bg-emerald-50 text-emerald-800 p-3 rounded-xl border border-emerald-200 mb-3 flex items-start gap-2 text-sm",children:[(0,Jn.jsx)("span",{className:"text-lg",children:"\u2699\ufe0f"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("strong",{children:"Smart Recommendation:"})," ",p.length," truck",1!==p.length?"s":""," recommended for"," ",u.weight," tons cargo"]})]}),Q.length>0?(0,Jn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto pr-1",children:Q.map(e=>{const t=p.some(t=>t.TruckID===e.TruckID),n=u.selectedTrucks.includes(e.TruckID),r=parseFloat(e.TruckCapacity)||0,a=parseFloat(u.weight)||0;let s=0;if(n&&a>0){const e=u.selectedTrucks.map(e=>Q.find(t=>t.TruckID===e)).filter(e=>e),t=e.reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0);if(t>0){s=r/t*a/r*100}}return(0,Jn.jsxs)("div",{className:"relative border rounded-xl p-3 cursor-pointer transition-all hover:translate-y-[-2px] hover:shadow-md ".concat(n?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":t?"border-amber-400 bg-amber-50":"border-gray-200 bg-white hover:bg-gray-50"),onClick:()=>{return t=e.TruckID,void h(e=>{const n=e.selectedTrucks.includes(t);return Ne(Ne({},e),{},{selectedTrucks:n?e.selectedTrucks.filter(e=>e!==t):[...e.selectedTrucks,t]})});var t},children:[t&&(0,Jn.jsx)("div",{className:"absolute top-2 right-2 bg-amber-400 text-white text-[10px] font-extrabold px-2 py-0.5 rounded shadow-sm z-10",children:"RECOMMENDED"}),(0,Jn.jsxs)("div",{className:"flex gap-3 items-center mb-2",children:[(0,Jn.jsx)("div",{className:"p-2 rounded-lg ".concat(n?"bg-blue-200 text-blue-700":"bg-gray-100 text-gray-500"),children:(0,Jn.jsx)(ks,{className:"text-xl"})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"font-bold text-gray-800 text-sm",children:e.TruckPlate}),(0,Jn.jsx)("div",{className:"text-xs text-gray-500 uppercase font-medium",children:e.TruckType})]})]}),(0,Jn.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[e.TruckCapacity," tons capacity"]}),(0,Jn.jsx)("div",{className:"absolute top-2 right-2",children:n&&(0,Jn.jsx)("span",{className:"text-blue-600 font-bold text-lg",children:"\u2713"})}),(0,Jn.jsx)("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:(0,Jn.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(s>100?"bg-red-500":"bg-emerald-500"),style:{width:"".concat(Math.min(100,s),"%")}})}),(0,Jn.jsxs)("div",{className:"text-[10px] text-gray-500 mt-1 text-right font-medium",children:[s.toFixed(0),"% utilized"]})]},e.TruckID)})}):(0,Jn.jsxs)("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-xl p-6 text-center text-gray-500",children:[(0,Jn.jsx)("p",{className:"m-0 font-medium",children:"No available trucks for booking."}),(0,Jn.jsx)("p",{className:"m-0 text-sm mt-1",children:"All trucks are currently in use or contact your account manager to get trucks allocated."})]}),(0,Jn.jsxs)("small",{className:"text-xs text-gray-500 mt-2 block",children:[u.selectedTrucks.length," truck",1!==u.selectedTrucks.length?"s":""," selected",u.selectedTrucks.length>0&&(0,Jn.jsxs)("span",{className:"font-medium text-gray-700",children:[" ","\u2022 Total capacity:"," ",u.selectedTrucks.map(e=>r.find(t=>t.TruckID===e)).filter(e=>e).reduce((e,t)=>e+(parseFloat(t.TruckCapacity)||0),0)," ","tons"]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,Jn.jsx)("button",{type:"button",className:"px-6 py-3 border border-gray-200 rounded-xl text-gray-600 bg-white hover:bg-gray-50 transition-colors font-medium",onClick:()=>n.push("/client/profile?tab=trucks"),children:"Cancel"}),(0,Jn.jsxs)("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",disabled:0===u.selectedTrucks.length,children:["Book ",u.selectedTrucks.length," Truck",1!==u.selectedTrucks.length?"s":""]})]})]})})]})]})},JL=e=>{var n;let{documents:r,truckPlate:a}=e;const[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),p=(e,t)=>{if(t&&(t.fullPath||t.filename))try{console.log("\ud83d\udcc4 handleFileDownload called"),console.log("Document object:",t),console.log("docType:",e);let n=t.filename;if(!n&&t.fullPath){const e=t.fullPath.split(/[\\\/]/);n=e[e.length-1]}console.log("\u2705 Using filename:",n);let r="";const a=e.toLowerCase();a.includes("or")||a.includes("cr")?r="OR-CR-Files":a.includes("insurance")?r="Insurance-Papers":a.includes("idphoto")||"id-photos"===a?r="ID-Photos":a.includes("license")&&!a.includes("nbi")?r="Licenses":a.includes("medical")?r="Medical-Certificates":a.includes("nbi")?r="NBI-Clearances":(a.includes("permit")||"business-permits"===a)&&(r="Business-Permits");let s="";s=t.fullPath?t.fullPath.includes("Truck-Documents")?"Truck-Documents":t.fullPath.includes("Driver-Documents")?"Driver-Documents":t.fullPath.includes("Helper-Documents")?"Helper-Documents":t.fullPath.includes("Client-Documents")?"Client-Documents":t.fullPath.includes("Staff-Documents")?"Staff-Documents":"Driver-Documents":"Driver-Documents";const i=(r?"".concat(s,"/").concat(r,"/").concat(n):"".concat(s,"/").concat(n)).split("/").map(e=>encodeURIComponent(e)).join("/"),o="/api/documents/view/".concat(i);console.log("\ud83d\udd17 API URL:",o),console.log("\ud83d\udcc1 Main folder:",s),console.log("\ud83d\udcc2 Subfolder:",r),console.log("\ud83d\udcc4 Filename:",n);/\.(jpg|jpeg|png|gif|webp)$/i.test(n)?(d(o),h(!0)):window.open(o,"_blank")}catch(Bx){console.error("Error opening file:",Bx),alert("Error opening the document. Please try again.")}},m=e=>{switch(e.toLowerCase()){case"orDocument":case"or-cr-files":return"\ud83d\udcc4";case"crDocument":return"\ud83d\udccb";case"insuranceDocument":case"insurance-papers":return"\ud83d\udee1\ufe0f";case"licenseRequirement":return"\ud83d\ude97";case"id-photos":return"\ud83e\udeaa";case"licenses":return"\ud83d\udcdc";case"medical-certificates":return"\ud83c\udfe5";case"nbi-clearances":return"\ud83d\udc6e";case"business-permits":return"\ud83d\udcd1";default:return"\ud83d\udcce"}},f=e=>{switch(e.toLowerCase()){case"orDocument":case"or-cr-files":return"OR/CR Files";case"crDocument":return"Certificate of Registration";case"insuranceDocument":case"insurance-papers":return"Insurance Papers";case"licenseRequirement":return"License Requirement";case"id-photos":return"ID Photos";case"licenses":return"Licenses";case"medical-certificates":return"Medical Certificates";case"nbi-clearances":return"NBI Clearances";case"business-permits":return"Business Permits";default:return e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}},g=()=>{l(!1),i(null)};return r&&0!==Object.keys(r).length?(0,Jn.jsxs)("div",{className:"file-viewer",children:[(0,Jn.jsx)("div",{className:"documents-simple-list",children:Object.entries(r).map(e=>{let[t,n]=e;return n&&n.fullPath?(0,Jn.jsxs)("div",{className:"document-simple-item",children:[(0,Jn.jsxs)("div",{className:"document-simple-info",children:[(0,Jn.jsx)("span",{className:"document-simple-icon",children:m(t)}),(0,Jn.jsxs)("div",{className:"document-simple-text",children:[(0,Jn.jsx)("span",{className:"document-simple-label",children:f(t)}),(0,Jn.jsx)("span",{className:"document-simple-name",children:n.originalName||n.filename})]})]}),(0,Jn.jsx)("button",{className:"document-view-btn",onClick:()=>p(t,n),title:"View Document",children:"View"})]},t):null})}),o&&s&&(0,Jn.jsx)("div",{className:"file-modal-overlay",onClick:g,children:(0,Jn.jsxs)("div",{className:"file-modal",onClick:e=>e.stopPropagation(),children:[(0,Jn.jsxs)("div",{className:"file-modal-header",children:[(0,Jn.jsxs)("h3",{children:["\ud83d\udcc4 ",f(s.docType)]}),(0,Jn.jsx)("button",{className:"modal-close",onClick:g,children:"\u2715"})]}),(0,Jn.jsxs)("div",{className:"file-modal-content",children:[(0,Jn.jsx)("div",{className:"file-preview",children:(e=>{var t;const n=null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase();return["png","jpg","jpeg","gif","webp"].includes(n)})(s.document.filename)?(0,Jn.jsxs)("div",{className:"image-preview",children:[(0,Jn.jsx)("img",{src:"file://".concat(s.document.fullPath),alt:s.document.filename,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,Jn.jsxs)("div",{className:"image-fallback",style:{display:"none"},children:[(0,Jn.jsx)("div",{className:"fallback-icon",children:"\ud83d\uddbc\ufe0f"}),(0,Jn.jsx)("p",{children:"Image Preview Unavailable"}),(0,Jn.jsxs)("p",{className:"fallback-text",children:["File: ",s.document.filename]})]})]}):(0,Jn.jsxs)("div",{className:"file-icon-preview",children:[(0,Jn.jsx)("div",{className:"large-file-icon",children:(e=>{var t;switch(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()){case"pdf":return"\ud83d\udcc4";case"png":case"jpg":case"jpeg":case"gif":case"webp":return"\ud83d\uddbc\ufe0f";case"doc":case"docx":return"\ud83d\udcdd";case"xls":case"xlsx":return"\ud83d\udcca";default:return"\ud83d\udcce"}})(s.document.filename)}),(0,Jn.jsxs)("p",{className:"file-type-text",children:[null===(n=s.document.filename.split(".").pop())||void 0===n?void 0:n.toUpperCase()," ","File"]})]})}),(0,Jn.jsxs)("div",{className:"file-details",children:[(0,Jn.jsxs)("div",{className:"detail-section",children:[(0,Jn.jsx)("h4",{children:"\ud83d\udccb File Information"}),(0,Jn.jsxs)("div",{className:"detail-grid",children:[(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Document Type:"}),(0,Jn.jsx)("span",{className:"detail-value",children:f(s.docType)})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"File Name:"}),(0,Jn.jsx)("span",{className:"detail-value",children:s.document.filename})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"File Size:"}),(0,Jn.jsx)("span",{className:"detail-value",children:(e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(s.document.fileSize)})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Upload Date:"}),(0,Jn.jsx)("span",{className:"detail-value",children:new Date(s.document.uploadDate).toLocaleString()})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Last Modified:"}),(0,Jn.jsx)("span",{className:"detail-value",children:new Date(s.document.lastModified).toLocaleString()})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"MIME Type:"}),(0,Jn.jsx)("span",{className:"detail-value",children:s.document.mimeType})]})]})]}),(0,Jn.jsxs)("div",{className:"detail-section",children:[(0,Jn.jsx)("h4",{children:"\ud83d\udcc1 File Location"}),(0,Jn.jsxs)("div",{className:"file-path-display",children:[(0,Jn.jsx)("p",{className:"path-label",children:"Full Path:"}),(0,Jn.jsx)("p",{className:"path-value",children:s.document.fullPath}),(0,Jn.jsx)("p",{className:"path-label",children:"Relative Path:"}),(0,Jn.jsx)("p",{className:"path-value",children:s.document.relativePath})]})]})]})]}),(0,Jn.jsxs)("div",{className:"file-modal-footer",children:[(0,Jn.jsx)("button",{className:"btn-primary",onClick:()=>p(s.docType,s.document),children:"\ud83d\udcc4 View Document"}),(0,Jn.jsx)("button",{className:"btn-secondary",onClick:()=>(e=>{if(e&&e.fullPath)try{const t=e.fullPath.substring(0,e.fullPath.lastIndexOf("\\"));navigator.platform.includes("Win")?alert("Opening folder: ".concat(t,"\n\nIf the folder doesn't open automatically, please:\n1. Press Win + R\n2. Type: explorer \"").concat(t,'"\n3. Press Enter')):alert("File location: ".concat(e.fullPath))}catch(Bx){console.error("Error opening folder:",Bx),alert("File location: ".concat(e.fullPath))}})(s.document),children:"\ud83d\udccd Show Location"}),(0,Jn.jsx)("button",{className:"btn-close",onClick:g,children:"Close"})]})]})}),u&&c&&(0,Jn.jsx)("div",{className:"modal-overlay",children:(0,Jn.jsxs)("div",{className:"image-modal",children:[(0,Jn.jsxs)("div",{className:"image-modal-header",children:[(0,Jn.jsx)("h3",{children:"Document Preview"}),(0,Jn.jsx)("button",{className:"close-button",onClick:()=>{h(!1),d(null)},children:"\u2715"})]}),(0,Jn.jsx)("div",{className:"image-modal-content",children:(0,Jn.jsx)("img",{src:c,alt:"Document Preview",style:{maxWidth:"100%",maxHeight:"80vh"}})})]})})]}):(0,Jn.jsx)("div",{className:"file-viewer",children:(0,Jn.jsx)("p",{className:"no-documents",children:"No documents uploaded yet"})})},XL=e=>{var n;let{currentUser:r}=e;const a=Yn,{isWithinTimeframe:s,getFormattedDateRange:i}=ua(),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(!0),[x,v]=(0,t.useState)(!1),[b,y]=(0,t.useState)(null),[w,j]=(0,t.useState)("all"),[N,k]=(0,t.useState)("all"),[S,C]=(0,t.useState)("all"),[_,P]=(0,t.useState)("all"),[A,D]=(0,t.useState)("all"),[T,L]=(0,t.useState)("all"),[E,I]=(0,t.useState)(""),R=[w,_,A,T,S,N].filter(e=>e&&"all"!==e).length,[M,F]=(0,t.useState)({}),[O,z]=(0,t.useState)(null),[B,U]=(0,t.useState)(!1),[q,W]=(0,t.useState)("table"),[H,V]=(0,t.useState)("TruckPlate"),[G,K]=(0,t.useState)("asc"),[Y,$]=(0,t.useState)(1),J=e=>{z(e),U(!0)},X=()=>{U(!1),z(null)},Q=e=>{H===e?K("asc"===G?"desc":"asc"):(V(e),K("asc"))},Z=Math.ceil(c.length/20);(0,t.useEffect)(()=>{(async()=>{try{g(!0);const[e,t,n]=await Promise.all([Gn.get("".concat(a,"/api/trucks/actual-documents")),Gn.get("".concat(a,"/api/deliveries")).catch(e=>(console.warn("Failed to fetch deliveries:",e),{data:[]})),Gn.get("".concat(a,"/api/admin/allocations")).catch(e=>(console.warn("Failed to fetch allocations:",e),{data:[]}))]);console.log("Raw API response (trucks with actual documents):",e.data),console.log("Raw API response (deliveries):",t.data),console.log("Raw API response (allocations):",n.data);const r=Array.isArray(t.data)?t.data:[];h(r),console.log("\ud83d\udce6 Loaded ".concat(r.length," deliveries for truck status validation"));const s=Array.isArray(n.data)?n.data:[];m(s),console.log("\ud83d\udd17 Loaded ".concat(s.length," allocations for truck status validation"));const i=Array.isArray(e.data)?e.data:e.data.trucks;if(i&&i.length>0){const e=i.filter(e=>{const t=e.id||e.TruckID;return!(!t||20!==t.length||/document/i.test(t))||(console.warn("\u26a0\ufe0f Skipping truck with invalid ID: ".concat(t),e),!1)});console.log("\ud83d\udcca Filtered ".concat(i.length-e.length," invalid trucks"));const t=e.map(e=>{const t=e.id||e.TruckID,n=r.some(n=>{const r=n.TruckID||n.truckId,a=(n.DeliveryStatus||n.deliveryStatus||"").toLowerCase(),s=r===t&&("pending"===a||"in-progress"===a);return s&&console.log("\ud83d\ude9b Truck ".concat(e.truckPlate||t," has active delivery (").concat(a,")")),s}),a=s.some(n=>{const r=n.truckId||n.TruckID,a=(n.status||"").toLowerCase(),s=r===t&&"active"===a;return s&&console.log("\ud83d\udd17 Truck ".concat(e.truckPlate||t," has active allocation (Client: ").concat(n.clientId||"Unknown",")")),s});return console.log("Processing truck ".concat(e.truckPlate||t,": hasActiveDelivery=").concat(n,", hasActiveAllocation=").concat(a)),{TruckID:t,TruckPlate:e.truckPlate||e.TruckPlate,TruckType:e.truckType||e.TruckType,TruckCapacity:e.truckCapacity||e.TruckCapacity,TruckBrand:e.truckBrand||e.TruckBrand||"Unknown",ModelYear:e.modelYear||e.ModelYear||null,registrationDate:e.registrationDate,registrationExpiryDate:e.registrationExpiryDate,registrationExpiryWarning:e.registrationExpiryWarning||!1,registrationExpiryDaysRemaining:e.registrationExpiryDaysRemaining||null,TruckStatus:e.truckStatus||e.TruckStatus||"unknown",TotalKilometers:e.TotalKilometers||e.totalKilometers||0,TotalDeliveries:e.TotalDeliveries||e.totalCompletedDeliveries||0,AverageKmPerDelivery:e.averageKmPerDelivery||0,LastOdometerUpdate:e.lastOdometerUpdate,DateAdded:e.dateAdded||e.created_at,AllocationStatus:a?"allocated":"available",OperationalStatus:e.operationalStatus||"active",AvailabilityStatus:e.availabilityStatus||"free",StatusSummary:n?"On Delivery":a?"Allocated":e.statusSummary||"Available",IsAvailable:!n&&!a&&!1!==e.isAvailable,IsAllocated:a,IsInUse:n,NeedsMaintenance:!0===e.needsMaintenance,documents:e.documents||{},documentCompliance:e.documentCompliance||null,licenseRequirements:e.licenseRequirements||null}});console.log("Trucks with documents and delivery status:",t),l(t)}else console.warn("Invalid response format:",e.data),l([])}catch(e){console.error("Error fetching data:",e),y("Failed to load data: ".concat(e.message)),l([])}finally{g(!1)}})()},[]);const ee=e=>[...new Set(o.map(t=>t[e]).filter(Boolean))].sort();o.length,o.filter(e=>"active"===e.OperationalStatus).length,o.filter(e=>e.IsAllocated).length,o.filter(e=>e.IsInUse).length,o.filter(e=>!0===e.NeedsMaintenance||"maintenance"===e.OperationalStatus).length;(0,t.useEffect)(()=>{let e=[...o];if(s&&(e=e.filter(e=>!e.CreatedAt&&!e.createdAt||s(e.CreatedAt||e.createdAt))),"all"!==w&&(e=e.filter(e=>{switch(w){case"available":return e.IsAvailable&&!e.IsAllocated&&!e.IsInUse;case"allocated":return e.IsAllocated;case"on-delivery":return e.IsInUse;case"maintenance":return e.NeedsMaintenance;case"scheduled":return"scheduled"===e.AvailabilityStatus;default:return!0}})),"all"!==N&&(e=e.filter(e=>{var t;return(null===(t=e.AllocationStatus)||void 0===t?void 0:t.toLowerCase())===N})),"all"!==S&&(e=e.filter(e=>{var t;return(null===(t=e.OperationalStatus)||void 0===t?void 0:t.toLowerCase())===S})),"all"!==_&&(e=e.filter(e=>e.TruckType===_)),"all"!==A&&(e=e.filter(e=>e.TruckBrand===A)),"all"!==T&&(e=e.filter(e=>(console.log("Filtering truck by compliance:",e,"filter:",T),e&&e.documentCompliance&&e.documentCompliance.overallStatus?e.documentCompliance.overallStatus===T:"incomplete"===T))),E.trim()){const t=E.toLowerCase().trim();e=e.filter(e=>{var n,r,a,s;return(null===(n=e.TruckPlate)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.TruckType)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.TruckBrand)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(s=e.TruckID)||void 0===s?void 0:s.toLowerCase().includes(t))})}d(e)},[o,w,N,S,_,A,T,E,s]);const te=e=>{const t="px-2.5 py-0.5 rounded-full text-xs font-bold capitalize border";switch(null===e||void 0===e?void 0:e.toLowerCase()){case"available":case"active":case"free":return"".concat(t," bg-emerald-100 text-emerald-700 border-emerald-200");case"allocated":case"reserved":return"".concat(t," bg-blue-100 text-blue-700 border-blue-200");case"on-delivery":case"busy":return"".concat(t," bg-amber-100 text-amber-700 border-amber-200");case"maintenance":return"".concat(t," bg-red-100 text-red-700 border-red-200");case"out-of-service":return"".concat(t," bg-gray-600 text-white border-gray-600");case"scheduled":case"standby":return"".concat(t," bg-purple-100 text-purple-700 border-purple-200");case"registration-expiring":return"".concat(t," bg-amber-50 text-amber-600 border-amber-200");case"registration-expired":return"".concat(t," bg-red-50 text-red-600 border-red-200");default:return"".concat(t," bg-gray-100 text-gray-700 border-gray-200")}},ne=e=>e?e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "):"Unknown",re=e=>"registration-expired"===e.OperationalStatus||"registration-expiring"===e.OperationalStatus?"Inactive":ne(e.OperationalStatus)||"Active",ae=e=>"registration-expired"===e.OperationalStatus||"registration-expiring"===e.OperationalStatus?"".concat("px-2.5 py-0.5 rounded-full text-xs font-bold capitalize border"," bg-gray-100 text-gray-500 border-gray-200"):te(e.OperationalStatus);return f?(0,Jn.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Jn.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin"}),(0,Jn.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading trucks data..."})]})}):b?(0,Jn.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Jn.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center max-w-md w-full",children:[(0,Jn.jsx)("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4 text-red-500",children:(0,Jn.jsx)(or,{size:32})}),(0,Jn.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Error Loading Data"}),(0,Jn.jsx)("p",{className:"text-gray-500 mb-6",children:b}),(0,Jn.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"Retry"})]})}):(0,Jn.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Jn.jsx)(Fm,{currentUser:r}),(0,Jn.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-1 mb-8",children:[(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Truck Management"}),(0,Jn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your fleet vehicles, track documents, and monitor compliance status"})]}),(0,Jn.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-xs font-medium text-gray-600 shadow-sm",children:[(0,Jn.jsx)(mr,{size:14,className:"text-gray-400"}),(0,Jn.jsxs)("span",{children:["Showing data for: ",i()]})]})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-6",children:[(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600",children:(0,Jn.jsx)(Gr,{size:24})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),(0,Jn.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Total Trucks"}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium text-emerald-600 mt-1",children:[(0,Jn.jsx)(cr,{size:12}),(0,Jn.jsx)("span",{children:"+2.1%"})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-600",children:(0,Jn.jsx)(fr,{size:24})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.filter(e=>"active"===e.OperationalStatus).length}),(0,Jn.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Available"}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium text-emerald-600 mt-1",children:[(0,Jn.jsx)(cr,{size:12}),(0,Jn.jsx)("span",{children:"+1.5%"})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 bg-purple-50 rounded-full flex items-center justify-center text-purple-600",children:(0,Jn.jsx)(yr,{size:24})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.filter(e=>!0===e.IsAllocated).length}),(0,Jn.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Allocated"}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium text-gray-500 mt-1",children:[(0,Jn.jsx)(ir,{size:12}),(0,Jn.jsx)("span",{children:"0.0%"})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-md",children:[(0,Jn.jsx)("div",{className:"w-12 h-12 bg-red-50 rounded-full flex items-center justify-center text-red-600",children:(0,Jn.jsx)(Wr,{size:24})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.filter(e=>!0===e.NeedsMaintenance||"maintenance"===e.OperationalStatus).length}),(0,Jn.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Maintenance"}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium text-red-600 mt-1",children:[(0,Jn.jsx)(lr,{size:12}),(0,Jn.jsx)("span",{children:"-0.8%"})]})]})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm mb-6 relative",children:[(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,Jn.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,Jn.jsx)(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search trucks by plate, brand, or type...",value:E,onChange:e=>I(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(x?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>v(!x),children:[(0,Jn.jsx)(Dr,{size:18}),"Filters",R>0&&(0,Jn.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:R})]}),(0,Jn.jsxs)("div",{className:"flex items-center bg-gray-100 p-1 rounded-lg border border-gray-200",children:[(0,Jn.jsx)("button",{onClick:()=>W("table"),className:"p-2 rounded-md transition-all ".concat("table"===q?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Table View",children:(0,Jn.jsx)(Lr,{size:18})}),(0,Jn.jsx)("button",{onClick:()=>W("cards"),className:"p-2 rounded-md transition-all ".concat("cards"===q?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Card View",children:(0,Jn.jsx)(Tr,{size:18})})]})]})]}),(0,Jn.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium",children:["Showing ",c.length," of ",o.length," trucks"]}),x&&(0,Jn.jsxs)("div",{className:"absolute top-full mt-2 right-0 md:left-0 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-[480px] max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Jn.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,Jn.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>v(!1),children:(0,Jn.jsx)($r,{size:20})})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Type"}),(0,Jn.jsxs)("select",{value:_,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Types"}),ee("TruckType").map(e=>(0,Jn.jsx)("option",{value:e,children:e},e))]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Brand"}),(0,Jn.jsxs)("select",{value:A,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Brands"}),ee("TruckBrand").map(e=>(0,Jn.jsx)("option",{value:e,children:e},e))]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Compliance"}),(0,Jn.jsxs)("select",{value:T,onChange:e=>L(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Compliance"}),(0,Jn.jsx)("option",{value:"complete",children:"Complete"}),(0,Jn.jsx)("option",{value:"incomplete",children:"Incomplete"}),(0,Jn.jsx)("option",{value:"expired",children:"Expired"})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,Jn.jsxs)("select",{value:w,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Status"}),(0,Jn.jsx)("option",{value:"available",children:"Available"}),(0,Jn.jsx)("option",{value:"allocated",children:"Allocated"}),(0,Jn.jsx)("option",{value:"on-delivery",children:"On Delivery"}),(0,Jn.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,Jn.jsx)("option",{value:"scheduled",children:"Scheduled"})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5 col-span-2",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Operational"}),(0,Jn.jsxs)("select",{value:S,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Operational"}),(0,Jn.jsx)("option",{value:"active",children:"Active"}),(0,Jn.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,Jn.jsx)("option",{value:"out-of-service",children:"Out of Service"}),(0,Jn.jsx)("option",{value:"standby",children:"Standby"})]})]})]}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{j("all"),k("all"),C("all"),P("all"),D("all"),L("all"),I("")},children:[(0,Jn.jsx)(Ar,{size:16})," Reset"]}),(0,Jn.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>v(!1),children:"Apply Filters"})]})]})]}),0===c.length?(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,Jn.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-400",children:(0,Jn.jsx)(Gr,{size:40})}),(0,Jn.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No trucks found"}),(0,Jn.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:"No trucks match your current filters. Try adjusting your search criteria or add a new truck."}),(0,Jn.jsxs)(ve,{to:"/admin/trucks/add",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl shadow-sm shadow-blue-200 transition-colors",children:[(0,Jn.jsx)(zr,{size:20}),"Add Your First Truck"]})]}):"table"===q?(0,Jn.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,Jn.jsx)("div",{className:"overflow-x-auto",children:(0,Jn.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,Jn.jsxs)("th",{onClick:()=>Q("TruckPlate"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Plate Number"," ","TruckPlate"===H&&("asc"===G?"\u2191":"\u2193")]}),(0,Jn.jsxs)("th",{onClick:()=>Q("TruckType"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Type"," ","TruckType"===H&&("asc"===G?"\u2191":"\u2193")]}),(0,Jn.jsxs)("th",{onClick:()=>Q("TruckBrand"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Brand"," ","TruckBrand"===H&&("asc"===G?"\u2191":"\u2193")]}),(0,Jn.jsxs)("th",{onClick:()=>Q("ModelYear"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Year"," ","ModelYear"===H&&("asc"===G?"\u2191":"\u2193")]}),(0,Jn.jsxs)("th",{onClick:()=>Q("OperationalStatus"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Status"," ","OperationalStatus"===H&&("asc"===G?"\u2191":"\u2193")]}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Registration Status"}),(0,Jn.jsxs)("th",{onClick:()=>Q("documentCompliance"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Compliance"," ","documentCompliance"===H&&("asc"===G?"\u2191":"\u2193")]}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,Jn.jsx)("tbody",{className:"divide-y divide-gray-50 border-t border-gray-100",children:(()=>{let e=[...c];e.sort((e,t)=>{let n=e[H],r=t[H];var a,s;"documentCompliance"===H&&(n=(null===(a=e.documentCompliance)||void 0===a?void 0:a.requiredDocumentCount)||0,r=(null===(s=t.documentCompliance)||void 0===s?void 0:s.requiredDocumentCount)||0);return n<r?"asc"===G?-1:1:n>r?"asc"===G?1:-1:0});const t=20*(Y-1),n=t+20;return e.slice(t,n)})().map(e=>{var t;return(0,Jn.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,Jn.jsx)(Gr,{size:16})}),(0,Jn.jsx)("span",{className:"font-medium text-gray-900 line-clamp-1",children:e.TruckPlate})]})}),(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-700 capitalize",children:e.TruckType||"N/A"})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.TruckBrand||"Unknown"}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.ModelYear||"N/A"}),(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsx)("span",{className:ae(e),children:re(e)})}),(0,Jn.jsx)("td",{className:"px-6 py-4",children:e.registrationExpiryWarning?(0,Jn.jsx)("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat("registration-expired"===e.OperationalStatus?"bg-red-50 text-red-700 border-red-200":"bg-amber-50 text-amber-700 border-amber-200"),children:"registration-expired"===e.OperationalStatus?(0,Jn.jsxs)("span",{children:[(0,Jn.jsx)(or,{size:14,className:"inline mr-1"}),"Expired"]}):(0,Jn.jsxs)("span",{children:[(0,Jn.jsx)(yr,{size:14,className:"inline mr-1"}),"Expires in"," ",e.registrationExpiryDaysRemaining," days"]})}):(0,Jn.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-50 text-emerald-700 border border-emerald-200",children:"Active"})}),(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("span",{className:"text-lg",children:ie(e)}),(0,Jn.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,"/3"]})]})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Jn.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Jn.jsx)("button",{onClick:()=>J(e),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,Jn.jsx)(Cr,{size:18})}),(0,Jn.jsx)(ve,{to:"/admin/trucks/edit/".concat(e.TruckID),className:"p-1.5 text-gray-500 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Edit Truck",children:(0,Jn.jsx)(Sr,{size:18})})]})})]},e.TruckID)})})]})}),Z>1&&(0,Jn.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50/50",children:[(0,Jn.jsx)("button",{onClick:()=>$(e=>Math.max(1,e-1)),disabled:1===Y,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm font-medium",children:"\u2190 Previous"}),(0,Jn.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:["Page ",Y," of ",Z," (",c.length," ","trucks)"]}),(0,Jn.jsx)("button",{onClick:()=>$(e=>Math.min(Z,e+1)),disabled:Y===Z,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm font-medium",children:"Next \u2192"})]})]}):(0,Jn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map(e=>{var t;null===(n=e.TruckType)||void 0===n||n.toLowerCase();var n;(e=>{const t="px-2.5 py-0.5 rounded-full text-xs font-bold capitalize border";e.NeedsMaintenance?"".concat(t," bg-red-100 text-red-700 border-red-200"):e.IsInUse?"".concat(t," bg-amber-100 text-amber-700 border-amber-200"):e.IsAllocated?"".concat(t," bg-blue-100 text-blue-700 border-blue-200"):e.IsAvailable?"".concat(t," bg-emerald-100 text-emerald-700 border-emerald-200"):"".concat(t," bg-gray-100 text-gray-700 border-gray-200")})(e);return(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow group",children:[(0,Jn.jsxs)("div",{className:"p-5 border-b border-gray-50 flex justify-between items-start gap-3",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,Jn.jsx)(Gr,{size:20})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"font-bold text-gray-900",children:e.TruckPlate}),(0,Jn.jsx)("p",{className:"text-xs text-gray-500 font-medium bg-gray-100 px-2 py-0.5 rounded mt-1 inline-block capitalize",children:e.TruckType})]})]}),(0,Jn.jsx)("div",{className:"flex flex-col items-end gap-1",children:(0,Jn.jsx)("span",{className:ae(e),children:re(e)})})]}),(0,Jn.jsxs)("div",{className:"p-5 space-y-4",children:[(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 uppercase font-semibold block mb-1",children:"Brand"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.TruckBrand||"Unknown"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 uppercase font-semibold block mb-1",children:"Year"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.ModelYear||"-"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 uppercase font-semibold block mb-1",children:"Total KM"}),(0,Jn.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[e.TotalKilometers||0," km"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 uppercase font-semibold block mb-1",children:"Deliveries"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.TotalDeliveries||0})]})]}),(0,Jn.jsx)("div",{className:"pt-4 border-t border-gray-50",children:(0,Jn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Jn.jsx)("span",{className:"text-gray-500",children:"Allocation:"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-700",children:ne(e.AllocationStatus)})]})})]}),(0,Jn.jsxs)("div",{className:"px-5 py-3 border-t flex items-center justify-between ".concat(se(e).includes("complete")?"bg-emerald-50/50 border-emerald-100":"bg-gray-50/50 border-gray-100"),children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("span",{className:"text-lg",children:ie(e)}),(0,Jn.jsxs)("div",{className:"text-xs",children:[(0,Jn.jsx)("div",{className:"font-medium ".concat(se(e).includes("complete")?"text-emerald-700":"text-gray-600"),children:oe(e)}),(0,Jn.jsxs)("div",{className:"text-gray-500",children:[(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,"/3 documents"]})]})]}),(0,Jn.jsxs)("div",{className:"text-xs font-medium text-gray-500 bg-white px-2 py-1 rounded border border-gray-200 shadow-sm",children:[Object.keys(e.documents||{}).length," files"]})]}),(0,Jn.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-100 grid grid-cols-2 gap-3",children:[(0,Jn.jsxs)(ve,{to:"/admin/trucks/edit/".concat(e.TruckID),className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all text-sm font-medium shadow-sm",children:[(0,Jn.jsx)(Sr,{size:16}),"Edit"]}),(0,Jn.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all text-sm font-medium shadow-sm",onClick:()=>J(e),children:[(0,Jn.jsx)(Cr,{size:16}),"Details"]}),(0,Jn.jsxs)("button",{className:"col-span-2 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all shadow-sm ".concat(M[e.TruckID]?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-200"),onClick:()=>(async e=>{try{F(t=>Ne(Ne({},t),{},{[e]:!0}));const[t,n,r]=await Promise.all([Gn.get("".concat(a,"/api/trucks/actual-documents")),Gn.get("".concat(a,"/api/deliveries")).catch(e=>(console.warn("Failed to fetch deliveries:",e),{data:u})),Gn.get("".concat(a,"/api/admin/allocations")).catch(e=>(console.warn("Failed to fetch allocations:",e),{data:p}))]),s=Array.isArray(n.data)?n.data:[];h(s);const i=Array.isArray(r.data)?r.data:[];m(i);const o=Array.isArray(t.data)?t.data:t.data.trucks;if(o&&o.length>0){const e=o.map(e=>{const t=e.id||e.TruckID,n=s.some(e=>{const n=e.TruckID||e.truckId,r=(e.DeliveryStatus||e.deliveryStatus||"").toLowerCase();return n===t&&("pending"===r||"in-progress"===r)}),r=i.some(e=>{const n=e.truckId||e.TruckID,r=(e.status||"").toLowerCase();return n===t&&"active"===r});return{TruckID:t,TruckPlate:e.truckPlate||e.TruckPlate,TruckType:e.truckType||e.TruckType,TruckCapacity:e.truckCapacity||e.TruckCapacity,TruckBrand:e.truckBrand||e.TruckBrand||"Unknown",ModelYear:e.modelYear||e.ModelYear||null,registrationDate:e.registrationDate,registrationExpiryDate:e.registrationExpiryDate,registrationExpiryWarning:e.registrationExpiryWarning||!1,registrationExpiryDaysRemaining:e.registrationExpiryDaysRemaining||null,TruckStatus:e.truckStatus||e.TruckStatus||"unknown",TotalKilometers:e.TotalKilometers||e.totalKilometers||0,TotalDeliveries:e.TotalDeliveries||e.totalCompletedDeliveries||0,AverageKmPerDelivery:e.averageKmPerDelivery||0,LastOdometerUpdate:e.lastOdometerUpdate,DateAdded:e.dateAdded||e.created_at,AllocationStatus:r?"allocated":"available",OperationalStatus:e.operationalStatus||"active",AvailabilityStatus:e.availabilityStatus||"free",StatusSummary:n?"On Delivery":r?"Allocated":e.statusSummary||"Available",IsAvailable:!n&&!r&&!1!==e.isAvailable,IsAllocated:r,IsInUse:n,NeedsMaintenance:!0===e.needsMaintenance,documents:e.documents||{},documentCompliance:e.documentCompliance||null,licenseRequirements:e.licenseRequirements||null}});l(e)}}catch(t){console.error("Error recalculating kilometers:",t),y("Failed to recalculate kilometers: ".concat(t.message))}finally{F(t=>Ne(Ne({},t),{},{[e]:!1}))}})(e.TruckID,e.TruckPlate),disabled:M[e.TruckID],children:[M[e.TruckID]?(0,Jn.jsx)(yr,{size:16,className:"animate-spin"}):(0,Jn.jsx)(ir,{size:16}),M[e.TruckID]?"Recalculating...":"Recalculate KM"]})]})]},e.TruckID)})}),B&&O&&(0,Jn.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:X,children:(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,Jn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center",children:(0,Jn.jsx)(Gr,{size:20})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:[O.TruckPlate," Details"]}),(0,Jn.jsx)("p",{className:"text-sm text-gray-500",children:"View complete truck information and documents"})]})]}),(0,Jn.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:X,children:(0,Jn.jsx)($r,{size:24})})]}),(0,Jn.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,Jn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Jn.jsxs)("div",{className:"space-y-6",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udccb Basic Information"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Truck ID"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:O.TruckID})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Plate Number"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:O.TruckPlate})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Type"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900 capitalize",children:O.TruckType})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Brand"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:O.TruckBrand||"Unknown"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Model Year"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:O.ModelYear||"N/A"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Capacity"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:O.TruckCapacity||"N/A"})]})]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcca Performance Metrics"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Total Kilometers"}),(0,Jn.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[(null===(n=O.TotalKilometers)||void 0===n?void 0:n.toLocaleString())||0," ","km"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Completed Deliveries"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:O.TotalDeliveries||0})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Avg KM/Delivery"}),(0,Jn.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[O.AverageKmPerDelivery||0," km"]})]})]})]})]}),(0,Jn.jsxs)("div",{className:"space-y-6",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udea6 Status Information"}),(0,Jn.jsxs)("div",{className:"space-y-4",children:[(0,Jn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Operational Status"}),(0,Jn.jsx)("span",{className:te(O.OperationalStatus),children:ne(O.OperationalStatus)})]}),(0,Jn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Allocation Status"}),(0,Jn.jsx)("span",{className:te(O.AllocationStatus),children:ne(O.AllocationStatus)})]}),(0,Jn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Maintenance"}),(0,Jn.jsx)("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold border ".concat(O.NeedsMaintenance?"bg-red-100 text-red-700 border-red-200":"bg-emerald-100 text-emerald-700 border-emerald-200"),children:O.NeedsMaintenance?"Yes":"No"})]})]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcc4 Document Compliance"}),(0,Jn.jsxs)("div",{className:"space-y-3",children:[(0,Jn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Jn.jsx)("span",{className:"text-sm text-gray-600",children:"Overall Status:"}),(0,Jn.jsx)("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold capitalize ".concat(se(O).includes("complete")?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"),children:oe(O)})]}),(0,Jn.jsx)("div",{className:"space-y-2",children:["orDocument","crDocument","insuranceDocument"].map(e=>{var t,n;return(0,Jn.jsxs)("div",{className:"flex items-center justify-between p-2 rounded hover:bg-gray-50 border border-transparent hover:border-gray-100",children:[(0,Jn.jsx)("span",{className:"text-sm text-gray-600 capitalize",children:e.replace("Document","").toUpperCase()}),(0,Jn.jsx)("span",{className:"flex items-center gap-1.5 text-xs font-medium px-2 py-0.5 rounded-full ".concat(null!==(t=O.documents)&&void 0!==t&&t[e]?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"),children:null!==(n=O.documents)&&void 0!==n&&n[e]?(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsx)(fr,{size:12})," Complete"]}):(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsx)($r,{size:12})," Missing"]})})]},e)})})]})]})]})]}),(0,Jn.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4",children:"\ud83d\udcc1 Documents"}),O.documents&&Object.keys(O.documents).length>0?(0,Jn.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,Jn.jsx)(JL,{documents:O.documents,truckPlate:O.TruckPlate})}):(0,Jn.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-dashed border-gray-200 text-gray-400",children:[(0,Jn.jsx)(Pr,{size:32,className:"mx-auto mb-2 opacity-50"}),(0,Jn.jsx)("p",{children:"No documents have been uploaded for this truck yet."})]})]})]}),(0,Jn.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3 rounded-b-2xl",children:[(0,Jn.jsxs)(ve,{to:"/admin/trucks/edit/".concat(O.TruckID),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl shadow-sm shadow-blue-200 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,Jn.jsx)(Sr,{size:16})," Edit Truck"]}),(0,Jn.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors text-sm font-medium shadow-sm",onClick:X,children:"Close"})]})]})})]})]});function se(e){try{if(console.log("getComplianceClass called with truck:",e),!e||!e.documentCompliance||!e.documentCompliance.overallStatus)return"compliance-incomplete";const{overallStatus:t}=e.documentCompliance;return"compliance-".concat(t)}catch(b){return console.error("Error in getComplianceClass:",b,"truck:",e),"compliance-incomplete"}}function ie(e){try{if(console.log("getComplianceIcon called with truck:",e),!e||!e.documentCompliance||!e.documentCompliance.overallStatus)return"\u26a0";const{overallStatus:t}=e.documentCompliance;switch(t){case"complete":return"\u2713";case"expired":return"\u2717";case"optional":return"\u2139";default:return"\u26a0"}}catch(b){return console.error("Error in getComplianceIcon:",b,"truck:",e),"\u26a0"}}function oe(e){try{if(console.log("getComplianceStatus called with truck:",e),!e||!e.documentCompliance||!e.documentCompliance.overallStatus)return"Incomplete";const{overallStatus:t}=e.documentCompliance;return"string"!==typeof t?"Incomplete":t.charAt(0).toUpperCase()+t.slice(1)}catch(b){return console.error("Error in getComplianceStatus:",b,"truck:",e),"Incomplete"}}};const QL=()=>{const{id:e}=ue(),n=ce(),r=Boolean(e),a=Yn,[s,i]=(0,t.useState)({TruckPlate:"",TruckType:"mini truck",TruckCapacity:"2",TruckBrand:"Toyota",ModelYear:(new Date).getFullYear(),registrationDate:"",registrationExpiryDate:"",TruckStatus:"available",AllocationStatus:"available",OperationalStatus:"active",AvailabilityStatus:"free",MaintenanceScheduled:!1,StatusReason:""}),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(r),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(""),[x,v]=(0,t.useState)({orDocument:null,crDocument:null,insuranceDocument:null,licenseRequirement:null}),[b,y]=(0,t.useState)({}),[w,j]=(0,t.useState)({}),[N,k]=(0,t.useState)(!1),[S,C]=(0,t.useState)(null);(0,t.useEffect)(()=>{var e,t,n,r;console.log("\ud83d\udd04 uploadedFiles state changed:",x),console.log("\ud83d\udccb OR Document:",(null===(e=x.orDocument)||void 0===e?void 0:e.name)||"none"),console.log("\ud83d\udccb CR Document:",(null===(t=x.crDocument)||void 0===t?void 0:t.name)||"none"),console.log("\ud83d\udccb Insurance Document:",(null===(n=x.insuranceDocument)||void 0===n?void 0:n.name)||"none"),console.log("\ud83d\udccb License Requirement:",(null===(r=x.licenseRequirement)||void 0===r?void 0:r.name)||"none")},[x]);const _=e=>{switch(e){case"mini truck":default:return"2";case"4 wheeler":return"3";case"6 wheeler":return"4";case"8 wheeler":return"6"}};(0,t.useEffect)(()=>{(async()=>{if(r)try{console.log("Fetching truck data for ID: ".concat(e));const t=await Gn.get("".concat(a,"/api/trucks/").concat(e));console.log("Truck data fetched:",t.data);const n=t.data,r=n.truckBrand||"Toyota",s=!["Toyota","Isuzu","Mitsubishi","Hyundai","Foton","Hino","Nissan","Ford","Suzuki","Kia"].includes(r);i({TruckPlate:n.truckPlate||"",TruckType:n.truckType||"mini truck",TruckCapacity:n.truckCapacity||"2",TruckBrand:s?"Other":r,ModelYear:n.modelYear||(new Date).getFullYear(),registrationDate:n.registrationDate||"",registrationExpiryDate:n.registrationExpiryDate||"",TruckStatus:n.truckStatus||"available",AllocationStatus:n.allocationStatus||"available",OperationalStatus:n.operationalStatus||"active",AvailabilityStatus:n.availabilityStatus||"free",MaintenanceScheduled:!0===n.maintenanceScheduled||"true"===n.maintenanceScheduled,StatusReason:n.lastStatusReason||""}),s&&(l(!0),d(r)),n.documents&&j(n.documents),h(!1)}catch(s){var t,n;console.error("Error fetching truck:",s),m("Failed to load truck data: ".concat((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||s.message)),h(!1)}else h(!1)})()},[e,r,a]);const P=e=>{const{name:t,value:n,type:r,checked:a}=e.target;"TruckType"===t?i(e=>Ne(Ne({},e),{},{[t]:n,TruckCapacity:_(n)})):"TruckBrand"===t?("Other"===n?(l(!0),d("")):(l(!1),d("")),i(e=>Ne(Ne({},e),{},{[t]:n}))):i("checkbox"===r?e=>Ne(Ne({},e),{},{[t]:a}):e=>Ne(Ne({},e),{},{[t]:n}))},A=(e,t)=>{console.log("\ud83d\udce4 File change triggered for:",t),console.log("\ud83d\udcc4 Event target:",e.target),console.log("\ud83d\udcc4 Files:",e.target.files);const n=e.target.files[0];if(console.log("\ud83d\udcc4 Selected file:",n),n){if(console.log("\ud83d\udcc4 File details:",{name:n.name,size:n.size,type:n.type}),n.size>26214400)return console.error("\u274c File too large:",n.size),void y(e=>Ne(Ne({},e),{},{[t]:"File size must be less than 25MB"}));if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(n.type))return console.error("\u274c Invalid file type:",n.type),void y(e=>Ne(Ne({},e),{},{[t]:"Only PDF, JPG, and PNG files are allowed"}));console.log("\u2705 File validation passed"),y(e=>Ne(Ne({},e),{},{[t]:null})),console.log("\ud83d\udce6 Setting uploaded file in state"),v(e=>{const r=Ne(Ne({},e),{},{[t]:n});return console.log("\ud83d\udce6 New uploadedFiles state:",r),r}),console.log("\u2705 File upload complete for:",t)}else console.warn("\u26a0\ufe0f No file selected")},D=e=>{v(t=>Ne(Ne({},t),{},{[e]:null})),y(t=>Ne(Ne({},t),{},{[e]:null}))},T=e=>{console.log("\ud83d\udd04 Replace clicked for:",e),v(t=>Ne(Ne({},t),{},{[e]:null})),y(t=>Ne(Ne({},t),{},{[e]:null})),j(t=>Ne(Ne({},t),{},{[e]:null}));const t=document.getElementById(e);console.log("\ud83d\udcc4 File input element:",t),t?(console.log("\u2705 Clicking file input"),t.click()):console.error("\u274c File input not found for:",e)},L=e=>{console.log("\ud83d\udc41\ufe0f View clicked for:",e);const t=w[e];if(t)try{const n=t.filename;console.log("\ud83d\udcc4 Document:",t);let r="";"orDocument"===e||"crDocument"===e?r="OR-CR-Files":"insuranceDocument"===e?r="Insurance-Papers":"licenseRequirement"===e&&(r="License-Documents");const s=(r?"Truck-Documents/".concat(r,"/").concat(n):"Truck-Documents/".concat(n)).split("/").map(e=>encodeURIComponent(e)).join("/"),i="".concat(a,"/api/documents/view/").concat(s);console.log("\ud83d\udd17 API URL:",i);const o=/\.(jpg|jpeg|png|gif|webp)$/i.test(n);console.log("\ud83d\uddbc\ufe0f Is image:",o),o?(C({url:i,filename:n,type:e}),k(!0)):window.open(i,"_blank")}catch(p){console.error("\u274c Error viewing document:",p),m("Failed to view document. Please try again.")}else console.error("\u274c No document found for:",e)};return u?(0,Jn.jsx)("div",{className:"modern-form-container",children:(0,Jn.jsxs)("div",{className:"modern-loading",children:[(0,Jn.jsx)("div",{className:"loading-spinner"}),"Loading truck data..."]})}):(0,Jn.jsxs)("div",{className:"modern-form-container",children:[(0,Jn.jsxs)("div",{className:"modern-form-header",children:[(0,Jn.jsx)("h1",{children:r?"Edit Truck":"Add New Truck"}),(0,Jn.jsx)("p",{children:r?"Update truck information and documents":"Register a new truck with required documentation"})]}),p&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsxs)("div",{className:"modern-alert-content",children:[(0,Jn.jsx)("div",{className:"modern-alert-title",children:"Error"}),(0,Jn.jsx)("div",{children:p}),(0,Jn.jsxs)("div",{style:{marginTop:"10px",display:"flex",gap:"8px"},children:[(0,Jn.jsx)("button",{className:"modern-btn modern-btn-secondary",style:{padding:"4px 12px",fontSize:"12px"},onClick:()=>m(null),children:"Dismiss"}),(0,Jn.jsx)("button",{className:"modern-btn modern-btn-secondary",style:{padding:"4px 12px",fontSize:"12px"},onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})]}),f&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-success",children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u2705"}),(0,Jn.jsxs)("div",{className:"modern-alert-content",children:[(0,Jn.jsx)("div",{className:"modern-alert-title",children:"Success"}),(0,Jn.jsx)("div",{children:f})]})]}),(0,Jn.jsx)("div",{className:"modern-form-card",children:(0,Jn.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{if(console.log("Form submission:",r?"UPDATE":"CREATE",s),o&&!c.trim())return void m('Please enter a custom brand name when "Other" is selected');if(!r){const e=["orDocument","crDocument","insuranceDocument"].filter(e=>!x[e]);if(e.length>0)return void m("Please upload all required documents: ".concat(e.map(e=>e.replace("Document","").toUpperCase()).join(", ")))}const t=new FormData;t.append("truckPlate",s.TruckPlate),t.append("truckType",s.TruckType),t.append("truckCapacity",s.TruckCapacity);const u=o&&c.trim()?c.trim():s.TruckBrand;t.append("truckBrand",u),t.append("modelYear",s.ModelYear),t.append("registrationDate",s.registrationDate),t.append("registrationExpiryDate",s.registrationExpiryDate),t.append("truckStatus",s.TruckStatus),t.append("allocationStatus",s.AllocationStatus),t.append("operationalStatus",s.OperationalStatus),t.append("availabilityStatus",s.AvailabilityStatus),t.append("maintenanceScheduled",s.MaintenanceScheduled),t.append("lastStatusReason",s.StatusReason),Object.entries(x).forEach(e=>{let[n,r]=e;r&&(console.log("\ud83d\udcc4 Adding new file ".concat(n,":"),r.name,r.size),t.append(n,r))}),r&&Object.entries(w).forEach(e=>{let[n,r]=e;r&&!x[n]&&(console.log("\ud83d\udcc4 Preserving existing document ".concat(n,":"),r.filename),t.append("existing_".concat(n),JSON.stringify(r)))}),console.log("Sending form data with files..."),console.log("Uploaded files:",x),console.log("FormData entries:");for(let[e,n]of t.entries())console.log("  ".concat(e,":"),n instanceof File?"".concat(n.name," (").concat(n.size," bytes)"):n);const h=r?"".concat(a,"/api/admin/trucks/").concat(e):"".concat(a,"/api/admin/trucks"),p=r?"put":"post";console.log("Making ".concat(p.toUpperCase()," request to ").concat(h)),console.log("Full URL:",h),console.log("Base URL:",a);const f={headers:{}};console.log("About to send request...");const b=await Gn[p](h,t,f);console.log(r?"Update response:":"Create response:",b),g(r?"Truck updated successfully!":"Truck added successfully!"),m(null),r||(i({TruckPlate:"",TruckType:"mini truck",TruckCapacity:"2",TruckBrand:"Toyota",ModelYear:(new Date).getFullYear(),registrationDate:"",registrationExpiryDate:"",TruckStatus:"available",AllocationStatus:"available",OperationalStatus:"active",AvailabilityStatus:"free",MaintenanceScheduled:!1,StatusReason:""}),v({orDocument:null,crDocument:null,insuranceDocument:null,licenseRequirement:null}),y({}),l(!1),d("")),setTimeout(()=>{n.push("/admin/trucks")},1500)}catch(k){var u,h,p,f,b,j,N;console.error("Error saving truck:",k),console.error("Error details:",{message:k.message,status:null===(u=k.response)||void 0===u?void 0:u.status,statusText:null===(h=k.response)||void 0===h?void 0:h.statusText,data:null===(p=k.response)||void 0===p?void 0:p.data,url:null===(f=k.config)||void 0===f?void 0:f.url,method:null===(b=k.config)||void 0===b?void 0:b.method}),null!==(j=k.response)&&void 0!==j&&null!==(N=j.data)&&void 0!==N&&N.errors&&Array.isArray(k.response.data.errors)?m(k.response.data.errors.join(", ")):k.response?m("Server error (".concat(k.response.status,"): ").concat(k.response.data.sqlMessage||k.response.data.message)):k.request?m("No response received from server. Please check your API connection."):m("Request error: ".concat(k.message))}},className:"modern-form-content",children:[(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\ude9b"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Basic Information"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Enter the truck's basic identification and specifications"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"TruckPlate",className:"modern-form-label",children:["Plate Number ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"TruckPlate",name:"TruckPlate",className:"modern-form-input",value:s.TruckPlate,onChange:P,required:!0,maxLength:"20",placeholder:"e.g. ABC-1234"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Enter the official license plate number"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"TruckType",className:"modern-form-label",children:["Truck Type ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsxs)("select",{id:"TruckType",name:"TruckType",className:"modern-form-select",value:s.TruckType,onChange:P,required:!0,children:[(0,Jn.jsx)("option",{value:"mini truck",children:"Mini Truck"}),(0,Jn.jsx)("option",{value:"4 wheeler",children:"4 Wheeler"}),(0,Jn.jsx)("option",{value:"6 wheeler",children:"6 Wheeler"}),(0,Jn.jsx)("option",{value:"8 wheeler",children:"8 Wheeler"}),(0,Jn.jsx)("option",{value:"10 wheeler",children:"10 Wheeler"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Select the truck classification"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-3",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"TruckCapacityDisplay",className:"modern-form-label",children:["Capacity ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"TruckCapacityDisplay",className:"modern-form-input",value:"".concat(s.TruckCapacity," tons"),disabled:!0,style:{backgroundColor:"var(--gray-100)",color:"var(--gray-600)"}}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Automatically calculated based on truck type"}),(0,Jn.jsx)("input",{type:"hidden",id:"TruckCapacity",name:"TruckCapacity",value:s.TruckCapacity})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"TruckBrand",className:"modern-form-label",children:["Brand ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsxs)("select",{id:"TruckBrand",name:"TruckBrand",className:"modern-form-select",value:s.TruckBrand,onChange:P,required:!0,children:[(0,Jn.jsx)("option",{value:"Toyota",children:"Toyota"}),(0,Jn.jsx)("option",{value:"Isuzu",children:"Isuzu"}),(0,Jn.jsx)("option",{value:"Mitsubishi",children:"Mitsubishi"}),(0,Jn.jsx)("option",{value:"Hyundai",children:"Hyundai"}),(0,Jn.jsx)("option",{value:"Foton",children:"Foton"}),(0,Jn.jsx)("option",{value:"Hino",children:"Hino"}),(0,Jn.jsx)("option",{value:"Nissan",children:"Nissan"}),(0,Jn.jsx)("option",{value:"Ford",children:"Ford"}),(0,Jn.jsx)("option",{value:"Suzuki",children:"Suzuki"}),(0,Jn.jsx)("option",{value:"Kia",children:"Kia"}),(0,Jn.jsx)("option",{value:"Other",children:"Other (Enter custom brand)"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:o?"Enter custom brand name below":"Select the truck manufacturer"})]}),o&&(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"CustomBrand",className:"modern-form-label",children:["Custom Brand Name"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"CustomBrand",name:"CustomBrand",className:"modern-form-input",value:c,onChange:e=>{d(e.target.value)},placeholder:"e.g. Mercedes-Benz, Volvo, etc.",required:!0,maxLength:"50"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Enter the custom truck brand name"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"ModelYear",className:"modern-form-label",children:"Model Year"}),(0,Jn.jsx)("input",{type:"number",id:"ModelYear",name:"ModelYear",className:"modern-form-input",value:s.ModelYear,onChange:P,min:"1990",max:(new Date).getFullYear()+1,placeholder:"e.g. 2023"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Year the truck was manufactured"})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udccb"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Registration Information"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Track truck registration dates and expiry (Annual renewal)"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"registrationDate",className:"modern-form-label",children:"Registration Date"}),(0,Jn.jsx)("input",{type:"date",id:"registrationDate",name:"registrationDate",className:"modern-form-input",value:s.registrationDate,onChange:P}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Date when truck was last registered/renewed"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"registrationExpiryDate",className:"modern-form-label",children:["Registration Expiry Date"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"date",id:"registrationExpiryDate",name:"registrationExpiryDate",className:"modern-form-input",value:s.registrationExpiryDate,onChange:P,required:!0}),(0,Jn.jsx)("div",{className:"form-help-text",children:"When the truck registration expires (annual)"})]})]}),(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-warning",style:{marginTop:"16px"},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsxs)("div",{className:"modern-alert-content",children:[(0,Jn.jsx)("div",{className:"modern-alert-title",children:"Registration Monitoring"}),(0,Jn.jsx)("div",{children:"The system will automatically block this truck from allocation and booking when registration is expiring within 30 days or has expired. The truck cannot be booked if its registration will expire during the delivery period."})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udcca"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Status Management"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Configure the truck's operational and allocation status"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"AllocationStatus",className:"modern-form-label",children:["Allocation Status"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsxs)("select",{id:"AllocationStatus",name:"AllocationStatus",className:"modern-form-select",value:s.AllocationStatus,onChange:P,required:!0,children:[(0,Jn.jsx)("option",{value:"available",children:"Available"}),(0,Jn.jsx)("option",{value:"allocated",children:"Allocated"}),(0,Jn.jsx)("option",{value:"reserved",children:"Reserved"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Whether the truck is allocated to a client"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"OperationalStatus",className:"modern-form-label",children:["Operational Status"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsxs)("select",{id:"OperationalStatus",name:"OperationalStatus",className:"modern-form-select",value:s.OperationalStatus,onChange:P,required:!0,children:[(0,Jn.jsx)("option",{value:"active",children:"Active"}),(0,Jn.jsx)("option",{value:"maintenance",children:"Under Maintenance"}),(0,Jn.jsx)("option",{value:"out-of-service",children:"Out of Service"}),(0,Jn.jsx)("option",{value:"standby",children:"Standby"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"The operational condition of the truck"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"AvailabilityStatus",className:"modern-form-label",children:["Availability Status"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsxs)("select",{id:"AvailabilityStatus",name:"AvailabilityStatus",className:"modern-form-select",value:s.AvailabilityStatus,onChange:P,required:!0,children:[(0,Jn.jsx)("option",{value:"free",children:"Free"}),(0,Jn.jsx)("option",{value:"busy",children:"Busy"}),(0,Jn.jsx)("option",{value:"scheduled",children:"Scheduled"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Current availability for new assignments"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"TruckStatus",className:"modern-form-label",children:["Legacy Status ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsxs)("select",{id:"TruckStatus",name:"TruckStatus",className:"modern-form-select",value:s.TruckStatus,onChange:P,required:!0,children:[(0,Jn.jsx)("option",{value:"available",children:"Available"}),(0,Jn.jsx)("option",{value:"allocated",children:"Allocated"}),(0,Jn.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,Jn.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,Jn.jsx)("option",{value:"on-delivery",children:"On Delivery"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Legacy status field for compatibility"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{className:"modern-form-label",children:[(0,Jn.jsx)("input",{type:"checkbox",name:"MaintenanceScheduled",checked:s.MaintenanceScheduled,onChange:P,style:{marginRight:"8px"}}),"Maintenance Scheduled"]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Check if maintenance is scheduled for this truck"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"StatusReason",className:"modern-form-label",children:"Status Reason (Optional)"}),(0,Jn.jsx)("textarea",{id:"StatusReason",name:"StatusReason",className:"modern-form-textarea",value:s.StatusReason,onChange:P,rows:"3",placeholder:"Optional reason for the current status..."}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Optional explanation for the current status"})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83e\udeaa"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsxs)("h3",{className:"form-section-title",children:["License Requirements for ",s.TruckType]}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Required licenses and personnel for this truck type"})]})]}),(()=>{const e=(e=>{const t={"mini truck":{driverLicense:"Non-professional License",helpers:1,helperRequirements:["Valid ID","Barangay Clearance"]},"4 wheeler":{driverLicense:"Professional License",helpers:1,helperRequirements:["Valid ID","Barangay Clearance","Medical Certificate"]},"6 wheeler":{driverLicense:"Professional License",helpers:2,helperRequirements:["Valid ID","Barangay Clearance","Medical Certificate"]},"8 wheeler":{driverLicense:"Professional License",helpers:2,helperRequirements:["Valid ID","Barangay Clearance","Medical Certificate"]},"10 wheeler":{driverLicense:"Professional License",helpers:3,helperRequirements:["Valid ID","Barangay Clearance","Medical Certificate"]}};return t[e]||t["mini truck"]})(s.TruckType);return(0,Jn.jsxs)("div",{className:"requirements-display",children:[(0,Jn.jsxs)("div",{className:"requirement-item",children:[(0,Jn.jsx)("div",{className:"requirement-icon",children:"\ud83d\udc64"}),(0,Jn.jsxs)("div",{className:"requirement-content",children:[(0,Jn.jsx)("strong",{children:"Driver License Required:"})," ",e.driverLicense]})]}),(0,Jn.jsxs)("div",{className:"requirement-item",children:[(0,Jn.jsx)("div",{className:"requirement-icon",children:"\ud83d\udc65"}),(0,Jn.jsxs)("div",{className:"requirement-content",children:[(0,Jn.jsx)("strong",{children:"Number of Helpers Required:"})," ",e.helpers]})]}),(0,Jn.jsxs)("div",{className:"requirement-item",children:[(0,Jn.jsx)("div",{className:"requirement-icon",children:"\ud83d\udccb"}),(0,Jn.jsxs)("div",{className:"requirement-content",children:[(0,Jn.jsx)("strong",{children:"Helper Requirements:"}),(0,Jn.jsx)("ul",{children:e.helperRequirements.map((e,t)=>(0,Jn.jsx)("li",{children:e},t))})]})]})]})})()]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udcc4"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Required Documents"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"All documents are required for new trucks. Please ensure OR/CR documents contain the correct plate number."})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"orDocument",className:"modern-form-label",children:["Original Receipt (OR)"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"file",id:"orDocument",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>A(e,"orDocument"),style:{display:"none"}}),!x.orDocument&&!w.orDocument&&(0,Jn.jsxs)("div",{className:"modern-file-upload",onClick:()=>document.getElementById("orDocument").click(),children:[(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83d\udcc4"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload OR document"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"PDF, JPG, PNG up to 25MB"})]})]}),b.orDocument&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",style:{marginTop:"8px"},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsx)("div",{className:"modern-alert-content",children:b.orDocument})]}),x.orDocument&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83d\udcc4"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:x.orDocument.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>D("orDocument"),className:"file-remove-btn",children:"\u274c"})]}),w.orDocument&&!x.orDocument&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83d\udcc4"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current: ",w.orDocument.originalName]})]}),(0,Jn.jsxs)("div",{className:"existing-file-actions",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>L("orDocument"),className:"file-view-btn",children:"View"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>T("orDocument"),className:"file-replace-btn",children:"Replace"})]})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Upload the Original Receipt document (PDF, JPG, PNG - max 25MB)"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"crDocument",className:"modern-form-label",children:["Certificate of Registration (CR)"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"file",id:"crDocument",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>A(e,"crDocument"),style:{display:"none"}}),!x.crDocument&&!w.crDocument&&(0,Jn.jsxs)("div",{className:"modern-file-upload",onClick:()=>document.getElementById("crDocument").click(),children:[(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83d\udccb"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload CR document"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"PDF, JPG, PNG up to 25MB"})]})]}),b.crDocument&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",style:{marginTop:"8px"},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsx)("div",{className:"modern-alert-content",children:b.crDocument})]}),x.crDocument&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83d\udccb"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:x.crDocument.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>D("crDocument"),className:"file-remove-btn",children:"\u274c"})]}),w.crDocument&&!x.crDocument&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83d\udccb"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current: ",w.crDocument.originalName]})]}),(0,Jn.jsxs)("div",{className:"existing-file-actions",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>L("crDocument"),className:"file-view-btn",children:"View"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>T("crDocument"),className:"file-replace-btn",children:"Replace"})]})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Upload Certificate of Registration document (PDF, JPG, PNG - max 25MB)"})]})]}),(0,Jn.jsx)("div",{className:"form-grid form-grid-1",children:(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"insuranceDocument",className:"modern-form-label",children:["Insurance Papers ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"file",id:"insuranceDocument",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>A(e,"insuranceDocument"),style:{display:"none"}}),!x.insuranceDocument&&!w.insuranceDocument&&(0,Jn.jsxs)("div",{className:"modern-file-upload",onClick:()=>document.getElementById("insuranceDocument").click(),children:[(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83d\udee1\ufe0f"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload insurance documents"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"PDF, JPG, PNG up to 25MB"})]})]}),b.insuranceDocument&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",style:{marginTop:"8px"},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsx)("div",{className:"modern-alert-content",children:b.insuranceDocument})]}),x.insuranceDocument&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83d\udee1\ufe0f"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:x.insuranceDocument.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>D("insuranceDocument"),className:"file-remove-btn",children:"\u274c"})]}),w.insuranceDocument&&!x.insuranceDocument&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83d\udee1\ufe0f"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current:"," ",w.insuranceDocument.originalName]})]}),(0,Jn.jsxs)("div",{className:"existing-file-actions",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>L("insuranceDocument"),className:"file-view-btn",children:"View"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>T("insuranceDocument"),className:"file-replace-btn",children:"Replace"})]})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Upload insurance documents (PDF, JPG, PNG - max 25MB)"})]})}),(0,Jn.jsx)("div",{className:"form-grid form-grid-1",children:(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"licenseRequirement",className:"modern-form-label",children:"License Requirement Document (Optional)"}),(0,Jn.jsx)("input",{type:"file",id:"licenseRequirement",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>A(e,"licenseRequirement"),style:{display:"none"}}),!x.licenseRequirement&&!w.licenseRequirement&&(0,Jn.jsxs)("div",{className:"modern-file-upload",onClick:()=>document.getElementById("licenseRequirement").click(),children:[(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83d\udcdc"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload license requirements"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"PDF, JPG, PNG up to 25MB"})]})]}),b.licenseRequirement&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",style:{marginTop:"8px"},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsx)("div",{className:"modern-alert-content",children:b.licenseRequirement})]}),x.licenseRequirement&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83d\udcdc"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:x.licenseRequirement.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>D("licenseRequirement"),className:"file-remove-btn",children:"\u274c"})]}),w.licenseRequirement&&!x.licenseRequirement&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83d\udcdc"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current:"," ",w.licenseRequirement.originalName]})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>L("licenseRequirement"),className:"file-view-btn",children:"View"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Optional: Upload specific license requirements for this truck (PDF, JPG, PNG - max 25MB)"})]})})]}),(0,Jn.jsxs)("div",{className:"modern-btn-group",children:[(0,Jn.jsx)("button",{type:"button",className:"modern-btn modern-btn-secondary",onClick:()=>n.push("/admin/trucks"),children:"\u2190 Cancel"}),(0,Jn.jsx)("button",{type:"submit",className:"modern-btn modern-btn-primary",children:r?"\ud83d\udcbe Update Truck":"\u2705 Add Truck"})]})]})}),N&&S&&(0,Jn.jsx)("div",{className:"modal-overlay",onClick:()=>{k(!1),C(null)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:(0,Jn.jsxs)("div",{className:"image-modal",onClick:e=>e.stopPropagation(),style:{backgroundColor:"white",borderRadius:"12px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},children:[(0,Jn.jsxs)("div",{className:"image-modal-header",style:{padding:"20px",borderBottom:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f8f9fa"},children:[(0,Jn.jsxs)("h3",{style:{margin:0,fontSize:"18px",fontWeight:600},children:["Document Preview - ",S.filename]}),(0,Jn.jsx)("button",{className:"close-button",onClick:()=>{k(!1),C(null)},style:{background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#666",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",transition:"all 0.2s"},onMouseOver:e=>{e.target.style.backgroundColor="#f0f0f0",e.target.style.color="#000"},onMouseOut:e=>{e.target.style.backgroundColor="transparent",e.target.style.color="#666"},children:"\u2715"})]}),(0,Jn.jsx)("div",{className:"image-modal-content",style:{padding:"20px",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px"},children:(0,Jn.jsx)("img",{src:S.url,alt:S.filename,style:{maxWidth:"100%",maxHeight:"70vh",objectFit:"contain",borderRadius:"8px"},onError:e=>{console.error("Image failed to load:",S.url),e.target.style.display="none";const t=document.createElement("div");t.style.padding="40px",t.style.textAlign="center",t.innerHTML='\n                    <div style="font-size: 48px; margin-bottom: 16px;">\u26a0\ufe0f</div>\n                    <div style="font-size: 18px; color: #666;">Failed to load image</div>\n                    <div style="font-size: 14px; color: #999; margin-top: 8px;">'.concat(S.filename,"</div>\n                  "),e.target.parentElement.appendChild(t)}})})]})})]})},ZL=()=>{const{id:e}=ue(),n=ce(),r=Boolean(e),a=Yn,[s,i]=(0,t.useState)({DriverName:"",DriverAddress:"",DriverNumber:"",DriverEmploymentDate:"",DriverDocuments:"",DriverUserName:"",DriverPassword:"",DriverStatus:"active",licenseType:"Class C",licenseNumber:"",licenseExpiryDate:"",licenseRegistrationDate:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:""}),[o,l]=(0,t.useState)(r),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(""),[p,m]=(0,t.useState)({licenseDocument:null,medicalCertificate:null,idPhoto:null,nbiClearance:null}),[f,g]=(0,t.useState)({}),[x,v]=(0,t.useState)({}),[b,y]=(0,t.useState)({}),[w,j]=(0,t.useState)(!1),[N,k]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{if(r)try{l(!0),console.log("Fetching driver with ID: ".concat(e)),console.log("API Base URL:",a);const t=localStorage.getItem("token"),n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{},r=await Gn.get("".concat(a,"/api/admin/drivers/").concat(e),n);console.log("API Response:",r);const s=r.data,o=e=>{if(!e)return"";try{if(void 0!==e._seconds){console.log("Converting Firestore Timestamp:",e);return new Date(1e3*e._seconds).toISOString().split("T")[0]}const t=new Date(e);return isNaN(t.getTime())?(console.warn("Invalid date value:",e),""):t.toISOString().split("T")[0]}catch(c){return console.warn("Error formatting date:",e,c),""}};i({DriverName:s.DriverName||"",DriverAddress:s.DriverAddress||"",DriverNumber:s.DriverNumber||"",DriverEmploymentDate:o(s.DriverEmploymentDate),DriverDocuments:s.DriverDocuments||"",DriverUserName:s.DriverUserName||"",DriverPassword:"",DriverStatus:s.DriverStatus||"active",licenseType:s.licenseType||"Class C",licenseNumber:s.licenseNumber||"",licenseExpiryDate:o(s.licenseExpiryDate),licenseRegistrationDate:o(s.licenseRegistrationDate),emergencyContactName:s.emergencyContactName||"",emergencyContactPhone:s.emergencyContactPhone||"",emergencyContactRelationship:s.emergencyContactRelationship||""}),s.documents&&(v(s.documents),y(s.documents))}catch(t){console.error("Error fetching driver:",t),t.response?d("Server error (".concat(t.response.status,"): ").concat(t.response.data.sqlMessage||t.response.data.message)):t.request?d("No response received from server. Please check your API connection."):d("Request error: ".concat(t.message))}finally{l(!1)}})()},[e,r,a]);const S=e=>{const{name:t,value:n}=e.target;i(e=>Ne(Ne({},e),{},{[t]:n}))},C=(e,t)=>{const n=e.target.files[0];if(n){if(n.size>26214400)return void g(e=>Ne(Ne({},e),{},{[t]:"File size must be less than 25MB"}));if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(n.type))return void g(e=>Ne(Ne({},e),{},{[t]:"Only PDF, JPG, and PNG files are allowed"}));g(e=>Ne(Ne({},e),{},{[t]:null})),m(e=>Ne(Ne({},e),{},{[t]:n}))}},_=e=>{m(t=>Ne(Ne({},t),{},{[e]:null})),g(t=>Ne(Ne({},t),{},{[e]:null}))},P=e=>{console.log("\ud83d\udd04 Replace clicked for:",e),m(t=>Ne(Ne({},t),{},{[e]:null})),g(t=>Ne(Ne({},t),{},{[e]:null})),v(t=>Ne(Ne({},t),{},{[e]:null}));const t=document.getElementById(e);console.log("\ud83d\udcc4 File input element:",t),t?(console.log("\u2705 Clicking file input"),t.click()):console.error("\u274c File input not found for:",e)},A=e=>{console.log("\ud83d\udc41\ufe0f View clicked for:",e);const t=x[e];if(t)try{const n=t.filename;console.log("\ud83d\udcc4 Document:",t);let r="";"licenseDocument"===e?r="Licenses":"medicalCertificate"===e?r="Medical-Certificates":"idPhoto"===e?r="ID-Photos":"nbiClearance"===e&&(r="NBI-Clearances");const s=(r?"Driver-Documents/".concat(r,"/").concat(n):"Driver-Documents/".concat(n)).split("/").map(e=>encodeURIComponent(e)).join("/"),i="".concat(a,"/api/documents/view/").concat(s);console.log("\ud83d\udd17 API URL:",i);const o=/\.(jpg|jpeg|png|gif|webp)$/i.test(n);console.log("\ud83d\uddbc\ufe0f Is image:",o),o?(k({url:i,filename:n,type:e}),j(!0)):window.open(i,"_blank")}catch(c){console.error("\u274c Error viewing document:",c),d("Failed to view document. Please try again.")}else console.error("\u274c No document found for:",e)};return o?(0,Jn.jsx)("div",{className:"modern-form-container",children:(0,Jn.jsxs)("div",{className:"modern-loading",children:[(0,Jn.jsx)("div",{className:"loading-spinner"}),"Loading driver data..."]})}):(0,Jn.jsxs)("div",{className:"modern-form-container",children:[(0,Jn.jsxs)("div",{className:"modern-form-header",children:[(0,Jn.jsx)("h1",{children:r?"Edit Driver":"Add New Driver"}),(0,Jn.jsx)("p",{children:r?"Update driver information and documents":"Register a new driver with required documentation"})]}),c&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsxs)("div",{className:"modern-alert-content",children:[(0,Jn.jsx)("div",{className:"modern-alert-title",children:"Error"}),(0,Jn.jsx)("div",{children:c}),(0,Jn.jsxs)("div",{style:{marginTop:"10px",display:"flex",gap:"8px"},children:[(0,Jn.jsx)("button",{className:"modern-btn modern-btn-secondary",style:{padding:"4px 12px",fontSize:"12px"},onClick:()=>d(null),children:"Dismiss"}),(0,Jn.jsx)("button",{className:"modern-btn modern-btn-secondary",style:{padding:"4px 12px",fontSize:"12px"},onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})]}),u&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-success",children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u2705"}),(0,Jn.jsxs)("div",{className:"modern-alert-content",children:[(0,Jn.jsx)("div",{className:"modern-alert-title",children:"Success"}),(0,Jn.jsx)("div",{children:u})]})]}),(0,Jn.jsx)("div",{className:"modern-form-card",children:(0,Jn.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{if(console.log("Form submission:",r?"UPDATE":"CREATE",s),console.log("\ud83d\udea8 Emergency Contact Data:",{name:s.emergencyContactName,phone:s.emergencyContactPhone,relationship:s.emergencyContactRelationship}),!r){const e=["licenseDocument","medicalCertificate","idPhoto"].filter(e=>!p[e]);if(e.length>0)return void d("Please upload all required documents: ".concat(e.map(e=>e.replace("Document","").replace("Certificate","").toUpperCase()).join(", ")))}const t=new FormData;Object.keys(s).forEach(e=>{t.append(e,s[e])}),Object.entries(p).forEach(e=>{let[n,r]=e;r&&t.append(n,r)}),r&&(console.log("\ud83d\udccb Original documents:",b),console.log("\ud83d\udce4 New uploaded files:",Object.keys(p).filter(e=>p[e])),Object.entries(b).forEach(e=>{let[n,r]=e;!p[n]&&r?(console.log("\ud83d\udcc4 Preserving existing document: ".concat(n),r.filename),t.append("existing_".concat(n),JSON.stringify(r))):p[n]&&console.log("\ud83d\udd04 Replacing document: ".concat(n," with new file"))})),console.log("Sending form data with files...");const o=r?"".concat(a,"/api/admin/drivers/").concat(e):"".concat(a,"/api/admin/drivers"),l=r?"put":"post";console.log("Making ".concat(l.toUpperCase()," request to ").concat(o));const c=localStorage.getItem("token"),u={headers:Ne({"Content-Type":"multipart/form-data"},c&&{Authorization:"Bearer ".concat(c)})},f=await Gn[l](o,t,u);console.log(r?"Update response:":"Create response:",f),h(r?"Driver updated successfully!":"Driver added successfully!"),d(null),r||(i({DriverName:"",DriverAddress:"",DriverNumber:"",DriverEmploymentDate:"",DriverDocuments:"",DriverUserName:"",DriverPassword:"",DriverStatus:"active",licenseType:"Class C",licenseNumber:"",licenseExpiryDate:"",licenseRegistrationDate:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:""}),m({licenseDocument:null,medicalCertificate:null,idPhoto:null,nbiClearance:null}),g({})),setTimeout(()=>{n.push("/admin/drivers")},1500)}catch(c){var o,l;console.error("Error saving driver:",c),null!==(o=c.response)&&void 0!==o&&null!==(l=o.data)&&void 0!==l&&l.errors&&Array.isArray(c.response.data.errors)?d(c.response.data.errors.join(", ")):c.response?d("Server error (".concat(c.response.status,"): ").concat(c.response.data.sqlMessage||c.response.data.message)):c.request?d("No response received from server. Please check your API connection."):d("Request error: ".concat(c.message))}},className:"modern-form-content",children:[(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udc64"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Basic Information"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Enter the driver's personal and contact information"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"DriverName",className:"modern-form-label",children:["Full Name ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"DriverName",name:"DriverName",className:"modern-form-input",value:s.DriverName,onChange:S,required:!0,maxLength:"100",placeholder:"e.g. Juan Dela Cruz"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Enter the driver's complete legal name"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"DriverNumber",className:"modern-form-label",children:["Phone Number ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"DriverNumber",name:"DriverNumber",className:"modern-form-input",value:s.DriverNumber,onChange:S,required:!0,maxLength:"20",placeholder:"e.g. +63 912 345 6789"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Primary contact number for the driver"})]})]}),(0,Jn.jsx)("div",{className:"form-grid form-grid-1",children:(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"DriverAddress",className:"modern-form-label",children:["Address ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"DriverAddress",name:"DriverAddress",className:"modern-form-input",value:s.DriverAddress,onChange:S,required:!0,maxLength:"255",placeholder:"e.g. 123 Main St, Barangay Sample, City, Province"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Complete residential address"})]})})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udcbc"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Employment Information"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Employment details and current status"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-3",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"DriverEmploymentDate",className:"modern-form-label",children:["Employment Date ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"date",id:"DriverEmploymentDate",name:"DriverEmploymentDate",className:"modern-form-input",value:s.DriverEmploymentDate,onChange:S,required:!0}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Date when the driver was hired"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"DriverStatus",className:"modern-form-label",children:["Employment Status"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsxs)("select",{id:"DriverStatus",name:"DriverStatus",className:"modern-form-select",value:s.DriverStatus,onChange:S,required:!0,children:[(0,Jn.jsx)("option",{value:"active",children:"Active"}),(0,Jn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Jn.jsx)("option",{value:"on-delivery",children:"On Delivery"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Current employment status"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"DriverDocuments",className:"modern-form-label",children:"Documents Notes (Optional)"}),(0,Jn.jsx)("input",{type:"text",id:"DriverDocuments",name:"DriverDocuments",className:"modern-form-input",value:s.DriverDocuments||"",onChange:S,maxLength:"255",placeholder:"Additional document notes"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Optional notes about driver documents"})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\ude97"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"License Information"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Driver license details and qualifications"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"licenseType",className:"modern-form-label",children:["License Type ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsxs)("select",{id:"licenseType",name:"licenseType",className:"modern-form-select",value:s.licenseType,onChange:S,required:!0,children:[(0,Jn.jsx)("option",{value:"Class C",children:"Class C"}),(0,Jn.jsx)("option",{value:"Class CE",children:"Class CE"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Class C"===s.licenseType?"Can drive mini trucks only":"Can drive all truck types including heavy vehicles"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"licenseNumber",className:"modern-form-label",children:"License Number"}),(0,Jn.jsx)("input",{type:"text",id:"licenseNumber",name:"licenseNumber",className:"modern-form-input",value:s.licenseNumber,onChange:S,placeholder:"Enter license number"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Driver's license number (optional)"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"licenseRegistrationDate",className:"modern-form-label",children:"License Registration Date"}),(0,Jn.jsx)("input",{type:"date",id:"licenseRegistrationDate",name:"licenseRegistrationDate",className:"modern-form-input",value:s.licenseRegistrationDate,onChange:S}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Date when license was last renewed"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"licenseExpiryDate",className:"modern-form-label",children:"License Expiry Date"}),(0,Jn.jsx)("input",{type:"date",id:"licenseExpiryDate",name:"licenseExpiryDate",className:"modern-form-input",value:s.licenseExpiryDate,onChange:S}),(0,Jn.jsx)("div",{className:"form-help-text",children:"When the license expires (optional)"})]})]}),(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-info",style:{marginTop:"16px"},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u2139\ufe0f"}),(0,Jn.jsxs)("div",{className:"modern-alert-content",children:[(0,Jn.jsx)("div",{className:"modern-alert-title",children:"License Type Details"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("strong",{children:"Class C:"})," Can drive mini trucks and light vehicles only",(0,Jn.jsx)("br",{}),(0,Jn.jsx)("strong",{children:"Class CE:"})," Can drive all truck types including 4-wheeler, 6-wheeler, 8-wheeler, and 10-wheeler trucks"]})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83c\udd98"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Emergency Contact"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Contact person in case of emergency"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-3",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"emergencyContactName",className:"modern-form-label",children:"Emergency Contact Name"}),(0,Jn.jsx)("input",{type:"text",id:"emergencyContactName",name:"emergencyContactName",className:"modern-form-input",value:s.emergencyContactName,onChange:S,maxLength:"100",placeholder:"e.g. Maria Dela Cruz"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Full name of emergency contact"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"emergencyContactPhone",className:"modern-form-label",children:"Emergency Contact Phone"}),(0,Jn.jsx)("input",{type:"text",id:"emergencyContactPhone",name:"emergencyContactPhone",className:"modern-form-input",value:s.emergencyContactPhone,onChange:S,maxLength:"20",placeholder:"e.g. +63 912 345 6789"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Contact phone number"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"emergencyContactRelationship",className:"modern-form-label",children:"Relationship to Driver"}),(0,Jn.jsxs)("select",{id:"emergencyContactRelationship",name:"emergencyContactRelationship",className:"modern-form-select",value:s.emergencyContactRelationship,onChange:S,children:[(0,Jn.jsx)("option",{value:"",children:"Select relationship"}),(0,Jn.jsx)("option",{value:"Spouse",children:"Spouse"}),(0,Jn.jsx)("option",{value:"Parent",children:"Parent"}),(0,Jn.jsx)("option",{value:"Sibling",children:"Sibling"}),(0,Jn.jsx)("option",{value:"Child",children:"Child"}),(0,Jn.jsx)("option",{value:"Friend",children:"Friend"}),(0,Jn.jsx)("option",{value:"Other",children:"Other"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Relationship to the driver"})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udd10"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Account Credentials"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Login credentials for the driver portal"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"DriverUserName",className:"modern-form-label",children:["Username ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"DriverUserName",name:"DriverUserName",className:"modern-form-input",value:s.DriverUserName,onChange:S,required:!0,maxLength:"50",placeholder:"e.g. jdelacruz"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Unique username for system login"})]}),!r&&(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"DriverPassword",className:"modern-form-label",children:["Password ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"password",id:"DriverPassword",name:"DriverPassword",className:"modern-form-input",value:s.DriverPassword||"",onChange:S,required:!0,maxLength:"255",placeholder:"Minimum 6 characters"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Secure password for driver login"})]}),r&&(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{className:"modern-form-label",children:"Password"}),(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-info",style:{margin:0},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\ud83d\udd12"}),(0,Jn.jsx)("div",{className:"modern-alert-content",children:(0,Jn.jsx)("div",{children:"Password cannot be changed by admin. Driver must change their own password through their account settings."})})]})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udcc4"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Required Documents"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"All documents are required for new drivers. Please upload clear, readable copies."})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"licenseDocument",className:"modern-form-label",children:["Driver's License ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),!p.licenseDocument&&!x.licenseDocument&&(0,Jn.jsxs)("div",{className:"modern-file-upload",children:[(0,Jn.jsx)("input",{type:"file",id:"licenseDocument",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>C(e,"licenseDocument")}),(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83e\udeaa"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload driver's license"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"PDF, JPG, PNG up to 25MB"})]})]}),f.licenseDocument&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",style:{marginTop:"8px"},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsx)("div",{className:"modern-alert-content",children:f.licenseDocument})]}),p.licenseDocument&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83e\udeaa"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:p.licenseDocument.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>_("licenseDocument"),className:"file-remove-btn",children:"\u274c"})]}),x.licenseDocument&&!p.licenseDocument&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83e\udeaa"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current:"," ",x.licenseDocument.originalName]})]}),(0,Jn.jsxs)("div",{className:"existing-file-actions",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>A("licenseDocument"),className:"file-view-btn",children:"View"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>P("licenseDocument"),className:"file-replace-btn",children:"Replace"})]})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Upload driver's license (PDF, JPG, PNG - max 25MB)"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"medicalCertificate",className:"modern-form-label",children:["Medical Certificate"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),!p.medicalCertificate&&!x.medicalCertificate&&(0,Jn.jsxs)("div",{className:"modern-file-upload",children:[(0,Jn.jsx)("input",{type:"file",id:"medicalCertificate",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>C(e,"medicalCertificate")}),(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83c\udfe5"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload medical certificate"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"PDF, JPG, PNG up to 25MB"})]})]}),f.medicalCertificate&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",style:{marginTop:"8px"},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsx)("div",{className:"modern-alert-content",children:f.medicalCertificate})]}),p.medicalCertificate&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83c\udfe5"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:p.medicalCertificate.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>_("medicalCertificate"),className:"file-remove-btn",children:"\u274c"})]}),x.medicalCertificate&&!p.medicalCertificate&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83c\udfe5"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current:"," ",x.medicalCertificate.originalName]})]}),(0,Jn.jsxs)("div",{className:"existing-file-actions",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>A("medicalCertificate"),className:"file-view-btn",children:"View"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>P("medicalCertificate"),className:"file-replace-btn",children:"Replace"})]})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Upload medical certificate (PDF, JPG, PNG - max 25MB)"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"idPhoto",className:"modern-form-label",children:["ID Photo ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),!p.idPhoto&&!x.idPhoto&&(0,Jn.jsxs)("div",{className:"modern-file-upload",children:[(0,Jn.jsx)("input",{type:"file",id:"idPhoto",accept:".jpg,.jpeg,.png",onChange:e=>C(e,"idPhoto")}),(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83d\udcf7"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload ID photo"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"JPG, PNG up to 25MB"})]})]}),f.idPhoto&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",style:{marginTop:"8px"},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsx)("div",{className:"modern-alert-content",children:f.idPhoto})]}),p.idPhoto&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83d\udcf7"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:p.idPhoto.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>_("idPhoto"),className:"file-remove-btn",children:"\u274c"})]}),x.idPhoto&&!p.idPhoto&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83d\udcf7"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current: ",x.idPhoto.originalName]})]}),(0,Jn.jsxs)("div",{className:"existing-file-actions",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>A("idPhoto"),className:"file-view-btn",children:"View"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>P("idPhoto"),className:"file-replace-btn",children:"Replace"})]})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Upload clear ID photo (JPG, PNG - max 25MB)"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"nbiClearance",className:"modern-form-label",children:"NBI Clearance (Optional)"}),!p.nbiClearance&&!x.nbiClearance&&(0,Jn.jsxs)("div",{className:"modern-file-upload",children:[(0,Jn.jsx)("input",{type:"file",id:"nbiClearance",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>C(e,"nbiClearance")}),(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83d\udccb"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload NBI clearance"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"PDF, JPG, PNG up to 25MB"})]})]}),f.nbiClearance&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",style:{marginTop:"8px"},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsx)("div",{className:"modern-alert-content",children:f.nbiClearance})]}),p.nbiClearance&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83d\udccb"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:p.nbiClearance.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>_("nbiClearance"),className:"file-remove-btn",children:"\u274c"})]}),x.nbiClearance&&!p.nbiClearance&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83d\udccb"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current: ",x.nbiClearance.originalName]})]}),(0,Jn.jsxs)("div",{className:"existing-file-actions",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>A("nbiClearance"),className:"file-view-btn",children:"View"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>P("nbiClearance"),className:"file-replace-btn",children:"Replace"})]})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Optional: Upload NBI clearance (PDF, JPG, PNG - max 25MB)"})]})]})]}),(0,Jn.jsxs)("div",{className:"modern-btn-group",children:[(0,Jn.jsx)("button",{type:"button",className:"modern-btn modern-btn-secondary",onClick:()=>n.push("/admin/drivers"),children:"\u2190 Cancel"}),(0,Jn.jsx)("button",{type:"submit",className:"modern-btn modern-btn-primary",children:r?"\ud83d\udcbe Update Driver":"\u2705 Add Driver"})]})]})}),w&&N&&(0,Jn.jsx)("div",{className:"modal-overlay",onClick:()=>{j(!1),k(null)},children:(0,Jn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"90%",maxHeight:"90vh"},children:[(0,Jn.jsxs)("div",{className:"modal-header",children:[(0,Jn.jsxs)("h3",{children:["\ud83d\udcc4 ",N.filename||"Document Preview"]}),(0,Jn.jsx)("button",{className:"modal-close-btn",onClick:()=>{j(!1),k(null)},children:"\u2715"})]}),(0,Jn.jsx)("div",{className:"modal-body",style:{textAlign:"center",padding:"20px"},children:(0,Jn.jsx)("img",{src:N.url,alt:N.filename,style:{maxWidth:"100%",maxHeight:"calc(90vh - 150px)",objectFit:"contain"},onError:e=>{console.error("Error loading image:",N.url),e.target.style.display="none",e.target.parentElement.innerHTML+='<p style="color: red;">Failed to load image. Please check the file exists.</p>'}})})]})})]})},eE=e=>{let{activeTab:t}=e;const n=[{id:"drivers",label:"Drivers",icon:Kr,link:"/admin/drivers/driverslist",description:"Manage drivers & licenses"},{id:"staff",label:"Staff",icon:Yr,link:"/admin/staffs/stafflist",description:"Office & support staff"},{id:"clients",label:"Clients",icon:ur,link:"/admin/clients/clientlist",description:"Clients & allocations"}];return(0,Jn.jsx)("div",{className:"bg-white border-b border-gray-200 mb-6",children:(0,Jn.jsx)("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-8",children:(0,Jn.jsx)("div",{className:"flex space-x-8",children:n.map(e=>{const n=e.icon,r=t===e.id;return(0,Jn.jsxs)(ve,{to:e.link,className:"\n                  group flex items-center gap-2 py-4 border-b-2 transition-all duration-200\n                  ".concat(r?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                "),children:[(0,Jn.jsx)("div",{className:"\n                  p-1.5 rounded-lg transition-colors\n                  ".concat(r?"bg-blue-50 text-blue-600":"bg-gray-100/50 text-gray-400 group-hover:bg-gray-100 group-hover:text-gray-500","\n                "),children:(0,Jn.jsx)(n,{size:18})}),(0,Jn.jsxs)("div",{className:"flex flex-col",children:[(0,Jn.jsx)("span",{className:"text-sm font-semibold leading-none ".concat(r?"text-blue-900":"text-gray-700"),children:e.label}),(0,Jn.jsx)("span",{className:"text-[10px] text-gray-400 font-medium mt-0.5 hidden sm:block",children:e.description})]})]},e.id)})})})})},tE=e=>{var n,r,a,s,i;let{currentUser:o}=e;const{isWithinTimeframe:l,getFormattedDateRange:c}=ua(),{updateExportData:d}=(()=>{const e=(0,t.useContext)(ga);if(!e)throw new Error("useExportData must be used within an ExportDataProvider");return e})(),[u,h]=(0,t.useState)([]),[p,m]=(0,t.useState)(!0),[f,g]=(0,t.useState)([]),[x,v]=(0,t.useState)(null),[b,y]=(0,t.useState)("all"),[w,j]=(0,t.useState)(""),[N,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(!1),[_,P]=(0,t.useState)(!1),A=["all"!==b?b:null].filter(Boolean).length,[D,T]=(0,t.useState)("table"),[L,E]=(0,t.useState)("name"),[I,R]=(0,t.useState)("asc"),[M,F]=(0,t.useState)(1),O=Yn,z=e=>{if(!e)return{documentCount:0,requiredDocumentCount:0,optionalDocumentCount:0,overallStatus:"pending"};const t=["licenseDocument","medicalCertificate","idPhoto"].filter(t=>e[t]).length,n=["nbiClearance"].filter(t=>e[t]).length;let r="pending";return 3===t?r="complete":t>0&&(r="incomplete"),{documentCount:t+n,requiredDocumentCount:t,optionalDocumentCount:n,overallStatus:r}};(0,t.useEffect)(()=>{q()},[]);const B=e=>{L===e?R("asc"===I?"desc":"asc"):(E(e),R("asc"))},U=Math.ceil(f.length/20),q=async()=>{try{m(!0);const i=localStorage.getItem("token"),o=i?{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"}:{},l=await fetch("".concat(O,"/api/admin/drivers"),{headers:o});if(l.ok){var e,t,n,r,a,s;const i=await l.json();console.log("\u2705 Fetched drivers from admin endpoint:",i.length),console.log("\ud83d\udccb First driver data:",i[0]),console.log("\ud83d\udd0d Raw emergency contact from API:",{name:null===(e=i[0])||void 0===e?void 0:e.emergencyContactName,phone:null===(t=i[0])||void 0===t?void 0:t.emergencyContactPhone,relationship:null===(n=i[0])||void 0===n?void 0:n.emergencyContactRelationship});const o=i.map(e=>{const t={id:e.DriverID||e.id,name:e.DriverName,contactNumber:e.DriverNumber,address:e.DriverAddress,status:e.DriverStatus||"active",employmentDate:e.DriverEmploymentDate,licenseType:e.licenseType,licenseNumber:e.licenseNumber,licenseExpiryDate:e.licenseExpiryDate,licenseRegistrationDate:e.licenseRegistrationDate,emergencyContactName:e.emergencyContactName,emergencyContactPhone:e.emergencyContactPhone,emergencyContactRelationship:e.emergencyContactRelationship,documents:e.documents||{},documentCompliance:z(e.documents||{})};return t.id||console.error("\u26a0\ufe0f Driver missing ID:",e),t});console.log("\u2705 Transformed drivers:",o.length),console.log("\ud83d\udccb First transformed driver:",o[0]),console.log("\ud83d\udea8 First driver emergency contact:",{name:null===(r=o[0])||void 0===r?void 0:r.emergencyContactName,phone:null===(a=o[0])||void 0===a?void 0:a.emergencyContactPhone,relationship:null===(s=o[0])||void 0===s?void 0:s.emergencyContactRelationship}),h(o)}else console.error("Error fetching drivers:",l.statusText),await W()}catch(x){console.error("Error fetching drivers:",x),await W()}finally{m(!1)}},W=async()=>{try{const e=localStorage.getItem("token"),t=e?{headers:{Authorization:"Bearer ".concat(e)}}:{},n=await Gn.get("".concat(O,"/api/drivers"),t),r=(n.data||[]).map(e=>({id:e.DriverID||e.id,name:e.DriverName,contactNumber:e.DriverNumber,address:e.DriverAddress,status:e.DriverStatus||"active",employmentDate:e.DriverEmploymentDate,licenseType:e.licenseType,licenseNumber:e.licenseNumber,licenseExpiryDate:e.licenseExpiryDate,licenseRegistrationDate:e.licenseRegistrationDate,emergencyContactName:e.emergencyContactName,emergencyContactPhone:e.emergencyContactPhone,emergencyContactRelationship:e.emergencyContactRelationship,documents:e.documents||{},documentCompliance:z(e.documents||{})}));h(r)}catch(x){console.error("Error fetching basic drivers:",x),alert("Error fetching drivers")}},H=async e=>{try{const t=localStorage.getItem("token"),n=t?{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}:{},r=await fetch("".concat(O,"/api/admin/drivers/").concat(e.id),{headers:n});if(r.ok){const e=await r.json();console.log("\ud83d\udd0d Fresh driver data from API:",e),console.log("\ud83d\udea8 Emergency contact from API:",{name:e.emergencyContactName,phone:e.emergencyContactPhone,relationship:e.emergencyContactRelationship});const t={id:e.DriverID||e.id,name:e.DriverName,contactNumber:e.DriverNumber,address:e.DriverAddress,status:e.DriverStatus||"active",employmentDate:e.DriverEmploymentDate,licenseType:e.licenseType,licenseNumber:e.licenseNumber,licenseExpiryDate:e.licenseExpiryDate,licenseRegistrationDate:e.licenseRegistrationDate,emergencyContactName:e.emergencyContactName,emergencyContactPhone:e.emergencyContactPhone,emergencyContactRelationship:e.emergencyContactRelationship,documents:e.documents||{},documentCompliance:z(e.documents||{})};console.log("\u2705 Transformed driver for modal:",t),console.log("\u2705 Emergency contacts in transformed:",{name:t.emergencyContactName,phone:t.emergencyContactPhone,relationship:t.emergencyContactRelationship}),k(t),C(!0)}else console.error("Error fetching driver details"),k(e),C(!0)}catch(x){console.error("Error fetching driver details:",x),k(e),C(!0)}},V=()=>{C(!1),k(null)};u.length,u.filter(e=>"Active"===e.status).length,u.filter(e=>"Inactive"===e.status).length,u.filter(e=>"On Leave"===e.status).length,u.filter(e=>"Terminated"===e.status).length;(0,t.useEffect)(()=>{let e=[...u];if(l&&(e=e.filter(e=>!(e.employmentDate||e.createdAt||e.CreatedAt)||l(e.employmentDate||e.createdAt||e.CreatedAt))),"all"!==b&&(e=e.filter(e=>{var t;return(null===(t=e.status)||void 0===t?void 0:t.toLowerCase().replace(/[\s-]/g,""))===b.toLowerCase().replace(/[\s-]/g,"")})),w.trim()){const t=w.toLowerCase().trim();e=e.filter(e=>{var n,r,a,s;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.contactNumber)||void 0===r?void 0:r.includes(t))||(null===(a=e.licenseType)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(s=e.address)||void 0===s?void 0:s.toLowerCase().includes(t))})}g(e)},[u,b,w,l]),(0,t.useEffect)(()=>{const e={total:f.length,active:f.filter(e=>"Active"===e.status).length,inactive:f.filter(e=>"Inactive"===e.status).length,onLeave:f.filter(e=>"On Leave"===e.status).length,terminated:f.filter(e=>"Terminated"===e.status).length};d({data:f,columns:[{key:"name",label:"Name",type:"text"},{key:"status",label:"Status",type:"status"},{key:"contactNumber",label:"Contact",type:"text"},{key:"licenseType",label:"License Type",type:"text"},{key:"address",label:"Address",type:"text"}],summary:e,entityType:"drivers",title:"Drivers Management Report"})},[f,d]);const G=e=>{const t="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold border";switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":case"available":return"".concat(t," bg-emerald-100 text-emerald-700 border-emerald-200");case"inactive":default:return"".concat(t," bg-gray-100 text-gray-700 border-gray-200");case"on leave":return"".concat(t," bg-amber-100 text-amber-700 border-amber-200");case"on-delivery":case"on_delivery":case"on delivery":return"".concat(t," bg-blue-100 text-blue-700 border-blue-200");case"terminated":case"license-expired":return"".concat(t," bg-red-100 text-red-700 border-red-200");case"license-expiring":return"".concat(t," bg-orange-100 text-orange-700 border-orange-200")}},K=e=>{var t,n;return"license-expired"===e.status?"bg-red-50 border-red-200 text-red-700":"license-expiring"===e.status?"bg-amber-50 border-amber-200 text-amber-700":"complete"===(null===(t=e.documentCompliance)||void 0===t?void 0:t.overallStatus)?"bg-emerald-50 border-emerald-200 text-emerald-700":"incomplete"===(null===(n=e.documentCompliance)||void 0===n?void 0:n.overallStatus)?"bg-amber-50 border-amber-200 text-amber-700":"bg-gray-50 border-gray-200 text-gray-700"},Y=e=>{var t,n;return"license-expired"===e.status?(0,Jn.jsx)($r,{className:"text-red-600",size:16}):"license-expiring"===e.status?(0,Jn.jsx)(or,{className:"text-amber-600",size:16}):"complete"===(null===(t=e.documentCompliance)||void 0===t?void 0:t.overallStatus)?(0,Jn.jsx)(fr,{className:"text-emerald-600",size:16}):"incomplete"===(null===(n=e.documentCompliance)||void 0===n?void 0:n.overallStatus)?(0,Jn.jsx)(or,{className:"text-amber-600",size:16}):(0,Jn.jsx)(ir,{className:"text-gray-400",size:16})},$=e=>{var t,n;return"license-expired"===e.status?"License Expired":"license-expiring"===e.status?"License Expiring Soon":"complete"===(null===(t=e.documentCompliance)||void 0===t?void 0:t.overallStatus)?"Ready to Drive":"incomplete"===(null===(n=e.documentCompliance)||void 0===n?void 0:n.overallStatus)?"Compliance Incomplete":"Compliance Pending"},J=e=>{var t,n,r;const a=(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,s=(null===(n=e.documentCompliance)||void 0===n?void 0:n.optionalDocumentCount)||0,i=(null===(r=e.documentCompliance)||void 0===r?void 0:r.overallStatus)||"Incomplete";let o=[];return a>0&&o.push("".concat(a," required")),s>0&&o.push("".concat(s," optional")),"complete"===i?o.push("Overall: Complete"):"incomplete"===i?o.push("Overall: Incomplete"):o.push("Overall: Pending"),o.join(", ")},X=e=>{if("license-expired"===e.status)return(0,Jn.jsxs)("span",{className:"flex items-center gap-1 text-red-600 font-medium",children:[(0,Jn.jsx)($r,{size:14})," License Expired"]});if("license-expiring"===e.status&&void 0!==e.licenseExpiryDaysRemaining){const t=e.licenseExpiryDaysRemaining;return(0,Jn.jsxs)("span",{className:"flex items-center gap-1 text-amber-600 font-medium",children:[(0,Jn.jsx)(or,{size:14})," Expires in ",t," day",1!==t?"s":""]})}return null},Q=e=>"license-expired"===e.status||"license-expiring"===e.status?"On Leave":e.status||"Active",Z=e=>"license-expired"===e.status||"license-expiring"===e.status?G("on leave"):G(e.status);return p?(0,Jn.jsx)("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:(0,Jn.jsxs)("div",{className:"text-center",children:[(0,Jn.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Jn.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading drivers..."})]})}):(0,Jn.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Jn.jsx)(Fm,{currentUser:o}),(0,Jn.jsx)(eE,{activeTab:"drivers"}),(0,Jn.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,Jn.jsxs)("div",{className:"mb-8",children:[(0,Jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Drivers Management"}),(0,Jn.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage drivers, licenses, and driving credentials"}),(0,Jn.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 shadow-sm",children:[(0,Jn.jsx)(mr,{size:16,className:"text-gray-400"}),(0,Jn.jsxs)("span",{children:["Showing data for:"," ",(0,Jn.jsx)("span",{className:"font-medium text-gray-900",children:c()})]})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(Kr,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(cr,{size:12}),"+3.2%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Total Drivers"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(fr,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(cr,{size:12}),"+2.1%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.filter(e=>{var t;return"active"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Active"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-indigo-50 text-indigo-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(Gr,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(ir,{size:12}),"0.0%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.filter(e=>{var t;return"ondelivery"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase().replace(/[\s-]/g,""))}).length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"On Delivery"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-red-50 text-red-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(Pr,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-red-600 bg-red-50 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(lr,{size:12}),"-1.2%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.filter(e=>e.licenseExpiryDate&&new Date(e.licenseExpiryDate)<new Date).length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Expired Licenses"})]})]})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between mb-6",children:[(0,Jn.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,Jn.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:(0,Jn.jsx)(qr,{size:20})}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by name, contact, license...",value:w,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(_?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>P(!_),children:[(0,Jn.jsx)(Dr,{size:18}),"Filters",A>0&&(0,Jn.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:A})]}),(0,Jn.jsxs)("div",{className:"flex items-center bg-gray-100 p-1 rounded-lg border border-gray-200",children:[(0,Jn.jsx)("button",{onClick:()=>T("table"),className:"p-2 rounded-md transition-all ".concat("table"===D?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Table View",children:(0,Jn.jsx)(Lr,{size:18})}),(0,Jn.jsx)("button",{onClick:()=>T("cards"),className:"p-2 rounded-md transition-all ".concat("cards"===D?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Card View",children:(0,Jn.jsx)(Tr,{size:18})})]})]})]}),(0,Jn.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium mb-6",children:["Showing ",f.length," of ",u.length," drivers"]}),(0,Jn.jsx)("div",{className:"relative mb-6",children:_&&(0,Jn.jsxs)("div",{className:"absolute top-0 right-0 md:left-0 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-80 max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Jn.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,Jn.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>P(!1),children:(0,Jn.jsx)($r,{size:20})})]}),(0,Jn.jsx)("div",{className:"space-y-4 mb-6",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,Jn.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Status"}),(0,Jn.jsx)("option",{value:"Active",children:"Active"}),(0,Jn.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,Jn.jsx)("option",{value:"On Leave",children:"On Leave"}),(0,Jn.jsx)("option",{value:"On Delivery",children:"On Delivery"}),(0,Jn.jsx)("option",{value:"Terminated",children:"Terminated"})]})]})}),(0,Jn.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{y("all"),j("")},children:[(0,Jn.jsx)(Ar,{size:16})," Reset"]}),(0,Jn.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 transition-colors",onClick:()=>P(!1),children:"Apply Filters"})]})]})}),0===f.length?(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,Jn.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-400",children:(0,Jn.jsx)(Kr,{size:40})}),(0,Jn.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No drivers found"}),(0,Jn.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:"No drivers match your current filters. Try adjusting your search criteria or add a new driver."}),(0,Jn.jsxs)(ve,{to:"/admin/drivers/add",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl shadow-sm shadow-blue-200 transition-colors",children:[(0,Jn.jsx)(zr,{size:20})," Add Your First Driver"]})]}):"table"===D?(0,Jn.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,Jn.jsx)("div",{className:"overflow-x-auto",children:(0,Jn.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,Jn.jsx)("th",{onClick:()=>B("name"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-1",children:["Driver Name"," ","name"===L&&("asc"===I?(0,Jn.jsx)(cr,{size:14}):(0,Jn.jsx)(lr,{size:14}))]})}),(0,Jn.jsx)("th",{onClick:()=>B("contactNumber"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-1",children:["Contact"," ","contactNumber"===L&&("asc"===I?(0,Jn.jsx)(cr,{size:14}):(0,Jn.jsx)(lr,{size:14}))]})}),(0,Jn.jsx)("th",{onClick:()=>B("licenseType"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-1",children:["License Type"," ","licenseType"===L&&("asc"===I?(0,Jn.jsx)(cr,{size:14}):(0,Jn.jsx)(lr,{size:14}))]})}),(0,Jn.jsx)("th",{onClick:()=>B("licenseNumber"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-1",children:["License #"," ","licenseNumber"===L&&("asc"===I?(0,Jn.jsx)(cr,{size:14}):(0,Jn.jsx)(lr,{size:14}))]})}),(0,Jn.jsx)("th",{onClick:()=>B("status"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-1",children:["Status"," ","status"===L&&("asc"===I?(0,Jn.jsx)(cr,{size:14}):(0,Jn.jsx)(lr,{size:14}))]})}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"License Status"}),(0,Jn.jsxs)("th",{onClick:()=>B("documentCompliance"),className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Compliance"," ","documentCompliance"===L&&("asc"===I?(0,Jn.jsx)(cr,{size:14}):(0,Jn.jsx)(lr,{size:14}))]}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,Jn.jsx)("tbody",{className:"divide-y divide-gray-100",children:(()=>{let e=[...f];e.sort((e,t)=>{let n=e[L],r=t[L];var a,s;"documentCompliance"===L&&(n=(null===(a=e.documentCompliance)||void 0===a?void 0:a.requiredDocumentCount)||0,r=(null===(s=t.documentCompliance)||void 0===s?void 0:s.requiredDocumentCount)||0);return n<r?"asc"===I?-1:1:n>r?"asc"===I?1:-1:0});const t=20*(M-1),n=t+20;return e.slice(t,n)})().map(e=>{var t;return(0,Jn.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-9 h-9 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center font-bold text-sm shrink-0",children:e.name.charAt(0)}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,Jn.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.id]})]})]})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.contactNumber||"N/A"}),(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsx)("span",{className:"px-2.5 py-0.5 rounded-lg bg-gray-100 text-gray-700 text-xs font-semibold border border-gray-200",children:e.licenseType||"N/A"})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-gray-600",children:e.licenseNumber||"N/A"}),(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsx)("span",{className:Z(e),children:Q(e)})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm",children:X(e)?X(e):(0,Jn.jsxs)("span",{className:"flex items-center gap-1 text-emerald-600 font-medium text-xs",children:[(0,Jn.jsx)(fr,{size:14})," Valid"]})}),(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("span",{className:"text-lg",children:Y(e)}),(0,Jn.jsx)("div",{className:"flex flex-col",children:(0,Jn.jsxs)("span",{className:"text-xs font-medium text-gray-900",children:[(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,"/3"]})})]})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Jn.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,Jn.jsx)("button",{onClick:()=>H(e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,Jn.jsx)(Cr,{size:18})}),(0,Jn.jsx)(ve,{to:"/admin/drivers/edit/".concat(e.id),className:"p-1.5 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit Driver",children:(0,Jn.jsx)(Sr,{size:18})})]})})]},e.id)})})]})}),U>1&&(0,Jn.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50",children:[(0,Jn.jsx)("button",{onClick:()=>F(e=>Math.max(1,e-1)),disabled:1===M,className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium shadow-sm",children:"\u2190 Previous"}),(0,Jn.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:["Page ",M," of ",U," (",f.length," ","drivers)"]}),(0,Jn.jsx)("button",{onClick:()=>F(e=>Math.min(U,e+1)),disabled:M===U,className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium shadow-sm",children:"Next \u2192"})]})]}):(0,Jn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:f.map(e=>{var t;G(e.status);return(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow group",children:[(0,Jn.jsxs)("div",{className:"p-5 border-b border-gray-50 flex justify-between items-start gap-3",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:(0,Jn.jsx)(Kr,{size:20})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"font-bold text-gray-900",children:e.name}),(0,Jn.jsx)("p",{className:"text-xs text-gray-500 font-medium bg-gray-100 px-2 py-0.5 rounded mt-1 inline-block capitalize",children:e.licenseType||"No License"})]})]}),(0,Jn.jsx)("div",{className:"flex flex-col items-end gap-1",children:(0,Jn.jsx)("span",{className:Z(e),children:Q(e)})})]}),(0,Jn.jsxs)("div",{className:"p-5 space-y-4",children:[(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"Contact"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-900 truncate block text-sm",title:e.contactNumber,children:e.contactNumber||"N/A"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"License #"}),(0,Jn.jsx)("span",{className:"font-mono text-xs font-semibold text-gray-700 bg-gray-50 px-2 py-1 rounded border border-gray-200 block w-fit",children:e.licenseNumber||"N/A"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"Expiry"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.licenseExpiryDate?new Date(e.licenseExpiryDate).toLocaleDateString():"N/A"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"block text-xs text-gray-500 mb-1",children:"Hired"}),(0,Jn.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.employmentDate?new Date(e.employmentDate).toLocaleDateString():"N/A"})]})]}),(0,Jn.jsx)("div",{className:"p-3 rounded-xl border ".concat(K(e)),children:(0,Jn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Jn.jsx)("div",{className:"mt-0.5 shrink-0",children:Y(e)}),(0,Jn.jsxs)("div",{className:"flex-1",children:[(0,Jn.jsx)("div",{className:"text-sm font-bold opacity-90 mb-0.5",children:$(e)}),(0,Jn.jsx)("div",{className:"text-xs opacity-75",children:J(e)}),(0,Jn.jsxs)("div",{className:"mt-2 text-xs flex items-center justify-between border-t border-black/5 pt-2",children:[(0,Jn.jsxs)("span",{className:"font-medium flex items-center gap-1 opacity-80",children:[(0,Jn.jsx)(Pr,{size:12}),Object.keys(e.documents||{}).length," files"]}),(0,Jn.jsxs)("span",{className:"font-medium opacity-80",children:[(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,"/3 required"]})]})]})]})})]}),(0,Jn.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-100 grid grid-cols-2 gap-3",children:[e.id?(0,Jn.jsxs)(ve,{to:"/admin/drivers/edit/".concat(e.id),className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all text-sm font-medium shadow-sm",children:[(0,Jn.jsx)(Sr,{size:16}),"Edit"]}):(0,Jn.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 border border-gray-200 text-gray-400 rounded-lg cursor-not-allowed text-sm font-medium shadow-sm",disabled:!0,title:"Driver ID missing",children:[(0,Jn.jsx)(Sr,{size:16}),"Edit"]}),(0,Jn.jsxs)("button",{className:"flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all text-sm font-medium shadow-sm shadow-blue-200",onClick:()=>H(e),children:[(0,Jn.jsx)(Cr,{size:16}),"Details"]})]})]},e.id)})}),S&&N&&(0,Jn.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:V,children:(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,Jn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center",children:(0,Jn.jsx)(Kr,{size:20})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:[N.name," Details"]}),(0,Jn.jsx)("p",{className:"text-sm text-gray-500",children:"View complete driver information and documents"})]})]}),(0,Jn.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:V,children:(0,Jn.jsx)($r,{size:24})})]}),(0,Jn.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,Jn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Jn.jsxs)("div",{className:"space-y-8",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udc64 Personal Information"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Full Name"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.name})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Contact Number"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.contactNumber||"N/A"})]}),(0,Jn.jsxs)("div",{className:"sm:col-span-2",children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Address"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.address||"N/A"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Current Status"}),(0,Jn.jsx)("span",{className:G(N.status),children:N.status})]})]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcbc Employment Information"}),(0,Jn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Employment Date"}),(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.employmentDate?new Date(N.employmentDate).toLocaleDateString():"N/A"})]})})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udea8 Emergency Contact"}),(0,Jn.jsx)("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:(0,Jn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-red-500 block mb-1 font-medium",children:"Contact Name"}),(0,Jn.jsx)("span",{className:"text-sm font-bold text-red-900",children:N.emergencyContactName||"N/A"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-red-500 block mb-1 font-medium",children:"Relationship"}),(0,Jn.jsx)("span",{className:"text-sm font-bold text-red-900",children:N.emergencyContactRelationship||"N/A"})]}),(0,Jn.jsxs)("div",{className:"sm:col-span-2",children:[(0,Jn.jsx)("span",{className:"text-xs text-red-500 block mb-1 font-medium",children:"Contact Phone"}),(0,Jn.jsx)("span",{className:"text-sm font-bold text-red-900",children:N.emergencyContactPhone||"N/A"})]})]})})]})]}),(0,Jn.jsxs)("div",{className:"space-y-8",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcdc License Information"}),(0,Jn.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,Jn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"License Type"}),(0,Jn.jsx)("span",{className:"text-sm font-bold text-gray-900",children:N.licenseType||"N/A"})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"License Number"}),(0,Jn.jsx)("span",{className:"text-sm font-mono font-bold text-gray-700 bg-white px-2 py-1 rounded border border-gray-200 inline-block",children:N.licenseNumber||"N/A"})]}),(0,Jn.jsxs)("div",{className:"sm:col-span-2",children:[(0,Jn.jsx)("span",{className:"text-xs text-gray-500 block mb-1",children:"Expiry Date"}),(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N.licenseExpiryDate?new Date(N.licenseExpiryDate).toLocaleDateString():"N/A"}),X(N)]})]})]})})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"\ud83d\udcc4 Compliance Status"}),(0,Jn.jsx)("div",{className:"p-4 rounded-xl border mb-6 ".concat(K(N)),children:(0,Jn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Jn.jsx)("div",{className:"mt-0.5",children:Y(N)}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"font-bold text-sm mb-1",children:$(N)}),(0,Jn.jsx)("div",{className:"text-xs opacity-80",children:J(N)})]})]})}),(0,Jn.jsxs)("div",{className:"space-y-3",children:[(0,Jn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,Jn.jsx)("span",{className:"text-sm text-gray-700",children:"License Document"}),null!==(n=N.documents)&&void 0!==n&&n.licenseDocument?(0,Jn.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,Jn.jsx)(fr,{size:12})," Complete"]}):(0,Jn.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-red-600 bg-red-50 px-2.5 py-1 rounded-full border border-red-100",children:[(0,Jn.jsx)($r,{size:12})," Missing"]})]}),(0,Jn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,Jn.jsx)("span",{className:"text-sm text-gray-700",children:"Medical Certificate"}),null!==(r=N.documents)&&void 0!==r&&r.medicalCertificate?(0,Jn.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,Jn.jsx)(fr,{size:12})," Complete"]}):(0,Jn.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-red-600 bg-red-50 px-2.5 py-1 rounded-full border border-red-100",children:[(0,Jn.jsx)($r,{size:12})," Missing"]})]}),(0,Jn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,Jn.jsx)("span",{className:"text-sm text-gray-700",children:"ID Photo"}),null!==(a=N.documents)&&void 0!==a&&a.idPhoto?(0,Jn.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,Jn.jsx)(fr,{size:12})," Complete"]}):(0,Jn.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-red-600 bg-red-50 px-2.5 py-1 rounded-full border border-red-100",children:[(0,Jn.jsx)($r,{size:12})," Missing"]})]}),(0,Jn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,Jn.jsx)("span",{className:"text-sm text-gray-700",children:"NBI Clearance"}),null!==(s=N.documents)&&void 0!==s&&s.nbiClearance?(0,Jn.jsxs)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[(0,Jn.jsx)(fr,{size:12})," Complete"]}):(0,Jn.jsx)("span",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-500 bg-gray-100 px-2.5 py-1 rounded-full border border-gray-200",children:"Optional"})]})]})]})]})]}),(0,Jn.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[(0,Jn.jsxs)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 flex items-center justify-between",children:[(0,Jn.jsx)("span",{children:"\ud83d\udcc1 Uploaded Documents"}),(0,Jn.jsxs)("span",{className:"text-xs font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:[(null===(i=N.documentCompliance)||void 0===i?void 0:i.documentCount)||0," ","files uploaded"]})]}),N.documents&&Object.keys(N.documents).length>0?(0,Jn.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,Jn.jsx)(JL,{documents:N.documents,entityType:"driver",entityName:N.name})}):(0,Jn.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-dashed border-gray-200 text-gray-400",children:[(0,Jn.jsx)(Pr,{size:32,className:"mx-auto mb-2 opacity-50"}),(0,Jn.jsx)("p",{className:"mb-4",children:"No documents have been uploaded for this driver yet."}),(0,Jn.jsxs)(ve,{to:"/admin/drivers/edit/".concat(N.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:[(0,Jn.jsx)(Sr,{size:16})," Upload Documents"]})]})]})]}),(0,Jn.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3 rounded-b-2xl",children:[(0,Jn.jsxs)(ve,{to:"/admin/drivers/edit/".concat(N.id),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl shadow-sm shadow-blue-200 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,Jn.jsx)(Sr,{size:16})," Edit Driver"]}),(0,Jn.jsx)("button",{className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors text-sm font-medium shadow-sm",onClick:V,children:"Close"})]})]})})]})]})},nE=e=>{let{currentUser:n}=e;const[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)("all"),[p,m]=(0,t.useState)(""),[f,g]=(0,t.useState)(""),[x,v]=(0,t.useState)("DeliveryID"),[b,y]=(0,t.useState)("desc"),[w,j]=(0,t.useState)(1),{showAlert:N}=(0,t.useContext)(aa),[k,S]=(0,t.useState)(null),[C,_]=(0,t.useState)(null),[P,A]=(0,t.useState)(!1),[D,T]=(0,t.useState)(!1),L=["all"!==u?u:null,p,f].filter(Boolean).length;(0,t.useEffect)(()=>{E()},[]);const E=async()=>{try{const e=await Gn.get("/api/deliveries");a(e.data),i(e.data),l(!1)}catch(Bx){console.error("Error fetching deliveries:",Bx),N("Error fetching delivery data","danger"),l(!1)}};(0,t.useEffect)(()=>{let e=[...r];if("all"!==u&&(e=e.filter(e=>{var t;return(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())===u.toLowerCase()})),c.trim()){const t=c.toLowerCase().trim();e=e.filter(e=>{var n,r,a,s,i;return(null===(n=e.DeliveryID)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.ClientName)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.DriverName)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(s=e.HelperName)||void 0===s?void 0:s.toLowerCase().includes(t))||(null===(i=e.TruckPlate)||void 0===i?void 0:i.toLowerCase().includes(t))})}(p||f)&&(e=e.filter(e=>{const t=e.created_at||e.CreatedAt||e.deliveryDate||e.DeliveryDate;if(!t)return!0;const n=new Date(t),r=p?new Date(p):null,a=f?new Date(f):null;return r&&r.setHours(0,0,0,0),a&&a.setHours(23,59,59,999),r&&a?n>=r&&n<=a:r?n>=r:!a||n<=a})),i(e)},[r,u,c,p,f]);const I=e=>{x===e?y("asc"===b?"desc":"asc"):(v(e),y("asc"))},R=Math.ceil(s.length/20),M=(e,t)=>{if(!e||"unknown"===e)return"Unknown";switch(e.toLowerCase()){case"awaiting_approval":return"Awaiting Approval";case"accepted":return"Accepted";case"in_progress":case"in progress":return"In Progress";case"delivered":return"Delivered";case"completed":return"Completed";case"cancelled":return"Cancelled";case"assigned":return"approved"===t?"Approved":"Assigned";case"awaiting_driver":return"Awaiting";default:return"Unknown"}},F=(e,t)=>{if(!e||"unknown"===e)return"Unknown";switch(e.toLowerCase()){case"awaiting_approval":return"Awaiting Approval";case"accepted":return"Accepted";case"in_progress":case"in progress":return"In Progress";case"delivered":return"Delivered";case"completed":return"Completed";case"cancelled":return"Cancelled";case"assigned":return"approved"===t?"Approved":"Assigned";case"awaiting_helper":return"Awaiting";default:return"Unknown"}};return o?(0,Jn.jsx)(Os,{}):(0,Jn.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Jn.jsx)(Fm,{currentUser:n}),(0,Jn.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,Jn.jsxs)("div",{className:"mb-8",children:[(0,Jn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Delivery Management"}),(0,Jn.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage delivery schedules, track status, and monitor progress"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[(0,Jn.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-50 flex items-center justify-center text-red-500",children:(0,Jn.jsx)($r,{size:20})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Cancelled"}),(0,Jn.jsx)("p",{className:"text-xl font-bold text-gray-900",children:r.filter(e=>{var t;return"cancelled"===(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())}).length})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center text-xs font-semibold text-gray-400 bg-gray-50 px-2 py-1 rounded-full",children:[(0,Jn.jsx)(lr,{size:12,className:"mr-0.5"})," 0%"]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-full bg-amber-50 flex items-center justify-center text-amber-500",children:(0,Jn.jsx)(yr,{size:20})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),(0,Jn.jsx)("p",{className:"text-xl font-bold text-gray-900",children:r.filter(e=>{var t;return"pending"===(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())}).length})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center text-xs font-semibold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[(0,Jn.jsx)(cr,{size:12,className:"mr-0.5"})," +3.1%"]})]}),(0,Jn.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-500",children:(0,Jn.jsx)(ir,{size:20})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),(0,Jn.jsx)("p",{className:"text-xl font-bold text-gray-900",children:r.filter(e=>{var t;return["in-progress","in progress","accepted"].includes(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())}).length})]})]})}),(0,Jn.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-50 flex items-center justify-center text-green-500",children:(0,Jn.jsx)(fr,{size:20})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Delivered"}),(0,Jn.jsx)("p",{className:"text-xl font-bold text-gray-900",children:r.filter(e=>{var t;return["delivered","completed"].includes(null===(t=e.DeliveryStatus)||void 0===t?void 0:t.toLowerCase())}).length})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center text-xs font-semibold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[(0,Jn.jsx)(cr,{size:12,className:"mr-0.5"})," +2.8%"]})]})]})]}),(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6 items-center justify-between bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[(0,Jn.jsxs)("div",{className:"relative w-full md:w-96",children:[(0,Jn.jsx)(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by ID, client, driver...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",value:c,onChange:e=>d(e.target.value)})]}),(0,Jn.jsxs)("div",{className:"relative flex items-center gap-2 w-full md:w-auto",children:[(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium border transition-all ".concat(D||L>0?"bg-blue-50 text-blue-600 border-blue-200":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"),onClick:()=>T(!D),children:[(0,Jn.jsx)(Dr,{size:18}),(0,Jn.jsx)("span",{children:"Filters"}),L>0&&(0,Jn.jsx)("span",{className:"ml-1 px-1.5 py-0.5 bg-blue-600 text-white text-xs rounded-full",children:L})]}),D&&(0,Jn.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-xl shadow-xl border border-gray-100 p-4 z-20 animate-fade-in-up",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-100",children:[(0,Jn.jsx)("h4",{className:"font-semibold text-sm text-gray-800",children:"Filter Options"}),(0,Jn.jsx)("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Jn.jsx)($r,{size:16})})]}),(0,Jn.jsxs)("div",{className:"space-y-3",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Status"}),(0,Jn.jsxs)("select",{className:"w-full p-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-blue-500",value:u,onChange:e=>h(e.target.value),children:[(0,Jn.jsx)("option",{value:"all",children:"All Statuses"}),(0,Jn.jsx)("option",{value:"Pending",children:"Pending"}),(0,Jn.jsx)("option",{value:"Accepted",children:"Accepted"}),(0,Jn.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Jn.jsx)("option",{value:"Delivered",children:"Delivered"}),(0,Jn.jsx)("option",{value:"Completed",children:"Completed"}),(0,Jn.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Date Range"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Jn.jsx)("input",{type:"date",className:"w-full p-2 border border-gray-200 rounded-lg text-xs focus:outline-none focus:border-blue-500",value:p,onChange:e=>m(e.target.value)}),(0,Jn.jsx)("input",{type:"date",className:"w-full p-2 border border-gray-200 rounded-lg text-xs focus:outline-none focus:border-blue-500",value:f,onChange:e=>g(e.target.value)})]})]})]}),(0,Jn.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-100 flex justify-end gap-2",children:[(0,Jn.jsx)("button",{className:"px-3 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700",onClick:()=>{h("all"),m(""),g(""),d("")},children:"Reset"}),(0,Jn.jsx)("button",{className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-700",onClick:()=>T(!1),children:"Apply"})]})]})]})]}),(0,Jn.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.length>0?(0,Jn.jsx)("div",{className:"overflow-x-auto",children:(0,Jn.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[(0,Jn.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("DeliveryID"),children:(0,Jn.jsxs)("div",{className:"flex items-center gap-1",children:["Delivery ID"," ","DeliveryID"===x&&("asc"===b?(0,Jn.jsx)(cr,{size:12}):(0,Jn.jsx)(lr,{size:12}))]})}),(0,Jn.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("ClientName"),children:(0,Jn.jsxs)("div",{className:"flex items-center gap-1",children:["Client"," ","ClientName"===x&&("asc"===b?(0,Jn.jsx)(cr,{size:12}):(0,Jn.jsx)(lr,{size:12}))]})}),(0,Jn.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("DriverName"),children:(0,Jn.jsxs)("div",{className:"flex items-center gap-1",children:["Driver"," ","DriverName"===x&&("asc"===b?(0,Jn.jsx)(cr,{size:12}):(0,Jn.jsx)(lr,{size:12}))]})}),(0,Jn.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("HelperName"),children:(0,Jn.jsxs)("div",{className:"flex items-center gap-1",children:["Helper"," ","HelperName"===x&&("asc"===b?(0,Jn.jsx)(cr,{size:12}):(0,Jn.jsx)(lr,{size:12}))]})}),(0,Jn.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("TruckPlate"),children:(0,Jn.jsxs)("div",{className:"flex items-center gap-1",children:["Truck"," ","TruckPlate"===x&&("asc"===b?(0,Jn.jsx)(cr,{size:12}):(0,Jn.jsx)(lr,{size:12}))]})}),(0,Jn.jsx)("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("DeliveryStatus"),children:(0,Jn.jsxs)("div",{className:"flex items-center gap-1",children:["Status"," ","DeliveryStatus"===x&&("asc"===b?(0,Jn.jsx)(cr,{size:12}):(0,Jn.jsx)(lr,{size:12}))]})}),(0,Jn.jsx)("th",{className:"px-6 py-4 text-center",children:"Actions"})]})}),(0,Jn.jsx)("tbody",{className:"divide-y divide-gray-100",children:(()=>{let e=[...s];e.sort((e,t)=>{let n=e[x],r=t[x];return n<r?"asc"===b?-1:1:n>r?"asc"===b?1:-1:0});const t=20*(w-1),n=t+20;return e.slice(t,n)})().map(e=>(0,Jn.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600",children:(0,Jn.jsx)(Vr,{size:16})}),(0,Jn.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.DeliveryID?e.DeliveryID.substring(0,12):"N/A"})]})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 font-medium",children:e.ClientName||"N/A"}),(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.DriverName||"Not Assigned"}),(0,Jn.jsx)("span",{className:"text-xs text-gray-400 capitalize",children:M(e.DriverStatus,e.DriverApprovalStatus)})]})}),(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.HelperName||"Not Assigned"}),(0,Jn.jsx)("span",{className:"text-xs text-gray-400 capitalize",children:F(e.HelperStatus,e.HelperApprovalStatus)})]})}),(0,Jn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 font-mono",children:e.TruckPlate||"N/A"}),(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsx)(Bm,{status:e.DeliveryStatus||"unknown"})}),(0,Jn.jsx)("td",{className:"px-6 py-4",children:(0,Jn.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Jn.jsx)(ve,{to:"/admin/deliveries/".concat(e.DeliveryID||"","/view"),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,Jn.jsx)(Cr,{size:18})}),(0,Jn.jsx)("button",{onClick:()=>{const t=e.TruckPlate||e.TruckID;t?(S(e.DeliveryID),_(t),window.currentDeliveryData=e,A(!0)):N("No truck assigned to this delivery","warning")},className:"p-1.5 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Track Live GPS",children:(0,Jn.jsx)(Rr,{size:18})})]})})]},e.DeliveryID))})]})}):(0,Jn.jsxs)("div",{className:"p-12 flex flex-col items-center justify-center text-center",children:[(0,Jn.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-4",children:(0,Jn.jsx)(TbPackage,{size:32})}),(0,Jn.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"No deliveries found"}),(0,Jn.jsx)("p",{className:"text-gray-500 max-w-sm",children:"No delivery records match your current criteria. Try adjusting your filters."}),(0,Jn.jsx)("button",{onClick:()=>{h("all"),d(""),m(""),g("")},className:"mt-6 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Clear All Filters"})]}),R>1&&(0,Jn.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50/30",children:[(0,Jn.jsxs)("span",{className:"text-sm text-gray-500",children:["Page"," ",(0,Jn.jsx)("span",{className:"font-medium text-gray-900",children:w})," ","of"," ",(0,Jn.jsx)("span",{className:"font-medium text-gray-900",children:R})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("button",{onClick:()=>j(e=>Math.max(1,e-1)),disabled:1===w,className:"p-2 border border-gray-200 rounded-lg bg-white text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Jn.jsx)(xr,{size:16})}),(0,Jn.jsx)("button",{onClick:()=>j(e=>Math.min(R,e+1)),disabled:w===R,className:"p-2 border border-gray-200 rounded-lg bg-white text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Jn.jsx)(vr,{size:16})})]})]})]})]}),P&&k&&(0,Jn.jsx)(dk,{deliveryId:k,truckId:C,onClose:()=>{A(!1),S(null),_(null)}})]})},rE=e=>{let{currentUser:n}=e;const{id:r}=ue(),a=ce(),{showAlert:s}=(0,t.useContext)(aa),i=Boolean(r),o=Yn,[l,c]=(0,t.useState)({deliveryDate:(new Date).toISOString().split("T")[0],deliveryStatus:"pending",deliveryAddress:"",deliveryDistance:"",deliveryRate:"",clientId:"",truckId:"",driverId:"",helperId:"",notes:""}),[d,u]=(0,t.useState)(i),[h,p]=(0,t.useState)([]),[m,f]=(0,t.useState)([]),[g,x]=(0,t.useState)([]),[v,b]=(0,t.useState)([]),[y,w]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{if(i)try{u(!0);const e=(await Gn.get("".concat(o,"/api/deliveries/").concat(r))).data;e.deliveryDate&&(e.deliveryDate=new Date(e.deliveryDate).toISOString().split("T")[0]),c({deliveryDate:e.deliveryDate||(new Date).toISOString().split("T")[0],deliveryStatus:e.deliveryStatus||"pending",deliveryAddress:e.deliveryAddress||"",deliveryDistance:e.deliveryDistance||"",deliveryRate:e.deliveryRate||"",clientId:e.clientId||"",truckId:e.truckId||"",driverId:e.driverId||"",helperId:e.helperId||"",notes:e.notes||""}),u(!1)}catch(e){w("Error loading delivery data"),console.error("Error fetching delivery:",e),u(!1)}})()},[r,i,o]),(0,t.useEffect)(()=>{(async()=>{try{const e=await Gn.get("".concat(o,"/api/clients"));p(e.data);const t=await Gn.get("".concat(o,"/api/trucks"));f(t.data);const n=await Gn.get("".concat(o,"/api/drivers"));x(n.data);const r=await Gn.get("".concat(o,"/api/helpers"));b(r.data)}catch(e){w("Error loading reference data"),console.error("Error fetching reference data:",e)}})()},[o]);const j=e=>{const{name:t,value:n}=e.target;c(Ne(Ne({},l),{},{[t]:n}))};return d?(0,Jn.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Jn.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin"}),(0,Jn.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading delivery data..."})]})}):(0,Jn.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Jn.jsx)(Fm,{currentUser:n}),(0,Jn.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-4xl mx-auto w-full",children:[(0,Jn.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,Jn.jsx)("button",{onClick:()=>a.push("/admin/deliveries"),className:"p-2 rounded-lg hover:bg-white hover:shadow-sm text-gray-500 hover:text-gray-900 transition-all border border-transparent hover:border-gray-200",children:(0,Jn.jsx)(xr,{size:20})}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:i?"Edit Delivery":"New Delivery"}),(0,Jn.jsxs)("p",{className:"text-sm text-gray-500",children:["Fill in the details below to"," ",i?"update the":"create a new"," shipment."]})]})]}),y&&(0,Jn.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-center gap-2",children:[(0,Jn.jsx)("span",{className:"font-bold",children:"Error:"})," ",y]}),(0,Jn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{i?(await Gn.put("".concat(o,"/api/deliveries/").concat(r),l),s("Delivery updated successfully","success")):(await Gn.post("".concat(o,"/api/deliveries"),l),s("Delivery created successfully","success")),a.push("/admin/deliveries")}catch(t){w("Error saving delivery"),console.error("Error saving delivery:",t),s("Error saving delivery","danger")}},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 lg:p-8",children:[(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,Jn.jsx)("div",{className:"md:col-span-2",children:(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Basic Information"})}),(0,Jn.jsxs)("div",{className:"space-y-2",children:[(0,Jn.jsxs)("label",{htmlFor:"clientId",className:"block text-sm font-medium text-gray-700",children:["Client ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsxs)("select",{id:"clientId",name:"clientId",value:l.clientId,onChange:j,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm",children:[(0,Jn.jsx)("option",{value:"",children:"Select Client"}),h.map(e=>(0,Jn.jsx)("option",{value:e.ClientID,children:e.ClientName},e.ClientID))]})]}),(0,Jn.jsxs)("div",{className:"space-y-2",children:[(0,Jn.jsxs)("label",{htmlFor:"deliveryDate",className:"block text-sm font-medium text-gray-700",children:["Delivery Date ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsx)("input",{type:"date",id:"deliveryDate",name:"deliveryDate",value:l.deliveryDate,onChange:j,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm"})]}),(0,Jn.jsx)("div",{className:"md:col-span-2 mt-2",children:(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Resource Assignment"})}),(0,Jn.jsxs)("div",{className:"space-y-2",children:[(0,Jn.jsxs)("label",{htmlFor:"truckId",className:"block text-sm font-medium text-gray-700",children:["Truck ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsxs)("select",{id:"truckId",name:"truckId",value:l.truckId,onChange:j,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm",children:[(0,Jn.jsx)("option",{value:"",children:"Select Truck"}),m.map(e=>(0,Jn.jsxs)("option",{value:e.TruckID||e.id,children:[e.TruckPlate," - ",e.TruckType]},e.TruckID||e.id))]})]}),(0,Jn.jsxs)("div",{className:"space-y-2",children:[(0,Jn.jsxs)("label",{htmlFor:"driverId",className:"block text-sm font-medium text-gray-700",children:["Driver ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsxs)("select",{id:"driverId",name:"driverId",value:l.driverId,onChange:j,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm",children:[(0,Jn.jsx)("option",{value:"",children:"Select Driver"}),g.map(e=>(0,Jn.jsx)("option",{value:e.DriverID||e.id,children:e.DriverName},e.DriverID||e.id))]})]}),(0,Jn.jsxs)("div",{className:"space-y-2",children:[(0,Jn.jsx)("label",{htmlFor:"helperId",className:"block text-sm font-medium text-gray-700",children:"Helper (Optional)"}),(0,Jn.jsxs)("select",{id:"helperId",name:"helperId",value:l.helperId,onChange:j,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm",children:[(0,Jn.jsx)("option",{value:"",children:"Select Helper"}),v.map(e=>(0,Jn.jsx)("option",{value:e.HelperID||e.id,children:e.HelperName},e.HelperID||e.id))]})]}),(0,Jn.jsxs)("div",{className:"space-y-2",children:[(0,Jn.jsxs)("label",{htmlFor:"deliveryStatus",className:"block text-sm font-medium text-gray-700",children:["Status ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsxs)("select",{id:"deliveryStatus",name:"deliveryStatus",value:l.deliveryStatus,onChange:j,required:!0,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm",children:[(0,Jn.jsx)("option",{value:"pending",children:"Pending"}),(0,Jn.jsx)("option",{value:"accepted",children:"Accepted"}),(0,Jn.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,Jn.jsx)("option",{value:"delivered",children:"Delivered"}),(0,Jn.jsx)("option",{value:"completed",children:"Completed"}),(0,Jn.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,Jn.jsx)("div",{className:"md:col-span-2 mt-2",children:(0,Jn.jsx)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Delivery Details"})}),(0,Jn.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,Jn.jsxs)("label",{htmlFor:"deliveryAddress",className:"block text-sm font-medium text-gray-700",children:["Delivery Address ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"deliveryAddress",name:"deliveryAddress",value:l.deliveryAddress,onChange:j,required:!0,placeholder:"Enter full delivery address",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm"})]}),(0,Jn.jsxs)("div",{className:"space-y-2",children:[(0,Jn.jsxs)("label",{htmlFor:"deliveryDistance",className:"block text-sm font-medium text-gray-700",children:["Distance (km) ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsx)("input",{type:"number",id:"deliveryDistance",name:"deliveryDistance",value:l.deliveryDistance,onChange:j,required:!0,min:"0",step:"0.1",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm"})]}),(0,Jn.jsxs)("div",{className:"space-y-2",children:[(0,Jn.jsxs)("label",{htmlFor:"deliveryRate",className:"block text-sm font-medium text-gray-700",children:["Rate (\u20b1) ",(0,Jn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Jn.jsx)("input",{type:"number",id:"deliveryRate",name:"deliveryRate",value:l.deliveryRate,onChange:j,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm"})]}),(0,Jn.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,Jn.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes (Optional)"}),(0,Jn.jsx)("textarea",{id:"notes",name:"notes",value:l.notes,onChange:j,rows:"3",placeholder:"Any additional instructions or notes...",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white transition-all text-sm resize-none"})]})]}),(0,Jn.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-100",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>a.push("/admin/deliveries"),className:"px-6 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all shadow-sm",children:"Cancel"}),(0,Jn.jsxs)("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2.5 text-sm font-bold text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-blue-500/20",children:[(0,Jn.jsx)(Nr,{size:18}),i?"Update Delivery":"Create Delivery"]})]})]})]})]})},aE=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(e),sE=e=>{var n;let{currentUser:r}=e;const{id:a}=ue(),{showAlert:s}=(0,t.useContext)(aa),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(!1);(0,t.useEffect)(()=>{h()},[]);const h=async()=>{try{const e=await Gn.get("/api/deliveries/".concat(a));o(e.data),c(!1)}catch(Bx){console.error("Error fetching delivery details:",Bx),s("Error loading delivery details","danger"),c(!1)}},p=e=>{var t;const n=null===(t=i.DeliveryStatus)||void 0===t?void 0:t.toLowerCase();switch(e){case"created":return"completed";case"pending":return"pending"===n?"active":(["in-progress","in_progress","on-delivery","on_delivery","completed","cancelled"].includes(n),"completed");case"in-progress":return["in-progress","in_progress","on-delivery","on_delivery"].includes(n)?"active":["completed","cancelled"].includes(n)?"completed":"pending";case"completed":return"completed"===n?"active":"pending";default:return"pending"}};if(l)return(0,Jn.jsx)(Os,{});if(!i)return(0,Jn.jsx)("div",{className:"delivery-view-container",children:(0,Jn.jsxs)("div",{className:"delivery-view-card",children:[(0,Jn.jsxs)("div",{className:"delivery-view-header",children:[(0,Jn.jsx)("h2",{children:"Delivery Not Found"}),(0,Jn.jsxs)(ve,{to:"/admin/deliveries",className:"btn btn-secondary btn-sm",children:[(0,Jn.jsx)(ja,{})," Back to List"]})]}),(0,Jn.jsx)("div",{className:"delivery-view-body",children:(0,Jn.jsx)("p",{children:"The requested delivery could not be found."})})]})});const m=i.pickupCoordinates&&i.dropoffCoordinates||i.PickupCoordinates&&i.DropoffCoordinates,f="cancelled"===(null===(n=i.DeliveryStatus)||void 0===n?void 0:n.toLowerCase());return(0,Jn.jsx)("div",{className:"delivery-view-container",children:(0,Jn.jsxs)("div",{className:"delivery-view-card",children:[(0,Jn.jsxs)("div",{className:"delivery-view-header",children:[(0,Jn.jsxs)("div",{className:"header-left",children:[(0,Jn.jsxs)("h2",{children:["Delivery #",i.DeliveryID]}),(0,Jn.jsxs)("div",{className:"delivery-status-header",children:[(0,Jn.jsx)(Bm,{status:i.DeliveryStatus}),(0,Jn.jsx)("span",{className:"delivery-date",children:(e=>{if(!e)return"Not available";try{let t;return t="string"===typeof e?new Date(e):e.toDate&&"function"===typeof e.toDate?e.toDate():new Date(e),isNaN(t.getTime())?"Invalid date":(e=>new Date(e).toLocaleDateString())(t)}catch(Bx){return console.error("Date formatting error:",Bx),"Date error"}})(i.DeliveryDate)})]})]}),(0,Jn.jsx)("div",{className:"header-actions",children:(0,Jn.jsxs)(ve,{to:"/admin/deliveries",className:"btn btn-secondary btn-sm",children:[(0,Jn.jsx)(ja,{})," Back"]})})]}),(0,Jn.jsxs)("div",{className:"delivery-view-body",children:[(0,Jn.jsxs)("div",{className:"timeline-tracker",children:[(0,Jn.jsxs)("div",{className:"timeline-step ".concat(p("created")),children:[(0,Jn.jsx)("div",{className:"step-icon",children:"\ud83d\udcdd"}),(0,Jn.jsx)("div",{className:"step-label",children:"Created"})]}),(0,Jn.jsx)("div",{className:"timeline-connector"}),(0,Jn.jsxs)("div",{className:"timeline-step ".concat(p("pending")),children:[(0,Jn.jsx)("div",{className:"step-icon",children:"\u23f3"}),(0,Jn.jsx)("div",{className:"step-label",children:"Pending"})]}),(0,Jn.jsx)("div",{className:"timeline-connector"}),(0,Jn.jsxs)("div",{className:"timeline-step ".concat(p("in-progress")),children:[(0,Jn.jsx)("div",{className:"step-icon",children:"\ud83d\ude9a"}),(0,Jn.jsx)("div",{className:"step-label",children:"In Transit"})]}),(0,Jn.jsx)("div",{className:"timeline-connector"}),f?(0,Jn.jsxs)("div",{className:"timeline-step cancelled active",children:[(0,Jn.jsx)("div",{className:"step-icon",children:"\u274c"}),(0,Jn.jsx)("div",{className:"step-label",children:"Cancelled"})]}):(0,Jn.jsxs)("div",{className:"timeline-step ".concat(p("completed")),children:[(0,Jn.jsx)("div",{className:"step-icon",children:"\u2705"}),(0,Jn.jsx)("div",{className:"step-label",children:"Completed"})]})]}),(0,Jn.jsxs)("div",{className:"metrics-row",children:[(0,Jn.jsxs)("div",{className:"metric-item",children:[(0,Jn.jsx)("span",{className:"metric-icon",children:"\ud83d\udccf"}),(0,Jn.jsx)("span",{className:"metric-value",children:(g=i.DeliveryDistance,"".concat(parseFloat(g).toFixed(2)," km"))}),(0,Jn.jsx)("span",{className:"metric-label",children:"Distance"})]}),i.EstimatedDuration&&(0,Jn.jsxs)("div",{className:"metric-item",children:[(0,Jn.jsx)("span",{className:"metric-icon",children:"\u23f1\ufe0f"}),(0,Jn.jsxs)("span",{className:"metric-value",children:[Math.round(i.EstimatedDuration)," min"]}),(0,Jn.jsx)("span",{className:"metric-label",children:"Duration"})]}),(0,Jn.jsxs)("div",{className:"metric-item",children:[(0,Jn.jsx)("span",{className:"metric-icon",children:"\ud83d\udcb0"}),(0,Jn.jsx)("span",{className:"metric-value",children:aE(i.DeliveryRate)}),(0,Jn.jsx)("span",{className:"metric-label",children:"Rate"})]}),(0,Jn.jsxs)("div",{className:"metric-item highlight",children:[(0,Jn.jsx)("span",{className:"metric-icon",children:"\ud83d\udcb5"}),(0,Jn.jsx)("span",{className:"metric-value",children:aE((()=>{if(i.TotalAmount&&i.TotalAmount>0)return i.TotalAmount;if(i.DeliveryRate&&i.DeliveryRate>0&&i.DeliveryRate>1e3)return i.DeliveryRate;return(i.DeliveryDistance||0)*(i.DeliveryRate||0)})())}),(0,Jn.jsx)("span",{className:"metric-label",children:"Total"})]})]}),d&&m&&(0,Jn.jsx)("div",{className:"route-section",children:(0,Jn.jsx)("div",{className:"route-map",children:(0,Jn.jsx)(Hm,{pickupCoordinates:i.pickupCoordinates||i.PickupCoordinates,dropoffCoordinates:i.dropoffCoordinates||i.DropoffCoordinates,pickupAddress:i.PickupLocation,dropoffAddress:i.DeliveryAddress,onRouteCalculated:()=>{}})})}),(0,Jn.jsxs)("div",{className:"content-grid",children:[(0,Jn.jsxs)("div",{className:"route-row ".concat(m?"clickable":""),onClick:m?()=>{u(!d)}:void 0,title:m?"Click to view route map":"Route map not available",children:[(0,Jn.jsxs)("div",{className:"route-from",children:[(0,Jn.jsx)("span",{className:"route-label",children:"\ud83d\udccd FROM"}),(0,Jn.jsx)("span",{className:"route-address",children:i.PickupLocation||"Not specified"})]}),(0,Jn.jsx)("div",{className:"route-arrow",children:"\u2192"}),(0,Jn.jsxs)("div",{className:"route-to",children:[(0,Jn.jsx)("span",{className:"route-label",children:"\ud83c\udfaf TO"}),(0,Jn.jsx)("span",{className:"route-address",children:i.DeliveryAddress||"Not specified"})]}),m&&(0,Jn.jsx)("div",{className:"route-action",children:(0,Jn.jsx)("span",{className:"map-icon",children:d?"\ud83d\uddfa\ufe0f Hide Map":"\ud83d\uddfa\ufe0f View Map"})}),(i.CargoWeight||i.TotalCargoWeight)&&(0,Jn.jsxs)("div",{className:"cargo-badge",children:["\ud83d\udce6 ",i.CargoWeight||0," tons"]})]}),(0,Jn.jsxs)("div",{className:"details-grid",children:[(0,Jn.jsxs)("div",{className:"detail-cell",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"CLIENT"}),(0,Jn.jsx)("span",{className:"detail-value",children:i.ClientName})]}),(0,Jn.jsxs)("div",{className:"detail-cell",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"TRUCK"}),(0,Jn.jsxs)("span",{className:"detail-value truck-badge",children:["\ud83d\ude9b ",i.TruckPlate," \u2022 ",i.TruckType]})]}),(0,Jn.jsxs)("div",{className:"detail-cell",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"DRIVER"}),(0,Jn.jsxs)("div",{className:"detail-value-row",children:[(0,Jn.jsx)("span",{className:"detail-value",children:i.DriverName||"Not Assigned"}),"awaiting_approval"===i.DriverStatus&&(0,Jn.jsx)("span",{className:"status-tag pending",children:"\u23f3 Pending"})]})]}),(0,Jn.jsxs)("div",{className:"detail-cell",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"HELPER"}),(0,Jn.jsxs)("div",{className:"detail-value-row",children:[(0,Jn.jsx)("span",{className:"detail-value",children:i.HelperName||"Not Assigned"}),"awaiting_approval"===i.HelperStatus&&(0,Jn.jsx)("span",{className:"status-tag pending",children:"\u23f3 Pending"})]})]})]})]})]})]})});var g},iE=e=>{var n;let{currentUser:r}=e;const{isWithinTimeframe:a,getFormattedDateRange:s}=ua(),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)("all"),[g,x]=(0,t.useState)(null),[v,b]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)("table"),[k,S]=(0,t.useState)("ClientName"),[C,_]=(0,t.useState)("asc"),[P,A]=(0,t.useState)(1),D=["all"!==m?m:null].filter(Boolean).length,[T,L]=(0,t.useState)({}),E=()=>{b(!1),x(null)};(0,t.useEffect)(()=>{(async()=>{try{c(!0),u(null),console.log("Fetching clients from API...");const e=Yn;console.log("API Base URL:",e);const t=await Gn.get("".concat(e,"/api/clients"));if(console.log("API Response:",t.data),t.data&&Array.isArray(t.data)){const e=t.data.map(e=>({ClientID:e.id||e.ClientID,ClientName:e.clientName||e.ClientName,ClientEmail:e.clientEmail||e.ClientEmail,ClientNumber:e.clientNumber||e.ClientNumber,ClientStatus:e.clientStatus||e.ClientStatus||"active",ClientCreationDate:e.clientCreationDate||e.ClientCreationDate,UserID:e.userId||e.UserID}));o(e),console.log("Clients loaded:",e.length),(async e=>{try{const n=localStorage.getItem("token"),r=Yn,a={};for(const s of e)try{const e=(await Gn.get("".concat(r,"/api/payments/client/").concat(s.ClientID),{headers:{Authorization:"Bearer ".concat(n)}})).data.payments||[],t=new Date,i=e.filter(e=>{const n=new Date(e.dueDate);return t>n&&"paid"!==e.status});a[s.ClientID]={overdueCount:i.length,overdueAmount:i.reduce((e,t)=>e+(t.amount||0),0),hasOverdueRisk:i.length>=3},console.log("Client ".concat(s.ClientName,": ").concat(i.length," overdue payments"))}catch(t){console.warn("Failed to fetch payments for client ".concat(s.ClientID,":"),t.message)}L(a)}catch(d){console.error("Error fetching client payments:",d)}})(e)}else console.warn("API returned unexpected data format:",t.data),o([]);c(!1)}catch(t){if(console.error("Error fetching clients:",t),"ERR_NETWORK"===t.code)u("Network error. Please check your connection and try again.");else if(t.response)if(404===t.response.status)u("Client data not found. The API endpoint may not be configured properly.");else if(500===t.response.status)u("Server error. Please try again later.");else{var e;u("Server error (".concat(t.response.status,"): ").concat((null===(e=t.response.data)||void 0===e?void 0:e.message)||"Unknown error"))}else t.request?u("No response received from server. Please check if the backend is running."):u("Request error: ".concat(t.message));c(!1),o([])}})()},[]);const I=(0,t.useMemo)(()=>{let e=i;return a&&(e=e.filter(e=>!(e.CreatedAt||e.createdAt||e.registrationDate)||a(e.CreatedAt||e.createdAt||e.registrationDate))),"all"!==m&&(e=e.filter(e=>{var t;return(null===(t=e.ClientStatus)||void 0===t?void 0:t.toLowerCase())===m.toLowerCase()})),h&&(e=e.filter(e=>{var t,n,r;return(null===(t=e.ClientName)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(n=e.ClientEmail)||void 0===n?void 0:n.toLowerCase().includes(h.toLowerCase()))||(null===(r=e.ClientNumber)||void 0===r?void 0:r.includes(h))})),e},[i,h,m,a]),R=Math.ceil(I.length/20),M=((()=>{const e=i.length,t=i.filter(e=>{var t;return"active"===(null===(t=e.ClientStatus)||void 0===t?void 0:t.toLowerCase())}).length,n=i.filter(e=>{var t;return"inactive"===(null===(t=e.ClientStatus)||void 0===t?void 0:t.toLowerCase())}).length,r=i.filter(e=>{var t;return"pending"===(null===(t=e.ClientStatus)||void 0===t?void 0:t.toLowerCase())}).length})(),[...new Set(i.map(e=>e.ClientStatus).filter(Boolean))]),F=()=>{u(null)},O=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Unknown";return l?(0,Jn.jsx)("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:(0,Jn.jsxs)("div",{className:"text-center",children:[(0,Jn.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Jn.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading clients data..."})]})}):(0,Jn.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Jn.jsx)(Fm,{currentUser:null}),(0,Jn.jsx)(eE,{activeTab:"clients"}),(0,Jn.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,Jn.jsxs)("div",{className:"mb-8",children:[(0,Jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Clients Management"}),(0,Jn.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage client accounts, contracts, and business relationships"}),(0,Jn.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 shadow-sm",children:[(0,Jn.jsx)(mr,{size:16,className:"text-gray-400"}),(0,Jn.jsxs)("span",{children:["Showing data for:"," ",(0,Jn.jsx)("span",{className:"font-medium text-gray-900",children:s()})]})]}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(pr,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(cr,{size:12}),"+4.1%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Total Clients"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(fr,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(cr,{size:12}),"+2.4%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.filter(e=>"active"===e.ClientStatus).length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Active"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-gray-50 text-gray-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(yr,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(ir,{size:12}),"0.0%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.filter(e=>"inactive"===e.ClientStatus).length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Inactive"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(or,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(cr,{size:12}),"+1.2%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.filter(e=>"pending"===e.ClientStatus).length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Pending"})]})]})]})]}),d&&(0,Jn.jsxs)("div",{className:"error-message",children:[d,(0,Jn.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Jn.jsx)("button",{onClick:F,className:"btn btn-secondary btn-sm",style:{marginRight:"10px"},children:"Dismiss"}),(0,Jn.jsx)("button",{onClick:()=>{u(null),c(!0);(async()=>{try{const e=Yn,t=await Gn.get("".concat(e,"/api/clients"));if(t.data&&Array.isArray(t.data)){const e=t.data.map(e=>({ClientID:e.id||e.ClientID,ClientName:e.clientName||e.ClientName,ClientEmail:e.clientEmail||e.ClientEmail,ClientNumber:e.clientNumber||e.ClientNumber,ClientStatus:e.clientStatus||e.ClientStatus||"active",ClientCreationDate:e.clientCreationDate||e.ClientCreationDate,UserID:e.userId||e.UserID}));o(e)}else o([]);c(!1)}catch(e){console.error("Retry failed:",e),u("Retry failed. Please check your connection and try again."),c(!1)}})()},className:"btn btn-primary btn-sm",children:"Retry"})]}),(0,Jn.jsx)("button",{onClick:F,className:"close-btn",children:"\xd7"})]}),(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between mb-6",children:[(0,Jn.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,Jn.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:(0,Jn.jsx)(qr,{size:20})}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by name, email, or phone...",value:h,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(y?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>w(!y),children:[(0,Jn.jsx)(Dr,{size:18}),"Filters",D>0&&(0,Jn.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:D})]}),(0,Jn.jsxs)("div",{className:"flex items-center bg-gray-100 p-1 rounded-lg border border-gray-200",children:[(0,Jn.jsx)("button",{onClick:()=>N("table"),className:"p-2 rounded-md transition-all ".concat("table"===j?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Table View",children:(0,Jn.jsx)(Lr,{size:18})}),(0,Jn.jsx)("button",{onClick:()=>N("cards"),className:"p-2 rounded-md transition-all ".concat("cards"===j?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Card View",children:(0,Jn.jsx)(Tr,{size:18})})]})]})]}),(0,Jn.jsxs)("div",{className:"mt-3 text-gray-500 text-sm font-medium mb-6",children:["Showing ",I.length," of ",i.length," clients"]}),y&&(0,Jn.jsx)("div",{className:"relative mb-6",children:(0,Jn.jsxs)("div",{className:"absolute top-0 right-0 md:left-0 z-50 bg-white rounded-xl shadow-xl border border-gray-100 w-80 max-w-[90vw] p-5 animate-in fade-in zoom-in-95 duration-200",children:[(0,Jn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Jn.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Filter Options"}),(0,Jn.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",onClick:()=>w(!1),children:(0,Jn.jsx)($r,{size:20})})]}),(0,Jn.jsx)("div",{className:"space-y-4 mb-6",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,Jn.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,Jn.jsxs)("select",{value:m,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,Jn.jsx)("option",{value:"all",children:"All Status"}),M.map(e=>(0,Jn.jsx)("option",{value:e,children:O(e)},e))]})]})}),(0,Jn.jsx)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:(0,Jn.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>{p(""),f("all")},children:"Clear All Filters"})})]})}),0!==I.length||l?(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden mb-6",children:[(0,Jn.jsx)("div",{className:"overflow-x-auto",children:(0,Jn.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Client Name"}),(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Email"}),(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,Jn.jsx)("tbody",{className:"divide-y divide-gray-100",children:(()=>{let e=[...I];e.sort((e,t)=>{let n=e[k],r=t[k];return n<r?"asc"===C?-1:1:n>r?"asc"===C?1:-1:0});const t=20*(P-1),n=t+20;return e.slice(t,n)})().map(e=>{var t,n,r,a;const s=T[e.ClientID]||{},i=s.hasOverdueRisk||!1,o=s.overdueCount||0;return(0,Jn.jsxs)("tr",{className:"hover:bg-gray-50/80 transition-colors group ".concat(i?"bg-red-50/50 border-l-4 border-red-500":""),title:i?"\u26a0\ufe0f ".concat(o," overdue payments"):"",children:[(0,Jn.jsx)("td",{className:"py-4 px-6",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-9 h-9 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center",children:(0,Jn.jsx)(pr,{size:18})}),(0,Jn.jsx)("div",{className:"flex flex-col",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jn.jsx)("span",{className:"font-semibold text-gray-900",children:e.ClientName}),i&&(0,Jn.jsx)("span",{className:"text-red-500",title:"".concat(o," overdue payments"),children:(0,Jn.jsx)(or,{size:16})})]})})]})}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm text-gray-600",children:e.ClientEmail||"N/A"}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm text-gray-600",children:e.ClientNumber||"N/A"}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-sm text-gray-600",children:e.ClientCreationDate?new Date(e.ClientCreationDate).toLocaleDateString():"N/A"}),(0,Jn.jsx)("td",{className:"py-4 px-6",children:(0,Jn.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border ".concat("active"===(null===(t=e.ClientStatus)||void 0===t?void 0:t.toLowerCase())?"bg-emerald-50 text-emerald-700 border-emerald-100":"inactive"===(null===(n=e.ClientStatus)||void 0===n?void 0:n.toLowerCase())?"bg-gray-50 text-gray-600 border-gray-100":"bg-amber-50 text-amber-700 border-amber-100"),children:[(0,Jn.jsx)("span",{className:"w-1.5 h-1.5 rounded-full ".concat("active"===(null===(r=e.ClientStatus)||void 0===r?void 0:r.toLowerCase())?"bg-emerald-500":"inactive"===(null===(a=e.ClientStatus)||void 0===a?void 0:a.toLowerCase())?"bg-gray-400":"bg-amber-500")}),O(e.ClientStatus)]})}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-right",children:(0,Jn.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Jn.jsx)("button",{onClick:()=>(e=>{x(e),b(!0)})(e),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"View Details",children:(0,Jn.jsx)(Cr,{size:18})}),(0,Jn.jsx)(ve,{to:"/admin/clients/edit/".concat(e.ClientID),className:"p-2 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-all",title:"Edit Client",children:(0,Jn.jsx)(Sr,{size:18})})]})})]},e.ClientID)})})]})}),R>1&&(0,Jn.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50/50",children:[(0,Jn.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing"," ",(0,Jn.jsx)("span",{className:"font-medium text-gray-900",children:P})," ","of"," ",(0,Jn.jsx)("span",{className:"font-medium text-gray-900",children:R})," ","pages"]}),(0,Jn.jsxs)("div",{className:"flex gap-2",children:[(0,Jn.jsx)("button",{onClick:()=>A(e=>Math.max(1,e-1)),disabled:1===P,className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:bg-white hover:text-blue-600 hover:border-blue-200 disabled:opacity-50 disabled:hover:bg-transparent disabled:hover:text-gray-600 transition-all",children:"Previous"}),(0,Jn.jsx)("button",{onClick:()=>A(e=>Math.min(R,e+1)),disabled:P===R,className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:bg-white hover:text-blue-600 hover:border-blue-200 disabled:opacity-50 disabled:hover:bg-transparent disabled:hover:text-gray-600 transition-all",children:"Next"})]})]})]}):(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,Jn.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-400",children:(0,Jn.jsx)(pr,{size:40})}),(0,Jn.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No clients found"}),(0,Jn.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:h||"all"!==m?"No clients match your current filters. Try adjusting your search criteria.":"No client records found. Add your first client to get started."}),(0,Jn.jsxs)(ve,{to:"/admin/clients/add",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-all shadow-sm shadow-blue-200",children:[(0,Jn.jsx)(Kr,{size:20}),"Add Your First Client"]})]}),v&&g&&(0,Jn.jsx)("div",{className:"modal-overlay",onClick:E,children:(0,Jn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Jn.jsxs)("div",{className:"modal-header",children:[(0,Jn.jsxs)("h2",{children:["\ud83c\udfe2 ",g.ClientName," Details"]}),(0,Jn.jsx)("button",{className:"modal-close-btn",onClick:E,children:"\u2715"})]}),(0,Jn.jsx)("div",{className:"modal-body",children:(0,Jn.jsxs)("div",{className:"details-grid",children:[(0,Jn.jsxs)("div",{className:"details-section",children:[(0,Jn.jsx)("h3",{children:"\ud83d\udccb Basic Information"}),(0,Jn.jsxs)("div",{className:"details-items",children:[(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Client ID:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.ClientID})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Client Name:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.ClientName})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Email:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.ClientEmail||"Not provided"})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Phone Number:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.ClientNumber||"Not provided"})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"User ID:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.UserID||"Not linked"})]})]})]}),(0,Jn.jsxs)("div",{className:"details-section",children:[(0,Jn.jsx)("h3",{children:"\ud83d\udea6 Status Information"}),(0,Jn.jsxs)("div",{className:"details-items",children:[(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Current Status:"}),(0,Jn.jsx)("span",{className:"detail-badge status-".concat((null===(n=g.ClientStatus)||void 0===n?void 0:n.toLowerCase())||"unknown"),children:O(g.ClientStatus)})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Account Created:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.ClientCreationDate?new Date(g.ClientCreationDate).toLocaleDateString():"Unknown"})]})]})]})]})}),(0,Jn.jsxs)("div",{className:"modal-footer",children:[(0,Jn.jsx)(ve,{to:"/admin/clients/edit/".concat(g.ClientID),className:"modern-btn modern-btn-primary",children:"\u270e Edit Client"}),(0,Jn.jsx)(ve,{to:"/admin/clients/".concat(g.ClientID,"/trucks"),className:"modern-btn modern-btn-secondary",children:"\ud83d\ude9b Manage Trucks"}),(0,Jn.jsx)("button",{className:"modern-btn modern-btn-secondary",onClick:E,children:"Close"})]})]})})]})]})},oE=()=>{const{id:e}=ue(),n=ce(),r=Boolean(e),[a,s]=(0,t.useState)({businessName:"",contactPerson:"",contactNumber:"",email:"",address:"",businessType:"",registrationDate:"",status:"Active",username:"",password:"",businessPermit:null,validId:null,serviceContract:null,taxCertificate:null}),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(r),[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)({}),g=Yn;(0,t.useEffect)(()=>{(async()=>{if(r)try{console.log("Fetching client data for ID: ".concat(e));const t=await Gn.get("".concat(g,"/api/clients/").concat(e));console.log("Client data fetched:",t.data);const n=t.data;s({businessName:n.businessName||n.ClientName||"",contactPerson:n.contactPerson||n.ContactPerson||"",contactNumber:n.contactNumber||n.ContactNumber||"",email:n.email||n.Email||"",address:n.address||n.Address||"",businessType:n.businessType||n.BusinessType||"",registrationDate:n.registrationDate||n.RegistrationDate||"",status:n.status||n.Status||"Active",username:n.ClientUserName||n.username||"",password:"",businessPermit:null,validId:null,serviceContract:null,taxCertificate:null}),c(!1)}catch(t){console.error("Error fetching client:",t),u("Failed to load client data"),c(!1)}else c(!1)})()},[e,r,g]);const x=e=>{const{name:t,value:n}=e.target;s(e=>Ne(Ne({},e),{},{[t]:n}))},v=(e,t)=>{const n=e.target.files[0];n&&(s(e=>Ne(Ne({},e),{},{[t]:n})),f(e=>Ne(Ne({},e),{},{[t]:n.name})))},b=e=>{s(t=>Ne(Ne({},t),{},{[e]:null})),f(t=>{const n=Ne({},t);return delete n[e],n})};return l?(0,Jn.jsx)("div",{className:"form-container",children:(0,Jn.jsx)("div",{className:"loading-state",children:"Loading client data..."})}):(0,Jn.jsxs)("div",{className:"form-container",children:[(0,Jn.jsxs)("div",{className:"form-header",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h1",{children:r?"Edit Client":"Add New Client"}),(0,Jn.jsx)("p",{className:"form-subtitle",children:"Manage client information and documents"})]}),(0,Jn.jsx)(ve,{to:"/admin/clients",className:"btn btn-secondary",children:"\u2190 Back to Clients"})]}),d&&(0,Jn.jsx)("div",{className:"alert alert-danger",children:d}),h&&(0,Jn.jsx)("div",{className:"alert alert-success",children:h}),(0,Jn.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0),u(null);try{const t={clientName:a.businessName,clientNumber:a.contactNumber,clientEmail:a.email,clientStatus:a.status,clientCreationDate:r?void 0:(new Date).toISOString().split("T")[0],username:a.username};r||(t.password=a.password),r?(await Gn.put("".concat(g,"/api/clients/").concat(e),t),p("Client updated successfully!")):(await Gn.post("".concat(g,"/api/clients"),t),p("Client created successfully!")),setTimeout(()=>{n.push("/admin/clients")},1500)}catch(d){console.error("Error saving client:",d),u("Error saving client. Please try again.")}finally{o(!1)}},className:"modern-form",children:[(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"section-number",children:"01"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Business Information"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Enter the basic business and contact information"})]})]}),(0,Jn.jsxs)("div",{className:"form-row",children:[(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"businessName",children:"Business Name *"}),(0,Jn.jsx)("input",{type:"text",id:"businessName",name:"businessName",value:a.businessName,onChange:x,required:!0,placeholder:"Enter business name"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"businessType",children:"Business Type"}),(0,Jn.jsx)("input",{type:"text",id:"businessType",name:"businessType",value:a.businessType,onChange:x,placeholder:"Enter business type"})]})]}),(0,Jn.jsxs)("div",{className:"form-row",children:[(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"contactPerson",children:"Contact Person *"}),(0,Jn.jsx)("input",{type:"text",id:"contactPerson",name:"contactPerson",value:a.contactPerson,onChange:x,required:!0,placeholder:"Enter contact person name"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"contactNumber",children:"Contact Number *"}),(0,Jn.jsx)("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:a.contactNumber,onChange:x,required:!0,placeholder:"Enter contact number"})]})]}),(0,Jn.jsxs)("div",{className:"form-row",children:[(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Jn.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:x,placeholder:"Enter email address"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"registrationDate",children:"Registration Date"}),(0,Jn.jsx)("input",{type:"date",id:"registrationDate",name:"registrationDate",value:a.registrationDate,onChange:x})]})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"address",children:"Business Address"}),(0,Jn.jsx)("textarea",{id:"address",name:"address",value:a.address,onChange:x,placeholder:"Enter complete business address",rows:"3"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"status",children:"Status"}),(0,Jn.jsxs)("select",{id:"status",name:"status",value:a.status,onChange:x,children:[(0,Jn.jsx)("option",{value:"Active",children:"Active"}),(0,Jn.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,Jn.jsx)("option",{value:"Suspended",children:"Suspended"}),(0,Jn.jsx)("option",{value:"Terminated",children:"Terminated"})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"section-number",children:"02"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Account Credentials"}),(0,Jn.jsx)("p",{className:"form-section-description",children:r?"Username for client login access":"Create login credentials for the client"})]})]}),(0,Jn.jsxs)("div",{className:"form-row",children:[(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"username",children:"Username *"}),(0,Jn.jsx)("input",{type:"text",id:"username",name:"username",value:a.username,onChange:x,required:!0,placeholder:"Enter username for login",autoComplete:"username"}),(0,Jn.jsx)("small",{children:"Client will use this username to log into the system"})]}),!r&&(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"password",children:"Password *"}),(0,Jn.jsx)("input",{type:"password",id:"password",name:"password",value:a.password,onChange:x,required:!0,minLength:"6",placeholder:"Enter secure password",autoComplete:"new-password"}),(0,Jn.jsx)("small",{children:"Minimum 6 characters. Client can change this later."})]}),r&&(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{children:"Password"}),(0,Jn.jsxs)("div",{className:"password-edit-notice",children:[(0,Jn.jsx)("div",{className:"notice-icon",children:"\ud83d\udd12"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("strong",{children:"Password cannot be changed by admin"}),(0,Jn.jsx)("p",{children:"For security reasons, clients must change their own password through their account settings."})]})]})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"section-number",children:"03"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Required Documents"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Upload required business documents for verification"})]})]}),(0,Jn.jsxs)("div",{className:"form-row",children:[(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"businessPermit",children:"Business Permit *"}),(0,Jn.jsx)("input",{type:"file",id:"businessPermit",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>v(e,"businessPermit"),required:!r}),m.businessPermit&&(0,Jn.jsxs)("div",{className:"file-info",children:[(0,Jn.jsx)("span",{children:m.businessPermit}),(0,Jn.jsx)("button",{type:"button",onClick:()=>b("businessPermit"),className:"remove-file-btn",children:"Remove"})]}),(0,Jn.jsx)("small",{children:"Upload business permit or registration certificate"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"validId",children:"Valid ID *"}),(0,Jn.jsx)("input",{type:"file",id:"validId",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>v(e,"validId"),required:!r}),m.validId&&(0,Jn.jsxs)("div",{className:"file-info",children:[(0,Jn.jsx)("span",{children:m.validId}),(0,Jn.jsx)("button",{type:"button",onClick:()=>b("validId"),className:"remove-file-btn",children:"Remove"})]}),(0,Jn.jsx)("small",{children:"Upload a valid government-issued ID of contact person"})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"section-number",children:"04"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Optional Documents"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Additional documents that may be helpful"})]})]}),(0,Jn.jsxs)("div",{className:"form-row",children:[(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"serviceContract",children:"Service Contract"}),(0,Jn.jsx)("input",{type:"file",id:"serviceContract",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>v(e,"serviceContract")}),m.serviceContract&&(0,Jn.jsxs)("div",{className:"file-info",children:[(0,Jn.jsx)("span",{children:m.serviceContract}),(0,Jn.jsx)("button",{type:"button",onClick:()=>b("serviceContract"),className:"remove-file-btn",children:"Remove"})]}),(0,Jn.jsx)("small",{children:"Upload service contract or agreement"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"taxCertificate",children:"Tax Certificate"}),(0,Jn.jsx)("input",{type:"file",id:"taxCertificate",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>v(e,"taxCertificate")}),m.taxCertificate&&(0,Jn.jsxs)("div",{className:"file-info",children:[(0,Jn.jsx)("span",{children:m.taxCertificate}),(0,Jn.jsx)("button",{type:"button",onClick:()=>b("taxCertificate"),className:"remove-file-btn",children:"Remove"})]}),(0,Jn.jsx)("small",{children:"Upload tax clearance or certificate"})]})]})]}),(0,Jn.jsxs)("div",{className:"form-actions",children:[r&&(0,Jn.jsx)("button",{type:"button",onClick:async()=>{if(r&&window.confirm("Are you sure you want to delete this client?"))try{await Gn.delete("".concat(g,"/api/clients/").concat(e)),p("Client deleted successfully!"),setTimeout(()=>{n.push("/admin/clients")},1500)}catch(d){console.error("Error deleting client:",d),u("Error deleting client. Please try again.")}},className:"btn btn-danger",disabled:i,children:"\ud83d\uddd1\ufe0f Delete Client"}),(0,Jn.jsxs)("div",{className:"action-buttons",children:[(0,Jn.jsx)(ve,{to:"/admin/clients",className:"btn btn-secondary",children:"Cancel"}),(0,Jn.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Saving...":r?"\ud83d\udcbe Update Client":"\u2713 Create Client"})]})]})]})]})},lE=()=>{const{id:e}=ue(),n=(ce(),Yn),[r,a]=(0,t.useState)(null),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!0),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(""),[x,v]=(0,t.useState)("individual"),[b,y]=(0,t.useState)([]),[w,j]=(0,t.useState)(""),[N,k]=(0,t.useState)(1),[S,C]=(0,t.useState)("all"),[_,P]=(0,t.useState)("all");(0,t.useEffect)(()=>{(async()=>{try{h(!0),m(null),console.log("\ud83d\udd04 Fetching client data...");const t=await Gn.get("".concat(n,"/api/clients/").concat(e));console.log("\u2705 Client data:",t.data),a(t.data),console.log("\ud83d\udd04 Fetching allocated trucks...");const r=await Gn.get("".concat(n,"/api/clients/").concat(e,"/trucks"));console.log("\u2705 Allocated trucks:",r.data),i(r.data),console.log("\ud83d\udd04 Fetching available trucks...");const s=await Gn.get("".concat(n,"/api/trucks/available"));console.log("\u2705 Available trucks:",s.data),l(s.data);const o=[...r.data,...s.data],c=[...new Set(o.map(e=>e.truckType||e.TruckType))];y(c),c.length>0&&j(c[0]),h(!1)}catch(t){console.error("\u274c Error fetching data:",t),m("Failed to load data. Please try again."),h(!1)}})()},[e,n]);const A=(0,t.useMemo)(()=>{const e=s.map(e=>e.id||e.TruckID);let t=o.filter(t=>{const n=t.id||t.TruckID;return!e.includes(n)});return"all"!==S&&(t=t.filter(e=>(e.truckStatus||e.TruckStatus)===S)),"all"!==_&&(t=t.filter(e=>(e.truckType||e.TruckType)===_)),t},[o,s,S,_]),D=e=>{const t=s.map(e=>e.id||e.TruckID);return o.filter(n=>{const r=n.id||n.TruckID;return(n.truckType||n.TruckType)===e&&!t.includes(r)}).length},T=async()=>{if("individual"!==x||0!==c.length)if("byType"!==x||w&&!(N<=0))try{let t;if(h(!0),m(null),"individual"===x)t=c;else{const e=s.map(e=>e.id||e.TruckID),n=o.filter(t=>{const n=t.id||t.TruckID;return(t.truckType||t.TruckType)===w&&!e.includes(n)}).map(e=>e.id||e.TruckID),r=Math.min(n.length,N);if(r<N&&alert("Only ".concat(r,' trucks of type "').concat(w,'" are available. Allocating all available.')),t=n.slice(0,r),0===t.length)return m('No trucks of type "'.concat(w,'" are available for allocation.')),void h(!1)}console.log("\ud83d\udd04 Allocating trucks:",t),console.log("\ud83d\udd04 Client ID:",e);const r=await Gn.post("".concat(n,"/api/clients/").concat(e,"/allocate-trucks"),{truckIds:t});console.log("\u2705 Allocation response:",r.data),r.data.failedAllocations&&r.data.failedAllocations.length>0&&(console.warn("\u26a0\ufe0f Some allocations failed:",r.data.failedAllocations),m("Some trucks could not be allocated. ".concat(r.data.failedAllocations.map(e=>e.reason).join(", ")))),await L(),d([]),k(1);const a=r.data.successfulAllocations&&r.data.successfulAllocations.length?"".concat(r.data.successfulAllocations.length," trucks allocated successfully!"):"Trucks allocated successfully!";g(a),setTimeout(()=>{g("")},3e3),h(!1)}catch(a){var t,r;console.error("\u274c Error allocating trucks:",a),m("Failed to allocate trucks. Please try again. "+((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||a.message)),h(!1)}else alert("Please select a truck type and specify a valid quantity");else alert("Please select at least one truck to allocate")},L=async()=>{const[t,r]=await Promise.all([Gn.get("".concat(n,"/api/clients/").concat(e,"/trucks")),Gn.get("".concat(n,"/api/trucks/available"))]);i(t.data),l(r.data);const a=[...t.data,...r.data],s=[...new Set(a.map(e=>e.truckType||e.TruckType))];y(s)},E=e=>e?e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "):"Unknown",I=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"available":return"status-available";case"allocated":return"status-allocated";case"on-delivery":return"status-busy";case"maintenance":return"status-maintenance";case"active":return"status-active";default:return"status-unknown"}},R=(()=>{const e=(()=>{const e={};return s.forEach(t=>{const n=t.truckType||t.TruckType||"Unknown";e[n]=(e[n]||0)+1}),Object.entries(e).sort((e,t)=>e[0].localeCompare(t[0]))})(),t=s.length,n=s.map(e=>e.id||e.TruckID);return{totalAllocated:t,totalAvailable:o.filter(e=>{const t=e.id||e.TruckID;return!n.includes(t)}).length,allocatedByType:e}})();return u&&!r?(0,Jn.jsx)("div",{className:"loading",children:"Loading data..."}):p&&!r?(0,Jn.jsx)("div",{className:"error-container",children:(0,Jn.jsxs)("div",{className:"error-message",children:[p,(0,Jn.jsx)("div",{style:{marginTop:"10px"},children:(0,Jn.jsx)("button",{onClick:()=>window.location.reload(),children:"Retry"})})]})}):(0,Jn.jsxs)("div",{className:"page-container",children:[(0,Jn.jsxs)("div",{className:"page-header",children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h1",{children:"Truck Allocation - Shared Fleet Model"}),(0,Jn.jsxs)("p",{className:"client-info",children:["Client: ",(0,Jn.jsx)("strong",{children:(null===r||void 0===r?void 0:r.clientName)||"Loading..."})]}),(0,Jn.jsx)("p",{className:"client-info",style:{fontSize:"13px",color:"#6c757d",marginTop:"5px"},children:"\u2139\ufe0f Trucks can be shared across multiple clients. Booking restrictions apply by date - trucks cannot be booked by multiple clients on the same day."})]}),(0,Jn.jsx)(ve,{to:"/admin/clients",className:"btn btn-secondary",children:"\u2190 Back to Clients"})]}),p&&(0,Jn.jsxs)("div",{className:"error-message",children:[p,(0,Jn.jsx)("button",{onClick:()=>m(null),className:"close-btn",children:"\xd7"})]}),f&&(0,Jn.jsxs)("div",{className:"success-message",children:[f,(0,Jn.jsx)("button",{onClick:()=>g(""),className:"close-btn",children:"\xd7"})]}),(0,Jn.jsxs)("div",{className:"status-summary",children:[(0,Jn.jsxs)("div",{className:"status-card allocated",children:[(0,Jn.jsx)("h3",{children:R.totalAllocated}),(0,Jn.jsx)("p",{children:"Allocated Trucks"})]}),(0,Jn.jsxs)("div",{className:"status-card available",children:[(0,Jn.jsx)("h3",{children:R.totalAvailable}),(0,Jn.jsx)("p",{children:"Available Trucks"})]}),(0,Jn.jsxs)("div",{className:"status-card",children:[(0,Jn.jsx)("h3",{children:b.length}),(0,Jn.jsx)("p",{children:"Truck Types"})]})]}),(0,Jn.jsxs)("div",{className:"allocation-section",children:[(0,Jn.jsx)("h2",{children:"Allocated Trucks"}),0===s.length?(0,Jn.jsx)("div",{className:"no-data",children:"No trucks allocated to this client yet."}):(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsxs)("div",{className:"allocation-summary",children:[(0,Jn.jsx)("h3",{children:"Allocation Summary by Type"}),(0,Jn.jsx)("div",{className:"summary-grid",children:R.allocatedByType.map(t=>{let[r,a]=t;return(0,Jn.jsxs)("div",{className:"summary-item",children:[(0,Jn.jsx)("div",{className:"summary-type",children:r}),(0,Jn.jsxs)("div",{className:"summary-count",children:[a," truck(s)"]}),(0,Jn.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(async t=>{const r=s.filter(e=>(e.truckType||e.TruckType)===t);if(0!==r.length){if(window.confirm("Are you sure you want to deallocate all ".concat(r.length,' truck(s) of type "').concat(t,'"?')))try{h(!0);const a=r.map(t=>Gn.delete("".concat(n,"/api/clients/").concat(e,"/trucks/").concat(t.id||t.TruckID)));await Promise.all(a),await L(),g("".concat(r.length,' truck(s) of type "').concat(t,'" deallocated successfully!')),setTimeout(()=>{g("")},3e3),h(!1)}catch(a){console.error("Error deallocating trucks:",a),m("Failed to deallocate trucks. Please try again."),h(!1)}}else alert('No trucks of type "'.concat(t,'" are allocated to this client.'))})(r),disabled:u,children:"Deallocate All"})]},r)})})]}),(0,Jn.jsx)("div",{className:"table-responsive",children:(0,Jn.jsxs)("table",{className:"data-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"Truck ID"}),(0,Jn.jsx)("th",{children:"Plate Number"}),(0,Jn.jsx)("th",{children:"Type"}),(0,Jn.jsx)("th",{children:"Capacity"}),(0,Jn.jsx)("th",{children:"Status"}),(0,Jn.jsx)("th",{children:"Actions"})]})}),(0,Jn.jsx)("tbody",{children:s.map(t=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:t.id||t.TruckID}),(0,Jn.jsx)("td",{children:t.truckPlate||t.TruckPlate}),(0,Jn.jsx)("td",{children:t.truckType||t.TruckType}),(0,Jn.jsxs)("td",{children:[t.truckCapacity||t.TruckCapacity," tons"]}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"status-badge ".concat(I(t.truckStatus||t.TruckStatus)),children:E(t.truckStatus||t.TruckStatus)})}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("button",{className:"action-btn delete-btn",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to deallocate this truck?"))try{h(!0),await Gn.delete("".concat(n,"/api/clients/").concat(e,"/trucks/").concat(t)),await L(),g("Truck deallocated successfully!"),setTimeout(()=>{g("")},3e3),h(!1)}catch(r){console.error("Error deallocating truck:",r),m("Failed to deallocate truck. Please try again."),h(!1)}})(t.id||t.TruckID),disabled:u,title:"Deallocate Truck",children:"Remove"})})]},t.id||t.TruckID))})]})})]})]}),(0,Jn.jsxs)("div",{className:"allocation-section",children:[(0,Jn.jsx)("h2",{children:"Allocate New Trucks"}),(0,Jn.jsx)("div",{className:"allocation-controls",children:(0,Jn.jsxs)("div",{className:"allocation-type-selector",children:[(0,Jn.jsxs)("label",{children:[(0,Jn.jsx)("input",{type:"radio",value:"individual",checked:"individual"===x,onChange:e=>v(e.target.value)}),"Select Individual Trucks"]}),(0,Jn.jsxs)("label",{children:[(0,Jn.jsx)("input",{type:"radio",value:"byType",checked:"byType"===x,onChange:e=>v(e.target.value)}),"Allocate by Type"]})]})}),"byType"===x&&(0,Jn.jsxs)("div",{className:"type-allocation-controls",children:[(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"truckType",children:"Truck Type:"}),(0,Jn.jsx)("select",{id:"truckType",value:w,onChange:e=>j(e.target.value),children:b.map(e=>(0,Jn.jsxs)("option",{value:e,children:[e," (",D(e)," available)"]},e))})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"quantity",children:"Quantity:"}),(0,Jn.jsx)("input",{type:"number",id:"quantity",min:"1",max:D(w),value:N,onChange:e=>k(parseInt(e.target.value))})]}),(0,Jn.jsxs)("button",{className:"btn btn-primary",onClick:T,disabled:u||!w||N<=0,children:["Allocate ",N," ",w," Truck(s)"]})]}),"individual"===x&&(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsxs)("div",{className:"filters-container",children:[(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{htmlFor:"statusFilter",children:"Status:"}),(0,Jn.jsxs)("select",{id:"statusFilter",value:S,onChange:e=>C(e.target.value),children:[(0,Jn.jsx)("option",{value:"all",children:"All Status"}),(0,Jn.jsx)("option",{value:"available",children:"Available (Not Allocated)"}),(0,Jn.jsx)("option",{value:"active",children:"Active (Shared with Others)"}),(0,Jn.jsx)("option",{value:"maintenance",children:"Maintenance"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{htmlFor:"typeFilter",children:"Type:"}),(0,Jn.jsxs)("select",{id:"typeFilter",value:_,onChange:e=>P(e.target.value),children:[(0,Jn.jsx)("option",{value:"all",children:"All Types"}),b.map(e=>(0,Jn.jsx)("option",{value:e,children:e},e))]})]}),(0,Jn.jsx)("button",{className:"btn btn-secondary",onClick:()=>{C("all"),P("all")},children:"Clear Filters"}),(0,Jn.jsxs)("button",{className:"btn btn-primary",onClick:T,disabled:u||0===c.length,children:["Allocate Selected (",c.length,")"]})]}),0===A.length?(0,Jn.jsx)("div",{className:"no-data",children:"No available trucks found matching the current filters."}):(0,Jn.jsx)("div",{className:"table-responsive",children:(0,Jn.jsxs)("table",{className:"data-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"Select"}),(0,Jn.jsx)("th",{children:"Truck ID"}),(0,Jn.jsx)("th",{children:"Plate Number"}),(0,Jn.jsx)("th",{children:"Type"}),(0,Jn.jsx)("th",{children:"Capacity"}),(0,Jn.jsx)("th",{children:"Status"})]})}),(0,Jn.jsx)("tbody",{children:A.map(e=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{className:"checkbox-cell",children:(0,Jn.jsx)("input",{type:"checkbox",checked:c.includes(e.id||e.TruckID),onChange:()=>{return t=e.id||e.TruckID,void d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},disabled:u})}),(0,Jn.jsx)("td",{children:e.id||e.TruckID}),(0,Jn.jsx)("td",{children:e.truckPlate||e.TruckPlate}),(0,Jn.jsx)("td",{children:e.truckType||e.TruckType}),(0,Jn.jsxs)("td",{children:[e.truckCapacity||e.TruckCapacity," tons"]}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"status-badge ".concat(I(e.truckStatus||e.TruckStatus)),children:E(e.truckStatus||e.TruckStatus)})})]},e.id||e.TruckID))})]})})]})]})]})},cE=e=>{var n;let{currentUser:r}=e;const[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)("all"),[m,f]=(0,t.useState)("all"),[g,x]=(0,t.useState)(null),[v,b]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)("table"),[k,S]=(0,t.useState)("StaffName"),[C,_]=(0,t.useState)("asc"),[P,A]=(0,t.useState)(1),D=20*P,T=D-20,L=(ce(),["all"!==h?h:null,"all"!==m?m:null].filter(Boolean).length);(0,t.useEffect)(()=>{(async()=>{try{o(!0),console.log("Fetching staff from API...");const e=Yn;console.log("API Base URL:",e);const t=await Gn.get("".concat(e,"/api/staffs"));console.log("API Response:",t),t.data&&Array.isArray(t.data)?(s(t.data),console.log("Staff loaded:",t.data.length)):(console.warn("API returned unexpected data format:",t.data),s([])),o(!1)}catch(t){var e;if(console.error("Error fetching staff:",t),t.response)c("Server error (".concat(t.response.status,"): ").concat((null===(e=t.response.data)||void 0===e?void 0:e.message)||"Unknown error"));else t.request?c("No response received from server. Please check your API connection."):c("Request error: ".concat(t.message));o(!1),s([])}})()},[]);const E=()=>{b(!1),x(null)},I=a.filter(e=>{var t,n,r,a,s,i;const o=!d||(null===(t=e.StaffName)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(n=e.StaffUserName)||void 0===n?void 0:n.toLowerCase().includes(d.toLowerCase()))||(null===(r=e.StaffNumber)||void 0===r?void 0:r.includes(d))||(null===(a=e.StaffDepartment)||void 0===a?void 0:a.toLowerCase().includes(d.toLowerCase())),l="all"===h||(null===(s=e.StaffStatus)||void 0===s?void 0:s.toLowerCase())===h.toLowerCase(),c="all"===m||(null===(i=e.StaffDepartment)||void 0===i?void 0:i.toLowerCase())===m.toLowerCase();return o&&l&&c}),R=Math.ceil(I.length/20),M=(new Set(a.map(e=>e.StaffStatus).filter(Boolean)),[...new Set(a.map(e=>e.StaffDepartment).filter(Boolean))]),F=((()=>{const e=a.length,t=a.filter(e=>{var t;return"active"===(null===(t=e.StaffStatus)||void 0===t?void 0:t.toLowerCase())}).length,n=a.filter(e=>{var t;return"inactive"===(null===(t=e.StaffStatus)||void 0===t?void 0:t.toLowerCase())}).length})(),e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Unknown");return(0,Jn.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Jn.jsx)(Fm,{currentUser:null}),(0,Jn.jsx)(eE,{activeTab:"staff"}),(0,Jn.jsxs)("div",{className:"flex-1 p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:[(0,Jn.jsxs)("div",{className:"mb-8",children:[(0,Jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),(0,Jn.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage staff members, departments, and administrative roles"}),(0,Jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(Kr,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(cr,{size:12}),"+1.9%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:a.length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Total Staff"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(fr,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(cr,{size:12}),"+1.2%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:a.filter(e=>"active"===e.status).length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Active"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-gray-50 text-gray-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(yr,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(ir,{size:12}),"0.0%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:a.filter(e=>"inactive"===e.status).length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Inactive"})]})]}),(0,Jn.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,Jn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jn.jsx)("div",{className:"w-10 h-10 bg-purple-50 text-purple-600 rounded-xl flex items-center justify-center",children:(0,Jn.jsx)(Pr,{size:22})}),(0,Jn.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:[(0,Jn.jsx)(cr,{size:12}),"+0.5%"]})]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:a.filter(e=>"admin"===e.role).length}),(0,Jn.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Administrators"})]})]})]})]}),l&&(0,Jn.jsxs)("div",{className:"error-message",children:[l,(0,Jn.jsx)("div",{style:{marginTop:"10px",fontSize:"12px"},children:(0,Jn.jsx)("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})})]}),(0,Jn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between mb-6",children:[(0,Jn.jsxs)("div",{className:"relative flex-1 max-w-lg w-full",children:[(0,Jn.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:(0,Jn.jsx)(qr,{size:20})}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by name, department...",value:d,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"})]}),(0,Jn.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,Jn.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-medium ".concat(y?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>w(!y),children:[(0,Jn.jsx)(Dr,{size:18}),"Filters",L>0&&(0,Jn.jsx)("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-1",children:L})]}),(0,Jn.jsxs)("div",{className:"flex items-center bg-gray-100 p-1 rounded-lg border border-gray-200",children:[(0,Jn.jsx)("button",{onClick:()=>N("table"),className:"p-2 rounded-md transition-all ".concat("table"===j?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Table View",children:(0,Jn.jsx)(Lr,{size:18})}),(0,Jn.jsx)("button",{onClick:()=>N("cards"),className:"p-2 rounded-md transition-all ".concat("cards"===j?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),title:"Card View",children:(0,Jn.jsx)(Tr,{size:18})})]})]})]}),i?(0,Jn.jsxs)("div",{className:"modern-loading",children:[(0,Jn.jsx)("div",{className:"loading-spinner"}),"Loading staff data..."]}):(0,Jn.jsx)(Jn.Fragment,{children:0===I.length?(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,Jn.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-400",children:(0,Jn.jsx)(Kr,{size:40})}),(0,Jn.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No staff found"}),(0,Jn.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:d||"all"!==h||"all"!==m?"No staff members match your current filters. Try adjusting your search criteria.":"No staff records found. Add your first staff member to get started."}),(0,Jn.jsxs)(ve,{to:"/admin/staffs/add",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-all shadow-sm shadow-blue-200",children:[(0,Jn.jsx)(zr,{size:20}),"Add New Staff"]})]}):(0,Jn.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden mb-6",children:[(0,Jn.jsx)("div",{className:"overflow-x-auto",children:(0,Jn.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider w-20",children:"ID"}),(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Staff Member"}),(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Department"}),(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Jn.jsx)("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,Jn.jsx)("tbody",{className:"divide-y divide-gray-100",children:(()=>{let e=[...I];e.sort((e,t)=>{let n=e[k],r=t[k];return n<r?"asc"===C?-1:1:n>r?"asc"===C?1:-1:0});const t=20*(P-1),n=t+20;return e.slice(t,n)})().map(e=>{var t;return(0,Jn.jsxs)("tr",{className:"hover:bg-gray-50/80 transition-colors group",children:[(0,Jn.jsxs)("td",{className:"py-4 px-6 text-sm text-gray-500 font-mono",children:["#",e.StaffID]}),(0,Jn.jsx)("td",{className:"py-4 px-6",children:(0,Jn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jn.jsx)("div",{className:"w-9 h-9 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center text-sm font-bold",children:(null===(t=e.StaffName)||void 0===t?void 0:t.charAt(0))||"S"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("div",{className:"font-semibold text-gray-900",children:e.StaffName}),(0,Jn.jsxs)("div",{className:"text-xs text-gray-400",children:["@",e.StaffUserName]})]})]})}),(0,Jn.jsx)("td",{className:"py-4 px-6",children:(0,Jn.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-gray-100 text-gray-600 text-xs font-medium border border-gray-200",children:[(0,Jn.jsx)(ur,{size:14,className:"text-gray-400"}),e.StaffDepartment||"Unassigned"]})}),(0,Jn.jsx)("td",{className:"py-4 px-6",children:(0,Jn.jsxs)("div",{className:"flex flex-col gap-1",children:[e.StaffNumber&&(0,Jn.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[(0,Jn.jsx)(Or,{size:14,className:"text-gray-400"}),e.StaffNumber]}),e.email&&(0,Jn.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[(0,Jn.jsx)(Ir,{size:14,className:"text-gray-400"}),e.email]})]})}),(0,Jn.jsx)("td",{className:"py-4 px-6",children:(0,Jn.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border ".concat("Active"===e.StaffStatus?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-gray-50 text-gray-600 border-gray-100"),children:[(0,Jn.jsx)("span",{className:"w-1.5 h-1.5 rounded-full ".concat("Active"===e.StaffStatus?"bg-emerald-500":"bg-gray-400")}),F(e.StaffStatus)]})}),(0,Jn.jsx)("td",{className:"py-4 px-6 text-right",children:(0,Jn.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Jn.jsx)("button",{onClick:()=>(x(e),void b(!0)),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"View Details",children:(0,Jn.jsx)(Cr,{size:18})}),(0,Jn.jsx)(ve,{to:"/admin/staffs/edit/".concat(e.StaffID),className:"p-2 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-all",title:"Edit Staff",children:(0,Jn.jsx)(Sr,{size:18})})]})})]},e._id||e.id)})})]})}),R>1&&(0,Jn.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between bg-gray-50/50",children:[(0,Jn.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing"," ",(0,Jn.jsx)("span",{className:"font-medium text-gray-900",children:T+1})," ","to"," ",(0,Jn.jsx)("span",{className:"font-medium text-gray-900",children:Math.min(D,I.length)})," ","of"," ",(0,Jn.jsx)("span",{className:"font-medium text-gray-900",children:I.length})," ","entries"]}),(0,Jn.jsxs)("div",{className:"flex gap-2",children:[(0,Jn.jsx)("button",{onClick:()=>handlePageChange(P-1),disabled:1===P,className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:bg-white hover:text-blue-600 hover:border-blue-200 disabled:opacity-50 disabled:hover:bg-transparent disabled:hover:text-gray-600 transition-all",children:"Previous"}),(0,Jn.jsx)("div",{className:"flex gap-1",children:[...Array(R)].map((e,t)=>(0,Jn.jsx)("button",{onClick:()=>handlePageChange(t+1),className:"w-8 h-8 rounded-lg text-sm font-medium transition-all ".concat(P===t+1?"bg-blue-600 text-white shadow-sm shadow-blue-200":"text-gray-600 hover:bg-white hover:text-blue-600 border border-transparent hover:border-gray-200"),children:t+1},t+1))}),(0,Jn.jsx)("button",{onClick:()=>handlePageChange(P+1),disabled:P===R,className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:bg-white hover:text-blue-600 hover:border-blue-200 disabled:opacity-50 disabled:hover:bg-transparent disabled:hover:text-gray-600 transition-all",children:"Next"})]})]})]})}),v&&g&&(0,Jn.jsx)("div",{className:"modal-overlay",onClick:E,children:(0,Jn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Jn.jsxs)("div",{className:"modal-header",children:[(0,Jn.jsxs)("h2",{children:["\ud83d\udc68\u200d\ud83d\udcbc ",g.StaffName," Details"]}),(0,Jn.jsx)("button",{className:"modal-close-btn",onClick:E,children:"\u2715"})]}),(0,Jn.jsx)("div",{className:"modal-body",children:(0,Jn.jsxs)("div",{className:"details-grid",children:[(0,Jn.jsxs)("div",{className:"details-section",children:[(0,Jn.jsx)("h3",{children:"\ud83d\udccb Basic Information"}),(0,Jn.jsxs)("div",{className:"details-items",children:[(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Staff ID:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.StaffID})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Full Name:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.StaffName})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Username:"}),(0,Jn.jsxs)("span",{className:"detail-value",children:["@",g.StaffUserName]})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Phone Number:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.StaffNumber||"Not provided"})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Address:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.StaffAddress||"Not provided"})]})]})]}),(0,Jn.jsxs)("div",{className:"details-section",children:[(0,Jn.jsx)("h3",{children:"\ud83d\udcbc Employment Information"}),(0,Jn.jsxs)("div",{className:"details-items",children:[(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Department:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.StaffDepartment||"Not assigned"})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Employment Date:"}),(0,Jn.jsx)("span",{className:"detail-value",children:g.StaffEmploymentDate?new Date(g.StaffEmploymentDate).toLocaleDateString():"Unknown"})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Status:"}),(0,Jn.jsx)("span",{className:"detail-badge status-".concat((null===(n=g.StaffStatus)||void 0===n?void 0:n.toLowerCase())||"unknown"),children:F(g.StaffStatus)})]})]})]})]})}),(0,Jn.jsxs)("div",{className:"modal-footer",children:[(0,Jn.jsx)(ve,{to:"/admin/staffs/edit/".concat(g.StaffID),className:"modern-btn modern-btn-primary",children:"\u270e Edit Staff"}),(0,Jn.jsx)("button",{className:"modern-btn modern-btn-secondary",onClick:E,children:"Close"})]})]})})]})]})},dE=()=>{const{id:e}=ue(),n=ce(),r=Boolean(e),a=Yn,[s,i]=(0,t.useState)({StaffName:"",StaffAddress:"",StaffNumber:"",StaffDepartment:"",StaffEmploymentDate:"",StaffDocuments:"",StaffUserName:"",StaffPassword:"",StaffStatus:"active"}),[o,l]=(0,t.useState)(r),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{if(r)try{l(!0),console.log("Fetching staff member with ID: ".concat(e)),console.log("API Base URL:",a);const t=await Gn.get("".concat(a,"/api/staffs/").concat(e));console.log("API Response:",t);const n=t.data;n.StaffEmploymentDate&&(n.StaffEmploymentDate=new Date(n.StaffEmploymentDate).toISOString().split("T")[0]),i(n)}catch(t){console.error("Error fetching staff member:",t),t.response?d("Server error (".concat(t.response.status,"): ").concat(t.response.data.sqlMessage||t.response.data.message)):t.request?d("No response received from server. Please check your API connection."):d("Request error: ".concat(t.message))}finally{l(!1)}})()},[e,r,a]);const p=e=>{const{name:t,value:n}=e.target;i(e=>Ne(Ne({},e),{},{[t]:n}))};return o?(0,Jn.jsx)("div",{className:"modern-form-container",children:(0,Jn.jsxs)("div",{className:"modern-loading",children:[(0,Jn.jsx)("div",{className:"loading-spinner"}),"Loading staff data..."]})}):(0,Jn.jsxs)("div",{className:"modern-form-container",children:[(0,Jn.jsxs)("div",{className:"modern-form-header",children:[(0,Jn.jsx)("h1",{children:r?"Edit Staff Member":"Add New Staff Member"}),(0,Jn.jsx)("p",{children:r?"Update staff member information and credentials":"Register a new staff member with department details"})]}),c&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsxs)("div",{className:"modern-alert-content",children:[(0,Jn.jsx)("div",{className:"modern-alert-title",children:"Error"}),(0,Jn.jsx)("div",{children:c}),(0,Jn.jsxs)("div",{style:{marginTop:"10px",display:"flex",gap:"8px"},children:[(0,Jn.jsx)("button",{className:"modern-btn modern-btn-secondary",style:{padding:"4px 12px",fontSize:"12px"},onClick:()=>d(null),children:"Dismiss"}),(0,Jn.jsx)("button",{className:"modern-btn modern-btn-secondary",style:{padding:"4px 12px",fontSize:"12px"},onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})]}),u&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-success",children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u2705"}),(0,Jn.jsxs)("div",{className:"modern-alert-content",children:[(0,Jn.jsx)("div",{className:"modern-alert-title",children:"Success"}),(0,Jn.jsx)("div",{children:u})]})]}),(0,Jn.jsx)("div",{className:"modern-form-card",children:(0,Jn.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{console.log("Form submission:",r?"UPDATE":"CREATE",s);const t=r?"".concat(a,"/api/staffs/").concat(e):"".concat(a,"/api/staffs"),o=r?"put":"post",l=await Gn[o](t,s);console.log(r?"Update response:":"Create response:",l),h(r?"Staff member updated successfully!":"Staff member added successfully!"),d(null),r||i({StaffName:"",StaffAddress:"",StaffNumber:"",StaffDepartment:"",StaffEmploymentDate:"",StaffDocuments:"",StaffUserName:"",StaffPassword:"",StaffStatus:"active"}),setTimeout(()=>{n.push("/admin/staffs")},1500)}catch(o){console.error("Error saving staff member:",o),o.response?d("Server error (".concat(o.response.status,"): ").concat(o.response.data.sqlMessage||o.response.data.message)):o.request?d("No response received from server. Please check your API connection."):d("Request error: ".concat(o.message))}},className:"modern-form-content",children:[(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udc68\u200d\ud83d\udcbc"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Basic Information"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Enter the staff member's personal and contact information"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"StaffName",className:"modern-form-label",children:["Full Name ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"StaffName",name:"StaffName",className:"modern-form-input",value:s.StaffName,onChange:p,required:!0,maxLength:"100",placeholder:"e.g. John Doe"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Enter the staff member's complete legal name"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"StaffNumber",className:"modern-form-label",children:["Phone Number ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"StaffNumber",name:"StaffNumber",className:"modern-form-input",value:s.StaffNumber,onChange:p,required:!0,maxLength:"20",placeholder:"e.g. +63 912 345 6789"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Primary contact number for the staff member"})]})]}),(0,Jn.jsx)("div",{className:"form-grid form-grid-1",children:(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"StaffAddress",className:"modern-form-label",children:["Address ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"StaffAddress",name:"StaffAddress",className:"modern-form-input",value:s.StaffAddress,onChange:p,required:!0,maxLength:"255",placeholder:"e.g. 123 Main St, Barangay Sample, City, Province"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Complete residential address"})]})})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83c\udfe2"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Employment Information"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Department assignment and employment details"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-3",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"StaffDepartment",className:"modern-form-label",children:["Department ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"StaffDepartment",name:"StaffDepartment",className:"modern-form-input",value:s.StaffDepartment,onChange:p,required:!0,maxLength:"50",placeholder:"e.g. Operations, Admin, HR"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Department or division assignment"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"StaffEmploymentDate",className:"modern-form-label",children:["Employment Date ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"date",id:"StaffEmploymentDate",name:"StaffEmploymentDate",className:"modern-form-input",value:s.StaffEmploymentDate,onChange:p,required:!0}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Date when the staff member was hired"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"StaffStatus",className:"modern-form-label",children:["Employment Status"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsxs)("select",{id:"StaffStatus",name:"StaffStatus",className:"modern-form-select",value:s.StaffStatus,onChange:p,required:!0,children:[(0,Jn.jsx)("option",{value:"active",children:"Active"}),(0,Jn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Jn.jsx)("option",{value:"suspended",children:"Suspended"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Current employment status"})]})]}),(0,Jn.jsx)("div",{className:"form-grid form-grid-1",children:(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"StaffDocuments",className:"modern-form-label",children:"Documents Notes (Optional)"}),(0,Jn.jsx)("input",{type:"text",id:"StaffDocuments",name:"StaffDocuments",className:"modern-form-input",value:s.StaffDocuments||"",onChange:p,maxLength:"255",placeholder:"Additional document notes"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Optional notes about staff documents"})]})})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udd10"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Account Credentials"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Login credentials for the staff portal"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"StaffUserName",className:"modern-form-label",children:["Username ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"StaffUserName",name:"StaffUserName",className:"modern-form-input",value:s.StaffUserName,onChange:p,required:!0,maxLength:"50",placeholder:"e.g. jdoe"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Unique username for system login"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"StaffPassword",className:"modern-form-label",children:["Password"," ",!r&&(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",Ne(Ne({type:"password",id:"StaffPassword",name:"StaffPassword",className:"modern-form-input",value:s.StaffPassword||"",onChange:p},!r&&{required:!0}),{},{maxLength:"255",placeholder:r?"Leave blank to keep current password":"Minimum 6 characters"})),(0,Jn.jsx)("div",{className:"form-help-text",children:r?"Leave blank to keep current password":"Secure password for staff portal access"})]})]})]}),(0,Jn.jsxs)("div",{className:"modern-btn-group",children:[(0,Jn.jsx)("button",{type:"button",className:"modern-btn modern-btn-secondary",onClick:()=>n.push("/admin/staffs"),children:"\u2190 Cancel"}),(0,Jn.jsx)("button",{type:"submit",className:"modern-btn modern-btn-primary",children:r?"\ud83d\udcbe Update Staff Member":"\u2705 Add Staff Member"})]})]})})]})},uE=e=>{var n,r,a,s,i,o,l,c,d,u,h;let{currentUser:p}=e;const m=Yn,{isWithinTimeframe:f,getFormattedDateRange:g}=ua(),[x,v]=(0,t.useState)([]),[b,y]=(0,t.useState)([]),[w,j]=(0,t.useState)(!0),[N,k]=(0,t.useState)(null),[S,C]=(0,t.useState)("all"),[_,P]=(0,t.useState)(""),[A,D]=(0,t.useState)(null),[T,L]=(0,t.useState)(!1),[E,I]=(0,t.useState)("table"),[R,M]=(0,t.useState)("name"),[F,O]=(0,t.useState)("asc"),[z,B]=(0,t.useState)(1),[U,q]=(0,t.useState)(!1),W=["all"!==S?S:null].filter(Boolean).length,H=e=>{D(e),L(!0)},V=()=>{L(!1),D(null)},G=e=>{R===e?O("asc"===F?"desc":"asc"):(M(e),O("asc"))},K=Math.ceil(b.length/20);(0,t.useEffect)(()=>{(async()=>{try{j(!0);const e=await Gn.get("".concat(m,"/api/simple-files/helpers-with-documents"));console.log("Raw API response (helpers with actual documents):",e.data);const t=Array.isArray(e.data)?e.data:e.data.helpers;if(t&&t.length>0){const e=t.map(e=>(console.log("Processing helper data:",e),console.log("\ud83d\udcca Document Compliance:",e.documentCompliance),console.log("\ud83d\udcc1 Documents:",e.documents),{id:e.id||e.HelperID,name:e.name||e.HelperName,contactNumber:e.contactNumber||e.HelperNumber,address:e.address||e.HelperAddress,status:e.status||e.HelperStatus||"Active",employmentDate:e.employmentDate||e.HelperEmploymentDate,licenseType:e.licenseType||"Class C",licenseNumber:e.licenseNumber||"",licenseExpiryDate:e.licenseExpiryDate||"",documents:e.documents||{},documentCompliance:e.documentCompliance||null}));v(e)}else console.log("No helpers data received, setting empty array"),v([])}catch(e){console.error("Error fetching helpers:",e),k("Failed to fetch helpers: ".concat(e.message)),v([])}finally{j(!1)}})()},[m]);x.length,x.filter(e=>"Active"===e.status).length,x.filter(e=>"Inactive"===e.status).length,x.filter(e=>"On Leave"===e.status).length,x.filter(e=>"Terminated"===e.status).length;(0,t.useEffect)(()=>{let e=[...x];if(f&&(e=e.filter(e=>!e.employmentDate||f(e.employmentDate))),"all"!==S&&(e=e.filter(e=>{var t;return(null===(t=e.status)||void 0===t?void 0:t.toLowerCase().replace(/[\s-]/g,""))===S.toLowerCase().replace(/[\s-]/g,"")})),_.trim()){const t=_.toLowerCase().trim();e=e.filter(e=>{var n,r,a,s;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.contactNumber)||void 0===r?void 0:r.includes(t))||(null===(a=e.licenseType)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(s=e.address)||void 0===s?void 0:s.toLowerCase().includes(t))})}y(e)},[x,S,_,f]);const Y=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":case"available":return"status-active";case"inactive":return"status-inactive";case"on leave":return"status-on-leave";case"on-delivery":case"on_delivery":case"on delivery":return"status-on-delivery";case"terminated":return"status-terminated";default:return"status-default"}},$=e=>{if(!e.documentCompliance)return"compliance-pending";const t=e.documentCompliance.overallStatus;return"complete"===t?"compliance-complete":"incomplete"===t?"compliance-incomplete":"compliance-pending"},J=e=>{if(!e.documentCompliance)return"\u2699\ufe0f";const t=e.documentCompliance.overallStatus;return"complete"===t?"\u2705":"incomplete"===t?"\u26a0\ufe0f":"\u2699\ufe0f"},X=e=>{if(!e.documentCompliance)return"Compliance Pending";const t=e.documentCompliance.overallStatus;return"complete"===t?"Compliance Complete":"incomplete"===t?"Compliance Incomplete":"Compliance Pending"},Q=e=>{if(!e.documentCompliance)return"No compliance data";const{requiredDocumentCount:t=0,optionalDocumentCount:n=0,overallStatus:r="pending"}=e.documentCompliance;return"".concat(t," required, ").concat(n," optional - ").concat(r)};return w?(0,Jn.jsx)("div",{className:"helpers-list-container",children:(0,Jn.jsxs)("div",{className:"loading-container",children:[(0,Jn.jsx)("div",{className:"loading-spinner"}),(0,Jn.jsx)("p",{children:"Loading helpers..."})]})}):N?(0,Jn.jsx)("div",{className:"helpers-list-container",children:(0,Jn.jsxs)("div",{className:"error-container",children:[(0,Jn.jsx)("h2",{children:"Error Loading Helpers"}),(0,Jn.jsx)("p",{children:N}),(0,Jn.jsx)("button",{onClick:()=>window.location.reload(),className:"btn btn-primary",children:"Retry"})]})}):(0,Jn.jsxs)("div",{className:"admin-page-container",children:[(0,Jn.jsx)(Fm,{currentUser:null}),(0,Jn.jsxs)("div",{className:"admin-content",children:[(0,Jn.jsxs)("div",{className:"greeting-section",children:[(0,Jn.jsx)("h2",{className:"greeting-text",children:"Helpers Management"}),(0,Jn.jsx)("p",{className:"greeting-subtitle",children:"Manage helpers, assistant drivers, and support personnel"}),(0,Jn.jsx)("div",{className:"timeframe-indicator",children:(0,Jn.jsxs)("span",{className:"timeframe-label",children:["Showing data for: ",g()]})}),(0,Jn.jsxs)("div",{className:"summary-cards",children:[(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(Kr,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:x.length}),(0,Jn.jsx)("div",{className:"card-label",children:"Total Helpers"}),(0,Jn.jsxs)("div",{className:"card-change positive",children:[(0,Jn.jsx)(cr,{size:12}),"+2.5%"]})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(fr,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:x.filter(e=>{var t;return"active"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).length}),(0,Jn.jsx)("div",{className:"card-label",children:"Active"}),(0,Jn.jsxs)("div",{className:"card-change positive",children:[(0,Jn.jsx)(cr,{size:12}),"+1.8%"]})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(ir,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:x.filter(e=>{var t;return"ondelivery"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase().replace(/[\s-]/g,""))}).length}),(0,Jn.jsx)("div",{className:"card-label",children:"On Delivery"}),(0,Jn.jsxs)("div",{className:"card-change neutral",children:[(0,Jn.jsx)(ir,{size:12}),"0.0%"]})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(Pr,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:x.filter(e=>e.licenseExpiryDate&&new Date(e.licenseExpiryDate)<new Date).length}),(0,Jn.jsx)("div",{className:"card-label",children:"Expired Licenses"}),(0,Jn.jsxs)("div",{className:"card-change negative",children:[(0,Jn.jsx)(lr,{size:12}),"-0.3%"]})]})]})]})]}),(0,Jn.jsxs)("div",{className:"modern-filter-bar",style:{position:"relative",marginBottom:"24px"},children:[(0,Jn.jsxs)("div",{className:"search-filter-row",style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[(0,Jn.jsx)("div",{className:"search-container",style:{flex:"0 0 350px"},children:(0,Jn.jsxs)("div",{className:"search-input-wrapper",children:[(0,Jn.jsx)("div",{className:"search-icon",children:"\ud83d\udd0d"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by name, contact, license...",value:_,onChange:e=>P(e.target.value),className:"modern-search-input"})]})}),(0,Jn.jsxs)("button",{className:"btn btn-secondary ".concat(U?"active":""),style:{height:"42px",display:"flex",alignItems:"center",gap:"8px",position:"relative",paddingRight:W>0?"36px":"16px"},onClick:()=>q(!U),children:[(0,Jn.jsx)(Dr,{size:18}),"Filters",W>0&&(0,Jn.jsx)("span",{className:"filter-count-badge",style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"rgba(255,255,255,0.2)",color:"white",borderRadius:"12px",padding:"2px 8px",fontSize:"0.75rem",fontWeight:"bold"},children:W})]}),(0,Jn.jsxs)("div",{className:"view-mode-toggle",style:{marginLeft:"auto"},children:[(0,Jn.jsx)("button",{onClick:()=>I("table"),className:"view-mode-btn ".concat("table"===E?"active":""),title:"Table View",children:(0,Jn.jsx)(Lr,{size:20})}),(0,Jn.jsx)("button",{onClick:()=>I("cards"),className:"view-mode-btn ".concat("cards"===E?"active":""),title:"Card View",children:(0,Jn.jsx)(Tr,{size:20})})]})]}),(0,Jn.jsxs)("div",{className:"filter-summary",style:{marginTop:"12px",color:"#64748b",fontSize:"0.9rem"},children:["Showing ",b.length," of ",x.length," helpers"]}),U&&(0,Jn.jsxs)("div",{className:"filter-popup-card",style:{position:"absolute",top:"48px",left:"0",zIndex:100,background:"white",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",border:"1px solid #f1f5f9",width:"320px",maxWidth:"90vw",padding:"20px"},children:[(0,Jn.jsxs)("div",{className:"popup-header",style:{display:"flex",justifyContent:"space-between",marginBottom:"16px",alignItems:"center"},children:[(0,Jn.jsx)("h4",{style:{margin:0,color:"#1e293b",fontSize:"1.1rem"},children:"Filter Options"}),(0,Jn.jsx)("button",{className:"btn-ghost",onClick:()=>q(!1),style:{height:"32px",padding:"0 8px",width:"auto"},children:(0,Jn.jsx)($r,{})})]}),(0,Jn.jsx)("div",{className:"filters-grid-popup",style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px",marginBottom:"20px"},children:(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{className:"filter-label",children:"Status"}),(0,Jn.jsxs)("select",{value:S,onChange:e=>C(e.target.value),className:"modern-filter-select",style:{width:"100%"},children:[(0,Jn.jsx)("option",{value:"all",children:"All Status"}),(0,Jn.jsx)("option",{value:"Active",children:"Active"}),(0,Jn.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,Jn.jsx)("option",{value:"On Leave",children:"On Leave"}),(0,Jn.jsx)("option",{value:"On Delivery",children:"On Delivery"}),(0,Jn.jsx)("option",{value:"Terminated",children:"Terminated"})]})]})}),(0,Jn.jsxs)("div",{className:"popup-footer",style:{display:"flex",justifyContent:"flex-end",gap:"12px",paddingTop:"16px",borderTop:"1px solid #f1f5f9"},children:[(0,Jn.jsxs)("button",{className:"btn-ghost",onClick:()=>{C("all"),P("")},style:{width:"auto"},children:[(0,Jn.jsx)(Ar,{size:16})," Reset"]}),(0,Jn.jsx)("button",{className:"btn btn-primary",onClick:()=>q(!1),style:{height:"42px",padding:"0 24px"},children:"Apply Filters"})]})]})]}),0===b.length?(0,Jn.jsxs)("div",{className:"helpers-empty-state",children:[(0,Jn.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udc64"}),(0,Jn.jsx)("h3",{className:"empty-state-title",children:"No helpers found"}),(0,Jn.jsx)("p",{className:"empty-state-description",children:"No helpers match your current filters. Try adjusting your search criteria or add a new helper."}),(0,Jn.jsx)(ve,{to:"/admin/helpers/add",className:"btn btn-primary",children:"\u2795 Add Your First Helper"})]}):"table"===E?(0,Jn.jsxs)("div",{className:"helpers-table-container",children:[(0,Jn.jsx)("div",{className:"table-wrapper",children:(0,Jn.jsxs)("table",{className:"helpers-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsxs)("th",{onClick:()=>G("name"),className:"sortable",children:["Helper Name"," ","name"===R&&("asc"===F?"\u2191":"\u2193")]}),(0,Jn.jsxs)("th",{onClick:()=>G("contactNumber"),className:"sortable",children:["Contact"," ","contactNumber"===R&&("asc"===F?"\u2191":"\u2193")]}),(0,Jn.jsxs)("th",{onClick:()=>G("licenseType"),className:"sortable",children:["License Type"," ","licenseType"===R&&("asc"===F?"\u2191":"\u2193")]}),(0,Jn.jsxs)("th",{onClick:()=>G("licenseNumber"),className:"sortable",children:["License #"," ","licenseNumber"===R&&("asc"===F?"\u2191":"\u2193")]}),(0,Jn.jsxs)("th",{onClick:()=>G("status"),className:"sortable",children:["Status"," ","status"===R&&("asc"===F?"\u2191":"\u2193")]}),(0,Jn.jsxs)("th",{onClick:()=>G("documentCompliance"),className:"sortable",children:["Compliance"," ","documentCompliance"===R&&("asc"===F?"\u2191":"\u2193")]}),(0,Jn.jsx)("th",{children:"Actions"})]})}),(0,Jn.jsx)("tbody",{children:(()=>{let e=[...b];e.sort((e,t)=>{let n=e[R],r=t[R];var a,s;"documentCompliance"===R&&(n=(null===(a=e.documentCompliance)||void 0===a?void 0:a.requiredDocumentCount)||0,r=(null===(s=t.documentCompliance)||void 0===s?void 0:s.requiredDocumentCount)||0);return n<r?"asc"===F?-1:1:n>r?"asc"===F?1:-1:0});const t=20*(z-1),n=t+20;return e.slice(t,n)})().map(e=>{var t;return(0,Jn.jsxs)("tr",{className:"helper-row",children:[(0,Jn.jsx)("td",{className:"helper-name-cell",children:(0,Jn.jsxs)("div",{className:"helper-name-wrapper",children:[(0,Jn.jsx)(Kr,{className:"helper-icon"}),(0,Jn.jsx)("span",{className:"helper-name-text",children:e.name})]})}),(0,Jn.jsx)("td",{children:e.contactNumber||"N/A"}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"license-badge",children:e.licenseType||"N/A"})}),(0,Jn.jsx)("td",{children:e.licenseNumber||"N/A"}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"status-badge ".concat(Y(e.status)),children:e.status||"Active"})}),(0,Jn.jsx)("td",{children:(0,Jn.jsxs)("div",{className:"compliance-cell",children:[(0,Jn.jsx)("span",{className:"compliance-icon",children:J(e)}),(0,Jn.jsxs)("span",{className:"compliance-text",children:[(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,"/2"]})]})}),(0,Jn.jsx)("td",{children:(0,Jn.jsxs)("div",{className:"table-actions",children:[(0,Jn.jsx)("button",{onClick:()=>H(e),className:"action-btn view-btn",title:"View Details",children:(0,Jn.jsx)(Cr,{size:18})}),(0,Jn.jsx)(ve,{to:"/admin/helpers/edit/".concat(e.id),className:"action-btn edit-btn",title:"Edit Helper",children:(0,Jn.jsx)(Sr,{size:18})})]})})]},e.id)})})]})}),K>1&&(0,Jn.jsxs)("div",{className:"pagination",children:[(0,Jn.jsx)("button",{onClick:()=>B(e=>Math.max(1,e-1)),disabled:1===z,className:"pagination-btn",children:"\u2190 Previous"}),(0,Jn.jsxs)("span",{className:"pagination-info",children:["Page ",z," of ",K," (",b.length," ","helpers)"]}),(0,Jn.jsx)("button",{onClick:()=>B(e=>Math.min(K,e+1)),disabled:z===K,className:"pagination-btn",children:"Next \u2192"})]})]}):(0,Jn.jsx)("div",{className:"helper-cards-grid",children:b.map(e=>{var t;const n=Y(e.status);return(0,Jn.jsxs)("div",{className:"helper-card",children:[(0,Jn.jsxs)("div",{className:"helper-card-header",children:[(0,Jn.jsxs)("div",{className:"helper-card-title",children:[(0,Jn.jsx)("div",{className:"helper-card-icon",children:"\ud83d\udc64"}),(0,Jn.jsxs)("div",{className:"helper-card-main",children:[(0,Jn.jsx)("h3",{className:"helper-name",children:e.name}),(0,Jn.jsx)("p",{className:"helper-type",children:e.licenseType||"No License"})]})]}),(0,Jn.jsx)("div",{className:"helper-card-status",children:(0,Jn.jsx)("span",{className:"helper-status-primary ".concat(n.replace("status-","")),children:e.status||"Active"})})]}),(0,Jn.jsxs)("div",{className:"helper-card-content",children:[(0,Jn.jsxs)("div",{className:"helper-card-info",children:[(0,Jn.jsxs)("div",{className:"helper-info-item",children:[(0,Jn.jsx)("span",{className:"helper-info-label",children:"Contact"}),(0,Jn.jsx)("span",{className:"helper-info-value",children:e.contactNumber||"N/A"})]}),(0,Jn.jsxs)("div",{className:"helper-info-item",children:[(0,Jn.jsx)("span",{className:"helper-info-label",children:"Address"}),(0,Jn.jsx)("span",{className:"helper-info-value",children:e.address||"N/A"})]}),(0,Jn.jsxs)("div",{className:"helper-info-item",children:[(0,Jn.jsx)("span",{className:"helper-info-label",children:"License #"}),(0,Jn.jsx)("span",{className:"helper-info-value",children:e.licenseNumber||"N/A"})]})]}),(0,Jn.jsxs)("div",{className:"helper-card-info",children:[(0,Jn.jsxs)("div",{className:"helper-info-item",children:[(0,Jn.jsx)("span",{className:"helper-info-label",children:"License Type"}),(0,Jn.jsx)("span",{className:"helper-info-value",children:e.licenseType||"N/A"})]}),(0,Jn.jsxs)("div",{className:"helper-info-item",children:[(0,Jn.jsx)("span",{className:"helper-info-label",children:"Expiry"}),(0,Jn.jsx)("span",{className:"helper-info-value",children:e.licenseExpiryDate?new Date(e.licenseExpiryDate).toLocaleDateString():"N/A"})]}),(0,Jn.jsxs)("div",{className:"helper-info-item",children:[(0,Jn.jsx)("span",{className:"helper-info-label",children:"Hired"}),(0,Jn.jsx)("span",{className:"helper-info-value",children:e.employmentDate?new Date(e.employmentDate).toLocaleDateString():"N/A"})]})]})]}),(0,Jn.jsxs)("div",{className:"helper-card-compliance ".concat($(e)),children:[(0,Jn.jsxs)("div",{className:"compliance-info",children:[(0,Jn.jsx)("div",{className:"compliance-icon-large",children:J(e)}),(0,Jn.jsxs)("div",{className:"compliance-text",children:[(0,Jn.jsx)("div",{className:"compliance-status",children:X(e)}),(0,Jn.jsx)("div",{className:"compliance-details",children:Q(e)})]})]}),(0,Jn.jsxs)("div",{className:"file-counter-badge",children:[(0,Jn.jsx)("span",{className:"file-count-icon",children:"\ud83d\udcc1"}),(0,Jn.jsxs)("span",{className:"file-count-text",children:[Object.keys(e.documents||{}).length," files"]}),(0,Jn.jsx)("div",{className:"file-count-breakdown",children:(0,Jn.jsxs)("span",{className:"required-count",children:[(null===(t=e.documentCompliance)||void 0===t?void 0:t.requiredDocumentCount)||0,"/2 required"]})})]})]}),(0,Jn.jsxs)("div",{className:"helper-card-actions",children:[(0,Jn.jsx)("div",{className:"helper-card-actions-left",children:(0,Jn.jsx)(ve,{to:"/admin/helpers/edit/".concat(e.id),className:"card-action-btn primary",children:"\u270e Edit"})}),(0,Jn.jsx)("button",{className:"view-details-btn",onClick:()=>H(e),children:"\ud83d\udcca View Details \u2192"})]})]},e.id)})}),T&&A&&(0,Jn.jsx)("div",{className:"modal-overlay",onClick:V,children:(0,Jn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Jn.jsxs)("div",{className:"modal-header",children:[(0,Jn.jsxs)("h2",{children:["Helper Details - ",A.name]}),(0,Jn.jsx)("button",{className:"modal-close-btn",onClick:V,children:"\u2715"})]}),(0,Jn.jsxs)("div",{className:"modal-body",children:[(0,Jn.jsxs)("div",{className:"details-grid",children:[(0,Jn.jsxs)("div",{className:"details-section",children:[(0,Jn.jsx)("h3",{children:"\ud83d\udc64 Personal Information"}),(0,Jn.jsxs)("div",{className:"details-items",children:[(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Full Name:"}),(0,Jn.jsx)("span",{className:"detail-value",children:A.name})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Contact Number:"}),(0,Jn.jsx)("span",{className:"detail-value",children:A.contactNumber||"N/A"})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Address:"}),(0,Jn.jsx)("span",{className:"detail-value",children:A.address||"N/A"})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Status:"}),(0,Jn.jsx)("span",{className:"detail-badge ".concat(Y(A.status)),children:A.status})]})]})]}),(0,Jn.jsxs)("div",{className:"details-section",children:[(0,Jn.jsx)("h3",{children:"\ud83d\udcbc Employment Information"}),(0,Jn.jsx)("div",{className:"details-items",children:(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Employment Date:"}),(0,Jn.jsx)("span",{className:"detail-value",children:A.employmentDate?new Date(A.employmentDate).toLocaleDateString():"N/A"})]})})]}),(0,Jn.jsxs)("div",{className:"details-section",children:[(0,Jn.jsx)("h3",{children:"\ud83d\udcdc License Information"}),(0,Jn.jsxs)("div",{className:"details-items",children:[(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"License Type:"}),(0,Jn.jsx)("span",{className:"detail-value",children:A.licenseType||"N/A"})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"License Number:"}),(0,Jn.jsx)("span",{className:"detail-value",children:A.licenseNumber||"N/A"})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"License Expiry:"}),(0,Jn.jsx)("span",{className:"detail-value",children:A.licenseExpiryDate?new Date(A.licenseExpiryDate).toLocaleDateString():"N/A"})]})]})]}),(0,Jn.jsxs)("div",{className:"details-section",children:[(0,Jn.jsx)("h3",{children:"\ud83d\udcc4 Document Compliance"}),(0,Jn.jsxs)("div",{className:"details-items",children:[(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Overall Status:"}),(0,Jn.jsx)("span",{className:"detail-badge compliance-".concat($(A).replace("compliance-","")),children:X(A)})]}),(0,Jn.jsxs)("div",{className:"detail-item",children:[(0,Jn.jsx)("span",{className:"detail-label",children:"Documents Completed:"}),(0,Jn.jsx)("span",{className:"detail-value",children:Q(A)})]}),(0,Jn.jsxs)("div",{className:"documents-list",children:[(0,Jn.jsxs)("div",{className:"document-item",children:[(0,Jn.jsx)("span",{className:"doc-name",children:"Valid ID:"}),(0,Jn.jsx)("span",{className:"doc-status ".concat(null!==(n=A.documents)&&void 0!==n&&n.validId?"complete":"missing"),children:null!==(r=A.documents)&&void 0!==r&&r.validId?"\u2713 Complete":"\u2717 Missing"})]}),(0,Jn.jsxs)("div",{className:"document-item",children:[(0,Jn.jsx)("span",{className:"doc-name",children:"Barangay Clearance:"}),(0,Jn.jsx)("span",{className:"doc-status ".concat(null!==(a=A.documents)&&void 0!==a&&a.barangayClearance?"complete":"missing"),children:null!==(s=A.documents)&&void 0!==s&&s.barangayClearance?"\u2713 Complete":"\u2717 Missing"})]}),(0,Jn.jsxs)("div",{className:"document-item",children:[(0,Jn.jsx)("span",{className:"doc-name",children:"Medical Certificate:"}),(0,Jn.jsx)("span",{className:"doc-status ".concat(null!==(i=A.documents)&&void 0!==i&&i.medicalCertificate?"complete":"optional"),children:null!==(o=A.documents)&&void 0!==o&&o.medicalCertificate?"\u2713 Complete":"\u25cb Optional"})]}),(0,Jn.jsxs)("div",{className:"document-item",children:[(0,Jn.jsx)("span",{className:"doc-name",children:"Helper License:"}),(0,Jn.jsx)("span",{className:"doc-status ".concat(null!==(l=A.documents)&&void 0!==l&&l.helperLicense?"complete":"optional"),children:null!==(c=A.documents)&&void 0!==c&&c.helperLicense?"\u2713 Complete":"\u25cb Optional"})]})]})]})]})]}),(0,Jn.jsxs)("div",{className:"details-section",children:[(0,Jn.jsx)("h3",{children:"\ud83d\udcc1 Uploaded Documents"}),(0,Jn.jsxs)("div",{className:"document-summary",children:[(0,Jn.jsxs)("div",{className:"document-count-badge",children:[(0,Jn.jsx)("span",{className:"count-icon",children:"\ud83d\udcc1"}),(0,Jn.jsxs)("span",{className:"count-text",children:[(null===(d=A.documentCompliance)||void 0===d?void 0:d.documentCount)||0," ","files uploaded"]})]}),(0,Jn.jsxs)("div",{className:"document-breakdown",children:[(0,Jn.jsxs)("span",{className:"required-docs",children:["Required:"," ",(null===(u=A.documentCompliance)||void 0===u?void 0:u.requiredDocumentCount)||0,"/2"]}),(0,Jn.jsxs)("span",{className:"optional-docs",children:["Optional:"," ",(null===(h=A.documentCompliance)||void 0===h?void 0:h.optionalDocumentCount)||0,"/2"]})]})]}),A.documents&&Object.keys(A.documents).length>0?(0,Jn.jsx)("div",{className:"details-items",children:(0,Jn.jsx)(JL,{documents:A.documents,entityType:"helper",entityName:A.name})}):(0,Jn.jsxs)("div",{className:"no-documents-message",children:[(0,Jn.jsx)("div",{className:"no-docs-icon",children:"\ud83d\udcc4"}),(0,Jn.jsx)("p",{children:"No documents have been uploaded for this helper yet."}),(0,Jn.jsx)(ve,{to:"/admin/helpers/edit/".concat(A.id),className:"btn btn-primary btn-sm",children:"Upload Documents"})]})]})]})]})})]})]})},hE=()=>{const{id:e}=ue(),n=ce(),r=Boolean(e),a=Yn,[s,i]=(0,t.useState)({name:"",contactNumber:"",address:"",emergencyContact:"",emergencyContactNumber:"",dateHired:"",status:"Active",licenseType:"Class C",licenseNumber:"",licenseExpiryDate:"",HelperUserName:"",HelperPassword:""}),[o,l]=(0,t.useState)(r),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(""),[p,m]=(0,t.useState)({validId:null,barangayClearance:null,medicalCertificate:null,helperLicense:null}),[f,g]=(0,t.useState)({});(0,t.useEffect)(()=>{(async()=>{if(r)try{l(!0),console.log("Fetching helper with ID: ".concat(e)),console.log("API Base URL:",a);const t=await Gn.get("".concat(a,"/api/admin/helpers/").concat(e));console.log("API Response:",t);const n=t.data;i({name:n.name||n.HelperName||"",contactNumber:n.contactNumber||n.HelperNumber||"",address:n.address||n.HelperAddress||"",emergencyContact:n.emergencyContact||"",emergencyContactNumber:n.emergencyContactNumber||"",dateHired:n.dateHired||n.HelperEmploymentDate?new Date(n.dateHired||n.HelperEmploymentDate).toISOString().split("T")[0]:"",status:n.status||n.HelperStatus||"Active",licenseType:n.licenseType||"Class C",licenseNumber:n.licenseNumber||"",licenseExpiryDate:n.licenseExpiryDate?new Date(n.licenseExpiryDate).toISOString().split("T")[0]:"",HelperUserName:n.HelperUserName||"",HelperPassword:""}),n.documents&&g(n.documents)}catch(t){console.error("Error fetching helper:",t),t.response?d("Server error (".concat(t.response.status,"): ").concat(t.response.data.sqlMessage||t.response.data.message)):t.request?d("No response received from server. Please check your API connection."):d("Request error: ".concat(t.message))}finally{l(!1)}})()},[e,r,a]);const x=e=>{const{name:t,value:n}=e.target;i(e=>Ne(Ne({},e),{},{[t]:n}))},v=(e,t)=>{const n=e.target.files[0];n&&(i(e=>Ne(Ne({},e),{},{[t]:n})),m(e=>Ne(Ne({},e),{},{[t]:n.name})))},b=e=>{i(t=>Ne(Ne({},t),{},{[e]:null})),m(t=>{const n=Ne({},t);return delete n[e],n})},y=e=>{console.log("\ud83d\udd04 Replace clicked for:",e),m(t=>Ne(Ne({},t),{},{[e]:null})),g(t=>Ne(Ne({},t),{},{[e]:null}));const t=document.getElementById(e);console.log("\ud83d\udcc4 File input element:",t),t?(console.log("\u2705 Clicking file input"),t.click()):console.error("\u274c File input not found for:",e)},w=e=>{console.log("\ud83d\udc41\ufe0f View clicked for:",e);const t=f[e];if(t)try{const n=t.filename;console.log("\ud83d\udcc4 Document:",t);let r="";"validId"===e?r="Valid-IDs":"barangayClearance"===e?r="Barangay-Clearances":"medicalCertificate"===e?r="Medical-Certificates":"helperLicense"===e&&(r="Helper-Licenses");const s=(r?"Helper-Documents/".concat(r,"/").concat(n):"Helper-Documents/".concat(n)).split("/").map(e=>encodeURIComponent(e)).join("/"),i="".concat(a,"/api/documents/view/").concat(s);console.log("\ud83d\udd17 API URL:",i);const o=/\.(jpg|jpeg|png|gif|webp)$/i.test(n);console.log("\ud83d\uddbc\ufe0f Is image:",o),window.open(i,"_blank")}catch(c){console.error("\u274c Error viewing document:",c),d("Failed to view document. Please try again.")}else console.error("\u274c No document found for:",e)};return o?(0,Jn.jsx)("div",{className:"modern-form-container",children:(0,Jn.jsxs)("div",{className:"modern-loading",children:[(0,Jn.jsx)("div",{className:"loading-spinner"}),"Loading helper data..."]})}):(0,Jn.jsxs)("div",{className:"modern-form-container",children:[(0,Jn.jsxs)("div",{className:"modern-form-header",children:[(0,Jn.jsx)("h1",{children:r?"Edit Helper":"Add New Helper"}),(0,Jn.jsx)("p",{children:r?"Update helper information and documents":"Register a new helper with required documentation"})]}),c&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-error",children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u26a0\ufe0f"}),(0,Jn.jsxs)("div",{className:"modern-alert-content",children:[(0,Jn.jsx)("div",{className:"modern-alert-title",children:"Error"}),(0,Jn.jsx)("div",{children:c}),(0,Jn.jsxs)("div",{style:{marginTop:"10px",display:"flex",gap:"8px"},children:[(0,Jn.jsx)("button",{className:"modern-btn modern-btn-secondary",style:{padding:"4px 12px",fontSize:"12px"},onClick:()=>d(null),children:"Dismiss"}),(0,Jn.jsx)("button",{className:"modern-btn modern-btn-secondary",style:{padding:"4px 12px",fontSize:"12px"},onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})]}),u&&(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-success",children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u2705"}),(0,Jn.jsxs)("div",{className:"modern-alert-content",children:[(0,Jn.jsx)("div",{className:"modern-alert-title",children:"Success"}),(0,Jn.jsx)("div",{children:u})]})]}),(0,Jn.jsx)("div",{className:"modern-form-card",children:(0,Jn.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),d(null);try{const t=new FormData;t.append("name",s.name),t.append("helperName",s.name),t.append("contactNumber",s.contactNumber),t.append("address",s.address),t.append("emergencyContact",s.emergencyContact||""),t.append("emergencyContactNumber",s.emergencyContactNumber||""),t.append("dateHired",s.dateHired),t.append("status",s.status),t.append("licenseType",s.licenseType),t.append("licenseNumber",s.licenseNumber||""),t.append("licenseExpiryDate",s.licenseExpiryDate||""),t.append("HelperUserName",s.HelperUserName),s.HelperPassword&&t.append("HelperPassword",s.HelperPassword),s.validId&&t.append("validId",s.validId),s.barangayClearance&&t.append("barangayClearance",s.barangayClearance),s.medicalCertificate&&t.append("medicalCertificate",s.medicalCertificate),s.helperLicense&&t.append("helperLicense",s.helperLicense);const i={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};if(console.log("Sending helper data..."),console.log("Is edit mode:",r),console.log("FormData keys:",Array.from(t.keys())),r)console.log("Updating helper ".concat(e,"...")),await Gn.put("".concat(a,"/api/admin/helpers/").concat(e),t,i),h("Helper updated successfully!");else{console.log("Creating new helper...");await Gn.post("".concat(a,"/api/admin/helpers"),t,i);h("Helper created successfully!")}setTimeout(()=>{n.push("/admin/helpers")},1500)}catch(c){console.error("Error saving helper:",c),c.response?d("Server error (".concat(c.response.status,"): ").concat(c.response.data.message||c.response.data.error||"Unknown error")):c.request?d("No response received from server. Please check your API connection."):d("Request error: ".concat(c.message))}finally{l(!1)}},className:"modern-form-content",children:[(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udc64"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Basic Information"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Enter the helper's personal and contact information"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"name",className:"modern-form-label",children:["Full Name ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"name",name:"name",className:"modern-form-input",value:s.name,onChange:x,required:!0,maxLength:"100",placeholder:"e.g. Juan Dela Cruz"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Enter the helper's complete legal name"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"contactNumber",className:"modern-form-label",children:["Phone Number ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"contactNumber",name:"contactNumber",className:"modern-form-input",value:s.contactNumber,onChange:x,required:!0,maxLength:"20",placeholder:"e.g. +63 912 345 6789"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Primary contact number for the helper"})]})]}),(0,Jn.jsx)("div",{className:"form-grid form-grid-1",children:(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"address",className:"modern-form-label",children:["Address ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"address",name:"address",className:"modern-form-input",value:s.address,onChange:x,required:!0,maxLength:"255",placeholder:"e.g. 123 Main St, Barangay Sample, City, Province"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Complete residential address"})]})}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"emergencyContact",className:"modern-form-label",children:"Emergency Contact"}),(0,Jn.jsx)("input",{type:"text",id:"emergencyContact",name:"emergencyContact",className:"modern-form-input",value:s.emergencyContact,onChange:x,maxLength:"100",placeholder:"Emergency contact name"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Name of emergency contact person"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"emergencyContactNumber",className:"modern-form-label",children:"Emergency Contact Number"}),(0,Jn.jsx)("input",{type:"text",id:"emergencyContactNumber",name:"emergencyContactNumber",className:"modern-form-input",value:s.emergencyContactNumber,onChange:x,maxLength:"20",placeholder:"Emergency contact number"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Phone number of emergency contact"})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udcbc"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Employment Information"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Employment details and current status"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"dateHired",className:"modern-form-label",children:["Employment Date ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"date",id:"dateHired",name:"dateHired",className:"modern-form-input",value:s.dateHired,onChange:x,required:!0}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Date when the helper was hired"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"status",className:"modern-form-label",children:["Employment Status"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsxs)("select",{id:"status",name:"status",className:"modern-form-select",value:s.status,onChange:x,required:!0,children:[(0,Jn.jsx)("option",{value:"Active",children:"Active"}),(0,Jn.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,Jn.jsx)("option",{value:"On Leave",children:"On Leave"}),(0,Jn.jsx)("option",{value:"Terminated",children:"Terminated"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Current employment status"})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\ude97"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"License Information"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Helper license details and qualifications"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-3",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"licenseType",className:"modern-form-label",children:["License Type ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsxs)("select",{id:"licenseType",name:"licenseType",className:"modern-form-select",value:s.licenseType,onChange:x,required:!0,children:[(0,Jn.jsx)("option",{value:"Class C",children:"Class C"}),(0,Jn.jsx)("option",{value:"Class CE",children:"Class CE"})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Class C"===s.licenseType?"Can assist with mini trucks only":"Can assist with all truck types"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"licenseNumber",className:"modern-form-label",children:"License Number"}),(0,Jn.jsx)("input",{type:"text",id:"licenseNumber",name:"licenseNumber",className:"modern-form-input",value:s.licenseNumber,onChange:x,placeholder:"Enter license number"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Helper's license number (optional)"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"licenseExpiryDate",className:"modern-form-label",children:"License Expiry Date"}),(0,Jn.jsx)("input",{type:"date",id:"licenseExpiryDate",name:"licenseExpiryDate",className:"modern-form-input",value:s.licenseExpiryDate,onChange:x}),(0,Jn.jsx)("div",{className:"form-help-text",children:"When the license expires (optional)"})]})]}),(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-info",style:{marginTop:"16px"},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\u2139\ufe0f"}),(0,Jn.jsxs)("div",{className:"modern-alert-content",children:[(0,Jn.jsx)("div",{className:"modern-alert-title",children:"License Type Details"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("strong",{children:"Class C:"})," Can assist with mini trucks and light vehicles only",(0,Jn.jsx)("br",{}),(0,Jn.jsx)("strong",{children:"Class CE:"})," Can assist with all truck types including heavy vehicles"]})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udd10"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Account Credentials"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"Login credentials for the helper portal"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"HelperUserName",className:"modern-form-label",children:["Username ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"text",id:"HelperUserName",name:"HelperUserName",className:"modern-form-input",value:s.HelperUserName,onChange:x,required:!0,maxLength:"50",placeholder:"e.g. jdelacruz"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Unique username for system login"})]}),!r&&(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"HelperPassword",className:"modern-form-label",children:["Password ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,Jn.jsx)("input",{type:"password",id:"HelperPassword",name:"HelperPassword",className:"modern-form-input",value:s.HelperPassword||"",onChange:x,required:!0,maxLength:"255",placeholder:"Minimum 6 characters"}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Secure password for helper login"})]}),r&&(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{className:"modern-form-label",children:"Password"}),(0,Jn.jsxs)("div",{className:"modern-alert modern-alert-info",style:{margin:0},children:[(0,Jn.jsx)("div",{className:"modern-alert-icon",children:"\ud83d\udd12"}),(0,Jn.jsx)("div",{className:"modern-alert-content",children:(0,Jn.jsx)("div",{children:"Password cannot be changed by admin. Helper must change their own password through their account settings."})})]})]})]})]}),(0,Jn.jsxs)("div",{className:"form-section",children:[(0,Jn.jsxs)("div",{className:"form-section-header",children:[(0,Jn.jsx)("div",{className:"form-section-icon",children:"\ud83d\udcc4"}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h3",{className:"form-section-title",children:"Required Documents"}),(0,Jn.jsx)("p",{className:"form-section-description",children:"All documents are required for new helpers. Please upload clear, readable copies."})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"validId",className:"modern-form-label",children:["Valid ID ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),!p.validId&&!f.validId&&(0,Jn.jsxs)("div",{className:"modern-file-upload",children:[(0,Jn.jsx)("input",{type:"file",id:"validId",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>v(e,"validId")}),(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83e\udeaa"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload valid ID"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"PDF, JPG, PNG up to 25MB"})]})]}),p.validId&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83e\udeaa"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:p.validId.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>b("validId"),className:"file-remove-btn",children:"\u274c"})]}),f.validId&&!p.validId&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83e\udeaa"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current: ",f.validId.originalName]})]}),(0,Jn.jsxs)("div",{className:"existing-file-actions",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>w("validId"),className:"file-view-btn",children:"View"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>y("validId"),className:"file-replace-btn",children:"Replace"})]})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Upload valid government-issued ID (PDF, JPG, PNG - max 25MB)"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsxs)("label",{htmlFor:"barangayClearance",className:"modern-form-label",children:["Barangay Clearance"," ",(0,Jn.jsx)("span",{className:"required-indicator",children:"*"})]}),!p.barangayClearance&&!f.barangayClearance&&(0,Jn.jsxs)("div",{className:"modern-file-upload",children:[(0,Jn.jsx)("input",{type:"file",id:"barangayClearance",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>v(e,"barangayClearance")}),(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83d\udccb"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload barangay clearance"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"PDF, JPG, PNG up to 25MB"})]})]}),p.barangayClearance&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83d\udccb"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:p.barangayClearance.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>b("barangayClearance"),className:"file-remove-btn",children:"\u274c"})]}),f.barangayClearance&&!p.barangayClearance&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83d\udcc4"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current:"," ",f.barangayClearance.originalName]})]}),(0,Jn.jsxs)("div",{className:"existing-file-actions",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>w("barangayClearance"),className:"file-view-btn",children:"View"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>y("barangayClearance"),className:"file-replace-btn",children:"Replace"})]})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Upload barangay clearance certificate (PDF, JPG, PNG - max 25MB)"})]})]}),(0,Jn.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"medicalCertificate",className:"modern-form-label",children:"Medical Certificate"}),!p.medicalCertificate&&!f.medicalCertificate&&(0,Jn.jsxs)("div",{className:"modern-file-upload",children:[(0,Jn.jsx)("input",{type:"file",id:"medicalCertificate",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>v(e,"medicalCertificate")}),(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83c\udfe5"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload medical certificate"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"PDF, JPG, PNG up to 25MB"})]})]}),p.medicalCertificate&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83c\udfe5"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:p.medicalCertificate.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>b("medicalCertificate"),className:"file-remove-btn",children:"\u274c"})]}),f.medicalCertificate&&!p.medicalCertificate&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83c\udfe5"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current:"," ",f.medicalCertificate.originalName]})]}),(0,Jn.jsxs)("div",{className:"existing-file-actions",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>w("medicalCertificate"),className:"file-view-btn",children:"View"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>y("medicalCertificate"),className:"file-replace-btn",children:"Replace"})]})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Optional: Upload medical fitness certificate (PDF, JPG, PNG - max 25MB)"})]}),(0,Jn.jsxs)("div",{className:"modern-form-group",children:[(0,Jn.jsx)("label",{htmlFor:"helperLicense",className:"modern-form-label",children:"Helper License"}),!p.helperLicense&&!f.helperLicense&&(0,Jn.jsxs)("div",{className:"modern-file-upload",children:[(0,Jn.jsx)("input",{type:"file",id:"helperLicense",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>v(e,"helperLicense")}),(0,Jn.jsx)("div",{className:"file-upload-icon",children:"\ud83d\udcdc"}),(0,Jn.jsxs)("div",{className:"file-upload-text",children:[(0,Jn.jsx)("div",{className:"file-upload-primary",children:"Click to upload helper license"}),(0,Jn.jsx)("div",{className:"file-upload-secondary",children:"PDF, JPG, PNG up to 25MB"})]})]}),p.helperLicense&&(0,Jn.jsxs)("div",{className:"file-preview",children:[(0,Jn.jsxs)("div",{className:"file-preview-info",children:[(0,Jn.jsx)("div",{className:"file-preview-icon",children:"\ud83d\udcdc"}),(0,Jn.jsx)("div",{className:"file-preview-name",children:p.helperLicense.name})]}),(0,Jn.jsx)("button",{type:"button",onClick:()=>b("helperLicense"),className:"file-remove-btn",children:"\u274c"})]}),f.helperLicense&&!p.helperLicense&&(0,Jn.jsxs)("div",{className:"existing-file",children:[(0,Jn.jsxs)("div",{className:"existing-file-info",children:[(0,Jn.jsx)("div",{className:"existing-file-icon",children:"\ud83d\udcdc"}),(0,Jn.jsxs)("div",{className:"existing-file-name",children:["Current:"," ",f.helperLicense.originalName]})]}),(0,Jn.jsxs)("div",{className:"existing-file-actions",children:[(0,Jn.jsx)("button",{type:"button",onClick:()=>w("helperLicense"),className:"file-view-btn",children:"View"}),(0,Jn.jsx)("button",{type:"button",onClick:()=>y("helperLicense"),className:"file-replace-btn",children:"Replace"})]})]}),(0,Jn.jsx)("div",{className:"form-help-text",children:"Optional: Upload helper license if applicable (PDF, JPG, PNG - max 25MB)"})]})]})]}),(0,Jn.jsxs)("div",{className:"modern-btn-group",children:[(0,Jn.jsx)("button",{type:"button",className:"modern-btn modern-btn-secondary",onClick:()=>n.push("/admin/helpers"),children:"\u2190 Cancel"}),(0,Jn.jsx)("button",{type:"submit",className:"modern-btn modern-btn-primary",children:r?"\ud83d\udcbe Update Helper":"\u2705 Add Helper"})]})]})})]})},pE=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)("all");ce();(0,t.useEffect)(()=>{(async()=>{try{a(!0),i(null),console.log("Fetching operators from API...");const e=Yn;console.log("API Base URL:",e);const t=await Gn.get("".concat(e,"/api/operators"));console.log("API Response:",t),t.data&&Array.isArray(t.data)?(n(t.data),console.log("Operators loaded:",t.data.length)):(console.warn("API returned unexpected data format:",t.data),n([])),a(!1)}catch(t){var e;if(console.error("Error fetching operators:",t),t.response)i("Server error (".concat(t.response.status,"): ").concat((null===(e=t.response.data)||void 0===e?void 0:e.message)||"Unknown error"));else t.request?i("No response received from server. Please check your API connection."):i("Request error: ".concat(t.message));a(!1),n([])}})()},[]);const u=(0,t.useMemo)(()=>{let t=e;return"all"!==c&&(t=t.filter(e=>{var t;return(null===(t=e.OperatorStatus)||void 0===t?void 0:t.toLowerCase())===c.toLowerCase()})),o&&(t=t.filter(e=>{var t,n,r,a;return(null===(t=e.OperatorName)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(n=e.OperatorUserName)||void 0===n?void 0:n.toLowerCase().includes(o.toLowerCase()))||(null===(r=e.OperatorNumber)||void 0===r?void 0:r.includes(o))||(null===(a=e.OperatorAddress)||void 0===a?void 0:a.toLowerCase().includes(o.toLowerCase()))})),t},[e,o,c]),h=((()=>{const t=e.length,n=e.filter(e=>{var t;return"active"===(null===(t=e.OperatorStatus)||void 0===t?void 0:t.toLowerCase())}).length,r=e.filter(e=>{var t;return"inactive"===(null===(t=e.OperatorStatus)||void 0===t?void 0:t.toLowerCase())}).length,a=e.filter(e=>{var t;return"pending"===(null===(t=e.OperatorStatus)||void 0===t?void 0:t.toLowerCase())}).length})(),[...new Set(e.map(e=>e.OperatorStatus).filter(Boolean))]),p=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Unknown",m=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":return"status-active";case"inactive":return"status-inactive";case"pending":return"status-pending";default:return"status-unknown"}};return r?(0,Jn.jsx)("div",{className:"loading",children:"Loading operators data..."}):(0,Jn.jsxs)("div",{className:"admin-page-container",children:[(0,Jn.jsx)(Fm,{currentUser:null}),(0,Jn.jsxs)("div",{className:"admin-content",children:[(0,Jn.jsxs)("div",{className:"greeting-section",children:[(0,Jn.jsx)("h2",{className:"greeting-text",children:"Operators Management"}),(0,Jn.jsx)("p",{className:"greeting-subtitle",children:"Manage operator accounts and status"}),(0,Jn.jsxs)("div",{className:"summary-cards",children:[(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(Kr,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:e.length}),(0,Jn.jsx)("div",{className:"card-label",children:"Total Operators"}),(0,Jn.jsxs)("div",{className:"card-change positive",children:[(0,Jn.jsx)(cr,{size:12}),"+2.3%"]})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(fr,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:e.filter(e=>"active"===e.status).length}),(0,Jn.jsx)("div",{className:"card-label",children:"Active"}),(0,Jn.jsxs)("div",{className:"card-change positive",children:[(0,Jn.jsx)(cr,{size:12}),"+1.7%"]})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(yr,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:e.filter(e=>"inactive"===e.status).length}),(0,Jn.jsx)("div",{className:"card-label",children:"Inactive"}),(0,Jn.jsxs)("div",{className:"card-change neutral",children:[(0,Jn.jsx)(ir,{size:12}),"0.0%"]})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(Pr,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:e.filter(e=>"dispatcher"===e.role).length}),(0,Jn.jsx)("div",{className:"card-label",children:"Dispatchers"}),(0,Jn.jsxs)("div",{className:"card-change positive",children:[(0,Jn.jsx)(cr,{size:12}),"+0.8%"]})]})]})]})]}),s&&(0,Jn.jsxs)("div",{className:"error-message",children:[s,(0,Jn.jsx)("div",{style:{marginTop:"10px",fontSize:"12px"},children:(0,Jn.jsx)("button",{onClick:()=>window.location.reload(),className:"btn btn-secondary btn-sm",children:"Refresh Page"})}),(0,Jn.jsx)("button",{onClick:()=>i(null),className:"close-btn",children:"\xd7"})]}),(0,Jn.jsxs)("div",{className:"modern-filters",children:[(0,Jn.jsxs)("div",{className:"filters-header",children:[(0,Jn.jsx)("div",{className:"filters-header-icon",children:"\ud83d\udd0d"}),(0,Jn.jsx)("h3",{children:"Search & Filter"})]}),(0,Jn.jsxs)("div",{className:"filters-grid",children:[(0,Jn.jsxs)("div",{className:"search-container",children:[(0,Jn.jsx)("label",{className:"search-label",children:"Search"}),(0,Jn.jsxs)("div",{className:"search-input-wrapper",children:[(0,Jn.jsx)("div",{className:"search-icon",children:"\ud83d\udd0d"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by name, username, phone, or address...",value:o,onChange:e=>l(e.target.value),className:"modern-search-input"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{className:"filter-label",children:"Status"}),(0,Jn.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"modern-filter-select",children:[(0,Jn.jsx)("option",{value:"all",children:"All Status"}),h.map(e=>(0,Jn.jsx)("option",{value:e,children:p(e)},e))]})]})]}),(0,Jn.jsxs)("div",{className:"filter-actions",children:[(0,Jn.jsx)("button",{className:"btn btn-secondary",onClick:()=>{l(""),d("all")},children:"Clear All Filters"}),(0,Jn.jsxs)("div",{className:"filter-summary",children:["Showing ",u.length," of ",e.length," operators"]})]})]}),0!==u.length||r?(0,Jn.jsx)("div",{className:"table-responsive",children:(0,Jn.jsxs)("table",{className:"data-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"Operator ID"}),(0,Jn.jsx)("th",{children:"Name"}),(0,Jn.jsx)("th",{children:"Username"}),(0,Jn.jsx)("th",{children:"Address"}),(0,Jn.jsx)("th",{children:"Phone Number"}),(0,Jn.jsx)("th",{children:"Employment Date"}),(0,Jn.jsx)("th",{children:"Status"}),(0,Jn.jsx)("th",{children:"Actions"})]})}),(0,Jn.jsx)("tbody",{children:u.map(t=>(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:t.OperatorID}),(0,Jn.jsx)("td",{children:t.OperatorName}),(0,Jn.jsx)("td",{children:t.OperatorUserName}),(0,Jn.jsx)("td",{children:t.OperatorAddress}),(0,Jn.jsx)("td",{children:t.OperatorNumber}),(0,Jn.jsx)("td",{children:t.OperatorEmploymentDate?new Date(t.OperatorEmploymentDate).toLocaleDateString():"-"}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"status-badge ".concat(m(t.OperatorStatus)),children:p(t.OperatorStatus)})}),(0,Jn.jsxs)("td",{className:"actions-cell",children:[(0,Jn.jsx)(ve,{to:"/admin/operators/edit/".concat(t.OperatorID),className:"action-btn edit-btn",title:"Edit Operator",children:"Edit"}),(0,Jn.jsx)("button",{onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this operator? This action cannot be undone."))try{const r=Yn;await Gn.delete("".concat(r,"/api/operators/").concat(t)),n(e.filter(e=>e.OperatorID!==t))}catch(r){console.error("Error deleting operator:",r),alert("Failed to delete operator. Please try again.")}})(t.OperatorID),className:"action-btn delete-btn",title:"Delete Operator",children:"Delete"})]})]},t.OperatorID))})]})}):(0,Jn.jsxs)("div",{className:"no-data",children:[o||"all"!==c?"No operators found matching the current filters.":"No operator records found. Add a new operator to get started.",!s&&!o&&"all"===c&&(0,Jn.jsx)("div",{style:{marginTop:"10px",fontSize:"12px",color:"#666"},children:"If you believe this is an error, check console for API debugging information."})]})]})]})},mE=()=>{const{id:e}=ue(),n=ce(),r=Boolean(e),a=Yn,[s,i]=(0,t.useState)({OperatorName:"",OperatorAddress:"",OperatorNumber:"",OperatorEmploymentDate:"",OperatorDocuments:"",OperatorUserName:"",OperatorPassword:"",OperatorStatus:"active"}),[o,l]=(0,t.useState)(r),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{if(r)try{l(!0),console.log("Fetching operator with ID: ".concat(e)),console.log("API Base URL:",a);const t=await Gn.get("".concat(a,"/api/operators/").concat(e));console.log("API Response:",t);const n=t.data;n.OperatorEmploymentDate&&(n.OperatorEmploymentDate=new Date(n.OperatorEmploymentDate).toISOString().split("T")[0]),i(n)}catch(t){console.error("Error fetching operator:",t),t.response?d("Server error (".concat(t.response.status,"): ").concat(t.response.data.sqlMessage||t.response.data.message)):t.request?d("No response received from server. Please check your API connection."):d("Request error: ".concat(t.message))}finally{l(!1)}})()},[e,r,a]);const p=e=>{const{name:t,value:n}=e.target;i(e=>Ne(Ne({},e),{},{[t]:n}))};return o?(0,Jn.jsx)("div",{className:"loading",children:"Loading operator data..."}):(0,Jn.jsxs)("div",{className:"form-container",children:[(0,Jn.jsx)("div",{className:"page-header",children:(0,Jn.jsx)("h1",{children:r?"Edit Operator":"Add New Operator"})}),c&&(0,Jn.jsxs)("div",{className:"error-message",children:[c,(0,Jn.jsxs)("div",{style:{marginTop:"10px",fontSize:"12px"},children:[(0,Jn.jsx)("button",{onClick:()=>d(null),children:"Dismiss"}),(0,Jn.jsx)("button",{onClick:()=>window.location.reload(),style:{marginLeft:"10px"},children:"Refresh Page"})]})]}),u&&(0,Jn.jsx)("div",{className:"success-message",children:u}),(0,Jn.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{console.log("Form submission:",r?"UPDATE":"CREATE",s);const t=r?"".concat(a,"/api/operators/").concat(e):"".concat(a,"/api/operators"),o=r?"put":"post",l=await Gn[o](t,s);console.log(r?"Update response:":"Create response:",l),h(r?"Operator updated successfully!":"Operator added successfully!"),d(null),r||i({OperatorName:"",OperatorAddress:"",OperatorNumber:"",OperatorEmploymentDate:"",OperatorDocuments:"",OperatorUserName:"",OperatorPassword:"",OperatorStatus:"active"}),setTimeout(()=>{n.push("/admin/operators")},1500)}catch(o){console.error("Error saving operator:",o),o.response?d("Server error (".concat(o.response.status,"): ").concat(o.response.data.sqlMessage||o.response.data.message)):o.request?d("No response received from server. Please check your API connection."):d("Request error: ".concat(o.message))}},className:"data-form",children:[(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"OperatorName",children:"Operator Name"}),(0,Jn.jsx)("input",{type:"text",id:"OperatorName",name:"OperatorName",value:s.OperatorName,onChange:p,required:!0,maxLength:"100"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"OperatorAddress",children:"Address"}),(0,Jn.jsx)("input",{type:"text",id:"OperatorAddress",name:"OperatorAddress",value:s.OperatorAddress,onChange:p,required:!0,maxLength:"255"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"OperatorNumber",children:"Phone Number"}),(0,Jn.jsx)("input",{type:"text",id:"OperatorNumber",name:"OperatorNumber",value:s.OperatorNumber,onChange:p,required:!0,maxLength:"20"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"OperatorEmploymentDate",children:"Employment Date"}),(0,Jn.jsx)("input",{type:"date",id:"OperatorEmploymentDate",name:"OperatorEmploymentDate",value:s.OperatorEmploymentDate,onChange:p,required:!0})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"OperatorDocuments",children:"Documents (Optional)"}),(0,Jn.jsx)("input",{type:"text",id:"OperatorDocuments",name:"OperatorDocuments",value:s.OperatorDocuments||"",onChange:p,maxLength:"255"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"OperatorUserName",children:"Username"}),(0,Jn.jsx)("input",{type:"text",id:"OperatorUserName",name:"OperatorUserName",value:s.OperatorUserName,onChange:p,required:!0,maxLength:"50"})]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"OperatorPassword",children:r?"Password (Leave blank to keep current)":"Password"}),(0,Jn.jsx)("input",Ne(Ne({type:"password",id:"OperatorPassword",name:"OperatorPassword",value:s.OperatorPassword||"",onChange:p},!r&&{required:!0}),{},{maxLength:"255"}))]}),(0,Jn.jsxs)("div",{className:"form-group",children:[(0,Jn.jsx)("label",{htmlFor:"OperatorStatus",children:"Status"}),(0,Jn.jsxs)("select",{id:"OperatorStatus",name:"OperatorStatus",value:s.OperatorStatus,onChange:p,required:!0,children:[(0,Jn.jsx)("option",{value:"active",children:"Active"}),(0,Jn.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,Jn.jsxs)("div",{className:"form-actions",children:[(0,Jn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>n.push("/admin/operators"),children:"Cancel"}),(0,Jn.jsx)("button",{type:"submit",className:"btn btn-primary",children:r?"Update Operator":"Add Operator"})]})]})]})},fE=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),o=async()=>{try{a(!0),i(null);const e=await Gn.get("/api/audit/debug/logout");n(e.data.events||[]),a(!1)}catch(e){console.error("Error fetching logout events:",e),i("Failed to load logout events: "+e.message),a(!1)}};return(0,Jn.jsxs)("div",{style:{padding:"20px"},children:[(0,Jn.jsx)("h1",{children:"Audit Trail Diagnostic"}),(0,Jn.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Jn.jsx)("button",{onClick:async()=>{try{a(!0),i(null);const e=await Gn.get("/api/audit/debug");n(e.data),a(!1)}catch(e){console.error("Error fetching audit data:",e),i("Failed to load audit data: "+e.message),a(!1)}},disabled:r,style:{marginRight:"10px",padding:"8px 16px"},children:"Fetch All Audit Events"}),(0,Jn.jsx)("button",{onClick:o,disabled:r,style:{marginRight:"10px",padding:"8px 16px"},children:"Fetch Only Logout Events"}),(0,Jn.jsx)("button",{onClick:async()=>{try{a(!0),i(null);if(!JSON.parse(localStorage.getItem("currentUser")||"{}").id)return i("No user found in localStorage"),void a(!1);const e=localStorage.getItem("token");await Gn.post("/api/auth/logout",{},{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});a(!1),alert("Logout event created! Check logs for details."),o()}catch(e){console.error("Error creating logout event:",e),i("Failed to create logout event: "+e.message),a(!1)}},disabled:r,style:{padding:"8px 16px",backgroundColor:"#f0ad4e",color:"white",border:"none"},children:"Create Test Logout Event"})]}),r&&(0,Jn.jsx)("p",{children:"Loading..."}),s&&(0,Jn.jsxs)("div",{style:{backgroundColor:"#f8d7da",padding:"15px",borderRadius:"5px",marginBottom:"20px"},children:[(0,Jn.jsx)("strong",{children:"Error:"})," ",s]}),(0,Jn.jsxs)("div",{children:[(0,Jn.jsxs)("h2",{children:["Found ",Array.isArray(e)?e.length:"Unknown"," Events"]}),Array.isArray(e)&&e.length>0?(0,Jn.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{style:{backgroundColor:"#f5f5f5"},children:[(0,Jn.jsx)("th",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:"Timestamp"}),(0,Jn.jsx)("th",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:"User"}),(0,Jn.jsx)("th",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:"Action"}),(0,Jn.jsx)("th",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:"Details"})]})}),(0,Jn.jsx)("tbody",{children:e.map((e,t)=>(0,Jn.jsxs)("tr",{style:{backgroundColor:"logout"===e.action?"#d4edda":"white"},children:[(0,Jn.jsx)("td",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:"string"===typeof e.timestamp?new Date(e.timestamp).toLocaleString():"Unknown"}),(0,Jn.jsx)("td",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:e.username}),(0,Jn.jsx)("td",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:e.action}),(0,Jn.jsx)("td",{style:{padding:"10px",textAlign:"left",border:"1px solid #ddd"},children:(0,Jn.jsx)("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:JSON.stringify(e,null,2)})})]},t))})]}):(0,Jn.jsx)("p",{children:"No audit data found."})]})]})};function gE(e,n){var r,a;return t.isValidElement(e)&&-1!==n.indexOf(null!==(r=e.type.muiName)&&void 0!==r?r:null===(a=e.type)||void 0===a||null===(a=a._payload)||void 0===a||null===(a=a.value)||void 0===a?void 0:a.muiName)}const xE=mA();function vE(e){let{props:t,name:n,defaultTheme:r,themeId:a}=e,s=v_(r);return a&&(s=s[a]||s),function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?NA(t.components[n].defaultProps,r):r}({theme:s,name:n,props:t})}const bE=(e,t,n)=>{const r=e.keys[0];if(Array.isArray(t))t.forEach((t,r)=>{n((t,n)=>{r<=e.keys.length-1&&(0===r?Object.assign(t,n):t[e.up(e.keys[r])]=n)},t)});else if(t&&"object"===typeof t){const i=Object.keys(t).length>e.keys.length?e.keys:(a=e.keys,s=Object.keys(t),a.filter(e=>s.includes(e)));i.forEach(a=>{if(e.keys.includes(a)){const s=t[a];void 0!==s&&n((t,n)=>{r===a?Object.assign(t,n):t[e.up(a)]=n},s)}})}else"number"!==typeof t&&"string"!==typeof t||n((e,t)=>{Object.assign(e,t)},t);var a,s};function yE(e){return"--Grid-".concat(e,"Spacing")}function wE(e){return"--Grid-parent-".concat(e,"Spacing")}const jE="--Grid-columns",NE="--Grid-parent-columns",kE=e=>{let{theme:t,ownerState:n}=e;const r={};return bE(t.breakpoints,n.size,(e,t)=>{let n={};"grow"===t&&(n={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(n={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"===typeof t&&(n={flexGrow:0,flexBasis:"auto",width:"calc(100% * ".concat(t," / var(").concat(NE,") - (var(").concat(NE,") - ").concat(t,") * (var(").concat(wE("column"),") / var(").concat(NE,")))")}),e(r,n)}),r},SE=e=>{let{theme:t,ownerState:n}=e;const r={};return bE(t.breakpoints,n.offset,(e,t)=>{let n={};"auto"===t&&(n={marginLeft:"auto"}),"number"===typeof t&&(n={marginLeft:0===t?"0px":"calc(100% * ".concat(t," / var(").concat(NE,") + var(").concat(wE("column"),") * ").concat(t," / var(").concat(NE,"))")}),e(r,n)}),r},CE=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={[jE]:12};return bE(t.breakpoints,n.columns,(e,t)=>{const n=null!==t&&void 0!==t?t:12;e(r,{[jE]:n,"> *":{[NE]:n}})}),r},_E=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={};return bE(t.breakpoints,n.rowSpacing,(e,n)=>{var a;const s="string"===typeof n?n:null===(a=t.spacing)||void 0===a?void 0:a.call(t,n);e(r,{[yE("row")]:s,"> *":{[wE("row")]:s}})}),r},PE=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={};return bE(t.breakpoints,n.columnSpacing,(e,n)=>{var a;const s="string"===typeof n?n:null===(a=t.spacing)||void 0===a?void 0:a.call(t,n);e(r,{[yE("column")]:s,"> *":{[wE("column")]:s}})}),r},AE=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={};return bE(t.breakpoints,n.direction,(e,t)=>{e(r,{flexDirection:t})}),r},DE=e=>{let{ownerState:t}=e;return Ne({minWidth:0,boxSizing:"border-box"},t.container&&Ne(Ne({display:"flex",flexWrap:"wrap"},t.wrap&&"wrap"!==t.wrap&&{flexWrap:t.wrap}),{},{gap:"var(".concat(yE("row"),") var(").concat(yE("column"),")")}))},TE=e=>{const t=[];return Object.entries(e).forEach(e=>{let[n,r]=e;!1!==r&&void 0!==r&&t.push("grid-".concat(n,"-").concat(String(r)))}),t},LE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xs";function n(e){return void 0!==e&&("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e&&e>0)}if(n(e))return["spacing-".concat(t,"-").concat(String(e))];if("object"===typeof e&&!Array.isArray(e)){const t=[];return Object.entries(e).forEach(e=>{let[r,a]=e;n(a)&&t.push("spacing-".concat(r,"-").concat(String(a)))}),t}return[]},EE=e=>void 0===e?[]:"object"===typeof e?Object.entries(e).map(e=>{let[t,n]=e;return"direction-".concat(t,"-").concat(n)}):["direction-xs-".concat(String(e))];const IE=["className","children","columns","container","component","direction","wrap","size","offset","spacing","rowSpacing","columnSpacing","unstable_level"],RE=f_(),ME=xE("div",{name:"MuiGrid",slot:"Root"});function FE(e){return vE({props:e,name:"MuiGrid",defaultTheme:RE})}const OE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=ME,useThemeProps:r=FE,useTheme:a=v_,componentName:s="MuiGrid"}=e;function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;const r={};return null===e||(Array.isArray(e)?e.forEach((e,a)=>{null!==e&&n(e)&&t.keys[a]&&(r[t.keys[a]]=e)}):"object"===typeof e?Object.keys(e).forEach(t=>{const a=e[t];null!==a&&void 0!==a&&n(a)&&(r[t]=a)}):r[t.keys[0]]=e),r}const o=n(CE,PE,_E,kE,AE,DE,SE),l=t.forwardRef(function(e,n){var l,c,d,u,h,p;const m=a(),f=l_(r(e));!function(e,t){const n=[];void 0!==e.item&&(delete e.item,n.push("item")),void 0!==e.zeroMinWidth&&(delete e.zeroMinWidth,n.push("zeroMinWidth")),t.keys.forEach(t=>{void 0!==e[t]&&(n.push(t),delete e[t])})}(f,m.breakpoints);const{className:g,children:x,columns:v=12,container:b=!1,component:y="div",direction:w="row",wrap:j="wrap",size:N={},offset:k={},spacing:S=0,rowSpacing:C=S,columnSpacing:_=S,unstable_level:P=0}=f,A=ke(f,IE),D=i(N,m.breakpoints,e=>!1!==e),T=i(k,m.breakpoints),L=null!==(l=e.columns)&&void 0!==l?l:P?void 0:v,E=null!==(c=e.spacing)&&void 0!==c?c:P?void 0:S,I=null!==(d=null!==(u=e.rowSpacing)&&void 0!==u?u:e.spacing)&&void 0!==d?d:P?void 0:C,R=null!==(h=null!==(p=e.columnSpacing)&&void 0!==p?p:e.spacing)&&void 0!==h?h:P?void 0:_,M=Ne(Ne({},f),{},{level:P,columns:L,container:b,direction:w,wrap:j,spacing:E,rowSpacing:I,columnSpacing:R,size:D,offset:T}),F=((e,t)=>{const{container:n,direction:r,spacing:a,wrap:i,size:o}=e;return ZP({root:["root",n&&"container","wrap"!==i&&"wrap-xs-".concat(String(i)),...EE(r),...TE(o),...n?LE(a,t.breakpoints.keys[0]):[]]},e=>GP(s,e),{})})(M,m);return(0,Jn.jsx)(o,Ne(Ne({ref:n,as:y,ownerState:M,className:pk(F.root,g)},A),{},{children:t.Children.map(x,e=>{var n,r;return t.isValidElement(e)&&gE(e,["Grid"])&&b&&e.props.container?t.cloneElement(e,{unstable_level:null!==(n=null===(r=e.props)||void 0===r?void 0:r.unstable_level)&&void 0!==n?n:P+1}):e})}))});return l.muiName="Grid",l}({createStyledComponent:yA("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>CA({props:e,name:"MuiGrid"}),useTheme:iD});const zE=OE;function BE(e){return GP("MuiCard",e)}KP("MuiCard",["root"]);const UE=["className","raised"],qE=yA(uD,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),WE=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiCard"}),{className:r,raised:a=!1}=n,s=ke(n,UE),i=Ne(Ne({},n),{},{raised:a}),o=(e=>{const{classes:t}=e;return ZP({root:["root"]},BE,t)})(i);return(0,Jn.jsx)(qE,Ne({className:pk(o.root,r),elevation:a?8:void 0,ref:t,ownerState:i},s))}),HE=WE;function VE(e){return GP("MuiCardContent",e)}KP("MuiCardContent",["root"]);const GE=["className","component"],KE=yA("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),YE=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiCardContent"}),{className:r,component:a="div"}=n,s=ke(n,GE),i=Ne(Ne({},n),{},{component:a}),o=(e=>{const{classes:t}=e;return ZP({root:["root"]},VE,t)})(i);return(0,Jn.jsx)(KE,Ne({as:a,className:pk(o.root,r),ownerState:i,ref:t},s))}),$E=YE;function JE(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function XE(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(JE(e.value)&&""!==e.value||t&&JE(e.defaultValue)&&""!==e.defaultValue)}const QE=gE;const ZE=t.createContext(void 0);function eI(e){return GP("MuiFormControl",e)}KP("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const tI=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],nI=yA("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["margin".concat(_A(n.margin))],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),rI=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiFormControl"}),{children:a,className:s,color:i="primary",component:o="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:u=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:f="medium",variant:g="outlined"}=r,x=ke(r,tI),v=Ne(Ne({},r),{},{color:i,component:o,disabled:l,error:c,fullWidth:u,hiddenLabel:h,margin:p,required:m,size:f,variant:g}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return ZP({root:["root","none"!==n&&"margin".concat(_A(n)),r&&"fullWidth"]},eI,t)})(v),[y,w]=t.useState(()=>{let e=!1;return a&&t.Children.forEach(a,t=>{if(!QE(t,["Input","Select"]))return;const n=QE(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}),e}),[j,N]=t.useState(()=>{let e=!1;return a&&t.Children.forEach(a,t=>{QE(t,["Input","Select"])&&(XE(t.props,!0)||XE(t.props.inputProps,!0))&&(e=!0)}),e}),[k,S]=t.useState(!1);l&&k&&S(!1);const C=void 0===d||l?k:d;let _;t.useRef(!1);const P=t.useCallback(()=>{N(!0)},[]),A=t.useCallback(()=>{N(!1)},[]),D=t.useMemo(()=>({adornedStart:y,setAdornedStart:w,color:i,disabled:l,error:c,filled:j,focused:C,fullWidth:u,hiddenLabel:h,size:f,onBlur:()=>{S(!1)},onFocus:()=>{S(!0)},onEmpty:A,onFilled:P,registerEffect:_,required:m,variant:g}),[y,i,l,c,j,C,u,h,_,A,P,m,f,g]);return(0,Jn.jsx)(ZE.Provider,{value:D,children:(0,Jn.jsx)(nI,Ne(Ne({as:o,ownerState:v,className:pk(b.root,s),ref:n},x),{},{children:a}))})}),aI=rI;function sI(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e),{})}function iI(){return t.useContext(ZE)}function oI(e){return GP("MuiFormLabel",e)}const lI=KP("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),cI=["children","className","color","component","disabled","error","filled","focused","required"],dI=yA("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled]}})(jA(e=>{let{theme:t}=e;return Ne(Ne({color:(t.vars||t).palette.text.secondary},t.typography.body1),{},{lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(PA()).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(lI.focused)]:{color:(t.vars||t).palette[n].main}}}}),{props:{},style:{["&.".concat(lI.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(lI.error)]:{color:(t.vars||t).palette.error.main}}}]})})),uI=yA("span",{name:"MuiFormLabel",slot:"Asterisk"})(jA(e=>{let{theme:t}=e;return{["&.".concat(lI.error)]:{color:(t.vars||t).palette.error.main}}})),hI=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiFormLabel"}),{children:r,className:a,color:s,component:i="label",disabled:o,error:l,filled:c,focused:d,required:u}=n,h=ke(n,cI),p=sI({props:n,muiFormControl:iI(),states:["color","required","focused","disabled","error","filled"]}),m=Ne(Ne({},n),{},{color:p.color||"primary",component:i,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required}),f=(e=>{const{classes:t,color:n,focused:r,disabled:a,error:s,filled:i,required:o}=e;return ZP({root:["root","color".concat(_A(n)),a&&"disabled",s&&"error",i&&"filled",r&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]},oI,t)})(m);return(0,Jn.jsxs)(dI,Ne(Ne({as:i,ownerState:m,className:pk(f.root,a),ref:t},h),{},{children:[r,p.required&&(0,Jn.jsxs)(uI,{ownerState:m,"aria-hidden":!0,className:f.asterisk,children:["\u2009","*"]})]}))}),pI=hI;function mI(e){return GP("MuiInputLabel",e)}KP("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const fI=["disableAnimation","margin","shrink","variant","className"],gI=yA(pI,{shouldForwardProp:e=>bA(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(lI.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(jA(e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"filled"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:n,size:r}=e;return"filled"===t&&n.shrink&&"small"===r},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"outlined"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}})),xI=t.forwardRef(function(e,t){const n=CA({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:a,shrink:s,variant:i,className:o}=n,l=ke(n,fI),c=iI();let d=s;"undefined"===typeof d&&c&&(d=c.filled||c.focused||c.adornedStart);const u=sI({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),h=Ne(Ne({},n),{},{disableAnimation:r,formControl:c,shrink:d,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),p=(e=>{const{classes:t,formControl:n,size:r,shrink:a,disableAnimation:s,variant:i,required:o}=e,l=ZP({root:["root",n&&"formControl",!s&&"animated",a&&"shrink",r&&"medium"!==r&&"size".concat(_A(r)),i],asterisk:[o&&"asterisk"]},mI,t);return Ne(Ne({},t),l)})(h);return(0,Jn.jsx)(gI,Ne(Ne({"data-shrink":d,ref:t,className:pk(p.root,o)},l),{},{ownerState:h,classes:p}))}),vI=xI;function bI(e){var n;return parseInt(t.version,10)>=19?(null===e||void 0===e||null===(n=e.props)||void 0===n?void 0:n.ref)||null:(null===e||void 0===e?void 0:e.ref)||null}function yI(e){return e&&e.ownerDocument||document}const wI=yI;const jI=t.createContext();const NI=()=>{const e=t.useContext(jI);return null!==e&&void 0!==e&&e},kI=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const SI=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:a,skipResolvingSlotProps:s=!1}=e,i=ke(e,kI),o=s?{}:fD(r,a),{props:l,internalRef:c}=vD(Ne(Ne({},i),{},{externalSlotProps:o})),d=hD(c,null===o||void 0===o?void 0:o.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return mD(n,Ne(Ne({},l),{},{ref:d}),a)};const CI=t.createContext({});function _I(e){return GP("MuiList",e)}KP("MuiList",["root","padding","dense","subheader"]);const PI=["children","className","component","dense","disablePadding","subheader"],AI=yA("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),DI=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiList"}),{children:a,className:s,component:i="ul",dense:o=!1,disablePadding:l=!1,subheader:c}=r,d=ke(r,PI),u=t.useMemo(()=>({dense:o}),[o]),h=Ne(Ne({},r),{},{component:i,dense:o,disablePadding:l}),p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:a}=e;return ZP({root:["root",!n&&"padding",r&&"dense",a&&"subheader"]},_I,t)})(h);return(0,Jn.jsx)(CI.Provider,{value:u,children:(0,Jn.jsxs)(AI,Ne(Ne({as:i,className:pk(p.root,s),ref:n,ownerState:h},d),{},{children:[c,a]}))})}),TI=DI;const LI=function(e){let t=e.activeElement;for(;null!=(null===(n=t)||void 0===n||null===(n=n.shadowRoot)||void 0===n?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t};function EI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const II=EI,RI=TD;function MI(e){return yI(e).defaultView||window}const FI=MI,OI=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function zI(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function BI(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function UI(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function qI(e,t,n,r,a,s){let i=!1,o=a(e,t,!!t&&n);for(;o;){if(o===e.firstChild){if(i)return!1;i=!0}const t=!r&&(o.disabled||"true"===o.getAttribute("aria-disabled"));if(o.hasAttribute("tabindex")&&UI(o,s)&&!t)return o.focus(),!0;o=a(e,o,n)}return!1}const WI=t.forwardRef(function(e,n){const{actions:r,autoFocus:a=!1,autoFocusItem:s=!1,children:i,className:o,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:u="selectedMenu"}=e,h=ke(e,OI),p=t.useRef(null),m=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});RI(()=>{a&&p.current.focus()},[a]),t.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t="".concat(II(FI(e)),"px");p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width="calc(100% + ".concat(t,")")}return p.current}}),[]);const f=DD(p,n);let g=-1;t.Children.forEach(i,(e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===u&&e.props.selected||-1===g)&&(g=n),g===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=i.length&&(g=-1))):g===n&&(g+=1,g>=i.length&&(g=-1))});const x=t.Children.map(i,(e,n)=>{if(n===g){const n={};return s&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===u&&(n.tabIndex=0),t.cloneElement(e,n)}return e});return(0,Jn.jsx)(TI,Ne(Ne({role:"menu",ref:f,className:o,onKeyDown:e=>{const t=p.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(d&&d(e));const r=LI(wI(t));if("ArrowDown"===n)e.preventDefault(),qI(t,r,c,l,zI);else if("ArrowUp"===n)e.preventDefault(),qI(t,r,c,l,BI);else if("Home"===n)e.preventDefault(),qI(t,null,c,l,zI);else if("End"===n)e.preventDefault(),qI(t,null,c,l,BI);else if(1===n.length){const a=m.current,s=n.toLowerCase(),i=performance.now();a.keys.length>0&&(i-a.lastTime>500?(a.keys=[],a.repeating=!0,a.previousKeyMatched=!0):a.repeating&&s!==a.keys[0]&&(a.repeating=!1)),a.lastTime=i,a.keys.push(s);const o=r&&!a.repeating&&UI(r,a);a.previousKeyMatched&&(o||qI(t,r,!1,l,zI,a))?e.preventDefault():a.previousKeyMatched=!1}d&&d(e)},tabIndex:a?0:-1},h),{},{children:x}))}),HI=WI;function VI(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];clearTimeout(t),t=setTimeout(()=>{e.apply(this,a)},n)}return r.clear=()=>{clearTimeout(t)},r}const GI=VI,KI=!1;var YI="unmounted",$I="exited",JI="entering",XI="entered",QI="exiting",ZI=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var a,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(a=$I,r.appearStatus=JI):a=XI:a=t.unmountOnExit||t.mountOnEnter?YI:$I,r.state={status:a},r.nextCallback=null,r}i(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===YI?{status:$I}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==JI&&n!==XI&&(t=JI):n!==JI&&n!==XI||(t=QI)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===JI){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===$I&&this.setState({status:YI})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,s=this.props.nodeRef?[r]:[a.findDOMNode(this),r],i=s[0],o=s[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||KI?this.safeSetState({status:XI},function(){t.props.onEntered(i)}):(this.props.onEnter(i,o),this.safeSetState({status:JI},function(){t.props.onEntering(i,o),t.onTransitionEnd(c,function(){t.safeSetState({status:XI},function(){t.props.onEntered(i,o)})})}))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!KI?(this.props.onExit(r),this.safeSetState({status:QI},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:$I},function(){e.props.onExited(r)})})})):this.safeSetState({status:$I},function(){e.props.onExited(r)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=s[0],o=s[1];this.props.addEndListener(i,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===YI)return null;var n=this.props,r=n.children,a=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,z(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(FD.Provider,{value:null},"function"===typeof r?r(e,a):t.cloneElement(t.Children.only(r),a))},n}(t.Component);function eR(){}ZI.contextType=FD,ZI.propTypes={},ZI.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:eR,onEntering:eR,onEntered:eR,onExit:eR,onExiting:eR,onExited:eR},ZI.UNMOUNTED=YI,ZI.EXITED=$I,ZI.ENTERING=JI,ZI.ENTERED=XI,ZI.EXITING=QI;const tR=ZI,nR=e=>e.scrollTop;function rR(e,t){var n,r;const{timeout:a,easing:s,style:i={}}=e;return{duration:null!==(n=i.transitionDuration)&&void 0!==n?n:"number"===typeof a?a:a[t.mode]||0,easing:null!==(r=i.transitionTimingFunction)&&void 0!==r?r:"object"===typeof s?s[t.mode]:s,delay:i.transitionDelay}}const aR=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],sR=["ownerState"];function iR(e){return"scale(".concat(e,", ").concat(e**2,")")}const oR={entering:{opacity:1,transform:iR(1)},entered:{opacity:1,transform:"none"}},lR="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),cR=t.forwardRef(function(e,n){const{addEndListener:r,appear:a=!0,children:s,easing:i,in:o,onEnter:l,onEntered:c,onEntering:d,onExit:u,onExited:h,onExiting:p,style:m,timeout:f="auto",TransitionComponent:g=tR}=e,x=ke(e,aR),v=GD(),b=t.useRef(),y=iD(),w=t.useRef(null),j=DD(w,bI(s),n),N=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},k=N(d),S=N((e,t)=>{nR(e);const{duration:n,delay:r,easing:a}=rR({style:m,timeout:f,easing:i},{mode:"enter"});let s;"auto"===f?(s=y.transitions.getAutoHeightDuration(e.clientHeight),b.current=s):s=n,e.style.transition=[y.transitions.create("opacity",{duration:s,delay:r}),y.transitions.create("transform",{duration:lR?s:.666*s,delay:r,easing:a})].join(","),l&&l(e,t)}),C=N(c),_=N(p),P=N(e=>{const{duration:t,delay:n,easing:r}=rR({style:m,timeout:f,easing:i},{mode:"exit"});let a;"auto"===f?(a=y.transitions.getAutoHeightDuration(e.clientHeight),b.current=a):a=t,e.style.transition=[y.transitions.create("opacity",{duration:a,delay:n}),y.transitions.create("transform",{duration:lR?a:.666*a,delay:lR?n:n||.333*a,easing:r})].join(","),e.style.opacity=0,e.style.transform=iR(.75),u&&u(e)}),A=N(h);return(0,Jn.jsx)(g,Ne(Ne({appear:a,in:o,nodeRef:w,onEnter:S,onEntered:C,onEntering:k,onExit:P,onExited:A,onExiting:_,addEndListener:e=>{"auto"===f&&v.start(b.current||0,e),r&&r(w.current,e)},timeout:"auto"===f?null:f},x),{},{children:(e,n)=>{let{ownerState:r}=n,a=ke(n,sR);return t.cloneElement(s,Ne({style:Ne(Ne(Ne({opacity:0,transform:iR(.75),visibility:"exited"!==e||o?void 0:"hidden"},oR[e]),m),s.props.style),ref:j},a))}}))});cR&&(cR.muiSupportAuto=!0);const dR=cR,uR=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function hR(e){const t=[],n=[];return Array.from(e.querySelectorAll(uR)).forEach((e,r)=>{const a=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==a&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===a?t.push(e):n.push({documentOrder:r,tabIndex:a,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function pR(){return!0}const mR=function(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:a=!1,disableRestoreFocus:s=!1,getTabbable:i=hR,isEnabled:o=pR,open:l}=e,c=t.useRef(!1),d=t.useRef(null),u=t.useRef(null),h=t.useRef(null),p=t.useRef(null),m=t.useRef(!1),f=t.useRef(null),g=hD(bI(n),f),x=t.useRef(null);t.useEffect(()=>{l&&f.current&&(m.current=!r)},[r,l]),t.useEffect(()=>{if(!l||!f.current)return;const e=yI(f.current),t=LI(e);return f.current.contains(t)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),m.current&&f.current.focus()),()=>{s||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[l]),t.useEffect(()=>{if(!l||!f.current)return;const e=yI(f.current),t=t=>{if(x.current=t,a||!o()||"Tab"!==t.key)return;LI(e)===f.current&&t.shiftKey&&(c.current=!0,u.current&&u.current.focus())},n=()=>{const t=f.current;if(null===t)return;const n=LI(e);if(!e.hasFocus()||!o()||c.current)return void(c.current=!1);if(t.contains(n))return;if(a&&n!==d.current&&n!==u.current)return;if(n!==p.current)p.current=null;else if(null!==p.current)return;if(!m.current)return;let r=[];if(n!==d.current&&n!==u.current||(r=i(f.current)),r.length>0){var s,l;const e=Boolean((null===(s=x.current)||void 0===s?void 0:s.shiftKey)&&"Tab"===(null===(l=x.current)||void 0===l?void 0:l.key)),t=r[0],n=r[r.length-1];"string"!==typeof t&&"string"!==typeof n&&(e?n.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval(()=>{const t=LI(e);t&&"BODY"===t.tagName&&n()},50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[r,a,s,o,l,i]);const v=e=>{null===h.current&&(h.current=e.relatedTarget),m.current=!0};return(0,Jn.jsxs)(t.Fragment,{children:[(0,Jn.jsx)("div",{tabIndex:l?0:-1,onFocus:v,ref:d,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),m.current=!0,p.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,Jn.jsx)("div",{tabIndex:l?0:-1,onFocus:v,ref:u,"data-testid":"sentinelEnd"})]})};function fR(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const gR=t.forwardRef(function(e,n){const{children:r,container:s,disablePortal:i=!1}=e,[o,l]=t.useState(null),c=hD(t.isValidElement(r)?bI(r):null,n);if(TD(()=>{i||l(function(e){return"function"===typeof e?e():e}(s)||document.body)},[s,i]),TD(()=>{if(o&&!i)return fR(n,o),()=>{fR(n,null)}},[n,o,i]),i){if(t.isValidElement(r)){const e={ref:c};return t.cloneElement(r,e)}return r}return o?a.createPortal(r,o):o}),xR=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],vR=["ownerState"],bR={entering:{opacity:1},entered:{opacity:1}},yR=t.forwardRef(function(e,n){const r=iD(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:i=!0,children:o,easing:l,in:c,onEnter:d,onEntered:u,onEntering:h,onExit:p,onExited:m,onExiting:f,style:g,timeout:x=a,TransitionComponent:v=tR}=e,b=ke(e,xR),y=t.useRef(null),w=DD(y,bI(o),n),j=e=>t=>{if(e){const n=y.current;void 0===t?e(n):e(n,t)}},N=j(h),k=j((e,t)=>{nR(e);const n=rR({style:g,timeout:x,easing:l},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),d&&d(e,t)}),S=j(u),C=j(f),_=j(e=>{const t=rR({style:g,timeout:x,easing:l},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),p&&p(e)}),P=j(m);return(0,Jn.jsx)(v,Ne(Ne({appear:i,in:c,nodeRef:y,onEnter:k,onEntered:S,onEntering:N,onExit:_,onExited:P,onExiting:C,addEndListener:e=>{s&&s(y.current,e)},timeout:x},b),{},{children:(e,n)=>{let{ownerState:r}=n,a=ke(n,vR);return t.cloneElement(o,Ne({style:Ne(Ne(Ne({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},bR[e]),g),o.props.style),ref:w},a))}}))}),wR=yR;function jR(e){return GP("MuiBackdrop",e)}KP("MuiBackdrop",["root","invisible"]);const NR=["children","className","component","invisible","open","components","componentsProps","slotProps","slots","TransitionComponent","transitionDuration"],kR=yA("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),SR=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiBackdrop"}),{children:r,className:a,component:s="div",invisible:i=!1,open:o,components:l={},componentsProps:c={},slotProps:d={},slots:u={},TransitionComponent:h,transitionDuration:p}=n,m=ke(n,NR),f=Ne(Ne({},n),{},{component:s,invisible:i}),g=(e=>{const{classes:t,invisible:n}=e;return ZP({root:["root",n&&"invisible"]},jR,t)})(f),x={component:s,slots:Ne({transition:h,root:l.Root},u),slotProps:Ne(Ne({},c),d)},[v,b]=jD("root",{elementType:kR,externalForwardedProps:x,className:pk(g.root,a),ownerState:f}),[y,w]=jD("transition",{elementType:wR,externalForwardedProps:x,ownerState:f});return(0,Jn.jsx)(y,Ne(Ne(Ne({in:o,timeout:p},m),w),{},{children:(0,Jn.jsx)(v,Ne(Ne({"aria-hidden":!0},b),{},{ref:t,children:r}))}))}),CR=SR;function _R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)},()=>{})}function PR(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function AR(e){return parseFloat(MI(e).getComputedStyle(e).paddingRight)||0}function DR(e,t,n,r,a){const s=[t,n,...r];[].forEach.call(e.children,e=>{const t=!s.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&PR(e,a)})}function TR(e,t){let n=-1;return e.some((e,r)=>!!t(e)&&(n=r,!0)),n}function LR(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=yI(e);return t.body===e?MI(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=EI(MI(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(AR(r)+e,"px");const t=yI(r).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(AR(t)+e,"px")})}let e;if(r.parentNode instanceof DocumentFragment)e=yI(r).body;else{const t=r.parentElement,n=MI(r);e="HTML"===(null===t||void 0===t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach(e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}const ER=()=>{},IR=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&PR(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);DR(t,e.mount,e.modalRef,r,!0);const a=TR(this.containers,e=>e.container===t);return-1!==a?(this.containers[a].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=TR(this.containers,t=>t.modals.includes(e)),r=this.containers[n];r.restore||(r.restore=LR(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=TR(this.containers,t=>t.modals.includes(e)),a=this.containers[r];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(n,1),0===a.modals.length)a.restore&&a.restore(),e.modalRef&&PR(e.modalRef,t),DR(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=a.modals[a.modals.length-1];e.modalRef&&PR(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const RR=function(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:a=!1,closeAfterTransition:s=!1,onTransitionEnter:i,onTransitionExited:o,children:l,onClose:c,open:d,rootRef:u}=e,h=t.useRef({}),p=t.useRef(null),m=t.useRef(null),f=hD(m,u),[g,x]=t.useState(!d),v=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let b=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(b=!1);const y=()=>(h.current.modalRef=m.current,h.current.mount=p.current,h.current),w=()=>{IR.mount(y(),{disableScrollLock:a}),m.current&&(m.current.scrollTop=0)},j=LD(()=>{const e=function(e){return"function"===typeof e?e():e}(n)||yI(p.current).body;IR.add(y(),e),m.current&&w()}),N=()=>IR.isTopModal(y()),k=LD(e=>{p.current=e,e&&(d&&N()?w():m.current&&PR(m.current,b))}),S=t.useCallback(()=>{IR.remove(y(),b)},[b]);t.useEffect(()=>()=>{S()},[S]),t.useEffect(()=>{d?j():v&&s||S()},[d,S,v,s,j]);const C=e=>t=>{var n;null===(n=e.onKeyDown)||void 0===n||n.call(e,t),"Escape"===t.key&&229!==t.which&&N()&&(r||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},_=e=>t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=gD(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=Ne(Ne({},n),t);return Ne(Ne({role:"presentation"},r),{},{onKeyDown:C(r),ref:f})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ne(Ne({"aria-hidden":!0},e),{},{onClick:_(e),open:d})},getTransitionProps:()=>{var e,t;return{onEnter:_R(()=>{x(!1),i&&i()},null!==(e=null===l||void 0===l?void 0:l.props.onEnter)&&void 0!==e?e:ER),onExited:_R(()=>{x(!0),o&&o(),s&&S()},null!==(t=null===l||void 0===l?void 0:l.props.onExited)&&void 0!==t?t:ER)}},rootRef:f,portalRef:k,isTopModal:N,exited:g,hasTransition:v}};function MR(e){return GP("MuiModal",e)}KP("MuiModal",["root","hidden","backdrop"]);const FR=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],OR=yA("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(jA(e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}})),zR=yA(CR,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),BR=t.forwardRef(function(e,n){const r=CA({name:"MuiModal",props:e}),{BackdropComponent:a=zR,BackdropProps:s,classes:i,className:o,closeAfterTransition:l=!1,children:c,container:d,component:u,components:h={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:f=!1,disableEscapeKeyDown:g=!1,disablePortal:x=!1,disableRestoreFocus:v=!1,disableScrollLock:b=!1,hideBackdrop:y=!1,keepMounted:w=!1,onClose:j,onTransitionEnter:N,onTransitionExited:k,open:S,slotProps:C={},slots:_={},theme:P}=r,A=ke(r,FR),D=Ne(Ne({},r),{},{closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:f,disableEscapeKeyDown:g,disablePortal:x,disableRestoreFocus:v,disableScrollLock:b,hideBackdrop:y,keepMounted:w}),{getRootProps:T,getBackdropProps:L,getTransitionProps:E,portalRef:I,isTopModal:R,exited:M,hasTransition:F}=RR(Ne(Ne({},D),{},{rootRef:n})),O=Ne(Ne({},D),{},{exited:M}),z=(e=>{const{open:t,exited:n,classes:r}=e;return ZP({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},MR,r)})(O),B={};if(void 0===c.props.tabIndex&&(B.tabIndex="-1"),F){const{onEnter:e,onExited:t}=E();B.onEnter=e,B.onExited=t}const U={slots:Ne({root:h.Root,backdrop:h.Backdrop},_),slotProps:Ne(Ne({},p),C)},[q,W]=jD("root",{ref:n,elementType:OR,externalForwardedProps:Ne(Ne(Ne({},U),A),{},{component:u}),getSlotProps:T,ownerState:O,className:pk(o,null===z||void 0===z?void 0:z.root,!O.open&&O.exited&&(null===z||void 0===z?void 0:z.hidden))}),[H,V]=jD("backdrop",{ref:null===s||void 0===s?void 0:s.ref,elementType:a,externalForwardedProps:U,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:e=>L(Ne(Ne({},e),{},{onClick:t=>{null!==e&&void 0!==e&&e.onClick&&e.onClick(t)}})),className:pk(null===s||void 0===s?void 0:s.className,null===z||void 0===z?void 0:z.backdrop),ownerState:O});return w||S||F&&!M?(0,Jn.jsx)(gR,{ref:I,container:d,disablePortal:x,children:(0,Jn.jsxs)(q,Ne(Ne({},W),{},{children:[!y&&a?(0,Jn.jsx)(H,Ne({},V)):null,(0,Jn.jsx)(mR,{disableEnforceFocus:f,disableAutoFocus:m,disableRestoreFocus:v,isEnabled:R,open:S,children:t.cloneElement(c,B)})]}))}):null}),UR=BR;function qR(e){return GP("MuiPopover",e)}KP("MuiPopover",["root","paper"]);function WR(e,t){if(!e)return t;function n(e,t){const n={};return Object.keys(t).forEach(r=>{(function(e,t){const n=e.charCodeAt(2);return"o"===e[0]&&"n"===e[1]&&n>=65&&n<=90&&"function"===typeof t})(r,t[r])&&"function"===typeof e[r]&&(n[r]=function(){e[r](...arguments),t[r](...arguments)})}),n}if("function"===typeof e||"function"===typeof t)return r=>{const a="function"===typeof t?t(r):t,s="function"===typeof e?e(Ne(Ne({},r),a)):e,i=pk(null===r||void 0===r?void 0:r.className,null===a||void 0===a?void 0:a.className,null===s||void 0===s?void 0:s.className),o=n(s,a);return Ne(Ne(Ne(Ne(Ne(Ne({},a),s),o),!!i&&{className:i}),(null===a||void 0===a?void 0:a.style)&&(null===s||void 0===s?void 0:s.style)&&{style:Ne(Ne({},a.style),s.style)}),(null===a||void 0===a?void 0:a.sx)&&(null===s||void 0===s?void 0:s.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(s.sx)?s.sx:[s.sx]]})};const r=t,a=n(e,r),s=pk(null===r||void 0===r?void 0:r.className,null===e||void 0===e?void 0:e.className);return Ne(Ne(Ne(Ne(Ne(Ne({},t),e),a),!!s&&{className:s}),(null===r||void 0===r?void 0:r.style)&&(null===e||void 0===e?void 0:e.style)&&{style:Ne(Ne({},r.style),e.style)}),(null===r||void 0===r?void 0:r.sx)&&(null===e||void 0===e?void 0:e.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]})}const HR=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],VR=["slots","slotProps"];function GR(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function KR(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function YR(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?"".concat(e,"px"):e).join(" ")}function $R(e){return"function"===typeof e?e():e}const JR=yA(UR,{name:"MuiPopover",slot:"Root"})({}),XR=yA(uD,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),QR=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiPopover"}),{action:a,anchorEl:s,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:l="anchorEl",children:c,className:d,container:u,elevation:h=8,marginThreshold:p=16,open:m,PaperProps:f={},slots:g={},slotProps:x={},transformOrigin:v={vertical:"top",horizontal:"left"},TransitionComponent:b,transitionDuration:y="auto",TransitionProps:w={},disableScrollLock:j=!1}=r,N=ke(r,HR),k=t.useRef(),S=Ne(Ne({},r),{},{anchorOrigin:i,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:v,TransitionComponent:b,transitionDuration:y,TransitionProps:w}),C=(e=>{const{classes:t}=e;return ZP({root:["root"],paper:["paper"]},qR,t)})(S),_=t.useCallback(()=>{if("anchorPosition"===l)return o;const e=$R(s),t=(e&&1===e.nodeType?e:wI(k.current).body).getBoundingClientRect();return{top:t.top+GR(t,i.vertical),left:t.left+KR(t,i.horizontal)}},[s,i.horizontal,i.vertical,o,l]),P=t.useCallback(e=>({vertical:GR(e,v.vertical),horizontal:KR(e,v.horizontal)}),[v.horizontal,v.vertical]),A=t.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=P(t);if("none"===l)return{top:null,left:null,transformOrigin:YR(n)};const r=_();let a=r.top-n.vertical,i=r.left-n.horizontal;const o=a+t.height,c=i+t.width,d=FI($R(s)),u=d.innerHeight-p,h=d.innerWidth-p;if(null!==p&&a<p){const e=a-p;a-=e,n.vertical+=e}else if(null!==p&&o>u){const e=o-u;a-=e,n.vertical+=e}if(null!==p&&i<p){const e=i-p;i-=e,n.horizontal+=e}else if(c>h){const e=c-h;i-=e,n.horizontal+=e}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:YR(n)}},[s,l,_,P,p]),[D,T]=t.useState(m),L=t.useCallback(()=>{const e=k.current;if(!e)return;const t=A(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,T(!0)},[A]);t.useEffect(()=>(j&&window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)),[s,j,L]);t.useEffect(()=>{m&&L()}),t.useImperativeHandle(a,()=>m?{updatePosition:()=>{L()}}:null,[m,L]),t.useEffect(()=>{if(!m)return;const e=GI(()=>{L()}),t=FI($R(s));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[s,m,L]);let E=y;const I={slots:Ne({transition:b},g),slotProps:Ne({transition:w,paper:f},x)},[R,M]=jD("transition",{elementType:dR,externalForwardedProps:I,ownerState:S,getSlotProps:e=>Ne(Ne({},e),{},{onEntering:(t,n)=>{var r;null===(r=e.onEntering)||void 0===r||r.call(e,t,n),L()},onExited:t=>{var n;null===(n=e.onExited)||void 0===n||n.call(e,t),T(!1)}}),additionalProps:{appear:!0,in:m}});"auto"!==y||R.muiSupportAuto||(E=void 0);const F=u||(s?wI($R(s)).body:void 0),[O,z]=jD("root",{ref:n,elementType:JR,externalForwardedProps:Ne(Ne({},I),N),shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:g.backdrop},slotProps:{backdrop:WR("function"===typeof x.backdrop?x.backdrop(S):x.backdrop,{invisible:!0})},container:F,open:m},ownerState:S,className:pk(C.root,d)}),{slots:B,slotProps:U}=z,q=ke(z,VR),[W,H]=jD("paper",{ref:k,className:C.paper,elementType:XR,externalForwardedProps:I,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:D?void 0:{opacity:0}},ownerState:S});return(0,Jn.jsx)(O,Ne(Ne(Ne({},q),!pD(O)&&{slots:B,slotProps:U,disableScrollLock:j}),{},{children:(0,Jn.jsx)(R,Ne(Ne({},M),{},{timeout:E,children:(0,Jn.jsx)(W,Ne(Ne({},H),{},{children:c}))}))}))}),ZR=QR;function eM(e){return GP("MuiMenu",e)}KP("MuiMenu",["root","paper","list"]);const tM=["onEntering"],nM=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],rM={vertical:"top",horizontal:"right"},aM={vertical:"top",horizontal:"left"},sM=yA(ZR,{shouldForwardProp:e=>bA(e)||"classes"===e,name:"MuiMenu",slot:"Root"})({}),iM=yA(XR,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),oM=yA(HI,{name:"MuiMenu",slot:"List"})({outline:0}),lM=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:i,disableAutoFocusItem:o=!1,MenuListProps:l={},onClose:c,open:d,PaperProps:u={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m}={},variant:f="selectedMenu",slots:g={},slotProps:x={}}=r,v=ke(r.TransitionProps,tM),b=ke(r,nM),y=NI(),w=Ne(Ne({},r),{},{autoFocus:a,disableAutoFocusItem:o,MenuListProps:l,onEntering:m,PaperProps:u,transitionDuration:p,TransitionProps:v,variant:f}),j=(e=>{const{classes:t}=e;return ZP({root:["root"],paper:["paper"],list:["list"]},eM,t)})(w),N=a&&!o&&d,k=t.useRef(null);let S=-1;t.Children.map(s,(e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===f&&e.props.selected||-1===S)&&(S=n))});const C={slots:g,slotProps:Ne({list:l,transition:v,paper:u},x)},_=SI({elementType:g.root,externalSlotProps:x.root,ownerState:w,className:[j.root,i]}),[P,A]=jD("paper",{className:j.paper,elementType:iM,externalForwardedProps:C,shouldForwardComponentProp:!0,ownerState:w}),[D,T]=jD("list",{className:pk(j.list,l.className),elementType:oM,shouldForwardComponentProp:!0,externalForwardedProps:C,getSlotProps:e=>Ne(Ne({},e),{},{onKeyDown:t=>{var n;(e=>{"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))})(t),null===(n=e.onKeyDown)||void 0===n||n.call(e,t)}}),ownerState:w}),L="function"===typeof C.slotProps.transition?C.slotProps.transition(w):C.slotProps.transition;return(0,Jn.jsx)(sM,Ne(Ne({onClose:c,anchorOrigin:{vertical:"bottom",horizontal:y?"right":"left"},transformOrigin:y?rM:aM,slots:Ne({root:g.root,paper:P,backdrop:g.backdrop},g.transition&&{transition:g.transition}),slotProps:{root:_,paper:A,backdrop:"function"===typeof x.backdrop?x.backdrop(w):x.backdrop,transition:Ne(Ne({},L),{},{onEntering:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];((e,t)=>{k.current&&k.current.adjustStyleForScrollbar(e,{direction:y?"rtl":"ltr"}),m&&m(e,t)})(...n),null===L||void 0===L||null===(e=L.onEntering)||void 0===e||e.call(L,...n)}})},open:d,ref:n,transitionDuration:p,ownerState:w},b),{},{classes:h,children:(0,Jn.jsx)(D,Ne(Ne({actions:k,autoFocus:a&&(-1===S||o),autoFocusItem:N,variant:f},T),{},{children:s}))}))}),cM=lM;function dM(e){return GP("MuiNativeSelect",e)}const uM=KP("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),hM=["className","disabled","error","IconComponent","inputRef","variant"],pM=yA("select",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},["&.".concat(uM.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}}),mM=yA(pM,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:bA,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(uM.multiple)]:t.multiple}]}})({}),fM=yA("svg",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,["&.".concat(uM.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}}),gM=yA(fM,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(_A(n.variant))],n.open&&t.iconOpen]}})({}),xM=t.forwardRef(function(e,n){const{className:r,disabled:a,error:s,IconComponent:i,inputRef:o,variant:l="standard"}=e,c=ke(e,hM),d=Ne(Ne({},e),{},{disabled:a,variant:l,error:s}),u=(e=>{const{classes:t,variant:n,disabled:r,multiple:a,open:s,error:i}=e;return ZP({select:["select",n,r&&"disabled",a&&"multiple",i&&"error"],icon:["icon","icon".concat(_A(n)),s&&"iconOpen",r&&"disabled"]},dM,t)})(d);return(0,Jn.jsxs)(t.Fragment,{children:[(0,Jn.jsx)(mM,Ne({ownerState:d,className:pk(u.select,r),disabled:a,ref:o||n},c)),e.multiple?null:(0,Jn.jsx)(gM,{as:i,ownerState:d,className:u.icon})]})}),vM=xM;const bM=function(e){const{controlled:n,default:r,name:a,state:s="value"}=e,{current:i}=t.useRef(void 0!==n),[o,l]=t.useState(r);return[i?n:o,t.useCallback(e=>{i||l(e)},[])]};function yM(e){return GP("MuiSelect",e)}const wM=KP("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),jM=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onKeyDown","onMouseDown","onOpen","open","readOnly","renderValue","required","SelectDisplayProps","tabIndex","type","value","variant"];var NM;const kM=yA(pM,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(wM.select)]:t.select},{["&.".concat(wM.select)]:t[n.variant]},{["&.".concat(wM.error)]:t.error},{["&.".concat(wM.multiple)]:t.multiple}]}})({["&.".concat(wM.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SM=yA(fM,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(_A(n.variant))],n.open&&t.iconOpen]}})({}),CM=yA("input",{shouldForwardProp:e=>vA(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function _M(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function PM(e){return null==e||"string"===typeof e&&!e.trim()}const AM=t.forwardRef(function(e,n){var r,a,s,i;const{"aria-describedby":o,"aria-label":l,autoFocus:c,autoWidth:d,children:u,className:h,defaultOpen:p,defaultValue:m,disabled:f,displayEmpty:g,error:x=!1,IconComponent:v,inputRef:b,labelId:y,MenuProps:w={},multiple:j,name:N,onBlur:k,onChange:S,onClose:C,onFocus:_,onKeyDown:P,onMouseDown:A,onOpen:D,open:T,readOnly:L,renderValue:E,required:I,SelectDisplayProps:R={},tabIndex:M,type:F,value:O,variant:z="standard"}=e,B=ke(e,jM),[U,q]=bM({controlled:O,default:m,name:"Select"}),[W,H]=bM({controlled:T,default:p,name:"Select"}),V=t.useRef(null),G=t.useRef(null),[K,Y]=t.useState(null),{current:$}=t.useRef(null!=T),[J,X]=t.useState(),Q=DD(n,b),Z=t.useCallback(e=>{G.current=e,e&&Y(e)},[]),ee=null===K||void 0===K?void 0:K.parentNode;t.useImperativeHandle(Q,()=>({focus:()=>{G.current.focus()},node:V.current,value:U}),[U]);const te=null!==K&&W;t.useEffect(()=>{if(!te||!ee||d)return;if("undefined"===typeof ResizeObserver)return;const e=new ResizeObserver(()=>{X(ee.clientWidth)});return e.observe(ee),()=>{e.disconnect()}},[te,ee,d]),t.useEffect(()=>{p&&W&&K&&!$&&(X(d?null:ee.clientWidth),G.current.focus())},[K,d]),t.useEffect(()=>{c&&G.current.focus()},[c]),t.useEffect(()=>{if(!y)return;const e=wI(G.current).getElementById(y);if(e){const t=()=>{getSelection().isCollapsed&&G.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[y]);const ne=(e,t)=>{e?D&&D(t):C&&C(t),$||(X(d?null:ee.clientWidth),H(e))},re=t.Children.toArray(u),ae=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(j){n=Array.isArray(U)?U.slice():[];const t=U.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),U!==n&&(q(n),S)){const r=t.nativeEvent||t,a=new r.constructor(r.type,r);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:N}}),S(a,e)}j||ne(!1,t)}};let se,ie;delete B["aria-invalid"];const oe=[];let le=!1,ce=!1;(XE({value:U})||g)&&(E?se=E(U):le=!0);const de=re.map(e=>{if(!t.isValidElement(e))return null;let n;if(j){if(!Array.isArray(U))throw new Error(ZS(2));n=U.some(t=>_M(t,e.props.value)),n&&le&&oe.push(e.props.children)}else n=_M(U,e.props.value),n&&le&&(ie=e.props.children);return n&&(ce=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:ae(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})});le&&(se=j?0===oe.length?null:oe.reduce((e,t,n)=>(e.push(t),n<oe.length-1&&e.push(", "),e),[]):ie);let ue,he=J;!d&&$&&K&&(he=ee.clientWidth),ue="undefined"!==typeof M?M:f?null:0;const pe=R.id||(N?"mui-component-select-".concat(N):void 0),me=Ne(Ne({},e),{},{variant:z,value:U,open:te,error:x}),fe=(e=>{const{classes:t,variant:n,disabled:r,multiple:a,open:s,error:i}=e;return ZP({select:["select",n,r&&"disabled",a&&"multiple",i&&"error"],icon:["icon","icon".concat(_A(n)),s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},yM,t)})(me),ge=Ne(Ne({},w.PaperProps),"function"===typeof(null===(r=w.slotProps)||void 0===r?void 0:r.paper)?w.slotProps.paper(me):null===(a=w.slotProps)||void 0===a?void 0:a.paper),xe=Ne(Ne({},w.MenuListProps),"function"===typeof(null===(s=w.slotProps)||void 0===s?void 0:s.list)?w.slotProps.list(me):null===(i=w.slotProps)||void 0===i?void 0:i.list),ve=_D();return(0,Jn.jsxs)(t.Fragment,{children:[(0,Jn.jsx)(kM,Ne(Ne({as:"div",ref:Z,tabIndex:ue,role:"combobox","aria-controls":te?ve:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":te?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[y,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":o,"aria-required":I?"true":void 0,"aria-invalid":x?"true":void 0,onKeyDown:e=>{if(!L){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),ne(!0,e)),null===P||void 0===P||P(e)}},onMouseDown:f||L?null:e=>{null===A||void 0===A||A(e),0===e.button&&(e.preventDefault(),G.current.focus(),ne(!0,e))},onBlur:e=>{!te&&k&&(Object.defineProperty(e,"target",{writable:!0,value:{value:U,name:N}}),k(e))},onFocus:_},R),{},{ownerState:me,className:pk(R.className,fe.select,h),id:pe,children:PM(se)?NM||(NM=(0,Jn.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):se})),(0,Jn.jsx)(CM,Ne(Ne({"aria-invalid":x,value:Array.isArray(U)?U.join(","):U,name:N,ref:V,"aria-hidden":!0,onChange:e=>{const t=re.find(t=>t.props.value===e.target.value);void 0!==t&&(q(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:f,className:fe.nativeInput,autoFocus:c,required:I},B),{},{ownerState:me})),(0,Jn.jsx)(SM,{as:v,className:fe.icon,ownerState:me}),(0,Jn.jsx)(cM,Ne(Ne({id:"menu-".concat(N||""),anchorEl:ee,open:te,onClose:e=>{ne(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w),{},{slotProps:Ne(Ne({},w.slotProps),{},{list:Ne({"aria-labelledby":y,role:"listbox","aria-multiselectable":j?"true":void 0,disableListWrap:!0,id:ve},xe),paper:Ne(Ne({},ge),{},{style:Ne({minWidth:he},null!=ge?ge.style:null)})}),children:de}))]})}),DM=AM,TM=CT((0,Jn.jsx)("path",{d:"M7 10l5 5 5-5z"})),LM=["onChange","maxRows","minRows","style","value"];function EM(e){return parseInt(e,10)||0}const IM={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function RM(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const MM=t.forwardRef(function(e,n){const{onChange:r,maxRows:a,minRows:s=1,style:i,value:o}=e,l=ke(e,LM),{current:c}=t.useRef(null!=o),d=t.useRef(null),u=hD(n,d),h=t.useRef(null),p=t.useRef(null),m=t.useCallback(()=>{const t=d.current,n=p.current;if(!t||!n)return;const r=MI(t).getComputedStyle(t);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const i=r.boxSizing,o=EM(r.paddingBottom)+EM(r.paddingTop),l=EM(r.borderBottomWidth)+EM(r.borderTopWidth),c=n.scrollHeight;n.value="x";const u=n.scrollHeight;let h=c;s&&(h=Math.max(Number(s)*u,h)),a&&(h=Math.min(Number(a)*u,h)),h=Math.max(h,u);return{outerHeightStyle:h+("border-box"===i?o+l:0),overflowing:Math.abs(h-c)<=1}},[a,s,e.placeholder]),f=LD(()=>{const e=d.current,t=m();if(!e||!t||RM(t))return!1;const n=t.outerHeightStyle;return null!=h.current&&h.current!==n}),g=t.useCallback(()=>{const e=d.current,t=m();if(!e||!t||RM(t))return;const n=t.outerHeightStyle;h.current!==n&&(h.current=n,e.style.height="".concat(n,"px")),e.style.overflow=t.overflowing?"hidden":""},[m]),x=t.useRef(-1);TD(()=>{const e=VI(g),t=null===d||void 0===d?void 0:d.current;if(!t)return;const n=MI(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(()=>{f()&&(r.unobserve(t),cancelAnimationFrame(x.current),g(),x.current=requestAnimationFrame(()=>{r.observe(t)}))}),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(x.current),n.removeEventListener("resize",e),r&&r.disconnect()}},[m,g,f]),TD(()=>{g()});return(0,Jn.jsxs)(t.Fragment,{children:[(0,Jn.jsx)("textarea",Ne({value:o,onChange:e=>{c||g();const t=e.target,n=t.value.length,a=t.value.endsWith("\n"),s=t.selectionStart===n;a&&s&&t.setSelectionRange(n,n),r&&r(e)},ref:u,rows:s,style:i},l)),(0,Jn.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:Ne(Ne(Ne({},IM),i),{},{paddingTop:0,paddingBottom:0})})]})}),FM=MM;function OM(e){return GP("MuiInputBase",e)}const zM=KP("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),BM=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"];var UM;const qM=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(_A(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},WM=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},HM=yA("div",{name:"MuiInputBase",slot:"Root",overridesResolver:qM})(jA(e=>{let{theme:t}=e;return Ne(Ne({},t.typography.body1),{},{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(zM.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]})})),VM=yA("input",{name:"MuiInputBase",slot:"Input",overridesResolver:WM})(jA(e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=Ne(Ne({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5}),{},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),a={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(zM.formControl," &")]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},["&.".concat(zM.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),GM=function(e){return function(t){return(0,Jn.jsx)($A,{styles:"function"===typeof e?n=>e(Ne({theme:n},t)):e})}}({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),KM=t.forwardRef(function(e,n){var r;const a=CA({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:i,autoFocus:o,className:l,color:c,components:d={},componentsProps:u={},defaultValue:h,disabled:p,disableInjectingGlobalStyles:m,endAdornment:f,error:g,fullWidth:x=!1,id:v,inputComponent:b="input",inputProps:y={},inputRef:w,margin:j,maxRows:N,minRows:k,multiline:S=!1,name:C,onBlur:_,onChange:P,onClick:A,onFocus:D,onKeyDown:T,onKeyUp:L,placeholder:E,readOnly:I,renderSuffix:R,rows:M,size:F,slotProps:O={},slots:z={},startAdornment:B,type:U="text",value:q}=a,W=ke(a,BM),H=null!=y.value?y.value:q,{current:V}=t.useRef(null!=H),G=t.useRef(),K=t.useCallback(e=>{0},[]),Y=DD(G,w,y.ref,K),[$,J]=t.useState(!1),X=iI();const Q=sI({props:a,muiFormControl:X,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Q.focused=X?X.focused:$,t.useEffect(()=>{!X&&p&&$&&(J(!1),_&&_())},[X,p,$,_]);const Z=X&&X.onFilled,ee=X&&X.onEmpty,te=t.useCallback(e=>{XE(e)?Z&&Z():ee&&ee()},[Z,ee]);RI(()=>{V&&te({value:H})},[H,te,V]);t.useEffect(()=>{te(G.current)},[]);let ne=b,re=y;S&&"input"===ne&&(re=Ne(M?{type:void 0,minRows:M,maxRows:M}:{type:void 0,maxRows:N,minRows:k},re),ne=FM);t.useEffect(()=>{X&&X.setAdornedStart(Boolean(B))},[X,B]);const ae=Ne(Ne({},a),{},{color:Q.color||"primary",disabled:Q.disabled,endAdornment:f,error:Q.error,focused:Q.focused,formControl:X,fullWidth:x,hiddenLabel:Q.hiddenLabel,multiline:S,size:Q.size,startAdornment:B,type:U}),se=(e=>{const{classes:t,color:n,disabled:r,error:a,endAdornment:s,focused:i,formControl:o,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:u,size:h,startAdornment:p,type:m}=e;return ZP({root:["root","color".concat(_A(n)),r&&"disabled",a&&"error",l&&"fullWidth",i&&"focused",o&&"formControl",h&&"medium"!==h&&"size".concat(_A(h)),d&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",u&&"readOnly"],input:["input",r&&"disabled","search"===m&&"inputTypeSearch",d&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",u&&"readOnly"]},OM,t)})(ae),ie=z.root||d.Root||HM,oe=O.root||u.root||{},le=z.input||d.Input||VM;return re=Ne(Ne({},re),null!==(r=O.input)&&void 0!==r?r:u.input),(0,Jn.jsxs)(t.Fragment,{children:[!m&&"function"===typeof GM&&(UM||(UM=(0,Jn.jsx)(GM,{}))),(0,Jn.jsxs)(ie,Ne(Ne(Ne(Ne({},oe),{},{ref:n,onClick:e=>{G.current&&e.currentTarget===e.target&&G.current.focus(),A&&A(e)}},W),!pD(ie)&&{ownerState:Ne(Ne({},ae),oe.ownerState)}),{},{className:pk(se.root,oe.className,l,I&&"MuiInputBase-readOnly"),children:[B,(0,Jn.jsx)(ZE.Provider,{value:null,children:(0,Jn.jsx)(le,Ne(Ne(Ne({"aria-invalid":Q.error,"aria-describedby":s,autoComplete:i,autoFocus:o,defaultValue:h,disabled:Q.disabled,id:v,onAnimationStart:e=>{te("mui-auto-fill-cancel"===e.animationName?G.current:{value:"x"})},name:C,placeholder:E,readOnly:I,required:Q.required,rows:M,value:H,onKeyDown:T,onKeyUp:L,type:U},re),!pD(le)&&{as:ne,ownerState:Ne(Ne({},ae),re.ownerState)}),{},{ref:Y,className:pk(se.input,re.className,I&&"MuiInputBase-readOnly"),onBlur:e=>{_&&_(e),y.onBlur&&y.onBlur(e),X&&X.onBlur?X.onBlur(e):J(!1)},onChange:function(e){if(!V){const t=e.target||G.current;if(null==t)throw new Error(ZS(1));te({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.onChange&&y.onChange(e,...n),P&&P(e,...n)},onFocus:e=>{D&&D(e),y.onFocus&&y.onFocus(e),X&&X.onFocus?X.onFocus(e):J(!0)}}))}),f,R?R(Ne(Ne({},Q),{},{startAdornment:B})):null]}))]})}),YM=KM;function $M(e){return GP("MuiInput",e)}const JM=Ne(Ne({},zM),KP("MuiInput",["root","underline","input"])),XM=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],QM=yA(HM,{shouldForwardProp:e=>bA(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...qM(e,t),!n.disableUnderline&&t.underline]}})(jA(e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(JM.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(JM.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(JM.disabled,", .").concat(JM.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},["&.".concat(JM.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(PA()).map(e=>{let[n]=e;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n].main)}}}})]}})),ZM=yA(VM,{name:"MuiInput",slot:"Input",overridesResolver:WM})({}),eF=t.forwardRef(function(e,t){var n,r,a,s;const i=CA({props:e,name:"MuiInput"}),{disableUnderline:o=!1,components:l={},componentsProps:c,fullWidth:d=!1,inputComponent:u="input",multiline:h=!1,slotProps:p,slots:m={},type:f="text"}=i,g=ke(i,XM),x=(e=>{const{classes:t,disableUnderline:n}=e,r=ZP({root:["root",!n&&"underline"],input:["input"]},$M,t);return Ne(Ne({},t),r)})(i),v={root:{ownerState:{disableUnderline:o}}},b=(null!==p&&void 0!==p?p:c)?aC(null!==p&&void 0!==p?p:c,v):v,y=null!==(n=null!==(r=m.root)&&void 0!==r?r:l.Root)&&void 0!==n?n:QM,w=null!==(a=null!==(s=m.input)&&void 0!==s?s:l.Input)&&void 0!==a?a:ZM;return(0,Jn.jsx)(YM,Ne(Ne({slots:{root:y,input:w},slotProps:b,fullWidth:d,inputComponent:u,multiline:h,ref:t,type:f},g),{},{classes:x}))});eF.muiName="Input";const tF=eF;function nF(e){return GP("MuiFilledInput",e)}const rF=Ne(Ne({},zM),KP("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])),aF=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],sF=yA(HM,{shouldForwardProp:e=>bA(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...qM(e,t),!n.disableUnderline&&t.underline]}})(jA(e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(rF.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(rF.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(rF.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(rF.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(rF.disabled,", .").concat(rF.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(rF.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(PA()).map(e=>{var n;let[r]=e;return{props:{disableUnderline:!1,color:r},style:{"&::after":{borderBottom:"2px solid ".concat(null===(n=(t.vars||t).palette[r])||void 0===n?void 0:n.main)}}}}),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}})),iF=yA(VM,{name:"MuiFilledInput",slot:"Input",overridesResolver:WM})(jA(e=>{let{theme:t}=e;return Ne(Ne(Ne({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]})})),oF=t.forwardRef(function(e,t){var n,r,a,s;const i=CA({props:e,name:"MuiFilledInput"}),{disableUnderline:o=!1,components:l={},componentsProps:c,fullWidth:d=!1,hiddenLabel:u,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:f={},type:g="text"}=i,x=ke(i,aF),v=Ne(Ne({},i),{},{disableUnderline:o,fullWidth:d,inputComponent:h,multiline:p,type:g}),b=(e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:a,size:s,hiddenLabel:i,multiline:o}=e,l=ZP({root:["root",!n&&"underline",r&&"adornedStart",a&&"adornedEnd","small"===s&&"size".concat(_A(s)),i&&"hiddenLabel",o&&"multiline"],input:["input"]},nF,t);return Ne(Ne({},t),l)})(i),y={root:{ownerState:v},input:{ownerState:v}},w=(null!==m&&void 0!==m?m:c)?aC(y,null!==m&&void 0!==m?m:c):y,j=null!==(n=null!==(r=f.root)&&void 0!==r?r:l.Root)&&void 0!==n?n:sF,N=null!==(a=null!==(s=f.input)&&void 0!==s?s:l.Input)&&void 0!==a?a:iF;return(0,Jn.jsx)(YM,Ne(Ne({slots:{root:j,input:N},slotProps:w,fullWidth:d,inputComponent:h,multiline:p,ref:t,type:g},x),{},{classes:b}))});oF.muiName="Input";const lF=oF,cF=["children","classes","className","label","notched"];var dF;const uF=yA("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:bA})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),hF=yA("legend",{name:"MuiNotchedOutlined",shouldForwardProp:bA})(jA(e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}}));function pF(e){return GP("MuiOutlinedInput",e)}const mF=Ne(Ne({},zM),KP("MuiOutlinedInput",["root","notchedOutline","input"])),fF=["components","fullWidth","inputComponent","label","multiline","notched","slots","slotProps","type"],gF=yA(HM,{shouldForwardProp:e=>bA(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:qM})(jA(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(mF.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(mF.notchedOutline)]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}},["&.".concat(mF.focused," .").concat(mF.notchedOutline)]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(PA()).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(mF.focused," .").concat(mF.notchedOutline)]:{borderColor:(t.vars||t).palette[n].main}}}}),{props:{},style:{["&.".concat(mF.error," .").concat(mF.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(mF.disabled," .").concat(mF.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}})),xF=yA(function(e){const{children:t,classes:n,className:r,label:a,notched:s}=e,i=ke(e,cF),o=null!=a&&""!==a,l=Ne(Ne({},e),{},{notched:s,withLabel:o});return(0,Jn.jsx)(uF,Ne(Ne({"aria-hidden":!0,className:r,ownerState:l},i),{},{children:(0,Jn.jsx)(hF,{ownerState:l,children:o?(0,Jn.jsx)("span",{children:a}):dF||(dF=(0,Jn.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline"})(jA(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}})),vF=yA(VM,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:WM})(jA(e=>{let{theme:t}=e;return Ne(Ne(Ne({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]})})),bF=t.forwardRef(function(e,n){var r,a,s,i;const o=CA({props:e,name:"MuiOutlinedInput"}),{components:l={},fullWidth:c=!1,inputComponent:d="input",label:u,multiline:h=!1,notched:p,slots:m={},slotProps:f={},type:g="text"}=o,x=ke(o,fF),v=(e=>{const{classes:t}=e,n=ZP({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},pF,t);return Ne(Ne({},t),n)})(o),b=iI(),y=sI({props:o,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=Ne(Ne({},o),{},{color:y.color||"primary",disabled:y.disabled,error:y.error,focused:y.focused,formControl:b,fullWidth:c,hiddenLabel:y.hiddenLabel,multiline:h,size:y.size,type:g}),j=null!==(r=null!==(a=m.root)&&void 0!==a?a:l.Root)&&void 0!==r?r:gF,N=null!==(s=null!==(i=m.input)&&void 0!==i?i:l.Input)&&void 0!==s?s:vF,[k,S]=jD("notchedOutline",{elementType:xF,className:v.notchedOutline,shouldForwardComponentProp:!0,ownerState:w,externalForwardedProps:{slots:m,slotProps:f},additionalProps:{label:null!=u&&""!==u&&y.required?(0,Jn.jsxs)(t.Fragment,{children:[u,"\u2009","*"]}):u}});return(0,Jn.jsx)(YM,Ne(Ne({slots:{root:j,input:N},slotProps:f,renderSuffix:e=>(0,Jn.jsx)(k,Ne(Ne({},S),{},{notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)})),fullWidth:c,inputComponent:d,multiline:h,ref:n,type:g},x),{},{classes:Ne(Ne({},v),{},{notchedOutline:null})}))});bF.muiName="Input";const yF=bF,wF=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],jF=["root"],NF={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>bA(e)&&"variant"!==e},kF=yA(tF,NF)(""),SF=yA(yF,NF)(""),CF=yA(lF,NF)(""),_F=t.forwardRef(function(e,n){const r=CA({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:s,classes:i={},className:o,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=TM,id:u,input:h,inputProps:p,label:m,labelId:f,MenuProps:g,multiple:x=!1,native:v=!1,onClose:b,onOpen:y,open:w,renderValue:j,SelectDisplayProps:N,variant:k="outlined"}=r,S=ke(r,wF),C=v?vM:DM,_=sI({props:r,muiFormControl:iI(),states:["variant","error"]}),P=_.variant||k,A=Ne(Ne({},r),{},{variant:P,classes:i}),D=(e=>{const{classes:t}=e,n=ZP({root:["root"]},yM,t);return Ne(Ne({},t),n)})(A),{root:T}=D,L=ke(D,jF),E=h||{standard:(0,Jn.jsx)(kF,{ownerState:A}),outlined:(0,Jn.jsx)(SF,{label:m,ownerState:A}),filled:(0,Jn.jsx)(CF,{ownerState:A})}[P],I=DD(n,bI(E));return(0,Jn.jsx)(t.Fragment,{children:t.cloneElement(E,Ne(Ne(Ne({inputComponent:C,inputProps:Ne(Ne(Ne({children:s,error:_.error,IconComponent:d,variant:P,type:void 0,multiple:x},v?{id:u}:{autoWidth:a,defaultOpen:l,displayEmpty:c,labelId:f,MenuProps:g,onClose:b,onOpen:y,open:w,renderValue:j,SelectDisplayProps:Ne({id:u},N)}),p),{},{classes:p?aC(L,p.classes):L},h?h.props.inputProps:{})},(x&&v||c)&&"outlined"===P?{notched:!0}:{}),{},{ref:I,className:pk(E.props.className,o,D.root)},!h&&{variant:P}),S))})});_F.muiName="Select";const PF=_F;const AF=KP("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const DF=KP("MuiListItemIcon",["root","alignItemsFlexStart"]);const TF=KP("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function LF(e){return GP("MuiMenuItem",e)}const EF=KP("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),IF=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],RF=yA(pT,{shouldForwardProp:e=>bA(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(jA(e=>{let{theme:t}=e;return Ne(Ne({},t.typography.body1),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(EF.selected)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),["&.".concat(EF.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}},["&.".concat(EF.selected,":hover")]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity)),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},["&.".concat(EF.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(EF.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(AF.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(AF.inset)]:{marginLeft:52},["& .".concat(TF.root)]:{marginTop:0,marginBottom:0},["& .".concat(TF.inset)]:{paddingLeft:36},["& .".concat(DF.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:Ne(Ne({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2),{},{["& .".concat(DF.root," svg")]:{fontSize:"1.25rem"}})}]})})),MF=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiMenuItem"}),{autoFocus:a=!1,component:s="li",dense:i=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:u,className:h}=r,p=ke(r,IF),m=t.useContext(CI),f=t.useMemo(()=>({dense:i||m.dense||!1,disableGutters:l}),[m.dense,i,l]),g=t.useRef(null);RI(()=>{a&&g.current&&g.current.focus()},[a]);const x=Ne(Ne({},r),{},{dense:f.dense,divider:o,disableGutters:l}),v=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:a,selected:s,classes:i}=e,o=ZP({root:["root",n&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",s&&"selected"]},LF,i);return Ne(Ne({},i),o)})(r),b=DD(g,n);let y;return r.disabled||(y=void 0!==u?u:-1),(0,Jn.jsx)(CI.Provider,{value:f,children:(0,Jn.jsx)(RF,Ne(Ne({ref:b,role:d,tabIndex:y,component:s,focusVisibleClassName:pk(v.focusVisible,c),className:pk(v.root,h)},p),{},{ownerState:x,classes:v}))})}),FF=MF;function OF(e){return GP("MuiFormHelperText",e)}const zF=KP("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),BF=["children","className","component","disabled","error","filled","focused","margin","required","variant"];var UF;const qF=yA("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(_A(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})(jA(e=>{let{theme:t}=e;return Ne(Ne({color:(t.vars||t).palette.text.secondary},t.typography.caption),{},{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(zF.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(zF.error)]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]})})),WF=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiFormHelperText"}),{children:r,className:a,component:s="p",disabled:i,error:o,filled:l,focused:c,margin:d,required:u,variant:h}=n,p=ke(n,BF),m=sI({props:n,muiFormControl:iI(),states:["variant","size","disabled","error","filled","focused","required"]}),f=Ne(Ne({},n),{},{component:s,contained:"filled"===m.variant||"outlined"===m.variant,variant:m.variant,size:m.size,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required});delete f.ownerState;const g=(e=>{const{classes:t,contained:n,size:r,disabled:a,error:s,filled:i,focused:o,required:l}=e;return ZP({root:["root",a&&"disabled",s&&"error",r&&"size".concat(_A(r)),n&&"contained",o&&"focused",i&&"filled",l&&"required"]},OF,t)})(f);return(0,Jn.jsx)(qF,Ne(Ne({as:s,className:pk(g.root,a),ref:t},p),{},{ownerState:f,children:" "===r?UF||(UF=(0,Jn.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):r}))}),HF=WF;function VF(e){return GP("MuiTextField",e)}KP("MuiTextField",["root"]);const GF=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","slots","slotProps","type","value","variant"],KF={standard:tF,filled:lF,outlined:yF},YF=yA(aI,{name:"MuiTextField",slot:"Root"})({}),$F=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:a=!1,children:s,className:i,color:o="primary",defaultValue:l,disabled:c=!1,error:d=!1,FormHelperTextProps:u,fullWidth:h=!1,helperText:p,id:m,InputLabelProps:f,inputProps:g,InputProps:x,inputRef:v,label:b,maxRows:y,minRows:w,multiline:j=!1,name:N,onBlur:k,onChange:S,onFocus:C,placeholder:_,required:P=!1,rows:A,select:D=!1,SelectProps:T,slots:L={},slotProps:E={},type:I,value:R,variant:M="outlined"}=n,F=ke(n,GF),O=Ne(Ne({},n),{},{autoFocus:a,color:o,disabled:c,error:d,fullWidth:h,multiline:j,required:P,select:D,variant:M}),z=(e=>{const{classes:t}=e;return ZP({root:["root"]},VF,t)})(O);const B=_D(m),U=p&&B?"".concat(B,"-helper-text"):void 0,q=b&&B?"".concat(B,"-label"):void 0,W=KF[M],H={slots:L,slotProps:Ne({input:x,inputLabel:f,htmlInput:g,formHelperText:u,select:T},E)},V={},G=H.slotProps.inputLabel;"outlined"===M&&(G&&"undefined"!==typeof G.shrink&&(V.notched=G.shrink),V.label=b),D&&(T&&T.native||(V.id=void 0),V["aria-describedby"]=void 0);const[K,Y]=jD("root",{elementType:YF,shouldForwardComponentProp:!0,externalForwardedProps:Ne(Ne({},H),F),ownerState:O,className:pk(z.root,i),ref:t,additionalProps:{disabled:c,error:d,fullWidth:h,required:P,color:o,variant:M}}),[$,J]=jD("input",{elementType:W,externalForwardedProps:H,additionalProps:V,ownerState:O}),[X,Q]=jD("inputLabel",{elementType:vI,externalForwardedProps:H,ownerState:O}),[Z,ee]=jD("htmlInput",{elementType:"input",externalForwardedProps:H,ownerState:O}),[te,ne]=jD("formHelperText",{elementType:HF,externalForwardedProps:H,ownerState:O}),[re,ae]=jD("select",{elementType:PF,externalForwardedProps:H,ownerState:O}),se=(0,Jn.jsx)($,Ne({"aria-describedby":U,autoComplete:r,autoFocus:a,defaultValue:l,fullWidth:h,multiline:j,name:N,rows:A,maxRows:y,minRows:w,type:I,value:R,id:B,inputRef:v,onBlur:k,onChange:S,onFocus:C,placeholder:_,inputProps:ee,slots:{input:L.htmlInput?Z:void 0}},J));return(0,Jn.jsxs)(K,Ne(Ne({},Y),{},{children:[null!=b&&""!==b&&(0,Jn.jsx)(X,Ne(Ne({htmlFor:B,id:q},Q),{},{children:b})),D?(0,Jn.jsx)(re,Ne(Ne({"aria-describedby":U,id:B,labelId:q,value:R,input:se},ae),{},{children:s})):se,p&&(0,Jn.jsx)(te,Ne(Ne({id:U},ne),{},{children:p}))]}))}),JF=$F;function XF(e){return GP("MuiButton",e)}const QF=KP("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const ZF=t.createContext({});const eO=t.createContext(void 0),tO=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","id","loading","loadingIndicator","loadingPosition","size","startIcon","type","variant"],nO=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],rO=yA(pT,{shouldForwardProp:e=>bA(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(_A(n.color))],t["size".concat(_A(n.size))],t["".concat(n.variant,"Size").concat(_A(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(jA(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return Ne(Ne({},t.typography.button),{},{minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},["&.".concat(QF.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},["&.".concat(QF.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]},["&.".concat(QF.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",["&.".concat(QF.disabled)]:{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(PA()).map(e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}}}),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(QF.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(QF.disabled)]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),["&.".concat(QF.loading)]:{color:"transparent"}}}]})})),aO=yA("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t["iconSize".concat(_A(n.size))]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...nO]}}),sO=yA("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t["iconSize".concat(_A(n.size))]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...nO]}}),iO=yA("span",{name:"MuiButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}}),oO=yA("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),lO=t.forwardRef(function(e,n){const r=t.useContext(ZF),a=t.useContext(eO),s=CA({props:NA(r,e),name:"MuiButton"}),{children:i,color:o="primary",component:l="button",className:c,disabled:d=!1,disableElevation:u=!1,disableFocusRipple:h=!1,endIcon:p,focusVisibleClassName:m,fullWidth:f=!1,id:g,loading:x=null,loadingIndicator:v,loadingPosition:b="center",size:y="medium",startIcon:w,type:j,variant:N="text"}=s,k=ke(s,tO),S=PD(g),C=null!==v&&void 0!==v?v:(0,Jn.jsx)(VA,{"aria-labelledby":S,color:"inherit",size:16}),_=Ne(Ne({},s),{},{color:o,component:l,disabled:d,disableElevation:u,disableFocusRipple:h,fullWidth:f,loading:x,loadingIndicator:C,loadingPosition:b,size:y,type:j,variant:N}),P=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:a,variant:s,loading:i,loadingPosition:o,classes:l}=e,c=ZP({root:["root",i&&"loading",s,"".concat(s).concat(_A(t)),"size".concat(_A(a)),"".concat(s,"Size").concat(_A(a)),"color".concat(_A(t)),n&&"disableElevation",r&&"fullWidth",i&&"loadingPosition".concat(_A(o))],startIcon:["icon","startIcon","iconSize".concat(_A(a))],endIcon:["icon","endIcon","iconSize".concat(_A(a))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},XF,l);return Ne(Ne({},l),c)})(_),A=(w||x&&"start"===b)&&(0,Jn.jsx)(aO,{className:P.startIcon,ownerState:_,children:w||(0,Jn.jsx)(oO,{className:P.loadingIconPlaceholder,ownerState:_})}),D=(p||x&&"end"===b)&&(0,Jn.jsx)(sO,{className:P.endIcon,ownerState:_,children:p||(0,Jn.jsx)(oO,{className:P.loadingIconPlaceholder,ownerState:_})}),T=a||"",L="boolean"===typeof x?(0,Jn.jsx)("span",{className:P.loadingWrapper,style:{display:"contents"},children:x&&(0,Jn.jsx)(iO,{className:P.loadingIndicator,ownerState:_,children:C})}):null;return(0,Jn.jsxs)(rO,Ne(Ne({ownerState:_,className:pk(r.className,P.root,c,T),component:l,disabled:d||x,focusRipple:!h,focusVisibleClassName:pk(P.focusVisible,m),ref:n,type:j,id:x?S:g},k),{},{classes:P,children:[A,"end"!==b&&L,i,"end"===b&&L,D]}))}),cO=lO;function dO(e){return GP("MuiTableContainer",e)}KP("MuiTableContainer",["root"]);const uO=["className","component"],hO=yA("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),pO=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiTableContainer"}),{className:r,component:a="div"}=n,s=ke(n,uO),i=Ne(Ne({},n),{},{component:a}),o=(e=>{const{classes:t}=e;return ZP({root:["root"]},dO,t)})(i);return(0,Jn.jsx)(hO,Ne({ref:t,as:a,className:pk(o.root,r),ownerState:i},s))}),mO=pO;const fO=t.createContext();function gO(e){return GP("MuiTable",e)}KP("MuiTable",["root","stickyHeader"]);const xO=["className","component","padding","size","stickyHeader"],vO=yA("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(jA(e=>{let{theme:t}=e;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Ne(Ne({},t.typography.body2),{},{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"}),variants:[{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{borderCollapse:"separate"}}]}})),bO="table",yO=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiTable"}),{className:a,component:s=bO,padding:i="normal",size:o="medium",stickyHeader:l=!1}=r,c=ke(r,xO),d=Ne(Ne({},r),{},{component:s,padding:i,size:o,stickyHeader:l}),u=(e=>{const{classes:t,stickyHeader:n}=e;return ZP({root:["root",n&&"stickyHeader"]},gO,t)})(d),h=t.useMemo(()=>({padding:i,size:o,stickyHeader:l}),[i,o,l]);return(0,Jn.jsx)(fO.Provider,{value:h,children:(0,Jn.jsx)(vO,Ne({as:s,role:s===bO?null:"table",ref:n,className:pk(u.root,a),ownerState:d},c))})}),wO=yO;const jO=t.createContext();function NO(e){return GP("MuiTableHead",e)}KP("MuiTableHead",["root"]);const kO=["className","component"],SO=yA("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),CO={variant:"head"},_O="thead",PO=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiTableHead"}),{className:r,component:a=_O}=n,s=ke(n,kO),i=Ne(Ne({},n),{},{component:a}),o=(e=>{const{classes:t}=e;return ZP({root:["root"]},NO,t)})(i);return(0,Jn.jsx)(jO.Provider,{value:CO,children:(0,Jn.jsx)(SO,Ne({as:a,className:pk(o.root,r),ref:t,role:a===_O?null:"rowgroup",ownerState:i},s))})}),AO=PO;function DO(e){return GP("MuiTableRow",e)}const TO=KP("MuiTableRow",["root","selected","hover","head","footer"]),LO=["className","component","hover","selected"],EO=yA("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(jA(e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(TO.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(TO.selected)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity))}}}})),IO="tr",RO=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiTableRow"}),{className:a,component:s=IO,hover:i=!1,selected:o=!1}=r,l=ke(r,LO),c=t.useContext(jO),d=Ne(Ne({},r),{},{component:s,hover:i,selected:o,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),u=(e=>{const{classes:t,selected:n,hover:r,head:a,footer:s}=e;return ZP({root:["root",n&&"selected",r&&"hover",a&&"head",s&&"footer"]},DO,t)})(d);return(0,Jn.jsx)(EO,Ne({as:s,ref:n,className:pk(u.root,a),role:s===IO?null:"row",ownerState:d},l))}),MO=RO;function FO(e){return GP("MuiTableCell",e)}const OO=KP("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),zO=["align","className","component","padding","scope","size","sortDirection","variant"],BO=yA("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat(_A(n.size))],"normal"!==n.padding&&t["padding".concat(_A(n.padding))],"inherit"!==n.align&&t["align".concat(_A(n.align))],n.stickyHeader&&t.stickyHeader]}})(jA(e=>{let{theme:t}=e;return Ne(Ne({},t.typography.body2),{},{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)),textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",["&.".concat(OO.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]})})),UO=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiTableCell"}),{align:a="inherit",className:s,component:i,padding:o,scope:l,size:c,sortDirection:d,variant:u}=r,h=ke(r,zO),p=t.useContext(fO),m=t.useContext(jO),f=m&&"head"===m.variant;let g;g=i||(f?"th":"td");let x=l;"td"===g?x=void 0:!x&&f&&(x="col");const v=u||m&&m.variant,b=Ne(Ne({},r),{},{align:a,component:g,padding:o||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:d,stickyHeader:"head"===v&&p&&p.stickyHeader,variant:v}),y=(e=>{const{classes:t,variant:n,align:r,padding:a,size:s,stickyHeader:i}=e;return ZP({root:["root",n,i&&"stickyHeader","inherit"!==r&&"align".concat(_A(r)),"normal"!==a&&"padding".concat(_A(a)),"size".concat(_A(s))]},FO,t)})(b);let w=null;return d&&(w="asc"===d?"ascending":"descending"),(0,Jn.jsx)(BO,Ne({as:g,ref:n,className:pk(y.root,s),"aria-sort":w,scope:x,ownerState:b},h))}),qO=UO;function WO(e){return GP("MuiTableBody",e)}KP("MuiTableBody",["root"]);const HO=["className","component"],VO=yA("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),GO={variant:"body"},KO="tbody",YO=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiTableBody"}),{className:r,component:a=KO}=n,s=ke(n,HO),i=Ne(Ne({},n),{},{component:a}),o=(e=>{const{classes:t}=e;return ZP({root:["root"]},WO,t)})(i);return(0,Jn.jsx)(jO.Provider,{value:GO,children:(0,Jn.jsx)(VO,Ne({className:pk(o.root,r),as:a,ref:t,role:a===KO?null:"rowgroup",ownerState:i},s))})}),$O=YO,JO=CT((0,Jn.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function XO(e){return GP("MuiChip",e)}const QO=KP("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ZO=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled","slots","slotProps"],ez=yA("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:a,clickable:s,onDelete:i,size:o,variant:l}=n;return[{["& .".concat(QO.avatar)]:t.avatar},{["& .".concat(QO.avatar)]:t["avatar".concat(_A(o))]},{["& .".concat(QO.avatar)]:t["avatarColor".concat(_A(r))]},{["& .".concat(QO.icon)]:t.icon},{["& .".concat(QO.icon)]:t["icon".concat(_A(o))]},{["& .".concat(QO.icon)]:t["iconColor".concat(_A(a))]},{["& .".concat(QO.deleteIcon)]:t.deleteIcon},{["& .".concat(QO.deleteIcon)]:t["deleteIcon".concat(_A(o))]},{["& .".concat(QO.deleteIcon)]:t["deleteIconColor".concat(_A(r))]},{["& .".concat(QO.deleteIcon)]:t["deleteIcon".concat(_A(l),"Color").concat(_A(r))]},t.root,t["size".concat(_A(o))],t["color".concat(_A(r))],s&&t.clickable,s&&"default"!==r&&t["clickableColor".concat(_A(r))],i&&t.deletable,i&&"default"!==r&&t["deletableColor".concat(_A(r))],t[l],t["".concat(l).concat(_A(r))]]}})(jA(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(QO.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(QO.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},["& .".concat(QO.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(QO.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(QO.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(QO.icon)]:{marginLeft:5,marginRight:-6},["& .".concat(QO.deleteIcon)]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,["& .".concat(QO.icon)]:{fontSize:18,marginLeft:4,marginRight:-4},["& .".concat(QO.deleteIcon)]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(PA(["contrastText"])).map(e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,["& .".concat(QO.deleteIcon)]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}}}),{props:e=>e.iconColor===e.color,style:{["& .".concat(QO.icon)]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:n}}},{props:e=>e.iconColor===e.color&&"default"!==e.color,style:{["& .".concat(QO.icon)]:{color:"inherit"}}},{props:{onDelete:!0},style:{["&.".concat(QO.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}}},...Object.entries(t.palette).filter(PA(["dark"])).map(e=>{let[n]=e;return{props:{color:n,onDelete:!0},style:{["&.".concat(QO.focusVisible)]:{background:(t.vars||t).palette[n].dark}}}}),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity))},["&.".concat(QO.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(PA(["dark"])).map(e=>{let[n]=e;return{props:{color:n,clickable:!0},style:{["&:hover, &.".concat(QO.focusVisible)]:{backgroundColor:(t.vars||t).palette[n].dark}}}}),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(QO.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(QO.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(QO.avatar)]:{marginLeft:4},["& .".concat(QO.avatarSmall)]:{marginLeft:2},["& .".concat(QO.icon)]:{marginLeft:4},["& .".concat(QO.iconSmall)]:{marginLeft:2},["& .".concat(QO.deleteIcon)]:{marginRight:5},["& .".concat(QO.deleteIconSmall)]:{marginRight:3}}},...Object.entries(t.palette).filter(PA()).map(e=>{let[n]=e;return{props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:"1px solid ".concat(t.alpha((t.vars||t).palette[n].main,.7)),["&.".concat(QO.clickable,":hover")]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},["&.".concat(QO.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},["& .".concat(QO.deleteIcon)]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}})]}})),tz=yA("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat(_A(r))]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function nz(e){return"Backspace"===e.key||"Delete"===e.key}const rz=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiChip"}),{avatar:a,className:s,clickable:i,color:o="default",component:l,deleteIcon:c,disabled:d=!1,icon:u,label:h,onClick:p,onDelete:m,onKeyDown:f,onKeyUp:g,size:x="medium",variant:v="filled",tabIndex:b,skipFocusWhenDisabled:y=!1,slots:w={},slotProps:j={}}=r,N=ke(r,ZO),k=t.useRef(null),S=DD(k,n),C=e=>{e.stopPropagation(),m&&m(e)},_=!(!1===i||!p)||i,P=_||m?pT:l||"div",A=Ne(Ne({},r),{},{component:P,disabled:d,size:x,color:o,iconColor:t.isValidElement(u)&&u.props.color||o,onDelete:!!m,clickable:_,variant:v}),D=(e=>{const{classes:t,disabled:n,size:r,color:a,iconColor:s,onDelete:i,clickable:o,variant:l}=e;return ZP({root:["root",l,n&&"disabled","size".concat(_A(r)),"color".concat(_A(a)),o&&"clickable",o&&"clickableColor".concat(_A(a)),i&&"deletable",i&&"deletableColor".concat(_A(a)),"".concat(l).concat(_A(a))],label:["label","label".concat(_A(r))],avatar:["avatar","avatar".concat(_A(r)),"avatarColor".concat(_A(a))],icon:["icon","icon".concat(_A(r)),"iconColor".concat(_A(s))],deleteIcon:["deleteIcon","deleteIcon".concat(_A(r)),"deleteIconColor".concat(_A(a)),"deleteIcon".concat(_A(l),"Color").concat(_A(a))]},XO,t)})(A),T=P===pT?Ne({component:l||"div",focusVisibleClassName:D.focusVisible},m&&{disableRipple:!0}):{};let L=null;m&&(L=c&&t.isValidElement(c)?t.cloneElement(c,{className:pk(c.props.className,D.deleteIcon),onClick:C}):(0,Jn.jsx)(JO,{className:D.deleteIcon,onClick:C}));let E=null;a&&t.isValidElement(a)&&(E=t.cloneElement(a,{className:pk(D.avatar,a.props.className)}));let I=null;u&&t.isValidElement(u)&&(I=t.cloneElement(u,{className:pk(D.icon,u.props.className)}));const R={slots:w,slotProps:j},[M,F]=jD("root",{elementType:ez,externalForwardedProps:Ne(Ne({},R),N),ownerState:A,shouldForwardComponentProp:!0,ref:S,className:pk(D.root,s),additionalProps:Ne({disabled:!(!_||!d)||void 0,tabIndex:y&&d?-1:b},T),getSlotProps:e=>Ne(Ne({},e),{},{onClick:t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),null===p||void 0===p||p(t)},onKeyDown:t=>{var n;null===(n=e.onKeyDown)||void 0===n||n.call(e,t),(e=>{e.currentTarget===e.target&&nz(e)&&e.preventDefault(),f&&f(e)})(t)},onKeyUp:t=>{var n;null===(n=e.onKeyUp)||void 0===n||n.call(e,t),(e=>{e.currentTarget===e.target&&m&&nz(e)&&m(e),g&&g(e)})(t)}})}),[O,z]=jD("label",{elementType:tz,externalForwardedProps:R,ownerState:A,className:D.label});return(0,Jn.jsxs)(M,Ne(Ne({as:P},F),{},{children:[E||I,(0,Jn.jsx)(O,Ne(Ne({},z),{},{children:h})),L]}))}),az=rz;function sz(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function iz(e){return e instanceof sz(e).Element||e instanceof Element}function oz(e){return e instanceof sz(e).HTMLElement||e instanceof HTMLElement}function lz(e){return"undefined"!==typeof ShadowRoot&&(e instanceof sz(e).ShadowRoot||e instanceof ShadowRoot)}var cz=Math.max,dz=Math.min,uz=Math.round;function hz(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pz(){return!/^((?!chrome|android).)*safari/i.test(hz())}function mz(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,s=1;t&&oz(e)&&(a=e.offsetWidth>0&&uz(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&uz(r.height)/e.offsetHeight||1);var i=(iz(e)?sz(e):window).visualViewport,o=!pz()&&n,l=(r.left+(o&&i?i.offsetLeft:0))/a,c=(r.top+(o&&i?i.offsetTop:0))/s,d=r.width/a,u=r.height/s;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function fz(e){var t=sz(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function gz(e){return e?(e.nodeName||"").toLowerCase():null}function xz(e){return((iz(e)?e.ownerDocument:e.document)||window.document).documentElement}function vz(e){return mz(xz(e)).left+fz(e).scrollLeft}function bz(e){return sz(e).getComputedStyle(e)}function yz(e){var t=bz(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function wz(e,t,n){void 0===n&&(n=!1);var r=oz(t),a=oz(t)&&function(e){var t=e.getBoundingClientRect(),n=uz(t.width)/e.offsetWidth||1,r=uz(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=xz(t),i=mz(e,a,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==gz(t)||yz(s))&&(o=function(e){return e!==sz(e)&&oz(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:fz(e);var t}(t)),oz(t)?((l=mz(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=vz(s))),{x:i.left+o.scrollLeft-l.x,y:i.top+o.scrollTop-l.y,width:i.width,height:i.height}}function jz(e){var t=mz(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Nz(e){return"html"===gz(e)?e:e.assignedSlot||e.parentNode||(lz(e)?e.host:null)||xz(e)}function kz(e){return["html","body","#document"].indexOf(gz(e))>=0?e.ownerDocument.body:oz(e)&&yz(e)?e:kz(Nz(e))}function Sz(e,t){var n;void 0===t&&(t=[]);var r=kz(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),s=sz(r),i=a?[s].concat(s.visualViewport||[],yz(r)?r:[]):r,o=t.concat(i);return a?o:o.concat(Sz(Nz(i)))}function Cz(e){return["table","td","th"].indexOf(gz(e))>=0}function _z(e){return oz(e)&&"fixed"!==bz(e).position?e.offsetParent:null}function Pz(e){for(var t=sz(e),n=_z(e);n&&Cz(n)&&"static"===bz(n).position;)n=_z(n);return n&&("html"===gz(n)||"body"===gz(n)&&"static"===bz(n).position)?t:n||function(e){var t=/firefox/i.test(hz());if(/Trident/i.test(hz())&&oz(e)&&"fixed"===bz(e).position)return null;var n=Nz(e);for(lz(n)&&(n=n.host);oz(n)&&["html","body"].indexOf(gz(n))<0;){var r=bz(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Az="top",Dz="bottom",Tz="right",Lz="left",Ez="auto",Iz=[Az,Dz,Tz,Lz],Rz="start",Mz="end",Fz="viewport",Oz="popper",zz=Iz.reduce(function(e,t){return e.concat([t+"-"+Rz,t+"-"+Mz])},[]),Bz=[].concat(Iz,[Ez]).reduce(function(e,t){return e.concat([t,t+"-"+Rz,t+"-"+Mz])},[]),Uz=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function qz(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||a(e)}),r}function Wz(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var Hz={placement:"bottom",modifiers:[],strategy:"absolute"};function Vz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function Gz(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,s=void 0===a?Hz:a;return function(e,t,n){void 0===n&&(n=s);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hz,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],o=!1,l={state:a,setOptions:function(n){var o="function"===typeof n?n(a.options):n;c(),a.options=Object.assign({},s,a.options,o),a.scrollParents={reference:iz(e)?Sz(e):e.contextElement?Sz(e.contextElement):[],popper:Sz(t)};var d=function(e){var t=qz(e);return Uz.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,a.options.modifiers)));return a.orderedModifiers=d.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var o=s({state:a,name:t,instance:l,options:r}),c=function(){};i.push(o||c)}}),l.update()},forceUpdate:function(){if(!o){var e=a.elements,t=e.reference,n=e.popper;if(Vz(t,n)){a.rects={reference:wz(t,Pz(n),"fixed"===a.options.strategy),popper:jz(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var s=a.orderedModifiers[r],i=s.fn,c=s.options,d=void 0===c?{}:c,u=s.name;"function"===typeof i&&(a=i({state:a,options:d,name:u,instance:l})||a)}else a.reset=!1,r=-1}}},update:Wz(function(){return new Promise(function(e){l.forceUpdate(),e(a)})}),destroy:function(){c(),o=!0}};if(!Vz(e,t))return l;function c(){i.forEach(function(e){return e()}),i=[]}return l.setOptions(n).then(function(e){!o&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var Kz={passive:!0};function Yz(e){return e.split("-")[0]}function $z(e){return e.split("-")[1]}function Jz(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Xz(e){var t,n=e.reference,r=e.element,a=e.placement,s=a?Yz(a):null,i=a?$z(a):null,o=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case Az:t={x:o,y:n.y-r.height};break;case Dz:t={x:o,y:n.y+n.height};break;case Tz:t={x:n.x+n.width,y:l};break;case Lz:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?Jz(s):null;if(null!=c){var d="y"===c?"height":"width";switch(i){case Rz:t[c]=t[c]-(n[d]/2-r[d]/2);break;case Mz:t[c]=t[c]+(n[d]/2-r[d]/2)}}return t}var Qz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zz(e){var t,n=e.popper,r=e.popperRect,a=e.placement,s=e.variation,i=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,h=i.x,p=void 0===h?0:h,m=i.y,f=void 0===m?0:m,g="function"===typeof d?d({x:p,y:f}):{x:p,y:f};p=g.x,f=g.y;var x=i.hasOwnProperty("x"),v=i.hasOwnProperty("y"),b=Lz,y=Az,w=window;if(c){var j=Pz(n),N="clientHeight",k="clientWidth";if(j===sz(n)&&"static"!==bz(j=xz(n)).position&&"absolute"===o&&(N="scrollHeight",k="scrollWidth"),a===Az||(a===Lz||a===Tz)&&s===Mz)y=Dz,f-=(u&&j===w&&w.visualViewport?w.visualViewport.height:j[N])-r.height,f*=l?1:-1;if(a===Lz||(a===Az||a===Dz)&&s===Mz)b=Tz,p-=(u&&j===w&&w.visualViewport?w.visualViewport.width:j[k])-r.width,p*=l?1:-1}var S,C=Object.assign({position:o},c&&Qz),_=!0===d?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:uz(n*a)/a||0,y:uz(r*a)/a||0}}({x:p,y:f},sz(n)):{x:p,y:f};return p=_.x,f=_.y,l?Object.assign({},C,((S={})[y]=v?"0":"",S[b]=x?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",S)):Object.assign({},C,((t={})[y]=v?f+"px":"",t[b]=x?p+"px":"",t.transform="",t))}const eB={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];oz(a)&&gz(a)&&(Object.assign(a.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],a=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});oz(r)&&gz(r)&&(Object.assign(r.style,s),Object.keys(a).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};const tB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,s=void 0===a?[0,0]:a,i=Bz.reduce(function(e,n){return e[n]=function(e,t,n){var r=Yz(e),a=[Lz,Az].indexOf(r)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,i=s[0],o=s[1];return i=i||0,o=(o||0)*a,[Lz,Tz].indexOf(r)>=0?{x:o,y:i}:{x:i,y:o}}(n,t.rects,s),e},{}),o=i[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}};var nB={left:"right",right:"left",bottom:"top",top:"bottom"};function rB(e){return e.replace(/left|right|bottom|top/g,function(e){return nB[e]})}var aB={start:"end",end:"start"};function sB(e){return e.replace(/start|end/g,function(e){return aB[e]})}function iB(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&lz(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function oB(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function lB(e,t,n){return t===Fz?oB(function(e,t){var n=sz(e),r=xz(e),a=n.visualViewport,s=r.clientWidth,i=r.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;var c=pz();(c||!c&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o+vz(e),y:l}}(e,n)):iz(t)?function(e,t){var n=mz(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):oB(function(e){var t,n=xz(e),r=fz(e),a=null==(t=e.ownerDocument)?void 0:t.body,s=cz(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=cz(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-r.scrollLeft+vz(e),l=-r.scrollTop;return"rtl"===bz(a||n).direction&&(o+=cz(n.clientWidth,a?a.clientWidth:0)-s),{width:s,height:i,x:o,y:l}}(xz(e)))}function cB(e,t,n,r){var a="clippingParents"===t?function(e){var t=Sz(Nz(e)),n=["absolute","fixed"].indexOf(bz(e).position)>=0&&oz(e)?Pz(e):e;return iz(n)?t.filter(function(e){return iz(e)&&iB(e,n)&&"body"!==gz(e)}):[]}(e):[].concat(t),s=[].concat(a,[n]),i=s[0],o=s.reduce(function(t,n){var a=lB(e,n,r);return t.top=cz(a.top,t.top),t.right=dz(a.right,t.right),t.bottom=dz(a.bottom,t.bottom),t.left=cz(a.left,t.left),t},lB(e,i,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function dB(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function uB(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function hB(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,s=n.strategy,i=void 0===s?e.strategy:s,o=n.boundary,l=void 0===o?"clippingParents":o,c=n.rootBoundary,d=void 0===c?Fz:c,u=n.elementContext,h=void 0===u?Oz:u,p=n.altBoundary,m=void 0!==p&&p,f=n.padding,g=void 0===f?0:f,x=dB("number"!==typeof g?g:uB(g,Iz)),v=h===Oz?"reference":Oz,b=e.rects.popper,y=e.elements[m?v:h],w=cB(iz(y)?y:y.contextElement||xz(e.elements.popper),l,d,i),j=mz(e.elements.reference),N=Xz({reference:j,element:b,strategy:"absolute",placement:a}),k=oB(Object.assign({},b,N)),S=h===Oz?k:j,C={top:w.top-S.top+x.top,bottom:S.bottom-w.bottom+x.bottom,left:w.left-S.left+x.left,right:S.right-w.right+x.right},_=e.modifiersData.offset;if(h===Oz&&_){var P=_[a];Object.keys(C).forEach(function(e){var t=[Tz,Dz].indexOf(e)>=0?1:-1,n=[Az,Dz].indexOf(e)>=0?"y":"x";C[e]+=P[n]*t})}return C}const pB={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,s=void 0===a||a,i=n.altAxis,o=void 0===i||i,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=void 0===p||p,f=n.allowedAutoPlacements,g=t.options.placement,x=Yz(g),v=l||(x===g||!m?[rB(g)]:function(e){if(Yz(e)===Ez)return[];var t=rB(e);return[sB(e),t,sB(t)]}(g)),b=[g].concat(v).reduce(function(e,n){return e.concat(Yz(n)===Ez?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,s=n.rootBoundary,i=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Bz:l,d=$z(r),u=d?o?zz:zz.filter(function(e){return $z(e)===d}):Iz,h=u.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=u);var p=h.reduce(function(t,n){return t[n]=hB(e,{placement:n,boundary:a,rootBoundary:s,padding:i})[Yz(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:f}):n)},[]),y=t.rects.reference,w=t.rects.popper,j=new Map,N=!0,k=b[0],S=0;S<b.length;S++){var C=b[S],_=Yz(C),P=$z(C)===Rz,A=[Az,Dz].indexOf(_)>=0,D=A?"width":"height",T=hB(t,{placement:C,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),L=A?P?Tz:Lz:P?Dz:Az;y[D]>w[D]&&(L=rB(L));var E=rB(L),I=[];if(s&&I.push(T[_]<=0),o&&I.push(T[L]<=0,T[E]<=0),I.every(function(e){return e})){k=C,N=!1;break}j.set(C,I)}if(N)for(var R=function(e){var t=b.find(function(t){var n=j.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return k=t,"break"},M=m?3:1;M>0;M--){if("break"===R(M))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function mB(e,t,n){return cz(e,dz(t,n))}const fB={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,s=void 0===a||a,i=n.altAxis,o=void 0!==i&&i,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,u=n.padding,h=n.tether,p=void 0===h||h,m=n.tetherOffset,f=void 0===m?0:m,g=hB(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),x=Yz(t.placement),v=$z(t.placement),b=!v,y=Jz(x),w="x"===y?"y":"x",j=t.modifiersData.popperOffsets,N=t.rects.reference,k=t.rects.popper,S="function"===typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,C="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(j){if(s){var A,D="y"===y?Az:Lz,T="y"===y?Dz:Tz,L="y"===y?"height":"width",E=j[y],I=E+g[D],R=E-g[T],M=p?-k[L]/2:0,F=v===Rz?N[L]:k[L],O=v===Rz?-k[L]:-N[L],z=t.elements.arrow,B=p&&z?jz(z):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=U[D],W=U[T],H=mB(0,N[L],B[L]),V=b?N[L]/2-M-H-q-C.mainAxis:F-H-q-C.mainAxis,G=b?-N[L]/2+M+H+W+C.mainAxis:O+H+W+C.mainAxis,K=t.elements.arrow&&Pz(t.elements.arrow),Y=K?"y"===y?K.clientTop||0:K.clientLeft||0:0,$=null!=(A=null==_?void 0:_[y])?A:0,J=E+G-$,X=mB(p?dz(I,E+V-$-Y):I,E,p?cz(R,J):R);j[y]=X,P[y]=X-E}if(o){var Q,Z="x"===y?Az:Lz,ee="x"===y?Dz:Tz,te=j[w],ne="y"===w?"height":"width",re=te+g[Z],ae=te-g[ee],se=-1!==[Az,Lz].indexOf(x),ie=null!=(Q=null==_?void 0:_[w])?Q:0,oe=se?re:te-N[ne]-k[ne]-ie+C.altAxis,le=se?te+N[ne]+k[ne]-ie-C.altAxis:ae,ce=p&&se?function(e,t,n){var r=mB(e,t,n);return r>n?n:r}(oe,te,le):mB(p?oe:re,te,p?le:ae);j[w]=ce,P[w]=ce-te}t.modifiersData[r]=P}},requiresIfExists:["offset"]};const gB={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,o=Yz(n.placement),l=Jz(o),c=[Lz,Tz].indexOf(o)>=0?"height":"width";if(s&&i){var d=function(e,t){return dB("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:uB(e,Iz))}(a.padding,n),u=jz(s),h="y"===l?Az:Lz,p="y"===l?Dz:Tz,m=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],f=i[l]-n.rects.reference[l],g=Pz(s),x=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=m/2-f/2,b=d[h],y=x-u[c]-d[p],w=x/2-u[c]/2+v,j=mB(b,w,y),N=l;n.modifiersData[r]=((t={})[N]=j,t.centerOffset=j-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&iB(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xB(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function vB(e){return[Az,Tz,Dz,Lz].some(function(t){return e[t]>=0})}var bB=Gz({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,s=void 0===a||a,i=r.resize,o=void 0===i||i,l=sz(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(e){e.addEventListener("scroll",n.update,Kz)}),o&&l.addEventListener("resize",n.update,Kz),function(){s&&c.forEach(function(e){e.removeEventListener("scroll",n.update,Kz)}),o&&l.removeEventListener("resize",n.update,Kz)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Xz({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,s=n.adaptive,i=void 0===s||s,o=n.roundOffsets,l=void 0===o||o,c={placement:Yz(t.placement),variation:$z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Zz(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Zz(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},eB,tB,pB,fB,gB,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,i=hB(t,{elementContext:"reference"}),o=hB(t,{altBoundary:!0}),l=xB(i,r),c=xB(o,a,s),d=vB(l),u=vB(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]});function yB(e){return GP("MuiPopper",e)}KP("MuiPopper",["root"]);const wB=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],jB=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function NB(e){return"function"===typeof e?e():e}function kB(e){return void 0!==e.nodeType}const SB={},CB=t.forwardRef(function(e,n){var r;const{anchorEl:a,children:s,direction:i,disablePortal:o,modifiers:l,open:c,placement:d,popperOptions:u,popperRef:h,slotProps:p={},slots:m={},TransitionProps:f,ownerState:g}=e,x=ke(e,wB),v=t.useRef(null),b=hD(v,n),y=t.useRef(null),w=hD(y,h),j=t.useRef(w);TD(()=>{j.current=w},[w]),t.useImperativeHandle(h,()=>y.current,[]);const N=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(d,i),[k,S]=t.useState(N),[C,_]=t.useState(NB(a));t.useEffect(()=>{y.current&&y.current.forceUpdate()}),t.useEffect(()=>{a&&_(NB(a))},[a]),TD(()=>{if(!C||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;S(t.placement)}}];null!=l&&(e=e.concat(l)),u&&null!=u.modifiers&&(e=e.concat(u.modifiers));const t=bB(C,v.current,Ne(Ne({placement:N},u),{},{modifiers:e}));return j.current(t),()=>{t.destroy(),j.current(null)}},[C,o,l,c,u,N]);const P={placement:k};null!==f&&(P.TransitionProps=f);const A=(e=>{const{classes:t}=e;return ZP({root:["root"]},yB,t)})(e),D=null!==(r=m.root)&&void 0!==r?r:"div",T=SI({elementType:D,externalSlotProps:p.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:A.root});return(0,Jn.jsx)(D,Ne(Ne({},T),{},{children:"function"===typeof s?s(P):s}))}),_B=t.forwardRef(function(e,n){const{anchorEl:r,children:a,container:s,direction:i="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:c,open:d,placement:u="bottom",popperOptions:h=SB,popperRef:p,style:m,transition:f=!1,slotProps:g={},slots:x={}}=e,v=ke(e,jB),[b,y]=t.useState(!0);if(!l&&!d&&(!f||b))return null;let w;if(s)w=s;else if(r){const e=NB(r);w=e&&kB(e)?yI(e).body:yI(null).body}const j=d||!l||f&&!b?void 0:"none",N=f?{in:d,onEnter:()=>{y(!1)},onExited:()=>{y(!0)}}:void 0;return(0,Jn.jsx)(gR,{disablePortal:o,container:w,children:(0,Jn.jsx)(CB,Ne(Ne({anchorEl:r,direction:i,disablePortal:o,modifiers:c,ref:n,open:f?!b:d,placement:u,popperOptions:h,popperRef:p,slotProps:g,slots:x},v),{},{style:Ne({position:"fixed",top:0,left:0,display:j},m),TransitionProps:N,children:a}))})}),PB=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],AB=yA(_B,{name:"MuiPopper",slot:"Root"})({}),DB=t.forwardRef(function(e,t){var n;const r=NI(),a=CA({props:e,name:"MuiPopper"}),{anchorEl:s,component:i,components:o,componentsProps:l,container:c,disablePortal:d,keepMounted:u,modifiers:h,open:p,placement:m,popperOptions:f,popperRef:g,transition:x,slots:v,slotProps:b}=a,y=ke(a,PB),w=null!==(n=null===v||void 0===v?void 0:v.root)&&void 0!==n?n:null===o||void 0===o?void 0:o.Root,j=Ne({anchorEl:s,container:c,disablePortal:d,keepMounted:u,modifiers:h,open:p,placement:m,popperOptions:f,popperRef:g,transition:x},y);return(0,Jn.jsx)(AB,Ne(Ne({as:i,direction:r?"rtl":"ltr",slots:{root:w},slotProps:null!==b&&void 0!==b?b:l},j),{},{ref:t}))}),TB=DB;function LB(e){return GP("MuiTooltip",e)}const EB=KP("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),IB=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const RB=yA(TB,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(jA(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInteractive},style:{pointerEvents:"auto"}},{props:e=>{let{open:t}=e;return!t},style:{pointerEvents:"none"}},{props:e=>{let{ownerState:t}=e;return t.arrow},style:{['&[data-popper-placement*="bottom"] .'.concat(EB.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(EB.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(EB.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},['&[data-popper-placement*="left"] .'.concat(EB.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(EB.arrow)]:{left:0,marginLeft:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(EB.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(EB.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(EB.arrow)]:{left:0,marginLeft:"-0.71em"}}}]}})),MB=yA("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(_A(n.placement.split("-")[0]))]]}})(jA(e=>{let{theme:t}=e;return{backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[".".concat(EB.popper,'[data-popper-placement*="left"] &')]:{transformOrigin:"right center"},[".".concat(EB.popper,'[data-popper-placement*="right"] &')]:{transformOrigin:"left center"},[".".concat(EB.popper,'[data-popper-placement*="top"] &')]:{transformOrigin:"center bottom",marginBottom:"14px"},[".".concat(EB.popper,'[data-popper-placement*="bottom"] &')]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:e=>{let{ownerState:t}=e;return t.arrow},style:{position:"relative",margin:0}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat((n=16/14,Math.round(1e5*n)/1e5),"em"),fontWeight:t.typography.fontWeightRegular}},{props:e=>{let{ownerState:t}=e;return!t.isRtl},style:{[".".concat(EB.popper,'[data-popper-placement*="left"] &')]:{marginRight:"14px"},[".".concat(EB.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"14px"}}},{props:e=>{let{ownerState:t}=e;return!t.isRtl&&t.touch},style:{[".".concat(EB.popper,'[data-popper-placement*="left"] &')]:{marginRight:"24px"},[".".concat(EB.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"24px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl},style:{[".".concat(EB.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"14px"},[".".concat(EB.popper,'[data-popper-placement*="right"] &')]:{marginRight:"14px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl&&t.touch},style:{[".".concat(EB.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"24px"},[".".concat(EB.popper,'[data-popper-placement*="right"] &')]:{marginRight:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(EB.popper,'[data-popper-placement*="top"] &')]:{marginBottom:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(EB.popper,'[data-popper-placement*="bottom"] &')]:{marginTop:"24px"}}}]};var n})),FB=yA("span",{name:"MuiTooltip",slot:"Arrow"})(jA(e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let OB=!1;const zB=new VD;let BB={x:0,y:0};function UB(e,t){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];t&&t(n,...a),e(n,...a)}}const qB=t.forwardRef(function(e,n){var r,a,s;const i=CA({props:e,name:"MuiTooltip"}),{arrow:o=!1,children:l,classes:c,components:d={},componentsProps:u={},describeChild:h=!1,disableFocusListener:p=!1,disableHoverListener:m=!1,disableInteractive:f=!1,disableTouchListener:g=!1,enterDelay:x=100,enterNextDelay:v=0,enterTouchDelay:b=700,followCursor:y=!1,id:w,leaveDelay:j=0,leaveTouchDelay:N=1500,onClose:k,onOpen:S,open:C,placement:_="bottom",PopperComponent:P,PopperProps:A={},slotProps:D={},slots:T={},title:L,TransitionComponent:E,TransitionProps:I}=i,R=ke(i,IB),M=t.isValidElement(l)?l:(0,Jn.jsx)("span",{children:l}),F=iD(),O=NI(),[z,B]=t.useState(),[U,q]=t.useState(null),W=t.useRef(!1),H=f||y,V=GD(),G=GD(),K=GD(),Y=GD(),[$,J]=bM({controlled:C,default:!1,name:"Tooltip",state:"open"});let X=$;const Q=PD(w),Z=t.useRef(),ee=ED(()=>{void 0!==Z.current&&(document.body.style.WebkitUserSelect=Z.current,Z.current=void 0),Y.clear()});t.useEffect(()=>ee,[ee]);const te=e=>{zB.clear(),OB=!0,J(!0),S&&!X&&S(e)},ne=ED(e=>{zB.start(800+j,()=>{OB=!1}),J(!1),k&&X&&k(e),V.start(F.transitions.duration.shortest,()=>{W.current=!1})}),re=e=>{W.current&&"touchstart"!==e.type||(z&&z.removeAttribute("title"),G.clear(),K.clear(),x||OB&&v?G.start(OB?v:x,()=>{te(e)}):te(e))},ae=e=>{G.clear(),K.start(j,()=>{ne(e)})},[,se]=t.useState(!1),ie=e=>{AD(e.target)||(se(!1),ae(e))},oe=e=>{z||B(e.currentTarget),AD(e.target)&&(se(!0),re(e))},le=e=>{W.current=!0;const t=M.props;t.onTouchStart&&t.onTouchStart(e)},ce=e=>{le(e),K.clear(),V.clear(),ee(),Z.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Y.start(b,()=>{document.body.style.WebkitUserSelect=Z.current,re(e)})},de=e=>{M.props.onTouchEnd&&M.props.onTouchEnd(e),ee(),K.start(N,()=>{ne(e)})};t.useEffect(()=>{if(X)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&ne(e)}},[ne,X]);const ue=DD(bI(M),B,n);L||0===L||(X=!1);const he=t.useRef(),pe={},me="string"===typeof L;h?(pe.title=X||!me||m?null:L,pe["aria-describedby"]=X?Q:null):(pe["aria-label"]=me?L:null,pe["aria-labelledby"]=X&&!me?Q:null);const fe=Ne(Ne(Ne(Ne({},pe),R),M.props),{},{className:pk(R.className,M.props.className),onTouchStart:le,ref:ue},y?{onMouseMove:e=>{const t=M.props;t.onMouseMove&&t.onMouseMove(e),BB={x:e.clientX,y:e.clientY},he.current&&he.current.update()}}:{});const ge={};g||(fe.onTouchStart=ce,fe.onTouchEnd=de),m||(fe.onMouseOver=UB(re,fe.onMouseOver),fe.onMouseLeave=UB(ae,fe.onMouseLeave),H||(ge.onMouseOver=re,ge.onMouseLeave=ae)),p||(fe.onFocus=UB(oe,fe.onFocus),fe.onBlur=UB(ie,fe.onBlur),H||(ge.onFocus=oe,ge.onBlur=ie));const xe=Ne(Ne({},i),{},{isRtl:O,arrow:o,disableInteractive:H,placement:_,PopperComponentProp:P,touch:W.current}),ve="function"===typeof D.popper?D.popper(xe):D.popper,be=t.useMemo(()=>{var e,t;let n=[{name:"arrow",enabled:Boolean(U),options:{element:U,padding:4}}];return null!==(e=A.popperOptions)&&void 0!==e&&e.modifiers&&(n=n.concat(A.popperOptions.modifiers)),null!==ve&&void 0!==ve&&null!==(t=ve.popperOptions)&&void 0!==t&&t.modifiers&&(n=n.concat(ve.popperOptions.modifiers)),Ne(Ne(Ne({},A.popperOptions),null===ve||void 0===ve?void 0:ve.popperOptions),{},{modifiers:n})},[U,A.popperOptions,null===ve||void 0===ve?void 0:ve.popperOptions]),ye=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:a,placement:s}=e;return ZP({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",a&&"touch","tooltipPlacement".concat(_A(s.split("-")[0]))],arrow:["arrow"]},LB,t)})(xe),we="function"===typeof D.transition?D.transition(xe):D.transition,je={slots:Ne({popper:d.Popper,transition:null!==(r=d.Transition)&&void 0!==r?r:E,tooltip:d.Tooltip,arrow:d.Arrow},T),slotProps:{arrow:null!==(a=D.arrow)&&void 0!==a?a:u.arrow,popper:Ne(Ne({},A),null!==ve&&void 0!==ve?ve:u.popper),tooltip:null!==(s=D.tooltip)&&void 0!==s?s:u.tooltip,transition:Ne(Ne({},I),null!==we&&void 0!==we?we:u.transition)}},[Se,Ce]=jD("popper",{elementType:RB,externalForwardedProps:je,ownerState:xe,className:pk(ye.popper,null===A||void 0===A?void 0:A.className)}),[_e,Pe]=jD("transition",{elementType:dR,externalForwardedProps:je,ownerState:xe}),[Ae,De]=jD("tooltip",{elementType:MB,className:ye.tooltip,externalForwardedProps:je,ownerState:xe}),[Te,Le]=jD("arrow",{elementType:FB,className:ye.arrow,externalForwardedProps:je,ownerState:xe,ref:q});return(0,Jn.jsxs)(t.Fragment,{children:[t.cloneElement(M,fe),(0,Jn.jsx)(Se,Ne(Ne(Ne({as:null!==P&&void 0!==P?P:TB,placement:_,anchorEl:y?{getBoundingClientRect:()=>({top:BB.y,left:BB.x,right:BB.x,bottom:BB.y,width:0,height:0})}:z,popperRef:he,open:!!z&&X,id:Q,transition:!0},ge),Ce),{},{popperOptions:be,children:e=>{let{TransitionProps:t}=e;return(0,Jn.jsx)(_e,Ne(Ne(Ne({timeout:F.transitions.duration.shorter},t),Pe),{},{children:(0,Jn.jsxs)(Ae,Ne(Ne({},De),{},{children:[L,o?(0,Jn.jsx)(Te,Ne({},Le)):null]}))}))}}))]})}),WB=qB;function HB(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const VB=["onChange"],GB={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const KB=CT((0,Jn.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),YB=CT((0,Jn.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function $B(e){return GP("MuiTabScrollButton",e)}const JB=KP("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),XB=["className","slots","slotProps","direction","orientation","disabled"],QB=yA(pT,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,["&.".concat(JB.disabled)]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),ZB=t.forwardRef(function(e,t){var n,r;const a=CA({props:e,name:"MuiTabScrollButton"}),{className:s,slots:i={},slotProps:o={},direction:l,orientation:c,disabled:d}=a,u=ke(a,XB),h=NI(),p=Ne({isRtl:h},a),m=(e=>{const{classes:t,orientation:n,disabled:r}=e;return ZP({root:["root",n,r&&"disabled"]},$B,t)})(p),f=null!==(n=i.StartScrollButtonIcon)&&void 0!==n?n:KB,g=null!==(r=i.EndScrollButtonIcon)&&void 0!==r?r:YB,x=SI({elementType:f,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),v=SI({elementType:g,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return(0,Jn.jsx)(QB,Ne(Ne({component:"div",className:pk(m.root,s),ref:t,role:null,ownerState:p,tabIndex:null},u),{},{style:Ne(Ne({},u.style),"vertical"===c&&{"--TabScrollButton-svgRotate":"rotate(".concat(h?-90:90,"deg)")}),children:"left"===l?(0,Jn.jsx)(f,Ne({},x)):(0,Jn.jsx)(g,Ne({},v))}))}),eU=ZB;function tU(e){return GP("MuiTabs",e)}const nU=KP("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),rU=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],aU=["onChange"],sU=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,iU=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,oU=(e,t,n)=>{let r=!1,a=n(e,t);for(;a;){if(a===e.firstChild){if(r)return;r=!0}const t=a.disabled||"true"===a.getAttribute("aria-disabled");if(a.hasAttribute("tabindex")&&!t)return void a.focus();a=n(e,a)}},lU=yA("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(nU.scrollButtons)]:t.scrollButtons},{["& .".concat(nU.scrollButtons)]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(jA(e=>{let{theme:t}=e;return{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.scrollButtonsHideMobile},style:{["& .".concat(nU.scrollButtons)]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}})),cU=yA("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:e=>{let{ownerState:t}=e;return t.fixed},style:{overflowX:"hidden",width:"100%"}},{props:e=>{let{ownerState:t}=e;return t.hideScrollbar},style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:e=>{let{ownerState:t}=e;return t.scrollableX},style:{overflowX:"auto",overflowY:"hidden"}},{props:e=>{let{ownerState:t}=e;return t.scrollableY},style:{overflowY:"auto",overflowX:"hidden"}}]}),dU=yA("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.centered},style:{justifyContent:"center"}}]}),uU=yA("span",{name:"MuiTabs",slot:"Indicator"})(jA(e=>{let{theme:t}=e;return{position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:e=>{let{ownerState:t}=e;return t.vertical},style:{height:"100%",width:2,right:0}}]}})),hU=yA(function(e){const{onChange:n}=e,r=ke(e,VB),a=t.useRef(),s=t.useRef(null),i=()=>{a.current=s.current.offsetHeight-s.current.clientHeight};return RI(()=>{const e=GI(()=>{const e=a.current;i(),e!==a.current&&n(a.current)}),t=FI(s.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[n]),t.useEffect(()=>{i(),n(a.current)},[n]),(0,Jn.jsx)("div",Ne(Ne({style:GB},r),{},{ref:s}))})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),pU={};const mU=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiTabs"}),a=iD(),s=NI(),{"aria-label":i,"aria-labelledby":o,action:l,centered:c=!1,children:d,className:u,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:m="primary",onChange:f,orientation:g="horizontal",ScrollButtonComponent:x,scrollButtons:v="auto",selectionFollowsFocus:b,slots:y={},slotProps:w={},TabIndicatorProps:j={},TabScrollButtonProps:N={},textColor:k="primary",value:S,variant:C="standard",visibleScrollbar:_=!1}=r,P=ke(r,rU),A="scrollable"===C,D="vertical"===g,T=D?"scrollTop":"scrollLeft",L=D?"top":"left",E=D?"bottom":"right",I=D?"clientHeight":"clientWidth",R=D?"height":"width",M=Ne(Ne({},r),{},{component:h,allowScrollButtonsMobile:p,indicatorColor:m,orientation:g,vertical:D,scrollButtons:v,textColor:k,variant:C,visibleScrollbar:_,fixed:!A,hideScrollbar:A&&!_,scrollableX:A&&!D,scrollableY:A&&D,centered:c&&!A,scrollButtonsHideMobile:!p}),F=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:a,scrollableY:s,centered:i,scrollButtonsHideMobile:o,classes:l}=e;return ZP({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",a&&"scrollableX",s&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},tU,l)})(M),O=SI({elementType:y.StartScrollButtonIcon,externalSlotProps:w.startScrollButtonIcon,ownerState:M}),z=SI({elementType:y.EndScrollButtonIcon,externalSlotProps:w.endScrollButtonIcon,ownerState:M});const[B,U]=t.useState(!1),[q,W]=t.useState(pU),[H,V]=t.useState(!1),[G,K]=t.useState(!1),[Y,$]=t.useState(!1),[J,X]=t.useState({overflow:"hidden",scrollbarWidth:0}),Q=new Map,Z=t.useRef(null),ee=t.useRef(null),te={slots:y,slotProps:Ne({indicator:j,scrollButtons:N},w)},ne=()=>{const e=Z.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==S){const e=ee.current.children;if(e.length>0){const t=e[Q.get(S)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},re=ED(()=>{const{tabsMeta:e,tabMeta:t}=ne();let n,r=0;D?(n="top",t&&e&&(r=t.top-e.top+e.scrollTop)):(n=s?"right":"left",t&&e&&(r=(s?-1:1)*(t[n]-e[n]+e.scrollLeft)));const a={[n]:r,[R]:t?t[R]:0};if("number"!==typeof q[n]||"number"!==typeof q[R])W(a);else{const e=Math.abs(q[n]-a[n]),t=Math.abs(q[R]-a[R]);(e>=1||t>=1)&&W(a)}}),ae=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:s=HB,duration:i=300}=r;let o=null;const l=t[e];let c=!1;const d=()=>{c=!0},u=r=>{if(c)return void a(new Error("Animation cancelled"));null===o&&(o=r);const d=Math.min(1,(r-o)/i);t[e]=s(d)*(n-l)+l,d>=1?requestAnimationFrame(()=>{a(null)}):requestAnimationFrame(u)};l===n?a(new Error("Element already at target position")):requestAnimationFrame(u)}(T,Z.current,e,{duration:a.transitions.duration.standard}):Z.current[T]=e},se=e=>{let t=Z.current[T];t+=D?e:e*(s?-1:1),ae(t)},ie=()=>{const e=Z.current[I];let t=0;const n=Array.from(ee.current.children);for(let r=0;r<n.length;r+=1){const a=n[r];if(t+a[I]>e){0===r&&(t=e);break}t+=a[I]}return t},oe=()=>{se(-1*ie())},le=()=>{se(ie())},[ce,de]=jD("scrollbar",{className:pk(F.scrollableX,F.hideScrollbar),elementType:hU,shouldForwardComponentProp:!0,externalForwardedProps:te,ownerState:M}),{onChange:ue}=de,he=ke(de,aU),pe=t.useCallback(e=>{null===ue||void 0===ue||ue(e),X({overflow:null,scrollbarWidth:e})},[ue]),[me,fe]=jD("scrollButtons",{className:pk(F.scrollButtons,N.className),elementType:eU,externalForwardedProps:te,ownerState:M,additionalProps:{orientation:g,slots:{StartScrollButtonIcon:y.startScrollButtonIcon||y.StartScrollButtonIcon,EndScrollButtonIcon:y.endScrollButtonIcon||y.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:O,endScrollButtonIcon:z}}}),ge=ED(e=>{const{tabsMeta:t,tabMeta:n}=ne();if(n&&t)if(n[L]<t[L]){const r=t[T]+(n[L]-t[L]);ae(r,{animation:e})}else if(n[E]>t[E]){const r=t[T]+(n[E]-t[E]);ae(r,{animation:e})}}),xe=ED(()=>{A&&!1!==v&&$(!Y)});t.useEffect(()=>{const e=GI(()=>{Z.current&&re()});let t;const n=n=>{n.forEach(e=>{e.removedNodes.forEach(e=>{var n;null===(n=t)||void 0===n||n.unobserve(e)}),e.addedNodes.forEach(e=>{var n;null===(n=t)||void 0===n||n.observe(e)})}),e(),xe()},r=FI(Z.current);let a;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach(e=>{t.observe(e)})),"undefined"!==typeof MutationObserver&&(a=new MutationObserver(n),a.observe(ee.current,{childList:!0})),()=>{var n,s;e.clear(),r.removeEventListener("resize",e),null===(n=a)||void 0===n||n.disconnect(),null===(s=t)||void 0===s||s.disconnect()}},[re,xe]),t.useEffect(()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&A&&!1!==v){const n=e[0],r=e[t-1],a={root:Z.current,threshold:.99},s=new IntersectionObserver(e=>{V(!e[0].isIntersecting)},a);s.observe(n);const i=new IntersectionObserver(e=>{K(!e[0].isIntersecting)},a);return i.observe(r),()=>{s.disconnect(),i.disconnect()}}},[A,v,Y,null===d||void 0===d?void 0:d.length]),t.useEffect(()=>{U(!0)},[]),t.useEffect(()=>{re()}),t.useEffect(()=>{ge(pU!==q)},[ge,q]),t.useImperativeHandle(l,()=>({updateIndicator:re,updateScrollButtons:xe}),[re,xe]);const[ve,be]=jD("indicator",{className:pk(F.indicator,j.className),elementType:uU,externalForwardedProps:te,ownerState:M,additionalProps:{style:q}}),ye=(0,Jn.jsx)(ve,Ne({},be));let we=0;const je=t.Children.map(d,e=>{if(!t.isValidElement(e))return null;const n=void 0===e.props.value?we:e.props.value;Q.set(n,we);const r=n===S;return we+=1,t.cloneElement(e,Ne({fullWidth:"fullWidth"===C,indicator:r&&!B&&ye,selected:r,selectionFollowsFocus:b,onChange:f,textColor:k,value:n},1!==we||!1!==S||e.props.tabIndex?{}:{tabIndex:0}))}),Se=(()=>{const e={};e.scrollbarSizeListener=A?(0,Jn.jsx)(ce,Ne(Ne({},he),{},{onChange:pe})):null;const t=A&&("auto"===v&&(H||G)||!0===v);return e.scrollButtonStart=t?(0,Jn.jsx)(me,Ne({direction:s?"right":"left",onClick:oe,disabled:!H},fe)):null,e.scrollButtonEnd=t?(0,Jn.jsx)(me,Ne({direction:s?"left":"right",onClick:le,disabled:!G},fe)):null,e})(),[Ce,_e]=jD("root",{ref:n,className:pk(F.root,u),elementType:lU,externalForwardedProps:Ne(Ne(Ne({},te),P),{},{component:h}),ownerState:M}),[Pe,Ae]=jD("scroller",{ref:Z,className:F.scroller,elementType:cU,externalForwardedProps:te,ownerState:M,additionalProps:{style:{overflow:J.overflow,[D?"margin".concat(s?"Left":"Right"):"marginBottom"]:_?void 0:-J.scrollbarWidth}}}),[De,Te]=jD("list",{ref:ee,className:pk(F.list,F.flexContainer),elementType:dU,externalForwardedProps:te,ownerState:M,getSlotProps:e=>Ne(Ne({},e),{},{onKeyDown:t=>{var n;(e=>{if(e.altKey||e.shiftKey||e.ctrlKey||e.metaKey)return;const t=ee.current,n=LI(wI(t));if("tab"!==(null===n||void 0===n?void 0:n.getAttribute("role")))return;let r="horizontal"===g?"ArrowLeft":"ArrowUp",a="horizontal"===g?"ArrowRight":"ArrowDown";switch("horizontal"===g&&s&&(r="ArrowRight",a="ArrowLeft"),e.key){case r:e.preventDefault(),oU(t,n,iU);break;case a:e.preventDefault(),oU(t,n,sU);break;case"Home":e.preventDefault(),oU(t,null,sU);break;case"End":e.preventDefault(),oU(t,null,iU)}})(t),null===(n=e.onKeyDown)||void 0===n||n.call(e,t)}})});return(0,Jn.jsxs)(Ce,Ne(Ne({},_e),{},{children:[Se.scrollButtonStart,Se.scrollbarSizeListener,(0,Jn.jsxs)(Pe,Ne(Ne({},Ae),{},{children:[(0,Jn.jsx)(De,Ne(Ne({"aria-label":i,"aria-labelledby":o,"aria-orientation":"vertical"===g?"vertical":null,role:"tablist"},Te),{},{children:je})),B&&ye]})),Se.scrollButtonEnd]}))}),fU=mU;function gU(e){return GP("MuiTab",e)}const xU=KP("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),vU=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],bU=yA(pT,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat(_A(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{["& .".concat(xU.iconWrapper)]:t.iconWrapper},{["& .".concat(xU.icon)]:t.icon}]}})(jA(e=>{let{theme:t}=e;return Ne(Ne({},t.typography.button),{},{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:e=>{let{ownerState:t}=e;return t.label&&("top"===t.iconPosition||"bottom"===t.iconPosition)},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.label&&"top"!==t.iconPosition&&"bottom"!==t.iconPosition},style:{flexDirection:"row"}},{props:e=>{let{ownerState:t}=e;return t.icon&&t.label},style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"top"===n},style:{["& > .".concat(xU.icon)]:{marginBottom:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"bottom"===n},style:{["& > .".concat(xU.icon)]:{marginTop:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"start"===n},style:{["& > .".concat(xU.icon)]:{marginRight:t.spacing(1)}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"end"===n},style:{["& > .".concat(xU.icon)]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,["&.".concat(xU.selected)]:{opacity:1},["&.".concat(xU.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,["&.".concat(xU.selected)]:{color:(t.vars||t).palette.primary.main},["&.".concat(xU.disabled)]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,["&.".concat(xU.selected)]:{color:(t.vars||t).palette.secondary.main},["&.".concat(xU.disabled)]:{color:(t.vars||t).palette.text.disabled}}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:e=>{let{ownerState:t}=e;return t.wrapped},style:{fontSize:t.typography.pxToRem(12)}}]})})),yU=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiTab"}),{className:a,disabled:s=!1,disableFocusRipple:i=!1,fullWidth:o,icon:l,iconPosition:c="top",indicator:d,label:u,onChange:h,onClick:p,onFocus:m,selected:f,selectionFollowsFocus:g,textColor:x="inherit",value:v,wrapped:b=!1}=r,y=ke(r,vU),w=Ne(Ne({},r),{},{disabled:s,disableFocusRipple:i,selected:f,icon:!!l,iconPosition:c,label:!!u,fullWidth:o,textColor:x,wrapped:b}),j=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:a,icon:s,label:i,selected:o,disabled:l}=e;return ZP({root:["root",s&&i&&"labelIcon","textColor".concat(_A(n)),r&&"fullWidth",a&&"wrapped",o&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]},gU,t)})(w),N=l&&u&&t.isValidElement(l)?t.cloneElement(l,{className:pk(j.icon,l.props.className)}):l;return(0,Jn.jsxs)(bU,Ne(Ne({focusRipple:!i,className:pk(j.root,a),ref:n,role:"tab","aria-selected":f,disabled:s,onClick:e=>{!f&&h&&h(e,v),p&&p(e)},onFocus:e=>{g&&!f&&h&&h(e,v),m&&m(e)},ownerState:w,tabIndex:f?0:-1},y),{},{children:["top"===c||"start"===c?(0,Jn.jsxs)(t.Fragment,{children:[N,u]}):(0,Jn.jsxs)(t.Fragment,{children:[u,N]}),d]}))}),wU=yU;function jU(e){return GP("MuiDialog",e)}const NU=KP("MuiDialog",["root","backdrop","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const kU=t.createContext({}),SU=["aria-describedby","aria-labelledby","aria-modal","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onClick","onClose","open","PaperComponent","PaperProps","scroll","slots","slotProps","TransitionComponent","transitionDuration","TransitionProps"],CU=yA(CR,{name:"MuiDialog",slot:"Backdrop"})({zIndex:-1}),_U=yA(UR,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),PU=yA("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat(_A(n.scroll))]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),AU=yA(uD,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat(_A(n.scroll))],t["paperWidth".concat(_A(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(jA(e=>{let{theme:t}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:e=>{let{ownerState:t}=e;return!t.maxWidth},style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(NU.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>"xs"!==e).map(e=>({props:{maxWidth:e},style:{maxWidth:"".concat(t.breakpoints.values[e]).concat(t.breakpoints.unit),["&.".concat(NU.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"calc(100% - 64px)"}},{props:e=>{let{ownerState:t}=e;return t.fullScreen},style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(NU.paperScrollBody)]:{margin:0,maxWidth:"100%"}}}]}})),DU=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiDialog"}),a=iD(),s={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":o,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:d,children:u,className:h,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:f=!1,maxWidth:g="sm",onClick:x,onClose:v,open:b,PaperComponent:y=uD,PaperProps:w={},scroll:j="paper",slots:N={},slotProps:k={},TransitionComponent:S=wR,transitionDuration:C=s,TransitionProps:_}=r,P=ke(r,SU),A=Ne(Ne({},r),{},{disableEscapeKeyDown:p,fullScreen:m,fullWidth:f,maxWidth:g,scroll:j}),D=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:a,fullScreen:s}=e;return ZP({root:["root"],backdrop:["backdrop"],container:["container","scroll".concat(_A(n))],paper:["paper","paperScroll".concat(_A(n)),"paperWidth".concat(_A(String(r))),a&&"paperFullWidth",s&&"paperFullScreen"]},jU,t)})(A),T=t.useRef(),L=_D(o),E=t.useMemo(()=>({titleId:L}),[L]),I={slots:Ne({transition:S},N),slotProps:Ne({transition:_,paper:w,backdrop:d},k)},[R,M]=jD("root",{elementType:_U,shouldForwardComponentProp:!0,externalForwardedProps:I,ownerState:A,className:pk(D.root,h),ref:n}),[F,O]=jD("backdrop",{elementType:CU,shouldForwardComponentProp:!0,externalForwardedProps:I,ownerState:A,className:D.backdrop}),[z,B]=jD("paper",{elementType:AU,shouldForwardComponentProp:!0,externalForwardedProps:I,ownerState:A,className:pk(D.paper,w.className)}),[U,q]=jD("container",{elementType:PU,externalForwardedProps:I,ownerState:A,className:D.container}),[W,H]=jD("transition",{elementType:wR,externalForwardedProps:I,ownerState:A,additionalProps:{appear:!0,in:b,timeout:C,role:"presentation"}});return(0,Jn.jsx)(R,Ne(Ne(Ne({closeAfterTransition:!0,slots:{backdrop:F},slotProps:{backdrop:Ne({transitionDuration:C,as:c},O)},disableEscapeKeyDown:p,onClose:v,open:b,onClick:e=>{x&&x(e),T.current&&(T.current=null,v&&v(e,"backdropClick"))}},M),P),{},{children:(0,Jn.jsx)(W,Ne(Ne({},H),{},{children:(0,Jn.jsx)(U,Ne(Ne({onMouseDown:e=>{T.current=e.target===e.currentTarget}},q),{},{children:(0,Jn.jsx)(z,Ne(Ne({as:y,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":L,"aria-modal":l},B),{},{children:(0,Jn.jsx)(kU.Provider,{value:E,children:u})}))}))}))}))}),TU=DU;function LU(e){return GP("MuiDialogTitle",e)}const EU=KP("MuiDialogTitle",["root"]),IU=["className","id"],RU=yA(aD,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),MU=t.forwardRef(function(e,n){const r=CA({props:e,name:"MuiDialogTitle"}),{className:a,id:s}=r,i=ke(r,IU),o=r,l=(e=>{const{classes:t}=e;return ZP({root:["root"]},LU,t)})(o),{titleId:c=s}=t.useContext(kU);return(0,Jn.jsx)(RU,Ne({component:"h2",className:pk(l.root,a),ownerState:o,ref:n,variant:"h6",id:null!==s&&void 0!==s?s:c},i))}),FU=MU;function OU(e){return GP("MuiDialogContent",e)}KP("MuiDialogContent",["root","dividers"]);const zU=["className","dividers"],BU=yA("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(jA(e=>{let{theme:t}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:e=>{let{ownerState:t}=e;return t.dividers},style:{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return!t.dividers},style:{[".".concat(EU.root," + &")]:{paddingTop:0}}}]}})),UU=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiDialogContent"}),{className:r,dividers:a=!1}=n,s=ke(n,zU),i=Ne(Ne({},n),{},{dividers:a}),o=(e=>{const{classes:t,dividers:n}=e;return ZP({root:["root",n&&"dividers"]},OU,t)})(i);return(0,Jn.jsx)(BU,Ne({className:pk(o.root,r),ownerState:i,ref:t},s))}),qU=UU;function WU(e){return GP("MuiDialogActions",e)}KP("MuiDialogActions",["root","spacing"]);const HU=["className","disableSpacing"],VU=yA("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),GU=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:a=!1}=n,s=ke(n,HU),i=Ne(Ne({},n),{},{disableSpacing:a}),o=(e=>{const{classes:t,disableSpacing:n}=e;return ZP({root:["root",!n&&"spacing"]},WU,t)})(i);return(0,Jn.jsx)(VU,Ne({className:pk(o.root,r),ownerState:i,ref:t},s))}),KU=GU,YU=CT((0,Jn.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),$U=CT((0,Jn.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),JU=CT((0,Jn.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"})),XU=CT((0,Jn.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}));function QU(e,t,n){const[r,a]=iL(null===n||void 0===n?void 0:n.in,e,t),s=ZU(r,a),i=Math.abs(lL(r,a));r.setDate(r.getDate()-s*i);const o=s*(i-Number(ZU(r,a)===-s));return 0===o?0:o}function ZU(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}const eq=()=>{ce();const[e,n]=(0,t.useState)(0),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)({status:"",clientId:"",searchTerm:""}),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[x,v]=(0,t.useState)(!1),[b,y]=(0,t.useState)({totalPayments:0,totalAmount:0,pendingPayments:0,overduePayments:0,paidPayments:0,totalPaid:0,totalOutstanding:0});(0,t.useEffect)(()=>{w()},[e,u]);const w=async()=>{try{l(!0);const t=localStorage.getItem("token");if(!t)return void d("Authentication token missing. Please login again.");if(Gn.defaults.headers.common.Authorization="Bearer ".concat(t),0===e){const e=new URLSearchParams;u.status&&e.append("status",u.status),u.clientId&&e.append("clientId",u.clientId);let t=(await Gn.get("/api/payments?".concat(e.toString()))).data.data;u.searchTerm&&(t=t.filter(e=>{var t,n;return e.deliveryId.toLowerCase().includes(u.searchTerm.toLowerCase())||(null===(t=e.metadata)||void 0===t||null===(n=t.clientName)||void 0===n?void 0:n.toLowerCase().includes(u.searchTerm.toLowerCase()))})),a(t),j(t)}else if(1===e){const e=await Gn.get("/api/payments/overdue");i(e.data.data)}}catch(c){var t,n;console.error("Error fetching payment data:",c),d((null===(t=c.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load payment data")}finally{l(!1)}},j=e=>{const t=e.reduce((e,t)=>(e.totalPayments++,e.totalAmount+=t.amount,"pending"===t.status?(e.pendingPayments++,e.totalOutstanding+=t.amount):"overdue"===t.status?(e.overduePayments++,e.totalOutstanding+=t.amount):"paid"===t.status&&(e.paidPayments++,e.totalPaid+=t.amount),e),{totalPayments:0,totalAmount:0,pendingPayments:0,overduePayments:0,paidPayments:0,totalPaid:0,totalOutstanding:0});y(t)},N=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e),k=e=>e?HL(new Date(e),"MMM dd, yyyy"):"N/A",S=(e,t)=>{if("paid"===e)return"success";if("overdue"===e)return"error";if("failed"===e)return"error";if("pending"===e&&t){if(QU(new Date(t),new Date)<=5)return"warning"}return"default"},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,Jn.jsx)(mO,{component:uD,children:(0,Jn.jsxs)(wO,{children:[(0,Jn.jsx)(AO,{children:(0,Jn.jsxs)(MO,{sx:{backgroundColor:"#f5f5f5"},children:[(0,Jn.jsx)(qO,{children:"Payment ID"}),(0,Jn.jsx)(qO,{children:"Client"}),(0,Jn.jsx)(qO,{children:"Delivery ID"}),(0,Jn.jsx)(qO,{children:"Amount"}),(0,Jn.jsx)(qO,{children:"Due Date"}),(0,Jn.jsx)(qO,{children:"Status"}),t&&(0,Jn.jsx)(qO,{children:"Days Overdue"}),(0,Jn.jsx)(qO,{children:"Actions"})]})}),(0,Jn.jsx)($O,{children:e.map(e=>{var n,r,a,s;const i=(o=e.dueDate)?QU(new Date(o),new Date):null;var o;return(0,Jn.jsxs)(MO,{children:[(0,Jn.jsx)(qO,{children:(0,Jn.jsx)(aD,{variant:"body2",fontWeight:"bold",children:e.id})}),(0,Jn.jsx)(qO,{children:(0,Jn.jsx)(aD,{variant:"body2",children:(null===(n=e.metadata)||void 0===n?void 0:n.clientName)||(null===(r=e.client)||void 0===r?void 0:r.clientName)||"N/A"})}),(0,Jn.jsxs)(qO,{children:[(0,Jn.jsx)(aD,{variant:"body2",fontWeight:"bold",children:e.deliveryId}),(0,Jn.jsxs)(aD,{variant:"caption",color:"textSecondary",children:[(null===(a=e.metadata)||void 0===a?void 0:a.pickupLocation)||"N/A"," \u2192 ",(null===(s=e.metadata)||void 0===s?void 0:s.deliveryAddress)||"N/A"]})]}),(0,Jn.jsxs)(qO,{children:[(0,Jn.jsx)(aD,{variant:"body1",fontWeight:"bold",children:N(e.amount)}),e.transactionFee>0&&(0,Jn.jsxs)(aD,{variant:"caption",color:"textSecondary",children:["Net: ",N(e.netAmount)]})]}),(0,Jn.jsxs)(qO,{children:[(0,Jn.jsx)(aD,{variant:"body2",children:k(e.dueDate)}),(0,Jn.jsxs)(aD,{variant:"caption",color:"textSecondary",children:["Delivery: ",k(e.deliveryDate)]})]}),(0,Jn.jsx)(qO,{children:(0,Jn.jsx)(az,{label:e.status.charAt(0).toUpperCase()+e.status.slice(1),color:S(e.status,e.dueDate),size:"small"})}),t&&(0,Jn.jsx)(qO,{children:(0,Jn.jsxs)(aD,{variant:"body2",color:"error",children:[e.daysPastDue||Math.abs(i)," days"]})}),(0,Jn.jsx)(qO,{children:(0,Jn.jsxs)(XP,{sx:{display:"flex",gap:1},children:[(0,Jn.jsx)(WB,{title:"View Details",children:(0,Jn.jsx)(yT,{size:"small",onClick:()=>{m(e),g(!0)},children:(0,Jn.jsx)(JU,{})})}),("pending"===e.status||"overdue"===e.status)&&(0,Jn.jsx)(WB,{title:"Create Payment Link",children:(0,Jn.jsx)(yT,{size:"small",onClick:()=>(async e=>{try{v(!0);const t=await Gn.post("/api/payments/".concat(e,"/create-link")),{paymentLinkUrl:n}=t.data.data;navigator.clipboard.writeText(n),alert("Payment link copied to clipboard!")}catch(c){var t,n;console.error("Error creating payment link:",c),d((null===(t=c.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to create payment link")}finally{v(!1)}})(e.id),disabled:x,color:"primary",children:(0,Jn.jsx)(XU,{})})}),(0,Jn.jsx)(WB,{title:"Update Client Status",children:(0,Jn.jsx)(yT,{size:"small",onClick:()=>(async e=>{try{v(!0),await Gn.post("/api/payments/update-client-status/".concat(e)),w()}catch(c){var t,n;console.error("Error updating client status:",c),d((null===(t=c.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to update client status")}finally{v(!1)}})(e.clientId),disabled:x,children:(0,Jn.jsx)($U,{})})})]})})]},e.id)})})]})})};return o?(0,Jn.jsx)(XP,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,Jn.jsx)(VA,{})}):(0,Jn.jsxs)(XP,{p:3,children:[(0,Jn.jsx)(aD,{variant:"h4",component:"h1",gutterBottom:!0,children:"Payment Management"}),c&&(0,Jn.jsx)(zT,{severity:"error",sx:{mb:3},children:c}),(0,Jn.jsxs)(zE,{container:!0,spacing:3,sx:{mb:4},children:[(0,Jn.jsx)(zE,{item:!0,xs:12,md:2,children:(0,Jn.jsx)(HE,{children:(0,Jn.jsxs)($E,{children:[(0,Jn.jsx)(aD,{color:"textSecondary",gutterBottom:!0,children:"Total Payments"}),(0,Jn.jsx)(aD,{variant:"h5",component:"h2",children:b.totalPayments}),(0,Jn.jsx)(aD,{variant:"body2",children:N(b.totalAmount)})]})})}),(0,Jn.jsx)(zE,{item:!0,xs:12,md:2,children:(0,Jn.jsx)(HE,{children:(0,Jn.jsxs)($E,{children:[(0,Jn.jsx)(aD,{color:"textSecondary",gutterBottom:!0,children:"Pending"}),(0,Jn.jsx)(aD,{variant:"h5",component:"h2",color:"warning.main",children:b.pendingPayments}),(0,Jn.jsx)(aD,{variant:"body2",children:"Awaiting payment"})]})})}),(0,Jn.jsx)(zE,{item:!0,xs:12,md:2,children:(0,Jn.jsx)(HE,{children:(0,Jn.jsxs)($E,{children:[(0,Jn.jsx)(aD,{color:"textSecondary",gutterBottom:!0,children:"Overdue"}),(0,Jn.jsx)(aD,{variant:"h5",component:"h2",color:"error",children:b.overduePayments}),(0,Jn.jsx)(aD,{variant:"body2",color:"error",children:"Requires action"})]})})}),(0,Jn.jsx)(zE,{item:!0,xs:12,md:2,children:(0,Jn.jsx)(HE,{children:(0,Jn.jsxs)($E,{children:[(0,Jn.jsx)(aD,{color:"textSecondary",gutterBottom:!0,children:"Paid"}),(0,Jn.jsx)(aD,{variant:"h5",component:"h2",color:"success.main",children:b.paidPayments}),(0,Jn.jsx)(aD,{variant:"body2",children:"Completed"})]})})}),(0,Jn.jsx)(zE,{item:!0,xs:12,md:2,children:(0,Jn.jsx)(HE,{children:(0,Jn.jsxs)($E,{children:[(0,Jn.jsx)(aD,{color:"textSecondary",gutterBottom:!0,children:"Outstanding"}),(0,Jn.jsx)(aD,{variant:"h5",component:"h2",color:"error",children:N(b.totalOutstanding)}),(0,Jn.jsx)(aD,{variant:"body2",children:"Due amount"})]})})}),(0,Jn.jsx)(zE,{item:!0,xs:12,md:2,children:(0,Jn.jsx)(HE,{children:(0,Jn.jsxs)($E,{children:[(0,Jn.jsx)(aD,{color:"textSecondary",gutterBottom:!0,children:"Collected"}),(0,Jn.jsx)(aD,{variant:"h5",component:"h2",color:"success.main",children:N(b.totalPaid)}),(0,Jn.jsx)(aD,{variant:"body2",children:"Paid amount"})]})})})]}),(0,Jn.jsx)(HE,{children:(0,Jn.jsxs)($E,{children:[(0,Jn.jsxs)(fU,{value:e,onChange:(e,t)=>n(t),children:[(0,Jn.jsx)(wU,{label:"All Payments"}),(0,Jn.jsx)(wU,{label:"Overdue Payments"})]}),(0,Jn.jsxs)(XP,{sx:{mt:3},children:[0===e&&(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsxs)(zE,{container:!0,spacing:2,sx:{mb:3},children:[(0,Jn.jsx)(zE,{item:!0,xs:12,md:3,children:(0,Jn.jsxs)(aI,{fullWidth:!0,children:[(0,Jn.jsx)(vI,{children:"Status"}),(0,Jn.jsxs)(PF,{value:u.status,onChange:e=>h(Ne(Ne({},u),{},{status:e.target.value})),label:"Status",children:[(0,Jn.jsx)(FF,{value:"",children:"All"}),(0,Jn.jsx)(FF,{value:"pending",children:"Pending"}),(0,Jn.jsx)(FF,{value:"overdue",children:"Overdue"}),(0,Jn.jsx)(FF,{value:"paid",children:"Paid"}),(0,Jn.jsx)(FF,{value:"failed",children:"Failed"})]})]})}),(0,Jn.jsx)(zE,{item:!0,xs:12,md:3,children:(0,Jn.jsx)(JF,{fullWidth:!0,label:"Search",value:u.searchTerm,onChange:e=>h(Ne(Ne({},u),{},{searchTerm:e.target.value})),placeholder:"Delivery ID, Client...",InputProps:{startAdornment:(0,Jn.jsx)(YU,{})}})}),(0,Jn.jsx)(zE,{item:!0,xs:12,md:3,children:(0,Jn.jsx)(cO,{variant:"outlined",onClick:w,startIcon:(0,Jn.jsx)($U,{}),disabled:o,children:"Refresh"})})]}),C(r)]}),1===e&&(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsxs)(zT,{severity:"error",sx:{mb:3},children:[(0,Jn.jsx)(aD,{variant:"h6",children:"Overdue Payments Alert"}),"These payments are past their due date and require immediate attention."]}),C(s,!0)]})]})]})}),(0,Jn.jsxs)(TU,{open:f,onClose:()=>g(!1),maxWidth:"md",fullWidth:!0,children:[(0,Jn.jsx)(FU,{children:"Payment Details"}),(0,Jn.jsx)(qU,{children:p&&(0,Jn.jsxs)(zE,{container:!0,spacing:2,children:[(0,Jn.jsxs)(zE,{item:!0,xs:6,children:[(0,Jn.jsx)(aD,{variant:"subtitle2",children:"Payment ID:"}),(0,Jn.jsx)(aD,{variant:"body2",children:p.id})]}),(0,Jn.jsxs)(zE,{item:!0,xs:6,children:[(0,Jn.jsx)(aD,{variant:"subtitle2",children:"Delivery ID:"}),(0,Jn.jsx)(aD,{variant:"body2",children:p.deliveryId})]}),(0,Jn.jsxs)(zE,{item:!0,xs:6,children:[(0,Jn.jsx)(aD,{variant:"subtitle2",children:"Amount:"}),(0,Jn.jsx)(aD,{variant:"body2",children:N(p.amount)})]}),(0,Jn.jsxs)(zE,{item:!0,xs:6,children:[(0,Jn.jsx)(aD,{variant:"subtitle2",children:"Status:"}),(0,Jn.jsx)(az,{label:p.status,color:S(p.status,p.dueDate),size:"small"})]}),(0,Jn.jsxs)(zE,{item:!0,xs:6,children:[(0,Jn.jsx)(aD,{variant:"subtitle2",children:"Due Date:"}),(0,Jn.jsx)(aD,{variant:"body2",children:k(p.dueDate)})]}),(0,Jn.jsxs)(zE,{item:!0,xs:6,children:[(0,Jn.jsx)(aD,{variant:"subtitle2",children:"Created:"}),(0,Jn.jsx)(aD,{variant:"body2",children:k(p.createdAt)})]}),p.paidAt&&(0,Jn.jsxs)(zE,{item:!0,xs:6,children:[(0,Jn.jsx)(aD,{variant:"subtitle2",children:"Paid Date:"}),(0,Jn.jsx)(aD,{variant:"body2",children:k(p.paidAt)})]}),p.paymentMethod&&(0,Jn.jsxs)(zE,{item:!0,xs:6,children:[(0,Jn.jsx)(aD,{variant:"subtitle2",children:"Payment Method:"}),(0,Jn.jsx)(aD,{variant:"body2",children:p.paymentMethod})]})]})}),(0,Jn.jsx)(KU,{children:(0,Jn.jsx)(cO,{onClick:()=>g(!1),children:"Close"})})]})]})},tq=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)("all"),[u,h]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{i(!0),l(null);const e=localStorage.getItem("token");e&&(Gn.defaults.headers.common.Authorization="Bearer ".concat(e));const t=await Gn.get("/api/payments");t.data&&t.data.data?(n(t.data.data),a(t.data.data)):(n([]),a([])),i(!1)}catch(r){var e,t;console.error("Error fetching payments:",r),l((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load payment records"),i(!1)}})()},[]),(0,t.useEffect)(()=>{let t=e;"all"!==c&&(t=t.filter(e=>e.status===c)),u&&(t=t.filter(e=>{var t,n,r;return(null===(t=e.deliveryId)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(n=e.metadata)||void 0===n||null===(r=n.clientName)||void 0===r?void 0:r.toLowerCase().includes(u.toLowerCase()))||e.id.toLowerCase().includes(u.toLowerCase())})),a(t)},[e,c,u]);const p=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",m=e=>{switch(e){case"paid":return"status-paid";case"pending":return"status-pending";case"overdue":return"status-overdue";case"failed":return"status-failed";default:return"status-unknown"}};e.length,e.filter(e=>"paid"===e.status).length,e.filter(e=>"pending"===e.status).length,e.filter(e=>"overdue"===e.status).length,e.filter(e=>"failed"===e.status).length;return s?(0,Jn.jsx)("div",{className:"loading",children:"Loading payment records..."}):o?(0,Jn.jsx)("div",{className:"error-container",children:(0,Jn.jsxs)("div",{className:"error-message",children:[o,(0,Jn.jsx)("div",{style:{marginTop:"10px"},children:(0,Jn.jsx)("button",{onClick:()=>window.location.reload(),children:"Retry"})})]})}):(0,Jn.jsxs)("div",{className:"admin-page-container",children:[(0,Jn.jsx)(Fm,{currentUser:null}),(0,Jn.jsxs)("div",{className:"admin-content",children:[(0,Jn.jsxs)("div",{className:"greeting-section",children:[(0,Jn.jsx)("h2",{className:"greeting-text",children:"Payment Records"}),(0,Jn.jsx)("p",{className:"greeting-subtitle",children:"Track and manage payment transactions and financial records"}),(0,Jn.jsxs)("div",{className:"summary-cards",children:[(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(wr,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:e.length}),(0,Jn.jsx)("div",{className:"card-label",children:"Total Payments"}),(0,Jn.jsxs)("div",{className:"card-change positive",children:[(0,Jn.jsx)(cr,{size:12}),"+3.7%"]})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(fr,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:e.filter(e=>"completed"===e.status).length}),(0,Jn.jsx)("div",{className:"card-label",children:"Completed"}),(0,Jn.jsxs)("div",{className:"card-change positive",children:[(0,Jn.jsx)(cr,{size:12}),"+2.9%"]})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(yr,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:e.filter(e=>"pending"===e.status).length}),(0,Jn.jsx)("div",{className:"card-label",children:"Pending"}),(0,Jn.jsxs)("div",{className:"card-change neutral",children:[(0,Jn.jsx)(ir,{size:12}),"0.0%"]})]})]}),(0,Jn.jsxs)("div",{className:"summary-card",children:[(0,Jn.jsx)("div",{className:"card-icon",children:(0,Jn.jsx)(Pr,{size:24})}),(0,Jn.jsxs)("div",{className:"card-content",children:[(0,Jn.jsx)("div",{className:"card-value",children:e.filter(e=>"failed"===e.status).length}),(0,Jn.jsx)("div",{className:"card-label",children:"Failed"}),(0,Jn.jsxs)("div",{className:"card-change negative",children:[(0,Jn.jsx)(lr,{size:12}),"-0.2%"]})]})]})]})]}),(0,Jn.jsxs)("div",{className:"modern-filters",children:[(0,Jn.jsxs)("div",{className:"filters-header",children:[(0,Jn.jsx)("div",{className:"filters-header-icon",children:"\ud83d\udd0d"}),(0,Jn.jsx)("h3",{children:"Search & Filter"})]}),(0,Jn.jsxs)("div",{className:"filters-grid",children:[(0,Jn.jsxs)("div",{className:"search-container",children:[(0,Jn.jsx)("label",{className:"search-label",children:"Search"}),(0,Jn.jsxs)("div",{className:"search-input-wrapper",children:[(0,Jn.jsx)("div",{className:"search-icon",children:"\ud83d\udd0d"}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search by Payment ID, Client, or Delivery ID",value:u,onChange:e=>h(e.target.value),className:"modern-search-input"})]})]}),(0,Jn.jsxs)("div",{className:"filter-group",children:[(0,Jn.jsx)("label",{className:"filter-label",children:"Status"}),(0,Jn.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"modern-filter-select",children:[(0,Jn.jsx)("option",{value:"all",children:"All Status"}),(0,Jn.jsx)("option",{value:"paid",children:"Paid"}),(0,Jn.jsx)("option",{value:"pending",children:"Pending"}),(0,Jn.jsx)("option",{value:"overdue",children:"Overdue"}),(0,Jn.jsx)("option",{value:"failed",children:"Failed"})]})]}),(0,Jn.jsx)("div",{className:"filter-actions",children:(0,Jn.jsx)("button",{onClick:()=>{d("all"),h("")},className:"modern-btn modern-btn-secondary",children:"Clear All Filters"})})]})]}),(0,Jn.jsx)("div",{className:"table-container",children:(0,Jn.jsxs)("table",{className:"records-table",children:[(0,Jn.jsx)("thead",{children:(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("th",{children:"Payment ID"}),(0,Jn.jsx)("th",{children:"Client"}),(0,Jn.jsx)("th",{children:"Delivery ID"}),(0,Jn.jsx)("th",{children:"Amount"}),(0,Jn.jsx)("th",{children:"Status"}),(0,Jn.jsx)("th",{children:"Due Date"}),(0,Jn.jsx)("th",{children:"Payment Method"}),(0,Jn.jsx)("th",{children:"Created Date"}),(0,Jn.jsx)("th",{children:"Actions"})]})}),(0,Jn.jsx)("tbody",{children:r.length>0?r.map(e=>{var t,n,r;return(0,Jn.jsxs)("tr",{children:[(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"payment-id",children:e.id})}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"client-name",children:(null===(t=e.metadata)||void 0===t?void 0:t.clientName)||"Unknown Client"})}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"delivery-id",children:e.deliveryId||"N/A"})}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"amount",children:(r=e.amount,new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(r))})}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"status-badge ".concat(m(e.status)),children:e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"Unknown"})}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"due-date",children:p(e.dueDate)})}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"payment-method",children:(null===(n=e.metadata)||void 0===n?void 0:n.paymentMethod)||e.paymentMethod||"N/A"})}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("span",{className:"created-date",children:p(e.createdAt)})}),(0,Jn.jsx)("td",{children:(0,Jn.jsx)("div",{className:"actions",children:(0,Jn.jsx)(ve,{to:"/admin/payments/".concat(e.id),className:"btn btn-sm btn-view",children:"View"})})})]},e.id)}):(0,Jn.jsx)("tr",{children:(0,Jn.jsx)("td",{colSpan:"9",className:"no-records",children:"No payment records found"})})})]})}),(0,Jn.jsx)("div",{className:"table-footer",children:(0,Jn.jsxs)("p",{children:["Showing ",r.length," of ",e.length," payment records"]})})]})]})};function nq(e){return GP("MuiToolbar",e)}KP("MuiToolbar",["root","gutters","regular","dense"]);const rq=["className","component","disableGutters","variant"],aq=yA("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(jA(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}})),sq=t.forwardRef(function(e,t){const n=CA({props:e,name:"MuiToolbar"}),{className:r,component:a="div",disableGutters:s=!1,variant:i="regular"}=n,o=ke(n,rq),l=Ne(Ne({},n),{},{component:a,disableGutters:s,variant:i}),c=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return ZP({root:["root",!n&&"gutters",r]},nq,t)})(l);return(0,Jn.jsx)(aq,Ne({as:a,className:pk(c.root,r),ref:t,ownerState:l},o))}),iq=sq,oq=CT((0,Jn.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),lq=CT((0,Jn.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}));function cq(e){return GP("MuiTablePaginationActions",e)}KP("MuiTablePaginationActions",["root"]);const dq=["backIconButtonProps","className","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],uq=yA("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),hq=t.forwardRef(function(e,t){var n,r,a,s,i,o,l,c;const d=CA({props:e,name:"MuiTablePaginationActions"}),{backIconButtonProps:u,className:h,count:p,disabled:m=!1,getItemAriaLabel:f,nextIconButtonProps:g,onPageChange:x,page:v,rowsPerPage:b,showFirstButton:y,showLastButton:w,slots:j={},slotProps:N={}}=d,k=ke(d,dq),S=NI(),C=(e=>{const{classes:t}=e;return ZP({root:["root"]},cq,t)})(d),_=null!==(n=j.firstButton)&&void 0!==n?n:yT,P=null!==(r=j.lastButton)&&void 0!==r?r:yT,A=null!==(a=j.nextButton)&&void 0!==a?a:yT,D=null!==(s=j.previousButton)&&void 0!==s?s:yT,T=null!==(i=j.firstButtonIcon)&&void 0!==i?i:lq,L=null!==(o=j.lastButtonIcon)&&void 0!==o?o:oq,E=null!==(l=j.nextButtonIcon)&&void 0!==l?l:YB,I=null!==(c=j.previousButtonIcon)&&void 0!==c?c:KB,R=S?P:_,M=S?A:D,F=S?D:A,O=S?_:P,z=S?N.lastButton:N.firstButton,B=S?N.nextButton:N.previousButton,U=S?N.previousButton:N.nextButton,q=S?N.firstButton:N.lastButton;return(0,Jn.jsxs)(uq,Ne(Ne({ref:t,className:pk(C.root,h)},k),{},{children:[y&&(0,Jn.jsx)(R,Ne(Ne({onClick:e=>{x(e,0)},disabled:m||0===v,"aria-label":f("first",v),title:f("first",v)},z),{},{children:S?(0,Jn.jsx)(L,Ne({},N.lastButtonIcon)):(0,Jn.jsx)(T,Ne({},N.firstButtonIcon))})),(0,Jn.jsx)(M,Ne(Ne({onClick:e=>{x(e,v-1)},disabled:m||0===v,color:"inherit","aria-label":f("previous",v),title:f("previous",v)},null!==B&&void 0!==B?B:u),{},{children:S?(0,Jn.jsx)(E,Ne({},N.nextButtonIcon)):(0,Jn.jsx)(I,Ne({},N.previousButtonIcon))})),(0,Jn.jsx)(F,Ne(Ne({onClick:e=>{x(e,v+1)},disabled:m||-1!==p&&v>=Math.ceil(p/b)-1,color:"inherit","aria-label":f("next",v),title:f("next",v)},null!==U&&void 0!==U?U:g),{},{children:S?(0,Jn.jsx)(I,Ne({},N.previousButtonIcon)):(0,Jn.jsx)(E,Ne({},N.nextButtonIcon))})),w&&(0,Jn.jsx)(O,Ne(Ne({onClick:e=>{x(e,Math.max(0,Math.ceil(p/b)-1))},disabled:m||v>=Math.ceil(p/b)-1,"aria-label":f("last",v),title:f("last",v)},q),{},{children:S?(0,Jn.jsx)(T,Ne({},N.firstButtonIcon)):(0,Jn.jsx)(L,Ne({},N.lastButtonIcon))}))]}))}),pq=hq;function mq(e){return GP("MuiTablePagination",e)}const fq=KP("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),gq=["ActionsComponent","backIconButtonProps","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"];var xq;const vq=yA(qO,{name:"MuiTablePagination",slot:"Root"})(jA(e=>{let{theme:t}=e;return{overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}})),bq=yA(iq,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>Ne({["& .".concat(fq.actions)]:t.actions},t.toolbar)})(jA(e=>{let{theme:t}=e;return{minHeight:52,paddingRight:2,["".concat(t.breakpoints.up("xs")," and (orientation: landscape)")]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},["& .".concat(fq.actions)]:{flexShrink:0,marginLeft:20}}})),yq=yA("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),wq=yA("p",{name:"MuiTablePagination",slot:"SelectLabel"})(jA(e=>{let{theme:t}=e;return Ne(Ne({},t.typography.body2),{},{flexShrink:0})})),jq=yA(PF,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>Ne(Ne({["& .".concat(fq.selectIcon)]:t.selectIcon,["& .".concat(fq.select)]:t.select},t.input),t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,["& .".concat(fq.select)]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),Nq=yA(FF,{name:"MuiTablePagination",slot:"MenuItem"})({}),kq=yA("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(jA(e=>{let{theme:t}=e;return Ne(Ne({},t.typography.body2),{},{flexShrink:0})}));function Sq(e){let{from:t,to:n,count:r}=e;return"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))}function Cq(e){return"Go to ".concat(e," page")}const _q=t.forwardRef(function(e,n){var r;const a=CA({props:e,name:"MuiTablePagination"}),{ActionsComponent:s=pq,backIconButtonProps:i,colSpan:o,component:l=qO,count:c,disabled:d=!1,getItemAriaLabel:u=Cq,labelDisplayedRows:h=Sq,labelRowsPerPage:p="Rows per page:",nextIconButtonProps:m,onPageChange:f,onRowsPerPageChange:g,page:x,rowsPerPage:v,rowsPerPageOptions:b=[10,25,50,100],SelectProps:y={},showFirstButton:w=!1,showLastButton:j=!1,slotProps:N={},slots:k={}}=a,S=ke(a,gq),C=a,_=(e=>{const{classes:t}=e;return ZP({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},mq,t)})(C),P=null!==(r=null===N||void 0===N?void 0:N.select)&&void 0!==r?r:y,A=P.native?"option":Nq;let D;l!==qO&&"td"!==l||(D=o||1e3);const T=PD(P.id),L=PD(P.labelId),E={slots:k,slotProps:N},[I,R]=jD("root",{ref:n,className:_.root,elementType:vq,externalForwardedProps:Ne(Ne({},E),{},{component:l},S),ownerState:C,additionalProps:{colSpan:D}}),[M,F]=jD("toolbar",{className:_.toolbar,elementType:bq,externalForwardedProps:E,ownerState:C}),[O,z]=jD("spacer",{className:_.spacer,elementType:yq,externalForwardedProps:E,ownerState:C}),[B,U]=jD("selectLabel",{className:_.selectLabel,elementType:wq,externalForwardedProps:E,ownerState:C,additionalProps:{id:L}}),[q,W]=jD("select",{className:_.select,elementType:jq,externalForwardedProps:E,ownerState:C}),[H,V]=jD("menuItem",{className:_.menuItem,elementType:A,externalForwardedProps:E,ownerState:C}),[G,K]=jD("displayedRows",{className:_.displayedRows,elementType:kq,externalForwardedProps:E,ownerState:C});return(0,Jn.jsx)(I,Ne(Ne({},R),{},{children:(0,Jn.jsxs)(M,Ne(Ne({},F),{},{children:[(0,Jn.jsx)(O,Ne({},z)),b.length>1&&(0,Jn.jsx)(B,Ne(Ne({},U),{},{children:p})),b.length>1&&(0,Jn.jsx)(q,Ne(Ne(Ne(Ne({variant:"standard"},!P.variant&&{input:xq||(xq=(0,Jn.jsx)(YM,{}))}),{},{value:v,onChange:g,id:T,labelId:L},P),{},{classes:Ne(Ne({},P.classes),{},{root:pk(_.input,_.selectRoot,(P.classes||{}).root),select:pk(_.select,(P.classes||{}).select),icon:pk(_.selectIcon,(P.classes||{}).icon)}),disabled:d},W),{},{children:b.map(e=>(0,t.createElement)(H,Ne(Ne({},V),{},{key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e))})),(0,Jn.jsx)(G,Ne(Ne({},K),{},{children:h({from:0===c?0:x*v+1,to:-1===c?(x+1)*v:-1===v?c:Math.min(c,(x+1)*v),count:-1===c?-1:c,page:x})})),(0,Jn.jsx)(s,{className:_.actions,backIconButtonProps:i,count:c,nextIconButtonProps:m,onPageChange:f,page:x,rowsPerPage:v,showFirstButton:w,showLastButton:j,slotProps:N.actions,slots:k.actions,getItemAriaLabel:u,disabled:d})]}))}))}),Pq=_q,Aq=CT((0,Jn.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Dq=CT((0,Jn.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Tq=CT([(0,Jn.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,Jn.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),Lq=CT((0,Jn.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),Eq=CT((0,Jn.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Iq=CT((0,Jn.jsx)("path",{d:"M10.83 8H21V6H8.83zm5 5H18v-2h-4.17zM14 16.83V18h-4v-2h3.17l-3-3H6v-2h2.17l-3-3H3V6h.17L1.39 4.22 2.8 2.81l18.38 18.38-1.41 1.41z"})),Rq=e=>{var n,r,a,s,i;let{currentUser:o}=e;const[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)([]),[h,p]=(0,t.useState)(!0),[m,f]=(0,t.useState)(null),[g,x]=(0,t.useState)(null),[v,b]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(""),[k,S]=(0,t.useState)({show:!1,type:"info",message:""}),[C,_]=(0,t.useState)(!1),[P,A]=(0,t.useState)(null),[D,T]=(0,t.useState)(!1),[L,E]=(0,t.useState)(!1),[I,R]=(0,t.useState)(!1),[M,F]=(0,t.useState)(""),[O,z]=(0,t.useState)("all"),[B,U]=(0,t.useState)(""),[q,W]=(0,t.useState)(""),[H,V]=(0,t.useState)(""),[G,K]=(0,t.useState)(0),[Y,$]=(0,t.useState)(10),[J,X]=(0,t.useState)(!1),Q=["all"!==O?O:null,q||null,H||null].filter(Boolean).length,[Z,ee]=(0,t.useState)({totalPayments:0,totalAmount:0,pendingPayments:0,overduePayments:0,paidPayments:0,pendingVerificationPayments:0,pendingAmount:0,overdueAmount:0,paidAmount:0,pendingVerificationAmount:0});(0,t.useEffect)(()=>{te()},[]),(0,t.useEffect)(()=>{ne()},[l,O,B,q,H]),(0,t.useEffect)(()=>{re()},[d]);const te=async()=>{try{var e;p(!0),f(null);const t=localStorage.getItem("token");if(!t)return f("Authentication token missing. Please login again."),void p(!1);console.log("\ud83d\udd0d Fetching all payments from /api/payments/all");const n=await Gn.get("/api/payments/all",{headers:{Authorization:"Bearer ".concat(t)}});console.log("\u2705 Payments response:",n.data),console.log("\ud83d\udcca Number of payments:",(null===(e=n.data.data)||void 0===e?void 0:e.length)||0);const r=n.data.data||[];c(r),0===r.length&&console.log("\u26a0\ufe0f No payment records found. This means you have no deliveries in the database."),f(null)}catch(m){var t,n,r;console.error("\u274c Error fetching payments:",m),console.error("Error details:",null===(t=m.response)||void 0===t?void 0:t.data);const a=(null===(n=m.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||m.message||"Failed to load payments";f(a)}finally{p(!1)}},ne=()=>{let e=[...l];if("all"!==O&&(e=e.filter(e=>e.status===O)),B.trim()){const t=B.toLowerCase();e=e.filter(e=>{var n,r,a,s,i;return(null===(n=e.deliveryId)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.clientName)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.clientId)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(s=e.metadata)||void 0===s||null===(i=s.truckPlate)||void 0===i?void 0:i.toLowerCase().includes(t))})}(q||H)&&(e=e.filter(e=>{const t=e.dueDate||e.createdAt||e.created_at||e.deliveryDate;if(!t)return!0;const n=new Date(t),r=q?new Date(q):null,a=H?new Date(H):null;return r&&r.setHours(0,0,0,0),a&&a.setHours(23,59,59,999),r&&a?n>=r&&n<=a:r?n>=r:!a||n<=a})),u(e),K(0)},re=()=>{const e={totalPayments:d.length,totalAmount:0,pendingPayments:0,overduePayments:0,paidPayments:0,pendingVerificationPayments:0,pendingAmount:0,overdueAmount:0,paidAmount:0,pendingVerificationAmount:0};d.forEach(t=>{e.totalAmount+=t.amount||0,"paid"===t.status?(e.paidPayments++,e.paidAmount+=t.amount||0):"overdue"===t.status?(e.overduePayments++,e.overdueAmount+=t.amount||0):"pending"===t.status?(e.pendingPayments++,e.pendingAmount+=t.amount||0):"pending_verification"===t.status&&(e.pendingVerificationPayments++,e.pendingVerificationAmount+=t.amount||0)}),ee(e)},ae=e=>"\u20b1".concat(new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)),se=e=>{if(!e)return"N/A";try{return HL(new Date(e),"MMM dd, yyyy")}catch(m){return"Invalid Date"}},ie=e=>{switch(e){case"paid":return"success";case"overdue":case"failed":return"error";case"pending":return"warning";default:return"default"}},oe=e=>{switch(e){case"paid":return(0,Jn.jsx)(Aq,{});case"overdue":case"failed":return(0,Jn.jsx)(Dq,{});case"pending":return(0,Jn.jsx)(Tq,{});default:return(0,Jn.jsx)(XU,{})}};return h&&0===l.length?(0,Jn.jsx)(XP,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,Jn.jsx)(VA,{})}):(0,Jn.jsxs)(XP,{children:[(0,Jn.jsx)(Fm,{currentUser:o}),(0,Jn.jsxs)(XP,{p:3,sx:{paddingTop:"24px"},children:[(0,Jn.jsx)(aD,{variant:"h4",component:"h1",mb:3,children:"Billing Management"}),k.show&&(0,Jn.jsx)(zT,{severity:k.type,onClose:()=>S({show:!1}),sx:{mb:3},children:k.message}),m&&(0,Jn.jsx)(zT,{severity:"error",sx:{mb:3},children:m}),(0,Jn.jsxs)("div",{className:"billing-stats-container",children:[(0,Jn.jsxs)("div",{className:"billing-stat-card",children:[(0,Jn.jsx)(aD,{color:"textSecondary",gutterBottom:!0,noWrap:!0,children:"Total Billings"}),(0,Jn.jsx)(aD,{variant:"h5",component:"h2",children:Z.totalPayments}),(0,Jn.jsx)(aD,{variant:"body2",color:"primary",noWrap:!0,children:ae(Z.totalAmount)})]}),(0,Jn.jsxs)("div",{className:"billing-stat-card",children:[(0,Jn.jsx)(aD,{color:"textSecondary",gutterBottom:!0,noWrap:!0,children:"Overdue Payments"}),(0,Jn.jsx)(aD,{variant:"h5",component:"h2",color:"error",children:Z.overduePayments}),(0,Jn.jsx)(aD,{variant:"body2",color:"error",noWrap:!0,children:ae(Z.overdueAmount)})]}),(0,Jn.jsxs)("div",{className:"billing-stat-card",children:[(0,Jn.jsx)(aD,{color:"textSecondary",gutterBottom:!0,noWrap:!0,children:"Pending Payments"}),(0,Jn.jsx)(aD,{variant:"h5",component:"h2",color:"warning.main",children:Z.pendingPayments}),(0,Jn.jsx)(aD,{variant:"body2",color:"warning.main",noWrap:!0,children:ae(Z.pendingAmount)})]}),(0,Jn.jsxs)("div",{className:"billing-stat-card",children:[(0,Jn.jsx)(aD,{color:"textSecondary",gutterBottom:!0,noWrap:!0,children:"Paid"}),(0,Jn.jsx)(aD,{variant:"h5",component:"h2",color:"success.main",children:Z.paidPayments}),(0,Jn.jsx)(aD,{variant:"body2",color:"success.main",noWrap:!0,children:ae(Z.paidAmount)})]})]}),(0,Jn.jsxs)(XP,{sx:{position:"relative",mb:3},children:[(0,Jn.jsxs)(XP,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap"},children:[(0,Jn.jsx)(JF,{placeholder:"Search by delivery ID, client, or truck...",value:B,onChange:e=>U(e.target.value),InputProps:{startAdornment:(0,Jn.jsx)(YU,{sx:{color:"action.active",mr:1}})},sx:{flex:"0 0 350px"},size:"small"}),(0,Jn.jsxs)(cO,{variant:J?"contained":"outlined",startIcon:(0,Jn.jsx)(Lq,{}),onClick:()=>X(!J),sx:{height:"40px",position:"relative",paddingRight:Q>0?"48px":"16px"},children:["Filters",Q>0&&(0,Jn.jsx)(XP,{component:"span",sx:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:J?"rgba(255,255,255,0.3)":"primary.main",color:J?"inherit":"white",borderRadius:"12px",padding:"2px 8px",fontSize:"0.75rem",fontWeight:"bold",minWidth:"20px",textAlign:"center"},children:Q})]})]}),(0,Jn.jsxs)(aD,{variant:"body2",color:"textSecondary",sx:{mt:1.5},children:["Showing ",d.length," of ",l.length]}),J&&(0,Jn.jsxs)(uD,{elevation:4,sx:{position:"absolute",top:"52px",left:0,zIndex:1e3,width:"480px",maxWidth:"90vw",p:2.5,borderRadius:2},children:[(0,Jn.jsxs)(XP,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,Jn.jsx)(aD,{variant:"h6",sx:{fontSize:"1.1rem"},children:"Filter Options"}),(0,Jn.jsx)(yT,{size:"small",onClick:()=>X(!1),children:(0,Jn.jsx)(Eq,{})})]}),(0,Jn.jsxs)(zE,{container:!0,spacing:2,sx:{mb:2},children:[(0,Jn.jsx)(zE,{item:!0,xs:6,children:(0,Jn.jsxs)(aI,{fullWidth:!0,size:"small",children:[(0,Jn.jsx)(vI,{children:"Status"}),(0,Jn.jsxs)(PF,{value:O,label:"Status",onChange:e=>z(e.target.value),children:[(0,Jn.jsx)(FF,{value:"all",children:"All Status"}),(0,Jn.jsx)(FF,{value:"pending",children:"Pending"}),(0,Jn.jsx)(FF,{value:"pending_verification",children:"Pending Verification"}),(0,Jn.jsx)(FF,{value:"overdue",children:"Overdue"}),(0,Jn.jsx)(FF,{value:"paid",children:"Paid"}),(0,Jn.jsx)(FF,{value:"failed",children:"Failed"})]})]})}),(0,Jn.jsx)(zE,{item:!0,xs:6,children:(0,Jn.jsx)(JF,{fullWidth:!0,size:"small",type:"date",label:"From Date",value:q,onChange:e=>W(e.target.value),InputLabelProps:{shrink:!0},inputProps:{max:H||void 0}})}),(0,Jn.jsx)(zE,{item:!0,xs:6,children:(0,Jn.jsx)(JF,{fullWidth:!0,size:"small",type:"date",label:"To Date",value:H,onChange:e=>V(e.target.value),InputLabelProps:{shrink:!0},inputProps:{min:q||void 0}})})]}),(0,Jn.jsxs)(XP,{display:"flex",justifyContent:"flex-end",gap:1,pt:2,sx:{borderTop:"1px solid #e0e0e0"},children:[(0,Jn.jsx)(cO,{variant:"text",startIcon:(0,Jn.jsx)(Iq,{}),onClick:()=>{U(""),z("all"),W(""),V("")},size:"small",children:"Reset"}),(0,Jn.jsx)(cO,{variant:"contained",onClick:()=>X(!1),size:"small",children:"Apply Filters"})]})]})]}),(0,Jn.jsx)(HE,{children:(0,Jn.jsxs)($E,{children:[(0,Jn.jsx)(mO,{component:uD,children:(0,Jn.jsxs)(wO,{children:[(0,Jn.jsx)(AO,{children:(0,Jn.jsxs)(MO,{sx:{backgroundColor:"#f5f5f5"},children:[(0,Jn.jsx)(qO,{children:"Delivery ID"}),(0,Jn.jsx)(qO,{children:"Client"}),(0,Jn.jsx)(qO,{children:"Amount"}),(0,Jn.jsx)(qO,{children:"Delivery Date"}),(0,Jn.jsx)(qO,{children:"Due Date"}),(0,Jn.jsx)(qO,{children:"Status"}),(0,Jn.jsx)(qO,{children:"Days Until Due"}),(0,Jn.jsx)(qO,{children:"Actions"})]})}),(0,Jn.jsx)($O,{children:0===d.length?(0,Jn.jsx)(MO,{children:(0,Jn.jsx)(qO,{colSpan:8,align:"center",children:(0,Jn.jsxs)(XP,{py:6,children:[(0,Jn.jsx)(XU,{sx:{fontSize:60,color:"text.disabled",mb:2}}),(0,Jn.jsx)(aD,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"No Billing Records Found"}),(0,Jn.jsx)(aD,{variant:"body2",color:"textSecondary",mb:2,children:0===l.length?"There are no deliveries in your system yet. Billing records are automatically created when clients book deliveries.":"No records match your current filters. Try adjusting the search or status filter."}),0===l.length&&(0,Jn.jsx)(aD,{variant:"body2",color:"primary",sx:{mt:2},children:"\ud83d\udca1 To create billing records: Navigate to Deliveries \u2192 Add Delivery"})]})})}):d.slice(G*Y,G*Y+Y).map(e=>{var t,n,r;const a=(s=e.dueDate)?QU(new Date(s),new Date):null;var s;return(0,Jn.jsxs)(MO,{hover:!0,children:[(0,Jn.jsxs)(qO,{children:[(0,Jn.jsx)(aD,{variant:"body2",fontWeight:"bold",children:e.deliveryId||"N/A"}),(0,Jn.jsxs)(aD,{variant:"caption",color:"textSecondary",children:["Truck: ",(null===(t=e.metadata)||void 0===t?void 0:t.truckPlate)||"N/A"]})]}),(0,Jn.jsxs)(qO,{children:[(0,Jn.jsx)(aD,{variant:"body2",fontWeight:"bold",children:e.clientName||(null===(n=e.metadata)||void 0===n?void 0:n.clientName)||"Unknown"}),(0,Jn.jsxs)(aD,{variant:"caption",color:"textSecondary",children:["ID: ",e.clientId||"N/A"]})]}),(0,Jn.jsx)(qO,{children:(0,Jn.jsx)(aD,{variant:"body1",fontWeight:"bold",children:ae(e.amount)})}),(0,Jn.jsx)(qO,{children:se(e.deliveryDate)}),(0,Jn.jsx)(qO,{children:se(e.dueDate)}),(0,Jn.jsx)(qO,{children:(0,Jn.jsx)(az,{icon:oe(e.status),label:(null===(r=e.status)||void 0===r?void 0:r.toUpperCase())||"UNKNOWN",color:ie(e.status),size:"small"})}),(0,Jn.jsx)(qO,{children:"pending"===e.status&&null!==a?(0,Jn.jsx)(aD,{variant:"body2",color:a<=5?"error":a<=10?"warning.main":"textSecondary",children:a>0?"".concat(a," days"):"".concat(Math.abs(a)," days overdue")}):"paid"===e.status?(0,Jn.jsx)(aD,{variant:"body2",color:"success.main",children:"Paid"}):"overdue"===e.status?(0,Jn.jsx)(aD,{variant:"body2",color:"error",children:"Overdue"}):(0,Jn.jsx)(aD,{variant:"body2",color:"textSecondary",children:"-"})}),(0,Jn.jsx)(qO,{children:(0,Jn.jsxs)(XP,{display:"flex",gap:1,flexWrap:"wrap",children:["pending_verification"===e.status&&(0,Jn.jsx)(cO,{variant:"outlined",color:"info",size:"small",onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await Gn.get("/api/payments/".concat(e.id,"/proof"),{headers:{Authorization:"Bearer ".concat(t)}});n.data.success&&(A(Ne(Ne({},n.data.data),{},{payment:e})),_(!0))}catch(m){var t,n;console.error("Error fetching proof:",m),S({show:!0,type:"error",message:(null===(t=m.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load payment proof"})}})(e),sx:{textTransform:"none",fontSize:"0.75rem"},children:"View Proof"}),"paid"!==e.status?(0,Jn.jsx)(cO,{variant:"contained",color:"success",size:"small",onClick:()=>(e=>{x(e),b(!0)})(e),sx:{textTransform:"none",fontSize:"0.75rem"},children:"Mark as Paid"}):(0,Jn.jsx)(aD,{variant:"body2",color:"success.main",children:"\u2713 Paid"})]})})]},e.id)})})]})}),(0,Jn.jsx)(Pq,{rowsPerPageOptions:[5,10,25,50],component:"div",count:d.length,rowsPerPage:Y,page:G,onPageChange:(e,t)=>{K(t)},onRowsPerPageChange:e=>{$(parseInt(e.target.value,10)),K(0)}})]})}),(0,Jn.jsxs)(TU,{open:v,onClose:()=>!y&&b(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Jn.jsx)(FU,{children:"Confirm Payment"}),(0,Jn.jsx)(qU,{children:g&&(0,Jn.jsxs)(XP,{children:[(0,Jn.jsxs)(aD,{variant:"body1",gutterBottom:!0,children:["Are you sure you want to mark this payment as"," ",(0,Jn.jsx)("strong",{children:"Paid"}),"?"]}),(0,Jn.jsxs)(XP,{sx:{mt:2,p:2,bgcolor:"#f5f5f5",borderRadius:1},children:[(0,Jn.jsxs)(aD,{variant:"body2",gutterBottom:!0,children:[(0,Jn.jsx)("strong",{children:"Delivery ID:"})," ",g.deliveryId]}),(0,Jn.jsxs)(aD,{variant:"body2",gutterBottom:!0,children:[(0,Jn.jsx)("strong",{children:"Client:"})," ",g.clientName||(null===(n=g.metadata)||void 0===n?void 0:n.clientName)||"Unknown"]}),(0,Jn.jsxs)(aD,{variant:"body2",gutterBottom:!0,children:[(0,Jn.jsx)("strong",{children:"Amount:"})," ",ae(g.amount)]})]}),(0,Jn.jsx)(zT,{severity:"info",sx:{mt:2},children:"This action will update the payment status to Paid."})]})}),(0,Jn.jsxs)(KU,{children:[(0,Jn.jsx)(cO,{onClick:()=>b(!1),disabled:y,children:"Cancel"}),(0,Jn.jsx)(cO,{onClick:async()=>{if(g)try{w(!0);const e=localStorage.getItem("token");(await Gn.put("/api/payments/".concat(g.id,"/status"),{status:"paid"},{headers:{Authorization:"Bearer ".concat(e)}})).data.success&&(S({show:!0,type:"success",message:"Payment status updated successfully"}),await te(),b(!1))}catch(m){var e,t;console.error("Error updating payment status:",m),S({show:!0,type:"error",message:(null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to update payment status"})}finally{w(!1)}},variant:"contained",color:"success",disabled:y,children:y?(0,Jn.jsx)(VA,{size:20}):"Confirm Payment"})]})]}),(0,Jn.jsxs)(TU,{open:C,onClose:()=>_(!1),maxWidth:"md",fullWidth:!0,children:[(0,Jn.jsxs)(FU,{children:["Payment Proof",(0,Jn.jsx)(yT,{onClick:()=>_(!1),sx:{position:"absolute",right:8,top:8},children:(0,Jn.jsx)(Eq,{})})]}),(0,Jn.jsx)(qU,{dividers:!0,children:P&&(0,Jn.jsxs)(XP,{children:[(0,Jn.jsxs)(uD,{sx:{p:2,mb:2,bgcolor:"#f5f5f5"},children:[(0,Jn.jsxs)(zE,{container:!0,spacing:2,children:[(0,Jn.jsxs)(zE,{item:!0,xs:12,sm:6,children:[(0,Jn.jsxs)(aD,{variant:"subtitle2",gutterBottom:!0,children:[(0,Jn.jsx)("strong",{children:"Client:"})," ",P.clientName||"N/A"]}),(0,Jn.jsxs)(aD,{variant:"subtitle2",gutterBottom:!0,children:[(0,Jn.jsx)("strong",{children:"Reference Number:"})," ",P.referenceNumber||"N/A"]}),(0,Jn.jsxs)(aD,{variant:"subtitle2",gutterBottom:!0,children:[(0,Jn.jsx)("strong",{children:"Uploaded At:"})," ",P.uploadedAt?se(P.uploadedAt):"N/A"]})]}),(0,Jn.jsxs)(zE,{item:!0,xs:12,sm:6,children:[(0,Jn.jsxs)(aD,{variant:"subtitle2",gutterBottom:!0,children:[(0,Jn.jsx)("strong",{children:"Total Amount:"})," ",ae(P.totalAmount||(null===(r=P.payment)||void 0===r?void 0:r.amount)||0)]}),(0,Jn.jsxs)(aD,{variant:"subtitle2",gutterBottom:!0,children:[(0,Jn.jsx)("strong",{children:"Status:"})," ",(0,Jn.jsx)(az,{label:"pending"===P.status?"Pending Verification":P.status,color:"approved"===P.status?"success":"rejected"===P.status?"error":"info",size:"small"})]}),(0,Jn.jsxs)(aD,{variant:"subtitle2",gutterBottom:!0,children:[(0,Jn.jsx)("strong",{children:"Deliveries Covered:"})," ",(null===(a=P.deliveryIds)||void 0===a?void 0:a.length)||1]})]})]}),P.notes&&(0,Jn.jsxs)(aD,{variant:"subtitle2",sx:{mt:1},children:[(0,Jn.jsx)("strong",{children:"Notes:"})," ",P.notes]})]}),P.deliveries&&P.deliveries.length>0&&(0,Jn.jsxs)(uD,{sx:{p:2,mb:2,bgcolor:"#fff"},children:[(0,Jn.jsx)(aD,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Deliveries Covered by This Proof:"}),(0,Jn.jsxs)(wO,{size:"small",children:[(0,Jn.jsx)(AO,{children:(0,Jn.jsxs)(MO,{children:[(0,Jn.jsx)(qO,{children:"Delivery ID"}),(0,Jn.jsx)(qO,{children:"Truck"}),(0,Jn.jsx)(qO,{align:"right",children:"Amount"})]})}),(0,Jn.jsx)($O,{children:P.deliveries.map(e=>{var t;return(0,Jn.jsxs)(MO,{children:[(0,Jn.jsxs)(qO,{children:[null===(t=e.id)||void 0===t?void 0:t.substring(0,8),"..."]}),(0,Jn.jsx)(qO,{children:e.truckPlate||"N/A"}),(0,Jn.jsx)(qO,{align:"right",children:ae(e.amount||0)})]},e.id)})})]})]}),(0,Jn.jsx)(aD,{variant:"subtitle2",sx:{mb:1,fontWeight:"bold"},children:"Uploaded Proof:"}),(0,Jn.jsx)(XP,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:300,border:"1px solid #ddd",borderRadius:1,p:2,bgcolor:"white"},children:"application/pdf"===P.proofFileType||null!==(s=P.proofFileName)&&void 0!==s&&s.endsWith(".pdf")?(0,Jn.jsxs)(XP,{textAlign:"center",children:[(0,Jn.jsx)(aD,{variant:"body2",color:"textSecondary",mb:2,children:"PDF Document"}),(0,Jn.jsx)(cO,{variant:"contained",href:"/api/payments/proof-file/".concat(P.id),target:"_blank",rel:"noopener noreferrer",children:"Open PDF"})]}):P.id?(0,Jn.jsx)("img",{src:"/api/payments/proof-file/".concat(P.id),alt:"Payment Proof",style:{maxWidth:"100%",maxHeight:"500px",objectFit:"contain"},onError:e=>{e.target.onerror=null,e.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%23999'%3EImage not found%3C/text%3E%3C/svg%3E"}}):(0,Jn.jsx)(aD,{color:"textSecondary",children:"No proof file available"})})]})}),(0,Jn.jsxs)(KU,{sx:{p:2,gap:1},children:[(0,Jn.jsx)(cO,{onClick:()=>_(!1),color:"inherit",disabled:D||L,children:"Close"}),"pending"===(null===P||void 0===P?void 0:P.status)&&(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsx)(cO,{onClick:()=>{R(!0),F("")},variant:"outlined",color:"error",disabled:D||L,children:"Reject"}),(0,Jn.jsx)(cO,{onClick:async()=>{if(null!==P&&void 0!==P&&P.id)try{T(!0);const e=localStorage.getItem("token"),t=await Gn.post("/api/payments/approve-proof",{proofId:P.id},{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&(S({show:!0,type:"success",message:"Payment approved! ".concat(t.data.data.deliveriesUpdated," delivery(s) marked as paid.")}),_(!1),A(null),await te())}catch(m){var e,t;console.error("Error approving proof:",m),S({show:!0,type:"error",message:(null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to approve payment proof"})}finally{T(!1)}},variant:"contained",color:"success",disabled:D||L,startIcon:D?(0,Jn.jsx)(VA,{size:16,color:"inherit"}):null,children:D?"Approving...":"Approve All (".concat((null===(i=P.deliveryIds)||void 0===i?void 0:i.length)||1," Deliveries)")})]})]})]}),(0,Jn.jsxs)(TU,{open:I,onClose:()=>!L&&R(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Jn.jsx)(FU,{children:"Reject Payment Proof"}),(0,Jn.jsxs)(qU,{children:[(0,Jn.jsx)(aD,{variant:"body1",gutterBottom:!0,sx:{mb:2},children:"Please provide a reason for rejecting this payment proof. The client will be able to see this reason and submit a new proof."}),(0,Jn.jsx)(JF,{fullWidth:!0,multiline:!0,rows:3,label:"Rejection Reason",value:M,onChange:e=>F(e.target.value),placeholder:"e.g., Reference number does not match, Amount is incorrect, Image is unclear...",disabled:L})]}),(0,Jn.jsxs)(KU,{children:[(0,Jn.jsx)(cO,{onClick:()=>R(!1),disabled:L,children:"Cancel"}),(0,Jn.jsx)(cO,{onClick:async()=>{if(null!==P&&void 0!==P&&P.id&&M.trim())try{E(!0);const e=localStorage.getItem("token");(await Gn.post("/api/payments/reject-proof",{proofId:P.id,rejectionReason:M.trim()},{headers:{Authorization:"Bearer ".concat(e)}})).data.success&&(S({show:!0,type:"info",message:"Payment proof rejected. Client can now submit a new proof."}),R(!1),F(""),_(!1),A(null),await te())}catch(m){var e,t;console.error("Error rejecting proof:",m),S({show:!0,type:"error",message:(null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to reject payment proof"})}finally{E(!1)}else S({show:!0,type:"error",message:"Please provide a reason for rejection"})},variant:"contained",color:"error",disabled:L||!M.trim(),startIcon:L?(0,Jn.jsx)(VA,{size:16,color:"inherit"}):null,children:L?"Rejecting...":"Confirm Rejection"})]})]})]})]})};const Mq=function(){return(0,Jn.jsx)(Qn,{children:(0,Jn.jsx)(la,{children:(0,Jn.jsx)(ha,{children:(0,Jn.jsx)(fa,{children:(0,Jn.jsx)(xa,{children:(0,Jn.jsxs)(he,{children:[(0,Jn.jsx)(ia,{}),(0,Jn.jsxs)(oe,{children:[(0,Jn.jsx)(te,{path:"/login",component:Ts}),(0,Jn.jsx)(te,{path:"/logout",component:Ls}),(0,Jn.jsx)(te,{path:"/home",component:Es}),(0,Jn.jsx)(te,{exact:!0,path:"/",render:()=>(0,Jn.jsx)(X,{to:"/home"})}),(0,Jn.jsx)(te,{exact:!0,path:"/staff/reports",component:zs}),(0,Jn.jsx)(ra,{path:"/staff/vehicle-rates",component:Bs,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/dashboard",component:Om,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/trucks/trucklist",component:XL,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/trucks",exact:!0,component:XL,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/trucks/add",component:QL,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/trucks/edit/:id",component:QL,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/drivers/driverslist",component:tE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/drivers",exact:!0,component:tE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/drivers/add",component:ZL,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/drivers/edit/:id",component:ZL,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/deliveries/deliverylist",component:nE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/deliveries",exact:!0,component:nE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/deliveries/add",component:rE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/deliveries/:id/view",component:sE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/deliveries/edit/:id",component:rE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/clients/clientlist",component:iE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/clients",exact:!0,component:iE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/clients/add",component:oE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/clients/edit/:id",component:oE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/clients/:id/trucks",component:lE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/staffs/stafflist",component:cE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/staffs",exact:!0,component:cE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/staffs/add",component:dE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/staffs/edit/:id",component:dE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/helpers/helperslist",component:uE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/helpers",exact:!0,component:uE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/helpers/add",component:hE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/helpers/edit/:id",component:hE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/operators/operatorlist",component:pE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/operators",exact:!0,component:pE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/operators/add",component:mE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/operators/edit/:id",component:mE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/audit-test",component:fE,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/payments",exact:!0,component:tq,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/admin/billings",exact:!0,component:Rq,showSidebar:!1}),(0,Jn.jsx)(ra,{path:"/client/profile",children:(0,Jn.jsx)(Ds,{children:(0,Jn.jsx)(Qm,{})})}),(0,Jn.jsx)(ra,{path:"/client/delivery-tracker",children:(0,Jn.jsx)(Ds,{children:(0,Jn.jsx)(uk,{})})}),(0,Jn.jsx)(ra,{path:"/client/deliveries/:id",children:(0,Jn.jsx)(Ds,{children:(0,Jn.jsx)(WT,{})})}),(0,Jn.jsx)(ra,{path:"/client/deliveries",exact:!0,children:(0,Jn.jsx)(Ds,{children:(0,Jn.jsx)(HT,{})})}),(0,Jn.jsx)(ra,{path:"/client/locations",children:(0,Jn.jsx)(Ds,{children:(0,Jn.jsx)(KL,{})})}),(0,Jn.jsx)(ra,{path:"/client/book-truck",children:(0,Jn.jsx)(Ds,{children:(0,Jn.jsx)($L,{})})}),(0,Jn.jsx)(ra,{path:"/client/landing",children:(0,Jn.jsx)(X,{to:"/client/profile"})}),(0,Jn.jsx)(ra,{path:"/client/dashboard",exact:!0,children:(0,Jn.jsx)(X,{to:"/client/profile"})}),(0,Jn.jsx)(ra,{path:"/staff/dashboard",component:zm}),(0,Jn.jsx)(ra,{path:"/driver/dashboard",component:Zm}),(0,Jn.jsx)(ra,{path:"/helper/dashboard",component:ef}),(0,Jn.jsx)(ra,{path:"/operator/dashboard",component:tf}),(0,Jn.jsx)(ra,{path:"/client/payment-management",children:(0,Jn.jsx)(Ds,{children:(0,Jn.jsx)(GL,{})})}),(0,Jn.jsx)(ra,{path:"/admin/payments/payments-dashboard",component:eq}),(0,Jn.jsx)(te,{path:"/upload-test",component:Ms}),(0,Jn.jsx)(te,{path:"/enhanced-upload-test",component:Fs}),(0,Jn.jsx)(te,{component:Is})]})]})})})})})})},Fq=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,2488)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:s,getTTFB:i}=t;n(e),r(e),a(e),s(e),i(e)})};a.render((0,Jn.jsx)(t.StrictMode,{children:(0,Jn.jsx)(sa,{children:(0,Jn.jsx)(ta,{children:(0,Jn.jsx)(Mq,{})})})}),document.getElementById("root")),Fq()})()})();
//# sourceMappingURL=main.33bfe9ac.js.map